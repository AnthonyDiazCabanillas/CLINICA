‹E
MD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\VariablesGlobales.cs
	namespace 	
Dat
 
. 
Sql 
{ 
public 

static 
class 
VariablesGlobales )
{ 
public 
static 
string 

CnnClinica '
=( )
$str* ,
;, -
public 
static 
string 
CnnLogistica )
=* +
$str, .
;. /
public"" 
static"" 
string"" 
CnnSeguridad"" )
=""* +
$str"", .
;"". /
public)) 
static)) 
string)) 
CnnRisClinica)) *
=))+ ,
$str))- /
;))/ 0
public00 
static00 
string00 
CnnCitasSanFelipe00 .
=00/ 0
$str001 3
;003 4
public77 
static77 
int77 

IdeClinica77 $
=77% &
$num77' (
;77( )
public88 
static88 
ClinicaE88 
ClinicaE88 '
=88( )
new88* -
ClinicaE88. 6
(886 7
)887 8
;888 9
private== 
static== 
List== 
<== 
ClinicaE== $
>==$ %

lstClinica==& 0
===1 2
new==3 6
List==7 ;
<==; <
ClinicaE==< D
>==D E
(==E F
)==F G
;==G H
private>> 
static>> 
void>>  
Clinica_ObtieneSedes>> 0
(>>0 1
)>>1 2
{?? 	

lstClinica@@ 
=@@ 
new@@ 
SedeAD@@ #
(@@# $
)@@$ %
.@@% &
Sp_Clinica_Consulta@@& 9
(@@9 :
new@@: =
ClinicaE@@> F
(@@F G
)@@G H
)@@H I
;@@I J
}AA 	
publicCC 
staticCC 
voidCC 
Clinica_AsignaSedeCC -
(CC- .
)CC. /
{DD 	
ifEE 
(EE 

lstClinicaEE 
.EE 
CountEE  
==EE! #
$numEE$ %
)EE% & 
Clinica_ObtieneSedesEE' ;
(EE; <
)EE< =
;EE= >
DatFF 
.FF 
SqlFF 
.FF 
VariablesGlobalesFF %
.FF% &
ClinicaEFF& .
=FF/ 0

lstClinicaFF1 ;
.FF; <
FirstOrDefaultFF< J
(FFJ K
xFFK L
=>FFM O
xFFP Q
.FFQ R
	IDClinicaFFR [
==FF\ ^

IdeClinicaFF_ i
)FFi j
;FFj k
}GG 	
publicSS 
staticSS 
SqlParameterSS "
ParametroSqlSS# /
(SS/ 0
stringSS0 6
pNombreParametroSS7 G
,SSG H
ParameterDirectionSSI [

pDireccionSS\ f
,SSf g
	SqlDbTypeSSh q

pSqlDBTypeSSr |
,SS| }
int	SS~ Å
pSize
SSÇ á
,
SSá à
object
SSâ è
pValor
SSê ñ
)
SSñ ó
{TT 	
varVV 
_SqlParameterVV 
=VV 
newVV  #
SqlParameterVV$ 0
(VV0 1
pNombreParametroVV1 A
,VVA B

pSqlDBTypeVVC M
,VVM N
pSizeVVO T
)VVT U
;VVU V
_SqlParameterWW 
.WW 
ValueWW 
=WW  !
pValorWW" (
;WW( )
_SqlParameterXX 
.XX 
	DirectionXX #
=XX$ %

pDireccionXX& 0
;XX0 1
returnYY 
_SqlParameterYY  
;YY  !
}ZZ 	
public\\ 
static\\ 
bool\\ 
ExecuteQueryString\\ -
(\\- .
string\\. 4
pQueryString\\5 A
)\\A B
{]] 	
int^^ 
exito^^ 
=^^ 
$num^^ 
;^^ 
bool__ 
xResult__ 
=__ 
false__  
;__  !
try`` 
{aa 
usingbb 
(bb 
SqlConnectionbb $
cnnbb% (
=bb) *
newbb+ .
SqlConnectionbb/ <
(bb< =

CnnClinicabb= G
)bbG H
)bbH I
{cc 
usingdd 
(dd 

SqlCommanddd %
cmddd& )
=dd* +
newdd, /

SqlCommanddd0 :
(dd: ;
pQueryStringdd; G
,ddG H
cnnddI L
)ddL M
)ddM N
{ee 
cmdff 
.ff 
CommandTypeff '
=ff( )
CommandTypeff* 5
.ff5 6
Textff6 :
;ff: ;
cnngg 
.gg 
Opengg  
(gg  !
)gg! "
;gg" #
exitohh 
=hh 
cmdhh  #
.hh# $
ExecuteNonQueryhh$ 3
(hh3 4
)hh4 5
;hh5 6
xResultii 
=ii  !
(ii" #
exitoii# (
>=ii) +
$numii, -
?ii. /
trueii0 4
:ii5 6
falseii7 <
)ii< =
;ii= >
cmdjj 
.jj 
Disposejj #
(jj# $
)jj$ %
;jj% &
cnnkk 
.kk 
Closekk !
(kk! "
)kk" #
;kk# $
cnnll 
.ll 
Closell !
(ll! "
)ll" #
;ll# $
}mm 
}nn 
returnpp 
xResultpp 
;pp 
}qq 
catchrr 
(rr 
	Exceptionrr 
exrr 
)rr  
{ss 
throwtt 
newtt 
	Exceptiontt #
(tt# $
extt$ &
.tt& '
Messagett' .
)tt. /
;tt/ 0
}uu 
}vv 	
publicxx 
staticxx 
	DataTablexx  
ExecuteQueryStringDTxx  4
(xx4 5
stringxx5 ;
pQueryStringxx< H
)xxH I
{yy 	
	DataTablezz 
dtzz 
=zz 
newzz 
	DataTablezz (
(zz( )
)zz) *
;zz* +
try{{ 
{|| 
using}} 
(}} 
SqlConnection}} $
cnn}}% (
=}}) *
new}}+ .
SqlConnection}}/ <
(}}< =

CnnClinica}}= G
)}}G H
)}}H I
{~~ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
pQueryString; G
,G H
cnnI L
)L M
)M N
{
ÄÄ 
cmd
ÅÅ 
.
ÅÅ 
CommandType
ÅÅ '
=
ÅÅ( )
CommandType
ÅÅ* 5
.
ÅÅ5 6
Text
ÅÅ6 :
;
ÅÅ: ;
cnn
ÇÇ 
.
ÇÇ 
Open
ÇÇ  
(
ÇÇ  !
)
ÇÇ! "
;
ÇÇ" #
SqlDataAdapter
ÉÉ &
ad
ÉÉ' )
=
ÉÉ* +
new
ÉÉ, /
SqlDataAdapter
ÉÉ0 >
(
ÉÉ> ?
cmd
ÉÉ? B
)
ÉÉB C
;
ÉÉC D
ad
ÑÑ 
.
ÑÑ 
Fill
ÑÑ 
(
ÑÑ  
dt
ÑÑ  "
)
ÑÑ" #
;
ÑÑ# $
ad
ÜÜ 
.
ÜÜ 
Dispose
ÜÜ "
(
ÜÜ" #
)
ÜÜ# $
;
ÜÜ$ %
cmd
áá 
.
áá 
Dispose
áá #
(
áá# $
)
áá$ %
;
áá% &
cnn
àà 
.
àà 
Close
àà !
(
àà! "
)
àà" #
;
àà# $
cnn
ââ 
.
ââ 
Close
ââ !
(
ââ! "
)
ââ" #
;
ââ# $
}
ää 
}
ãã 
return
åå 
dt
åå 
;
åå 
}
çç 
catch
éé 
(
éé 
	Exception
éé 
ex
éé 
)
éé  
{
èè 
throw
êê 
new
êê 
	Exception
êê #
(
êê# $
ex
êê$ &
.
êê& '
Message
êê' .
)
êê. /
;
êê/ 0
}
ëë 
}
íí 	
public
ìì 
enum
ìì "
ListTipoPagoOrdenBot
ìì (
{
îî 	
Reserva
ïï 
=
ïï 
$num
ïï 
,
ïï 
Farmacia
ññ 
=
ññ 
$num
ññ 
,
ññ 
ReprogramarCitas
óó 
=
óó 
$num
óó  
,
óó  !"
MantenimientoMedicos
òò  
=
òò! "
$num
òò# $
,
òò$ %%
PantallaCitasReservadas
ôô #
=
ôô$ %
$num
ôô& '
,
ôô' ("
RecuperarContrasenia
öö  
=
öö! "
$num
öö# $
,
öö$ %&
PreAdmision_EnviarCorreo
õõ $
=
õõ% &
$num
õõ' )
,
õõ) *,
PreAdmision_SeguimientoDigital
úú *
=
úú+ ,
$num
úú- /
}
ùù 	
}
üü 
}†† ◊`
FD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\Utilitario.cs
	namespace 	
Dat
 
. 
Sql 
{ 
public 

class 

Utilitario 
{ 
public 
string 
Rigth 
( 
string "
Cadena# )
,) *
int+ .
NroCaracteres/ <
)< =
{ 	
string 
result 
= 
Cadena "
." #
	Substring# ,
(, -
Cadena- 3
.3 4
Length4 :
-; <
NroCaracteres= J
,J K
NroCaracteresL Y
)Y Z
;Z [
return 
result 
; 
} 	
public 
string 
Left 
( 
string !
Cadena" (
,( )
int* -
NroCaracteres. ;
); <
{ 	
string   
result   
=   
$str   
;   
NroCaracteres!! 
=!! 
Cadena!! "
.!!" #
Length!!# )
<=!!* ,
NroCaracteres!!- :
?!!; <
Cadena!!= C
.!!C D
Length!!D J
:!!K L
NroCaracteres!!M Z
;!!Z [
result"" 
="" 
Cadena"" 
!="" 
$str"" !
?""" #
Cadena""$ *
.""* +
	Substring""+ 4
(""4 5
$num""5 6
,""6 7
NroCaracteres""8 E
)""E F
:""G H
$str""I K
;""K L
return$$ 
result$$ 
;$$ 
}%% 	
public'' 
decimal'' 

ValDecimal'' !
(''! "
string''" (
decValor'') 1
)''1 2
{(( 	
decimal)) 
d)) 
;)) 
if** 
(** 
decimal** 
.** 
TryParse**  
(**  !
decValor**! )
,**) *
out**+ .
d**/ 0
)**0 1
)**1 2
{++ 
}-- 
else.. 
{// 
d11 
=11 
$num11 
;11 
}22 
return33 
d33 
;33 
}44 	
public66 
DateTime66 
ValFecha66  
(66  !
string66! '
fecha66( -
)66- .
{77 	
DateTime88 
fRetorno88 
=88 
new88  #
DateTime88$ ,
(88, -
$num88- 1
,881 2
$num883 5
,885 6
$num887 9
)889 :
;88: ;
if99 
(99 
fecha99 
!=99 
$str99 
&&99 
!99  
fecha99  %
.99% &
	Substring99& /
(99/ 0
$num990 1
,991 2
$num993 5
)995 6
.996 7

StartsWith997 A
(99A B
$str99B N
)99N O
&&99P R
!99S T
fecha99T Y
.99Y Z
	Substring99Z c
(99c d
$num99d e
,99e f
$num99g i
)99i j
.99j k

StartsWith99k u
(99u v
$str	99v Å
)
99Å Ç
)
99Ç É
{:: 
fRetorno;; 
=;; 
DateTime;; #
.;;# $
Parse;;$ )
(;;) *
fecha;;* /
);;/ 0
;;;0 1
}<< 
return== 
fRetorno== 
;== 
}>> 	
public@@ 
DateTime@@ 
ValFechaNull@@ $
(@@$ %
DateTime@@% -
fecha@@. 3
)@@3 4
{AA 	
DateTimeBB 
fRetornoBB 
=BB 
newBB  #
DateTimeBB$ ,
(BB, -
$numBB- 1
,BB1 2
$numBB3 5
,BB5 6
$numBB7 9
)BB9 :
;BB: ;
returnJJ 
fRetornoJJ 
;JJ 
}KK 	
publicPP 
intPP 
ValIntPP 
(PP 
stringPP  
decValorPP! )
)PP) *
{QQ 	
intRR 
dRR 
;RR 
ifSS 
(SS 
intSS 
.SS 
TryParseSS 
(SS 
decValorSS %
,SS% &
outSS' *
dSS+ ,
)SS, -
)SS- .
{TT 
}VV 
elseWW 
{XX 
dZZ 
=ZZ 
$numZZ 
;ZZ 
}[[ 
return\\ 
d\\ 
;\\ 
}]] 	
public__ 
string__ 
	Substring__ 
(__  
string__  &
source__' -
,__- .
int__/ 2

startIndex__3 =
,__= >
int__? B
	maxLength__C L
)__L M
{`` 	
returnaa 
sourceaa 
.aa 
	Substringaa #
(aa# $

startIndexaa$ .
,aa. /
Mathaa0 4
.aa4 5
Minaa5 8
(aa8 9
sourceaa9 ?
.aa? @
Lengthaa@ F
-aaG H

startIndexaaI S
,aaS T
	maxLengthaaU ^
)aa^ _
)aa_ `
;aa` a
}bb 	
publicdd 
stringdd 
Middd 
(dd 
stringdd  
sourcedd! '
,dd' (
intdd) ,

startIndexdd- 7
)dd7 8
{ee 	

startIndexff 
--ff 
;ff 
returngg 
	Substringgg 
(gg 
sourcegg #
,gg# $

startIndexgg% /
,gg/ 0
sourcegg1 7
.gg7 8
Lengthgg8 >
)gg> ?
;gg? @
}hh 	
publicjj 
stringjj 
Midjj 
(jj 
stringjj  
sourcejj! '
,jj' (
intjj) ,

startIndexjj- 7
,jj7 8
intjj9 <
	endtIndexjj= F
)jjF G
{kk 	

startIndexll 
--ll 
;ll 
	endtIndexmm 
--mm 
;mm 
returnnn 
	Substringnn 
(nn 
sourcenn #
,nn# $

startIndexnn% /
,nn/ 0
	endtIndexnn1 :
)nn: ;
;nn; <
}oo 	
publicrr 
stringrr 
SerializetoXMLrr $
(rr$ %
Objectrr% +
objrr, /
)rr/ 0
{ss 	
StringWritertt 
writertt 
=tt  !
newtt" %
StringWritertt& 2
(tt2 3
CultureInfott3 >
.tt> ?
InvariantCulturett? O
)ttO P
;ttP Q
XmlSerializeruu 

serializeruu $
=uu% &
newuu' *
XmlSerializeruu+ 8
(uu8 9
objuu9 <
.uu< =
GetTypeuu= D
(uuD E
)uuE F
)uuF G
;uuG H

serializervv 
.vv 
	Serializevv  
(vv  !
writervv! '
,vv' (
objvv) ,
)vv, -
;vv- .
returnww 
writerww 
.ww 
ToStringww "
(ww" #
)ww# $
;ww$ %
}xx 	
public{{ 
T{{ 
DeserializeXML{{ 
<{{  
T{{  !
>{{! "
({{" #
string{{# )
xml{{* -
){{- .
{|| 	
if}} 
(}} 
string}} 
.}} 
IsNullOrEmpty}} $
(}}$ %
xml}}% (
)}}( )
)}}) *
{~~ 
return 
default 
( 
T  
)  !
;! "
}
ÄÄ 
XmlSerializer
ÇÇ 

serializer
ÇÇ $
=
ÇÇ% &
new
ÇÇ' *
XmlSerializer
ÇÇ+ 8
(
ÇÇ8 9
typeof
ÇÇ9 ?
(
ÇÇ? @
T
ÇÇ@ A
)
ÇÇA B
)
ÇÇB C
;
ÇÇC D
XmlReaderSettings
ÉÉ 
settings
ÉÉ &
=
ÉÉ' (
new
ÉÉ) ,
XmlReaderSettings
ÉÉ- >
(
ÉÉ> ?
)
ÉÉ? @
;
ÉÉ@ A
using
ÖÖ 
(
ÖÖ 
StringReader
ÖÖ 

textReader
ÖÖ  *
=
ÖÖ+ ,
new
ÖÖ- 0
StringReader
ÖÖ1 =
(
ÖÖ= >
xml
ÖÖ> A
)
ÖÖA B
)
ÖÖB C
{
ÜÜ 
using
áá 
(
áá 
	XmlReader
áá  
	xmlReader
áá! *
=
áá+ ,
	XmlReader
áá- 6
.
áá6 7
Create
áá7 =
(
áá= >

textReader
áá> H
,
ááH I
settings
ááJ R
)
ááR S
)
ááS T
{
àà 
return
ââ 
(
ââ 
T
ââ 
)
ââ 

serializer
ââ (
.
ââ( )
Deserialize
ââ) 4
(
ââ4 5
	xmlReader
ââ5 >
)
ââ> ?
;
ââ? @
}
ää 
}
ãã 
}
åå 	
public
èè 
Ent
èè 
.
èè 
Sql
èè 
.
èè 
UtilitarioE
èè "
.
èè" #

ListaValor
èè# -,
Sp_EncriptarDesencriptar_Valor
èè. L
(
èèL M
UtilitarioE
èèM X
pUtilitario
èèY d
)
èèd e
{
êê 	
IDataReader
ëë 
dr
ëë 
;
ëë 
Ent
íí 
.
íí 
Sql
íí 
.
íí 
UtilitarioE
íí 
.
íí  

ListaValor
íí  *
oUtilitarioE
íí+ 7
=
íí8 9
new
íí: =
Ent
íí> A
.
ííA B
Sql
ííB E
.
ííE F
UtilitarioE
ííF Q
.
ííQ R

ListaValor
ííR \
(
íí\ ]
)
íí] ^
;
íí^ _
try
ìì 
{
îî 
using
ïï 
(
ïï 
SqlConnection
ïï $
cnn
ïï% (
=
ïï) *
new
ïï+ .
SqlConnection
ïï/ <
(
ïï< =
VariablesGlobales
ïï= N
.
ïïN O

CnnClinica
ïïO Y
)
ïïY Z
)
ïïZ [
{
ññ 
using
óó 
(
óó 

SqlCommand
óó %
cmd
óó& )
=
óó* +
new
óó, /

SqlCommand
óó0 :
(
óó: ;
$str
óó; [
,
óó[ \
cnn
óó] `
)
óó` a
)
óóa b
{
òò 
cmd
ôô 
.
ôô 
CommandType
ôô '
=
ôô( )
CommandType
ôô* 5
.
ôô5 6
StoredProcedure
ôô6 E
;
ôôE F
cmd
õõ 
.
õõ 

Parameters
õõ &
.
õõ& '
AddWithValue
õõ' 3
(
õõ3 4
$str
õõ4 <
,
õõ< =
pUtilitario
õõ> I
.
õõI J
valor
õõJ O
)
õõO P
;
õõP Q
cmd
úú 
.
úú 

Parameters
úú &
.
úú& '
AddWithValue
úú' 3
(
úú3 4
$str
úú4 <
,
úú< =
pUtilitario
úú> I
.
úúI J
orden
úúJ O
)
úúO P
;
úúP Q
cnn
ùù 
.
ùù 
Open
ùù  
(
ùù  !
)
ùù! "
;
ùù" #
dr
ûû 
=
ûû 
cmd
ûû  
.
ûû  !
ExecuteReader
ûû! .
(
ûû. /
)
ûû/ 0
;
ûû0 1
while
üü 
(
üü 
dr
üü !
.
üü! "
Read
üü" &
(
üü& '
)
üü' (
)
üü( )
{
†† 
oUtilitarioE
¢¢ (
.
¢¢( )
valor
¢¢) .
=
¢¢/ 0
(
¢¢1 2
string
¢¢2 8
)
¢¢8 9
dr
¢¢9 ;
[
¢¢; <
$str
¢¢< C
]
¢¢C D
;
¢¢D E
}
££ 
dr
§§ 
.
§§ 
Close
§§  
(
§§  !
)
§§! "
;
§§" #
cnn
•• 
.
•• 
Close
•• !
(
••! "
)
••" #
;
••# $
return
ßß 
oUtilitarioE
ßß +
;
ßß+ ,
}
®® 
}
©© 
}
™™ 
catch
´´ 
(
´´ 
	Exception
´´ 
ex
´´ 
)
´´  
{
¨¨ 
throw
≠≠ 
new
≠≠ 
	Exception
≠≠ #
(
≠≠# $
ex
≠≠$ &
.
≠≠& '
Message
≠≠' .
)
≠≠. /
;
≠≠/ 0
}
ÆÆ 
}
ØØ 	
}
¥¥ 
}µµ êR
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\SeguridadAD\SeguridadAD\UsuarioCitaAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
SeguridadAD 
. 
SeguridadAD )
{ 
public 

class 
UsuarioCitaAD 
{ 
private 
UsuarioCitaE 
LlenarEntidad *
(* +
IDataReader+ 6
dr7 9
,9 :
UsuarioCitaE' 3
	pUsuarioE4 =
)= >
{ 	
UsuarioCitaE 
	oUsuarioE "
=# $
new% (
UsuarioCitaE) 5
(5 6
)6 7
;7 8
switch 
( 
	pUsuarioE 
. 
Orden #
)# $
{ 
case 
$num 
: 
case 
$num 
: 
	pUsuarioE 
. 
	IdUsuario '
=( )
Convert* 1
.1 2
ToString2 :
(: ;
dr; =
[= >
$str> K
]K L
)L M
;M N
	pUsuarioE 
. 
CodigoUsuario +
=, -
Convert. 5
.5 6
ToString6 >
(> ?
dr? A
[A B
$strB R
]R S
)S T
;T U
	pUsuarioE 
. 
Password &
=' (
Convert) 0
.0 1
ToString1 9
(9 :
dr: <
[< =
$str= G
]G H
)H I
;I J
	pUsuarioE 
. 
Rol !
=" #
Convert$ +
.+ ,
ToString, 4
(4 5
dr5 7
[7 8
$str8 =
]= >
)> ?
;? @
break 
; 
} 
return 
	pUsuarioE 
; 
} 	
public   
UsuarioCitaE   #
Sp_UsuarioCita_Consulta   3
(  3 4
UsuarioCitaE  4 @
	pUsuarioE  A J
)  J K
{!! 	
List"" 
<"" 
UsuarioCitaE"" 
>"" 
oListar"" &
=""' (
new"") ,
List""- 1
<""1 2
UsuarioCitaE""2 >
>""> ?
(""? @
)""@ A
;""A B
UsuarioCitaE## 
	oUsuarioE## "
=### $
null##% )
;##) *
using$$ 
($$ 
SqlConnection$$  
cnn$$! $
=$$% &
new$$' *
SqlConnection$$+ 8
($$8 9
VariablesGlobales$$9 J
.$$J K

CnnClinica$$K U
)$$U V
)$$V W
{%% 
using&& 
(&& 

SqlCommand&& !
cmd&&" %
=&&& '
new&&( +

SqlCommand&&, 6
(&&6 7
$str&&7 P
,&&P Q
cnn&&R U
)&&U V
)&&V W
{'' 
cmd(( 
.(( 
CommandType(( #
=(($ %
System((& ,
.((, -
Data((- 1
.((1 2
CommandType((2 =
.((= >
StoredProcedure((> M
;((M N
cmd** 
.** 

Parameters** "
.**" #
AddWithValue**# /
(**/ 0
$str**0 >
,**> ?
	pUsuarioE**@ I
.**I J
	IdUsuario**J S
)**S T
;**T U
cmd++ 
.++ 

Parameters++ "
.++" #
AddWithValue++# /
(++/ 0
$str++0 A
,++A B
	pUsuarioE++C L
.++L M
CodigoUsuario++M Z
)++Z [
;++[ \
cmd,, 
.,, 

Parameters,, "
.,," #
AddWithValue,,# /
(,,/ 0
$str,,0 ;
,,,; <
	pUsuarioE,,= F
.,,F G
Password,,G O
),,O P
;,,P Q
cmd-- 
.-- 

Parameters-- "
.--" #
AddWithValue--# /
(--/ 0
$str--0 6
,--6 7
	pUsuarioE--8 A
.--A B
Rol--B E
)--E F
;--F G
cmd.. 
... 

Parameters.. "
..." #
AddWithValue..# /
(../ 0
$str..0 8
,..8 9
	pUsuarioE..: C
...C D
Orden..D I
)..I J
;..J K
cnn00 
.00 
Open00 
(00 
)00 
;00 
IDataReader11 
dr11  "
=11# $
cmd11% (
.11( )
ExecuteReader11) 6
(116 7
)117 8
;118 9
if22 
(22 
dr22 
.22 
Read22 
(22  
)22  !
)22! "
{33 
	oUsuarioE44 !
=44" #
LlenarEntidad44$ 1
(441 2
dr442 4
,444 5
	pUsuarioE446 ?
)44? @
;44@ A
}66 
dr77 
.77 
Close77 
(77 
)77 
;77 
cnn88 
.88 
Close88 
(88 
)88 
;88  
}99 
}:: 
return;; 
	oUsuarioE;; 
;;; 
}<< 	
public>> 
string>> "
Sp_CitaPSF_RutaRetorna>> ,
(>>, -
RutaRetornaCitaE>>- =
optData>>> E
)>>E F
{@@ 	
stringAA 
	resultadoAA 
=AA 
$strAA !
;AA! "
usingBB 
(BB 
SqlConnectionBB  
cnnBB! $
=BB% &
newBB' *
SqlConnectionBB+ 8
(BB8 9
VariablesGlobalesBB9 J
.BBJ K

CnnClinicaBBK U
)BBU V
)BBV W
{CC 
usingDD 
(DD 

SqlCommandDD !
cmdDD" %
=DD& '
newDD( +

SqlCommandDD, 6
(DD6 7
$strDD7 O
,DDO P
cnnDDQ T
)DDT U
)DDU V
{EE 
cmdFF 
.FF 
CommandTypeFF #
=FF$ %
SystemFF& ,
.FF, -
DataFF- 1
.FF1 2
CommandTypeFF2 =
.FF= >
StoredProcedureFF> M
;FFM N
cmdHH 
.HH 

ParametersHH "
.HH" #
AddWithValueHH# /
(HH/ 0
$strHH0 ?
,HH? @
optDataHHA H
.HHH I
IdRutaRetornaHHI V
)HHV W
;HHW X
cmdII 
.II 

ParametersII "
.II" #
AddWithValueII# /
(II/ 0
$strII0 :
,II: ;
optDataII< C
.IIC D
UsuarioIID K
)IIK L
;IIL M
cmdJJ 
.JJ 

ParametersJJ "
.JJ" #
AddWithValueJJ# /
(JJ/ 0
$strJJ0 8
,JJ8 9
optDataJJ: A
.JJA B
PasswordJJB J
)JJJ K
;JJK L
cmdKK 
.KK 

ParametersKK "
.KK" #
AddWithValueKK# /
(KK/ 0
$strKK0 9
,KK9 :
optDataKK; B
.KKB C
	OpcionXMLKKC L
)KKL M
;KKM N
cmdLL 
.LL 

ParametersLL "
.LL" #
AddWithValueLL# /
(LL/ 0
$strLL0 8
,LL8 9
optDataLL: A
.LLA B
OrdenLLB G
)LLG H
;LLH I
cnnNN 
.NN 
OpenNN 
(NN 
)NN 
;NN 
IDataReaderOO 
drOO  "
=OO# $
cmdOO% (
.OO( )
ExecuteReaderOO) 6
(OO6 7
)OO7 8
;OO8 9
ifPP 
(PP 
drPP 
.PP 
ReadPP 
(PP  
)PP  !
)PP! "
{QQ 
	resultadoRR !
=RR" #
ConvertRR$ +
.RR+ ,
ToStringRR, 4
(RR4 5
drRR5 7
[RR7 8
$strRR8 C
]RRC D
)RRD E
;RRE F
}SS 
drTT 
.TT 
CloseTT 
(TT 
)TT 
;TT 
cnnUU 
.UU 
CloseUU 
(UU 
)UU 
;UU  
}VV 
}WW 
returnXX 
	resultadoXX 
;XX 
}YY 	
public[[ 
string[[ "
Sp_CitaPSF_RutaEjecuta[[ ,
([[, -
string[[- 3
pDato[[4 9
)[[9 :
{\\ 	
string]] 
	resultado]] 
=]] 
$str]] !
;]]! "
using^^ 
(^^ 
SqlConnection^^  
cnn^^! $
=^^% &
new^^' *
SqlConnection^^+ 8
(^^8 9
VariablesGlobales^^9 J
.^^J K

CnnClinica^^K U
)^^U V
)^^V W
{__ 
using`` 
(`` 

SqlCommand`` !
cmd``" %
=``& '
new``( +

SqlCommand``, 6
(``6 7
$str``7 O
,``O P
cnn``Q T
)``T U
)``U V
{aa 
cmdbb 
.bb 
CommandTypebb #
=bb$ %
Systembb& ,
.bb, -
Databb- 1
.bb1 2
CommandTypebb2 =
.bb= >
StoredProcedurebb> M
;bbM N
cmddd 
.dd 

Parametersdd "
.dd" #
AddWithValuedd# /
(dd/ 0
$strdd0 >
,dd> ?
pDatodd@ E
)ddE F
;ddF G
cnnff 
.ff 
Openff 
(ff 
)ff 
;ff 
IDataReadergg 
drgg  "
=gg# $
cmdgg% (
.gg( )
ExecuteReadergg) 6
(gg6 7
)gg7 8
;gg8 9
ifhh 
(hh 
drhh 
.hh 
Readhh 
(hh  
)hh  !
)hh! "
{ii 
	resultadojj !
=jj" #
Convertjj$ +
.jj+ ,
ToStringjj, 4
(jj4 5
drjj5 7
[jj7 8
$strjj8 C
]jjC D
)jjD E
;jjE F
}kk 
drll 
.ll 
Closell 
(ll 
)ll 
;ll 
cnnmm 
.mm 
Closemm 
(mm 
)mm 
;mm  
}nn 
}oo 
returnpp 
	resultadopp 
;pp 
}qq 	
}uu 
}vv ï®
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\SeguridadAD\SeguridadAD\SegOpcionAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
SeguridadAD 
. 
SeguridadAD )
{ 
public		 

class		 
SegOpcionAD		 
{

 
private 

SegOpcionE 
LlenarEntidad (
(( )
IDataReader) 4
dr5 7
,7 8

SegOpcionE' 1
pSegOpcionE2 =
)= >
{ 	

SegOpcionE 
oSegOpcionE "
=# $
new% (

SegOpcionE) 3
(3 4
)4 5
;5 6
switch 
( 
pSegOpcionE 
.  
Orden  %
)% &
{ 
case 
$num 
: 
case 
$num 
: 
oSegOpcionE 
.  
	TxtOpcion  )
=* +
Convert, 3
.3 4
ToString4 <
(< =
dr= ?
[? @
$str@ L
]L M
)M N
;N O
oSegOpcionE 
.  
	CodOpcion  )
=* +
Convert, 3
.3 4
ToString4 <
(< =
dr= ?
[? @
$str@ L
]L M
)M N
;N O
oSegOpcionE 
.  
IdeOpcionSup  ,
=- .
Convert/ 6
.6 7
ToInt327 >
(> ?
dr? A
[A B
$strB R
]R S
)S T
;T U
oSegOpcionE 
.  
	DscOpcion  )
=* +
Convert, 3
.3 4
ToString4 <
(< =
dr= ?
[? @
$str@ L
]L M
)M N
;N O
oSegOpcionE 
.  
DscIcono  (
=) *
Convert+ 2
.2 3
ToString3 ;
(; <
dr< >
[> ?
$str? J
]J K
)K L
;L M
oSegOpcionE 
.  
DscRuta  '
=( )
Convert* 1
.1 2
ToString2 :
(: ;
dr; =
[= >
$str> H
]H I
)I J
;J K
oSegOpcionE 
.  
	IdeOpcion  )
=* +
Convert, 3
.3 4
ToInt324 ;
(; <
dr< >
[> ?
$str? K
]K L
)L M
;M N
break 
; 
} 
return   
oSegOpcionE   
;   
}!! 	
public## 
List## 
<## 

SegOpcionE## 
>## !
Sp_SegOpcion_Consulta##  5
(##5 6

SegOpcionE##6 @
pSegOpcionE##A L
)##L M
{$$ 	
List%% 
<%% 

SegOpcionE%% 
>%% 
oListar%% $
=%%% &
new%%' *
List%%+ /
<%%/ 0

SegOpcionE%%0 :
>%%: ;
(%%; <
)%%< =
;%%= >

SegOpcionE&& 
oSegOpcionE&& "
=&&# $
null&&% )
;&&) *
using'' 
('' 
SqlConnection''  
cnn''! $
=''% &
new''' *
SqlConnection''+ 8
(''8 9
VariablesGlobales''9 J
.''J K
CnnSeguridad''K W
)''W X
)''X Y
{(( 
using)) 
()) 

SqlCommand)) !
cmd))" %
=))& '
new))( +

SqlCommand)), 6
())6 7
$str))7 N
,))N O
cnn))P S
)))S T
)))T U
{** 
cmd++ 
.++ 
CommandType++ #
=++$ %
System++& ,
.++, -
Data++- 1
.++1 2
CommandType++2 =
.++= >
StoredProcedure++> M
;++M N
cmd-- 
.-- 

Parameters-- "
.--" #
AddWithValue--# /
(--/ 0
$str--0 =
,--= >
pSegOpcionE--? J
.--J K
	IdeOpcion--K T
)--T U
;--U V
cmd.. 
... 

Parameters.. "
..." #
AddWithValue..# /
(../ 0
$str..0 A
,..A B
pSegOpcionE..C N
...N O
IdeOpcionSup..O [
)..[ \
;..\ ]
cmd// 
.// 

Parameters// "
.//" #
AddWithValue//# /
(/// 0
$str//0 =
,//= >
pSegOpcionE//? J
.//J K
	IdeModulo//K T
)//T U
;//U V
cmd00 
.00 

Parameters00 "
.00" #
AddWithValue00# /
(00/ 0
$str000 A
,00A B
pSegOpcionE00C N
.00N O
IdeModuloSup00O [
)00[ \
;00\ ]
cmd11 
.11 

Parameters11 "
.11" #
AddWithValue11# /
(11/ 0
$str110 >
,11> ?
pSegOpcionE11@ K
.11K L

IdeUsuario11L V
)11V W
;11W X
cmd22 
.22 

Parameters22 "
.22" #
AddWithValue22# /
(22/ 0
$str220 =
,22= >
pSegOpcionE22? J
.22J K
	CodOpcion22K T
)22T U
;22U V
cmd33 
.33 

Parameters33 "
.33" #
AddWithValue33# /
(33/ 0
$str330 8
,338 9
pSegOpcionE33: E
.33E F
Orden33F K
)33K L
;33L M
cnn55 
.55 
Open55 
(55 
)55 
;55 
IDataReader66 
dr66  "
=66# $
cmd66% (
.66( )
ExecuteReader66) 6
(666 7
)667 8
;668 9
while77 
(77 
dr77 
.77 
Read77 "
(77" #
)77# $
)77$ %
{88 
oSegOpcionE99 #
=99$ %
LlenarEntidad99& 3
(993 4
dr994 6
,996 7
pSegOpcionE998 C
)99C D
;99D E
oListar:: 
.::  
Add::  #
(::# $
oSegOpcionE::$ /
)::/ 0
;::0 1
};; 
dr<< 
.<< 
Close<< 
(<< 
)<< 
;<< 
cnn== 
.== 
Close== 
(== 
)== 
;==  
}>> 
}?? 
return@@ 
oListar@@ 
;@@ 
}AA 	
publicDD 
boolDD 
Sp_SEGOPCION_InsertDD '
(DD' (

SegOpcionEDD( 2
pSegOpcionEDD3 >
)DD> ?
{EE 	
tryFF 
{GG 
usingHH 
(HH 
SqlConnectionHH $
cnnHH% (
=HH) *
newHH+ .
SqlConnectionHH/ <
(HH< =
VariablesGlobalesHH= N
.HHN O
CnnSeguridadHHO [
)HH[ \
)HH\ ]
{II 
usingJJ 
(JJ 

SqlCommandJJ %
cmdJJ& )
=JJ* +
newJJ, /

SqlCommandJJ0 :
(JJ: ;
$strJJ; P
,JJP Q
cnnJJR U
)JJU V
)JJV W
{KK 
cmdLL 
.LL 
CommandTypeLL '
=LL( )
SystemLL* 0
.LL0 1
DataLL1 5
.LL5 6
CommandTypeLL6 A
.LLA B
StoredProcedureLLB Q
;LLQ R
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 A
,NNA B
pSegOpcionENNC N
.NNN O
	IdeModuloNNO X
)NNX Y
;NNY Z
cmdOO 
.OO 

ParametersOO &
.OO& '
AddWithValueOO' 3
(OO3 4
$strOO4 A
,OOA B
pSegOpcionEOOC N
.OON O
	TxtOpcionOOO X
)OOX Y
;OOY Z
cmdPP 
.PP 

ParametersPP &
.PP& '
AddWithValuePP' 3
(PP3 4
$strPP4 A
,PPA B
pSegOpcionEPPC N
.PPN O
	CodOpcionPPO X
)PPX Y
;PPY Z
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddWithValueQQ' 3
(QQ3 4
$strQQ4 E
,QQE F
pSegOpcionEQQG R
.QQR S
IdeOpcionSupQQS _
)QQ_ `
;QQ` a
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 C
,RRC D
pSegOpcionERRE P
.RRP Q
FecRegistroRRQ \
)RR\ ]
;RR] ^
cmdSS 
.SS 

ParametersSS &
.SS& '
AddWithValueSS' 3
(SS3 4
$strSS4 A
,SSA B
pSegOpcionESSC N
.SSN O
	DscOpcionSSO X
)SSX Y
;SSY Z
cmdTT 
.TT 

ParametersTT &
.TT& '
AddWithValueTT' 3
(TT3 4
$strTT4 @
,TT@ A
pSegOpcionETTB M
.TTM N
DscIconoTTN V
)TTV W
;TTW X
cmdUU 
.UU 

ParametersUU &
.UU& '
AddWithValueUU' 3
(UU3 4
$strUU4 ?
,UU? @
pSegOpcionEUUA L
.UUL M
DscRutaUUM T
)UUT U
;UUU V
cmdVV 
.VV 

ParametersVV &
.VV& '
AddVV' *
(VV* +
VariablesGlobalesVV+ <
.VV< =
ParametroSqlVV= I
(VVI J
$strVVJ W
,VVW X
ParameterDirectionVVY k
.VVk l
InputOutputVVl w
,VVw x
	SqlDbType	VVy Ç
.
VVÇ É
Int
VVÉ Ü
,
VVÜ á
$num
VVà â
,
VVâ ä
pSegOpcionE
VVã ñ
.
VVñ ó
	IdeOpcion
VVó †
.
VV† °
ToString
VV° ©
(
VV© ™
)
VV™ ´
)
VV´ ¨
)
VV¨ ≠
;
VV≠ Æ
cnnXX 
.XX 
OpenXX  
(XX  !
)XX! "
;XX" #
intZZ 
exitoZZ !
=ZZ" #
cmdZZ$ '
.ZZ' (
ExecuteNonQueryZZ( 7
(ZZ7 8
)ZZ8 9
;ZZ9 :
cnn[[ 
.[[ 
Close[[ !
([[! "
)[[" #
;[[# $
cmd\\ 
.\\ 
Dispose\\ #
(\\# $
)\\$ %
;\\% &
if]] 
(]] 
exito]] !
>=]]" $
$num]]% &
)]]& '
{^^ 
pSegOpcionE__ '
.__' (
	IdeOpcion__( 1
=__2 3
Convert__4 ;
.__; <
ToInt32__< C
(__C D
cmd__D G
.__G H

Parameters__H R
[__R S
$str__S `
]__` a
.__a b
Value__b g
)__g h
;__h i
return`` "
true``# '
;``' (
}aa 
elsebb 
{cc 
returndd "
falsedd# (
;dd( )
}ee 
}ff 
}gg 
}hh 
catchii 
(ii 
	Exceptionii 
eii 
)ii 
{jj 
throwjj 
ejj 
=jj 
newjj 
	Exceptionjj %
(jj% &
ejj& '
.jj' (
Messagejj( /
)jj/ 0
;jj0 1
}jj2 3
}kk 	
publicnn 
boolnn 
Sp_SEGOPCION_Updatenn '
(nn' (

SegOpcionEnn( 2
pSegOpcionEnn3 >
)nn> ?
{oo 	
trypp 
{qq 
usingrr 
(rr 
SqlConnectionrr $
cnnrr% (
=rr) *
newrr+ .
SqlConnectionrr/ <
(rr< =
VariablesGlobalesrr= N
.rrN O
CnnSeguridadrrO [
)rr[ \
)rr\ ]
{ss 
usingtt 
(tt 

SqlCommandtt %
cmdtt& )
=tt* +
newtt, /

SqlCommandtt0 :
(tt: ;
$strtt; P
,ttP Q
cnnttR U
)ttU V
)ttV W
{uu 
cmdvv 
.vv 
CommandTypevv '
=vv( )
Systemvv* 0
.vv0 1
Datavv1 5
.vv5 6
CommandTypevv6 A
.vvA B
StoredProcedurevvB Q
;vvQ R
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 A
,xxA B
pSegOpcionExxC N
.xxN O
	IdeModuloxxO X
)xxX Y
;xxY Z
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 A
,yyA B
pSegOpcionEyyC N
.yyN O
	TxtOpcionyyO X
)yyX Y
;yyY Z
cmdzz 
.zz 

Parameterszz &
.zz& '
AddWithValuezz' 3
(zz3 4
$strzz4 A
,zzA B
pSegOpcionEzzC N
.zzN O
	CodOpcionzzO X
)zzX Y
;zzY Z
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 E
,{{E F
pSegOpcionE{{G R
.{{R S
IdeOpcionSup{{S _
){{_ `
;{{` a
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 C
,||C D
pSegOpcionE||E P
.||P Q
FecRegistro||Q \
)||\ ]
;||] ^
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 A
,}}A B
pSegOpcionE}}C N
.}}N O
	DscOpcion}}O X
)}}X Y
;}}Y Z
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 @
,~~@ A
pSegOpcionE~~B M
.~~M N
DscIcono~~N V
)~~V W
;~~W X
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 ?
,? @
pSegOpcionEA L
.L M
DscRutaM T
)T U
;U V
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 A
,
ÄÄA B
pSegOpcionE
ÄÄC N
.
ÄÄN O
	IdeOpcion
ÄÄO X
)
ÄÄX Y
;
ÄÄY Z
cnn
ÇÇ 
.
ÇÇ 
Open
ÇÇ  
(
ÇÇ  !
)
ÇÇ! "
;
ÇÇ" #
int
ÑÑ 
exito
ÑÑ !
=
ÑÑ" #
cmd
ÑÑ$ '
.
ÑÑ' (
ExecuteNonQuery
ÑÑ( 7
(
ÑÑ7 8
)
ÑÑ8 9
;
ÑÑ9 :
cnn
ÖÖ 
.
ÖÖ 
Close
ÖÖ !
(
ÖÖ! "
)
ÖÖ" #
;
ÖÖ# $
cmd
ÜÜ 
.
ÜÜ 
Dispose
ÜÜ #
(
ÜÜ# $
)
ÜÜ$ %
;
ÜÜ% &
if
áá 
(
áá 
exito
áá !
>=
áá" $
$num
áá% &
)
áá& '
{
àà 
return
àà  
true
àà! %
;
àà% &
}
àà' (
else
ââ 
{
ää 
return
ää  
false
ää! &
;
ää& '
}
ää( )
}
ãã 
}
åå 
}
çç 
catch
éé 
(
éé 
	Exception
éé 
e
éé 
)
éé 
{
èè 
throw
èè 
e
èè 
=
èè 
new
èè 
	Exception
èè %
(
èè% &
e
èè& '
.
èè' (
Message
èè( /
)
èè/ 0
;
èè0 1
}
èè2 3
}
êê 	
public
ìì 
bool
ìì '
Sp_SEGOPCION_UpdatexCampo
ìì -
(
ìì- .

SegOpcionE
ìì. 8
pSegOpcionE
ìì9 D
)
ììD E
{
îî 	
try
ïï 
{
ññ 
using
óó 
(
óó 
SqlConnection
óó $
cnn
óó% (
=
óó) *
new
óó+ .
SqlConnection
óó/ <
(
óó< =
VariablesGlobales
óó= N
.
óóN O
CnnSeguridad
óóO [
)
óó[ \
)
óó\ ]
{
òò 
using
ôô 
(
ôô 

SqlCommand
ôô %
cmd
ôô& )
=
ôô* +
new
ôô, /

SqlCommand
ôô0 :
(
ôô: ;
$str
ôô; V
,
ôôV W
cnn
ôôX [
)
ôô[ \
)
ôô\ ]
{
öö 
cmd
õõ 
.
õõ 
CommandType
õõ '
=
õõ( )
System
õõ* 0
.
õõ0 1
Data
õõ1 5
.
õõ5 6
CommandType
õõ6 A
.
õõA B
StoredProcedure
õõB Q
;
õõQ R
cmd
ùù 
.
ùù 

Parameters
ùù &
.
ùù& '
AddWithValue
ùù' 3
(
ùù3 4
$str
ùù4 A
,
ùùA B
pSegOpcionE
ùùC N
.
ùùN O
	IdeOpcion
ùùO X
)
ùùX Y
;
ùùY Z
cmd
ûû 
.
ûû 

Parameters
ûû &
.
ûû& '
AddWithValue
ûû' 3
(
ûû3 4
$str
ûû4 B
,
ûûB C
pSegOpcionE
ûûD O
.
ûûO P

NuevoValor
ûûP Z
)
ûûZ [
;
ûû[ \
cmd
üü 
.
üü 

Parameters
üü &
.
üü& '
AddWithValue
üü' 3
(
üü3 4
$str
üü4 <
,
üü< =
pSegOpcionE
üü> I
.
üüI J
Campo
üüJ O
)
üüO P
;
üüP Q
cnn
°° 
.
°° 
Open
°°  
(
°°  !
)
°°! "
;
°°" #
int
££ 
exito
££ !
=
££" #
cmd
££$ '
.
££' (
ExecuteNonQuery
££( 7
(
££7 8
)
££8 9
;
££9 :
cnn
§§ 
.
§§ 
Close
§§ !
(
§§! "
)
§§" #
;
§§# $
cmd
•• 
.
•• 
Dispose
•• #
(
••# $
)
••$ %
;
••% &
if
¶¶ 
(
¶¶ 
exito
¶¶ !
>=
¶¶" $
$num
¶¶% &
)
¶¶& '
{
ßß 
return
ßß  
true
ßß! %
;
ßß% &
}
ßß' (
else
®® 
{
©© 
return
©©  
false
©©! &
;
©©& '
}
©©( )
}
™™ 
}
´´ 
}
¨¨ 
catch
≠≠ 
(
≠≠ 
	Exception
≠≠ 
e
≠≠ 
)
≠≠ 
{
ÆÆ 
throw
ÆÆ 
e
ÆÆ 
=
ÆÆ 
new
ÆÆ 
	Exception
ÆÆ %
(
ÆÆ% &
e
ÆÆ& '
.
ÆÆ' (
Message
ÆÆ( /
)
ÆÆ/ 0
;
ÆÆ0 1
}
ÆÆ2 3
}
ØØ 	
public
≤≤ 
bool
≤≤ !
Sp_SEGOPCION_Delete
≤≤ '
(
≤≤' (

SegOpcionE
≤≤( 2
pSegOpcionE
≤≤3 >
)
≤≤> ?
{
≥≥ 	
try
¥¥ 
{
µµ 
using
∂∂ 
(
∂∂ 
SqlConnection
∂∂ $
cnn
∂∂% (
=
∂∂) *
new
∂∂+ .
SqlConnection
∂∂/ <
(
∂∂< =
VariablesGlobales
∂∂= N
.
∂∂N O
CnnSeguridad
∂∂O [
)
∂∂[ \
)
∂∂\ ]
{
∑∑ 
using
∏∏ 
(
∏∏ 

SqlCommand
∏∏ %
cmd
∏∏& )
=
∏∏* +
new
∏∏, /

SqlCommand
∏∏0 :
(
∏∏: ;
$str
∏∏; P
,
∏∏P Q
cnn
∏∏R U
)
∏∏U V
)
∏∏V W
{
ππ 
cmd
∫∫ 
.
∫∫ 
CommandType
∫∫ '
=
∫∫( )
System
∫∫* 0
.
∫∫0 1
Data
∫∫1 5
.
∫∫5 6
CommandType
∫∫6 A
.
∫∫A B
StoredProcedure
∫∫B Q
;
∫∫Q R
cmd
ºº 
.
ºº 

Parameters
ºº &
.
ºº& '
AddWithValue
ºº' 3
(
ºº3 4
$str
ºº4 A
,
ººA B
pSegOpcionE
ººC N
.
ººN O
	IdeOpcion
ººO X
)
ººX Y
;
ººY Z
cnn
ææ 
.
ææ 
Open
ææ  
(
ææ  !
)
ææ! "
;
ææ" #
int
¿¿ 
exito
¿¿ !
=
¿¿" #
cmd
¿¿$ '
.
¿¿' (
ExecuteNonQuery
¿¿( 7
(
¿¿7 8
)
¿¿8 9
;
¿¿9 :
cnn
¡¡ 
.
¡¡ 
Close
¡¡ !
(
¡¡! "
)
¡¡" #
;
¡¡# $
cmd
¬¬ 
.
¬¬ 
Dispose
¬¬ #
(
¬¬# $
)
¬¬$ %
;
¬¬% &
if
√√ 
(
√√ 
exito
√√ !
>=
√√" $
$num
√√% &
)
√√& '
{
ƒƒ 
return
ƒƒ  
true
ƒƒ! %
;
ƒƒ% &
}
ƒƒ' (
else
≈≈ 
{
∆∆ 
return
∆∆  
false
∆∆! &
;
∆∆& '
}
∆∆( )
}
«« 
}
»» 
}
…… 
catch
   
(
   
	Exception
   
e
   
)
   
{
ÀÀ 
throw
ÀÀ 
e
ÀÀ 
=
ÀÀ 
new
ÀÀ 
	Exception
ÀÀ %
(
ÀÀ% &
e
ÀÀ& '
.
ÀÀ' (
Message
ÀÀ( /
)
ÀÀ/ 0
;
ÀÀ0 1
}
ÀÀ2 3
}
ÃÃ 	
}
ŒŒ 
}œœ «ë
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\SeguridadAD\SeguridadAD\SegModuloAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
SeguridadAD 
. 
SeguridadAD )
{ 
public		 

class		 
SegModuloAD		 
{

 
private 

SegModuloE 
LlenarEntidad (
(( )
IDataReader) 4
dr5 7
,7 8

SegModuloE' 1
pSegModuloE2 =
)= >
{ 	

SegModuloE 
oSegModuloE "
=# $
new% (

SegModuloE) 3
(3 4
)4 5
;5 6
switch 
( 
pSegModuloE 
.  
Orden  %
)% &
{ 
case 
$num 
: 
oSegModuloE 
.  
	TxtModulo  )
=* +
(, -
string- 3
)3 4
dr4 6
[6 7
$str7 C
]C D
;D E
oSegModuloE 
.  
IdeModuloSup  ,
=- .
Convert/ 6
.6 7
ToInt327 >
(> ?
dr? A
[A B
$strB R
]R S
)S T
;T U
oSegModuloE 
.  
	FlgActivo  )
=* +
(, -
string- 3
)3 4
dr4 6
[6 7
$str7 C
]C D
;D E
oSegModuloE 
.  
DscIcono  (
=) *
(+ ,
string, 2
)2 3
(3 4
dr4 6
[6 7
$str7 B
]B C
)C D
;D E
oSegModuloE 
.  
DscRuta  '
=( )
(* +
string+ 1
)1 2
(2 3
dr3 5
[5 6
$str6 @
]@ A
)A B
;B C
oSegModuloE 
.  
	IdeModulo  )
=* +
Convert, 3
.3 4
ToInt324 ;
(; <
dr< >
[> ?
$str? K
]K L
)L M
;M N
break 
; 
} 
return 
oSegModuloE 
; 
} 	
public 
List 
< 

SegModuloE 
> #
Sp_Seg_Modulo_Consultar  7
(7 8

SegModuloE8 B
pSegModuloEC N
)N O
{   	
List!! 
<!! 

SegModuloE!! 
>!! 
oListar!! $
=!!% &
new!!' *
List!!+ /
<!!/ 0

SegModuloE!!0 :
>!!: ;
(!!; <
)!!< =
;!!= >

SegModuloE"" 
oSegModuloE"" "
=""# $
null""% )
;"") *
using## 
(## 
SqlConnection##  
cnn##! $
=##% &
new##' *
SqlConnection##+ 8
(##8 9
VariablesGlobales##9 J
.##J K
CnnSeguridad##K W
)##W X
)##X Y
{$$ 
using%% 
(%% 

SqlCommand%% !
cmd%%" %
=%%& '
new%%( +

SqlCommand%%, 6
(%%6 7
$str%%7 P
,%%P Q
cnn%%R U
)%%U V
)%%V W
{&& 
cmd'' 
.'' 
CommandType'' #
=''$ %
System''& ,
.'', -
Data''- 1
.''1 2
CommandType''2 =
.''= >
StoredProcedure''> M
;''M N
cmd** 
.** 

Parameters** "
.**" #
AddWithValue**# /
(**/ 0
$str**0 A
,**A B
pSegModuloE**C N
.**N O
IdeModuloSup**O [
)**[ \
;**\ ]
cmd++ 
.++ 

Parameters++ "
.++" #
AddWithValue++# /
(++/ 0
$str++0 =
,++= >
pSegModuloE++? J
.++J K
	FlgActivo++K T
)++T U
;++U V
cmd,, 
.,, 

Parameters,, "
.,," #
AddWithValue,,# /
(,,/ 0
$str,,0 8
,,,8 9
pSegModuloE,,: E
.,,E F
Orden,,F K
),,K L
;,,L M
cnn-- 
.-- 
Open-- 
(-- 
)-- 
;-- 
IDataReader.. 
dr..  "
=..# $
cmd..% (
...( )
ExecuteReader..) 6
(..6 7
)..7 8
;..8 9
while// 
(// 
dr// 
.// 
Read// "
(//" #
)//# $
)//$ %
{00 
oSegModuloE11 #
=11$ %
LlenarEntidad11& 3
(113 4
dr114 6
,116 7
pSegModuloE118 C
)11C D
;11D E
oListar22 
.22  
Add22  #
(22# $
oSegModuloE22$ /
)22/ 0
;220 1
}33 
dr44 
.44 
Close44 
(44 
)44 
;44 
cnn55 
.55 
Close55 
(55 
)55 
;55  
}66 
}77 
return88 
oListar88 
;88 
}99 	
public<< 
bool<< 
Sp_SEGMODULO_Insert<< '
(<<' (

SegModuloE<<( 2
pSegModuloE<<3 >
)<<> ?
{== 	
try>> 
{?? 
using@@ 
(@@ 
SqlConnection@@ $
cnn@@% (
=@@) *
new@@+ .
SqlConnection@@/ <
(@@< =
VariablesGlobales@@= N
.@@N O
CnnSeguridad@@O [
)@@[ \
)@@\ ]
{AA 
usingBB 
(BB 

SqlCommandBB %
cmdBB& )
=BB* +
newBB, /

SqlCommandBB0 :
(BB: ;
$strBB; P
,BBP Q
cnnBBR U
)BBU V
)BBV W
{CC 
cmdDD 
.DD 
CommandTypeDD '
=DD( )
SystemDD* 0
.DD0 1
DataDD1 5
.DD5 6
CommandTypeDD6 A
.DDA B
StoredProcedureDDB Q
;DDQ R
cmdFF 
.FF 

ParametersFF &
.FF& '
AddWithValueFF' 3
(FF3 4
$strFF4 A
,FFA B
pSegModuloEFFC N
.FFN O
	TxtModuloFFO X
)FFX Y
;FFY Z
cmdGG 
.GG 

ParametersGG &
.GG& '
AddWithValueGG' 3
(GG3 4
$strGG4 E
,GGE F
pSegModuloEGGG R
.GGR S
IdeModuloSupGGS _
)GG_ `
;GG` a
cmdHH 
.HH 

ParametersHH &
.HH& '
AddWithValueHH' 3
(HH3 4
$strHH4 A
,HHA B
pSegModuloEHHC N
.HHN O
	FlgActivoHHO X
)HHX Y
;HHY Z
cmdII 
.II 

ParametersII &
.II& '
AddWithValueII' 3
(II3 4
$strII4 @
,II@ A
pSegModuloEIIB M
.IIM N
DscIconoIIN V
)IIV W
;IIW X
cmdJJ 
.JJ 

ParametersJJ &
.JJ& '
AddWithValueJJ' 3
(JJ3 4
$strJJ4 ?
,JJ? @
pSegModuloEJJA L
.JJL M
DscRutaJJM T
)JJT U
;JJU V
cmdKK 
.KK 

ParametersKK &
.KK& '
AddKK' *
(KK* +
VariablesGlobalesKK+ <
.KK< =
ParametroSqlKK= I
(KKI J
$strKKJ W
,KKW X
ParameterDirectionKKY k
.KKk l
InputOutputKKl w
,KKw x
	SqlDbType	KKy Ç
.
KKÇ É
Int
KKÉ Ü
,
KKÜ á
$num
KKà â
,
KKâ ä
pSegModuloE
KKã ñ
.
KKñ ó
	IdeModulo
KKó †
.
KK† °
ToString
KK° ©
(
KK© ™
)
KK™ ´
)
KK´ ¨
)
KK¨ ≠
;
KK≠ Æ
cnnMM 
.MM 
OpenMM  
(MM  !
)MM! "
;MM" #
intOO 
exitoOO !
=OO" #
cmdOO$ '
.OO' (
ExecuteNonQueryOO( 7
(OO7 8
)OO8 9
;OO9 :
cnnPP 
.PP 
ClosePP !
(PP! "
)PP" #
;PP# $
cmdQQ 
.QQ 
DisposeQQ #
(QQ# $
)QQ$ %
;QQ% &
ifRR 
(RR 
exitoRR !
>=RR" $
$numRR% &
)RR& '
{SS 
pSegModuloETT '
.TT' (
	IdeModuloTT( 1
=TT2 3
ConvertTT4 ;
.TT; <
ToInt32TT< C
(TTC D
cmdTTD G
.TTG H

ParametersTTH R
[TTR S
$strTTS `
]TT` a
.TTa b
ValueTTb g
)TTg h
;TTh i
returnUU "
trueUU# '
;UU' (
}VV 
elseWW 
{XX 
returnYY "
falseYY# (
;YY( )
}ZZ 
}[[ 
}\\ 
}]] 
catch^^ 
(^^ 
	Exception^^ 
e^^ 
)^^ 
{__ 
throw__ 
e__ 
=__ 
new__ 
	Exception__ %
(__% &
e__& '
.__' (
Message__( /
)__/ 0
;__0 1
}__2 3
}`` 	
publiccc 
boolcc 
Sp_SEGMODULO_Updatecc '
(cc' (

SegModuloEcc( 2
pSegModuloEcc3 >
)cc> ?
{dd 	
tryee 
{ff 
usinggg 
(gg 
SqlConnectiongg $
cnngg% (
=gg) *
newgg+ .
SqlConnectiongg/ <
(gg< =
VariablesGlobalesgg= N
.ggN O
CnnSeguridadggO [
)gg[ \
)gg\ ]
{hh 
usingii 
(ii 

SqlCommandii %
cmdii& )
=ii* +
newii, /

SqlCommandii0 :
(ii: ;
$strii; P
,iiP Q
cnniiR U
)iiU V
)iiV W
{jj 
cmdkk 
.kk 
CommandTypekk '
=kk( )
Systemkk* 0
.kk0 1
Datakk1 5
.kk5 6
CommandTypekk6 A
.kkA B
StoredProcedurekkB Q
;kkQ R
cmdmm 
.mm 

Parametersmm &
.mm& '
AddWithValuemm' 3
(mm3 4
$strmm4 A
,mmA B
pSegModuloEmmC N
.mmN O
	TxtModulommO X
)mmX Y
;mmY Z
cmdnn 
.nn 

Parametersnn &
.nn& '
AddWithValuenn' 3
(nn3 4
$strnn4 E
,nnE F
pSegModuloEnnG R
.nnR S
IdeModuloSupnnS _
)nn_ `
;nn` a
cmdoo 
.oo 

Parametersoo &
.oo& '
AddWithValueoo' 3
(oo3 4
$stroo4 A
,ooA B
pSegModuloEooC N
.ooN O
	FlgActivoooO X
)ooX Y
;ooY Z
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 @
,pp@ A
pSegModuloEppB M
.ppM N
DscIconoppN V
)ppV W
;ppW X
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 ?
,qq? @
pSegModuloEqqA L
.qqL M
DscRutaqqM T
)qqT U
;qqU V
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 A
,rrA B
pSegModuloErrC N
.rrN O
	IdeModulorrO X
)rrX Y
;rrY Z
cnntt 
.tt 
Opentt  
(tt  !
)tt! "
;tt" #
intvv 
exitovv !
=vv" #
cmdvv$ '
.vv' (
ExecuteNonQueryvv( 7
(vv7 8
)vv8 9
;vv9 :
cnnww 
.ww 
Closeww !
(ww! "
)ww" #
;ww# $
cmdxx 
.xx 
Disposexx #
(xx# $
)xx$ %
;xx% &
ifyy 
(yy 
exitoyy !
>=yy" $
$numyy% &
)yy& '
{zz 
returnzz  
truezz! %
;zz% &
}zz' (
else{{ 
{|| 
return||  
false||! &
;||& '
}||( )
}}} 
}~~ 
} 
catch
ÄÄ 
(
ÄÄ 
	Exception
ÄÄ 
e
ÄÄ 
)
ÄÄ 
{
ÅÅ 
throw
ÅÅ 
e
ÅÅ 
=
ÅÅ 
new
ÅÅ 
	Exception
ÅÅ %
(
ÅÅ% &
e
ÅÅ& '
.
ÅÅ' (
Message
ÅÅ( /
)
ÅÅ/ 0
;
ÅÅ0 1
}
ÅÅ2 3
}
ÇÇ 	
public
ÖÖ 
bool
ÖÖ '
Sp_SEGMODULO_UpdatexCampo
ÖÖ -
(
ÖÖ- .

SegModuloE
ÖÖ. 8
pSegModuloE
ÖÖ9 D
)
ÖÖD E
{
ÜÜ 	
try
áá 
{
àà 
using
ââ 
(
ââ 
SqlConnection
ââ $
cnn
ââ% (
=
ââ) *
new
ââ+ .
SqlConnection
ââ/ <
(
ââ< =
VariablesGlobales
ââ= N
.
ââN O
CnnSeguridad
ââO [
)
ââ[ \
)
ââ\ ]
{
ää 
using
ãã 
(
ãã 

SqlCommand
ãã %
cmd
ãã& )
=
ãã* +
new
ãã, /

SqlCommand
ãã0 :
(
ãã: ;
$str
ãã; V
,
ããV W
cnn
ããX [
)
ãã[ \
)
ãã\ ]
{
åå 
cmd
çç 
.
çç 
CommandType
çç '
=
çç( )
System
çç* 0
.
çç0 1
Data
çç1 5
.
çç5 6
CommandType
çç6 A
.
ççA B
StoredProcedure
ççB Q
;
ççQ R
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 A
,
èèA B
pSegModuloE
èèC N
.
èèN O
	IdeModulo
èèO X
)
èèX Y
;
èèY Z
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 B
,
êêB C
pSegModuloE
êêD O
.
êêO P

NuevoValor
êêP Z
)
êêZ [
;
êê[ \
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 <
,
ëë< =
pSegModuloE
ëë> I
.
ëëI J
Campo
ëëJ O
)
ëëO P
;
ëëP Q
cnn
ìì 
.
ìì 
Open
ìì  
(
ìì  !
)
ìì! "
;
ìì" #
int
ïï 
exito
ïï !
=
ïï" #
cmd
ïï$ '
.
ïï' (
ExecuteNonQuery
ïï( 7
(
ïï7 8
)
ïï8 9
;
ïï9 :
cnn
ññ 
.
ññ 
Close
ññ !
(
ññ! "
)
ññ" #
;
ññ# $
cmd
óó 
.
óó 
Dispose
óó #
(
óó# $
)
óó$ %
;
óó% &
if
òò 
(
òò 
exito
òò !
>=
òò" $
$num
òò% &
)
òò& '
{
ôô 
return
ôô  
true
ôô! %
;
ôô% &
}
ôô' (
else
öö 
{
õõ 
return
õõ  
false
õõ! &
;
õõ& '
}
õõ( )
}
úú 
}
ùù 
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
e
üü 
)
üü 
{
†† 
throw
†† 
e
†† 
=
†† 
new
†† 
	Exception
†† %
(
††% &
e
††& '
.
††' (
Message
††( /
)
††/ 0
;
††0 1
}
††2 3
}
°° 	
public
§§ 
bool
§§ !
Sp_SEGMODULO_Delete
§§ '
(
§§' (

SegModuloE
§§( 2
pSegModuloE
§§3 >
)
§§> ?
{
•• 	
try
¶¶ 
{
ßß 
using
®® 
(
®® 
SqlConnection
®® $
cnn
®®% (
=
®®) *
new
®®+ .
SqlConnection
®®/ <
(
®®< =
VariablesGlobales
®®= N
.
®®N O
CnnSeguridad
®®O [
)
®®[ \
)
®®\ ]
{
©© 
using
™™ 
(
™™ 

SqlCommand
™™ %
cmd
™™& )
=
™™* +
new
™™, /

SqlCommand
™™0 :
(
™™: ;
$str
™™; P
,
™™P Q
cnn
™™R U
)
™™U V
)
™™V W
{
´´ 
cmd
¨¨ 
.
¨¨ 
CommandType
¨¨ '
=
¨¨( )
System
¨¨* 0
.
¨¨0 1
Data
¨¨1 5
.
¨¨5 6
CommandType
¨¨6 A
.
¨¨A B
StoredProcedure
¨¨B Q
;
¨¨Q R
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 A
,
ÆÆA B
pSegModuloE
ÆÆC N
.
ÆÆN O
	IdeModulo
ÆÆO X
)
ÆÆX Y
;
ÆÆY Z
cnn
∞∞ 
.
∞∞ 
Open
∞∞  
(
∞∞  !
)
∞∞! "
;
∞∞" #
int
≤≤ 
exito
≤≤ !
=
≤≤" #
cmd
≤≤$ '
.
≤≤' (
ExecuteNonQuery
≤≤( 7
(
≤≤7 8
)
≤≤8 9
;
≤≤9 :
cnn
≥≥ 
.
≥≥ 
Close
≥≥ !
(
≥≥! "
)
≥≥" #
;
≥≥# $
cmd
¥¥ 
.
¥¥ 
Dispose
¥¥ #
(
¥¥# $
)
¥¥$ %
;
¥¥% &
if
µµ 
(
µµ 
exito
µµ !
>=
µµ" $
$num
µµ% &
)
µµ& '
{
∂∂ 
return
∂∂  
true
∂∂! %
;
∂∂% &
}
∂∂' (
else
∑∑ 
{
∏∏ 
return
∏∏  
false
∏∏! &
;
∏∏& '
}
∏∏( )
}
ππ 
}
∫∫ 
}
ªª 
catch
ºº 
(
ºº 
	Exception
ºº 
e
ºº 
)
ºº 
{
ΩΩ 
throw
ΩΩ 
e
ΩΩ 
=
ΩΩ 
new
ΩΩ 
	Exception
ΩΩ %
(
ΩΩ% &
e
ΩΩ& '
.
ΩΩ' (
Message
ΩΩ( /
)
ΩΩ/ 0
;
ΩΩ0 1
}
ΩΩ2 3
}
ææ 	
}
¿¿ 
}¡¡ íü
fD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\RisClinicaAD\RisXmlEventsAD\RisXmlEventsAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
RisClinicaAD

 
.

 
RisXmlEventsAD

 -
{ 
public 

class 
RisXmlEventsAD 
{ 
private 
RisXmlEventsE 
LlenarEntidad +
(+ ,
IDataReader, 7
dr8 :
,: ;
RisXmlEventsE< I
pRisXmlEventsEJ X
)X Y
{ 	
RisXmlEventsE 
oRisXmlEventsE (
=) *
new+ .
RisXmlEventsE/ <
(< =
)= >
;> ?
switch 
( 
pRisXmlEventsE "
." #
Orden# (
)( )
{ 
case 
$num 
: 
oRisXmlEventsE "
." #

CodEmpresa# -
=. /
Convert0 7
.7 8
ToInt328 ?
(? @
dr@ B
[B C
$strC P
]P Q
)Q R
;R S
oRisXmlEventsE "
." #
CodSucursal# .
=/ 0
Convert1 8
.8 9
ToInt329 @
(@ A
drA C
[C D
$strD R
]R S
)S T
;T U
oRisXmlEventsE "
." #
EventId# *
=+ ,
Convert- 4
.4 5
ToString5 =
(= >
dr> @
[@ A
$strA K
]K L
)L M
;M N
oRisXmlEventsE "
." #
	EventDesc# ,
=- .
Convert/ 6
.6 7
ToString7 ?
(? @
dr@ B
[B C
$strC O
]O P
)P Q
;Q R
oRisXmlEventsE "
." #
EventDateTime# 0
=1 2
Convert3 :
.: ;
ToString; C
(C D
drD F
[F G
$strG W
]W X
)X Y
;Y Z
oRisXmlEventsE "
." #
EventTypeId# .
=/ 0
Convert1 8
.8 9
ToInt329 @
(@ A
drA C
[C D
$strD S
]S T
)T U
;U V
oRisXmlEventsE "
." #
OrderStatus# .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE S
]S T
)T U
;U V
oRisXmlEventsE "
." #

IdPaciente# -
=. /
Convert0 7
.7 8
ToString8 @
(@ A
drA C
[C D
$strD Q
]Q R
)R S
;S T
oRisXmlEventsE "
." #
IdPacienteRis# 0
=1 2
Convert3 :
.: ;
ToString; C
(C D
drD F
[F G
$strG X
]X Y
)Y Z
;Z [
oRisXmlEventsE "
." #
RutPaciente# .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE S
]S T
)T U
;U V
oRisXmlEventsE "
." #
TipoPaciente# /
=0 1
Convert2 9
.9 :
ToString: B
(B C
drC E
[E F
$strF U
]U V
)V W
;W X
oRisXmlEventsE "
." #

IdAdmision# -
=. /
Convert0 7
.7 8
ToInt328 ?
(? @
dr@ B
[B C
$strC P
]P Q
)Q R
;R S
oRisXmlEventsE   "
.  " #
	IdIngreso  # ,
=  - .
Convert  / 6
.  6 7
ToInt32  7 >
(  > ?
dr  ? A
[  A B
$str  B N
]  N O
)  O P
;  P Q
oRisXmlEventsE!! "
.!!" #

IdAtencion!!# -
=!!. /
Convert!!0 7
.!!7 8
ToInt32!!8 ?
(!!? @
dr!!@ B
[!!B C
$str!!C P
]!!P Q
)!!Q R
;!!R S
oRisXmlEventsE"" "
.""" #

CodPaquete""# -
="". /
Convert""0 7
.""7 8
ToInt32""8 ?
(""? @
dr""@ B
[""B C
$str""C P
]""P Q
)""Q R
;""R S
oRisXmlEventsE## "
.##" #
FillerOrderInt### 1
=##2 3
Convert##4 ;
.##; <
ToString##< D
(##D E
dr##E G
[##G H
$str##H ]
]##] ^
)##^ _
;##_ `
oRisXmlEventsE$$ "
.$$" #
XmlMsg$$# )
=$$* +
Convert$$, 3
.$$3 4
ToString$$4 <
($$< =
dr$$= ?
[$$? @
$str$$@ I
]$$I J
)$$J K
;$$K L
oRisXmlEventsE%% "
.%%" #
XmlIntegrationDate%%# 5
=%%6 7
Convert%%8 ?
.%%? @
ToString%%@ H
(%%H I
dr%%I K
[%%K L
$str%%L b
]%%b c
)%%c d
;%%d e
oRisXmlEventsE&& "
.&&" #
XmlEventStatus&&# 1
=&&2 3
Convert&&4 ;
.&&; <
ToString&&< D
(&&D E
dr&&E G
[&&G H
$str&&H Z
]&&Z [
)&&[ \
;&&\ ]
oRisXmlEventsE'' "
.''" #
XmlMessageStatus''# 3
=''4 5
Convert''6 =
.''= >
ToString''> F
(''F G
dr''G I
[''I J
$str''J ^
]''^ _
)''_ `
;''` a
oRisXmlEventsE(( "
.((" #
XmlUserUpdated((# 1
=((2 3
Convert((4 ;
.((; <
ToString((< D
(((D E
dr((E G
[((G H
$str((H Z
]((Z [
)(([ \
;((\ ]
oRisXmlEventsE)) "
.))" #
XmlFlag1))# +
=)), -
Convert)). 5
.))5 6
ToString))6 >
())> ?
dr))? A
[))A B
$str))B M
]))M N
)))N O
;))O P
oRisXmlEventsE** "
.**" #
Version**# *
=**+ ,
Convert**- 4
.**4 5
ToInt32**5 <
(**< =
dr**= ?
[**? @
$str**@ I
]**I J
)**J K
;**K L
oRisXmlEventsE++ "
.++" #
FlgProcesado++# /
=++0 1
Convert++2 9
.++9 :
ToString++: B
(++B C
dr++C E
[++E F
$str++F U
]++U V
)++V W
;++W X
break,, 
;,, 
case-- 
$num-- 
:-- 
oRisXmlEventsE.. "
..." #

CodEmpresa..# -
=... /
Convert..0 7
...7 8
ToInt32..8 ?
(..? @
dr..@ B
[..B C
$str..C P
]..P Q
)..Q R
;..R S
oRisXmlEventsE// "
.//" #
CodSucursal//# .
=/// 0
Convert//1 8
.//8 9
ToInt32//9 @
(//@ A
dr//A C
[//C D
$str//D R
]//R S
)//S T
;//T U
oRisXmlEventsE00 "
.00" #
EventId00# *
=00+ ,
Convert00- 4
.004 5
ToString005 =
(00= >
dr00> @
[00@ A
$str00A K
]00K L
)00L M
;00M N
oRisXmlEventsE11 "
.11" #
	EventDesc11# ,
=11- .
Convert11/ 6
.116 7
ToString117 ?
(11? @
dr11@ B
[11B C
$str11C O
]11O P
)11P Q
;11Q R
oRisXmlEventsE22 "
.22" #
EventDateTime22# 0
=221 2
Convert223 :
.22: ;
ToString22; C
(22C D
dr22D F
[22F G
$str22G W
]22W X
)22X Y
;22Y Z
oRisXmlEventsE33 "
.33" #
EventTypeId33# .
=33/ 0
Convert331 8
.338 9
ToInt32339 @
(33@ A
dr33A C
[33C D
$str33D S
]33S T
)33T U
;33U V
oRisXmlEventsE44 "
.44" #
OrderStatus44# .
=44/ 0
Convert441 8
.448 9
ToString449 A
(44A B
dr44B D
[44D E
$str44E S
]44S T
)44T U
;44U V
oRisXmlEventsE55 "
.55" #

IdPaciente55# -
=55. /
Convert550 7
.557 8
ToString558 @
(55@ A
dr55A C
[55C D
$str55D Q
]55Q R
)55R S
;55S T
oRisXmlEventsE66 "
.66" #
IdPacienteRis66# 0
=661 2
Convert663 :
.66: ;
ToString66; C
(66C D
dr66D F
[66F G
$str66G X
]66X Y
)66Y Z
;66Z [
oRisXmlEventsE77 "
.77" #
RutPaciente77# .
=77/ 0
Convert771 8
.778 9
ToString779 A
(77A B
dr77B D
[77D E
$str77E S
]77S T
)77T U
;77U V
oRisXmlEventsE88 "
.88" #
TipoPaciente88# /
=880 1
Convert882 9
.889 :
ToString88: B
(88B C
dr88C E
[88E F
$str88F U
]88U V
)88V W
;88W X
oRisXmlEventsE99 "
.99" #

IdAdmision99# -
=99. /
Convert990 7
.997 8
ToInt32998 ?
(99? @
dr99@ B
[99B C
$str99C P
]99P Q
)99Q R
;99R S
oRisXmlEventsE:: "
.::" #
	IdIngreso::# ,
=::- .
Convert::/ 6
.::6 7
ToInt32::7 >
(::> ?
dr::? A
[::A B
$str::B N
]::N O
)::O P
;::P Q
oRisXmlEventsE;; "
.;;" #

IdAtencion;;# -
=;;. /
Convert;;0 7
.;;7 8
ToInt32;;8 ?
(;;? @
dr;;@ B
[;;B C
$str;;C P
];;P Q
);;Q R
;;;R S
oRisXmlEventsE<< "
.<<" #

CodPaquete<<# -
=<<. /
Convert<<0 7
.<<7 8
ToInt32<<8 ?
(<<? @
dr<<@ B
[<<B C
$str<<C P
]<<P Q
)<<Q R
;<<R S
oRisXmlEventsE== "
.==" #
FillerOrderInt==# 1
===2 3
Convert==4 ;
.==; <
ToString==< D
(==D E
dr==E G
[==G H
$str==H ]
]==] ^
)==^ _
;==_ `
oRisXmlEventsE>> "
.>>" #
XmlMsg>># )
=>>* +
Convert>>, 3
.>>3 4
ToString>>4 <
(>>< =
dr>>= ?
[>>? @
$str>>@ I
]>>I J
)>>J K
;>>K L
oRisXmlEventsE?? "
.??" #
XmlIntegrationDate??# 5
=??6 7
Convert??8 ?
.??? @
ToString??@ H
(??H I
dr??I K
[??K L
$str??L b
]??b c
)??c d
;??d e
oRisXmlEventsE@@ "
.@@" #
XmlEventStatus@@# 1
=@@2 3
Convert@@4 ;
.@@; <
ToString@@< D
(@@D E
dr@@E G
[@@G H
$str@@H Z
]@@Z [
)@@[ \
;@@\ ]
oRisXmlEventsEAA "
.AA" #
XmlMessageStatusAA# 3
=AA4 5
ConvertAA6 =
.AA= >
ToStringAA> F
(AAF G
drAAG I
[AAI J
$strAAJ ^
]AA^ _
)AA_ `
;AA` a
oRisXmlEventsEBB "
.BB" #
XmlUserUpdatedBB# 1
=BB2 3
ConvertBB4 ;
.BB; <
ToStringBB< D
(BBD E
drBBE G
[BBG H
$strBBH Z
]BBZ [
)BB[ \
;BB\ ]
oRisXmlEventsECC "
.CC" #
XmlFlag1CC# +
=CC, -
ConvertCC. 5
.CC5 6
ToStringCC6 >
(CC> ?
drCC? A
[CCA B
$strCCB M
]CCM N
)CCN O
;CCO P
oRisXmlEventsEDD "
.DD" #
VersionDD# *
=DD+ ,
ConvertDD- 4
.DD4 5
ToInt32DD5 <
(DD< =
drDD= ?
[DD? @
$strDD@ I
]DDI J
)DDJ K
;DDK L
oRisXmlEventsEEE "
.EE" #
FlgProcesadoEE# /
=EE0 1
ConvertEE2 9
.EE9 :
ToStringEE: B
(EEB C
drEEC E
[EEE F
$strEEF U
]EEU V
)EEV W
;EEW X
breakFF 
;FF 
}GG 
returnHH 
oRisXmlEventsEHH !
;HH! "
}II 	
publicKK 
ListKK 
<KK 
RisXmlEventsEKK !
>KK! "$
Sp_RisXmlEvents_ConsultaKK# ;
(KK; <
RisXmlEventsEKK< I
pRisXmlEventsEKKJ X
)KKX Y
{LL 	
ListMM 
<MM 
RisXmlEventsEMM 
>MM 
oListarMM  '
=MM( )
newMM* -
ListMM. 2
<MM2 3
RisXmlEventsEMM3 @
>MM@ A
(MMA B
)MMB C
;MMC D
RisXmlEventsENN 
oRisXmlEventsENN (
=NN) *
nullNN+ /
;NN/ 0
usingOO 
(OO 
SqlConnectionOO  
cnnOO! $
=OO% &
newOO' *
SqlConnectionOO+ 8
(OO8 9
VariablesGlobalesOO9 J
.OOJ K
CnnRisClinicaOOK X
)OOX Y
)OOY Z
{PP 
usingQQ 
(QQ 

SqlCommandQQ !
cmdQQ" %
=QQ& '
newQQ( +

SqlCommandQQ, 6
(QQ6 7
$strQQ7 Q
,QQQ R
cnnQQS V
)QQV W
)QQW X
{RR 
cmdSS 
.SS 
CommandTypeSS #
=SS$ %
SystemSS& ,
.SS, -
DataSS- 1
.SS1 2
CommandTypeSS2 =
.SS= >
StoredProcedureSS> M
;SSM N
cmdUU 
.UU 

ParametersUU "
.UU" #
AddWithValueUU# /
(UU/ 0
$strUU0 9
,UU9 :
pRisXmlEventsEUU; I
.UUI J
BuscarUUJ P
)UUP Q
;UUQ R
cmdVV 
.VV 

ParametersVV "
.VV" #
AddWithValueVV# /
(VV/ 0
$strVV0 8
,VV8 9
pRisXmlEventsEVV: H
.VVH I
CampoVVI N
)VVN O
;VVO P
cmdWW 
.WW 

ParametersWW "
.WW" #
AddWithValueWW# /
(WW/ 0
$strWW0 8
,WW8 9
pRisXmlEventsEWW: H
.WWH I
FechaWWI N
)WWN O
;WWO P
cmdXX 
.XX 

ParametersXX "
.XX" #
AddWithValueXX# /
(XX/ 0
$strXX0 >
,XX> ?
pRisXmlEventsEXX@ N
.XXN O

NumeroFilaXXO Y
)XXY Z
;XXZ [
cmdYY 
.YY 

ParametersYY "
.YY" #
AddWithValueYY# /
(YY/ 0
$strYY0 8
,YY8 9
pRisXmlEventsEYY: H
.YYH I
OrdenYYI N
)YYN O
;YYO P
cnnZZ 
.ZZ 
OpenZZ 
(ZZ 
)ZZ 
;ZZ 
IDataReader[[ 
dr[[  "
=[[# $
cmd[[% (
.[[( )
ExecuteReader[[) 6
([[6 7
)[[7 8
;[[8 9
while\\ 
(\\ 
dr\\ 
.\\ 
Read\\ "
(\\" #
)\\# $
)\\$ %
{]] 
oRisXmlEventsE^^ &
=^^' (
LlenarEntidad^^) 6
(^^6 7
dr^^7 9
,^^9 :
pRisXmlEventsE^^; I
)^^I J
;^^J K
oListar__ 
.__  
Add__  #
(__# $
oRisXmlEventsE__$ 2
)__2 3
;__3 4
}`` 
draa 
.aa 
Closeaa 
(aa 
)aa 
;aa 
cnnbb 
.bb 
Closebb 
(bb 
)bb 
;bb  
}cc 
}dd 
returnee 
oListaree 
;ee 
}ff 	
publicii 
boolii "
Sp_RisXmlEvents_Insertii *
(ii* +
RisXmlEventsEii+ 8
pRisXmlEventsEii9 G
)iiG H
{jj 	
trykk 
{ll 
usingmm 
(mm 
SqlConnectionmm $
cnnmm% (
=mm) *
newmm+ .
SqlConnectionmm/ <
(mm< =
VariablesGlobalesmm= N
.mmN O
CnnRisClinicammO \
)mm\ ]
)mm] ^
{nn 
usingoo 
(oo 

SqlCommandoo %
cmdoo& )
=oo* +
newoo, /

SqlCommandoo0 :
(oo: ;
$stroo; S
,ooS T
cnnooU X
)ooX Y
)ooY Z
{pp 
cmdqq 
.qq 
CommandTypeqq '
=qq( )
Systemqq* 0
.qq0 1
Dataqq1 5
.qq5 6
CommandTypeqq6 A
.qqA B
StoredProcedureqqB Q
;qqQ R
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 B
,ssB C
pRisXmlEventsEssD R
.ssR S

CodEmpresassS ]
)ss] ^
;ss^ _
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 C
,ttC D
pRisXmlEventsEttE S
.ttS T
CodSucursalttT _
)tt_ `
;tt` a
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 ?
,uu? @
pRisXmlEventsEuuA O
.uuO P
EventIduuP W
)uuW X
;uuX Y
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 A
,vvA B
pRisXmlEventsEvvC Q
.vvQ R
	EventDescvvR [
)vv[ \
;vv\ ]
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 E
,wwE F
pRisXmlEventsEwwG U
.wwU V
EventDateTimewwV c
)wwc d
;wwd e
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 D
,xxD E
pRisXmlEventsExxF T
.xxT U
EventTypeIdxxU `
)xx` a
;xxa b
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 C
,yyC D
pRisXmlEventsEyyE S
.yyS T
OrderStatusyyT _
)yy_ `
;yy` a
cmdzz 
.zz 

Parameterszz &
.zz& '
AddWithValuezz' 3
(zz3 4
$strzz4 B
,zzB C
pRisXmlEventsEzzD R
.zzR S

IdPacientezzS ]
)zz] ^
;zz^ _
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 F
,{{F G
pRisXmlEventsE{{H V
.{{V W
IdPacienteRis{{W d
){{d e
;{{e f
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 C
,||C D
pRisXmlEventsE||E S
.||S T
RutPaciente||T _
)||_ `
;||` a
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 D
,}}D E
pRisXmlEventsE}}F T
.}}T U
TipoPaciente}}U a
)}}a b
;}}b c
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 B
,~~B C
pRisXmlEventsE~~D R
.~~R S

IdAdmision~~S ]
)~~] ^
;~~^ _
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 A
,A B
pRisXmlEventsEC Q
.Q R
	IdIngresoR [
)[ \
;\ ]
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 B
,
ÄÄB C
pRisXmlEventsE
ÄÄD R
.
ÄÄR S

IdAtencion
ÄÄS ]
)
ÄÄ] ^
;
ÄÄ^ _
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 B
,
ÅÅB C
pRisXmlEventsE
ÅÅD R
.
ÅÅR S

CodPaquete
ÅÅS ]
)
ÅÅ] ^
;
ÅÅ^ _
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 J
,
ÇÇJ K
pRisXmlEventsE
ÇÇL Z
.
ÇÇZ [
FillerOrderInt
ÇÇ[ i
)
ÇÇi j
;
ÇÇj k
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 >
,
ÉÉ> ?
pRisXmlEventsE
ÉÉ@ N
.
ÉÉN O
XmlMsg
ÉÉO U
)
ÉÉU V
;
ÉÉV W
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 K
,
ÑÑK L
pRisXmlEventsE
ÑÑM [
.
ÑÑ[ \ 
XmlIntegrationDate
ÑÑ\ n
)
ÑÑn o
;
ÑÑo p
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 G
,
ÖÖG H
pRisXmlEventsE
ÖÖI W
.
ÖÖW X
XmlEventStatus
ÖÖX f
)
ÖÖf g
;
ÖÖg h
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 I
,
ÜÜI J
pRisXmlEventsE
ÜÜK Y
.
ÜÜY Z
XmlMessageStatus
ÜÜZ j
)
ÜÜj k
;
ÜÜk l
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 G
,
ááG H
pRisXmlEventsE
ááI W
.
ááW X
XmlUserUpdated
ááX f
)
ááf g
;
áág h
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 @
,
àà@ A
pRisXmlEventsE
ààB P
.
ààP Q
XmlFlag1
ààQ Y
)
ààY Z
;
ààZ [
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 D
,
ââD E
pRisXmlEventsE
ââF T
.
ââT U
FlgProcesado
ââU a
)
ââa b
;
ââb c
cnn
ãã 
.
ãã 
Open
ãã  
(
ãã  !
)
ãã! "
;
ãã" #
int
çç 
exito
çç !
=
çç" #
cmd
çç$ '
.
çç' (
ExecuteNonQuery
çç( 7
(
çç7 8
)
çç8 9
;
çç9 :
cnn
éé 
.
éé 
Close
éé !
(
éé! "
)
éé" #
;
éé# $
cmd
èè 
.
èè 
Dispose
èè #
(
èè# $
)
èè$ %
;
èè% &
if
êê 
(
êê 
exito
êê !
>=
êê" $
$num
êê% &
)
êê& '
{
ëë 
return
íí "
true
íí# '
;
íí' (
}
ìì 
else
îî 
{
ïï 
return
ññ "
false
ññ# (
;
ññ( )
}
óó 
}
òò 
}
ôô 
}
öö 
catch
õõ 
(
õõ 
	Exception
õõ 
e
õõ 
)
õõ 
{
úú 
throw
úú 
e
úú 
=
úú 
new
úú 
	Exception
úú %
(
úú% &
e
úú& '
.
úú' (
Message
úú( /
)
úú/ 0
;
úú0 1
}
úú2 3
}
ùù 	
public
†† 
bool
†† $
Sp_RisXmlEvents_Update
†† *
(
††* +
RisXmlEventsE
††+ 8
pRisXmlEventsE
††9 G
)
††G H
{
°° 	
try
¢¢ 
{
££ 
using
§§ 
(
§§ 
SqlConnection
§§ $
cnn
§§% (
=
§§) *
new
§§+ .
SqlConnection
§§/ <
(
§§< =
VariablesGlobales
§§= N
.
§§N O
CnnRisClinica
§§O \
)
§§\ ]
)
§§] ^
{
•• 
using
¶¶ 
(
¶¶ 

SqlCommand
¶¶ %
cmd
¶¶& )
=
¶¶* +
new
¶¶, /

SqlCommand
¶¶0 :
(
¶¶: ;
$str
¶¶; S
,
¶¶S T
cnn
¶¶U X
)
¶¶X Y
)
¶¶Y Z
{
ßß 
cmd
®® 
.
®® 
CommandType
®® '
=
®®( )
System
®®* 0
.
®®0 1
Data
®®1 5
.
®®5 6
CommandType
®®6 A
.
®®A B
StoredProcedure
®®B Q
;
®®Q R
cmd
™™ 
.
™™ 

Parameters
™™ &
.
™™& '
AddWithValue
™™' 3
(
™™3 4
$str
™™4 B
,
™™B C
pRisXmlEventsE
™™D R
.
™™R S

CodEmpresa
™™S ]
)
™™] ^
;
™™^ _
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 C
,
´´C D
pRisXmlEventsE
´´E S
.
´´S T
CodSucursal
´´T _
)
´´_ `
;
´´` a
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ &
.
¨¨& '
AddWithValue
¨¨' 3
(
¨¨3 4
$str
¨¨4 ?
,
¨¨? @
pRisXmlEventsE
¨¨A O
.
¨¨O P
EventId
¨¨P W
)
¨¨W X
;
¨¨X Y
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ &
.
≠≠& '
AddWithValue
≠≠' 3
(
≠≠3 4
$str
≠≠4 A
,
≠≠A B
pRisXmlEventsE
≠≠C Q
.
≠≠Q R
	EventDesc
≠≠R [
)
≠≠[ \
;
≠≠\ ]
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 E
,
ÆÆE F
pRisXmlEventsE
ÆÆG U
.
ÆÆU V
EventDateTime
ÆÆV c
)
ÆÆc d
;
ÆÆd e
cmd
ØØ 
.
ØØ 

Parameters
ØØ &
.
ØØ& '
AddWithValue
ØØ' 3
(
ØØ3 4
$str
ØØ4 D
,
ØØD E
pRisXmlEventsE
ØØF T
.
ØØT U
EventTypeId
ØØU `
)
ØØ` a
;
ØØa b
cmd
∞∞ 
.
∞∞ 

Parameters
∞∞ &
.
∞∞& '
AddWithValue
∞∞' 3
(
∞∞3 4
$str
∞∞4 C
,
∞∞C D
pRisXmlEventsE
∞∞E S
.
∞∞S T
OrderStatus
∞∞T _
)
∞∞_ `
;
∞∞` a
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
AddWithValue
±±' 3
(
±±3 4
$str
±±4 B
,
±±B C
pRisXmlEventsE
±±D R
.
±±R S

IdPaciente
±±S ]
)
±±] ^
;
±±^ _
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ &
.
≤≤& '
AddWithValue
≤≤' 3
(
≤≤3 4
$str
≤≤4 F
,
≤≤F G
pRisXmlEventsE
≤≤H V
.
≤≤V W
IdPacienteRis
≤≤W d
)
≤≤d e
;
≤≤e f
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ &
.
≥≥& '
AddWithValue
≥≥' 3
(
≥≥3 4
$str
≥≥4 C
,
≥≥C D
pRisXmlEventsE
≥≥E S
.
≥≥S T
RutPaciente
≥≥T _
)
≥≥_ `
;
≥≥` a
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ &
.
¥¥& '
AddWithValue
¥¥' 3
(
¥¥3 4
$str
¥¥4 D
,
¥¥D E
pRisXmlEventsE
¥¥F T
.
¥¥T U
TipoPaciente
¥¥U a
)
¥¥a b
;
¥¥b c
cmd
µµ 
.
µµ 

Parameters
µµ &
.
µµ& '
AddWithValue
µµ' 3
(
µµ3 4
$str
µµ4 B
,
µµB C
pRisXmlEventsE
µµD R
.
µµR S

IdAdmision
µµS ]
)
µµ] ^
;
µµ^ _
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ &
.
∂∂& '
AddWithValue
∂∂' 3
(
∂∂3 4
$str
∂∂4 A
,
∂∂A B
pRisXmlEventsE
∂∂C Q
.
∂∂Q R
	IdIngreso
∂∂R [
)
∂∂[ \
;
∂∂\ ]
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ &
.
∑∑& '
AddWithValue
∑∑' 3
(
∑∑3 4
$str
∑∑4 B
,
∑∑B C
pRisXmlEventsE
∑∑D R
.
∑∑R S

IdAtencion
∑∑S ]
)
∑∑] ^
;
∑∑^ _
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ &
.
∏∏& '
AddWithValue
∏∏' 3
(
∏∏3 4
$str
∏∏4 B
,
∏∏B C
pRisXmlEventsE
∏∏D R
.
∏∏R S

CodPaquete
∏∏S ]
)
∏∏] ^
;
∏∏^ _
cmd
ππ 
.
ππ 

Parameters
ππ &
.
ππ& '
AddWithValue
ππ' 3
(
ππ3 4
$str
ππ4 J
,
ππJ K
pRisXmlEventsE
ππL Z
.
ππZ [
FillerOrderInt
ππ[ i
)
ππi j
;
ππj k
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ &
.
∫∫& '
AddWithValue
∫∫' 3
(
∫∫3 4
$str
∫∫4 >
,
∫∫> ?
pRisXmlEventsE
∫∫@ N
.
∫∫N O
XmlMsg
∫∫O U
)
∫∫U V
;
∫∫V W
cmd
ªª 
.
ªª 

Parameters
ªª &
.
ªª& '
AddWithValue
ªª' 3
(
ªª3 4
$str
ªª4 K
,
ªªK L
pRisXmlEventsE
ªªM [
.
ªª[ \ 
XmlIntegrationDate
ªª\ n
)
ªªn o
;
ªªo p
cmd
ºº 
.
ºº 

Parameters
ºº &
.
ºº& '
AddWithValue
ºº' 3
(
ºº3 4
$str
ºº4 G
,
ººG H
pRisXmlEventsE
ººI W
.
ººW X
XmlEventStatus
ººX f
)
ººf g
;
ººg h
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ &
.
ΩΩ& '
AddWithValue
ΩΩ' 3
(
ΩΩ3 4
$str
ΩΩ4 I
,
ΩΩI J
pRisXmlEventsE
ΩΩK Y
.
ΩΩY Z
XmlMessageStatus
ΩΩZ j
)
ΩΩj k
;
ΩΩk l
cmd
ææ 
.
ææ 

Parameters
ææ &
.
ææ& '
AddWithValue
ææ' 3
(
ææ3 4
$str
ææ4 G
,
ææG H
pRisXmlEventsE
ææI W
.
ææW X
XmlUserUpdated
ææX f
)
ææf g
;
ææg h
cmd
øø 
.
øø 

Parameters
øø &
.
øø& '
AddWithValue
øø' 3
(
øø3 4
$str
øø4 @
,
øø@ A
pRisXmlEventsE
øøB P
.
øøP Q
XmlFlag1
øøQ Y
)
øøY Z
;
øøZ [
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
.
¿¿& '
AddWithValue
¿¿' 3
(
¿¿3 4
$str
¿¿4 D
,
¿¿D E
pRisXmlEventsE
¿¿F T
.
¿¿T U
FlgProcesado
¿¿U a
)
¿¿a b
;
¿¿b c
cnn
¬¬ 
.
¬¬ 
Open
¬¬  
(
¬¬  !
)
¬¬! "
;
¬¬" #
int
ƒƒ 
exito
ƒƒ !
=
ƒƒ" #
cmd
ƒƒ$ '
.
ƒƒ' (
ExecuteNonQuery
ƒƒ( 7
(
ƒƒ7 8
)
ƒƒ8 9
;
ƒƒ9 :
cnn
≈≈ 
.
≈≈ 
Close
≈≈ !
(
≈≈! "
)
≈≈" #
;
≈≈# $
cmd
∆∆ 
.
∆∆ 
Dispose
∆∆ #
(
∆∆# $
)
∆∆$ %
;
∆∆% &
if
«« 
(
«« 
exito
«« !
>=
««" $
$num
««% &
)
««& '
{
»» 
return
»»  
true
»»! %
;
»»% &
}
»»' (
else
…… 
{
   
return
    
false
  ! &
;
  & '
}
  ( )
}
ÀÀ 
}
ÃÃ 
}
ÕÕ 
catch
ŒŒ 
(
ŒŒ 
	Exception
ŒŒ 
e
ŒŒ 
)
ŒŒ 
{
œœ 
throw
œœ 
e
œœ 
=
œœ 
new
œœ 
	Exception
œœ %
(
œœ% &
e
œœ& '
.
œœ' (
Message
œœ( /
)
œœ/ 0
;
œœ0 1
}
œœ2 3
}
–– 	
public
”” 
bool
”” *
Sp_RisXmlEvents_UpdatexCampo
”” 0
(
””0 1
RisXmlEventsE
””1 >
pRisXmlEventsE
””? M
)
””M N
{
‘‘ 	
try
’’ 
{
÷÷ 
using
◊◊ 
(
◊◊ 
SqlConnection
◊◊ $
cnn
◊◊% (
=
◊◊) *
new
◊◊+ .
SqlConnection
◊◊/ <
(
◊◊< =
VariablesGlobales
◊◊= N
.
◊◊N O
CnnRisClinica
◊◊O \
)
◊◊\ ]
)
◊◊] ^
{
ÿÿ 
using
ŸŸ 
(
ŸŸ 

SqlCommand
ŸŸ %
cmd
ŸŸ& )
=
ŸŸ* +
new
ŸŸ, /

SqlCommand
ŸŸ0 :
(
ŸŸ: ;
$str
ŸŸ; Y
,
ŸŸY Z
cnn
ŸŸ[ ^
)
ŸŸ^ _
)
ŸŸ_ `
{
⁄⁄ 
cmd
€€ 
.
€€ 
CommandType
€€ '
=
€€( )
System
€€* 0
.
€€0 1
Data
€€1 5
.
€€5 6
CommandType
€€6 A
.
€€A B
StoredProcedure
€€B Q
;
€€Q R
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 J
,
››J K
pRisXmlEventsE
››L Z
.
››Z [
FillerOrderInt
››[ i
)
››i j
;
››j k
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ &
.
ﬁﬁ& '
AddWithValue
ﬁﬁ' 3
(
ﬁﬁ3 4
$str
ﬁﬁ4 D
,
ﬁﬁD E
pRisXmlEventsE
ﬁﬁF T
.
ﬁﬁT U
EventTypeId
ﬁﬁU `
)
ﬁﬁ` a
;
ﬁﬁa b
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ &
.
ﬂﬂ& '
AddWithValue
ﬂﬂ' 3
(
ﬂﬂ3 4
$str
ﬂﬂ4 >
,
ﬂﬂ> ?
pRisXmlEventsE
ﬂﬂ@ N
.
ﬂﬂN O
Version
ﬂﬂO V
)
ﬂﬂV W
;
ﬂﬂW X
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ &
.
‡‡& '
AddWithValue
‡‡' 3
(
‡‡3 4
$str
‡‡4 B
,
‡‡B C
pRisXmlEventsE
‡‡D R
.
‡‡R S

NuevoValor
‡‡S ]
)
‡‡] ^
;
‡‡^ _
cmd
·· 
.
·· 

Parameters
·· &
.
··& '
AddWithValue
··' 3
(
··3 4
$str
··4 <
,
··< =
pRisXmlEventsE
··> L
.
··L M
Campo
··M R
)
··R S
;
··S T
cnn
„„ 
.
„„ 
Open
„„  
(
„„  !
)
„„! "
;
„„" #
int
ÂÂ 
exito
ÂÂ !
=
ÂÂ" #
cmd
ÂÂ$ '
.
ÂÂ' (
ExecuteNonQuery
ÂÂ( 7
(
ÂÂ7 8
)
ÂÂ8 9
;
ÂÂ9 :
cnn
ÊÊ 
.
ÊÊ 
Close
ÊÊ !
(
ÊÊ! "
)
ÊÊ" #
;
ÊÊ# $
cmd
ÁÁ 
.
ÁÁ 
Dispose
ÁÁ #
(
ÁÁ# $
)
ÁÁ$ %
;
ÁÁ% &
if
ËË 
(
ËË 
exito
ËË !
>=
ËË" $
$num
ËË% &
)
ËË& '
{
ÈÈ 
return
ÈÈ  
true
ÈÈ! %
;
ÈÈ% &
}
ÈÈ' (
else
ÍÍ 
{
ÎÎ 
return
ÎÎ  
false
ÎÎ! &
;
ÎÎ& '
}
ÎÎ( )
}
ÏÏ 
}
ÌÌ 
}
ÓÓ 
catch
ÔÔ 
(
ÔÔ 
	Exception
ÔÔ 
e
ÔÔ 
)
ÔÔ 
{
 
throw
 
e
 
=
 
new
 
	Exception
 %
(
% &
e
& '
.
' (
Message
( /
)
/ 0
;
0 1
}
2 3
}
ÒÒ 	
}
ÚÚ 
}ÛÛ Ø©
dD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\RisClinicaAD\PDFDocumentAD\PDFDocumentAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
RisClinicaAD

 
.

 
PDFDocumentAD

 ,
{ 
public 

class 
PDFDocumentAD 
{ 
private 
PDFDocumentE 
LlenarEntidad *
(* +
IDataReader+ 6
dr7 9
,9 :
PDFDocumentE" .
pPDFDOCUMENTE/ <
)< =
{ 	
PDFDocumentE 
oPDFDOCUMENTE &
=' (
new) ,
PDFDocumentE- 9
(9 :
): ;
;; <
switch 
( 
pPDFDOCUMENTE !
.! "
Orden" '
)' (
{ 
case 
$num 
: 
oPDFDOCUMENTE !
.! "
SPSIDKEY" *
=+ ,
Convert- 4
.4 5
ToString5 =
(= >
dr> @
[@ A
$strA M
]M N
)N O
;O P
oPDFDOCUMENTE !
.! "
PDFDATE" )
=* +
Convert, 3
.3 4
ToString4 <
(< =
dr= ?
[? @
$str@ J
]J K
)K L
;L M
oPDFDOCUMENTE !
.! "
DESCRIPTION" -
=. /
Convert0 7
.7 8
ToString8 @
(@ A
drA C
[C D
$strD Q
]Q R
)R S
;S T
oPDFDOCUMENTE !
.! "
CONTENTS" *
=+ ,
(- .
byte. 2
[2 3
]3 4
)4 5
(5 6
dr6 8
[8 9
$str9 C
]C D
)D E
;E F
oPDFDOCUMENTE !
.! "
ORDERPLACER" -
=. /
Convert0 7
.7 8
ToString8 @
(@ A
drA C
[C D
$strD Q
]Q R
)R S
;S T
oPDFDOCUMENTE !
.! "
DOCEXTENSION" .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE T
]T U
)U V
;V W
oPDFDOCUMENTE !
.! "
PDFTIME" )
=* +
Convert, 3
.3 4
ToString4 <
(< =
dr= ?
[? @
$str@ J
]J K
)K L
;L M
oPDFDOCUMENTE !
.! "
	CODMEDICO" +
=, -
Convert. 5
.5 6
ToString6 >
(> ?
dr? A
[A B
$strB M
]M N
)N O
;O P
oPDFDOCUMENTE !
.! "
VERSION" )
=* +
Convert, 3
.3 4
ToInt324 ;
(; <
dr< >
[> ?
$str? H
]H I
)I J
;J K
oPDFDOCUMENTE !
.! "
ESTADO" (
=) *
Convert+ 2
.2 3
ToInt323 :
(: ;
dr; =
[= >
$str> F
]F G
)G H
;H I
break 
; 
case   
$num   
:   
oPDFDOCUMENTE!! !
.!!! "
	CODMEDICO!!" +
=!!, -
Convert!!. 5
.!!5 6
ToString!!6 >
(!!> ?
dr!!? A
[!!A B
$str!!B M
]!!M N
)!!N O
;!!O P
oPDFDOCUMENTE"" !
.""! "
SPSIDKEY""" *
=""+ ,
Convert""- 4
.""4 5
ToString""5 =
(""= >
dr""> @
[""@ A
$str""A M
]""M N
)""N O
;""O P
oPDFDOCUMENTE## !
.##! "
PDFDATE##" )
=##* +
Convert##, 3
.##3 4
ToString##4 <
(##< =
dr##= ?
[##? @
$str##@ J
]##J K
)##K L
;##L M
oPDFDOCUMENTE$$ !
.$$! "
DESCRIPTION$$" -
=$$. /
Convert$$0 7
.$$7 8
ToString$$8 @
($$@ A
dr$$A C
[$$C D
$str$$D Q
]$$Q R
)$$R S
;$$S T
oPDFDOCUMENTE%% !
.%%! "
CONTENTS%%" *
=%%+ ,
(%%- .
byte%%. 2
[%%2 3
]%%3 4
)%%4 5
(%%5 6
dr%%6 8
[%%8 9
$str%%9 C
]%%C D
)%%D E
;%%E F
oPDFDOCUMENTE&& !
.&&! "
ORDERPLACER&&" -
=&&. /
Convert&&0 7
.&&7 8
ToString&&8 @
(&&@ A
dr&&A C
[&&C D
$str&&D Q
]&&Q R
)&&R S
;&&S T
oPDFDOCUMENTE'' !
.''! "
DOCEXTENSION''" .
=''/ 0
Convert''1 8
.''8 9
ToString''9 A
(''A B
dr''B D
[''D E
$str''E T
]''T U
)''U V
;''V W
oPDFDOCUMENTE(( !
.((! "
VERSION((" )
=((* +
Convert((, 3
.((3 4
ToInt32((4 ;
(((; <
dr((< >
[((> ?
$str((? H
]((H I
)((I J
;((J K
oPDFDOCUMENTE)) !
.))! "
ESTADO))" (
=))) *
Convert))+ 2
.))2 3
ToInt32))3 :
()): ;
dr)); =
[))= >
$str))> F
]))F G
)))G H
;))H I
oPDFDOCUMENTE** !
.**! "
PDFTIME**" )
=*** +
Convert**, 3
.**3 4
ToString**4 <
(**< =
dr**= ?
[**? @
$str**@ J
]**J K
)**K L
;**L M
break++ 
;++ 
},, 
return-- 
oPDFDOCUMENTE--  
;--  !
}.. 	
public00 
List00 
<00 
PDFDocumentE00  
>00  !#
Sp_PDFDOCUMENT_Consulta00" 9
(009 :
PDFDocumentE00: F
pPDFDOCUMENTE00G T
)00T U
{11 	
List22 
<22 
PDFDocumentE22 
>22 
oListar22 &
=22' (
new22) ,
List22- 1
<221 2
PDFDocumentE222 >
>22> ?
(22? @
)22@ A
;22A B
PDFDocumentE33 
oPDFDOCUMENTE33 &
=33' (
null33) -
;33- .
using44 
(44 
SqlConnection44  
cnn44! $
=44% &
new44' *
SqlConnection44+ 8
(448 9
VariablesGlobales449 J
.44J K
CnnRisClinica44K X
)44X Y
)44Y Z
{55 
using66 
(66 

SqlCommand66 !
cmd66" %
=66& '
new66( +

SqlCommand66, 6
(666 7
$str667 P
,66P Q
cnn66R U
)66U V
)66V W
{77 
cmd88 
.88 
CommandType88 #
=88$ %
CommandType88& 1
.881 2
StoredProcedure882 A
;88A B
cmd:: 
.:: 

Parameters:: "
.::" #
AddWithValue::# /
(::/ 0
$str::0 8
,::8 9
pPDFDOCUMENTE::: G
.::G H
Buscar::H N
)::N O
;::O P
cmd;; 
.;; 

Parameters;; "
.;;" #
AddWithValue;;# /
(;;/ 0
$str;;0 8
,;;8 9
pPDFDOCUMENTE;;: G
.;;G H
Campo;;H M
);;M N
;;;N O
cmd<< 
.<< 

Parameters<< "
.<<" #
AddWithValue<<# /
(<</ 0
$str<<0 >
,<<> ?
pPDFDOCUMENTE<<@ M
.<<M N
NumeroFilas<<N Y
)<<Y Z
;<<Z [
cmd== 
.== 

Parameters== "
.==" #
AddWithValue==# /
(==/ 0
$str==0 8
,==8 9
pPDFDOCUMENTE==: G
.==G H
Orden==H M
)==M N
;==N O
cnn>> 
.>> 
Open>> 
(>> 
)>> 
;>> 
IDataReader?? 
dr??  "
=??# $
cmd??% (
.??( )
ExecuteReader??) 6
(??6 7
)??7 8
;??8 9
while@@ 
(@@ 
dr@@ 
.@@ 
Read@@ "
(@@" #
)@@# $
)@@$ %
{AA 
oPDFDOCUMENTEBB %
=BB& '
LlenarEntidadBB( 5
(BB5 6
drBB6 8
,BB8 9
pPDFDOCUMENTEBB: G
)BBG H
;BBH I
oListarCC 
.CC  
AddCC  #
(CC# $
oPDFDOCUMENTECC$ 1
)CC1 2
;CC2 3
}DD 
drEE 
.EE 
CloseEE 
(EE 
)EE 
;EE 
cnnFF 
.FF 
CloseFF 
(FF 
)FF 
;FF  
}GG 
}HH 
returnII 
oListarII 
;II 
}JJ 	
publicMM 
boolMM !
Sp_PDFDOCUMENT_InsertMM )
(MM) *
PDFDocumentEMM* 6
pPDFDOCUMENTEMM7 D
)MMD E
{NN 	
tryOO 
{PP 
usingQQ 
(QQ 
SqlConnectionQQ $
cnnQQ% (
=QQ) *
newQQ+ .
SqlConnectionQQ/ <
(QQ< =
VariablesGlobalesQQ= N
.QQN O
CnnRisClinicaQQO \
)QQ\ ]
)QQ] ^
{RR 
usingSS 
(SS 

SqlCommandSS %
cmdSS& )
=SS* +
newSS, /

SqlCommandSS0 :
(SS: ;
$strSS; R
,SSR S
cnnSST W
)SSW X
)SSX Y
{TT 
cmdUU 
.UU 
CommandTypeUU '
=UU( )
CommandTypeUU* 5
.UU5 6
StoredProcedureUU6 E
;UUE F
cmdWW 
.WW 

ParametersWW &
.WW& '
AddWithValueWW' 3
(WW3 4
$strWW4 A
,WWA B
pPDFDOCUMENTEWWC P
.WWP Q
SPSIDKEYWWQ Y
)WWY Z
;WWZ [
cmdXX 
.XX 

ParametersXX &
.XX& '
AddWithValueXX' 3
(XX3 4
$strXX4 ?
,XX? @
pPDFDOCUMENTEXXA N
.XXN O
PDFDATEXXO V
)XXV W
;XXW X
cmdYY 
.YY 

ParametersYY &
.YY& '
AddWithValueYY' 3
(YY3 4
$strYY4 B
,YYB C
pPDFDOCUMENTEYYD Q
.YYQ R
DESCRIPTIONYYR ]
)YY] ^
;YY^ _
cmdZZ 
.ZZ 

ParametersZZ &
.ZZ& '
AddWithValueZZ' 3
(ZZ3 4
$strZZ4 ?
,ZZ? @
pPDFDOCUMENTEZZA N
.ZZN O
CONTENTSZZO W
)ZZW X
;ZZX Y
cmd[[ 
.[[ 

Parameters[[ &
.[[& '
AddWithValue[[' 3
([[3 4
$str[[4 B
,[[B C
pPDFDOCUMENTE[[D Q
.[[Q R
ORDERPLACER[[R ]
)[[] ^
;[[^ _
cmd\\ 
.\\ 

Parameters\\ &
.\\& '
AddWithValue\\' 3
(\\3 4
$str\\4 D
,\\D E
pPDFDOCUMENTE\\F S
.\\S T
DOCEXTENSION\\T `
)\\` a
;\\a b
cmd]] 
.]] 

Parameters]] &
.]]& '
AddWithValue]]' 3
(]]3 4
$str]]4 ?
,]]? @
pPDFDOCUMENTE]]A N
.]]N O
PDFTIME]]O V
)]]V W
;]]W X
cmd^^ 
.^^ 

Parameters^^ &
.^^& '
AddWithValue^^' 3
(^^3 4
$str^^4 @
,^^@ A
pPDFDOCUMENTE^^B O
.^^O P
	CODMEDICO^^P Y
)^^Y Z
;^^Z [
cmd__ 
.__ 

Parameters__ &
.__& '
AddWithValue__' 3
(__3 4
$str__4 >
,__> ?
pPDFDOCUMENTE__@ M
.__M N
VERSION__N U
)__U V
;__V W
cmd`` 
.`` 

Parameters`` &
.``& '
AddWithValue``' 3
(``3 4
$str``4 =
,``= >
pPDFDOCUMENTE``? L
.``L M
ESTADO``M S
)``S T
;``T U
cnnbb 
.bb 
Openbb  
(bb  !
)bb! "
;bb" #
intdd 
exitodd !
=dd" #
cmddd$ '
.dd' (
ExecuteNonQuerydd( 7
(dd7 8
)dd8 9
;dd9 :
cnnee 
.ee 
Closeee !
(ee! "
)ee" #
;ee# $
cmdff 
.ff 
Disposeff #
(ff# $
)ff$ %
;ff% &
ifgg 
(gg 
exitogg !
>=gg" $
$numgg% &
)gg& '
{hh 
returnii "
trueii# '
;ii' (
}jj 
elsekk 
{ll 
returnmm "
falsemm# (
;mm( )
}nn 
}oo 
}pp 
}qq 
catchrr 
(rr 
	Exceptionrr 
err 
)rr 
{ss 
throwss 
ess 
=ss 
newss 
	Exceptionss %
(ss% &
ess& '
.ss' (
Messagess( /
)ss/ 0
;ss0 1
}ss2 3
}tt 	
publicww 
boolww !
Sp_PDFDOCUMENT_Updateww )
(ww) *
PDFDocumentEww* 6
pPDFDOCUMENTEww7 D
)wwD E
{xx 	
tryyy 
{zz 
using{{ 
({{ 
SqlConnection{{ $
cnn{{% (
={{) *
new{{+ .
SqlConnection{{/ <
({{< =
VariablesGlobales{{= N
.{{N O
CnnRisClinica{{O \
){{\ ]
){{] ^
{|| 
using}} 
(}} 

SqlCommand}} %
cmd}}& )
=}}* +
new}}, /

SqlCommand}}0 :
(}}: ;
$str}}; R
,}}R S
cnn}}T W
)}}W X
)}}X Y
{~~ 
cmd 
. 
CommandType '
=( )
CommandType* 5
.5 6
StoredProcedure6 E
;E F
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 A
,
ÅÅA B
pPDFDOCUMENTE
ÅÅC P
.
ÅÅP Q
SPSIDKEY
ÅÅQ Y
)
ÅÅY Z
;
ÅÅZ [
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 ?
,
ÇÇ? @
pPDFDOCUMENTE
ÇÇA N
.
ÇÇN O
PDFDATE
ÇÇO V
)
ÇÇV W
;
ÇÇW X
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 B
,
ÉÉB C
pPDFDOCUMENTE
ÉÉD Q
.
ÉÉQ R
DESCRIPTION
ÉÉR ]
)
ÉÉ] ^
;
ÉÉ^ _
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 ?
,
ÑÑ? @
pPDFDOCUMENTE
ÑÑA N
.
ÑÑN O
CONTENTS
ÑÑO W
)
ÑÑW X
;
ÑÑX Y
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 B
,
ÖÖB C
pPDFDOCUMENTE
ÖÖD Q
.
ÖÖQ R
ORDERPLACER
ÖÖR ]
)
ÖÖ] ^
;
ÖÖ^ _
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 D
,
ÜÜD E
pPDFDOCUMENTE
ÜÜF S
.
ÜÜS T
DOCEXTENSION
ÜÜT `
)
ÜÜ` a
;
ÜÜa b
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 ?
,
áá? @
pPDFDOCUMENTE
ááA N
.
ááN O
PDFTIME
ááO V
)
ááV W
;
ááW X
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 @
,
àà@ A
pPDFDOCUMENTE
ààB O
.
ààO P
	CODMEDICO
ààP Y
)
ààY Z
;
ààZ [
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 >
,
ââ> ?
pPDFDOCUMENTE
ââ@ M
.
ââM N
VERSION
ââN U
)
ââU V
;
ââV W
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 =
,
ää= >
pPDFDOCUMENTE
ää? L
.
ääL M
ESTADO
ääM S
)
ääS T
;
ääT U
cnn
åå 
.
åå 
Open
åå  
(
åå  !
)
åå! "
;
åå" #
int
éé 
exito
éé !
=
éé" #
cmd
éé$ '
.
éé' (
ExecuteNonQuery
éé( 7
(
éé7 8
)
éé8 9
;
éé9 :
cnn
èè 
.
èè 
Close
èè !
(
èè! "
)
èè" #
;
èè# $
cmd
êê 
.
êê 
Dispose
êê #
(
êê# $
)
êê$ %
;
êê% &
if
ëë 
(
ëë 
exito
ëë !
>=
ëë" $
$num
ëë% &
)
ëë& '
{
íí 
return
íí  
true
íí! %
;
íí% &
}
íí' (
else
ìì 
{
îî 
return
îî  
false
îî! &
;
îî& '
}
îî( )
}
ïï 
}
ññ 
}
óó 
catch
òò 
(
òò 
	Exception
òò 
e
òò 
)
òò 
{
ôô 
throw
ôô 
e
ôô 
=
ôô 
new
ôô 
	Exception
ôô %
(
ôô% &
e
ôô& '
.
ôô' (
Message
ôô( /
)
ôô/ 0
;
ôô0 1
}
ôô2 3
}
öö 	
public
ùù 
bool
ùù )
Sp_PDFDOCUMENT_UpdatexCampo
ùù /
(
ùù/ 0
PDFDocumentE
ùù0 <
pPDFDOCUMENTE
ùù= J
)
ùùJ K
{
ûû 	
try
üü 
{
†† 
using
°° 
(
°° 
SqlConnection
°° $
cnn
°°% (
=
°°) *
new
°°+ .
SqlConnection
°°/ <
(
°°< =
VariablesGlobales
°°= N
.
°°N O
CnnRisClinica
°°O \
)
°°\ ]
)
°°] ^
{
¢¢ 
using
££ 
(
££ 

SqlCommand
££ %
cmd
££& )
=
££* +
new
££, /

SqlCommand
££0 :
(
££: ;
$str
££; X
,
££X Y
cnn
££Z ]
)
££] ^
)
££^ _
{
§§ 
cmd
•• 
.
•• 
CommandType
•• '
=
••( )
CommandType
••* 5
.
••5 6
StoredProcedure
••6 E
;
••E F
cmd
ßß 
.
ßß 

Parameters
ßß &
.
ßß& '
AddWithValue
ßß' 3
(
ßß3 4
$str
ßß4 B
,
ßßB C
pPDFDOCUMENTE
ßßD Q
.
ßßQ R

NuevoValor
ßßR \
)
ßß\ ]
;
ßß] ^
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
AddWithValue
®®' 3
(
®®3 4
$str
®®4 <
,
®®< =
pPDFDOCUMENTE
®®> K
.
®®K L
Campo
®®L Q
)
®®Q R
;
®®R S
cmd
©© 
.
©© 

Parameters
©© &
.
©©& '
AddWithValue
©©' 3
(
©©3 4
$str
©©4 B
,
©©B C
pPDFDOCUMENTE
©©D Q
.
©©Q R
ORDERPLACER
©©R ]
)
©©] ^
;
©©^ _
cmd
™™ 
.
™™ 

Parameters
™™ &
.
™™& '
AddWithValue
™™' 3
(
™™3 4
$str
™™4 ?
,
™™? @
pPDFDOCUMENTE
™™A N
.
™™N O
SPSIDKEY
™™O W
)
™™W X
;
™™X Y
cnn
≠≠ 
.
≠≠ 
Open
≠≠  
(
≠≠  !
)
≠≠! "
;
≠≠" #
int
ØØ 
exito
ØØ !
=
ØØ" #
cmd
ØØ$ '
.
ØØ' (
ExecuteNonQuery
ØØ( 7
(
ØØ7 8
)
ØØ8 9
;
ØØ9 :
cnn
∞∞ 
.
∞∞ 
Close
∞∞ !
(
∞∞! "
)
∞∞" #
;
∞∞# $
cmd
±± 
.
±± 
Dispose
±± #
(
±±# $
)
±±$ %
;
±±% &
if
≤≤ 
(
≤≤ 
exito
≤≤ !
>=
≤≤" $
$num
≤≤% &
)
≤≤& '
{
≥≥ 
return
≥≥  
true
≥≥! %
;
≥≥% &
}
≥≥' (
else
¥¥ 
{
µµ 
return
µµ  
false
µµ! &
;
µµ& '
}
µµ( )
}
∂∂ 
}
∑∑ 
}
∏∏ 
catch
ππ 
(
ππ 
	Exception
ππ 
e
ππ 
)
ππ 
{
∫∫ 
throw
∫∫ 
e
∫∫ 
=
∫∫ 
new
∫∫ 
	Exception
∫∫ %
(
∫∫% &
e
∫∫& '
.
∫∫' (
Message
∫∫( /
)
∫∫/ 0
;
∫∫0 1
}
∫∫2 3
}
ªª 	
}
ºº 
}ΩΩ ñi
hD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\RisClinicaAD\ImagenRisPacsAD\ImagenRisPacsAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
RisClinicaAD 
. 
ImagenRisPacsAD .
{ 
public 

class 
ImagenRisPacsAD  
{ 
public 
List 
< 
ImagenRisPacsE "
." #
ListarPeriodo# 0
>0 1&
Sp_ImagenRis_ListarPeriodo2 L
(L M
ImagenRisPacsEM [
pImagenRisPacsE\ k
)k l
{ 	
List 
< 
ImagenRisPacsE 
.  
ListarPeriodo  -
>- .
oListar/ 6
=7 8
new9 <
List= A
<A B
ImagenRisPacsEB P
.P Q
ListarPeriodoQ ^
>^ _
(_ `
)` a
;a b
using 
( 
SqlConnection  
cnn! $
=% &
new' *
SqlConnection+ 8
(8 9
VariablesGlobales9 J
.J K

CnnClinicaK U
)U V
)V W
{ 
using 
( 

SqlCommand !
cmd" %
=& '
new( +

SqlCommand, 6
(6 7
$str7 S
,S T
cnnU X
)X Y
)Y Z
{ 
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
StoredProcedure2 A
;A B
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 >
,> ?
pImagenRisPacsE@ O
.O P
codpacienteP [
)[ \
;\ ]
cnn   
.   
Open   
(   
)   
;   
IDataReader!! 
dr!!  "
=!!# $
cmd!!% (
.!!( )
ExecuteReader!!) 6
(!!6 7
)!!7 8
;!!8 9
while"" 
("" 
dr"" 
."" 
Read"" "
(""" #
)""# $
)""$ %
{## 
var$$ 
oImagenRisPacsE$$ +
=$$, -
new$$. 1
ImagenRisPacsE$$2 @
.$$@ A
ListarPeriodo$$A N
($$N O
)$$O P
;$$P Q
oImagenRisPacsE%% '
.%%' (
Periodo%%( /
=%%0 1
Convert%%2 9
.%%9 :
ToInt32%%: A
(%%A B
dr%%B D
[%%D E
$str%%E N
]%%N O
)%%O P
;%%P Q
oListar&& 
.&&  
Add&&  #
(&&# $
oImagenRisPacsE&&$ 3
)&&3 4
;&&4 5
}'' 
dr(( 
.(( 
Close(( 
((( 
)(( 
;(( 
cnn)) 
.)) 
Close)) 
()) 
))) 
;))  
}** 
}++ 
return,, 
oListar,, 
;,, 
}-- 	
public// 
List// 
<// 
ImagenRisPacsE// "
.//" #
ListarImagen//# /
>/// 0%
Sp_ImagenRis_ListarImagen//1 J
(//J K
ImagenRisPacsE//K Y
pImagenRisPacsE//Z i
)//i j
{00 	
List11 
<11 
ImagenRisPacsE11 
.11  
ListarImagen11  ,
>11, -
oListar11. 5
=116 7
new118 ;
List11< @
<11@ A
ImagenRisPacsE11A O
.11O P
ListarImagen11P \
>11\ ]
(11] ^
)11^ _
;11_ `
using22 
(22 
SqlConnection22  
cnn22! $
=22% &
new22' *
SqlConnection22+ 8
(228 9
VariablesGlobales229 J
.22J K

CnnClinica22K U
)22U V
)22V W
{33 
using44 
(44 

SqlCommand44 !
cmd44" %
=44& '
new44( +

SqlCommand44, 6
(446 7
$str447 R
,44R S
cnn44T W
)44W X
)44X Y
{55 
cmd66 
.66 
CommandType66 #
=66$ %
CommandType66& 1
.661 2
StoredProcedure662 A
;66A B
cmd88 
.88 

Parameters88 "
.88" #
AddWithValue88# /
(88/ 0
$str880 >
,88> ?
pImagenRisPacsE88@ O
.88O P
codpaciente88P [
)88[ \
;88\ ]
cmd99 
.99 

Parameters99 "
.99" #
AddWithValue99# /
(99/ 0
$str990 :
,99: ;
pImagenRisPacsE99< K
.99K L
periodo99L S
)99S T
;99T U
cnn:: 
.:: 
Open:: 
(:: 
):: 
;:: 
IDataReader;; 
dr;;  "
=;;# $
cmd;;% (
.;;( )
ExecuteReader;;) 6
(;;6 7
);;7 8
;;;8 9
while<< 
(<< 
dr<< 
.<< 
Read<< "
(<<" #
)<<# $
)<<$ %
{== 
var>> 
oImagenRisPacsE>> +
=>>, -
new>>. 1
ImagenRisPacsE>>2 @
.>>@ A
ListarImagen>>A M
(>>M N
)>>N O
;>>O P
oImagenRisPacsE?? '
.??' (
codatencion??( 3
=??4 5
Convert??6 =
.??= >
ToString??> F
(??F G
dr??G I
[??I J
$str??J W
]??W X
)??X Y
;??Y Z
oImagenRisPacsE@@ '
.@@' (
fec_registra@@( 4
=@@5 6
Convert@@7 >
.@@> ?
ToString@@? G
(@@G H
dr@@H J
[@@J K
$str@@K Y
]@@Y Z
)@@Z [
;@@[ \
oImagenRisPacsEAA '
.AA' (
numDocumentoAA( 4
=AA5 6
ConvertAA7 >
.AA> ?
ToStringAA? G
(AAG H
drAAH J
[AAJ K
$strAAK Y
]AAY Z
)AAZ [
;AA[ \
oImagenRisPacsEBB '
.BB' (
nombrePacienteBB( 6
=BB7 8
ConvertBB9 @
.BB@ A
ToStringBBA I
(BBI J
drBBJ L
[BBL M
$strBBM ]
]BB] ^
)BB^ _
;BB_ `
oImagenRisPacsECC '
.CC' (
nombreExamenCC( 4
=CC5 6
ConvertCC7 >
.CC> ?
ToStringCC? G
(CCG H
drCCH J
[CCJ K
$strCCK Y
]CCY Z
)CCZ [
;CC[ \
oImagenRisPacsEDD '
.DD' (
esInformeResultadoDD( :
=DD; <
ConvertDD= D
.DDD E
	ToBooleanDDE N
(DDN O
drDDO Q
[DDQ R
$strDDR f
]DDf g
)DDg h
;DDh i
oImagenRisPacsEEE '
.EE' (
esImagenResultadoEE( 9
=EE: ;
ConvertEE< C
.EEC D
	ToBooleanEED M
(EEM N
drEEN P
[EEP Q
$strEEQ d
]EEd e
)EEe f
;EEf g
oImagenRisPacsEFF '
.FF' (
idImagenResultadoFF( 9
=FF: ;
ConvertFF< C
.FFC D
ToStringFFD L
(FFL M
drFFM O
[FFO P
$strFFP c
]FFc d
)FFd e
;FFe f
oImagenRisPacsEGG '
.GG' (
idInformeResultadoGG( :
=GG; <
ConvertGG= D
.GGD E
ToStringGGE M
(GGM N
drGGN P
[GGP Q
$strGGQ e
]GGe f
)GGf g
;GGg h
oListarHH 
.HH  
AddHH  #
(HH# $
oImagenRisPacsEHH$ 3
)HH3 4
;HH4 5
}II 
drJJ 
.JJ 
CloseJJ 
(JJ 
)JJ 
;JJ 
cnnKK 
.KK 
CloseKK 
(KK 
)KK 
;KK  
}LL 
}MM 
returnNN 
oListarNN 
;NN 
}OO 	
publicQQ 
ImagenRisPacsEQQ 
.QQ 
ObtenerResultadoQQ .)
Sp_ImagenRis_ObtenerResultadoQQ/ L
(QQL M
ImagenRisPacsEQQM [
.QQ[ \
ReqObtenerResultadoQQ\ o
pImagenRisPacsEQQp 
)	QQ Ä
{RR 	
varSS 
oImagenRisPacsESS 
=SS  !
newSS" %
ImagenRisPacsESS& 4
.SS4 5
ObtenerResultadoSS5 E
(SSE F
)SSF G
;SSG H
usingTT 
(TT 
SqlConnectionTT  
cnnTT! $
=TT% &
newTT' *
SqlConnectionTT+ 8
(TT8 9
VariablesGlobalesTT9 J
.TTJ K

CnnClinicaTTK U
)TTU V
)TTV W
{UU 
usingVV 
(VV 

SqlCommandVV !
cmdVV" %
=VV& '
newVV( +

SqlCommandVV, 6
(VV6 7
$strVV7 V
,VVV W
cnnVVX [
)VV[ \
)VV\ ]
{WW 
cmdXX 
.XX 
CommandTypeXX #
=XX$ %
CommandTypeXX& 1
.XX1 2
StoredProcedureXX2 A
;XXA B
cmdZZ 
.ZZ 

ParametersZZ "
.ZZ" #
AddWithValueZZ# /
(ZZ/ 0
$strZZ0 E
,ZZE F
pImagenRisPacsEZZG V
.ZZV W
idInformeResultadoZZW i
)ZZi j
;ZZj k
cnn[[ 
.[[ 
Open[[ 
([[ 
)[[ 
;[[ 
IDataReader\\ 
dr\\  "
=\\# $
cmd\\% (
.\\( )
ExecuteReader\\) 6
(\\6 7
)\\7 8
;\\8 9
while]] 
(]] 
dr]] 
.]] 
Read]] "
(]]" #
)]]# $
)]]$ %
{^^ 
oImagenRisPacsE__ '
.__' (
archivoByte__( 3
=__4 5
Convert__6 =
.__= >
ToBase64String__> L
(__L M
(__M N
byte__N R
[__R S
]__S T
)__T U
dr__U W
[__W X
$str__X ^
]__^ _
)___ `
;__` a
}`` 
draa 
.aa 
Closeaa 
(aa 
)aa 
;aa 
cnnbb 
.bb 
Closebb 
(bb 
)bb 
;bb  
}cc 
}dd 
returnee 
oImagenRisPacsEee "
;ee" #
}ff 	
publichh 
ImagenRisPacsEhh 
.hh 
Validarhh % 
Sp_ImagenRis_Validarhh& :
(hh: ;
ImagenRisPacsEhh; I
pImagenRisPacsEhhJ Y
)hhY Z
{ii 	
varjj 
oImagenRisPacsEjj 
=jj  !
newjj" %
ImagenRisPacsEjj& 4
.jj4 5
Validarjj5 <
(jj< =
)jj= >
;jj> ?
usingkk 
(kk 
SqlConnectionkk  
cnnkk! $
=kk% &
newkk' *
SqlConnectionkk+ 8
(kk8 9
VariablesGlobaleskk9 J
.kkJ K

CnnClinicakkK U
)kkU V
)kkV W
{ll 
usingmm 
(mm 

SqlCommandmm !
cmdmm" %
=mm& '
newmm( +

SqlCommandmm, 6
(mm6 7
$strmm7 M
,mmM N
cnnmmO R
)mmR S
)mmS T
{nn 
cmdoo 
.oo 
CommandTypeoo #
=oo$ %
CommandTypeoo& 1
.oo1 2
StoredProcedureoo2 A
;ooA B
cmdqq 
.qq 

Parametersqq "
.qq" #
AddWithValueqq# /
(qq/ 0
$strqq0 @
,qq@ A
pImagenRisPacsEqqB Q
.qqQ R
identificadorqqR _
)qq_ `
;qq` a
cmdrr 
.rr 

Parametersrr "
.rr" #
AddWithValuerr# /
(rr/ 0
$strrr0 >
,rr> ?
pImagenRisPacsErr@ O
.rrO P
codpacienterrP [
)rr[ \
;rr\ ]
cmdss 
.ss 

Parametersss "
.ss" #
AddWithValuess# /
(ss/ 0
$strss0 8
,ss8 9
pImagenRisPacsEss: I
.ssI J
ordenssJ O
)ssO P
;ssP Q
cnntt 
.tt 
Opentt 
(tt 
)tt 
;tt 
IDataReaderuu 
druu  "
=uu# $
cmduu% (
.uu( )
ExecuteReaderuu) 6
(uu6 7
)uu7 8
;uu8 9
whilevv 
(vv 
drvv 
.vv 
Readvv "
(vv" #
)vv# $
)vv$ %
{ww 
oImagenRisPacsExx '
.xx' (
cantidadxx( 0
=xx1 2
Convertxx3 :
.xx: ;
ToInt32xx; B
(xxB C
drxxC E
[xxE F
$strxxF P
]xxP Q
)xxQ R
;xxR S
}yy 
drzz 
.zz 
Closezz 
(zz 
)zz 
;zz 
cnn{{ 
.{{ 
Close{{ 
({{ 
){{ 
;{{  
}|| 
}}} 
return~~ 
oImagenRisPacsE~~ "
;~~" #
} 	
}
ÄÄ 
}ÅÅ â0
cD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\LogisticaAD\VentaxFirmaAD\VentaxFirmaAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
LogisticaAD

 
.

 
VentaxFirmaAD

 +
{ 
public 

class 
VentaxFirmaAD 
{ 
public 
static 
bool !
Sp_VentaxFirma_Update 0
(0 1
string1 7
pIdPK8 =
,= >
byte? C
[C D
]D E
pArchivoF N
,N O
intP S
pOrdenT Z
)Z [
{ 	
int 
exito 
= 
$num 
; 
bool 
xResult 
= 
false  
;  !
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; `
,` a
cnnb e
)e f
)f g
{ 
cmd 
. 
CommandType '
=( )
CommandType* 5
.5 6
StoredProcedure6 E
;E F
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 <
,< =
pIdPK> C
)C D
;D E
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 >
,> ?
pArchivo@ H
)H I
;I J
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 <
,< =
pOrden> D
)D E
;E F
cnn 
. 
Open  
(  !
)! "
;" #
exito 
= 
cmd  #
.# $
ExecuteNonQuery$ 3
(3 4
)4 5
;5 6
xResult 
=  !
(" #
exito# (
>=) +
$num, -
?. /
true0 4
:5 6
false7 <
)< =
;= >
cmd 
. 
Dispose #
(# $
)$ %
;% &
cnn   
.   
Close   !
(  ! "
)  " #
;  # $
cnn!! 
.!! 
Close!! !
(!!! "
)!!" #
;!!# $
}"" 
}## 
return%% 
xResult%% 
;%% 
}&& 
catch'' 
('' 
	Exception'' 
ex'' 
)''  
{(( 
throw)) 
new)) 
	Exception)) #
())# $
ex))$ &
.))& '
Message))' .
))). /
;))/ 0
}** 
}++ 	
public-- 
static-- 
bool-- !
Sp_VentaxFirma_Insert-- 0
(--0 1
string--1 7
	pCodVenta--8 A
,--A B
byte--C G
[--G H
]--H I
pImagen--J Q
,--Q R
int--S V
pCodUser--W _
)--_ `
{.. 	
int// 
exito// 
=// 
$num// 
;// 
bool00 
xResult00 
=00 
false00  
;00  !
try11 
{22 
using33 
(33 
SqlConnection33 $
cnn33% (
=33) *
new33+ .
SqlConnection33/ <
(33< =
VariablesGlobales33= N
.33N O

CnnClinica33O Y
)33Y Z
)33Z [
{44 
using55 
(55 

SqlCommand55 %
cmd55& )
=55* +
new55, /

SqlCommand550 :
(55: ;
$str55; R
,55R S
cnn55T W
)55W X
)55X Y
{66 
cmd77 
.77 
CommandType77 '
=77( )
CommandType77* 5
.775 6
StoredProcedure776 E
;77E F
cmd88 
.88 

Parameters88 &
.88& '
AddWithValue88' 3
(883 4
$str884 ?
,88? @
	pCodVenta88A J
)88J K
;88K L
cmd99 
.99 

Parameters99 &
.99& '
AddWithValue99' 3
(993 4
$str994 =
,99= >
pImagen99? F
)99F G
;99G H
cmd:: 
.:: 

Parameters:: &
.::& '
AddWithValue::' 3
(::3 4
$str::4 >
,::> ?
pCodUser::@ H
)::H I
;::I J
cnn;; 
.;; 
Open;;  
(;;  !
);;! "
;;;" #
exito<< 
=<< 
cmd<<  #
.<<# $
ExecuteNonQuery<<$ 3
(<<3 4
)<<4 5
;<<5 6
xResult== 
===  !
(==" #
exito==# (
>===) +
$num==, -
?==. /
true==0 4
:==5 6
false==7 <
)==< =
;=== >
cmd>> 
.>> 
Dispose>> #
(>># $
)>>$ %
;>>% &
cnn?? 
.?? 
Close?? !
(??! "
)??" #
;??# $
cnn@@ 
.@@ 
Close@@ !
(@@! "
)@@" #
;@@# $
}AA 
}BB 
returnDD 
xResultDD 
;DD 
}EE 
catchFF 
(FF 
	ExceptionFF 
exFF 
)FF  
{GG 
throwHH 
newHH 
	ExceptionHH #
(HH# $
exHH$ &
.HH& '
MessageHH' .
)HH. /
;HH/ 0
}II 
}JJ 	
}LL 
}MM ¨#
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\LogisticaAD\ProductosAD\ProductosAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
LogisticaAD

 
.

 
ProductosAD

 )
{ 
public 

class 
ProductosAD 
{ 
private 

ProductosE 
LlenarEntidad (
(( )
IDataReader) 4
dr5 7
,7 8

ProductosE9 C

pProductoED N
)N O
{ 	

ProductosE 

oProductoE !
=" #
new$ '

ProductosE( 2
(2 3
)3 4
;4 5
switch 
( 

pProductoE 
. 
Orden $
)$ %
{ 
case 
$num 
: 

oProductoE 
. 
Codproducto *
=+ ,
Convert- 4
.4 5
ToString5 =
(= >
dr> @
[@ A
$strA N
]N O
)O P
;P Q

oProductoE 
. 
Dscproducto *
=+ ,
Convert- 4
.4 5
ToString5 =
(= >
dr> @
[@ A
$strA I
]I J
)J K
;K L
break 
; 
} 
return 

oProductoE 
; 
} 	
public 
List 
< 

ProductosE 
> #
Sp_Productos_ConsultaV2  7
(7 8

ProductosE8 B

pProductoEC M
)M N
{ 	
List 
< 

ProductosE 
> 
oListar $
=% &
new' *
List+ /
</ 0

ProductosE0 :
>: ;
(; <
)< =
;= >

ProductosE 
opProductoE "
=# $
null% )
;) *
using 
( 
SqlConnection  
cnn! $
=% &
new' *
SqlConnection+ 8
(8 9
VariablesGlobales9 J
.J K
CnnLogisticaK W
)W X
)X Y
{   
using!! 
(!! 

SqlCommand!! !
cmd!!" %
=!!& '
new!!( +

SqlCommand!!, 6
(!!6 7
$str!!7 P
,!!P Q
cnn!!R U
)!!U V
)!!V W
{"" 
cmd## 
.## 
CommandType## #
=##$ %
System##& ,
.##, -
Data##- 1
.##1 2
CommandType##2 =
.##= >
StoredProcedure##> M
;##M N
cmd%% 
.%% 

Parameters%% "
.%%" #
AddWithValue%%# /
(%%/ 0
$str%%0 8
,%%8 9

pProductoE%%: D
.%%D E
Orden%%E J
)%%J K
;%%K L
cmd&& 
.&& 

Parameters&& "
.&&" #
AddWithValue&&# /
(&&/ 0
$str&&0 >
,&&> ?

pProductoE&&@ J
.&&J K
Dscproducto&&K V
)&&V W
;&&W X
cmd'' 
.'' 

Parameters'' "
.''" #
AddWithValue''# /
(''/ 0
$str''0 <
,''< =

pProductoE''> H
.''H I
Nrofilas''I Q
)''Q R
;''R S
cnn(( 
.(( 
Open(( 
((( 
)(( 
;(( 
IDataReader)) 
dr))  "
=))# $
cmd))% (
.))( )
ExecuteReader))) 6
())6 7
)))7 8
;))8 9
while** 
(** 
dr** 
.** 
Read** "
(**" #
)**# $
)**$ %
{++ 
opProductoE,, #
=,,$ %
LlenarEntidad,,& 3
(,,3 4
dr,,4 6
,,,6 7

pProductoE,,8 B
),,B C
;,,C D
oListar-- 
.--  
Add--  #
(--# $
opProductoE--$ /
)--/ 0
;--0 1
}.. 
dr// 
.// 
Close// 
(// 
)// 
;// 
cnn00 
.00 
Close00 
(00 
)00 
;00  
}11 
}22 
return33 
oListar33 
;33 
}44 	
}55 
}66 ƒï
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\LogisticaAD\ConveniosAD\ConveniosAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
LogisticaAD 
. 
ConveniosAD )
{ 
public		 

class		 
ConveniosAD		 
{

 
public 
static 
string !
SP_CONVENIOS_INSERTV2 2
=3 4
$str5 L
;L M
private 

ConveniosE 
LlenarEntidad (
(( )
IDataReader) 4
dr5 7
,7 8

ConveniosE9 C
pConveniosED O
)O P
{ 	

ConveniosE 
oConveniosE "
=# $
new% (

ConveniosE) 3
(3 4
)4 5
;5 6
switch 
( 
pConveniosE 
.  
Orden  %
)% &
{ 
case 
$num 
: 
oConveniosE 
.  
Fechadocumento  .
=/ 0
Convert1 8
.8 9

ToDateTime9 C
(C D
drD F
[F G
$strG W
]W X
)X Y
;Y Z
oConveniosE 
.  
Codtipocliente  .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE U
]U V
)V W
;W X
oConveniosE 
.  
Nomtipocliente  .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE X
]X Y
)Y Z
;Z [
oConveniosE 
.  
Codaseguradora  .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE U
]U V
)V W
;W X
oConveniosE 
.  
Nomaseguradora  .
=/ 0
(1 2
string2 8
)8 9
(9 :
dr: <
[< =
$str= P
+Q R
$strS U
]U V
)V W
;W X
oConveniosE 
.  
Codproducto  +
=, -
Convert. 5
.5 6
ToString6 >
(> ?
dr? A
[A B
$strB O
]O P
)P Q
;Q R
oConveniosE 
.  
Nomproducto  +
=, -
Convert. 5
.5 6
ToString6 >
(> ?
dr? A
[A B
$strB R
]R S
)S T
;T U
oConveniosE 
.  
Fechainicio  +
=, -
Convert. 5
.5 6

ToDateTime6 @
(@ A
drA C
[C D
$strD Q
]Q R
)R S
;S T
oConveniosE 
.  
	Tipomonto  )
=* +
Convert, 3
.3 4
ToString4 <
(< =
dr= ?
[? @
$str@ K
]K L
)L M
;M N
oConveniosE 
.  
Monto  %
=& '
Convert( /
./ 0
ToDouble0 8
(8 9
dr9 ;
[; <
$str< C
]C D
)D E
;E F
oConveniosE 
.  
Moneda  &
=' (
Convert) 0
.0 1
ToString1 9
(9 :
dr: <
[< =
$str= E
]E F
)F G
;G H
oConveniosE 
.  

Idconvenio  *
=+ ,
Convert- 4
.4 5
ToInt325 <
(< =
dr= ?
[? @
$str@ L
]L M
)M N
;N O
oConveniosE 
.  
Codpaciente  +
=, -
Convert. 5
.5 6
ToString6 >
(> ?
dr? A
[A B
$strB O
]O P
)P Q
;Q R
oConveniosE 
.  
Nompaciente  +
=, -
Convert. 5
.5 6
ToString6 >
(> ?
dr? A
[A B
$strB R
]R S
)S T
;T U
break   
;   
case!! 
$num!! 
:!! 
oConveniosE"" 
.""  
Fechadocumento""  .
=""/ 0
Convert""1 8
.""8 9

ToDateTime""9 C
(""C D
dr""D F
[""F G
$str""G W
]""W X
)""X Y
;""Y Z
oConveniosE## 
.##  
Codtipocliente##  .
=##/ 0
Convert##1 8
.##8 9
ToString##9 A
(##A B
dr##B D
[##D E
$str##E U
]##U V
)##V W
;##W X
oConveniosE$$ 
.$$  
Nomtipocliente$$  .
=$$/ 0
Convert$$1 8
.$$8 9
ToString$$9 A
($$A B
dr$$B D
[$$D E
$str$$E X
]$$X Y
)$$Y Z
;$$Z [
oConveniosE%% 
.%%  
Codaseguradora%%  .
=%%/ 0
Convert%%1 8
.%%8 9
ToString%%9 A
(%%A B
dr%%B D
[%%D E
$str%%E U
]%%U V
)%%V W
;%%W X
oConveniosE&& 
.&&  
Nomaseguradora&&  .
=&&/ 0
(&&1 2
string&&2 8
)&&8 9
(&&9 :
dr&&: <
[&&< =
$str&&= P
+&&Q R
$str&&S U
]&&U V
)&&V W
;&&W X
oConveniosE'' 
.''  
Codproducto''  +
='', -
Convert''. 5
.''5 6
ToString''6 >
(''> ?
dr''? A
[''A B
$str''B O
]''O P
)''P Q
;''Q R
oConveniosE(( 
.((  
Nomproducto((  +
=((, -
Convert((. 5
.((5 6
ToString((6 >
(((> ?
dr((? A
[((A B
$str((B R
]((R S
)((S T
;((T U
oConveniosE)) 
.))  
Fechainicio))  +
=)), -
Convert)). 5
.))5 6

ToDateTime))6 @
())@ A
dr))A C
[))C D
$str))D Q
]))Q R
)))R S
;))S T
oConveniosE** 
.**  
	Tipomonto**  )
=*** +
Convert**, 3
.**3 4
ToString**4 <
(**< =
dr**= ?
[**? @
$str**@ K
]**K L
)**L M
;**M N
oConveniosE++ 
.++  
Monto++  %
=++& '
Convert++( /
.++/ 0
ToDouble++0 8
(++8 9
dr++9 ;
[++; <
$str++< C
]++C D
)++D E
;++E F
oConveniosE,, 
.,,  
Moneda,,  &
=,,' (
Convert,,) 0
.,,0 1
ToString,,1 9
(,,9 :
dr,,: <
[,,< =
$str,,= E
],,E F
),,F G
;,,G H
oConveniosE-- 
.--  

Idconvenio--  *
=--+ ,
Convert--- 4
.--4 5
ToInt32--5 <
(--< =
dr--= ?
[--? @
$str--@ L
]--L M
)--M N
;--N O
oConveniosE.. 
...  
Codpaciente..  +
=.., -
Convert... 5
...5 6
ToString..6 >
(..> ?
dr..? A
[..A B
$str..B O
]..O P
)..P Q
;..Q R
oConveniosE// 
.//  
Nompaciente//  +
=//, -
Convert//. 5
.//5 6
ToString//6 >
(//> ?
dr//? A
[//A B
$str//B R
]//R S
)//S T
;//T U
break00 
;00 
}11 
return22 
oConveniosE22 
;22 
}33 	
public55 
List55 
<55 

ConveniosE55 
>55 #
Sp_Convenios_ConsultaV255  7
(557 8

ConveniosE558 B
pConveniosE55C N
)55N O
{66 	
List77 
<77 

ConveniosE77 
>77 
oListar77 $
=77% &
new77' *
List77+ /
<77/ 0

ConveniosE770 :
>77: ;
(77; <
)77< =
;77= >

ConveniosE88 
oConveniosE88 "
=88# $
new88% (

ConveniosE88) 3
(883 4
)884 5
;885 6
using99 
(99 
SqlConnection99  
cnn99! $
=99% &
new99' *
SqlConnection99+ 8
(998 9
VariablesGlobales999 J
.99J K
CnnLogistica99K W
)99W X
)99X Y
{:: 
using;; 
(;; 

SqlCommand;; !
cmd;;" %
=;;& '
new;;( +

SqlCommand;;, 6
(;;6 7
$str;;7 P
,;;P Q
cnn;;R U
);;U V
);;V W
{<< 
cmd== 
.== 
CommandType== #
===$ %
System==& ,
.==, -
Data==- 1
.==1 2
CommandType==2 =
.=== >
StoredProcedure==> M
;==M N
cmd?? 
.?? 

Parameters?? "
.??" #
AddWithValue??# /
(??/ 0
$str??0 8
,??8 9
pConveniosE??: E
.??E F
Orden??F K
)??K L
;??L M
cmd@@ 
.@@ 

Parameters@@ "
.@@" #
AddWithValue@@# /
(@@/ 0
$str@@0 A
,@@A B
pConveniosE@@C N
.@@N O
Nomaseguradora@@O ]
)@@] ^
;@@^ _
cmdAA 
.AA 

ParametersAA "
.AA" #
AddWithValueAA# /
(AA/ 0
$strAA0 >
,AA> ?
pConveniosEAA@ K
.AAK L
NompacienteAAL W
)AAW X
;AAX Y
cmdBB 
.BB 

ParametersBB "
.BB" #
AddWithValueBB# /
(BB/ 0
$strBB0 >
,BB> ?
pConveniosEBB@ K
.BBK L
NomproductoBBL W
)BBW X
;BBX Y
cmdCC 
.CC 

ParametersCC "
.CC" #
AddWithValueCC# /
(CC/ 0
$strCC0 <
,CC< =
pConveniosECC> I
.CCI J
NrofilasCCJ R
)CCR S
;CCS T
cnnDD 
.DD 
OpenDD 
(DD 
)DD 
;DD 
IDataReaderEE 
drEE  "
=EE# $
cmdEE% (
.EE( )
ExecuteReaderEE) 6
(EE6 7
)EE7 8
;EE8 9
whileFF 
(FF 
drFF 
.FF 
ReadFF "
(FF" #
)FF# $
)FF$ %
{GG 
oConveniosEHH #
=HH$ %
LlenarEntidadHH& 3
(HH3 4
drHH4 6
,HH6 7
pConveniosEHH8 C
)HHC D
;HHD E
oListarII 
.II  
AddII  #
(II# $
oConveniosEII$ /
)II/ 0
;II0 1
}JJ 
drKK 
.KK 
CloseKK 
(KK 
)KK 
;KK 
cnnLL 
.LL 
CloseLL 
(LL 
)LL 
;LL  
}MM 
}NN 
returnOO 
oListarOO 
;OO 
}PP 	
publicRR 
boolRR 
Sp_Convenios_InsertRR '
(RR' (

ConveniosERR( 2
pConveniosERR3 >
)RR> ?
{SS 	
tryTT 
{UU 
usingVV 
(VV 
SqlConnectionVV $
cnnVV% (
=VV) *
newVV+ .
SqlConnectionVV/ <
(VV< =
VariablesGlobalesVV= N
.VVN O
CnnLogisticaVVO [
)VV[ \
)VV\ ]
{WW 
usingXX 
(XX 

SqlCommandXX %
cmdXX& )
=XX* +
newXX, /

SqlCommandXX0 :
(XX: ;!
SP_CONVENIOS_INSERTV2XX; P
,XXP Q
cnnXXR U
)XXU V
)XXV W
{YY 
cmdZZ 
.ZZ 
CommandTypeZZ '
=ZZ( )
SystemZZ* 0
.ZZ0 1
DataZZ1 5
.ZZ5 6
CommandTypeZZ6 A
.ZZA B
StoredProcedureZZB Q
;ZZQ R
cmd\\ 
.\\ 

Parameters\\ &
.\\& '
AddWithValue\\' 3
(\\3 4
$str\\4 E
,\\E F
pConveniosE\\G R
.\\R S
Fechadocumento\\S a
)\\a b
;\\b c
cmd]] 
.]] 

Parameters]] &
.]]& '
AddWithValue]]' 3
(]]3 4
$str]]4 A
,]]A B
pConveniosE]]C N
.]]N O

Codalmacen]]O Y
)]]Y Z
;]]Z [
cmd^^ 
.^^ 

Parameters^^ &
.^^& '
AddWithValue^^' 3
(^^3 4
$str^^4 E
,^^E F
pConveniosE^^G R
.^^R S
Tipomovimiento^^S a
)^^a b
;^^b c
cmd__ 
.__ 

Parameters__ &
.__& '
AddWithValue__' 3
(__3 4
$str__4 E
,__E F
pConveniosE__G R
.__R S
Codtipocliente__S a
)__a b
;__b c
cmd`` 
.`` 

Parameters`` &
.``& '
AddWithValue``' 3
(``3 4
$str``4 A
,``A B
pConveniosE``C N
.``N O

Codcliente``O Y
)``Y Z
;``Z [
cmdaa 
.aa 

Parametersaa &
.aa& '
AddWithValueaa' 3
(aa3 4
$straa4 B
,aaB C
pConveniosEaaD O
.aaO P
CodpacienteaaP [
)aa[ \
;aa\ ]
cmdbb 
.bb 

Parametersbb &
.bb& '
AddWithValuebb' 3
(bb3 4
$strbb4 E
,bbE F
pConveniosEbbG R
.bbR S
CodaseguradorabbS a
)bba b
;bbb c
cmdcc 
.cc 

Parameterscc &
.cc& '
AddWithValuecc' 3
(cc3 4
$strcc4 =
,cc= >
pConveniosEcc? J
.ccJ K
CodciaccK Q
)ccQ R
;ccR S
cmddd 
.dd 

Parametersdd &
.dd& '
AddWithValuedd' 3
(dd3 4
$strdd4 B
,ddB C
pConveniosEddD O
.ddO P
CodproductoddP [
)dd[ \
;dd\ ]
cmdee 
.ee 

Parametersee &
.ee& '
AddWithValueee' 3
(ee3 4
$stree4 B
,eeB C
pConveniosEeeD O
.eeO P
FechainicioeeP [
)ee[ \
;ee\ ]
cmdff 
.ff 

Parametersff &
.ff& '
AddWithValueff' 3
(ff3 4
$strff4 ?
,ff? @
pConveniosEffA L
.ffL M
FechafinffM U
)ffU V
;ffV W
cmdgg 
.gg 

Parametersgg &
.gg& '
AddWithValuegg' 3
(gg3 4
$strgg4 >
,gg> ?
pConveniosEgg@ K
.ggK L
ExceptoggL S
)ggS T
;ggT U
cmdhh 
.hh 

Parametershh &
.hh& '
AddWithValuehh' 3
(hh3 4
$strhh4 @
,hh@ A
pConveniosEhhB M
.hhM N
	TipomontohhN W
)hhW X
;hhX Y
cmdii 
.ii 

Parametersii &
.ii& '
AddWithValueii' 3
(ii3 4
$strii4 <
,ii< =
pConveniosEii> I
.iiI J
MontoiiJ O
)iiO P
;iiP Q
cmdjj 
.jj 

Parametersjj &
.jj& '
AddWithValuejj' 3
(jj3 4
$strjj4 =
,jj= >
pConveniosEjj? J
.jjJ K
MonedajjK Q
)jjQ R
;jjR S
cmdkk 
.kk 

Parameterskk &
.kk& '
AddWithValuekk' 3
(kk3 4
$strkk4 =
,kk= >
pConveniosEkk? J
.kkJ K
EstadokkK Q
)kkQ R
;kkR S
cmdll 
.ll 

Parametersll &
.ll& '
Addll' *
(ll* +
VariablesGlobalesll+ <
.ll< =
ParametroSqlll= I
(llI J
$strllJ W
,llW X
ParameterDirectionllY k
.llk l
InputOutputlll w
,llw x
	SqlDbType	lly Ç
.
llÇ É
Int
llÉ Ü
,
llÜ á
$num
llà â
,
llâ ä
pConveniosE
llã ñ
.
llñ ó

Idconvenio
lló °
.
ll° ¢
ToString
ll¢ ™
(
ll™ ´
)
ll´ ¨
)
ll¨ ≠
)
ll≠ Æ
;
llÆ Ø
cnnnn 
.nn 
Opennn  
(nn  !
)nn! "
;nn" #
intpp 
exitopp !
=pp" #
cmdpp$ '
.pp' (
ExecuteNonQuerypp( 7
(pp7 8
)pp8 9
;pp9 :
cnnqq 
.qq 
Closeqq !
(qq! "
)qq" #
;qq# $
cmdrr 
.rr 
Disposerr #
(rr# $
)rr$ %
;rr% &
ifss 
(ss 
exitoss !
>=ss" $
$numss% &
)ss& '
{tt 
pConveniosEuu '
.uu' (

Idconveniouu( 2
=uu3 4
Convertuu5 <
.uu< =
ToInt32uu= D
(uuD E
cmduuE H
.uuH I

ParametersuuI S
[uuS T
$struuT a
]uua b
.uub c
Valueuuc h
)uuh i
;uui j
returnvv "
truevv# '
;vv' (
}ww 
elsexx 
{yy 
returnzz "
falsezz# (
;zz( )
}{{ 
}|| 
}}} 
}~~ 
catch 
( 
	Exception 
e 
) 
{
ÄÄ 
throw
ÄÄ 
e
ÄÄ 
=
ÄÄ 
new
ÄÄ 
	Exception
ÄÄ %
(
ÄÄ% &
e
ÄÄ& '
.
ÄÄ' (
Message
ÄÄ( /
)
ÄÄ/ 0
;
ÄÄ0 1
}
ÄÄ2 3
}
ÅÅ 	
public
ÉÉ #
ResultadoTransactionE
ÉÉ $
<
ÉÉ$ %!
ErrorDataInsercionE
ÉÉ% 8
>
ÉÉ8 9(
Sp_Convenios_Insert_Masivo
ÉÉ: T
(
ÉÉT U
List
ÉÉU Y
<
ÉÉY Z

ConveniosE
ÉÉZ d
>
ÉÉd e
objconvenios
ÉÉf r
)
ÉÉr s
{
ÑÑ 	#
ResultadoTransactionE
ÖÖ !
<
ÖÖ! "!
ErrorDataInsercionE
ÖÖ" 5
>
ÖÖ5 6
	resultado
ÖÖ7 @
=
ÖÖA B
new
ÖÖC F#
ResultadoTransactionE
ÖÖG \
<
ÖÖ\ ]!
ErrorDataInsercionE
ÖÖ] p
>
ÖÖp q
(
ÖÖq r
)
ÖÖr s
;
ÖÖs t
List
áá 
<
áá !
ErrorDataInsercionE
áá $
>
áá$ %
listadoerror
áá& 2
=
áá3 4
new
áá5 8
List
áá9 =
<
áá= >!
ErrorDataInsercionE
áá> Q
>
ááQ R
(
ááR S
)
ááS T
;
ááT U
using
ââ 
(
ââ 
SqlConnection
ââ  
cnn
ââ! $
=
ââ% &
new
ââ' *
SqlConnection
ââ+ 8
(
ââ8 9
VariablesGlobales
ââ9 J
.
ââJ K
CnnLogistica
ââK W
)
ââW X
)
ââX Y
{
ää 
if
ãã 
(
ãã 
objconvenios
ãã  
.
ãã  !
Count
ãã! &
(
ãã& '
)
ãã' (
>
ãã) *
$num
ãã+ ,
)
ãã, -
{
ãã. /
cnn
åå 
.
åå 
Open
åå 
(
åå 
)
åå 
;
åå 
SqlTransaction
çç "
sqlTransaction
çç# 1
=
çç2 3
cnn
çç4 7
.
çç7 8
BeginTransaction
çç8 H
(
ççH I
)
ççI J
;
ççJ K
try
éé 
{
èè 
int
êê 
fila
êê  
=
êê! "
$num
êê# $
;
êê$ %
foreach
ëë 
(
ëë  !
var
ëë! $
item
ëë% )
in
ëë* ,
objconvenios
ëë- 9
)
ëë9 :
{
íí 
fila
ìì  
++
ìì  "
;
ìì" #
var
ïï 
	_registro
ïï  )
=
ïï* +&
Registrar_Convenios_Item
ïï, D
(
ïïD E
item
ïïE I
,
ïïI J
cnn
ïïK N
,
ïïN O
sqlTransaction
ïïP ^
)
ïï^ _
;
ïï_ `
if
óó 
(
óó  
	_registro
óó  )
.
óó) *

IdRegistro
óó* 4
==
óó5 7
-
óó8 9
$num
óó9 :
)
óó: ;
{
òò 
sqlTransaction
ôô  .
.
ôô. /
Rollback
ôô/ 7
(
ôô7 8
)
ôô8 9
;
ôô9 :
	resultado
öö  )
.
öö) *

IdRegistro
öö* 4
=
öö5 6
-
öö7 8
$num
öö8 9
;
öö9 :
	resultado
õõ  )
.
õõ) *
Mensaje
õõ* 1
=
õõ2 3
$str
õõ4 I
+
õõJ K
	resultado
õõL U
.
õõU V
Mensaje
õõV ]
;
õõ] ^
return
ùù  &
	resultado
ùù' 0
;
ùù0 1
}
ûû 
if
†† 
(
††  
!
††  !
	_registro
††! *
.
††* +
Data
††+ /
)
††/ 0
{
°° !
ErrorDataInsercionE
¢¢  3
	_objerror
¢¢4 =
=
¢¢> ?
new
¢¢@ C!
ErrorDataInsercionE
¢¢D W
(
¢¢W X
)
¢¢X Y
;
¢¢Y Z
	_objerror
££  )
.
££) *
Titulo
££* 0
=
££1 2
$str
££3 G
;
££G H
	_objerror
§§  )
.
§§) *
Descripcion
§§* 5
=
§§6 7
$str
§§8 M
+
§§N O
fila
§§P T
.
§§T U
ToString
§§U ]
(
§§] ^
)
§§^ _
;
§§_ `
listadoerror
••  ,
.
••, -
Add
••- 0
(
••0 1
	_objerror
••1 :
)
••: ;
;
••; <
}
¶¶ 
}
ßß 
	resultado
©© !
.
©©! "

IdRegistro
©©" ,
=
©©- .
(
©©/ 0
listadoerror
©©0 <
.
©©< =
Count
©©= B
(
©©B C
)
©©C D
==
©©E G
$num
©©H I
)
©©I J
?
©©J K
$num
©©L M
:
©©N O
$num
©©P Q
;
©©Q R
	resultado
™™ !
.
™™! "
Mensaje
™™" )
=
™™* +
(
™™, -
listadoerror
™™- 9
.
™™9 :
Count
™™: ?
(
™™? @
)
™™@ A
==
™™B D
$num
™™E F
)
™™F G
?
™™G H
$str
™™I i
:
™™j k
$str™™l Ç
;™™Ç É
	resultado
´´ !
.
´´! "
DataList
´´" *
=
´´+ ,
listadoerror
´´- 9
;
´´9 :
sqlTransaction
≠≠ &
.
≠≠& '
Commit
≠≠' -
(
≠≠- .
)
≠≠. /
;
≠≠/ 0
sqlTransaction
ÆÆ &
.
ÆÆ& '
Dispose
ÆÆ' .
(
ÆÆ. /
)
ÆÆ/ 0
;
ÆÆ0 1
}
ØØ 
catch
∞∞ 
(
∞∞ 
	Exception
∞∞ $
ex
∞∞% '
)
∞∞' (
{
±± 
sqlTransaction
≤≤ &
.
≤≤& '
Rollback
≤≤' /
(
≤≤/ 0
)
≤≤0 1
;
≤≤1 2
	resultado
≥≥ !
.
≥≥! "

IdRegistro
≥≥" ,
=
≥≥- .
-
≥≥/ 0
$num
≥≥0 1
;
≥≥1 2
	resultado
¥¥ !
.
¥¥! "
Mensaje
¥¥" )
=
¥¥* +
$str
¥¥, A
+
¥¥B C
ex
¥¥D F
.
¥¥F G
Message
¥¥G N
;
¥¥N O
}
∂∂ 
}
∑∑ 
}
∏∏ 
return
ππ 
	resultado
ππ 
;
ππ 
}
∫∫ 	
public
ªª #
ResultadoTransactionE
ªª $
<
ªª$ %
bool
ªª% )
>
ªª) *&
Registrar_Convenios_Item
ªª+ C
(
ªªC D

ConveniosE
ªªD N
pConveniosE
ªªO Z
,
ªªZ [
SqlConnection
ªª\ i
cnn
ªªj m
,
ªªm n
SqlTransaction
ªªo }
sqlTransactionªª~ å
)ªªå ç
{
ºº 	#
ResultadoTransactionE
ΩΩ !
<
ΩΩ! "
bool
ΩΩ" &
>
ΩΩ& '
	resultado
ΩΩ( 1
=
ΩΩ2 3
new
ΩΩ4 7#
ResultadoTransactionE
ΩΩ8 M
<
ΩΩM N
bool
ΩΩN R
>
ΩΩR S
(
ΩΩS T
)
ΩΩT U
;
ΩΩU V
using
ææ 
(
ææ 

SqlCommand
ææ 
cmd
ææ !
=
ææ" #
new
ææ$ '

SqlCommand
ææ( 2
(
ææ2 3#
SP_CONVENIOS_INSERTV2
ææ3 H
,
ææH I
cnn
ææJ M
,
ææM N
sqlTransaction
ææO ]
)
ææ] ^
)
ææ^ _
{
ææ` a
try
øø 
{
¿¿ 
cmd
¡¡ 
.
¡¡ 
CommandType
¡¡ #
=
¡¡$ %
System
¡¡& ,
.
¡¡, -
Data
¡¡- 1
.
¡¡1 2
CommandType
¡¡2 =
.
¡¡= >
StoredProcedure
¡¡> M
;
¡¡M N
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ "
.
¬¬" #
AddWithValue
¬¬# /
(
¬¬/ 0
$str
¬¬0 A
,
¬¬A B
pConveniosE
¬¬C N
.
¬¬N O
Fechadocumento
¬¬O ]
)
¬¬] ^
;
¬¬^ _
cmd
√√ 
.
√√ 

Parameters
√√ "
.
√√" #
AddWithValue
√√# /
(
√√/ 0
$str
√√0 =
,
√√= >
pConveniosE
√√? J
.
√√J K

Codalmacen
√√K U
)
√√U V
;
√√V W
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ "
.
ƒƒ" #
AddWithValue
ƒƒ# /
(
ƒƒ/ 0
$str
ƒƒ0 A
,
ƒƒA B
pConveniosE
ƒƒC N
.
ƒƒN O
Tipomovimiento
ƒƒO ]
)
ƒƒ] ^
;
ƒƒ^ _
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ "
.
≈≈" #
AddWithValue
≈≈# /
(
≈≈/ 0
$str
≈≈0 A
,
≈≈A B
pConveniosE
≈≈C N
.
≈≈N O
Codtipocliente
≈≈O ]
)
≈≈] ^
;
≈≈^ _
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ "
.
∆∆" #
AddWithValue
∆∆# /
(
∆∆/ 0
$str
∆∆0 =
,
∆∆= >
pConveniosE
∆∆? J
.
∆∆J K

Codcliente
∆∆K U
)
∆∆U V
;
∆∆V W
cmd
«« 
.
«« 

Parameters
«« "
.
««" #
AddWithValue
««# /
(
««/ 0
$str
««0 >
,
««> ?
pConveniosE
««@ K
.
««K L
Codpaciente
««L W
)
««W X
;
««X Y
cmd
»» 
.
»» 

Parameters
»» "
.
»»" #
AddWithValue
»»# /
(
»»/ 0
$str
»»0 A
,
»»A B
pConveniosE
»»C N
.
»»N O
Codaseguradora
»»O ]
)
»»] ^
;
»»^ _
cmd
…… 
.
…… 

Parameters
…… "
.
……" #
AddWithValue
……# /
(
……/ 0
$str
……0 9
,
……9 :
pConveniosE
……; F
.
……F G
Codcia
……G M
)
……M N
;
……N O
cmd
   
.
   

Parameters
   "
.
  " #
AddWithValue
  # /
(
  / 0
$str
  0 >
,
  > ?
pConveniosE
  @ K
.
  K L
Codproducto
  L W
)
  W X
;
  X Y
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ "
.
ÀÀ" #
AddWithValue
ÀÀ# /
(
ÀÀ/ 0
$str
ÀÀ0 >
,
ÀÀ> ?
pConveniosE
ÀÀ@ K
.
ÀÀK L
Fechainicio
ÀÀL W
)
ÀÀW X
;
ÀÀX Y
cmd
ÃÃ 
.
ÃÃ 

Parameters
ÃÃ "
.
ÃÃ" #
AddWithValue
ÃÃ# /
(
ÃÃ/ 0
$str
ÃÃ0 ;
,
ÃÃ; <
pConveniosE
ÃÃ= H
.
ÃÃH I
Fechafin
ÃÃI Q
)
ÃÃQ R
;
ÃÃR S
cmd
ÕÕ 
.
ÕÕ 

Parameters
ÕÕ "
.
ÕÕ" #
AddWithValue
ÕÕ# /
(
ÕÕ/ 0
$str
ÕÕ0 :
,
ÕÕ: ;
pConveniosE
ÕÕ< G
.
ÕÕG H
Excepto
ÕÕH O
)
ÕÕO P
;
ÕÕP Q
cmd
ŒŒ 
.
ŒŒ 

Parameters
ŒŒ "
.
ŒŒ" #
AddWithValue
ŒŒ# /
(
ŒŒ/ 0
$str
ŒŒ0 <
,
ŒŒ< =
pConveniosE
ŒŒ> I
.
ŒŒI J
	Tipomonto
ŒŒJ S
)
ŒŒS T
;
ŒŒT U
cmd
œœ 
.
œœ 

Parameters
œœ "
.
œœ" #
AddWithValue
œœ# /
(
œœ/ 0
$str
œœ0 8
,
œœ8 9
pConveniosE
œœ: E
.
œœE F
Monto
œœF K
)
œœK L
;
œœL M
cmd
–– 
.
–– 

Parameters
–– "
.
––" #
AddWithValue
––# /
(
––/ 0
$str
––0 9
,
––9 :
pConveniosE
––; F
.
––F G
Moneda
––G M
)
––M N
;
––N O
cmd
—— 
.
—— 

Parameters
—— "
.
——" #
AddWithValue
——# /
(
——/ 0
$str
——0 9
,
——9 :
pConveniosE
——; F
.
——F G
Estado
——G M
)
——M N
;
——N O
cmd
““ 
.
““ 

Parameters
““ "
.
““" #
Add
““# &
(
““& '
VariablesGlobales
““' 8
.
““8 9
ParametroSql
““9 E
(
““E F
$str
““F S
,
““S T 
ParameterDirection
““U g
.
““g h
InputOutput
““h s
,
““s t
	SqlDbType
““u ~
.
““~ 
Int““ Ç
,““Ç É
$num““Ñ Ö
,““Ö Ü
pConveniosE““á í
.““í ì

Idconvenio““ì ù
.““ù û
ToString““û ¶
(““¶ ß
)““ß ®
)““® ©
)““© ™
;““™ ´
int
”” 
exito
”” 
=
”” 
cmd
””  #
.
””# $
ExecuteNonQuery
””$ 3
(
””3 4
)
””4 5
;
””5 6
	resultado
‘‘ 
.
‘‘ 

IdRegistro
‘‘ (
=
‘‘) *
$num
‘‘+ ,
;
‘‘, -
if
’’ 
(
’’ 
exito
’’ 
>=
’’  
$num
’’! "
)
’’" #
{
÷÷ 
pConveniosE
◊◊ #
.
◊◊# $

Idconvenio
◊◊$ .
=
◊◊/ 0
Convert
◊◊1 8
.
◊◊8 9
ToInt32
◊◊9 @
(
◊◊@ A
cmd
◊◊A D
.
◊◊D E

Parameters
◊◊E O
[
◊◊O P
$str
◊◊P ]
]
◊◊] ^
.
◊◊^ _
Value
◊◊_ d
)
◊◊d e
;
◊◊e f
	resultado
ÿÿ !
.
ÿÿ! "
Data
ÿÿ" &
=
ÿÿ' (
true
ÿÿ) -
;
ÿÿ- .
	resultado
ŸŸ !
.
ŸŸ! "
Mensaje
ŸŸ" )
=
ŸŸ* +
$str
ŸŸ, M
+
ŸŸN O
pConveniosE
ŸŸP [
.
ŸŸ[ \

Idconvenio
ŸŸ\ f
.
ŸŸf g
ToString
ŸŸg o
(
ŸŸo p
)
ŸŸp q
;
ŸŸq r
}
⁄⁄ 
else
€€ 
{
‹‹ 
	resultado
›› "
.
››" #
Data
››# '
=
››( )
false
››* /
;
››/ 0
}
ﬁﬁ 
}
ﬂﬂ 
catch
‡‡ 
(
‡‡ 
	Exception
‡‡  
ex
‡‡! #
)
‡‡# $
{
·· 
	resultado
‚‚ 
.
‚‚ 

IdRegistro
‚‚ (
=
‚‚) *
-
‚‚+ ,
$num
‚‚, -
;
‚‚- .
	resultado
„„ 
.
„„ 
Mensaje
„„ %
=
„„& '
ex
„„( *
.
„„* +
Message
„„+ 2
;
„„2 3
}
‰‰ 
}
ÂÂ 
return
ÊÊ 
	resultado
ÊÊ 
;
ÊÊ 
}
ÁÁ 	
public
ÍÍ 
bool
ÍÍ '
Sp_Convenios_UpdatexCampo
ÍÍ -
(
ÍÍ- .

ConveniosE
ÍÍ. 8
pConveniosE
ÍÍ9 D
)
ÍÍD E
{
ÎÎ 	
try
ÏÏ 
{
ÌÌ 
using
ÓÓ 
(
ÓÓ 
SqlConnection
ÓÓ $
cnn
ÓÓ% (
=
ÓÓ) *
new
ÓÓ+ .
SqlConnection
ÓÓ/ <
(
ÓÓ< =
VariablesGlobales
ÓÓ= N
.
ÓÓN O
CnnLogistica
ÓÓO [
)
ÓÓ[ \
)
ÓÓ\ ]
{
ÔÔ 
using
 
(
 

SqlCommand
 %
cmd
& )
=
* +
new
, /

SqlCommand
0 :
(
: ;
$str
; X
,
X Y
cnn
Z ]
)
] ^
)
^ _
{
ÒÒ 
cmd
ÚÚ 
.
ÚÚ 
CommandType
ÚÚ '
=
ÚÚ( )
System
ÚÚ* 0
.
ÚÚ0 1
Data
ÚÚ1 5
.
ÚÚ5 6
CommandType
ÚÚ6 A
.
ÚÚA B
StoredProcedure
ÚÚB Q
;
ÚÚQ R
cmd
ÙÙ 
.
ÙÙ 

Parameters
ÙÙ &
.
ÙÙ& '
AddWithValue
ÙÙ' 3
(
ÙÙ3 4
$str
ÙÙ4 A
,
ÙÙA B
pConveniosE
ÙÙC N
.
ÙÙN O

Idconvenio
ÙÙO Y
)
ÙÙY Z
;
ÙÙZ [
cmd
ıı 
.
ıı 

Parameters
ıı &
.
ıı& '
AddWithValue
ıı' 3
(
ıı3 4
$str
ıı4 B
,
ııB C
pConveniosE
ııD O
.
ııO P

NuevoValor
ııP Z
)
ııZ [
;
ıı[ \
cmd
ˆˆ 
.
ˆˆ 

Parameters
ˆˆ &
.
ˆˆ& '
AddWithValue
ˆˆ' 3
(
ˆˆ3 4
$str
ˆˆ4 <
,
ˆˆ< =
pConveniosE
ˆˆ> I
.
ˆˆI J
Campo
ˆˆJ O
)
ˆˆO P
;
ˆˆP Q
cnn
¯¯ 
.
¯¯ 
Open
¯¯  
(
¯¯  !
)
¯¯! "
;
¯¯" #
int
˙˙ 
exito
˙˙ !
=
˙˙" #
cmd
˙˙$ '
.
˙˙' (
ExecuteNonQuery
˙˙( 7
(
˙˙7 8
)
˙˙8 9
;
˙˙9 :
cnn
˚˚ 
.
˚˚ 
Close
˚˚ !
(
˚˚! "
)
˚˚" #
;
˚˚# $
cmd
¸¸ 
.
¸¸ 
Dispose
¸¸ #
(
¸¸# $
)
¸¸$ %
;
¸¸% &
if
˝˝ 
(
˝˝ 
exito
˝˝ !
>=
˝˝" $
$num
˝˝% &
)
˝˝& '
{
˛˛ 
return
˛˛  
true
˛˛! %
;
˛˛% &
}
˛˛' (
else
ˇˇ 
{
ÄÄ 
return
ÄÄ  
false
ÄÄ! &
;
ÄÄ& '
}
ÄÄ( )
}
ÅÅ 
}
ÇÇ 
}
ÉÉ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ 
e
ÑÑ 
)
ÑÑ 
{
ÖÖ 
throw
ÖÖ 
e
ÖÖ 
=
ÖÖ 
new
ÖÖ 
	Exception
ÖÖ %
(
ÖÖ% &
e
ÖÖ& '
.
ÖÖ' (
Message
ÖÖ( /
)
ÖÖ/ 0
;
ÖÖ0 1
}
ÖÖ2 3
}
ÜÜ 	
}
áá 
}àà ≥≤
]D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\LogisticaAD\ClientesAD\ClientesAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
LogisticaAD 
. 

ClientesAD (
{ 
public 

class 

ClientesAD 
{ 
private 
	ClientesE 
LlenarEntidad '
(' (
IDataReader( 3
dr4 6
,6 7
	ClientesE8 A

pClientesEB L
)L M
{ 	
	ClientesE 

oClientesE  
=! "
new# &
	ClientesE' 0
(0 1
)1 2
;2 3
switch 
( 

pClientesE 
. 
Orden $
)$ %
{ 
case 
$num 
: 
{ 

oClientesE "
." #

CodCliente# -
=. /
(0 1
string1 7
)7 8
dr8 :
[: ;
$str; G
]G H
;H I

oClientesE$$ "
.$$" #
Ruc$$# &
=$$' (
($$) *
string$$* 0
)$$0 1
dr$$1 3
[$$3 4
$str$$4 9
]$$9 :
;$$: ;
break%% 
;%% 
}&& 
case'' 
$num'' 
:'' 
{(( 

oClientesE)) "
.))" #

CodCliente))# -
=)). /
())0 1
string))1 7
)))7 8
dr))8 :
[)): ;
$str)); G
]))G H
;))H I

oClientesE** "
.**" #
Nombre**# )
=*** +
(**, -
string**- 3
)**3 4
dr**4 6
[**6 7
$str**7 ?
]**? @
;**@ A

oClientesE++ "
.++" #
Ruc++# &
=++' (
(++) *
string++* 0
)++0 1
dr++1 3
[++3 4
$str++4 9
]++9 :
;++: ;

oClientesE,, "
.,," #
CardCode,,# +
=,,, -
(,,. /
string,,/ 5
),,5 6
dr,,6 8
[,,8 9
$str,,9 C
],,C D
;,,D E
break-- 
;-- 
}.. 
}// 
return00 

oClientesE00 
;00 
}11 	
public33 
List33 
<33 
	ClientesE33 
>33  
Sp_Clientes_Consulta33 3
(333 4
	ClientesE334 =

pClientesE33> H
)33H I
{44 	
IDataReader55 
dr55 
;55 
	ClientesE66 

oClientesE66  
;66  !
List77 
<77 
	ClientesE77 
>77 
oListar77 #
=77$ %
new77& )
List77* .
<77. /
	ClientesE77/ 8
>778 9
(779 :
)77: ;
;77; <
try88 
{99 
using:: 
(:: 
SqlConnection:: $
cnn::% (
=::) *
new::+ .
SqlConnection::/ <
(::< =
VariablesGlobales::= N
.::N O
CnnLogistica::O [
)::[ \
)::\ ]
{;; 
using<< 
(<< 

SqlCommand<< %
cmd<<& )
=<<* +
new<<, /

SqlCommand<<0 :
(<<: ;
$str<<; Q
,<<Q R
cnn<<S V
)<<V W
)<<W X
{== 
cmd>> 
.>> 
CommandType>> '
=>>( )
CommandType>>* 5
.>>5 6
StoredProcedure>>6 E
;>>E F
cmd?? 
.?? 

Parameters?? &
.??& '
AddWithValue??' 3
(??3 4
$str??4 =
,??= >

pClientesE??? I
.??I J
Buscar??J P
)??P Q
;??Q R
cmd@@ 
.@@ 

Parameters@@ &
.@@& '
AddWithValue@@' 3
(@@3 4
$str@@4 :
,@@: ;

pClientesE@@< F
.@@F G
Key@@G J
)@@J K
;@@K L
cmdAA 
.AA 

ParametersAA &
.AA& '
AddWithValueAA' 3
(AA3 4
$strAA4 C
,AAC D

pClientesEAAE O
.AAO P
NumeroLineasAAP \
)AA\ ]
;AA] ^
cmdBB 
.BB 

ParametersBB &
.BB& '
AddWithValueBB' 3
(BB3 4
$strBB4 <
,BB< =

pClientesEBB> H
.BBH I
OrdenBBI N
)BBN O
;BBO P
cnnCC 
.CC 
OpenCC  
(CC  !
)CC! "
;CC" #
drDD 
=DD 
cmdDD  
.DD  !
ExecuteReaderDD! .
(DD. /
)DD/ 0
;DD0 1
whileEE 
(EE 
drEE !
.EE! "
ReadEE" &
(EE& '
)EE' (
)EE( )
{FF 

oClientesEGG &
=GG' (
LlenarEntidadGG) 6
(GG6 7
drGG7 9
,GG9 :

pClientesEGG; E
)GGE F
;GGF G
oListarHH #
.HH# $
AddHH$ '
(HH' (

oClientesEHH( 2
)HH2 3
;HH3 4
}II 
drJJ 
.JJ 
CloseJJ  
(JJ  !
)JJ! "
;JJ" #
drKK 
.KK 
DisposeKK "
(KK" #
)KK# $
;KK$ %
cmdLL 
.LL 
DisposeLL #
(LL# $
)LL$ %
;LL% &
cnnMM 
.MM 
CloseMM !
(MM! "
)MM" #
;MM# $
cnnNN 
.NN 
DisposeNN #
(NN# $
)NN$ %
;NN% &
returnPP 
oListarPP &
;PP& '
}QQ 
}RR 
}SS 
catchTT 
(TT 
	ExceptionTT 
exTT 
)TT  
{UU 
throwVV 
newVV 
	ExceptionVV #
(VV# $
exVV$ &
.VV& '
MessageVV' .
)VV. /
;VV/ 0
}WW 
}XX 	
publicZZ 
boolZZ 
Sp_Clientes_InsertZZ &
(ZZ& '
	ClientesEZZ' 0

pClientesEZZ1 ;
)ZZ; <
{[[ 	
try\\ 
{]] 
bool^^ 
result^^ 
=^^ 
false^^ #
;^^# $
using__ 
(__ 
SqlConnection__ $
cnn__% (
=__) *
new__+ .
SqlConnection__/ <
(__< =
VariablesGlobales__= N
.__N O
CnnLogistica__O [
)__[ \
)__\ ]
{`` 
usingaa 
(aa 

SqlCommandaa %
cmdaa& )
=aa* +
newaa, /

SqlCommandaa0 :
(aa: ;
$straa; O
,aaO P
cnnaaQ T
)aaT U
)aaU V
{bb 
cmdcc 
.cc 
CommandTypecc '
=cc( )
CommandTypecc* 5
.cc5 6
StoredProcedurecc6 E
;ccE F
cmdee 
.ee 

Parametersee &
.ee& '
AddWithValueee' 3
(ee3 4
$stree4 A
,eeA B

pClientesEeeC M
.eeM N

CodClienteeeN X
)eeX Y
;eeY Z
cmdff 
.ff 

Parametersff &
.ff& '
AddWithValueff' 3
(ff3 4
$strff4 B
,ffB C

pClientesEffD N
.ffN O
CodPacienteffO Z
)ffZ [
;ff[ \
cmdgg 
.gg 

Parametersgg &
.gg& '
AddWithValuegg' 3
(gg3 4
$strgg4 =
,gg= >

pClientesEgg? I
.ggI J
NombreggJ P
)ggP Q
;ggQ R
cmdhh 
.hh 

Parametershh &
.hh& '
AddWithValuehh' 3
(hh3 4
$strhh4 C
,hhC D

pClientesEhhE O
.hhO P
DocIdentidadhhP \
)hh\ ]
;hh] ^
cmdii 
.ii 

Parametersii &
.ii& '
AddWithValueii' 3
(ii3 4
$strii4 @
,ii@ A

pClientesEiiB L
.iiL M
	DireccioniiM V
)iiV W
;iiW X
cmdjj 
.jj 

Parametersjj &
.jj& '
AddWithValuejj' 3
(jj3 4
$strjj4 B
,jjB C

pClientesEjjD N
.jjN O
CodDistritojjO Z
)jjZ [
;jj[ \
cmdkk 
.kk 

Parameterskk &
.kk& '
AddWithValuekk' 3
(kk3 4
$strkk4 C
,kkC D

pClientesEkkE O
.kkO P
CodProvinciakkP \
)kk\ ]
;kk] ^
cmdll 
.ll 

Parametersll &
.ll& '
AddWithValuell' 3
(ll3 4
$strll4 ?
,ll? @

pClientesEllA K
.llK L
TelefonollL T
)llT U
;llU V
cmdmm 
.mm 

Parametersmm &
.mm& '
AddWithValuemm' 3
(mm3 4
$strmm4 ?
,mm? @

pClientesEmmA K
.mmK L
CodCivilmmL T
)mmT U
;mmU V
cmdnn 
.nn 

Parametersnn &
.nn& '
AddWithValuenn' 3
(nn3 4
$strnn4 F
,nnF G

pClientesEnnH R
.nnR S
FechaNacimientonnS b
)nnb c
;nnc d
cmdoo 
.oo 

Parametersoo &
.oo& '
AddWithValueoo' 3
(oo3 4
$stroo4 ;
,oo; <

pClientesEoo= G
.ooG H
SexoooH L
)ooL M
;ooM N
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 F
,ppF G

pClientesEppH R
.ppR S
TipDocIdentidadppS b
)ppb c
;ppc d
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 :
,qq: ;

pClientesEqq< F
.qqF G
RucqqG J
)qqJ K
;qqK L
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 D
,rrD E

pClientesErrF P
.rrP Q
ObservacionesrrQ ^
)rr^ _
;rr_ `
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 =
,ss= >

pClientesEss? I
.ssI J
EstadossJ P
)ssP Q
;ssQ R
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 :
,tt: ;

pClientesEtt< F
.ttF G
VipttG J
)ttJ K
;ttK L
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 =
,uu= >

pClientesEuu? I
.uuI J
CorreouuJ P
)uuP Q
;uuQ R
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 F
,vvF G

pClientesEvvH R
.vvR S
CodTipoPersonavvS a
)vva b
;vvb c
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 D
,wwD E

pClientesEwwF P
.wwP Q
DscApPaternowwQ ]
)ww] ^
;ww^ _
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 D
,xxD E

pClientesExxF P
.xxP Q
DscApMaternoxxQ ]
)xx] ^
;xx^ _
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 H
,yyH I

pClientesEyyJ T
.yyT U
DscSegundoNombreyyU e
)yye f
;yyf g
cmdzz 
.zz 

Parameterszz &
.zz& '
AddWithValuezz' 3
(zz3 4
$strzz4 G
,zzG H

pClientesEzzI S
.zzS T
DscPrimerNombrezzT c
)zzc d
;zzd e
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 A
,{{A B

pClientesE{{C M
.{{M N
	CodUbigeo{{N W
){{W X
;{{X Y
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 ?
,||? @

pClientesE||A K
.||K L
CardCode||L T
)||T U
;||U V
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 C
,}}C D

pClientesE}}E O
.}}O P
FlgEnvioSap}}P [
)}}[ \
;}}\ ]
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 C
,~~C D

pClientesE~~E O
.~~O P
FecEnvioSap~~P [
)~~[ \
;~~\ ]
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 F
,F G

pClientesEH R
.R S
IdeDocentrySapS a
)a b
;b c
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 F
,
ÄÄF G

pClientesE
ÄÄH R
.
ÄÄR S
FecDocentrySap
ÄÄS a
)
ÄÄa b
;
ÄÄb c
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 J
,
ÅÅJ K

pClientesE
ÅÅL V
.
ÅÅV W 
CodClienteAnterior
ÅÅW i
)
ÅÅi j
;
ÅÅj k
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 ?
,
ÇÇ? @

pClientesE
ÇÇA K
.
ÇÇK L
FecBaja
ÇÇL S
)
ÇÇS T
;
ÇÇT U
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 ?
,
ÉÉ? @

pClientesE
ÉÉA K
.
ÉÉK L
UsrBaja
ÉÉL S
)
ÉÉS T
;
ÉÉT U
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 G
,
ÑÑG H

pClientesE
ÑÑI S
.
ÑÑS T
FecRecepcionSap
ÑÑT c
)
ÑÑc d
;
ÑÑd e
cnn
ÖÖ 
.
ÖÖ 
Open
ÖÖ  
(
ÖÖ  !
)
ÖÖ! "
;
ÖÖ" #
if
ÜÜ 
(
ÜÜ 
cmd
ÜÜ 
.
ÜÜ  
ExecuteNonQuery
ÜÜ  /
(
ÜÜ/ 0
)
ÜÜ0 1
>=
ÜÜ2 4
$num
ÜÜ5 6
)
ÜÜ6 7
result
áá "
=
áá# $
true
áá% )
;
áá) *
cmd
àà 
.
àà 
Dispose
àà #
(
àà# $
)
àà$ %
;
àà% &
cnn
ââ 
.
ââ 
Close
ââ !
(
ââ! "
)
ââ" #
;
ââ# $
cnn
ää 
.
ää 
Dispose
ää #
(
ää# $
)
ää$ %
;
ää% &
}
ãã 
}
åå 
return
çç 
result
çç 
;
çç 
}
éé 
catch
èè 
(
èè 
	Exception
èè 
ex
èè 
)
èè  
{
êê 
throw
ëë 
new
ëë 
	Exception
ëë #
(
ëë# $
ex
ëë$ &
.
ëë& '
Message
ëë' .
)
ëë. /
;
ëë/ 0
}
íí 
}
ìì 	
public
ïï 
bool
ïï $
Sp_Clientes_Insert_App
ïï *
(
ïï* +
	ClientesE
ïï+ 4

pClientesE
ïï5 ?
)
ïï? @
{
ññ 	
try
óó 
{
òò 
bool
ôô 
result
ôô 
=
ôô 
false
ôô #
;
ôô# $
using
öö 
(
öö 
SqlConnection
öö $
cnn
öö% (
=
öö) *
new
öö+ .
SqlConnection
öö/ <
(
öö< =
VariablesGlobales
öö= N
.
ööN O
CnnLogistica
ööO [
)
öö[ \
)
öö\ ]
{
õõ 
using
úú 
(
úú 

SqlCommand
úú %
cmd
úú& )
=
úú* +
new
úú, /

SqlCommand
úú0 :
(
úú: ;
$str
úú; S
,
úúS T
cnn
úúU X
)
úúX Y
)
úúY Z
{
ùù 
cmd
ûû 
.
ûû 
CommandType
ûû '
=
ûû( )
CommandType
ûû* 5
.
ûû5 6
StoredProcedure
ûû6 E
;
ûûE F
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
AddWithValue
††' 3
(
††3 4
$str
††4 C
,
††C D

pClientesE
††E O
.
††O P
CodPaciente
††P [
)
††[ \
;
††\ ]
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ &
.
¢¢& '
AddWithValue
¢¢' 3
(
¢¢3 4
$str
¢¢4 G
,
¢¢G H

pClientesE
¢¢I S
.
¢¢S T
DscPrimerNombre
¢¢T c
)
¢¢c d
;
¢¢d e
cmd
££ 
.
££ 

Parameters
££ &
.
££& '
AddWithValue
££' 3
(
££3 4
$str
££4 H
,
££H I

pClientesE
££J T
.
££T U
DscSegundoNombre
££U e
)
££e f
;
££f g
cmd
§§ 
.
§§ 

Parameters
§§ &
.
§§& '
AddWithValue
§§' 3
(
§§3 4
$str
§§4 D
,
§§D E

pClientesE
§§F P
.
§§P Q
DscApPaterno
§§Q ]
)
§§] ^
;
§§^ _
cmd
•• 
.
•• 

Parameters
•• &
.
••& '
AddWithValue
••' 3
(
••3 4
$str
••4 D
,
••D E

pClientesE
••F P
.
••P Q
DscApMaterno
••Q ]
)
••] ^
;
••^ _
cmd
ßß 
.
ßß 

Parameters
ßß &
.
ßß& '
AddWithValue
ßß' 3
(
ßß3 4
$str
ßß4 C
,
ßßC D

pClientesE
ßßE O
.
ßßO P
DocIdentidad
ßßP \
)
ßß\ ]
;
ßß] ^
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
AddWithValue
®®' 3
(
®®3 4
$str
®®4 F
,
®®F G

pClientesE
®®H R
.
®®R S
TipDocIdentidad
®®S b
)
®®b c
;
®®c d
cmd
™™ 
.
™™ 

Parameters
™™ &
.
™™& '
AddWithValue
™™' 3
(
™™3 4
$str
™™4 @
,
™™@ A

pClientesE
™™B L
.
™™L M
	Direccion
™™M V
)
™™V W
;
™™W X
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 ?
,
´´? @

pClientesE
´´A K
.
´´K L
Telefono
´´L T
)
´´T U
;
´´U V
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ &
.
¨¨& '
AddWithValue
¨¨' 3
(
¨¨3 4
$str
¨¨4 ;
,
¨¨; <

pClientesE
¨¨= G
.
¨¨G H
Sexo
¨¨H L
)
¨¨L M
;
¨¨M N
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ &
.
≠≠& '
AddWithValue
≠≠' 3
(
≠≠3 4
$str
≠≠4 =
,
≠≠= >

pClientesE
≠≠? I
.
≠≠I J
Correo
≠≠J P
)
≠≠P Q
;
≠≠Q R
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 A
,
ÆÆA B

pClientesE
ÆÆC M
.
ÆÆM N
	CodUbigeo
ÆÆN W
)
ÆÆW X
;
ÆÆX Y
cmd
ØØ 
.
ØØ 

Parameters
ØØ &
.
ØØ& '
AddWithValue
ØØ' 3
(
ØØ3 4
$str
ØØ4 F
,
ØØF G

pClientesE
ØØH R
.
ØØR S
FechaNacimiento
ØØS b
)
ØØb c
;
ØØc d
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
AddWithValue
±±' 3
(
±±3 4
$str
±±4 :
,
±±: ;

pClientesE
±±< F
.
±±F G
Ruc
±±G J
)
±±J K
;
±±K L
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ &
.
≤≤& '
AddWithValue
≤≤' 3
(
≤≤3 4
$str
≤≤4 F
,
≤≤F G

pClientesE
≤≤H R
.
≤≤R S
CodTipoPersona
≤≤S a
)
≤≤a b
;
≤≤b c
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ &
.
¥¥& '
AddWithValue
¥¥' 3
(
¥¥3 4
$str
¥¥4 D
,
¥¥D E

pClientesE
¥¥F P
.
¥¥P Q
Observaciones
¥¥Q ^
)
¥¥^ _
;
¥¥_ `
cmd
µµ 
.
µµ 

Parameters
µµ &
.
µµ& '
AddWithValue
µµ' 3
(
µµ3 4
$str
µµ4 ?
,
µµ? @

pClientesE
µµA K
.
µµK L
CodCivil
µµL T
)
µµT U
;
µµU V
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ &
.
∑∑& '
Add
∑∑' *
(
∑∑* +
VariablesGlobales
∑∑+ <
.
∑∑< =
ParametroSql
∑∑= I
(
∑∑I J
$str
∑∑J W
,
∑∑W X 
ParameterDirection
∑∑Y k
.
∑∑k l
Output
∑∑l r
,
∑∑r s
	SqlDbType
∑∑t }
.
∑∑} ~
VarChar∑∑~ Ö
,∑∑Ö Ü
$num∑∑á à
,∑∑à â

pClientesE∑∑ä î
.∑∑î ï

CodCliente∑∑ï ü
)∑∑ü †
)∑∑† °
;∑∑° ¢
cnn
ππ 
.
ππ 
Open
ππ  
(
ππ  !
)
ππ! "
;
ππ" #
if
∫∫ 
(
∫∫ 
cmd
∫∫ 
.
∫∫  
ExecuteNonQuery
∫∫  /
(
∫∫/ 0
)
∫∫0 1
>=
∫∫2 4
$num
∫∫5 6
)
∫∫6 7
{
ªª 

pClientesE
ºº &
.
ºº& '

CodCliente
ºº' 1
=
ºº2 3
(
ºº4 5
string
ºº5 ;
)
ºº; <
cmd
ºº< ?
.
ºº? @

Parameters
ºº@ J
[
ººJ K
$str
ººK X
]
ººX Y
.
ººY Z
Value
ººZ _
;
ºº_ `
result
ΩΩ "
=
ΩΩ# $
true
ΩΩ% )
;
ΩΩ) *
}
ææ 
cmd
¿¿ 
.
¿¿ 
Dispose
¿¿ #
(
¿¿# $
)
¿¿$ %
;
¿¿% &
cnn
¡¡ 
.
¡¡ 
Close
¡¡ !
(
¡¡! "
)
¡¡" #
;
¡¡# $
cnn
¬¬ 
.
¬¬ 
Dispose
¬¬ #
(
¬¬# $
)
¬¬$ %
;
¬¬% &
}
√√ 
}
ƒƒ 
return
≈≈ 
result
≈≈ 
;
≈≈ 
}
∆∆ 
catch
«« 
(
«« 
	Exception
«« 
ex
«« 
)
««  
{
»» 
throw
»» 
new
»» 
	Exception
»» !
(
»»! "
ex
»»" $
.
»»$ %
Message
»»% ,
)
»», -
;
»»- .
}
»»/ 0
}
…… 	
public
ÀÀ 
bool
ÀÀ  
Sp_Clientes_Update
ÀÀ &
(
ÀÀ& '
	ClientesE
ÀÀ' 0

pClientesE
ÀÀ1 ;
)
ÀÀ; <
{
ÃÃ 	
try
ÕÕ 
{
ŒŒ 
bool
œœ 
result
œœ 
=
œœ 
false
œœ #
;
œœ# $
using
–– 
(
–– 
SqlConnection
–– $
cnn
––% (
=
––) *
new
––+ .
SqlConnection
––/ <
(
––< =
VariablesGlobales
––= N
.
––N O
CnnLogistica
––O [
)
––[ \
)
––\ ]
{
—— 
using
““ 
(
““ 

SqlCommand
““ %
cmd
““& )
=
““* +
new
““, /

SqlCommand
““0 :
(
““: ;
$str
““; O
,
““O P
cnn
““Q T
)
““T U
)
““U V
{
”” 
cmd
‘‘ 
.
‘‘ 
CommandType
‘‘ '
=
‘‘( )
CommandType
‘‘* 5
.
‘‘5 6
StoredProcedure
‘‘6 E
;
‘‘E F
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
AddWithValue
÷÷' 3
(
÷÷3 4
$str
÷÷4 A
,
÷÷A B

pClientesE
÷÷C M
.
÷÷M N

CodCliente
÷÷N X
)
÷÷X Y
;
÷÷Y Z
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ &
.
◊◊& '
AddWithValue
◊◊' 3
(
◊◊3 4
$str
◊◊4 B
,
◊◊B C

pClientesE
◊◊D N
.
◊◊N O
CodPaciente
◊◊O Z
)
◊◊Z [
;
◊◊[ \
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ &
.
ÿÿ& '
AddWithValue
ÿÿ' 3
(
ÿÿ3 4
$str
ÿÿ4 =
,
ÿÿ= >

pClientesE
ÿÿ? I
.
ÿÿI J
Nombre
ÿÿJ P
)
ÿÿP Q
;
ÿÿQ R
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ &
.
ŸŸ& '
AddWithValue
ŸŸ' 3
(
ŸŸ3 4
$str
ŸŸ4 C
,
ŸŸC D

pClientesE
ŸŸE O
.
ŸŸO P
DocIdentidad
ŸŸP \
)
ŸŸ\ ]
;
ŸŸ] ^
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ &
.
⁄⁄& '
AddWithValue
⁄⁄' 3
(
⁄⁄3 4
$str
⁄⁄4 @
,
⁄⁄@ A

pClientesE
⁄⁄B L
.
⁄⁄L M
	Direccion
⁄⁄M V
)
⁄⁄V W
;
⁄⁄W X
cmd
€€ 
.
€€ 

Parameters
€€ &
.
€€& '
AddWithValue
€€' 3
(
€€3 4
$str
€€4 B
,
€€B C

pClientesE
€€D N
.
€€N O
CodDistrito
€€O Z
)
€€Z [
;
€€[ \
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ &
.
‹‹& '
AddWithValue
‹‹' 3
(
‹‹3 4
$str
‹‹4 C
,
‹‹C D

pClientesE
‹‹E O
.
‹‹O P
CodProvincia
‹‹P \
)
‹‹\ ]
;
‹‹] ^
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 ?
,
››? @

pClientesE
››A K
.
››K L
Telefono
››L T
)
››T U
;
››U V
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ &
.
ﬁﬁ& '
AddWithValue
ﬁﬁ' 3
(
ﬁﬁ3 4
$str
ﬁﬁ4 ?
,
ﬁﬁ? @

pClientesE
ﬁﬁA K
.
ﬁﬁK L
CodCivil
ﬁﬁL T
)
ﬁﬁT U
;
ﬁﬁU V
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ &
.
ﬂﬂ& '
AddWithValue
ﬂﬂ' 3
(
ﬂﬂ3 4
$str
ﬂﬂ4 F
,
ﬂﬂF G

pClientesE
ﬂﬂH R
.
ﬂﬂR S
FechaNacimiento
ﬂﬂS b
)
ﬂﬂb c
;
ﬂﬂc d
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ &
.
‡‡& '
AddWithValue
‡‡' 3
(
‡‡3 4
$str
‡‡4 ;
,
‡‡; <

pClientesE
‡‡= G
.
‡‡G H
Sexo
‡‡H L
)
‡‡L M
;
‡‡M N
cmd
·· 
.
·· 

Parameters
·· &
.
··& '
AddWithValue
··' 3
(
··3 4
$str
··4 F
,
··F G

pClientesE
··H R
.
··R S
TipDocIdentidad
··S b
)
··b c
;
··c d
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ &
.
‚‚& '
AddWithValue
‚‚' 3
(
‚‚3 4
$str
‚‚4 :
,
‚‚: ;

pClientesE
‚‚< F
.
‚‚F G
Ruc
‚‚G J
)
‚‚J K
;
‚‚K L
cmd
„„ 
.
„„ 

Parameters
„„ &
.
„„& '
AddWithValue
„„' 3
(
„„3 4
$str
„„4 D
,
„„D E

pClientesE
„„F P
.
„„P Q
Observaciones
„„Q ^
)
„„^ _
;
„„_ `
cmd
‰‰ 
.
‰‰ 

Parameters
‰‰ &
.
‰‰& '
AddWithValue
‰‰' 3
(
‰‰3 4
$str
‰‰4 =
,
‰‰= >

pClientesE
‰‰? I
.
‰‰I J
Estado
‰‰J P
)
‰‰P Q
;
‰‰Q R
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ &
.
ÂÂ& '
AddWithValue
ÂÂ' 3
(
ÂÂ3 4
$str
ÂÂ4 :
,
ÂÂ: ;

pClientesE
ÂÂ< F
.
ÂÂF G
Vip
ÂÂG J
)
ÂÂJ K
;
ÂÂK L
cmd
ÊÊ 
.
ÊÊ 

Parameters
ÊÊ &
.
ÊÊ& '
AddWithValue
ÊÊ' 3
(
ÊÊ3 4
$str
ÊÊ4 =
,
ÊÊ= >

pClientesE
ÊÊ? I
.
ÊÊI J
Correo
ÊÊJ P
)
ÊÊP Q
;
ÊÊQ R
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ &
.
ÁÁ& '
AddWithValue
ÁÁ' 3
(
ÁÁ3 4
$str
ÁÁ4 F
,
ÁÁF G

pClientesE
ÁÁH R
.
ÁÁR S
CodTipoPersona
ÁÁS a
)
ÁÁa b
;
ÁÁb c
cmd
ËË 
.
ËË 

Parameters
ËË &
.
ËË& '
AddWithValue
ËË' 3
(
ËË3 4
$str
ËË4 D
,
ËËD E

pClientesE
ËËF P
.
ËËP Q
DscApPaterno
ËËQ ]
)
ËË] ^
;
ËË^ _
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ &
.
ÈÈ& '
AddWithValue
ÈÈ' 3
(
ÈÈ3 4
$str
ÈÈ4 D
,
ÈÈD E

pClientesE
ÈÈF P
.
ÈÈP Q
DscApMaterno
ÈÈQ ]
)
ÈÈ] ^
;
ÈÈ^ _
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ &
.
ÍÍ& '
AddWithValue
ÍÍ' 3
(
ÍÍ3 4
$str
ÍÍ4 H
,
ÍÍH I

pClientesE
ÍÍJ T
.
ÍÍT U
DscSegundoNombre
ÍÍU e
)
ÍÍe f
;
ÍÍf g
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ &
.
ÎÎ& '
AddWithValue
ÎÎ' 3
(
ÎÎ3 4
$str
ÎÎ4 G
,
ÎÎG H

pClientesE
ÎÎI S
.
ÎÎS T
DscPrimerNombre
ÎÎT c
)
ÎÎc d
;
ÎÎd e
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ &
.
ÏÏ& '
AddWithValue
ÏÏ' 3
(
ÏÏ3 4
$str
ÏÏ4 A
,
ÏÏA B

pClientesE
ÏÏC M
.
ÏÏM N
	CodUbigeo
ÏÏN W
)
ÏÏW X
;
ÏÏX Y
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ &
.
ÌÌ& '
AddWithValue
ÌÌ' 3
(
ÌÌ3 4
$str
ÌÌ4 ?
,
ÌÌ? @

pClientesE
ÌÌA K
.
ÌÌK L
CardCode
ÌÌL T
)
ÌÌT U
;
ÌÌU V
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ &
.
ÓÓ& '
AddWithValue
ÓÓ' 3
(
ÓÓ3 4
$str
ÓÓ4 C
,
ÓÓC D

pClientesE
ÓÓE O
.
ÓÓO P
FlgEnvioSap
ÓÓP [
)
ÓÓ[ \
;
ÓÓ\ ]
cmd
ÔÔ 
.
ÔÔ 

Parameters
ÔÔ &
.
ÔÔ& '
AddWithValue
ÔÔ' 3
(
ÔÔ3 4
$str
ÔÔ4 C
,
ÔÔC D

pClientesE
ÔÔE O
.
ÔÔO P
FecEnvioSap
ÔÔP [
)
ÔÔ[ \
;
ÔÔ\ ]
cmd
 
.
 

Parameters
 &
.
& '
AddWithValue
' 3
(
3 4
$str
4 F
,
F G

pClientesE
H R
.
R S
IdeDocentrySap
S a
)
a b
;
b c
cmd
ÒÒ 
.
ÒÒ 

Parameters
ÒÒ &
.
ÒÒ& '
AddWithValue
ÒÒ' 3
(
ÒÒ3 4
$str
ÒÒ4 F
,
ÒÒF G

pClientesE
ÒÒH R
.
ÒÒR S
FecDocentrySap
ÒÒS a
)
ÒÒa b
;
ÒÒb c
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ &
.
ÚÚ& '
AddWithValue
ÚÚ' 3
(
ÚÚ3 4
$str
ÚÚ4 J
,
ÚÚJ K

pClientesE
ÚÚL V
.
ÚÚV W 
CodClienteAnterior
ÚÚW i
)
ÚÚi j
;
ÚÚj k
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ &
.
ÛÛ& '
AddWithValue
ÛÛ' 3
(
ÛÛ3 4
$str
ÛÛ4 ?
,
ÛÛ? @

pClientesE
ÛÛA K
.
ÛÛK L
FecBaja
ÛÛL S
)
ÛÛS T
;
ÛÛT U
cmd
ÙÙ 
.
ÙÙ 

Parameters
ÙÙ &
.
ÙÙ& '
AddWithValue
ÙÙ' 3
(
ÙÙ3 4
$str
ÙÙ4 ?
,
ÙÙ? @

pClientesE
ÙÙA K
.
ÙÙK L
UsrBaja
ÙÙL S
)
ÙÙS T
;
ÙÙT U
cmd
ıı 
.
ıı 

Parameters
ıı &
.
ıı& '
AddWithValue
ıı' 3
(
ıı3 4
$str
ıı4 G
,
ııG H

pClientesE
ııI S
.
ııS T
FecRecepcionSap
ııT c
)
ııc d
;
ııd e
cnn
ˆˆ 
.
ˆˆ 
Open
ˆˆ  
(
ˆˆ  !
)
ˆˆ! "
;
ˆˆ" #
if
˜˜ 
(
˜˜ 
cmd
˜˜ 
.
˜˜  
ExecuteNonQuery
˜˜  /
(
˜˜/ 0
)
˜˜0 1
>=
˜˜2 4
$num
˜˜5 6
)
˜˜6 7
result
¯¯ "
=
¯¯# $
true
¯¯% )
;
¯¯) *
cmd
˙˙ 
.
˙˙ 
Dispose
˙˙ #
(
˙˙# $
)
˙˙$ %
;
˙˙% &
cnn
˚˚ 
.
˚˚ 
Close
˚˚ !
(
˚˚! "
)
˚˚" #
;
˚˚# $
cnn
¸¸ 
.
¸¸ 
Dispose
¸¸ #
(
¸¸# $
)
¸¸$ %
;
¸¸% &
}
˝˝ 
}
˛˛ 
return
ˇˇ 
result
ˇˇ 
;
ˇˇ 
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ 
	Exception
ÅÅ 
ex
ÅÅ 
)
ÅÅ  
{
ÇÇ 
throw
ÉÉ 
new
ÉÉ 
	Exception
ÉÉ #
(
ÉÉ# $
ex
ÉÉ$ &
.
ÉÉ& '
Message
ÉÉ' .
)
ÉÉ. /
;
ÉÉ/ 0
}
ÑÑ 
}
ÖÖ 	
public
áá 
bool
áá &
Sp_Clientes_UpdatexCampo
áá ,
(
áá, -
	ClientesE
áá- 6

pClientesE
áá7 A
)
ááA B
{
àà 	
try
ââ 
{
ää 
bool
ãã 
result
ãã 
=
ãã 
false
ãã #
;
ãã# $
using
åå 
(
åå 
SqlConnection
åå $
cnn
åå% (
=
åå) *
new
åå+ .
SqlConnection
åå/ <
(
åå< =
VariablesGlobales
åå= N
.
ååN O
CnnLogistica
ååO [
)
åå[ \
)
åå\ ]
{
çç 
using
éé 
(
éé 

SqlCommand
éé %
cmd
éé& )
=
éé* +
new
éé, /

SqlCommand
éé0 :
(
éé: ;
$str
éé; U
,
ééU V
cnn
ééW Z
)
ééZ [
)
éé[ \
{
èè 
cmd
êê 
.
êê 
CommandType
êê '
=
êê( )
CommandType
êê* 5
.
êê5 6
StoredProcedure
êê6 E
;
êêE F
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 B
,
ííB C

pClientesE
ííD N
.
ííN O

NuevoValor
ííO Y
)
ííY Z
;
ííZ [
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 <
,
ìì< =

pClientesE
ìì> H
.
ììH I
Campo
ììI N
)
ììN O
;
ììO P
cnn
îî 
.
îî 
Open
îî  
(
îî  !
)
îî! "
;
îî" #
if
ïï 
(
ïï 
cmd
ïï 
.
ïï  
ExecuteNonQuery
ïï  /
(
ïï/ 0
)
ïï0 1
>=
ïï2 4
$num
ïï5 6
)
ïï6 7
result
ññ "
=
ññ# $
true
ññ% )
;
ññ) *
cmd
òò 
.
òò 
Dispose
òò #
(
òò# $
)
òò$ %
;
òò% &
cnn
ôô 
.
ôô 
Close
ôô !
(
ôô! "
)
ôô" #
;
ôô# $
cnn
öö 
.
öö 
Dispose
öö #
(
öö# $
)
öö$ %
;
öö% &
}
õõ 
}
úú 
return
ùù 
(
ùù 
result
ùù 
)
ùù 
;
ùù  
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
ex
üü 
)
üü  
{
†† 
throw
°° 
new
°° 
	Exception
°° #
(
°°# $
ex
°°$ &
.
°°& '
Message
°°' .
)
°°. /
;
°°/ 0
}
¢¢ 
}
££ 	
public
•• 
bool
••  
Sp_Clientes_Delete
•• &
(
••& '
	ClientesE
••' 0

pClientesE
••1 ;
)
••; <
{
¶¶ 	
try
ßß 
{
®® 
bool
©© 
result
©© 
=
©© 
false
©© #
;
©©# $
using
™™ 
(
™™ 
SqlConnection
™™ $
cnn
™™% (
=
™™) *
new
™™+ .
SqlConnection
™™/ <
(
™™< =
VariablesGlobales
™™= N
.
™™N O
CnnLogistica
™™O [
)
™™[ \
)
™™\ ]
{
´´ 
using
¨¨ 
(
¨¨ 

SqlCommand
¨¨ %
cmd
¨¨& )
=
¨¨* +
new
¨¨, /

SqlCommand
¨¨0 :
(
¨¨: ;
$str
¨¨; O
,
¨¨O P
cnn
¨¨Q T
)
¨¨T U
)
¨¨U V
{
≠≠ 
cmd
ÆÆ 
.
ÆÆ 
CommandType
ÆÆ '
=
ÆÆ( )
CommandType
ÆÆ* 5
.
ÆÆ5 6
StoredProcedure
ÆÆ6 E
;
ÆÆE F
cnn
∞∞ 
.
∞∞ 
Open
∞∞  
(
∞∞  !
)
∞∞! "
;
∞∞" #
if
±± 
(
±± 
cmd
±± 
.
±±  
ExecuteNonQuery
±±  /
(
±±/ 0
)
±±0 1
>=
±±2 4
$num
±±5 6
)
±±6 7
result
≤≤ "
=
≤≤# $
true
≤≤% )
;
≤≤) *
cmd
¥¥ 
.
¥¥ 
Dispose
¥¥ #
(
¥¥# $
)
¥¥$ %
;
¥¥% &
cnn
µµ 
.
µµ 
Close
µµ !
(
µµ! "
)
µµ" #
;
µµ# $
cnn
∂∂ 
.
∂∂ 
Dispose
∂∂ #
(
∂∂# $
)
∂∂$ %
;
∂∂% &
}
∑∑ 
}
∏∏ 
return
ππ 
result
ππ 
;
ππ 
}
∫∫ 
catch
ªª 
(
ªª 
	Exception
ªª 
ex
ªª 
)
ªª  
{
ºº 
throw
ΩΩ 
new
ΩΩ 
	Exception
ΩΩ #
(
ΩΩ# $
ex
ΩΩ$ &
.
ΩΩ& '
Message
ΩΩ' .
)
ΩΩ. /
;
ΩΩ/ 0
}
ææ 
}
øø 	
}
¿¿ 
}¡¡ °F
WD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\UsuarioAD\TokenAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
	UsuarioAD

 %
{ 
public 

class 
TokenAD 
{ 
public 
UsuarioE 
GetUserByToken &
(& '
TokenRequestE' 4
Token5 :
): ;
{ 	
IDataReader 
dr 
; 
UsuarioE 
? 
Entity 
= 
null #
;# $
using 
( 
SqlConnection  
cnn! $
=% &
new' *
SqlConnection+ 8
(8 9
VariablesGlobales9 J
.J K

CnnClinicaK U
)U V
)V W
{ 
using 
( 

SqlCommand !
cmd" %
=& '
new( +

SqlCommand, 6
(6 7
$str7 K
,K L
cnnM P
)P Q
)Q R
{ 
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
StoredProcedure2 A
;A B
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 <
,< =
Token> C
.C D
	TokenCodeD M
)M N
;N O
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 <
,< =
Token> C
.C D
	TokenTypeD M
)M N
;N O
cnn 
. 
Open 
( 
) 
; 
dr 
= 
cmd 
. 
ExecuteReader *
(* +
)+ ,
;, -
while 
( 
dr 
. 
Read "
(" #
)# $
)$ %
{ 
Entity   
=    
new  ! $
UsuarioE  % -
(  - .
)  . /
;  / 0
Entity"" 
."" 
UserCode"" '
=""( )
Convert""* 1
.""1 2
ToString""2 :
("": ;
dr""; =
[""= >
$str""> M
]""M N
)""N O
;""O P
Entity## 
.## 
Login## $
=##% &
(##' (
string##( .
)##. /
dr##/ 1
[##1 2
$str##2 =
]##= >
;##> ?
Entity$$ 
.$$ 
Fullname$$ '
=$$( )
($$* +
string$$+ 1
)$$1 2
dr$$2 4
[$$4 5
$str$$5 B
]$$B C
;$$C D
Entity'' 
.'' 
Email'' $
=''% &
(''' (
string''( .
)''. /
dr''/ 1
[''1 2
$str''2 =
]''= >
;''> ?
Entity(( 
.(( 
	ProfileId(( (
=(() *
(((+ ,
int((, /
)((/ 0
dr((0 2
[((2 3
$str((3 ?
]((? @
;((@ A
Entity)) 
.)) 
Status)) %
=))& '
Convert))( /
.))/ 0
ToString))0 8
())8 9
dr))9 ;
[)); <
$str))< I
]))I J
)))J K
;))K L
Entity** 
.** 
	IdUsuario** (
=**) *
(**+ ,
decimal**, 3
)**3 4
dr**4 6
[**6 7
$str**7 D
]**D E
;**E F
break++ 
;++ 
},, 
dr-- 
.-- 
Close-- 
(-- 
)-- 
;-- 
dr.. 
... 
Dispose.. 
(.. 
)..  
;..  !
cmd// 
.// 
Dispose// 
(//  
)//  !
;//! "
cnn00 
.00 
Close00 
(00 
)00 
;00  
cnn11 
.11 
Dispose11 
(11  
)11  !
;11! "
return33 
Entity33 !
;33! "
}44 
}55 
}66 	
public99 
List99 
<99 
ListaPortalTablasE99 &
>99& '
GetPortalTablas99( 7
(997 8
)998 9
{:: 	
IDataReader;; 
dr;; 
;;; 
List<< 
<<< 
ListaPortalTablasE<< #
><<# $
List<<% )
=<<* +
new<<, /
List<<0 4
<<<4 5
ListaPortalTablasE<<5 G
><<G H
(<<H I
)<<I J
;<<J K
using>> 
(>> 
SqlConnection>>  
cnn>>! $
=>>% &
new>>' *
SqlConnection>>+ 8
(>>8 9
VariablesGlobales>>9 J
.>>J K

CnnClinica>>K U
)>>U V
)>>V W
{?? 
using@@ 
(@@ 

SqlCommand@@ !
cmd@@" %
=@@& '
new@@( +

SqlCommand@@, 6
(@@6 7
$str@@7 K
,@@K L
cnn@@M P
)@@P Q
)@@Q R
{AA 
cmdBB 
.BB 
CommandTypeBB #
=BB$ %
CommandTypeBB& 1
.BB1 2
StoredProcedureBB2 A
;BBA B
cnnDD 
.DD 
OpenDD 
(DD 
)DD 
;DD 
drEE 
=EE 
cmdEE 
.EE 
ExecuteReaderEE *
(EE* +
)EE+ ,
;EE, -
cnnFF 
.FF 
OpenFF 
(FF 
)FF 
;FF 
drGG 
=GG 
cmdGG 
.GG 
ExecuteReaderGG *
(GG* +
)GG+ ,
;GG, -
whileHH 
(HH 
drHH 
.HH 
ReadHH "
(HH" #
)HH# $
)HH$ %
{II 
varJJ 
EntityJJ "
=JJ# $
newJJ% (
ListaPortalTablasEJJ) ;
(JJ; <
)JJ< =
;JJ= >
ifLL 
(LL 
drLL 
[LL 
$strLL #
]LL# $
!=LL% '
DBNullLL( .
.LL. /
ValueLL/ 4
)LL4 5
{LL6 7
EntityLL8 >
.LL> ?
IdLL? A
=LLB C
(LLD E
intLLE H
)LLH I
drLLI K
[LLK L
$strLLL P
]LLP Q
;LLQ R
}LLS T
ifMM 
(MM 
drMM 
[MM 
$strMM *
]MM* +
!=MM, .
DBNullMM/ 5
.MM5 6
ValueMM6 ;
)MM; <
{MM= >
EntityMM? E
.MME F
	cod_tablaMMF O
=MMP Q
(MMR S
stringMMS Y
)MMY Z
drMMZ \
[MM\ ]
$strMM] h
]MMh i
;MMi j
}MMk l
ifNN 
(NN 
drNN 
[NN 
$strNN *
]NN* +
!=NN, .
DBNullNN/ 5
.NN5 6
ValueNN6 ;
)NN; <
{NN= >
EntityNN? E
.NNE F
	nro_lineaNNF O
=NNP Q
(NNR S
stringNNS Y
)NNY Z
drNNZ \
[NN\ ]
$strNN] h
]NNh i
;NNi j
}NNk l
ifOO 
(OO 
drOO 
[OO 
$strOO +
]OO+ ,
!=OO- /
DBNullOO0 6
.OO6 7
ValueOO7 <
)OO< =
{OO> ?
EntityOO@ F
.OOF G

dsc_nombreOOG Q
=OOR S
(OOT U
stringOOU [
)OO[ \
drOO\ ^
[OO^ _
$strOO_ k
]OOk l
;OOl m
}OOn o
ifPP 
(PP 
drPP 
[PP 
$strPP ,
]PP, -
!=PP. 0
DBNullPP1 7
.PP7 8
ValuePP8 =
)PP= >
{PP? @
EntityPPA G
.PPG H
dsc_nombre2PPH S
=PPT U
(PPV W
stringPPW ]
)PP] ^
drPP^ `
[PP` a
$strPPa n
]PPn o
;PPo p
}PPq r
ifQQ 
(QQ 
drQQ 
[QQ 
$strQQ +
]QQ+ ,
!=QQ- /
DBNullQQ0 6
.QQ6 7
ValueQQ7 <
)QQ< =
{QQ> ?
EntityQQ@ F
.QQF G

flg_estadoQQG Q
=QQR S
(QQT U
stringQQU [
)QQ[ \
drQQ\ ^
[QQ^ _
$strQQ_ k
]QQk l
;QQl m
}QQn o
ListSS 
.SS 
AddSS  
(SS  !
EntitySS! '
)SS' (
;SS( )
}TT 
}UU 
}VV 
returnWW 
ListWW 
;WW 
}XX 	
}YY 
}ZZ ≤¢
YD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\UsuarioAD\SQLServer.cs
	namespace		 	
Dat		
 
.		 
Sql		 
.		 
	ClinicaAD		 
.		 
	UsuarioAD		 %
{

 
public 

class 
	SQLServer 
: 
IDisposable (
{ 
	protected 
string 
? 
_connString %
=& '
null( ,
;, -
	protected 
SqlConnection 
_conn  %
=& '
null( ,
;, -
	protected 
SqlTransaction  
_trans! '
=( )
null* .
;. /
	protected 
bool 
	_disposed  
=! "
false# (
;( )
public 
static 
string 
? 
ConnectionString .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
SqlTransaction 
Transaction )
{* +
get, /
{0 1
return2 8
_trans9 ?
;? @
}A B
}C D
public"" 
	SQLServer"" 
("" 
)"" 
{## 	
_connString$$ 
=$$ 
ConnectionString$$ *
;$$* +
Connect%% 
(%% 
)%% 
;%% 
}&& 	
public,, 
	SQLServer,, 
(,, 
string,, 

connString,,  *
),,* +
{-- 	
_connString.. 
=.. 

connString.. $
;..$ %
Connect// 
(// 
)// 
;// 
}00 	
public22 
	SQLServer22 
(22 
SqlConnection22 &

Connection22' 1
)221 2
{33 	
_connString44 
=44 

Connection44 $
.44$ %
ConnectionString44% 5
;445 6
_conn55 
=55 

Connection55 
;55 
}66 	
	protected99 
void99 
Connect99 
(99 
)99  
{:: 	
_conn;; 
=;; 
new;; 
SqlConnection;; %
(;;% &
_connString;;& 1
);;1 2
;;;2 3
_conn<< 
.<< 
Open<< 
(<< 
)<< 
;<< 
}== 	
publicJJ 

SqlCommandJJ 
CreateCommandJJ '
(JJ' (
stringJJ( .
qryJJ/ 2
,JJ2 3
CommandTypeJJ4 ?
typeJJ@ D
,JJD E
paramsJJF L
objectJJM S
[JJS T
]JJT U
argsJJV Z
)JJZ [
{KK 	

SqlCommandLL 
cmdLL 
=LL 
newLL  

SqlCommandLL! +
(LL+ ,
qryLL, /
,LL/ 0
_connLL1 6
)LL6 7
;LL7 8
ifOO 
(OO 
_transOO 
!=OO 
nullOO 
)OO 
cmdPP 
.PP 
TransactionPP 
=PP  !
_transPP" (
;PP( )
cmdSS 
.SS 
CommandTypeSS 
=SS 
typeSS "
;SS" #
ifVV 
(VV 
argsVV 
!=VV 
nullVV 
)VV 
{WW 
forXX 
(XX 
intXX 
iXX 
=XX 
$numXX 
;XX 
iXX  !
<XX" #
argsXX$ (
.XX( )
LengthXX) /
;XX/ 0
iXX1 2
++XX2 4
)XX4 5
{YY 
ifZZ 
(ZZ 
argsZZ 
[ZZ 
iZZ 
]ZZ 
isZZ  "
stringZZ# )
&&ZZ* ,
iZZ- .
<ZZ/ 0
(ZZ1 2
argsZZ2 6
.ZZ6 7
LengthZZ7 =
-ZZ> ?
$numZZ@ A
)ZZA B
)ZZB C
{[[ 
SqlParameter\\ $
parm\\% )
=\\* +
new\\, /
SqlParameter\\0 <
(\\< =
)\\= >
;\\> ?
parm]] 
.]] 
ParameterName]] *
=]]+ ,
(]]- .
string]]. 4
)]]4 5
args]]5 9
[]]9 :
i]]: ;
]]]; <
;]]< =
parm^^ 
.^^ 
Value^^ "
=^^# $
args^^% )
[^^) *
++^^* ,
i^^, -
]^^- .
;^^. /
cmd__ 
.__ 

Parameters__ &
.__& '
Add__' *
(__* +
parm__+ /
)__/ 0
;__0 1
}`` 
elseaa 
ifaa 
(aa 
argsaa !
[aa! "
iaa" #
]aa# $
isaa% '
SqlParameteraa( 4
)aa4 5
{bb 
cmdcc 
.cc 

Parameterscc &
.cc& '
Addcc' *
(cc* +
(cc+ ,
SqlParametercc, 8
)cc8 9
argscc9 =
[cc= >
icc> ?
]cc? @
)cc@ A
;ccA B
}dd 
elseee 
throwee 
newee "
ArgumentExceptionee# 4
(ee4 5
$stree5 c
)eec d
;eed e
}ff 
}gg 
returnhh 
cmdhh 
;hh 
}ii 	
publickk 

SqlCommandkk $
CreateCommandTransactionkk 2
(kk2 3
stringkk3 9
qrykk: =
,kk= >
CommandTypekk? J
typekkK O
,kkO P
paramskkQ W
objectkkX ^
[kk^ _
]kk_ `
argskka e
)kke f
{ll 	

SqlCommandmm 
cmdmm 
=mm 
newmm  

SqlCommandmm! +
(mm+ ,
qrymm, /
,mm/ 0
_connmm1 6
)mm6 7
;mm7 8
cmdnn 
.nn 
Transactionnn 
=nn 
_transnn $
;nn$ %
cmdqq 
.qq 
CommandTypeqq 
=qq 
typeqq "
;qq" #
iftt 
(tt 
argstt 
!=tt 
nulltt 
)tt 
{uu 
forvv 
(vv 
intvv 
ivv 
=vv 
$numvv 
;vv 
ivv  !
<vv" #
argsvv$ (
.vv( )
Lengthvv) /
;vv/ 0
ivv1 2
++vv2 4
)vv4 5
{ww 
ifxx 
(xx 
argsxx 
[xx 
ixx 
]xx 
isxx  "
stringxx# )
&&xx* ,
ixx- .
<xx/ 0
(xx1 2
argsxx2 6
.xx6 7
Lengthxx7 =
-xx> ?
$numxx@ A
)xxA B
)xxB C
{yy 
SqlParameterzz $
parmzz% )
=zz* +
newzz, /
SqlParameterzz0 <
(zz< =
)zz= >
;zz> ?
parm{{ 
.{{ 
ParameterName{{ *
={{+ ,
({{- .
string{{. 4
){{4 5
args{{5 9
[{{9 :
i{{: ;
]{{; <
;{{< =
parm|| 
.|| 
Value|| "
=||# $
args||% )
[||) *
++||* ,
i||, -
]||- .
;||. /
cmd}} 
.}} 

Parameters}} &
.}}& '
Add}}' *
(}}* +
parm}}+ /
)}}/ 0
;}}0 1
}~~ 
else 
if 
( 
args !
[! "
i" #
]# $
is% '
SqlParameter( 4
)4 5
{
ÄÄ 
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
Add
ÅÅ' *
(
ÅÅ* +
(
ÅÅ+ ,
SqlParameter
ÅÅ, 8
)
ÅÅ8 9
args
ÅÅ9 =
[
ÅÅ= >
i
ÅÅ> ?
]
ÅÅ? @
)
ÅÅ@ A
;
ÅÅA B
}
ÇÇ 
else
ÉÉ 
throw
ÉÉ 
new
ÉÉ "
ArgumentException
ÉÉ# 4
(
ÉÉ4 5
$str
ÉÉ5 c
)
ÉÉc d
;
ÉÉd e
}
ÑÑ 
}
ÖÖ 
return
ÜÜ 
cmd
ÜÜ 
;
ÜÜ 
}
áá 	
public
ââ 
SqlConnection
ââ 
GetConnection
ââ *
(
ââ* +
)
ââ+ ,
{
ää 	
return
ãã 
_conn
ãã 
;
ãã 
}
åå 	
public
ññ 
int
ññ 
ExecNonQuery
ññ 
(
ññ  
string
ññ  &
qry
ññ' *
,
ññ* +
params
ññ, 2
object
ññ3 9
[
ññ9 :
]
ññ: ;
args
ññ< @
)
ññ@ A
{
óó 	
using
òò 
(
òò 

SqlCommand
òò 
cmd
òò !
=
òò" #
CreateCommand
òò$ 1
(
òò1 2
qry
òò2 5
,
òò5 6
CommandType
òò7 B
.
òòB C
Text
òòC G
,
òòG H
args
òòI M
)
òòM N
)
òòN O
{
ôô 
return
öö 
cmd
öö 
.
öö 
ExecuteNonQuery
öö *
(
öö* +
)
öö+ ,
;
öö, -
}
õõ 
}
úú 	
public
ûû 
int
ûû )
ExecNonQueryProcTransaction
ûû .
(
ûû. /
string
ûû/ 5
qry
ûû6 9
,
ûû9 :
params
ûû; A
object
ûûB H
[
ûûH I
]
ûûI J
args
ûûK O
)
ûûO P
{
üü 	
using
†† 
(
†† 

SqlCommand
†† 
cmd
†† !
=
††" #&
CreateCommandTransaction
††$ <
(
††< =
qry
††= @
,
††@ A
CommandType
††B M
.
††M N
StoredProcedure
††N ]
,
††] ^
args
††_ c
)
††c d
)
††d e
{
°° 
return
¢¢ 
cmd
¢¢ 
.
¢¢ 
ExecuteNonQuery
¢¢ *
(
¢¢* +
)
¢¢+ ,
;
¢¢, -
}
££ 
}
§§ 	
public
¨¨ 
int
¨¨ 
ExecNonQueryProc
¨¨ #
(
¨¨# $
string
¨¨$ *
proc
¨¨+ /
,
¨¨/ 0
params
¨¨1 7
object
¨¨8 >
[
¨¨> ?
]
¨¨? @
args
¨¨A E
)
¨¨E F
{
≠≠ 	
using
ÆÆ 
(
ÆÆ 

SqlCommand
ÆÆ 
cmd
ÆÆ !
=
ÆÆ" #
CreateCommand
ÆÆ$ 1
(
ÆÆ1 2
proc
ÆÆ2 6
,
ÆÆ6 7
CommandType
ÆÆ8 C
.
ÆÆC D
StoredProcedure
ÆÆD S
,
ÆÆS T
args
ÆÆU Y
)
ÆÆY Z
)
ÆÆZ [
{
ØØ 
return
∞∞ 
cmd
∞∞ 
.
∞∞ 
ExecuteNonQuery
∞∞ *
(
∞∞* +
)
∞∞+ ,
;
∞∞, -
}
±± 
}
≤≤ 	
public
∫∫ 
object
∫∫ 

ExecScalar
∫∫  
(
∫∫  !
string
∫∫! '
qry
∫∫( +
,
∫∫+ ,
params
∫∫- 3
object
∫∫4 :
[
∫∫: ;
]
∫∫; <
args
∫∫= A
)
∫∫A B
{
ªª 	
using
ºº 
(
ºº 

SqlCommand
ºº 
cmd
ºº !
=
ºº" #
CreateCommand
ºº$ 1
(
ºº1 2
qry
ºº2 5
,
ºº5 6
CommandType
ºº7 B
.
ººB C
Text
ººC G
,
ººG H
args
ººI M
)
ººM N
)
ººN O
{
ΩΩ 
return
ææ 
cmd
ææ 
.
ææ 
ExecuteScalar
ææ (
(
ææ( )
)
ææ) *
;
ææ* +
}
øø 
}
¿¿ 	
public
»» 
object
»» 
ExecScalarProc
»» $
(
»»$ %
string
»»% +
qry
»», /
,
»»/ 0
params
»»1 7
object
»»8 >
[
»»> ?
]
»»? @
args
»»A E
)
»»E F
{
…… 	
using
   
(
   

SqlCommand
   
cmd
   !
=
  " #
CreateCommand
  $ 1
(
  1 2
qry
  2 5
,
  5 6
CommandType
  7 B
.
  B C
StoredProcedure
  C R
,
  R S
args
  T X
)
  X Y
)
  Y Z
{
ÀÀ 
return
ÃÃ 
cmd
ÃÃ 
.
ÃÃ 
ExecuteScalar
ÃÃ (
(
ÃÃ( )
)
ÃÃ) *
;
ÃÃ* +
}
ÕÕ 
}
ŒŒ 	
public
÷÷ 
object
÷÷ '
ExecScalarProcTransaction
÷÷ /
(
÷÷/ 0
string
÷÷0 6
qry
÷÷7 :
,
÷÷: ;
params
÷÷< B
object
÷÷C I
[
÷÷I J
]
÷÷J K
args
÷÷L P
)
÷÷P Q
{
◊◊ 	
using
ÿÿ 
(
ÿÿ 

SqlCommand
ÿÿ 
cmd
ÿÿ !
=
ÿÿ" #&
CreateCommandTransaction
ÿÿ$ <
(
ÿÿ< =
qry
ÿÿ= @
,
ÿÿ@ A
CommandType
ÿÿB M
.
ÿÿM N
StoredProcedure
ÿÿN ]
,
ÿÿ] ^
args
ÿÿ_ c
)
ÿÿc d
)
ÿÿd e
{
ŸŸ 
return
⁄⁄ 
cmd
⁄⁄ 
.
⁄⁄ 
ExecuteScalar
⁄⁄ (
(
⁄⁄( )
)
⁄⁄) *
;
⁄⁄* +
}
€€ 
}
‹‹ 	
public
‰‰ 
SqlDataReader
‰‰ 
ExecDataReader
‰‰ +
(
‰‰+ ,
string
‰‰, 2
qry
‰‰3 6
,
‰‰6 7
params
‰‰8 >
object
‰‰? E
[
‰‰E F
]
‰‰F G
args
‰‰H L
)
‰‰L M
{
ÂÂ 	
using
ÊÊ 
(
ÊÊ 

SqlCommand
ÊÊ 
cmd
ÊÊ !
=
ÊÊ" #
CreateCommand
ÊÊ$ 1
(
ÊÊ1 2
qry
ÊÊ2 5
,
ÊÊ5 6
CommandType
ÊÊ7 B
.
ÊÊB C
Text
ÊÊC G
,
ÊÊG H
args
ÊÊI M
)
ÊÊM N
)
ÊÊN O
{
ÁÁ 
return
ËË 
cmd
ËË 
.
ËË 
ExecuteReader
ËË (
(
ËË( )
)
ËË) *
;
ËË* +
}
ÈÈ 
}
ÍÍ 	
public
ÏÏ 
SqlDataReader
ÏÏ '
ExecDataReaderTransaction
ÏÏ 6
(
ÏÏ6 7
string
ÏÏ7 =
qry
ÏÏ> A
,
ÏÏA B
params
ÏÏC I
object
ÏÏJ P
[
ÏÏP Q
]
ÏÏQ R
args
ÏÏS W
)
ÏÏW X
{
ÌÌ 	
using
ÓÓ 
(
ÓÓ 

SqlCommand
ÓÓ 
cmd
ÓÓ !
=
ÓÓ" #&
CreateCommandTransaction
ÓÓ$ <
(
ÓÓ< =
qry
ÓÓ= @
,
ÓÓ@ A
CommandType
ÓÓB M
.
ÓÓM N
Text
ÓÓN R
,
ÓÓR S
args
ÓÓT X
)
ÓÓX Y
)
ÓÓY Z
{
ÔÔ 
return
 
cmd
 
.
 
ExecuteReader
 (
(
( )
)
) *
;
* +
}
ÒÒ 
}
ÚÚ 	
public
˙˙ 
SqlDataReader
˙˙  
ExecDataReaderProc
˙˙ /
(
˙˙/ 0
string
˙˙0 6
qry
˙˙7 :
,
˙˙: ;
params
˙˙< B
object
˙˙C I
[
˙˙I J
]
˙˙J K
args
˙˙L P
)
˙˙P Q
{
˚˚ 	
using
¸¸ 
(
¸¸ 

SqlCommand
¸¸ 
cmd
¸¸ !
=
¸¸" #
CreateCommand
¸¸$ 1
(
¸¸1 2
qry
¸¸2 5
,
¸¸5 6
CommandType
¸¸7 B
.
¸¸B C
StoredProcedure
¸¸C R
,
¸¸R S
args
¸¸T X
)
¸¸X Y
)
¸¸Y Z
{
˝˝ 
return
˛˛ 
cmd
˛˛ 
.
˛˛ 
ExecuteReader
˛˛ (
(
˛˛( )
)
˛˛) *
;
˛˛* +
}
ˇˇ 
}
ÄÄ 	
public
àà 
DataSet
àà 
ExecDataSet
àà "
(
àà" #
string
àà# )
qry
àà* -
,
àà- .
params
àà/ 5
object
àà6 <
[
àà< =
]
àà= >
args
àà? C
)
ààC D
{
ââ 	
using
ää 
(
ää 

SqlCommand
ää 
cmd
ää !
=
ää" #
CreateCommand
ää$ 1
(
ää1 2
qry
ää2 5
,
ää5 6
CommandType
ää7 B
.
ääB C
Text
ääC G
,
ääG H
args
ääI M
)
ääM N
)
ääN O
{
ãã 
SqlDataAdapter
åå 
adapt
åå $
=
åå% &
new
åå' *
SqlDataAdapter
åå+ 9
(
åå9 :
cmd
åå: =
)
åå= >
;
åå> ?
DataSet
çç 
ds
çç 
=
çç 
new
çç  
DataSet
çç! (
(
çç( )
)
çç) *
;
çç* +
adapt
éé 
.
éé 
Fill
éé 
(
éé 
ds
éé 
)
éé 
;
éé 
return
èè 
ds
èè 
;
èè 
}
êê 
}
ëë 	
public
ôô 
DataSet
ôô 
ExecDataSetProc
ôô &
(
ôô& '
string
ôô' -
qry
ôô. 1
,
ôô1 2
params
ôô3 9
object
ôô: @
[
ôô@ A
]
ôôA B
args
ôôC G
)
ôôG H
{
öö 	
using
õõ 
(
õõ 

SqlCommand
õõ 
cmd
õõ !
=
õõ" #
CreateCommand
õõ$ 1
(
õõ1 2
qry
õõ2 5
,
õõ5 6
CommandType
õõ7 B
.
õõB C
StoredProcedure
õõC R
,
õõR S
args
õõT X
)
õõX Y
)
õõY Z
{
úú 
SqlDataAdapter
ùù 
adapt
ùù $
=
ùù% &
new
ùù' *
SqlDataAdapter
ùù+ 9
(
ùù9 :
cmd
ùù: =
)
ùù= >
;
ùù> ?
DataSet
ûû 
ds
ûû 
=
ûû 
new
ûû  
DataSet
ûû! (
(
ûû( )
)
ûû) *
;
ûû* +
adapt
üü 
.
üü 
Fill
üü 
(
üü 
ds
üü 
)
üü 
;
üü 
return
†† 
ds
†† 
;
†† 
}
°° 
}
¢¢ 	
public
¨¨ 
SqlTransaction
¨¨ 
BeginTransaction
¨¨ .
(
¨¨. /
)
¨¨/ 0
{
≠≠ 	
Rollback
ÆÆ 
(
ÆÆ 
)
ÆÆ 
;
ÆÆ 
_trans
ØØ 
=
ØØ 
_conn
ØØ 
.
ØØ 
BeginTransaction
ØØ +
(
ØØ+ ,
)
ØØ, -
;
ØØ- .
return
∞∞ 
Transaction
∞∞ 
;
∞∞ 
}
±± 	
public
∂∂ 
void
∂∂ 
Commit
∂∂ 
(
∂∂ 
)
∂∂ 
{
∑∑ 	
if
∏∏ 
(
∏∏ 
_trans
∏∏ 
!=
∏∏ 
null
∏∏ 
)
∏∏ 
{
ππ 
_trans
∫∫ 
.
∫∫ 
Commit
∫∫ 
(
∫∫ 
)
∫∫ 
;
∫∫  
_trans
ªª 
=
ªª 
null
ªª 
;
ªª 
}
ºº 
}
ΩΩ 	
public
¬¬ 
void
¬¬ 
Rollback
¬¬ 
(
¬¬ 
)
¬¬ 
{
√√ 	
if
ƒƒ 
(
ƒƒ 
_trans
ƒƒ 
!=
ƒƒ 
null
ƒƒ 
)
ƒƒ 
{
≈≈ 
_trans
∆∆ 
.
∆∆ 
Rollback
∆∆ 
(
∆∆  
)
∆∆  !
;
∆∆! "
_trans
«« 
=
«« 
null
«« 
;
«« 
}
»» 
}
…… 	
public
œœ 
void
œœ 
Dispose
œœ 
(
œœ 
)
œœ 
{
–– 	
Dispose
—— 
(
—— 
true
—— 
)
—— 
;
—— 
GC
““ 
.
““ 
SuppressFinalize
““ 
(
““  
this
““  $
)
““$ %
;
““% &
}
”” 	
	protected
’’ 
virtual
’’ 
void
’’ 
Dispose
’’ &
(
’’& '
bool
’’' +
	disposing
’’, 5
)
’’5 6
{
÷÷ 	
if
◊◊ 
(
◊◊ 
!
◊◊ 
	_disposed
◊◊ 
)
◊◊ 
{
ÿÿ 
if
⁄⁄ 
(
⁄⁄ 
	disposing
⁄⁄ 
)
⁄⁄ 
{
€€ 
if
‹‹ 
(
‹‹ 
_conn
‹‹ 
!=
‹‹  
null
‹‹! %
)
‹‹% &
{
›› 
Rollback
ﬁﬁ  
(
ﬁﬁ  !
)
ﬁﬁ! "
;
ﬁﬁ" #
_conn
ﬂﬂ 
.
ﬂﬂ 
Dispose
ﬂﬂ %
(
ﬂﬂ% &
)
ﬂﬂ& '
;
ﬂﬂ' (
_conn
‡‡ 
=
‡‡ 
null
‡‡  $
;
‡‡$ %
}
·· 
}
‚‚ 
	_disposed
„„ 
=
„„ 
true
„„  
;
„„  !
}
‰‰ 
}
ÂÂ 	
}
ÍÍ 
}ÎÎ ´é
[D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\UsuarioAD\SeguridadAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
	UsuarioAD %
{ 
public 

class 
SeguridadAD 
{ 
public 

SeguridadE 
GetLogin "
(" #
LoginE# )
Login* /
)/ 0
{ 	
IDataReader 
dr 
; 
var 
Entity 
= 
new 

SeguridadE '
(' (
)( )
;) *
using 
( 
SqlConnection  
cnn! $
=% &
new' *
SqlConnection+ 8
(8 9
VariablesGlobales9 J
.J K

CnnClinicaK U
)U V
)V W
{ 
using 
( 

SqlCommand !
cmd" %
=& '
new( +

SqlCommand, 6
(6 7
$str7 I
,I J
cnnK N
)N O
)O P
{ 
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
StoredProcedure2 A
;A B
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 8
,8 9
Login: ?
.? @
Login@ E
)E F
;F G
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 ;
,; <
Login= B
.B C
PasswordC K
)K L
;L M
cnn 
. 
Open 
( 
) 
; 
dr 
= 
cmd 
. 
ExecuteReader *
(* +
)+ ,
;, -
while 
( 
dr 
. 
Read "
(" #
)# $
)$ %
{   
Entity!! 
.!! 
IdPerfil!! '
=!!( )
Convert!!* 1
.!!1 2
ToInt32!!2 9
(!!9 :
dr!!: <
[!!< =
$str!!= I
]!!I J
)!!J K
;!!K L
Entity$$ 
.$$ 
Login$$ $
=$$% &
Convert$$' .
.$$. /
ToString$$/ 7
($$7 8
dr$$8 :
[$$: ;
$str$$; F
]$$F G
)$$G H
;$$H I
Entity%% 
.%% 
Password%% '
=%%( )
Convert%%* 1
.%%1 2
ToString%%2 :
(%%: ;
dr%%; =
[%%= >
$str%%> I
]%%I J
)%%J K
;%%K L
Entity&& 
.&& 
NombreCompleto&& -
=&&. /
Convert&&0 7
.&&7 8
ToString&&8 @
(&&@ A
dr&&A C
[&&C D
$str&&D Q
]&&Q R
)&&R S
;&&S T
Entity)) 
.)) 
Email)) $
=))% &
Convert))' .
.)). /
ToString))/ 7
())7 8
dr))8 :
[)): ;
$str)); F
]))F G
)))G H
;))H I
Entity++ 
.++ 
Estado++ %
=++& '
Convert++( /
.++/ 0
ToString++0 8
(++8 9
dr++9 ;
[++; <
$str++< I
]++I J
)++J K
;++K L
Entity-- 
.-- 
ide_usuario-- *
=--+ ,
Convert--- 4
.--4 5
ToInt32--5 <
(--< =
dr--= ?
[--? @
$str--@ M
]--M N
)--N O
;--O P
Entity.. 
... 
CodSexo.. &
=..' (
Convert..) 0
...0 1
ToString..1 9
(..9 :
dr..: <
[..< =
$str..= G
]..G H
)..H I
;..I J
Entity// 
.// 
UrlFoto// &
=//' (
Convert//) 0
.//0 1
ToString//1 9
(//9 :
dr//: <
[//< =
$str//= G
]//G H
)//H I
;//I J
Entity00 
.00 
CodUser00 &
=00' (
Convert00) 0
.000 1
ToInt32001 8
(008 9
dr009 ;
[00; <
$str00< F
]00F G
)00G H
;00H I
break11 
;11 
}22 
dr33 
.33 
Close33 
(33 
)33 
;33 
dr44 
.44 
Dispose44 
(44 
)44  
;44  !
cmd55 
.55 
Dispose55 
(55  
)55  !
;55! "
cnn66 
.66 
Close66 
(66 
)66 
;66  
cnn77 
.77 
Dispose77 
(77  
)77  !
;77! "
return99 
Entity99 !
;99! "
}:: 
};; 
}<< 	
public>> 

BaseDatosE>> 
GetBaseDatos>> &
(>>& '

BaseDatosE>>' 1

oBaseDatos>>2 <
)>>< =
{?? 	
IDataReader@@ 
dr@@ 
;@@ 
varAA 
EntityAA 
=AA 
newAA 

BaseDatosEAA '
(AA' (
)AA( )
;AA) *
tryCC 
{DD 
usingEE 
(EE 
SqlConnectionEE $
cnnEE% (
=EE) *
newEE+ .
SqlConnectionEE/ <
(EE< =
VariablesGlobalesEE= N
.EEN O

CnnClinicaEEO Y
)EEY Z
)EEZ [
{FF 
usingGG 
(GG 

SqlCommandGG %
cmdGG& )
=GG* +
newGG, /

SqlCommandGG0 :
(GG: ;
$strGG; O
,GGO P
cnnGGQ T
)GGT U
)GGU V
{HH 
cmdII 
.II 
CommandTypeII '
=II( )
CommandTypeII* 5
.II5 6
StoredProcedureII6 E
;IIE F
cmdMM 
.MM 

ParametersMM &
.MM& '
AddWithValueMM' 3
(MM3 4
$strMM4 ?
,MM? @

oBaseDatosMMA K
.MMK L
NombreMML R
)MMR S
;MMS T
cnnNN 
.NN 
OpenNN  
(NN  !
)NN! "
;NN" #
drOO 
=OO 
cmdOO  
.OO  !
ExecuteReaderOO! .
(OO. /
)OO/ 0
;OO0 1
whilePP 
(PP 
drPP !
.PP! "
ReadPP" &
(PP& '
)PP' (
)PP( )
{QQ 
EntityRR "
.RR" #
DescripcionRR# .
=RR/ 0
ConvertRR1 8
.RR8 9
ToStringRR9 A
(RRA B
drRRB D
[RRD E
$strRRE O
]RRO P
)RRP Q
;RRQ R
breakSS !
;SS! "
}TT 
drUU 
.UU 
CloseUU  
(UU  !
)UU! "
;UU" #
drVV 
.VV 
DisposeVV "
(VV" #
)VV# $
;VV$ %
cmdWW 
.WW 
DisposeWW #
(WW# $
)WW$ %
;WW% &
cnnXX 
.XX 
CloseXX !
(XX! "
)XX" #
;XX# $
cnnYY 
.YY 
DisposeYY #
(YY# $
)YY$ %
;YY% &
returnZZ 
EntityZZ %
;ZZ% &
}[[ 
}\\ 
}]] 
catch^^ 
(^^ 
	Exception^^ 
)^^ 
{__ 
return`` 
Entity`` 
;`` 
}aa 
}bb 	
publicdd 
TokenResponseEdd 
GetNewTokendd )
(dd) *
intdd* -
ide_usuariodd. 9
,dd9 :
intdd; >
	Tokentypedd? H
,ddH I
stringddJ P

ide_moduloddQ [
,dd[ \
stringdd] c
dsc_versionddd o
)ddo p
{ee 	
IDataReaderff 
drff 
;ff 
vargg 
Entitygg 
=gg 
newgg 
TokenResponseEgg +
(gg+ ,
)gg, -
;gg- .
usingii 
(ii 
SqlConnectionii  
cnnii! $
=ii% &
newii' *
SqlConnectionii+ 8
(ii8 9
VariablesGlobalesii9 J
.iiJ K

CnnClinicaiiK U
)iiU V
)iiV W
{jj 
usingkk 
(kk 

SqlCommandkk !
cmdkk" %
=kk& '
newkk( +

SqlCommandkk, 6
(kk6 7
$strkk7 G
,kkG H
cnnkkI L
)kkL M
)kkM N
{ll 
cmdmm 
.mm 
CommandTypemm #
=mm$ %
CommandTypemm& 1
.mm1 2
StoredProceduremm2 A
;mmA B
cmdoo 
.oo 

Parametersoo "
.oo" #
AddWithValueoo# /
(oo/ 0
$stroo0 >
,oo> ?
ide_usuariooo@ K
)ooK L
;ooL M
cmdpp 
.pp 

Parameterspp "
.pp" #
AddWithValuepp# /
(pp/ 0
$strpp0 =
,pp= >

ide_modulopp? I
)ppI J
;ppJ K
cmdqq 
.qq 

Parametersqq "
.qq" #
AddWithValueqq# /
(qq/ 0
$strqq0 >
,qq> ?
dsc_versionqq@ K
)qqK L
;qqL M
cmdrr 
.rr 

Parametersrr "
.rr" #
AddWithValuerr# /
(rr/ 0
$strrr0 <
,rr< =
	Tokentyperr> G
)rrG H
;rrH I
cnntt 
.tt 
Opentt 
(tt 
)tt 
;tt 
druu 
=uu 
cmduu 
.uu 
ExecuteReaderuu *
(uu* +
)uu+ ,
;uu, -
whilevv 
(vv 
drvv 
.vv 
Readvv "
(vv" #
)vv# $
)vv$ %
{ww 
Entityxx 
.xx 
	TokenCodexx (
=xx) *
Convertxx+ 2
.xx2 3
ToStringxx3 ;
(xx; <
drxx< >
[xx> ?
$strxx? J
]xxJ K
)xxK L
;xxL M
breakyy 
;yy 
}zz 
dr{{ 
.{{ 
Close{{ 
({{ 
){{ 
;{{ 
dr|| 
.|| 
Dispose|| 
(|| 
)||  
;||  !
cmd}} 
.}} 
Dispose}} 
(}}  
)}}  !
;}}! "
cnn~~ 
.~~ 
Close~~ 
(~~ 
)~~ 
;~~  
cnn 
. 
Dispose 
(  
)  !
;! "
return
ÅÅ 
Entity
ÅÅ !
;
ÅÅ! "
}
ÇÇ 
}
ÉÉ 
}
ÑÑ 	
public
áá 
RespuestaJsonE
áá *
GetActulizacionPerilPersonal
áá :
(
áá: ;

SeguridadE
áá; E
_obj
ááF J
)
ááJ K
{
àà 	
RespuestaJsonE
ââ 

_respuesta
ââ %
=
ââ& '
new
ââ( +
RespuestaJsonE
ââ, :
(
ââ: ;
)
ââ; <
;
ââ< =

SqlCommand
ää 
cmd
ää 
=
ää 
null
ää !
;
ää! "
SqlConnection
ãã 
con
ãã 
=
ãã 
null
ãã  $
;
ãã$ %
SqlDataReader
åå 
dr
åå 
=
åå 
null
åå #
;
åå# $
try
çç 
{
éé 
con
èè 
=
èè 
new
èè 
SqlConnection
èè '
(
èè' (
VariablesGlobales
èè( 9
.
èè9 :

CnnClinica
èè: D
)
èèD E
;
èèE F
cmd
êê 
=
êê 
new
êê 

SqlCommand
êê $
(
êê$ %
$str
êê% =
,
êê= >
con
êê? B
)
êêB C
;
êêC D
cmd
ëë 
.
ëë 
CommandType
ëë 
=
ëë  !
CommandType
ëë" -
.
ëë- .
StoredProcedure
ëë. =
;
ëë= >
cmd
íí 
.
íí 

Parameters
íí 
.
íí 
AddWithValue
íí +
(
íí+ ,
$str
íí, 4
,
íí4 5
$num
íí6 7
)
íí7 8
;
íí8 9
cmd
ìì 
.
ìì 

Parameters
ìì 
.
ìì 
AddWithValue
ìì +
(
ìì+ ,
$str
ìì, 4
,
ìì4 5
_obj
ìì6 :
.
ìì: ;
Login
ìì; @
)
ìì@ A
;
ììB C
cmd
îî 
.
îî 

Parameters
îî 
.
îî 
AddWithValue
îî +
(
îî+ ,
$str
îî, 5
,
îî5 6
_obj
îî7 ;
.
îî; <

Img_Perfil
îî< F
)
îîF G
;
îîH I
con
ïï 
.
ïï 
Open
ïï 
(
ïï 
)
ïï 
;
ïï 
dr
ññ 
=
ññ 
cmd
ññ 
.
ññ 
ExecuteReader
ññ &
(
ññ& '
)
ññ' (
;
ññ( )

_respuesta
óó 
.
óó 
exito
óó  
=
óó! "
true
óó# '
;
óó' (

_respuesta
òò 
.
òò 
message
òò "
=
òò# $
$str
òò% M
;
òòM N
}
ôô 
catch
öö 
(
öö 
	Exception
öö 
ex
öö 
)
öö 
{
öö  !

_respuesta
õõ 
.
õõ 
exito
õõ  
=
õõ! "
false
õõ# (
;
õõ( )

_respuesta
úú 
.
úú 
message
úú "
=
úú# $
$str
úú% Z
+
úú[ \
ex
úú] _
.
úú_ `
Message
úú` g
+
úúh i
$strúúj à
;úúà â
}
ùù 
finally
ûû 
{
ûû 
con
üü 
.
üü 
Close
üü 
(
üü 
)
üü 
;
üü 
con
†† 
.
†† 
Dispose
†† 
(
†† 
)
†† 
;
†† 
dr
°° 
.
°° 
Close
°° 
(
°° 
)
°° 
;
°° 
dr
¢¢ 
.
¢¢ 
Dispose
¢¢ 
(
¢¢ 
)
¢¢ 
;
¢¢ 
cmd
££ 
.
££ 
Dispose
££ 
(
££ 
)
££ 
;
££ 
}
§§ 
return
•• 

_respuesta
•• 
;
•• 
}
¶¶ 	
public
®® 
	DataTable
®® 
MostrarFotoPerfil
®® *
(
®®* +

SeguridadE
®®+ 5
_obj
®®6 :
)
®®: ;
{
©© 	
	DataTable
™™ 

_respuesta
™™  
=
™™! "
new
™™# &
	DataTable
™™' 0
(
™™0 1
)
™™1 2
;
™™2 3

SqlCommand
´´ 
cmd
´´ 
=
´´ 
null
´´ !
;
´´! "
SqlConnection
¨¨ 
con
¨¨ 
=
¨¨ 
null
¨¨  $
;
¨¨$ %
SqlDataReader
≠≠ 
dr
≠≠ 
=
≠≠ 
null
≠≠ #
;
≠≠# $
try
ÆÆ 
{
ØØ 
con
∞∞ 
=
∞∞ 
new
∞∞ 
SqlConnection
∞∞ '
(
∞∞' (
VariablesGlobales
∞∞( 9
.
∞∞9 :

CnnClinica
∞∞: D
)
∞∞D E
;
∞∞E F
cmd
±± 
=
±± 
new
±± 

SqlCommand
±± $
(
±±$ %
$str
±±% =
,
±±= >
con
±±? B
)
±±B C
;
±±C D
cmd
≤≤ 
.
≤≤ 
CommandType
≤≤ 
=
≤≤  !
CommandType
≤≤" -
.
≤≤- .
StoredProcedure
≤≤. =
;
≤≤= >
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ 
.
≥≥ 
AddWithValue
≥≥ +
(
≥≥+ ,
$str
≥≥, 4
,
≥≥4 5
$num
≥≥6 7
)
≥≥7 8
;
≥≥8 9
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ 
.
¥¥ 
AddWithValue
¥¥ +
(
¥¥+ ,
$str
¥¥, 4
,
¥¥4 5
_obj
¥¥6 :
.
¥¥: ;
Login
¥¥; @
)
¥¥@ A
;
¥¥A B
cmd
µµ 
.
µµ 

Parameters
µµ 
.
µµ 
AddWithValue
µµ +
(
µµ+ ,
$str
µµ, 5
,
µµ5 6
null
µµ7 ;
)
µµ; <
;
µµ< =
con
∂∂ 
.
∂∂ 
Open
∂∂ 
(
∂∂ 
)
∂∂ 
;
∂∂ 
dr
∑∑ 
=
∑∑ 
cmd
∑∑ 
.
∑∑ 
ExecuteReader
∑∑ &
(
∑∑& '
)
∑∑' (
;
∑∑( )

_respuesta
∏∏ 
.
∏∏ 
Load
∏∏ 
(
∏∏  
dr
∏∏  "
)
∏∏" #
;
∏∏# $
}
ππ 
catch
∫∫ 
(
∫∫ 
	Exception
∫∫ 
ex
∫∫ 
)
∫∫  
{
ªª 

_respuesta
ºº 
=
ºº 
new
ºº  
	DataTable
ºº! *
(
ºº* +
)
ºº+ ,
;
ºº, -
return
ΩΩ 

_respuesta
ΩΩ !
;
ΩΩ! "
}
ææ 
finally
øø 
{
¿¿ 
con
¡¡ 
.
¡¡ 
Close
¡¡ 
(
¡¡ 
)
¡¡ 
;
¡¡ 
con
¬¬ 
.
¬¬ 
Dispose
¬¬ 
(
¬¬ 
)
¬¬ 
;
¬¬ 
dr
√√ 
.
√√ 
Close
√√ 
(
√√ 
)
√√ 
;
√√ 
dr
ƒƒ 
.
ƒƒ 
Dispose
ƒƒ 
(
ƒƒ 
)
ƒƒ 
;
ƒƒ 
cmd
≈≈ 
.
≈≈ 
Dispose
≈≈ 
(
≈≈ 
)
≈≈ 
;
≈≈ 
}
∆∆ 
return
«« 

_respuesta
«« 
;
«« 
}
»» 	
}
…… 
}   ã˚
WD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\TramasAD\TramasAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
{ 
public 

class 
TramasAD 
{ 
static 
string "
USP_Trama_ConsultaData ,
=- .
$str/ H
;H I
static 
string "
USP_Trama_MecServicios ,
=- .
$str/ N
;N O
static 
string !
USP_Trama_MecFarmacia +
=, -
$str. M
;M N
static 
string !
USP_Trama_MecAtencion +
=, -
$str. M
;M N
static 
string &
USP_Trama_MecAtencion_Item 0
=1 2
$str3 W
;W X
public 
async 
Task 
< !
ResultadoTransactionE /
</ 0
TabsTituloDataE0 ?
>? @
>@ A
ListadoTramaTabsB R
(R S
)S T
{ 	!
ResultadoTransactionE !
<! "
TabsTituloDataE" 1
>1 2
	Resultado3 <
== >
new? B!
ResultadoTransactionEC X
<X Y
TabsTituloDataEY h
>h i
(i j
)j k
;k l
using 
( 
SqlConnection  
cnn! $
=% &
new' *
SqlConnection+ 8
(8 9
VariablesGlobales9 J
.J K

CnnClinicaK U
)U V
)V W
{   
cnn!! 
.!! 
Open!! 
(!! 
)!! 
;!! 
using"" 
("" 

SqlCommand"" !
cmd""" %
=""& '
new""( +

SqlCommand"", 6
(""6 7"
USP_Trama_ConsultaData""7 M
,""M N
cnn""O R
)""R S
)""S T
{## 
try$$ 
{$$ 
cmd%% 
.%% 
CommandType%% '
=%%( )
CommandType%%* 5
.%%5 6
StoredProcedure%%6 E
;%%E F
cmd&& 
.&& 

Parameters&& &
.&&& '
AddWithValue&&' 3
(&&3 4
$str&&4 <
,&&< =
$num&&= >
)&&> ?
;&&? @
cmd'' 
.'' 

Parameters'' &
.''& '
AddWithValue''' 3
(''3 4
$str''4 E
,''E F
$str''F H
)''H I
;''I J
using(( 
((( 
SqlDataReader(( ,
reader((- 3
=((4 5
await((6 ;
cmd((< ?
.((? @
ExecuteReaderAsync((@ R
(((R S
)((S T
)((T U
{)) 
	Resultado** %
.**% &
DataList**& .
=**/ 0
new**1 4
List**5 9
<**9 :
TabsTituloDataE**: I
>**I J
(**J K
)**K L
;**L M
while++ !
(++" #
reader++# )
.++) *
Read++* .
(++. /
)++/ 0
)++0 1
{,, 
TabsTituloDataE--  /
objTabs--0 7
=--8 9
new--: =
TabsTituloDataE--> M
(--M N
)--N O
;--O P
objTabs..  '
...' (
IdTabs..( .
=../ 0
reader..1 7
[..7 8
$str..8 @
]..@ A
...A B
ToString..B J
(..J K
)..K L
;..L M
objTabs//  '
.//' (
Titulo//( .
=/// 0
reader//1 7
[//7 8
$str//8 @
]//@ A
.//A B
ToString//B J
(//J K
)//K L
;//L M
objTabs00  '
.00' (
Icono00( -
=00. /
reader000 6
[006 7
$str007 ?
]00? @
.00@ A
ToString00A I
(00I J
)00J K
;00K L
	Resultado11  )
.11) *
DataList11* 2
.112 3
Add113 6
(116 7
objTabs117 >
)11> ?
;11? @
}22 
}33 
	Resultado55 !
.55! "

IdRegistro55" ,
=55- .
$num55/ 0
;550 1
	Resultado66 !
.66! "
Mensaje66" )
=66* +
$str66, 0
;660 1
}77 
catch88 
(88 
	Exception88 $
ex88% '
)88' (
{99 
	Resultado:: !
.::! "

IdRegistro::" ,
=::- .
-::/ 0
$num::0 1
;::1 2
	Resultado;; !
.;;! "
Mensaje;;" )
=;;* +
ex;;, .
.;;. /
Message;;/ 6
;;;6 7
}<< 
finally== 
{== 
cnn== !
.==! "
Close==" '
(==' (
)==( )
;==) *
}==+ ,
}>> 
}?? 
return@@ 
	Resultado@@ 
;@@ 
}AA 	
publicBB 
asyncBB 
TaskBB 
<BB !
ResultadoTransactionEBB /
<BB/ 0
TramasEBB0 7
>BB7 8
>BB8 9 
ListadoDetalleTramasBB: N
(BBN O
stringBBO U
NroComprobanteBBV d
)BBd e
{CC 	!
ResultadoTransactionEDD !
<DD! "
TramasEDD" )
>DD) *
	ResultadoDD+ 4
=DD5 6
newDD7 :!
ResultadoTransactionEDD; P
<DDP Q
TramasEDDQ X
>DDX Y
(DDZ [
)DD[ \
;DD\ ]
TramasEEE 
objnuevoEE 
=EE 
newEE "
TramasEEE# *
(EE* +
)EE+ ,
;EE, -
varHH 
verificarCategoriaHH "
=HH# $
awaitHH% *#
VerificarCorrecionTramaHH+ B
(HHB C
$numHHC D
,HHD E
NroComprobanteHHF T
)HHT U
;HHU V
ifJJ 
(JJ 
verificarCategoriaJJ "
.JJ" #

IdRegistroJJ# -
==JJ. 0
-JJ1 2
$numJJ2 3
)JJ3 4
{KK 
	ResultadoLL 
.LL 

IdRegistroLL $
=LL% &
-LL' (
$numLL( )
;LL) *
	ResultadoMM 
.MM 
MensajeMM !
=MM" #
verificarCategoriaMM$ 6
.MM6 7
MensajeMM7 >
;MM> ?
returnNN 
	ResultadoNN  
;NN  !
}OO 
ifQQ 
(QQ 
!QQ 
verificarCategoriaQQ #
.QQ# $
DataQQ$ (
.QQ( )

correctivoQQ) 3
)QQ3 4
{QQ5 6
	ResultadoSS 
.SS 

IdRegistroSS $
=SS% &
-SS' (
$numSS( )
;SS) *
	ResultadoTT 
.TT 
MensajeTT !
=TT" #
$strTT$ I
+TTJ K
verificarCategoriaTTL ^
.TT^ _
DataTT_ c
.TTc d
nombreTTd j
+TTk l
$str	TTm π
;
TTπ ∫
returnUU 
	ResultadoUU  
;UU  !
}WW 
varZZ 
ListadoCoaseguroZZ  
=ZZ! "
awaitZZ# (
ListadoCoasegurosZZ) :
(ZZ: ;
$numZZ; <
,ZZ< =
NroComprobanteZZ> L
)ZZL M
;ZZM N
if[[ 
([[ 
ListadoCoaseguro[[  
.[[  !

IdRegistro[[! +
==[[, .
-[[/ 0
$num[[0 1
)[[1 2
{\\ 
	Resultado^^ 
.^^ 

IdRegistro^^ $
=^^% &
-^^' (
$num^^( )
;^^) *
	Resultado__ 
.__ 
Mensaje__ !
=__" #
ListadoCoaseguro__$ 4
.__4 5
Mensaje__5 <
;__< =
return`` 
	Resultado``  
;``  !
}aa 
objnuevocc 
.cc 
Mec_Coaseguroscc #
=cc$ %
newcc& )
Listcc* .
<cc. /
MecCoaSegurosEcc/ =
>cc= >
(cc> ?
)cc? @
;cc@ A
objnuevodd 
.dd 
Mec_Coasegurosdd #
=dd$ %
ListadoCoasegurodd& 6
.dd6 7
DataListdd7 ?
;dd? @
usinggg 
(gg 
SqlConnectiongg  
cnngg! $
=gg% &
newgg' *
SqlConnectiongg+ 8
(gg8 9
VariablesGlobalesgg9 J
.ggJ K

CnnClinicaggK U
)ggU V
)ggV W
{hh 
cnnii 
.ii 
Openii 
(ii 
)ii 
;ii 
usingjj 
(jj 

SqlCommandjj !
cmdjj" %
=jj& '
newjj( +

SqlCommandjj, 6
(jj6 7"
USP_Trama_ConsultaDatajj7 M
,jjM N
cnnjjO R
)jjR S
)jjS T
{kk 
tryll 
{mm 
cmdnn 
.nn 
CommandTypenn '
=nn( )
CommandTypenn* 5
.nn5 6
StoredProcedurenn6 E
;nnE F
cmdoo 
.oo 

Parametersoo &
.oo& '
AddWithValueoo' 3
(oo3 4
$stroo4 <
,oo< =
$numoo> ?
)oo? @
;oo@ A
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 E
,ppE F
NroComprobanteppG U
)ppU V
;ppV W
usingqq 
(qq 
SqlDataReaderqq ,
readerqq- 3
=qq4 5
awaitqq6 ;
cmdqq< ?
.qq? @
ExecuteReaderAsyncqq@ R
(qqR S
)qqS T
)qqT U
{rr 
tryss 
{tt 
objnuevouu  (
.uu( )!
Mec_CabeceraDocumentouu) >
=uu? @
newuuA D
ListuuE I
<uuI J!
MecCabeceraDocumentoEuuJ _
>uu_ `
(uu` a
)uua b
;uub c
objnuevovv  (
.vv( ) 
Mec_CabeceraAtencionvv) =
=vv> ?
newvv@ C
ListvvD H
<vvH I 
MEcCabeceraAtencionEvvI ]
>vv] ^
(vv^ _
)vv_ `
;vv` a
objnuevoww  (
.ww( ) 
Mec_DetalleServiciosww) =
=ww> ?
newww@ C
ListwwD H
<wwH I 
MecDetalleServiciosEwwI ]
>ww] ^
(ww^ _
)ww_ `
;ww` a
objnuevoxx  (
.xx( )(
Mec_DetalleProductosFarmaciaxx) E
=xxF G
newxxH K
ListxxL P
<xxP Q'
MecDetalleProductosFarmaciaxxQ l
>xxl m
(xxm n
)xxn o
;xxo p
objnuevoyy  (
.yy( )
Mec_MensajeTramayy) 9
=yy: ;
newyy< ?
MecMensajeEyy@ K
(yyK L
)yyL M
;yyM N
if||  "
(||# $
reader||$ *
.||* +
Read||+ /
(||/ 0
)||0 1
)||1 2
{}}  !!
MecCabeceraDocumentoE~~$ 9
mecCabecera~~: E
=~~F G
new~~H K!
MecCabeceraDocumentoE~~L a
(~~a b
)~~b c
;~~c d
mecCabecera$ /
./ 0

fechaenvio0 :
=; <
reader= C
[C D
$strD P
]P Q
.Q R
ToStringR Z
(Z [
)[ \
.\ ]
Trim] a
(a b
)b c
;c d
mecCabecera
ÄÄ$ /
.
ÄÄ/ 0
	horaenvio
ÄÄ0 9
=
ÄÄ: ;
reader
ÄÄ< B
[
ÄÄB C
$str
ÄÄC N
]
ÄÄN O
.
ÄÄO P
ToString
ÄÄP X
(
ÄÄX Y
)
ÄÄY Z
.
ÄÄZ [
Trim
ÄÄ[ _
(
ÄÄ_ `
)
ÄÄ` a
;
ÄÄa b
mecCabecera
ÅÅ$ /
.
ÅÅ/ 0

numerolote
ÅÅ0 :
=
ÅÅ; <
reader
ÅÅ= C
[
ÅÅC D
$str
ÅÅD P
]
ÅÅP Q
.
ÅÅQ R
ToString
ÅÅR Z
(
ÅÅZ [
)
ÅÅ[ \
.
ÅÅ\ ]
Trim
ÅÅ] a
(
ÅÅa b
)
ÅÅb c
;
ÅÅc d
mecCabecera
ÇÇ$ /
.
ÇÇ/ 0
codigofinanciador
ÇÇ0 A
=
ÇÇB C
reader
ÇÇD J
[
ÇÇJ K
$str
ÇÇK ^
]
ÇÇ^ _
.
ÇÇ_ `
ToString
ÇÇ` h
(
ÇÇh i
)
ÇÇi j
.
ÇÇj k
Trim
ÇÇk o
(
ÇÇo p
)
ÇÇp q
;
ÇÇq r
mecCabecera
ÑÑ$ /
.
ÑÑ/ 0
rucfacturador
ÑÑ0 =
=
ÑÑ> ?
reader
ÑÑ@ F
[
ÑÑF G
$str
ÑÑG V
]
ÑÑV W
.
ÑÑW X
ToString
ÑÑX `
(
ÑÑ` a
)
ÑÑa b
.
ÑÑb c
Trim
ÑÑc g
(
ÑÑg h
)
ÑÑh i
;
ÑÑi j
mecCabecera
ÖÖ$ /
.
ÖÖ/ 0
sedefacturador
ÖÖ0 >
=
ÖÖ? @
reader
ÖÖA G
[
ÖÖG H
$str
ÖÖH X
]
ÖÖX Y
.
ÖÖY Z
ToString
ÖÖZ b
(
ÖÖb c
)
ÖÖc d
.
ÖÖd e
Trim
ÖÖe i
(
ÖÖi j
)
ÖÖj k
;
ÖÖk l
mecCabecera
ÜÜ$ /
.
ÜÜ/ 0
tipodocumentopago
ÜÜ0 A
=
ÜÜB C
reader
ÜÜD J
[
ÜÜJ K
$str
ÜÜK ^
]
ÜÜ^ _
.
ÜÜ_ `
ToString
ÜÜ` h
(
ÜÜh i
)
ÜÜi j
.
ÜÜj k
Trim
ÜÜk o
(
ÜÜo p
)
ÜÜp q
;
ÜÜq r
mecCabecera
áá$ /
.
áá/ 0!
numerodocumentopago
áá0 C
=
ááD E
reader
ááF L
[
ááL M
$str
ááM b
]
ááb c
.
áác d
ToString
áád l
(
áál m
)
áám n
.
áán o
Trim
ááo s
(
áás t
)
áát u
;
ááu v
mecCabecera
àà$ /
.
àà/ 0
fechaemision
àà0 <
=
àà= >
reader
àà? E
[
ààE F
$str
ààF T
]
ààT U
.
ààU V
ToString
ààV ^
(
àà^ _
)
àà_ `
.
àà` a
Trim
ààa e
(
ààe f
)
ààf g
;
ààg h
mecCabecera
ââ$ /
.
ââ/ 0
producto
ââ0 8
=
ââ9 :
reader
ââ; A
[
ââA B
$str
ââB L
]
ââL M
.
ââM N
ToString
ââN V
(
ââV W
)
ââW X
.
ââX Y
Trim
ââY ]
(
ââ] ^
)
ââ^ _
;
ââ_ `
mecCabecera
ää$ /
.
ää/ 0$
cantidadatencionesxdoc
ää0 F
=
ääG H
reader
ääI O
[
ääO P
$str
ääP h
]
ääh i
.
ääi j
ToString
ääj r
(
äär s
)
ääs t
.
äät u
Trim
ääu y
(
ääy z
)
ääz {
;
ää{ |
mecCabecera
ãã$ /
.
ãã/ 0!
codigomecanismopago
ãã0 C
=
ããD E
reader
ããF L
[
ããL M
$str
ããM b
]
ããb c
.
ããc d
ToString
ããd l
(
ããl m
)
ããm n
.
ããn o
Trim
ãão s
(
ããs t
)
ããt u
;
ããu v
mecCabecera
åå$ /
.
åå/ 0%
codsubtipomecanismopago
åå0 G
=
ååH I
reader
ååJ P
[
ååP Q
$str
ååQ j
]
ååj k
.
ååk l
ToString
åål t
(
ååt u
)
ååu v
.
ååv w
Trim
ååw {
(
åå{ |
)
åå| }
;
åå} ~
mecCabecera
çç$ /
.
çç/ 0
montoprepactado
çç0 ?
=
çç@ A
reader
ççB H
[
ççH I
$str
ççI Z
]
ççZ [
.
çç[ \
ToString
çç\ d
(
ççd e
)
ççe f
.
ççf g
Trim
ççg k
(
ççk l
)
ççl m
;
ççm n
mecCabecera
éé$ /
.
éé/ 0$
fechaperiodoprepactado
éé0 F
=
ééG H
reader
ééI O
[
ééO P
$str
ééP h
]
ééh i
.
ééi j
ToString
ééj r
(
éér s
)
éés t
.
éét u
Trim
ééu y
(
ééy z
)
ééz {
;
éé{ |
mecCabecera
èè$ /
.
èè/ 0

tipomoneda
èè0 :
=
èè; <
reader
èè= C
[
èèC D
$str
èèD P
]
èèP Q
.
èèQ R
ToString
èèR Z
(
èèZ [
)
èè[ \
.
èè\ ]
Trim
èè] a
(
èèa b
)
èèb c
;
èèc d
mecCabecera
êê$ /
.
êê/ 0'
montoservfar_exoneradoigv
êê0 I
=
êêJ K
reader
êêL R
[
êêR S
$str
êêS n
]
êên o
.
êêo p
ToString
êêp x
(
êêx y
)
êêy z
.
êêz {
Trim
êê{ 
(êê Ä
)êêÄ Å
;êêÅ Ç
mecCabecera
ëë$ /
.
ëë/ 0
montocopagofijo
ëë0 ?
=
ëë@ A
reader
ëëB H
[
ëëH I
$str
ëëI Z
]
ëëZ [
.
ëë[ \
ToString
ëë\ d
(
ëëd e
)
ëëe f
.
ëëf g
Trim
ëëg k
(
ëëk l
)
ëël m
;
ëëm n
mecCabecera
íí$ /
.
íí/ 0*
montocopagofijo_exoneradoigv
íí0 L
=
ííM N
reader
ííO U
[
ííU V
$str
ííV t
]
íít u
.
ííu v
ToString
íív ~
(
íí~ 
)íí Ä
.ííÄ Å
TrimííÅ Ö
(ííÖ Ü
)ííÜ á
;ííá à
mecCabecera
ìì$ /
.
ìì/ 0!
montocopagovariable
ìì0 C
=
ììD E
reader
ììF L
[
ììL M
$str
ììM b
]
ììb c
.
ììc d
ToString
ììd l
(
ììl m
)
ììm n
.
ììn o
Trim
ììo s
(
ììs t
)
ììt u
;
ììu v
mecCabecera
îî$ /
.
îî/ 0.
 montocopagovariable_exoneradoigv
îî0 P
=
îîQ R
reader
îîS Y
[
îîY Z
$str
îîZ |
]
îî| }
.
îî} ~
ToStringîî~ Ü
(îîÜ á
)îîá à
.îîà â
Trimîîâ ç
(îîç é
)îîé è
;îîè ê
mecCabecera
ïï$ /
.
ïï/ 0
	montoneto
ïï0 9
=
ïï: ;
reader
ïï< B
[
ïïB C
$str
ïïC N
]
ïïN O
.
ïïO P
ToString
ïïP X
(
ïïX Y
)
ïïY Z
.
ïïZ [
Trim
ïï[ _
(
ïï_ `
)
ïï` a
;
ïïa b
mecCabecera
ññ$ /
.
ññ/ 0
igvmontoneto
ññ0 <
=
ññ= >
reader
ññ? E
[
ññE F
$str
ññF T
]
ññT U
.
ññU V
ToString
ññV ^
(
ññ^ _
)
ññ_ `
.
ññ` a
Trim
ñña e
(
ññe f
)
ññf g
;
ññg h
mecCabecera
óó$ /
.
óó/ 0
montonetofacturar
óó0 A
=
óóB C
reader
óóD J
[
óóJ K
$str
óóK ^
]
óó^ _
.
óó_ `
ToString
óó` h
(
óóh i
)
óói j
.
óój k
Trim
óók o
(
óóo p
)
óóp q
;
óóq r
objnuevo
òò$ ,
.
òò, -#
Mec_CabeceraDocumento
òò- B
.
òòB C
Add
òòC F
(
òòF G
mecCabecera
òòG R
)
òòR S
;
òòS T
}
ôô  !
if
úú  "
(
úú# $
await
úú$ )
reader
úú* 0
.
úú0 1
NextResultAsync
úú1 @
(
úú@ A
)
úúA B
)
úúB C
{
ùù  !
while
ûû$ )
(
ûû* +
reader
ûû+ 1
.
ûû1 2
Read
ûû2 6
(
ûû6 7
)
ûû7 8
)
ûû8 9
{
üü$ %"
MEcCabeceraAtencionE
††( <
cabeceraAtencionE
††= N
=
††O P
new
††Q T"
MEcCabeceraAtencionE
††U i
(
††i j
)
††j k
;
††k l
cabeceraAtencionE
°°( 9
.
°°9 :
rucfacturador
°°: G
=
°°H I
reader
°°J P
[
°°P Q
$str
°°Q `
]
°°` a
.
°°a b
ToString
°°b j
(
°°j k
)
°°k l
.
°°l m
Trim
°°m q
(
°°q r
)
°°r s
;
°°s t
cabeceraAtencionE
¢¢( 9
.
¢¢9 :
sedefacturador
¢¢: H
=
¢¢I J
reader
¢¢K Q
[
¢¢Q R
$str
¢¢R b
]
¢¢b c
.
¢¢c d
ToString
¢¢d l
(
¢¢l m
)
¢¢m n
.
¢¢n o
Trim
¢¢o s
(
¢¢s t
)
¢¢t u
;
¢¢u v
cabeceraAtencionE
££( 9
.
££9 :
tipodocumentopago
££: K
=
££L M
reader
££N T
[
££T U
$str
££U h
]
££h i
.
££i j
ToString
££j r
(
££r s
)
££s t
.
££t u
Trim
££u y
(
££y z
)
££z {
;
££{ |
cabeceraAtencionE
§§( 9
.
§§9 :!
numerodocumentopago
§§: M
=
§§N O
reader
§§P V
[
§§V W
$str
§§W l
]
§§l m
.
§§m n
ToString
§§n v
(
§§v w
)
§§w x
.
§§x y
Trim
§§y }
(
§§} ~
)
§§~ 
;§§ Ä
cabeceraAtencionE
••( 9
.
••9 :!
correlativoatencion
••: M
=
••N O
reader
••P V
[
••V W
$str
••W l
]
••l m
.
••m n
ToString
••n v
(
••v w
)
••w x
.
••x y
Trim
••y }
(
••} ~
)
••~ 
;•• Ä
cabeceraAtencionE
¶¶( 9
.
¶¶9 :
codigoatencion
¶¶: H
=
¶¶I J
reader
¶¶K Q
[
¶¶Q R
$str
¶¶R b
]
¶¶b c
.
¶¶c d
ToString
¶¶d l
(
¶¶l m
)
¶¶m n
.
¶¶n o
Trim
¶¶o s
(
¶¶s t
)
¶¶t u
;
¶¶u v
cabeceraAtencionE
ßß( 9
.
ßß9 : 
tiposeguropaciente
ßß: L
=
ßßM N
reader
ßßO U
[
ßßU V
$str
ßßV j
]
ßßj k
.
ßßk l
ToString
ßßl t
(
ßßt u
)
ßßu v
.
ßßv w
Trim
ßßw {
(
ßß{ |
)
ßß| }
;
ßß} ~
cabeceraAtencionE
®®( 9
.
®®9 :%
codigopacienteasegurado
®®: Q
=
®®R S
reader
®®T Z
[
®®Z [
$str
®®[ t
]
®®t u
.
®®u v
ToString
®®v ~
(
®®~ 
)®® Ä
.®®Ä Å
Trim®®Å Ö
(®®Ö Ü
)®®Ü á
;®®á à
cabeceraAtencionE
©©( 9
.
©©9 :
tipdocidentidad
©©: I
=
©©J K
reader
©©L R
[
©©R S
$str
©©S d
]
©©d e
.
©©e f
ToString
©©f n
(
©©n o
)
©©o p
.
©©p q
Trim
©©q u
(
©©u v
)
©©v w
;
©©w x
cabeceraAtencionE
™™( 9
.
™™9 :
docidentidad
™™: F
=
™™G H
reader
™™I O
[
™™O P
$str
™™P ^
]
™™^ _
.
™™_ `
ToString
™™` h
(
™™h i
)
™™i j
.
™™j k
Trim
™™k o
(
™™o p
)
™™p q
;
™™q r
cabeceraAtencionE
´´( 9
.
´´9 :#
numerohistoriaclinica
´´: O
=
´´P Q
reader
´´R X
[
´´X Y
$str
´´Y p
]
´´p q
.
´´q r
ToString
´´r z
(
´´z {
)
´´{ |
.
´´| }
Trim´´} Å
(´´Å Ç
)´´Ç É
;´´É Ñ
cabeceraAtencionE
¨¨( 9
.
¨¨9 :#
tipodocumentoatencion
¨¨: O
=
¨¨P Q
reader
¨¨R X
[
¨¨X Y
$str
¨¨Y p
]
¨¨p q
.
¨¨q r
ToString
¨¨r z
(
¨¨z {
)
¨¨{ |
.
¨¨| }
Trim¨¨} Å
(¨¨Å Ç
)¨¨Ç É
;¨¨É Ñ
cabeceraAtencionE
≠≠( 9
.
≠≠9 :%
numerodocumentoatencion
≠≠: Q
=
≠≠R S
reader
≠≠T Z
[
≠≠Z [
$str
≠≠[ t
]
≠≠t u
.
≠≠u v
ToString
≠≠v ~
(
≠≠~ 
)≠≠ Ä
.≠≠Ä Å
Trim≠≠Å Ö
(≠≠Ö Ü
)≠≠Ü á
;≠≠á à
cabeceraAtencionE
ÆÆ( 9
.
ÆÆ9 :&
segtipodocumentoatencion
ÆÆ: R
=
ÆÆS T
reader
ÆÆU [
[
ÆÆ[ \
$str
ÆÆ\ v
]
ÆÆv w
.
ÆÆw x
ToStringÆÆx Ä
(ÆÆÄ Å
)ÆÆÅ Ç
.ÆÆÇ É
TrimÆÆÉ á
(ÆÆá à
)ÆÆà â
;ÆÆâ ä
cabeceraAtencionE
ØØ( 9
.
ØØ9 :(
segnumerodocumentoatencion
ØØ: T
=
ØØU V
reader
ØØW ]
[
ØØ] ^
$str
ØØ^ z
]
ØØz {
.
ØØ{ |
ToStringØØ| Ñ
(ØØÑ Ö
)ØØÖ Ü
.ØØÜ á
TrimØØá ã
(ØØã å
)ØØå ç
;ØØç é
cabeceraAtencionE
∞∞( 9
.
∞∞9 :
tipocobertura
∞∞: G
=
∞∞H I
reader
∞∞J P
[
∞∞P Q
$str
∞∞Q `
]
∞∞` a
.
∞∞a b
ToString
∞∞b j
(
∞∞j k
)
∞∞k l
.
∞∞l m
Trim
∞∞m q
(
∞∞q r
)
∞∞r s
;
∞∞s t
cabeceraAtencionE
±±( 9
.
±±9 :
subtipocobertura
±±: J
=
±±K L
reader
±±M S
[
±±S T
$str
±±T f
]
±±f g
.
±±g h
ToString
±±h p
(
±±p q
)
±±q r
.
±±r s
Trim
±±s w
(
±±w x
)
±±x y
;
±±y z
cabeceraAtencionE
≤≤( 9
.
≤≤9 :
coddiagnostico1
≤≤: I
=
≤≤J K
reader
≤≤L R
[
≤≤R S
$str
≤≤S d
]
≤≤d e
.
≤≤e f
ToString
≤≤f n
(
≤≤n o
)
≤≤o p
.
≤≤p q
Trim
≤≤q u
(
≤≤u v
)
≤≤v w
;
≤≤w x
cabeceraAtencionE
≥≥( 9
.
≥≥9 :
coddiagnostico2
≥≥: I
=
≥≥J K
reader
≥≥L R
[
≥≥R S
$str
≥≥S d
]
≥≥d e
.
≥≥e f
ToString
≥≥f n
(
≥≥n o
)
≥≥o p
.
≥≥p q
Trim
≥≥q u
(
≥≥u v
)
≥≥v w
;
≥≥w x
cabeceraAtencionE
¥¥( 9
.
¥¥9 :
coddiagnostico3
¥¥: I
=
¥¥J K
reader
¥¥L R
[
¥¥R S
$str
¥¥S d
]
¥¥d e
.
¥¥e f
ToString
¥¥f n
(
¥¥n o
)
¥¥o p
.
¥¥p q
Trim
¥¥q u
(
¥¥u v
)
¥¥v w
;
¥¥w x
cabeceraAtencionE
µµ( 9
.
µµ9 :!
fechainicioatencion
µµ: M
=
µµN O
reader
µµP V
[
µµV W
$str
µµW l
]
µµl m
.
µµm n
ToString
µµn v
(
µµv w
)
µµw x
.
µµx y
Trim
µµy }
(
µµ} ~
)
µµ~ 
;µµ Ä
cabeceraAtencionE
∂∂( 9
.
∂∂9 : 
horainicioatencion
∂∂: L
=
∂∂M N
reader
∂∂O U
[
∂∂U V
$str
∂∂V j
]
∂∂j k
.
∂∂k l
ToString
∂∂l t
(
∂∂t u
)
∂∂u v
.
∂∂v w
Trim
∂∂w {
(
∂∂{ |
)
∂∂| }
;
∂∂} ~
cabeceraAtencionE
∑∑( 9
.
∑∑9 :&
codtipoprofesionalrespon
∑∑: R
=
∑∑S T
reader
∑∑U [
[
∑∑[ \
$str
∑∑\ v
]
∑∑v w
.
∑∑w x
ToString∑∑x Ä
(∑∑Ä Å
)∑∑Å Ç
.∑∑Ç É
Trim∑∑É á
(∑∑á à
)∑∑à â
;∑∑â ä
cabeceraAtencionE
∏∏( 9
.
∏∏9 :%
numeroprofesionalrespon
∏∏: Q
=
∏∏R S
reader
∏∏T Z
[
∏∏Z [
$str
∏∏[ t
]
∏∏t u
.
∏∏u v
ToString
∏∏v ~
(
∏∏~ 
)∏∏ Ä
.∏∏Ä Å
Trim∏∏Å Ö
(∏∏Ö Ü
)∏∏Ü á
;∏∏á à
cabeceraAtencionE
ππ( 9
.
ππ9 :"
tipodocidentidadprof
ππ: N
=
ππO P
reader
ππQ W
[
ππW X
$str
ππX n
]
ππn o
.
ππo p
ToString
ππp x
(
ππx y
)
ππy z
.
ππz {
Trim
ππ{ 
(ππ Ä
)ππÄ Å
;ππÅ Ç
cabeceraAtencionE
∫∫( 9
.
∫∫9 :
docidentidadprof
∫∫: J
=
∫∫K L
reader
∫∫M S
[
∫∫S T
$str
∫∫T f
]
∫∫f g
.
∫∫g h
ToString
∫∫h p
(
∫∫p q
)
∫∫q r
.
∫∫r s
Trim
∫∫s w
(
∫∫w x
)
∫∫x y
;
∫∫y z
cabeceraAtencionE
ªª( 9
.
ªª9 :"
rucentidadreferencia
ªª: N
=
ªªO P
reader
ªªQ W
[
ªªW X
$str
ªªX n
]
ªªn o
.
ªªo p
ToString
ªªp x
(
ªªx y
)
ªªy z
.
ªªz {
Trim
ªª{ 
(ªª Ä
)ªªÄ Å
;ªªÅ Ç
cabeceraAtencionE
ºº( 9
.
ºº9 :
fechareferencia
ºº: I
=
ººJ K
reader
ººL R
[
ººR S
$str
ººS d
]
ººd e
.
ººe f
ToString
ººf n
(
ººn o
)
ººo p
.
ººp q
Trim
ººq u
(
ººu v
)
ººv w
;
ººw x
cabeceraAtencionE
ΩΩ( 9
.
ΩΩ9 :
horareferencia
ΩΩ: H
=
ΩΩI J
reader
ΩΩK Q
[
ΩΩQ R
$str
ΩΩR b
]
ΩΩb c
.
ΩΩc d
ToString
ΩΩd l
(
ΩΩl m
)
ΩΩm n
.
ΩΩn o
Trim
ΩΩo s
(
ΩΩs t
)
ΩΩt u
;
ΩΩu v
cabeceraAtencionE
ææ( 9
.
ææ9 :!
tipohospitalizacion
ææ: M
=
ææN O
reader
ææP V
[
ææV W
$str
ææW l
]
ææl m
.
ææm n
ToString
ææn v
(
ææv w
)
ææw x
.
ææx y
Trim
ææy }
(
ææ} ~
)
ææ~ 
;ææ Ä
cabeceraAtencionE
øø( 9
.
øø9 :&
fechaingresohospitalario
øø: R
=
øøS T
reader
øøU [
[
øø[ \
$str
øø\ v
]
øøv w
.
øøw x
ToStringøøx Ä
(øøÄ Å
)øøÅ Ç
.øøÇ É
TrimøøÉ á
(øøá à
)øøà â
;øøâ ä
cabeceraAtencionE
¿¿( 9
.
¿¿9 :%
fechaegresohospitalario
¿¿: Q
=
¿¿R S
reader
¿¿T Z
[
¿¿Z [
$str
¿¿[ t
]
¿¿t u
.
¿¿u v
ToString
¿¿v ~
(
¿¿~ 
)¿¿ Ä
.¿¿Ä Å
Trim¿¿Å Ö
(¿¿Ö Ü
)¿¿Ü á
;¿¿á à
cabeceraAtencionE
¡¡( 9
.
¡¡9 :$
tipoegresohospitalario
¡¡: P
=
¡¡Q R
reader
¡¡S Y
[
¡¡Y Z
$str
¡¡Z r
]
¡¡r s
.
¡¡s t
ToString
¡¡t |
(
¡¡| }
)
¡¡} ~
.
¡¡~ 
Trim¡¡ É
(¡¡É Ñ
)¡¡Ñ Ö
;¡¡Ö Ü
cabeceraAtencionE
¬¬( 9
.
¬¬9 :#
diasestaciafacturable
¬¬: O
=
¬¬P Q
reader
¬¬R X
[
¬¬X Y
$str
¬¬Y p
]
¬¬p q
.
¬¬q r
ToString
¬¬r z
(
¬¬z {
)
¬¬{ |
.
¬¬| }
Trim¬¬} Å
(¬¬Å Ç
)¬¬Ç É
;¬¬É Ñ
cabeceraAtencionE
√√( 9
.
√√9 :#
gastohonorario_sinigv
√√: O
=
√√P Q
reader
√√R X
[
√√X Y
$str
√√Y p
]
√√p q
.
√√q r
ToString
√√r z
(
√√z {
)
√√{ |
.
√√| }
Trim√√} Å
(√√Å Ç
)√√Ç É
;√√É Ñ
cabeceraAtencionE
ƒƒ( 9
.
ƒƒ9 :$
gastoodontologo_sinigv
ƒƒ: P
=
ƒƒQ R
reader
ƒƒS Y
[
ƒƒY Z
$str
ƒƒZ r
]
ƒƒr s
.
ƒƒs t
ToString
ƒƒt |
(
ƒƒ| }
)
ƒƒ} ~
.
ƒƒ~ 
Trimƒƒ É
(ƒƒÉ Ñ
)ƒƒÑ Ö
;ƒƒÖ Ü
cabeceraAtencionE
≈≈( 9
.
≈≈9 :#
gastohoteleria_sinigv
≈≈: O
=
≈≈P Q
reader
≈≈R X
[
≈≈X Y
$str
≈≈Y p
]
≈≈p q
.
≈≈q r
ToString
≈≈r z
(
≈≈z {
)
≈≈{ |
.
≈≈| }
Trim≈≈} Å
(≈≈Å Ç
)≈≈Ç É
;≈≈É Ñ
cabeceraAtencionE
∆∆( 9
.
∆∆9 :%
gastolaboratorio_sinigv
∆∆: Q
=
∆∆R S
reader
∆∆T Z
[
∆∆Z [
$str
∆∆[ t
]
∆∆t u
.
∆∆u v
ToString
∆∆v ~
(
∆∆~ 
)∆∆ Ä
.∆∆Ä Å
Trim∆∆Å Ö
(∆∆Ö Ü
)∆∆Ü á
;∆∆á à
cabeceraAtencionE
««( 9
.
««9 :"
gastoimagenes_sinigv
««: N
=
««O P
reader
««Q W
[
««W X
$str
««X n
]
««n o
.
««o p
ToString
««p x
(
««x y
)
««y z
.
««z {
Trim
««{ 
(«« Ä
)««Ä Å
;««Å Ç
cabeceraAtencionE
»»( 9
.
»»9 :"
gastofarmacia_sinigv
»»: N
=
»»O P
reader
»»Q W
[
»»W X
$str
»»X n
]
»»n o
.
»»o p
ToString
»»p x
(
»»x y
)
»»y z
.
»»z {
Trim
»»{ 
(»» Ä
)»»Ä Å
;»»Å Ç
cabeceraAtencionE
……( 9
.
……9 :"
gastoprotesis_sinigv
……: N
=
……O P
reader
……Q W
[
……W X
$str
……X n
]
……n o
.
……o p
ToString
……p x
(
……x y
)
……y z
.
……z {
Trim
……{ 
(…… Ä
)……Ä Å
;……Å Ç
cabeceraAtencionE
  ( 9
.
  9 :(
gastofarmacia_exoneradoigv
  : T
=
  U V
reader
  W ]
[
  ] ^
$str
  ^ z
]
  z {
.
  { |
ToString  | Ñ
(  Ñ Ö
)  Ö Ü
.  Ü á
Trim  á ã
(  ã å
)  å ç
;  ç é
cabeceraAtencionE
ÀÀ( 9
.
ÀÀ9 :
gastootros_sinigv
ÀÀ: K
=
ÀÀL M
reader
ÀÀN T
[
ÀÀT U
$str
ÀÀU h
]
ÀÀh i
.
ÀÀi j
ToString
ÀÀj r
(
ÀÀr s
)
ÀÀs t
.
ÀÀt u
Trim
ÀÀu y
(
ÀÀy z
)
ÀÀz {
;
ÀÀ{ |
cabeceraAtencionE
ÃÃ( 9
.
ÃÃ9 :
copagofijo_sinigv
ÃÃ: K
=
ÃÃL M
reader
ÃÃN T
[
ÃÃT U
$str
ÃÃU h
]
ÃÃh i
.
ÃÃi j
ToString
ÃÃj r
(
ÃÃr s
)
ÃÃs t
.
ÃÃt u
Trim
ÃÃu y
(
ÃÃy z
)
ÃÃz {
;
ÃÃ{ |
cabeceraAtencionE
ÕÕ( 9
.
ÕÕ9 :%
copagofijo_exoneradoigv
ÕÕ: Q
=
ÕÕR S
reader
ÕÕT Z
[
ÕÕZ [
$str
ÕÕ[ t
]
ÕÕt u
.
ÕÕu v
ToString
ÕÕv ~
(
ÕÕ~ 
)ÕÕ Ä
.ÕÕÄ Å
TrimÕÕÅ Ö
(ÕÕÖ Ü
)ÕÕÜ á
;ÕÕá à
cabeceraAtencionE
ŒŒ( 9
.
ŒŒ9 :#
copagovariable_sinigv
ŒŒ: O
=
ŒŒP Q
reader
ŒŒR X
[
ŒŒX Y
$str
ŒŒY p
]
ŒŒp q
.
ŒŒq r
ToString
ŒŒr z
(
ŒŒz {
)
ŒŒ{ |
.
ŒŒ| }
TrimŒŒ} Å
(ŒŒÅ Ç
)ŒŒÇ É
;ŒŒÉ Ñ
cabeceraAtencionE
œœ( 9
.
œœ9 :)
copagovariable_exoneradoigv
œœ: U
=
œœV W
reader
œœX ^
[
œœ^ _
$str
œœ_ |
]
œœ| }
.
œœ} ~
ToStringœœ~ Ü
(œœÜ á
)œœá à
.œœà â
Trimœœâ ç
(œœç é
)œœé è
;œœè ê
cabeceraAtencionE
––( 9
.
––9 :
montoatencion
––: G
=
––H I
reader
––J P
[
––P Q
$str
––Q `
]
––` a
.
––a b
ToString
––b j
(
––j k
)
––k l
.
––l m
Trim
––m q
(
––q r
)
––r s
;
––s t
objnuevo
——( 0
.
——0 1"
Mec_CabeceraAtencion
——1 E
.
——E F
Add
——F I
(
——I J
cabeceraAtencionE
——J [
)
——[ \
;
——\ ]
}
““$ %
}
””  !
if
÷÷  "
(
÷÷# $
await
÷÷$ )
reader
÷÷* 0
.
÷÷0 1
NextResultAsync
÷÷1 @
(
÷÷@ A
)
÷÷A B
)
÷÷B C
{
◊◊  !
while
ÿÿ$ )
(
ÿÿ* +
reader
ÿÿ+ 1
.
ÿÿ1 2
Read
ÿÿ2 6
(
ÿÿ6 7
)
ÿÿ7 8
)
ÿÿ8 9
{
ŸŸ$ %"
MecDetalleServiciosE
⁄⁄( <
	servicios
⁄⁄= F
=
⁄⁄G H
new
⁄⁄I L"
MecDetalleServiciosE
⁄⁄M a
(
⁄⁄a b
)
⁄⁄b c
;
⁄⁄c d
	servicios
€€( 1
.
€€1 2
rucfacturador
€€2 ?
=
€€@ A
reader
€€B H
[
€€H I
$str
€€I X
]
€€X Y
.
€€Y Z
ToString
€€Z b
(
€€b c
)
€€c d
.
€€d e
Trim
€€e i
(
€€i j
)
€€j k
;
€€k l
	servicios
‹‹( 1
.
‹‹1 2
sedefacturador
‹‹2 @
=
‹‹A B
reader
‹‹C I
[
‹‹I J
$str
‹‹J Z
]
‹‹Z [
.
‹‹[ \
ToString
‹‹\ d
(
‹‹d e
)
‹‹e f
.
‹‹f g
Trim
‹‹g k
(
‹‹k l
)
‹‹l m
;
‹‹m n
	servicios
››( 1
.
››1 2
tipodocumentopago
››2 C
=
››D E
reader
››F L
[
››L M
$str
››M `
]
››` a
.
››a b
ToString
››b j
(
››j k
)
››k l
.
››l m
Trim
››m q
(
››q r
)
››r s
;
››s t
	servicios
ﬁﬁ( 1
.
ﬁﬁ1 2!
numerodocumentopago
ﬁﬁ2 E
=
ﬁﬁF G
reader
ﬁﬁH N
[
ﬁﬁN O
$str
ﬁﬁO d
]
ﬁﬁd e
.
ﬁﬁe f
ToString
ﬁﬁf n
(
ﬁﬁn o
)
ﬁﬁo p
.
ﬁﬁp q
Trim
ﬁﬁq u
(
ﬁﬁu v
)
ﬁﬁv w
;
ﬁﬁw x
	servicios
ﬂﬂ( 1
.
ﬂﬂ1 2!
correlativoatencion
ﬂﬂ2 E
=
ﬂﬂF G
reader
ﬂﬂH N
[
ﬂﬂN O
$str
ﬂﬂO d
]
ﬂﬂd e
.
ﬂﬂe f
ToString
ﬂﬂf n
(
ﬂﬂn o
)
ﬂﬂo p
.
ﬂﬂp q
Trim
ﬂﬂq u
(
ﬂﬂu v
)
ﬂﬂv w
;
ﬂﬂw x
	servicios
‡‡( 1
.
‡‡1 2
correlativo
‡‡2 =
=
‡‡> ?
reader
‡‡@ F
[
‡‡F G
$str
‡‡G T
]
‡‡T U
.
‡‡U V
ToString
‡‡V ^
(
‡‡^ _
)
‡‡_ `
.
‡‡` a
Trim
‡‡a e
(
‡‡e f
)
‡‡f g
;
‡‡g h
	servicios
··( 1
.
··1 2$
tipoclasificaciongasto
··2 H
=
··I J
reader
··K Q
[
··Q R
$str
··R j
]
··j k
.
··k l
ToString
··l t
(
··t u
)
··u v
.
··v w
Trim
··w {
(
··{ |
)
··| }
;
··} ~
	servicios
‚‚( 1
.
‚‚1 2%
codigoclasificaciongast
‚‚2 I
=
‚‚J K
reader
‚‚L R
[
‚‚R S
$str
‚‚S l
]
‚‚l m
.
‚‚m n
ToString
‚‚n v
(
‚‚v w
)
‚‚w x
.
‚‚x y
Trim
‚‚y }
(
‚‚} ~
)
‚‚~ 
;‚‚ Ä
	servicios
„„( 1
.
„„1 2
nombreprestacion
„„2 B
=
„„C D
reader
„„E K
[
„„K L
$str
„„L ^
]
„„^ _
.
„„_ `
ToString
„„` h
(
„„h i
)
„„i j
.
„„j k
Trim
„„k o
(
„„o p
)
„„p q
;
„„q r
	servicios
‰‰( 1
.
‰‰1 2$
fechaefectuadoservicio
‰‰2 H
=
‰‰I J
reader
‰‰K Q
[
‰‰Q R
$str
‰‰R j
]
‰‰j k
.
‰‰k l
ToString
‰‰l t
(
‰‰t u
)
‰‰u v
.
‰‰v w
Trim
‰‰w {
(
‰‰{ |
)
‰‰| }
;
‰‰} ~
	servicios
ÂÂ( 1
.
ÂÂ1 2&
codtipoprofesionalrespon
ÂÂ2 J
=
ÂÂK L
reader
ÂÂM S
[
ÂÂS T
$str
ÂÂT n
]
ÂÂn o
.
ÂÂo p
ToString
ÂÂp x
(
ÂÂx y
)
ÂÂy z
.
ÂÂz {
Trim
ÂÂ{ 
(ÂÂ Ä
)ÂÂÄ Å
;ÂÂÅ Ç
	servicios
ÊÊ( 1
.
ÊÊ1 2%
numeroprofesionalrespon
ÊÊ2 I
=
ÊÊJ K
reader
ÊÊL R
[
ÊÊR S
$str
ÊÊS l
]
ÊÊl m
.
ÊÊm n
ToString
ÊÊn v
(
ÊÊv w
)
ÊÊw x
.
ÊÊx y
Trim
ÊÊy }
(
ÊÊ} ~
)
ÊÊ~ 
;ÊÊ Ä
	servicios
ÁÁ( 1
.
ÁÁ1 2"
tipodocidentidadprof
ÁÁ2 F
=
ÁÁG H
reader
ÁÁI O
[
ÁÁO P
$str
ÁÁP f
]
ÁÁf g
.
ÁÁg h
ToString
ÁÁh p
(
ÁÁp q
)
ÁÁq r
.
ÁÁr s
Trim
ÁÁs w
(
ÁÁw x
)
ÁÁx y
;
ÁÁy z
	servicios
ËË( 1
.
ËË1 2
docidentidadprof
ËË2 B
=
ËËC D
reader
ËËE K
[
ËËK L
$str
ËËL ^
]
ËË^ _
.
ËË_ `
ToString
ËË` h
(
ËËh i
)
ËËi j
.
ËËj k
Trim
ËËk o
(
ËËo p
)
ËËp q
;
ËËq r
	servicios
ÈÈ( 1
.
ÈÈ1 2"
cantidadrepservicios
ÈÈ2 F
=
ÈÈG H
reader
ÈÈI O
[
ÈÈO P
$str
ÈÈP f
]
ÈÈf g
.
ÈÈg h
ToString
ÈÈh p
(
ÈÈp q
)
ÈÈq r
.
ÈÈr s
Trim
ÈÈs w
(
ÈÈw x
)
ÈÈx y
;
ÈÈy z
	servicios
ÍÍ( 1
.
ÍÍ1 2
preciounitario
ÍÍ2 @
=
ÍÍA B
reader
ÍÍC I
[
ÍÍI J
$str
ÍÍJ Z
]
ÍÍZ [
.
ÍÍ[ \
ToString
ÍÍ\ d
(
ÍÍd e
)
ÍÍe f
.
ÍÍf g
Trim
ÍÍg k
(
ÍÍk l
)
ÍÍl m
;
ÍÍm n
	servicios
ÎÎ( 1
.
ÎÎ1 2
copagovariable
ÎÎ2 @
=
ÎÎA B
reader
ÎÎC I
[
ÎÎI J
$str
ÎÎJ Z
]
ÎÎZ [
.
ÎÎ[ \
ToString
ÎÎ\ d
(
ÎÎd e
)
ÎÎe f
.
ÎÎf g
Trim
ÎÎg k
(
ÎÎk l
)
ÎÎl m
;
ÎÎm n
	servicios
ÏÏ( 1
.
ÏÏ1 2

copagofijo
ÏÏ2 <
=
ÏÏ= >
reader
ÏÏ? E
[
ÏÏE F
$str
ÏÏF R
]
ÏÏR S
.
ÏÏS T
ToString
ÏÏT \
(
ÏÏ\ ]
)
ÏÏ] ^
.
ÏÏ^ _
Trim
ÏÏ_ c
(
ÏÏc d
)
ÏÏd e
;
ÏÏe f
	servicios
ÌÌ( 1
.
ÌÌ1 2
montoservicio
ÌÌ2 ?
=
ÌÌ@ A
reader
ÌÌB H
[
ÌÌH I
$str
ÌÌI X
]
ÌÌX Y
.
ÌÌY Z
ToString
ÌÌZ b
(
ÌÌb c
)
ÌÌc d
.
ÌÌd e
Trim
ÌÌe i
(
ÌÌi j
)
ÌÌj k
;
ÌÌk l
	servicios
ÓÓ( 1
.
ÓÓ1 2%
montonocubiertoservicio
ÓÓ2 I
=
ÓÓJ K
reader
ÓÓL R
[
ÓÓR S
$str
ÓÓS l
]
ÓÓl m
.
ÓÓm n
ToString
ÓÓn v
(
ÓÓv w
)
ÓÓw x
.
ÓÓx y
Trim
ÓÓy }
(
ÓÓ} ~
)
ÓÓ~ 
;ÓÓ Ä
	servicios
ÔÔ( 1
.
ÔÔ1 2!
diagnosticoasociado
ÔÔ2 E
=
ÔÔF G
reader
ÔÔH N
[
ÔÔN O
$str
ÔÔO d
]
ÔÔd e
.
ÔÔe f
ToString
ÔÔf n
(
ÔÔn o
)
ÔÔo p
.
ÔÔp q
Trim
ÔÔq u
(
ÔÔu v
)
ÔÔv w
;
ÔÔw x
	servicios
( 1
.
1 2$
servicioexentoimpuesto
2 H
=
I J
reader
K Q
[
Q R
$str
R j
]
j k
.
k l
ToString
l t
(
t u
)
u v
.
v w
Trim
w {
(
{ |
)
| }
;
} ~
	servicios
ÒÒ( 1
.
ÒÒ1 2
codrubro
ÒÒ2 :
=
ÒÒ; <
reader
ÒÒ= C
[
ÒÒC D
$str
ÒÒD N
]
ÒÒN O
.
ÒÒO P
ToString
ÒÒP X
(
ÒÒX Y
)
ÒÒY Z
.
ÒÒZ [
Trim
ÒÒ[ _
(
ÒÒ_ `
)
ÒÒ` a
;
ÒÒa b
	servicios
ÚÚ( 1
.
ÚÚ1 2
	grup_suna
ÚÚ2 ;
=
ÚÚ< =
reader
ÚÚ> D
[
ÚÚD E
$str
ÚÚE P
]
ÚÚP Q
.
ÚÚQ R
ToString
ÚÚR Z
(
ÚÚZ [
)
ÚÚ[ \
.
ÚÚ\ ]
Trim
ÚÚ] a
(
ÚÚa b
)
ÚÚb c
;
ÚÚc d
	servicios
ÛÛ( 1
.
ÛÛ1 2
grup_sunasa
ÛÛ2 =
=
ÛÛ> ?
reader
ÛÛ@ F
[
ÛÛF G
$str
ÛÛG T
]
ÛÛT U
.
ÛÛU V
ToString
ÛÛV ^
(
ÛÛ^ _
)
ÛÛ_ `
.
ÛÛ` a
Trim
ÛÛa e
(
ÛÛe f
)
ÛÛf g
;
ÛÛg h
objnuevo
ÙÙ( 0
.
ÙÙ0 1"
Mec_DetalleServicios
ÙÙ1 E
.
ÙÙE F
Add
ÙÙF I
(
ÙÙI J
	servicios
ÙÙJ S
)
ÙÙS T
;
ÙÙT U
}
ıı$ %
}
˜˜  !
if
˙˙  "
(
˙˙# $
await
˙˙$ )
reader
˙˙* 0
.
˙˙0 1
NextResultAsync
˙˙1 @
(
˙˙@ A
)
˙˙A B
)
˙˙B C
{
˚˚  !
while
¸¸$ )
(
¸¸* +
reader
¸¸+ 1
.
¸¸1 2
Read
¸¸2 6
(
¸¸6 7
)
¸¸7 8
)
¸¸8 9
{
˝˝$ %)
MecDetalleProductosFarmacia
˛˛( C
farmacia
˛˛D L
=
˛˛M N
new
˛˛O R)
MecDetalleProductosFarmacia
˛˛S n
(
˛˛n o
)
˛˛o p
;
˛˛p q
farmacia
ˇˇ( 0
.
ˇˇ0 1
rucfacturador
ˇˇ1 >
=
ˇˇ? @
reader
ˇˇA G
[
ˇˇG H
$str
ˇˇH W
]
ˇˇW X
.
ˇˇX Y
ToString
ˇˇY a
(
ˇˇa b
)
ˇˇb c
.
ˇˇc d
Trim
ˇˇd h
(
ˇˇh i
)
ˇˇi j
;
ˇˇj k
farmacia
ÄÄ( 0
.
ÄÄ0 1
sedefacturador
ÄÄ1 ?
=
ÄÄ@ A
reader
ÄÄB H
[
ÄÄH I
$str
ÄÄI Y
]
ÄÄY Z
.
ÄÄZ [
ToString
ÄÄ[ c
(
ÄÄc d
)
ÄÄd e
.
ÄÄe f
Trim
ÄÄf j
(
ÄÄj k
)
ÄÄk l
;
ÄÄl m
farmacia
ÅÅ( 0
.
ÅÅ0 1
tipodocumentopago
ÅÅ1 B
=
ÅÅC D
reader
ÅÅE K
[
ÅÅK L
$str
ÅÅL _
]
ÅÅ_ `
.
ÅÅ` a
ToString
ÅÅa i
(
ÅÅi j
)
ÅÅj k
.
ÅÅk l
Trim
ÅÅl p
(
ÅÅp q
)
ÅÅq r
;
ÅÅr s
farmacia
ÇÇ( 0
.
ÇÇ0 1!
numerodocumentopago
ÇÇ1 D
=
ÇÇE F
reader
ÇÇG M
[
ÇÇM N
$str
ÇÇN c
]
ÇÇc d
.
ÇÇd e
ToString
ÇÇe m
(
ÇÇm n
)
ÇÇn o
.
ÇÇo p
Trim
ÇÇp t
(
ÇÇt u
)
ÇÇu v
;
ÇÇv w
farmacia
ÉÉ( 0
.
ÉÉ0 1!
correlativoatencion
ÉÉ1 D
=
ÉÉE F
reader
ÉÉG M
[
ÉÉM N
$str
ÉÉN c
]
ÉÉc d
.
ÉÉd e
ToString
ÉÉe m
(
ÉÉm n
)
ÉÉn o
.
ÉÉo p
Trim
ÉÉp t
(
ÉÉt u
)
ÉÉu v
;
ÉÉv w
farmacia
ÑÑ( 0
.
ÑÑ0 1!
correlativoproducto
ÑÑ1 D
=
ÑÑE F
reader
ÑÑG M
[
ÑÑM N
$str
ÑÑN c
]
ÑÑc d
.
ÑÑd e
ToString
ÑÑe m
(
ÑÑm n
)
ÑÑn o
.
ÑÑo p
Trim
ÑÑp t
(
ÑÑt u
)
ÑÑu v
;
ÑÑv w
farmacia
ÖÖ( 0
.
ÖÖ0 1
tipoproducto
ÖÖ1 =
=
ÖÖ> ?
reader
ÖÖ@ F
[
ÖÖF G
$str
ÖÖG U
]
ÖÖU V
.
ÖÖV W
ToString
ÖÖW _
(
ÖÖ_ `
)
ÖÖ` a
.
ÖÖa b
Trim
ÖÖb f
(
ÖÖf g
)
ÖÖg h
;
ÖÖh i
farmacia
ÜÜ( 0
.
ÜÜ0 1
codigoproducto
ÜÜ1 ?
=
ÜÜ@ A
reader
ÜÜB H
[
ÜÜH I
$str
ÜÜI Y
]
ÜÜY Z
.
ÜÜZ [
ToString
ÜÜ[ c
(
ÜÜc d
)
ÜÜd e
.
ÜÜe f
Trim
ÜÜf j
(
ÜÜj k
)
ÜÜk l
;
ÜÜl m
farmacia
áá( 0
.
áá0 1
codprod_digemid
áá1 @
=
ááA B
reader
ááC I
[
ááI J
$str
ááJ [
]
áá[ \
.
áá\ ]
ToString
áá] e
(
ááe f
)
ááf g
.
áág h
Trim
ááh l
(
áál m
)
áám n
;
áán o
farmacia
àà( 0
.
àà0 1
fechaemision
àà1 =
=
àà> ?
reader
àà@ F
[
ààF G
$str
ààG U
]
ààU V
.
ààV W
ToString
ààW _
(
àà_ `
)
àà` a
.
ààa b
Trim
ààb f
(
ààf g
)
ààg h
;
ààh i
farmacia
ââ( 0
.
ââ0 1
cantidadventa
ââ1 >
=
ââ? @
reader
ââA G
[
ââG H
$str
ââH W
]
ââW X
.
ââX Y
ToString
ââY a
(
ââa b
)
ââb c
.
ââc d
Trim
ââd h
(
ââh i
)
ââi j
;
ââj k
farmacia
ää( 0
.
ää0 1
preciounitario
ää1 ?
=
ää@ A
reader
ääB H
[
ääH I
$str
ääI Y
]
ääY Z
.
ääZ [
ToString
ää[ c
(
ääc d
)
ääd e
.
ääe f
Trim
ääf j
(
ääj k
)
ääk l
;
ääl m
farmacia
ãã( 0
.
ãã0 1
copagoproducto
ãã1 ?
=
ãã@ A
reader
ããB H
[
ããH I
$str
ããI Y
]
ããY Z
.
ããZ [
ToString
ãã[ c
(
ããc d
)
ããd e
.
ããe f
Trim
ããf j
(
ããj k
)
ããk l
;
ããl m
farmacia
åå( 0
.
åå0 1
montoporproducto
åå1 A
=
ååB C
reader
ååD J
[
ååJ K
$str
ååK ]
]
åå] ^
.
åå^ _
ToString
åå_ g
(
ååg h
)
ååh i
.
ååi j
Trim
ååj n
(
åån o
)
ååo p
;
ååp q
farmacia
çç( 0
.
çç0 1%
montonocubiertoproducto
çç1 H
=
ççI J
reader
ççK Q
[
ççQ R
$str
ççR k
]
ççk l
.
ççl m
ToString
ççm u
(
ççu v
)
ççv w
.
ççw x
Trim
ççx |
(
çç| }
)
çç} ~
;
çç~ 
farmacia
éé( 0
.
éé0 1!
diagnosticoasociado
éé1 D
=
ééE F
reader
ééG M
[
ééM N
$str
ééN c
]
ééc d
.
ééd e
ToString
éée m
(
éém n
)
één o
.
ééo p
Trim
éép t
(
éét u
)
ééu v
;
éév w
farmacia
èè( 0
.
èè0 1$
productoexentoimpuesto
èè1 G
=
èèH I
reader
èèJ P
[
èèP Q
$str
èèQ i
]
èèi j
.
èèj k
ToString
èèk s
(
èès t
)
èèt u
.
èèu v
Trim
èèv z
(
èèz {
)
èè{ |
;
èè| }
farmacia
êê( 0
.
êê0 1
codguia
êê1 8
=
êê9 :
reader
êê; A
[
êêA B
$str
êêB K
]
êêK L
.
êêL M
ToString
êêM U
(
êêU V
)
êêV W
.
êêW X
Trim
êêX \
(
êê\ ]
)
êê] ^
;
êê^ _
objnuevo
ëë( 0
.
ëë0 1*
Mec_DetalleProductosFarmacia
ëë1 M
.
ëëM N
Add
ëëN Q
(
ëëQ R
farmacia
ëëR Z
)
ëëZ [
;
ëë[ \
}
íí$ %
}
ìì  !
if
ïï  "
(
ïï# $
await
ïï$ )
reader
ïï* 0
.
ïï0 1
NextResultAsync
ïï1 @
(
ïï@ A
)
ïïA B
)
ïïB C
{
ññ  !
if
óó$ &
(
óó' (
reader
óó( .
.
óó. /
Read
óó/ 3
(
óó3 4
)
óó4 5
)
óó5 6
{
òò$ %
objnuevo
ôô( 0
.
ôô0 1
Mec_MensajeTrama
ôô1 A
.
ôôA B
Mensaje
ôôB I
=
ôôJ K
reader
ôôL R
[
ôôR S
$str
ôôS \
]
ôô\ ]
.
ôô] ^
ToString
ôô^ f
(
ôôf g
)
ôôg h
;
ôôh i
}
öö$ %
else
õõ$ (
{
úú$ %
objnuevo
ùù( 0
.
ùù0 1
Mec_MensajeTrama
ùù1 A
.
ùùA B
Mensaje
ùùB I
=
ùùJ K
$str
ùùL N
;
ùùN O
}
ûû$ %
}
††  !
	Resultado
££  )
.
££) *

IdRegistro
££* 4
=
££5 6
$num
££7 8
;
££8 9
	Resultado
§§  )
.
§§) *
Mensaje
§§* 1
=
§§2 3
$str
§§4 8
;
§§8 9
	Resultado
••  )
.
••) *
Data
••* .
=
••/ 0
objnuevo
••1 9
;
••9 :
}
¶¶ 
catch
ßß !
(
ßß" #
	Exception
ßß# ,
ex
ßß- /
)
ßß/ 0
{
®® 
	Resultado
©©  )
.
©©) *

IdRegistro
©©* 4
=
©©5 6
-
©©7 8
$num
©©8 9
;
©©9 :
	Resultado
™™  )
.
™™) *
Mensaje
™™* 1
=
™™2 3
ex
™™4 6
.
™™6 7
Message
™™7 >
;
™™> ?
}
´´ 
finally
¨¨ #
{
≠≠ 
cnn
ÆÆ  #
.
ÆÆ# $
Close
ÆÆ$ )
(
ÆÆ) *
)
ÆÆ* +
;
ÆÆ+ ,
}
ØØ 
}
∞∞ 
}
±± 
catch
≤≤ 
(
≤≤ 
	Exception
≤≤ $
ex
≤≤% '
)
≤≤' (
{
≥≥ 
	Resultado
¥¥ !
.
¥¥! "

IdRegistro
¥¥" ,
=
¥¥- .
-
¥¥/ 0
$num
¥¥0 1
;
¥¥1 2
	Resultado
µµ !
.
µµ! "
Mensaje
µµ" )
=
µµ* +
ex
µµ, .
.
µµ. /
Message
µµ/ 6
;
µµ6 7
}
∂∂ 
finally
∑∑ 
{
∑∑ 
cnn
∑∑ !
.
∑∑! "
Close
∑∑" '
(
∑∑' (
)
∑∑( )
;
∑∑) *
}
∑∑+ ,
}
∏∏ 
}
ππ 
return
∫∫ 
	Resultado
∫∫ 
;
∫∫ 
}
ªª	 

public
ΩΩ 
async
ΩΩ 
Task
ΩΩ 
<
ΩΩ #
ResultadoTransactionE
ΩΩ /
<
ΩΩ/ 0
bool
ΩΩ0 4
>
ΩΩ4 5
>
ΩΩ5 6
ActualizarTramas
ΩΩ7 G
(
ΩΩG H
TramasE
ΩΩH O
objtrama
ΩΩP X
)
ΩΩX Y
{
ææ 	#
ResultadoTransactionE
øø !
<
øø! "
bool
øø" &
>
øø& '
	respuesta
øø( 1
=
øø2 3
new
øø4 7#
ResultadoTransactionE
øø8 M
<
øøM N
bool
øøN R
>
øøR S
(
øøS T
)
øøT U
;
øøU V
using
¿¿ 
(
¿¿ 
SqlConnection
¿¿  
cnn
¿¿! $
=
¿¿% &
new
¿¿' *
SqlConnection
¿¿+ 8
(
¿¿8 9
VariablesGlobales
¿¿9 J
.
¿¿J K

CnnClinica
¿¿K U
)
¿¿U V
)
¿¿V W
{
¡¡ 
cnn
¬¬ 
.
¬¬ 
Open
¬¬ 
(
¬¬ 
)
¬¬ 
;
¬¬ 
SqlTransaction
√√ 
sqlTransaction
√√ -
=
√√. /
cnn
√√0 3
.
√√3 4
BeginTransaction
√√4 D
(
√√D E
)
√√E F
;
√√F G
try
ƒƒ 
{
≈≈ 
var
«« 
	Servicios
«« !
=
««" #
objtrama
««$ ,
.
««, -"
Mec_DetalleServicios
««- A
;
««A B
if
»» 
(
»» 
	Servicios
»» !
.
»»! "
Count
»»" '
(
»»' (
)
»»( )
>
»»* +
$num
»», -
)
»»- .
{
…… 
foreach
   
(
    !
var
  ! $
item
  % )
in
  * ,
	Servicios
  - 6
)
  6 7
{
ÀÀ 
var
ÃÃ 
RespuestaServicio
ÃÃ  1
=
ÃÃ2 3
await
ÃÃ4 9+
Actualizar_MecDetalleServicio
ÃÃ: W
(
ÃÃW X
item
ÃÃX \
,
ÃÃ\ ]
objtrama
ÃÃ^ f
.
ÃÃf g
Iduser
ÃÃg m
,
ÃÃm n
cnn
ÃÃo r
,
ÃÃr s
sqlTransactionÃÃt Ç
)ÃÃÇ É
;ÃÃÉ Ñ
if
ŒŒ 
(
ŒŒ  
RespuestaServicio
ŒŒ  1
.
ŒŒ1 2

IdRegistro
ŒŒ2 <
==
ŒŒ= ?
-
ŒŒ@ A
$num
ŒŒA B
)
ŒŒB C
{
œœ 
sqlTransaction
––  .
.
––. /
Rollback
––/ 7
(
––7 8
)
––8 9
;
––9 :
	respuesta
——  )
.
——) *

IdRegistro
——* 4
=
——5 6
-
——7 8
$num
——8 9
;
——9 :
	respuesta
““  )
.
““) *
Mensaje
““* 1
=
““2 3
RespuestaServicio
““4 E
.
““E F
Mensaje
““F M
;
““M N
	respuesta
””  )
.
””) *
Data
””* .
=
””/ 0
false
””1 6
;
””6 7
return
‘‘  &
	respuesta
‘‘' 0
;
‘‘0 1
}
’’ 
}
÷÷ 
var
ŸŸ 
nrocomprobante
ŸŸ *
=
ŸŸ+ ,
	Servicios
ŸŸ- 6
.
ŸŸ6 7
Select
ŸŸ7 =
(
ŸŸ= >
s
ŸŸ> ?
=>
ŸŸ@ B
s
ŸŸC D
.
ŸŸD E!
numerodocumentopago
ŸŸE X
)
ŸŸX Y
.
ŸŸY Z
FirstOrDefault
ŸŸZ h
(
ŸŸh i
)
ŸŸi j
;
ŸŸj k
var
⁄⁄ 
RespuestaAtencion
⁄⁄ -
=
⁄⁄. /
await
⁄⁄0 5,
Actualizar_MecCabeceraAtencion
⁄⁄6 T
(
⁄⁄T U
nrocomprobante
⁄⁄U c
,
⁄⁄c d
objtrama
⁄⁄e m
.
⁄⁄m n
Iduser
⁄⁄n t
,
⁄⁄t u
cnn
⁄⁄v y
,
⁄⁄y z
sqlTransaction⁄⁄{ â
)⁄⁄â ä
;⁄⁄ä ã
if
€€ 
(
€€ 
RespuestaAtencion
€€ -
.
€€- .

IdRegistro
€€. 8
==
€€9 ;
-
€€< =
$num
€€= >
)
€€> ?
{
‹‹ 
sqlTransaction
›› *
.
››* +
Rollback
››+ 3
(
››3 4
)
››4 5
;
››5 6
	respuesta
ﬁﬁ %
.
ﬁﬁ% &

IdRegistro
ﬁﬁ& 0
=
ﬁﬁ1 2
-
ﬁﬁ3 4
$num
ﬁﬁ4 5
;
ﬁﬁ5 6
	respuesta
ﬂﬂ %
.
ﬂﬂ% &
Mensaje
ﬂﬂ& -
=
ﬂﬂ. /
RespuestaAtencion
ﬂﬂ0 A
.
ﬂﬂA B
Mensaje
ﬂﬂB I
;
ﬂﬂI J
	respuesta
‡‡ %
.
‡‡% &
Data
‡‡& *
=
‡‡+ ,
false
‡‡- 2
;
‡‡2 3
return
·· "
	respuesta
··# ,
;
··, -
}
‚‚ 
}
‰‰ 
var
ÊÊ 
Farmacia
ÊÊ  
=
ÊÊ! "
objtrama
ÊÊ# +
.
ÊÊ+ ,*
Mec_DetalleProductosFarmacia
ÊÊ, H
;
ÊÊH I
if
ÁÁ 
(
ÁÁ 
Farmacia
ÁÁ  
.
ÁÁ  !
Count
ÁÁ! &
(
ÁÁ& '
)
ÁÁ' (
>
ÁÁ) *
$num
ÁÁ+ ,
)
ÁÁ, -
{
ËË 
foreach
ÈÈ 
(
ÈÈ  !
var
ÈÈ! $
item
ÈÈ% )
in
ÈÈ* ,
Farmacia
ÈÈ- 5
)
ÈÈ5 6
{
ÍÍ 
var
ÎÎ 
RespuestaFarma
ÎÎ  .
=
ÎÎ/ 0
await
ÎÎ1 63
%Actualizar_MecDetalleProductoFarmacia
ÎÎ7 \
(
ÎÎ\ ]
item
ÎÎ] a
,
ÎÎa b
objtrama
ÎÎc k
.
ÎÎk l
Iduser
ÎÎl r
,
ÎÎr s
cnn
ÎÎt w
,
ÎÎw x
sqlTransactionÎÎy á
)ÎÎá à
;ÎÎà â
if
ÏÏ 
(
ÏÏ  
RespuestaFarma
ÏÏ  .
.
ÏÏ. /

IdRegistro
ÏÏ/ 9
==
ÏÏ: <
-
ÏÏ= >
$num
ÏÏ> ?
)
ÏÏ? @
{
ÌÌ 
sqlTransaction
ÓÓ  .
.
ÓÓ. /
Rollback
ÓÓ/ 7
(
ÓÓ7 8
)
ÓÓ8 9
;
ÓÓ9 :
	respuesta
ÔÔ  )
.
ÔÔ) *

IdRegistro
ÔÔ* 4
=
ÔÔ5 6
-
ÔÔ7 8
$num
ÔÔ8 9
;
ÔÔ9 :
	respuesta
  )
.
) *
Mensaje
* 1
=
2 3
RespuestaFarma
4 B
.
B C
Mensaje
C J
;
J K
	respuesta
ÒÒ  )
.
ÒÒ) *
Data
ÒÒ* .
=
ÒÒ/ 0
false
ÒÒ1 6
;
ÒÒ6 7
return
ÚÚ  &
	respuesta
ÚÚ' 0
;
ÚÚ0 1
}
ÛÛ 
}
ÙÙ 
}
ıı 
var
˜˜ 
atencion
˜˜  
=
˜˜! "
objtrama
˜˜# +
.
˜˜+ ,"
Mec_CabeceraAtencion
˜˜, @
.
˜˜@ A
Where
˜˜A F
(
˜˜F G
x
˜˜G H
=>
˜˜I K
x
˜˜L M
.
˜˜M N
update
˜˜N T
==
˜˜U W
true
˜˜X \
)
˜˜\ ]
.
˜˜] ^
ToList
˜˜^ d
(
˜˜d e
)
˜˜e f
;
˜˜f g
if
¯¯ 
(
¯¯ 
atencion
¯¯  
.
¯¯  !
Count
¯¯! &
(
¯¯& '
)
¯¯' (
>
¯¯) *
$num
¯¯+ ,
)
¯¯, -
{
˘˘ 
foreach
˙˙ 
(
˙˙  !
var
˙˙! $
item
˙˙% )
in
˙˙* ,
atencion
˙˙- 5
)
˙˙5 6
{
˚˚ 
var
¸¸ 
RespuestaFarma
¸¸  .
=
¸¸/ 0
await
¸¸1 6,
Actualizar_MecAtencionCabecera
¸¸7 U
(
¸¸U V
item
¸¸V Z
,
¸¸Z [
objtrama
¸¸\ d
.
¸¸d e
Iduser
¸¸e k
,
¸¸k l
cnn
¸¸m p
,
¸¸p q
sqlTransaction¸¸r Ä
)¸¸Ä Å
;¸¸Å Ç
if
˝˝ 
(
˝˝  
RespuestaFarma
˝˝  .
.
˝˝. /

IdRegistro
˝˝/ 9
==
˝˝: <
-
˝˝= >
$num
˝˝> ?
)
˝˝? @
{
˛˛ 
sqlTransaction
ˇˇ  .
.
ˇˇ. /
Rollback
ˇˇ/ 7
(
ˇˇ7 8
)
ˇˇ8 9
;
ˇˇ9 :
	respuesta
ÄÄ  )
.
ÄÄ) *

IdRegistro
ÄÄ* 4
=
ÄÄ5 6
-
ÄÄ7 8
$num
ÄÄ8 9
;
ÄÄ9 :
	respuesta
ÅÅ  )
.
ÅÅ) *
Mensaje
ÅÅ* 1
=
ÅÅ2 3
RespuestaFarma
ÅÅ4 B
.
ÅÅB C
Mensaje
ÅÅC J
;
ÅÅJ K
	respuesta
ÇÇ  )
.
ÇÇ) *
Data
ÇÇ* .
=
ÇÇ/ 0
false
ÇÇ1 6
;
ÇÇ6 7
return
ÉÉ  &
	respuesta
ÉÉ' 0
;
ÉÉ0 1
}
ÑÑ 
}
ÖÖ 
}
ÜÜ 
sqlTransaction
àà "
.
àà" #
Commit
àà# )
(
àà) *
)
àà* +
;
àà+ ,
sqlTransaction
ââ "
.
ââ" #
Dispose
ââ# *
(
ââ* +
)
ââ+ ,
;
ââ, -
	respuesta
ãã 
.
ãã 

IdRegistro
ãã (
=
ãã) *
$num
ãã+ ,
;
ãã, -
	respuesta
åå 
.
åå 
Mensaje
åå %
=
åå& '
$str
åå( @
;
åå@ A
	respuesta
çç 
.
çç 
Data
çç "
=
çç# $
true
çç% )
;
çç) *
}
éé 
catch
èè 
(
èè 
	Exception
èè  
ex
èè! #
)
èè# $
{
êê 
sqlTransaction
ëë "
.
ëë" #
Rollback
ëë# +
(
ëë+ ,
)
ëë, -
;
ëë- .
	respuesta
íí 
.
íí 

IdRegistro
íí (
=
íí) *
-
íí+ ,
$num
íí, -
;
íí- .
	respuesta
ìì 
.
ìì 
Mensaje
ìì %
=
ìì& '
ex
ìì( *
.
ìì* +
Message
ìì+ 2
;
ìì2 3
	respuesta
îî 
.
îî 
Data
îî "
=
îî# $
false
îî% *
;
îî* +
}
ïï 
}
ññ 
return
óó 
	respuesta
óó 
;
óó 
}
òò 	
private
öö 
async
öö 
Task
öö 
<
öö #
ResultadoTransactionE
öö 0
<
öö0 1
bool
öö1 5
>
öö5 6
>
öö6 7,
Actualizar_MecAtencionCabecera
öö8 V
(
ööV W"
MEcCabeceraAtencionE
ööW k
item
ööl p
,
ööp q
int
öör u
iduser
ööv |
,
öö| }
SqlConnectionöö~ ã
cnnööå è
,ööè ê
SqlTransactionööë ü
sqlTransactionöö† Æ
)ööÆ Ø
{
õõ 	#
ResultadoTransactionE
úú !
<
úú! "
bool
úú" &
>
úú& '#
resultadoTransactionE
úú( =
=
úú> ?
new
úú@ C#
ResultadoTransactionE
úúD Y
<
úúY Z
bool
úúZ ^
>
úú^ _
(
úú_ `
)
úú` a
;
úúa b
using
ùù 
(
ùù 

SqlCommand
ùù 
cmd
ùù !
=
ùù" #
new
ùù$ '

SqlCommand
ùù( 2
(
ùù2 3(
USP_Trama_MecAtencion_Item
ùù3 M
,
ùùM N
cnn
ùùO R
,
ùùR S
sqlTransaction
ùùT b
)
ùùb c
)
ùùc d
{
ûû 
try
üü 
{
†† 
cmd
°° 
.
°° 
CommandType
°° #
=
°°$ %
CommandType
°°& 1
.
°°1 2
StoredProcedure
°°2 A
;
°°A B
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ "
.
¢¢" #
AddWithValue
¢¢# /
(
¢¢/ 0
$str
¢¢0 9
,
¢¢9 :
iduser
¢¢; A
)
¢¢A B
;
¢¢B C
cmd
££ 
.
££ 

Parameters
££ "
.
££" #
AddWithValue
££# /
(
££/ 0
$str
££0 ?
,
££? @
item
££A E
.
££E F!
numerodocumentopago
££F Y
)
££Y Z
;
££Z [
cmd
§§ 
.
§§ 

Parameters
§§ "
.
§§" #
AddWithValue
§§# /
(
§§/ 0
$str
§§0 H
,
§§H I
Convert
§§J Q
.
§§Q R
	ToDecimal
§§R [
(
§§[ \
item
§§\ `
.
§§` a#
gastohonorario_sinigv
§§a v
)
§§v w
)
§§w x
;
§§x y
cmd
•• 
.
•• 

Parameters
•• "
.
••" #
AddWithValue
••# /
(
••/ 0
$str
••0 I
,
••I J
Convert
••K R
.
••R S
	ToDecimal
••S \
(
••\ ]
item
••] a
.
••a b$
gastoodontologo_sinigv
••b x
)
••x y
)
••y z
;
••z {
cmd
¶¶ 
.
¶¶ 

Parameters
¶¶ "
.
¶¶" #
AddWithValue
¶¶# /
(
¶¶/ 0
$str
¶¶0 H
,
¶¶H I
Convert
¶¶J Q
.
¶¶Q R
	ToDecimal
¶¶R [
(
¶¶[ \
item
¶¶\ `
.
¶¶` a#
gastohoteleria_sinigv
¶¶a v
)
¶¶v w
)
¶¶w x
;
¶¶x y
cmd
ßß 
.
ßß 

Parameters
ßß "
.
ßß" #
AddWithValue
ßß# /
(
ßß/ 0
$str
ßß0 J
,
ßßJ K
Convert
ßßL S
.
ßßS T
	ToDecimal
ßßT ]
(
ßß] ^
item
ßß^ b
.
ßßb c%
gastolaboratorio_sinigv
ßßc z
)
ßßz {
)
ßß{ |
;
ßß| }
cmd
®® 
.
®® 

Parameters
®® "
.
®®" #
AddWithValue
®®# /
(
®®/ 0
$str
®®0 G
,
®®G H
Convert
®®I P
.
®®P Q
	ToDecimal
®®Q Z
(
®®Z [
item
®®[ _
.
®®_ `"
gastoimagenes_sinigv
®®` t
)
®®t u
)
®®u v
;
®®v w
cmd
©© 
.
©© 

Parameters
©© "
.
©©" #
AddWithValue
©©# /
(
©©/ 0
$str
©©0 G
,
©©G H
Convert
©©I P
.
©©P Q
	ToDecimal
©©Q Z
(
©©Z [
item
©©[ _
.
©©_ `"
gastofarmacia_sinigv
©©` t
)
©©t u
)
©©u v
;
©©v w
cmd
™™ 
.
™™ 

Parameters
™™ "
.
™™" #
AddWithValue
™™# /
(
™™/ 0
$str
™™0 G
,
™™G H
Convert
™™I P
.
™™P Q
	ToDecimal
™™Q Z
(
™™Z [
item
™™[ _
.
™™_ `"
gastoprotesis_sinigv
™™` t
)
™™t u
)
™™u v
;
™™v w
cmd
´´ 
.
´´ 

Parameters
´´ "
.
´´" #
AddWithValue
´´# /
(
´´/ 0
$str
´´0 M
,
´´M N
Convert
´´O V
.
´´V W
	ToDecimal
´´W `
(
´´` a
item
´´a e
.
´´e f)
gastofarmacia_exoneradoigv´´f Ä
)´´Ä Å
)´´Å Ç
;´´Ç É
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ "
.
¨¨" #
AddWithValue
¨¨# /
(
¨¨/ 0
$str
¨¨0 D
,
¨¨D E
Convert
¨¨F M
.
¨¨M N
	ToDecimal
¨¨N W
(
¨¨W X
item
¨¨X \
.
¨¨\ ]
gastootros_sinigv
¨¨] n
)
¨¨n o
)
¨¨o p
;
¨¨p q
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ "
.
≠≠" #
AddWithValue
≠≠# /
(
≠≠/ 0
$str
≠≠0 D
,
≠≠D E
Convert
≠≠F M
.
≠≠M N
	ToDecimal
≠≠N W
(
≠≠W X
item
≠≠X \
.
≠≠\ ]
copagofijo_sinigv
≠≠] n
)
≠≠n o
)
≠≠o p
;
≠≠p q
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ "
.
ÆÆ" #
AddWithValue
ÆÆ# /
(
ÆÆ/ 0
$str
ÆÆ0 J
,
ÆÆJ K
Convert
ÆÆL S
.
ÆÆS T
	ToDecimal
ÆÆT ]
(
ÆÆ] ^
item
ÆÆ^ b
.
ÆÆb c%
copagofijo_exoneradoigv
ÆÆc z
)
ÆÆz {
)
ÆÆ{ |
;
ÆÆ| }
cmd
ØØ 
.
ØØ 

Parameters
ØØ "
.
ØØ" #
AddWithValue
ØØ# /
(
ØØ/ 0
$str
ØØ0 H
,
ØØH I
Convert
ØØJ Q
.
ØØQ R
	ToDecimal
ØØR [
(
ØØ[ \
item
ØØ\ `
.
ØØ` a#
copagovariable_sinigv
ØØa v
)
ØØv w
)
ØØw x
;
ØØx y
cmd
∞∞ 
.
∞∞ 

Parameters
∞∞ "
.
∞∞" #
AddWithValue
∞∞# /
(
∞∞/ 0
$str
∞∞0 N
,
∞∞N O
Convert
∞∞P W
.
∞∞W X
	ToDecimal
∞∞X a
(
∞∞a b
item
∞∞b f
.
∞∞f g*
copagovariable_exoneradoigv∞∞g Ç
)∞∞Ç É
)∞∞É Ñ
;∞∞Ñ Ö
cmd
±± 
.
±± 

Parameters
±± "
.
±±" #
AddWithValue
±±# /
(
±±/ 0
$str
±±0 8
,
±±8 9
item
±±: >
.
±±> ?!
Monto_suma_servicio
±±? R
(
±±R S
)
±±S T
)
±±T U
;
±±U V
await
≤≤ 
cmd
≤≤ 
.
≤≤ "
ExecuteNonQueryAsync
≤≤ 2
(
≤≤2 3
)
≤≤3 4
;
≤≤4 5#
resultadoTransactionE
≥≥ )
.
≥≥) *

IdRegistro
≥≥* 4
=
≥≥5 6
$num
≥≥7 8
;
≥≥8 9#
resultadoTransactionE
¥¥ )
.
¥¥) *
Mensaje
¥¥* 1
=
¥¥2 3
$str
¥¥4 L
;
¥¥L M#
resultadoTransactionE
µµ )
.
µµ) *
Data
µµ* .
=
µµ/ 0
true
µµ1 5
;
µµ5 6
}
∑∑ 
catch
∏∏ 
(
∏∏ 
	Exception
∏∏  
ex
∏∏! #
)
∏∏# $
{
ππ #
resultadoTransactionE
∫∫ )
.
∫∫) *

IdRegistro
∫∫* 4
=
∫∫5 6
-
∫∫7 8
$num
∫∫8 9
;
∫∫9 :#
resultadoTransactionE
ªª )
.
ªª) *
Mensaje
ªª* 1
=
ªª2 3
ex
ªª4 6
.
ªª6 7
Message
ªª7 >
;
ªª> ?#
resultadoTransactionE
ºº )
.
ºº) *
Data
ºº* .
=
ºº/ 0
false
ºº1 6
;
ºº6 7
}
ΩΩ 
}
ææ 
return
øø #
resultadoTransactionE
øø (
;
øø( )
}
¿¿ 	
public
√√ 
async
√√ 
Task
√√ 
<
√√ #
ResultadoTransactionE
√√ /
<
√√/ 0
bool
√√0 4
>
√√4 5
>
√√5 6+
Actualizar_MecDetalleServicio
√√7 T
(
√√T U"
MecDetalleServiciosE
√√U i
objmec
√√j p
,
√√p q
int
√√r u
iduser
√√v |
,
√√| }
SqlConnection√√~ ã
cnn√√å è
,√√è ê
SqlTransaction√√ë ü
sqlTransaction√√† Æ
)√√Æ Ø
{
ƒƒ 	#
ResultadoTransactionE
≈≈ !
<
≈≈! "
bool
≈≈" &
>
≈≈& '#
resultadoTransactionE
≈≈( =
=
≈≈> ?
new
≈≈@ C#
ResultadoTransactionE
≈≈D Y
<
≈≈Y Z
bool
≈≈Z ^
>
≈≈^ _
(
≈≈_ `
)
≈≈` a
;
≈≈a b
using
∆∆ 
(
∆∆ 

SqlCommand
∆∆ 
cmd
∆∆ !
=
∆∆" #
new
∆∆$ '

SqlCommand
∆∆( 2
(
∆∆2 3$
USP_Trama_MecServicios
∆∆3 I
,
∆∆I J
cnn
∆∆K N
,
∆∆N O
sqlTransaction
∆∆P ^
)
∆∆^ _
)
∆∆_ `
{
«« 
try
»» 
{
…… 
cmd
   
.
   
CommandType
   #
=
  $ %
CommandType
  & 1
.
  1 2
StoredProcedure
  2 A
;
  A B
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ "
.
ÀÀ" #
AddWithValue
ÀÀ# /
(
ÀÀ/ 0
$str
ÀÀ0 9
,
ÀÀ9 :
iduser
ÀÀ; A
)
ÀÀA B
;
ÀÀB C
cmd
ÃÃ 
.
ÃÃ 

Parameters
ÃÃ "
.
ÃÃ" #
AddWithValue
ÃÃ# /
(
ÃÃ/ 0
$str
ÃÃ0 =
,
ÃÃ> ?
Convert
ÃÃ@ G
.
ÃÃG H
ToDouble
ÃÃH P
(
ÃÃP Q
objmec
ÃÃQ W
.
ÃÃW X
preciounitario
ÃÃX f
)
ÃÃf g
)
ÃÃg h
;
ÃÃh i
cmd
ÕÕ 
.
ÕÕ 

Parameters
ÕÕ "
.
ÕÕ" #
AddWithValue
ÕÕ# /
(
ÕÕ/ 0
$str
ÕÕ0 =
,
ÕÕ= >
Convert
ÕÕ? F
.
ÕÕF G
ToDouble
ÕÕG O
(
ÕÕO P
objmec
ÕÕP V
.
ÕÕV W

copagofijo
ÕÕW a
)
ÕÕa b
)
ÕÕb c
;
ÕÕc d
cmd
ŒŒ 
.
ŒŒ 

Parameters
ŒŒ "
.
ŒŒ" #
AddWithValue
ŒŒ# /
(
ŒŒ/ 0
$str
ŒŒ0 <
,
ŒŒ< =
Convert
ŒŒ> E
.
ŒŒE F
ToDouble
ŒŒF N
(
ŒŒN O
objmec
ŒŒO U
.
ŒŒU V
copagovariable
ŒŒV d
)
ŒŒd e
)
ŒŒe f
;
ŒŒf g
cmd
œœ 
.
œœ 

Parameters
œœ "
.
œœ" #
AddWithValue
œœ# /
(
œœ/ 0
$str
œœ0 8
,
œœ8 9
Convert
œœ: A
.
œœA B
ToDouble
œœB J
(
œœJ K
objmec
œœK Q
.
œœQ R
montoservicio
œœR _
)
œœ_ `
)
œœ` a
;
œœa b
cmd
–– 
.
–– 

Parameters
–– "
.
––" #
AddWithValue
––# /
(
––/ 0
$str
––0 ?
,
––? @
objmec
––A G
.
––G H!
numerodocumentopago
––H [
)
––[ \
;
––\ ]
cmd
—— 
.
—— 

Parameters
—— "
.
——" #
AddWithValue
——# /
(
——/ 0
$str
——0 >
,
——> ?
objmec
——@ F
.
——F G
correlativo
——G R
)
——R S
;
——S T
await
““ 
cmd
““ 
.
““ "
ExecuteNonQueryAsync
““ 2
(
““2 3
)
““3 4
;
““4 5#
resultadoTransactionE
”” )
.
””) *

IdRegistro
””* 4
=
””5 6
$num
””7 8
;
””8 9#
resultadoTransactionE
‘‘ )
.
‘‘) *
Mensaje
‘‘* 1
=
‘‘2 3
$str
‘‘4 L
;
‘‘L M#
resultadoTransactionE
’’ )
.
’’) *
Data
’’* .
=
’’/ 0
true
’’1 5
;
’’5 6
}
◊◊ 
catch
ÿÿ 
(
ÿÿ 
	Exception
ÿÿ  
ex
ÿÿ! #
)
ÿÿ# $
{
ŸŸ #
resultadoTransactionE
⁄⁄ )
.
⁄⁄) *

IdRegistro
⁄⁄* 4
=
⁄⁄5 6
-
⁄⁄7 8
$num
⁄⁄8 9
;
⁄⁄9 :#
resultadoTransactionE
€€ )
.
€€) *
Mensaje
€€* 1
=
€€2 3
ex
€€4 6
.
€€6 7
Message
€€7 >
;
€€> ?#
resultadoTransactionE
‹‹ )
.
‹‹) *
Data
‹‹* .
=
‹‹/ 0
false
‹‹1 6
;
‹‹6 7
}
›› 
}
ﬁﬁ 
return
ﬂﬂ #
resultadoTransactionE
ﬂﬂ (
;
ﬂﬂ( )
}
‡‡ 	
public
‚‚ 
async
‚‚ 
Task
‚‚ 
<
‚‚ #
ResultadoTransactionE
‚‚ /
<
‚‚/ 0
bool
‚‚0 4
>
‚‚4 5
>
‚‚5 63
%Actualizar_MecDetalleProductoFarmacia
‚‚7 \
(
‚‚\ ])
MecDetalleProductosFarmacia
‚‚] x
objmec
‚‚y 
,‚‚ Ä
int‚‚Å Ñ
iduser‚‚Ö ã
,‚‚ã å
SqlConnection‚‚ç ö
cnn‚‚õ û
,‚‚û ü
SqlTransaction‚‚† Æ
sqlTransaction‚‚Ø Ω
)‚‚æ ø
{
„„ 	#
ResultadoTransactionE
‰‰ !
<
‰‰! "
bool
‰‰" &
>
‰‰& '#
resultadoTransactionE
‰‰( =
=
‰‰> ?
new
‰‰@ C#
ResultadoTransactionE
‰‰D Y
<
‰‰Y Z
bool
‰‰Z ^
>
‰‰^ _
(
‰‰_ `
)
‰‰` a
;
‰‰a b
using
ÂÂ 
(
ÂÂ 

SqlCommand
ÂÂ 
cmd
ÂÂ !
=
ÂÂ" #
new
ÂÂ$ '

SqlCommand
ÂÂ( 2
(
ÂÂ2 3#
USP_Trama_MecFarmacia
ÂÂ3 H
,
ÂÂH I
cnn
ÂÂJ M
,
ÂÂM N
sqlTransaction
ÂÂO ]
)
ÂÂ] ^
)
ÂÂ^ _
{
ÊÊ 
try
ÁÁ 
{
ÁÁ 
cmd
ËË 
.
ËË 
CommandType
ËË #
=
ËË$ %
CommandType
ËË& 1
.
ËË1 2
StoredProcedure
ËË2 A
;
ËËA B
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ "
.
ÈÈ" #
AddWithValue
ÈÈ# /
(
ÈÈ/ 0
$str
ÈÈ0 9
,
ÈÈ9 :
iduser
ÈÈ; A
)
ÈÈA B
;
ÈÈB C
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ "
.
ÍÍ" #
AddWithValue
ÍÍ# /
(
ÍÍ/ 0
$str
ÍÍ0 =
,
ÍÍ= >
Convert
ÍÍ? F
.
ÍÍF G
ToDouble
ÍÍG O
(
ÍÍO P
objmec
ÍÍP V
.
ÍÍV W
preciounitario
ÍÍW e
)
ÍÍe f
)
ÍÍf g
;
ÍÍg h
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ "
.
ÎÎ" #
AddWithValue
ÎÎ# /
(
ÎÎ/ 0
$str
ÎÎ0 9
,
ÎÎ9 :
Convert
ÎÎ; B
.
ÎÎB C
ToDouble
ÎÎC K
(
ÎÎK L
objmec
ÎÎL R
.
ÎÎR S
copagoproducto
ÎÎS a
)
ÎÎa b
)
ÎÎb c
;
ÎÎc d
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ "
.
ÏÏ" #
AddWithValue
ÏÏ# /
(
ÏÏ/ 0
$str
ÏÏ0 8
,
ÏÏ8 9
Convert
ÏÏ: A
.
ÏÏA B
ToDouble
ÏÏB J
(
ÏÏJ K
objmec
ÏÏK Q
.
ÏÏQ R
montoporproducto
ÏÏR b
)
ÏÏb c
)
ÏÏc d
;
ÏÏd e
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ "
.
ÌÌ" #
AddWithValue
ÌÌ# /
(
ÌÌ/ 0
$str
ÌÌ0 ?
,
ÌÌ? @
objmec
ÌÌA G
.
ÌÌG H!
numerodocumentopago
ÌÌH [
)
ÌÌ[ \
;
ÌÌ\ ]
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ "
.
ÓÓ" #
AddWithValue
ÓÓ# /
(
ÓÓ/ 0
$str
ÓÓ0 >
,
ÓÓ> ?
objmec
ÓÓ@ F
.
ÓÓF G!
correlativoproducto
ÓÓG Z
)
ÓÓZ [
;
ÓÓ[ \
await
ÔÔ 
cmd
ÔÔ 
.
ÔÔ "
ExecuteNonQueryAsync
ÔÔ 2
(
ÔÔ2 3
)
ÔÔ3 4
;
ÔÔ4 5#
resultadoTransactionE
 )
.
) *

IdRegistro
* 4
=
5 6
$num
7 8
;
8 9#
resultadoTransactionE
ÒÒ )
.
ÒÒ) *
Mensaje
ÒÒ* 1
=
ÒÒ2 3
$str
ÒÒ4 L
;
ÒÒL M#
resultadoTransactionE
ÚÚ )
.
ÚÚ) *
Data
ÚÚ* .
=
ÚÚ/ 0
true
ÚÚ1 5
;
ÚÚ5 6
}
ÛÛ 
catch
ÙÙ 
(
ÙÙ 
	Exception
ÙÙ  
ex
ÙÙ! #
)
ÙÙ# $
{
ÙÙ% &#
resultadoTransactionE
ˆˆ )
.
ˆˆ) *

IdRegistro
ˆˆ* 4
=
ˆˆ5 6
-
ˆˆ7 8
$num
ˆˆ8 9
;
ˆˆ9 :#
resultadoTransactionE
˜˜ )
.
˜˜) *
Mensaje
˜˜* 1
=
˜˜2 3
ex
˜˜4 6
.
˜˜6 7
Message
˜˜7 >
;
˜˜> ?#
resultadoTransactionE
¯¯ )
.
¯¯) *
Data
¯¯* .
=
¯¯/ 0
false
¯¯1 6
;
¯¯6 7
}
˘˘ 
}
˙˙ 
return
˚˚ #
resultadoTransactionE
˚˚ (
;
˚˚( )
}
¸¸ 	
public
˛˛ 
async
˛˛ 
Task
˛˛ 
<
˛˛ #
ResultadoTransactionE
˛˛ /
<
˛˛/ 0
bool
˛˛0 4
>
˛˛4 5
>
˛˛5 6,
Actualizar_MecCabeceraAtencion
˛˛7 U
(
˛˛U V
string
˛˛V \
nrocomprobante
˛˛] k
,
˛˛k l
int
˛˛m p
iduser
˛˛q w
,
˛˛w x
SqlConnection˛˛y Ü
cnn˛˛á ä
,˛˛ä ã
SqlTransaction˛˛å ö
sqlTransaction˛˛õ ©
)˛˛© ™
{
ˇˇ 	#
ResultadoTransactionE
ÄÄ !
<
ÄÄ! "
bool
ÄÄ" &
>
ÄÄ& '
	resultado
ÄÄ( 1
=
ÄÄ2 3
new
ÄÄ4 7#
ResultadoTransactionE
ÄÄ8 M
<
ÄÄM N
bool
ÄÄN R
>
ÄÄR S
(
ÄÄS T
)
ÄÄT U
;
ÄÄU V
using
ÅÅ 
(
ÅÅ 

SqlCommand
ÅÅ 
cmd
ÅÅ !
=
ÅÅ" #
new
ÅÅ$ '

SqlCommand
ÅÅ( 2
(
ÅÅ2 3#
USP_Trama_MecAtencion
ÅÅ3 H
,
ÅÅH I
cnn
ÅÅJ M
,
ÅÅM N
sqlTransaction
ÅÅO ]
)
ÅÅ] ^
)
ÅÅ^ _
{
ÇÇ 
try
ÉÉ 
{
ÑÑ 
cmd
ÖÖ 
.
ÖÖ 
CommandType
ÖÖ #
=
ÖÖ$ %
CommandType
ÖÖ& 1
.
ÖÖ1 2
StoredProcedure
ÖÖ2 A
;
ÖÖA B
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ "
.
ÜÜ" #
AddWithValue
ÜÜ# /
(
ÜÜ/ 0
$str
ÜÜ0 A
,
ÜÜA B
nrocomprobante
ÜÜC Q
)
ÜÜQ R
;
ÜÜR S
cmd
áá 
.
áá 

Parameters
áá "
.
áá" #
AddWithValue
áá# /
(
áá/ 0
$str
áá0 9
,
áá9 :
iduser
áá; A
)
ááA B
;
ááB C
await
àà 
cmd
àà 
.
àà "
ExecuteNonQueryAsync
àà 2
(
àà2 3
)
àà3 4
;
àà4 5
	resultado
ââ 
.
ââ 

IdRegistro
ââ (
=
ââ) *
$num
ââ+ ,
;
ââ, -
	resultado
ää 
.
ää 
Mensaje
ää %
=
ää& '
$str
ää( @
;
ää@ A
	resultado
ãã 
.
ãã 
Data
ãã "
=
ãã# $
true
ãã% )
;
ãã) *
}
åå 
catch
çç 
(
çç 
	Exception
çç  
ex
çç! #
)
çç# $
{
éé 
	resultado
èè 
.
èè 

IdRegistro
èè (
=
èè) *
-
èè+ ,
$num
èè, -
;
èè- .
	resultado
êê 
.
êê 
Mensaje
êê %
=
êê& '
ex
êê( *
.
êê* +
Message
êê+ 2
;
êê2 3
	resultado
ëë 
.
ëë 
Data
ëë "
=
ëë# $
false
ëë% *
;
ëë* +
}
íí 
}
ìì 
return
îî 
	resultado
îî 
;
îî 
}
ïï 	
public
óó 
async
óó 
Task
óó 
<
óó #
ResultadoTransactionE
óó /
<
óó/ 0
ComprobanteDatoE
óó0 @
>
óó@ A
>
óóA B%
VerificarCorrecionTrama
óóC Z
(
óóZ [
int
óó[ ^
orden
óó_ d
,
óód e
string
óóf l
NroComprobante
óóm {
)
óó{ |
{
òò 	#
ResultadoTransactionE
ôô !
<
ôô! "
ComprobanteDatoE
ôô" 2
>
ôô2 3
	resultado
ôô4 =
=
ôô> ?
new
ôô@ C#
ResultadoTransactionE
ôôD Y
<
ôôY Z
ComprobanteDatoE
ôôZ j
>
ôôj k
(
ôôk l
)
ôôl m
;
ôôm n
using
õõ 
(
õõ 
SqlConnection
õõ  
cnn
õõ! $
=
õõ% &
new
õõ' *
SqlConnection
õõ+ 8
(
õõ8 9
VariablesGlobales
õõ9 J
.
õõJ K

CnnClinica
õõK U
)
õõU V
)
õõV W
{
úú 
cnn
ùù 
.
ùù 
Open
ùù 
(
ùù 
)
ùù 
;
ùù 
using
ûû 
(
ûû 

SqlCommand
ûû !
cmd
ûû" %
=
ûû& '
new
ûû( +

SqlCommand
ûû, 6
(
ûû6 7$
USP_Trama_ConsultaData
ûû7 M
,
ûûM N
cnn
ûûO R
)
ûûR S
)
ûûS T
{
üü 
try
†† 
{
°° 
cmd
¢¢ 
.
¢¢ 
CommandType
¢¢ '
=
¢¢( )
CommandType
¢¢* 5
.
¢¢5 6
StoredProcedure
¢¢6 E
;
¢¢E F
cmd
££ 
.
££ 

Parameters
££ &
.
££& '
AddWithValue
££' 3
(
££3 4
$str
££4 <
,
££< =
orden
££> C
)
££C D
;
££D E
cmd
§§ 
.
§§ 

Parameters
§§ &
.
§§& '
AddWithValue
§§' 3
(
§§3 4
$str
§§4 E
,
§§E F
NroComprobante
§§G U
)
§§U V
;
§§V W
using
•• 
(
•• 
SqlDataReader
•• ,
reader
••- 3
=
••4 5
await
••6 ;
cmd
••< ?
.
••? @ 
ExecuteReaderAsync
••@ R
(
••R S
)
••S T
)
••T U
{
¶¶ 
ComprobanteDatoE
ßß ,
comprobanteDatoE
ßß- =
=
ßß> ?
new
ßß@ C
ComprobanteDatoE
ßßD T
(
ßßT U
)
ßßU V
;
ßßV W
if
®® 
(
®®  
reader
®®  &
.
®®& '
Read
®®' +
(
®®+ ,
)
®®, -
)
®®- .
{
©© 
comprobanteDatoE
™™  0
.
™™0 1
	categoria
™™1 :
=
™™; <
reader
™™= C
[
™™C D
$str
™™D O
]
™™O P
.
™™P Q
ToString
™™Q Y
(
™™Y Z
)
™™Z [
;
™™[ \
comprobanteDatoE
´´  0
.
´´0 1
nombre
´´1 7
=
´´8 9
reader
´´: @
[
´´@ A
$str
´´A I
]
´´I J
.
´´J K
ToString
´´K S
(
´´S T
)
´´T U
;
´´U V
comprobanteDatoE
¨¨  0
.
¨¨0 1

correctivo
¨¨1 ;
=
¨¨< =
(
¨¨> ?
Convert
¨¨? F
.
¨¨F G
ToInt32
¨¨G N
(
¨¨N O
reader
¨¨O U
[
¨¨U V
$str
¨¨V b
]
¨¨b c
.
¨¨c d
ToString
¨¨d l
(
¨¨l m
)
¨¨m n
)
¨¨n o
==
¨¨p r
$num
¨¨s t
)
¨¨t u
?
¨¨v w
true
¨¨x |
:
¨¨} ~
false¨¨ Ñ
;¨¨Ñ Ö
	resultado
ÆÆ  )
.
ÆÆ) *

IdRegistro
ÆÆ* 4
=
ÆÆ5 6
$num
ÆÆ7 8
;
ÆÆ8 9
	resultado
ØØ  )
.
ØØ) *
Mensaje
ØØ* 1
=
ØØ2 3
$str
ØØ4 8
;
ØØ8 9
	resultado
∞∞  )
.
∞∞) *
Data
∞∞* .
=
∞∞/ 0
comprobanteDatoE
∞∞1 A
;
∞∞A B
}
±± 
else
≤≤  
{
≥≥ 
	resultado
¥¥  )
.
¥¥) *

IdRegistro
¥¥* 4
=
¥¥5 6
-
¥¥7 8
$num
¥¥8 9
;
¥¥9 :
	resultado
µµ  )
.
µµ) *
Mensaje
µµ* 1
=
µµ2 3
$str
µµ4 p
+
µµq r
NroComprobanteµµs Å
;µµÅ Ç
}
∂∂ 
}
∑∑ 
}
∏∏ 
catch
ππ 
(
ππ 
	Exception
ππ $
ex
ππ% '
)
ππ' (
{
∫∫ 
	resultado
ªª !
.
ªª! "

IdRegistro
ªª" ,
=
ªª- .
-
ªª/ 0
$num
ªª0 1
;
ªª1 2
	resultado
ºº !
.
ºº! "
Mensaje
ºº" )
+=
ºº* ,
ex
ºº- /
.
ºº/ 0
Message
ºº0 7
;
ºº7 8
}
ΩΩ 
finally
ææ 
{
ææ 
cnn
øø 
.
øø 
Close
øø !
(
øø! "
)
øø" #
;
øø# $
}
¿¿ 
}
¡¡ 
}
¬¬ 
return
ƒƒ 
	resultado
ƒƒ 
;
ƒƒ 
}
≈≈ 	
public
«« 
async
«« 
Task
«« 
<
«« #
ResultadoTransactionE
«« /
<
««/ 0
MecCoaSegurosE
««0 >
>
««> ?
>
««? @
ListadoCoaseguros
««A R
(
««R S
int
««S V
orden
««W \
,
««\ ]
string
««^ d
NroComprobante
««e s
)
««s t
{
»» 	#
ResultadoTransactionE
…… !
<
……" #
MecCoaSegurosE
……# 1
>
……1 2
	resultado
……3 <
=
……= >
new
……? B#
ResultadoTransactionE
……C X
<
……X Y
MecCoaSegurosE
……Y g
>
……g h
(
……i j
)
……j k
;
……k l
List
   
<
   
MecCoaSegurosE
   
>
    
ListadoCoaseguro
  ! 1
=
  2 3
new
  4 7
List
  8 <
<
  < =
MecCoaSegurosE
  = K
>
  K L
(
  L M
)
  M N
;
  N O
using
ÀÀ 
(
ÀÀ 
SqlConnection
ÀÀ  
cnn
ÀÀ! $
=
ÀÀ% &
new
ÀÀ' *
SqlConnection
ÀÀ+ 8
(
ÀÀ8 9
VariablesGlobales
ÀÀ9 J
.
ÀÀJ K

CnnClinica
ÀÀK U
)
ÀÀU V
)
ÀÀV W
{
ÃÃ 
cnn
ÕÕ 
.
ÕÕ 
Open
ÕÕ 
(
ÕÕ 
)
ÕÕ 
;
ÕÕ 
using
ŒŒ 
(
ŒŒ 

SqlCommand
ŒŒ !
cmd
ŒŒ" %
=
ŒŒ& '
new
ŒŒ( +

SqlCommand
ŒŒ, 6
(
ŒŒ6 7$
USP_Trama_ConsultaData
ŒŒ7 M
,
ŒŒM N
cnn
ŒŒO R
)
ŒŒR S
)
ŒŒS T
{
œœ 
try
–– 
{
—— 
cmd
““ 
.
““ 
CommandType
““ '
=
““( )
CommandType
““* 5
.
““5 6
StoredProcedure
““6 E
;
““E F
cmd
”” 
.
”” 

Parameters
”” &
.
””& '
AddWithValue
””' 3
(
””3 4
$str
””4 <
,
””< =
orden
””> C
)
””C D
;
””D E
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ &
.
‘‘& '
AddWithValue
‘‘' 3
(
‘‘3 4
$str
‘‘4 E
,
‘‘E F
NroComprobante
‘‘G U
)
‘‘U V
;
‘‘V W
using
’’ 
(
’’ 
SqlDataReader
’’ ,
reader
’’- 3
=
’’4 5
await
’’6 ;
cmd
’’< ?
.
’’? @ 
ExecuteReaderAsync
’’@ R
(
’’R S
)
’’S T
)
’’T U
{
÷÷ 
while
◊◊ !
(
◊◊" #
reader
◊◊# )
.
◊◊) *
Read
◊◊* .
(
◊◊. /
)
◊◊/ 0
)
◊◊0 1
{
ÿÿ 
MecCoaSegurosE
ŸŸ  .
obj
ŸŸ/ 2
=
ŸŸ3 4
new
ŸŸ5 8
MecCoaSegurosE
ŸŸ9 G
(
ŸŸG H
)
ŸŸH I
;
ŸŸI J
obj
⁄⁄  #
.
⁄⁄# $
CoaseguroPoliza
⁄⁄$ 3
=
⁄⁄4 5
Convert
⁄⁄6 =
.
⁄⁄= >
ToDouble
⁄⁄> F
(
⁄⁄F G
reader
⁄⁄G M
[
⁄⁄M N
$str
⁄⁄N _
]
⁄⁄_ `
.
⁄⁄` a
ToString
⁄⁄a i
(
⁄⁄i j
)
⁄⁄j k
)
⁄⁄k l
;
⁄⁄l m
obj
€€  #
.
€€# $)
CoaseguroDetalleComprobante
€€$ ?
=
€€@ A
Convert
€€B I
.
€€I J
ToDouble
€€J R
(
€€R S
reader
€€S Y
[
€€Y Z
$str
€€Z w
]
€€w x
.
€€x y
ToString€€y Å
(€€Å Ç
)€€Ç É
)€€É Ñ
;€€Ñ Ö
obj
‹‹  #
.
‹‹# $
CoaseguroPresotor
‹‹$ 5
=
‹‹6 7
Convert
‹‹8 ?
.
‹‹? @
ToDouble
‹‹@ H
(
‹‹H I
reader
‹‹I O
[
‹‹O P
$str
‹‹P c
]
‹‹c d
.
‹‹d e
ToString
‹‹e m
(
‹‹m n
)
‹‹n o
)
‹‹o p
;
‹‹p q
obj
››  #
.
››# $
CoaseguroVenta
››$ 2
=
››3 4
Convert
››5 <
.
››< =
ToDouble
››= E
(
››E F
reader
››F L
[
››L M
$str
››M ]
]
››] ^
.
››^ _
ToString
››_ g
(
››g h
)
››h i
)
››i j
;
››j k
obj
ﬁﬁ  #
.
ﬁﬁ# $
CodPresotor
ﬁﬁ$ /
=
ﬁﬁ0 1
reader
ﬁﬁ2 8
[
ﬁﬁ8 9
$str
ﬁﬁ9 F
]
ﬁﬁF G
.
ﬁﬁG H
ToString
ﬁﬁH P
(
ﬁﬁP Q
)
ﬁﬁQ R
;
ﬁﬁR S
obj
ﬂﬂ  #
.
ﬂﬂ# $
Alerta
ﬂﬂ$ *
=
ﬂﬂ+ ,
(
ﬂﬂ- .
Convert
ﬂﬂ. 5
.
ﬂﬂ5 6
ToInt32
ﬂﬂ6 =
(
ﬂﬂ= >
reader
ﬂﬂ> D
[
ﬂﬂD E
$str
ﬂﬂE M
]
ﬂﬂM N
.
ﬂﬂN O
ToString
ﬂﬂO W
(
ﬂﬂW X
)
ﬂﬂX Y
)
ﬂﬂY Z
==
ﬂﬂ[ ]
$num
ﬂﬂ^ _
)
ﬂﬂ_ `
?
ﬂﬂa b
true
ﬂﬂc g
:
ﬂﬂh i
false
ﬂﬂj o
;
ﬂﬂo p
ListadoCoaseguro
‡‡  0
.
‡‡0 1
Add
‡‡1 4
(
‡‡4 5
obj
‡‡5 8
)
‡‡8 9
;
‡‡9 :
}
·· 
if
„„ 
(
„„  
ListadoCoaseguro
„„  0
.
„„0 1
Count
„„1 6
(
„„6 7
)
„„7 8
==
„„9 ;
$num
„„< =
)
„„= >
{
‰‰ 
	resultado
ÂÂ  )
.
ÂÂ) *

IdRegistro
ÂÂ* 4
=
ÂÂ5 6
-
ÂÂ7 8
$num
ÂÂ8 9
;
ÂÂ9 :
	resultado
ÊÊ  )
.
ÊÊ) *
Mensaje
ÊÊ* 1
=
ÊÊ2 3
$str
ÊÊ4 p
+
ÊÊq r
NroComprobanteÊÊs Å
;ÊÊÅ Ç
}
ÁÁ 
else
ËË  
{
ËË  !
	resultado
ÈÈ  )
.
ÈÈ) *

IdRegistro
ÈÈ* 4
=
ÈÈ5 6
$num
ÈÈ7 8
;
ÈÈ8 9
	resultado
ÍÍ  )
.
ÍÍ) *
Mensaje
ÍÍ* 1
=
ÍÍ2 3
$str
ÍÍ4 8
;
ÍÍ8 9
	resultado
ÎÎ  )
.
ÎÎ) *
DataList
ÎÎ* 2
=
ÎÎ3 4
ListadoCoaseguro
ÎÎ5 E
;
ÎÎE F
}
ÏÏ 
}
ÌÌ 
}
ÓÓ 
catch
ÔÔ 
(
ÔÔ 
	Exception
ÔÔ $
ex
ÔÔ% '
)
ÔÔ' (
{
 
	resultado
ÒÒ !
.
ÒÒ! "

IdRegistro
ÒÒ" ,
=
ÒÒ- .
-
ÒÒ/ 0
$num
ÒÒ0 1
;
ÒÒ1 2
	resultado
ÚÚ !
.
ÚÚ! "
Mensaje
ÚÚ" )
+=
ÚÚ* ,
ex
ÚÚ- /
.
ÚÚ/ 0
Message
ÚÚ0 7
;
ÚÚ7 8
}
ÛÛ 
finally
ÙÙ 
{
ıı 
cnn
ˆˆ 
.
ˆˆ 
Close
ˆˆ !
(
ˆˆ! "
)
ˆˆ" #
;
ˆˆ# $
}
˜˜ 
}
¯¯ 
}
˘˘ 
return
˙˙ 
	resultado
˙˙ 
;
˙˙ 
}
˚˚ 	
}
¸¸ 
}˝˝ ﬁ+
YD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\TerceroAD\TerceroAD.cs
	namespace## 	
Dat##
 
.## 
Sql## 
.## 
	ClinicaAD## 
.## 
	TerceroAD## %
{$$ 
public%% 

class%% 
	TerceroAD%% 
{&& 
private'' 
TerceroE'' 
LlenarEntidad'' &
(''& '
IDataReader''' 2
dr''3 5
,''5 6
TerceroE''7 ?
	pTerceroE''@ I
)''I J
{(( 	
TerceroE)) 
	oTerceroE)) 
=))  
new))! $
TerceroE))% -
())- .
))). /
;))/ 0
switch** 
(** 
	pTerceroE** 
.** 
Orden** #
)**# $
{++ 
case,, 
$num,, 
:,, 
{-- 
	oTerceroE.. !
...! "

CodTercero.." ,
=..- .
Convert../ 6
...6 7
ToString..7 ?
(..? @
dr..@ B
[..B C
$str..C O
]..O P
+..Q R
$str..S U
)..U V
...V W
Trim..W [
(..[ \
)..\ ]
;..] ^
	oTerceroE// !
.//! "
NombreTercero//" /
=//0 1
Convert//2 9
.//9 :
ToString//: B
(//B C
dr//C E
[//E F
$str//F N
]//N O
+//P Q
$str//R T
)//T U
.//U V
Trim//V Z
(//Z [
)//[ \
;//\ ]
	oTerceroE00 !
.00! "
FlagPago00" *
=00+ ,
Convert00- 4
.004 5
ToString005 =
(00= >
dr00> @
[00@ A
$str00A K
]00K L
+00M N
$str00O Q
)00Q R
.00R S
Trim00S W
(00W X
)00X Y
;00Y Z
	oTerceroE11 !
.11! "
Estado11" (
=11) *
Convert11+ 2
.112 3
ToString113 ;
(11; <
dr11< >
[11> ?
$str11? G
]11G H
+11I J
$str11K M
)11M N
.11N O
Trim11O S
(11S T
)11T U
;11U V
break22 
;22 
}33 
}44 
return55 
	oTerceroE55 
;55 
}66 	
public88 
List88 
<88 
TerceroE88 
>88  
Sp_Terceros_Consulta88 2
(882 3
TerceroE883 ;
	pTerceroE88< E
)88E F
{99 	
List:: 
<:: 
TerceroE:: 
>:: 
oListar:: "
=::# $
new::% (
List::) -
<::- .
TerceroE::. 6
>::6 7
(::7 8
)::8 9
;::9 :
TerceroE;; 
	oTerceroE;; 
=;;  
null;;! %
;;;% &
using<< 
(<< 
SqlConnection<<  
cnn<<! $
=<<% &
new<<' *
SqlConnection<<+ 8
(<<8 9
VariablesGlobales<<9 J
.<<J K

CnnClinica<<K U
)<<U V
)<<V W
{== 
using>> 
(>> 

SqlCommand>> !
cmd>>" %
=>>& '
new>>( +

SqlCommand>>, 6
(>>6 7
$str>>7 M
,>>M N
cnn>>O R
)>>R S
)>>S T
{?? 
cmd@@ 
.@@ 
CommandType@@ #
=@@$ %
System@@& ,
.@@, -
Data@@- 1
.@@1 2
CommandType@@2 =
.@@= >
StoredProcedure@@> M
;@@M N
cmdBB 
.BB 

ParametersBB "
.BB" #
AddWithValueBB# /
(BB/ 0
$strBB0 9
,BB9 :
	pTerceroEBB; D
.BBD E
BuscarBBE K
)BBK L
;BBL M
cmdCC 
.CC 

ParametersCC "
.CC" #
AddWithValueCC# /
(CC/ 0
$strCC0 6
,CC6 7
	pTerceroECC8 A
.CCA B
keyCCB E
)CCE F
;CCF G
cmdDD 
.DD 

ParametersDD "
.DD" #
AddWithValueDD# /
(DD/ 0
$strDD0 ?
,DD? @
	pTerceroEDDA J
.DDJ K
NumeroLineasDDK W
)DDW X
;DDX Y
cmdEE 
.EE 

ParametersEE "
.EE" #
AddWithValueEE# /
(EE/ 0
$strEE0 8
,EE8 9
	pTerceroEEE: C
.EEC D
OrdenEED I
)EEI J
;EEJ K
cnnFF 
.FF 
OpenFF 
(FF 
)FF 
;FF 
IDataReaderGG 
drGG  "
=GG# $
cmdGG% (
.GG( )
ExecuteReaderGG) 6
(GG6 7
)GG7 8
;GG8 9
whileHH 
(HH 
drHH 
.HH 
ReadHH "
(HH" #
)HH# $
)HH$ %
{II 
	oTerceroEJJ !
=JJ" #
LlenarEntidadJJ$ 1
(JJ1 2
drJJ2 4
,JJ4 5
	pTerceroEJJ6 ?
)JJ? @
;JJ@ A
oListarKK 
.KK  
AddKK  #
(KK# $
	oTerceroEKK$ -
)KK- .
;KK. /
}LL 
drMM 
.MM 
CloseMM 
(MM 
)MM 
;MM 
cnnNN 
.NN 
CloseNN 
(NN 
)NN 
;NN  
}OO 
}PP 
returnQQ 
oListarQQ 
;QQ 
}RR 	
}SS 
}TT ë~
gD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\TerceroAD\LiqxtercerosReciboImgAD.cs
	namespace"" 	
Dat""
 
."" 
Sql"" 
."" 
	ClinicaAD"" 
."" 
	TerceroAD"" %
{## 
public$$ 

class$$ #
LiqxtercerosReciboImgAD$$ (
{%% 
private&& "
LiqxtercerosReciboImgE&& &
LlenarEntidad&&' 4
(&&4 5
IDataReader&&5 @
dr&&A C
,&&C D"
LiqxtercerosReciboImgE'' 5#
pLiqxtercerosReciboImgE''6 M
)''M N
{(( 	"
LiqxtercerosReciboImgE)) "#
oLiqxtercerosReciboImgE))# :
=)); <
new))= @"
LiqxtercerosReciboImgE))A W
())W X
)))X Y
;))Y Z
switch** 
(** #
pLiqxtercerosReciboImgE** +
.**+ ,
Orden**, 1
)**1 2
{++ 
case,, 
$num,, 
:,, #
oLiqxtercerosReciboImgE-- +
.--+ ,
	NmrRecibo--, 5
=--6 7
Convert--8 ?
.--? @
ToString--@ H
(--H I
dr--I K
[--K L
$str--L X
]--X Y
)--Y Z
;--Z [#
oLiqxtercerosReciboImgE.. +
...+ ,
	ImgRecibo.., 5
=..6 7
Convert..8 ?
...? @
ToString..@ H
(..H I
dr..I K
[..K L
$str..L X
]..X Y
)..Y Z
;..Z [#
oLiqxtercerosReciboImgE// +
.//+ ,

NmbArchivo//, 6
=//7 8
Convert//9 @
.//@ A
ToString//A I
(//I J
dr//J L
[//L M
$str//M Z
]//Z [
)//[ \
;//\ ]#
oLiqxtercerosReciboImgE00 +
.00+ ,
Estado00, 2
=003 4
Convert005 <
.00< =
	ToBoolean00= F
(00F G
dr00G I
[00I J
$str00J R
]00R S
)00S T
;00T U#
oLiqxtercerosReciboImgE11 +
.11+ ,#
IDLiqxtercerosReciboImg11, C
=11D E
Convert11F M
.11M N
ToInt3211N U
(11U V
dr11V X
[11X Y
$str11Y u
]11u v
)11v w
;11w x
break22 
;22 
}33 
return55 #
oLiqxtercerosReciboImgE55 *
;55* +
}66 	
public88 
List88 
<88 "
LiqxtercerosReciboImgE88 *
>88* +-
!Sp_LiqxtercerosReciboImg_Consulta88, M
(88M N"
LiqxtercerosReciboImgE88N d#
pLiqxtercerosReciboImgE88e |
)88| }
{99 	
List:: 
<:: "
LiqxtercerosReciboImgE:: '
>::' (
oListar::) 0
=::1 2
new::3 6
List::7 ;
<::; <"
LiqxtercerosReciboImgE::< R
>::R S
(::S T
)::T U
;::U V"
LiqxtercerosReciboImgE;; "#
oLiqxtercerosReciboImgE;;# :
=;;; <
null;;= A
;;;A B
using<< 
(<< 
SqlConnection<<  
cnn<<! $
=<<% &
new<<' *
SqlConnection<<+ 8
(<<8 9
VariablesGlobales<<9 J
.<<J K

CnnClinica<<K U
)<<U V
)<<V W
{== 
using>> 
(>> 

SqlCommand>> !
cmd>>" %
=>>& '
new>>( +

SqlCommand>>, 6
(>>6 7
$str>>7 Z
,>>Z [
cnn>>\ _
)>>_ `
)>>` a
{?? 
cmd@@ 
.@@ 
CommandType@@ #
=@@$ %
System@@& ,
.@@, -
Data@@- 1
.@@1 2
CommandType@@2 =
.@@= >
StoredProcedure@@> M
;@@M N
cmdBB 
.BB 

ParametersBB "
.BB" #
AddWithValueBB# /
(BB/ 0
$strBB0 M
,BBM N#
pLiqxtercerosReciboImgEBBO f
.BBf g#
IDLiqxtercerosReciboImgBBg ~
)BB~ 
;	BB Ä
cmdCC 
.CC 

ParametersCC "
.CC" #
AddWithValueCC# /
(CC/ 0
$strCC0 8
,CC8 9#
pLiqxtercerosReciboImgECC: Q
.CCQ R
OrdenCCR W
)CCW X
;CCX Y
cnnDD 
.DD 
OpenDD 
(DD 
)DD 
;DD 
IDataReaderEE 
drEE  "
=EE# $
cmdEE% (
.EE( )
ExecuteReaderEE) 6
(EE6 7
)EE7 8
;EE8 9
whileFF 
(FF 
drFF 
.FF 
ReadFF "
(FF" #
)FF# $
)FF$ %
{GG #
oLiqxtercerosReciboImgEHH /
=HH0 1
LlenarEntidadHH2 ?
(HH? @
drHH@ B
,HHB C#
pLiqxtercerosReciboImgEHHD [
)HH[ \
;HH\ ]
oListarII 
.II  
AddII  #
(II# $#
oLiqxtercerosReciboImgEII$ ;
)II; <
;II< =
}JJ 
drKK 
.KK 
CloseKK 
(KK 
)KK 
;KK 
cnnLL 
.LL 
CloseLL 
(LL 
)LL 
;LL  
}MM 
}NN 
returnOO 
oListarOO 
;OO 
}PP 	
publicSS 
intSS +
Sp_LiqxtercerosReciboImg_InsertSS 2
(SS2 3"
LiqxtercerosReciboImgESS3 I#
pLiqxtercerosReciboImgESSJ a
)SSa b
{TT 	
tryUU 
{VV 
intWW 
resultWW 
=WW 
$numWW 
;WW 
usingXX 
(XX 
SqlConnectionXX $
cnnXX% (
=XX) *
newXX+ .
SqlConnectionXX/ <
(XX< =
VariablesGlobalesXX= N
.XXN O

CnnClinicaXXO Y
)XXY Z
)XXZ [
{YY 
usingZZ 
(ZZ 

SqlCommandZZ %
cmdZZ& )
=ZZ* +
newZZ, /

SqlCommandZZ0 :
(ZZ: ;
$strZZ; \
,ZZ\ ]
cnnZZ^ a
)ZZa b
)ZZb c
{[[ 
cmd\\ 
.\\ 
CommandType\\ '
=\\( )
System\\* 0
.\\0 1
Data\\1 5
.\\5 6
CommandType\\6 A
.\\A B
StoredProcedure\\B Q
;\\Q R
cmd^^ 
.^^ 

Parameters^^ &
.^^& '
AddWithValue^^' 3
(^^3 4
$str^^4 A
,^^A B#
pLiqxtercerosReciboImgE^^C Z
.^^Z [
	NmrRecibo^^[ d
)^^d e
;^^e f
cmd__ 
.__ 

Parameters__ &
.__& '
AddWithValue__' 3
(__3 4
$str__4 A
,__A B#
pLiqxtercerosReciboImgE__C Z
.__Z [
	ImgRecibo__[ d
)__d e
;__e f
cmd`` 
.`` 

Parameters`` &
.``& '
AddWithValue``' 3
(``3 4
$str``4 B
,``B C#
pLiqxtercerosReciboImgE``D [
.``[ \

NmbArchivo``\ f
)``f g
;``g h
cmdaa 
.aa 

Parametersaa &
.aa& '
AddWithValueaa' 3
(aa3 4
$straa4 =
,aa= >#
pLiqxtercerosReciboImgEaa? V
.aaV W
EstadoaaW ]
)aa] ^
;aa^ _
cmdbb 
.bb 

Parametersbb &
.bb& '
Addbb' *
(bb* +
VariablesGlobalesbb+ <
.bb< =
ParametroSqlbb= I
(bbI J
$strbbJ g
,bbg h
ParameterDirectionbbi {
.bb{ |
InputOutput	bb| á
,
bbá à
	SqlDbType
bbâ í
.
bbí ì
Int
bbì ñ
,
bbñ ó
$num
bbò ô
,
bbô ö%
pLiqxtercerosReciboImgE
bbõ ≤
.
bb≤ ≥%
IDLiqxtercerosReciboImg
bb≥  
.
bb  À
ToString
bbÀ ”
(
bb” ‘
)
bb‘ ’
)
bb’ ÷
)
bb÷ ◊
;
bb◊ ÿ
cnndd 
.dd 
Opendd  
(dd  !
)dd! "
;dd" #
intff 
exitoff !
=ff" #
cmdff$ '
.ff' (
ExecuteNonQueryff( 7
(ff7 8
)ff8 9
;ff9 :
cnngg 
.gg 
Closegg !
(gg! "
)gg" #
;gg# $
cmdhh 
.hh 
Disposehh #
(hh# $
)hh$ %
;hh% &
ifii 
(ii 
exitoii !
>=ii" $
$numii% &
)ii& '
{jj 
returnjj  
resultjj! '
=jj( )
Convertjj* 1
.jj1 2
ToInt32jj2 9
(jj9 :
cmdjj: =
.jj= >

Parametersjj> H
[jjH I
$strjjI f
]jjf g
.jjg h
Valuejjh m
)jjm n
;jjn o
}jjp q
elsekk 
{ll 
returnll  
resultll! '
=ll( )
$numll* +
;ll+ ,
}ll- .
}mm 
}nn 
}oo 
catchpp 
(pp 
	Exceptionpp 
epp 
)pp 
{qq 
throwqq 
eqq 
=qq 
newqq 
	Exceptionqq %
(qq% &
eqq& '
.qq' (
Messageqq( /
)qq/ 0
;qq0 1
}qq2 3
}rr 	
publicuu 
booluu +
Sp_LiqxtercerosReciboImg_Updateuu 3
(uu3 4"
LiqxtercerosReciboImgEuu4 J#
pLiqxtercerosReciboImgEuuK b
)uub c
{vv 	
tryww 
{xx 
usingyy 
(yy 
SqlConnectionyy $
cnnyy% (
=yy) *
newyy+ .
SqlConnectionyy/ <
(yy< =
VariablesGlobalesyy= N
.yyN O

CnnClinicayyO Y
)yyY Z
)yyZ [
{zz 
using{{ 
({{ 

SqlCommand{{ %
cmd{{& )
={{* +
new{{, /

SqlCommand{{0 :
({{: ;
$str{{; \
,{{\ ]
cnn{{^ a
){{a b
){{b c
{|| 
cmd}} 
.}} 
CommandType}} '
=}}( )
System}}* 0
.}}0 1
Data}}1 5
.}}5 6
CommandType}}6 A
.}}A B
StoredProcedure}}B Q
;}}Q R
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 A
,A B#
pLiqxtercerosReciboImgEC Z
.Z [
	NmrRecibo[ d
)d e
;e f
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 A
,
ÄÄA B%
pLiqxtercerosReciboImgE
ÄÄC Z
.
ÄÄZ [
	ImgRecibo
ÄÄ[ d
)
ÄÄd e
;
ÄÄe f
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 B
,
ÅÅB C%
pLiqxtercerosReciboImgE
ÅÅD [
.
ÅÅ[ \

NmbArchivo
ÅÅ\ f
)
ÅÅf g
;
ÅÅg h
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 =
,
ÇÇ= >%
pLiqxtercerosReciboImgE
ÇÇ? V
.
ÇÇV W
Estado
ÇÇW ]
)
ÇÇ] ^
;
ÇÇ^ _
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 Q
,
ÉÉQ R%
pLiqxtercerosReciboImgE
ÉÉS j
.
ÉÉj k&
IDLiqxtercerosReciboImgÉÉk Ç
)ÉÉÇ É
;ÉÉÉ Ñ
cnn
ÖÖ 
.
ÖÖ 
Open
ÖÖ  
(
ÖÖ  !
)
ÖÖ! "
;
ÖÖ" #
int
áá 
exito
áá !
=
áá" #
cmd
áá$ '
.
áá' (
ExecuteNonQuery
áá( 7
(
áá7 8
)
áá8 9
;
áá9 :
cnn
àà 
.
àà 
Close
àà !
(
àà! "
)
àà" #
;
àà# $
cmd
ââ 
.
ââ 
Dispose
ââ #
(
ââ# $
)
ââ$ %
;
ââ% &
if
ää 
(
ää 
exito
ää !
>=
ää" $
$num
ää% &
)
ää& '
{
ãã 
return
ãã  
true
ãã! %
;
ãã% &
}
ãã' (
else
åå 
{
çç 
return
çç  
false
çç! &
;
çç& '
}
çç( )
}
éé 
}
èè 
}
êê 
catch
ëë 
(
ëë 
	Exception
ëë 
e
ëë 
)
ëë 
{
íí 
throw
íí 
e
íí 
=
íí 
new
íí 
	Exception
íí %
(
íí% &
e
íí& '
.
íí' (
Message
íí( /
)
íí/ 0
;
íí0 1
}
íí2 3
}
ìì 	
public
ññ 
bool
ññ 3
%Sp_LiqxtercerosReciboImg_UpdatexCampo
ññ 9
(
ññ9 :$
LiqxtercerosReciboImgE
ññ: P%
pLiqxtercerosReciboImgE
ññQ h
)
ññh i
{
óó 	
try
òò 
{
ôô 
using
öö 
(
öö 
SqlConnection
öö $
cnn
öö% (
=
öö) *
new
öö+ .
SqlConnection
öö/ <
(
öö< =
VariablesGlobales
öö= N
.
ööN O

CnnClinica
ööO Y
)
ööY Z
)
ööZ [
{
õõ 
using
úú 
(
úú 

SqlCommand
úú %
cmd
úú& )
=
úú* +
new
úú, /

SqlCommand
úú0 :
(
úú: ;
$str
úú; b
,
úúb c
cnn
úúd g
)
úúg h
)
úúh i
{
ùù 
cmd
ûû 
.
ûû 
CommandType
ûû '
=
ûû( )
System
ûû* 0
.
ûû0 1
Data
ûû1 5
.
ûû5 6
CommandType
ûû6 A
.
ûûA B
StoredProcedure
ûûB Q
;
ûûQ R
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
AddWithValue
††' 3
(
††3 4
$str
††4 Q
,
††Q R%
pLiqxtercerosReciboImgE
††S j
.
††j k&
IDLiqxtercerosReciboImg††k Ç
)††Ç É
;††É Ñ
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 B
,
°°B C%
pLiqxtercerosReciboImgE
°°D [
.
°°[ \

NuevoValor
°°\ f
)
°°f g
;
°°g h
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ &
.
¢¢& '
AddWithValue
¢¢' 3
(
¢¢3 4
$str
¢¢4 <
,
¢¢< =%
pLiqxtercerosReciboImgE
¢¢> U
.
¢¢U V
Campo
¢¢V [
)
¢¢[ \
;
¢¢\ ]
cnn
§§ 
.
§§ 
Open
§§  
(
§§  !
)
§§! "
;
§§" #
int
¶¶ 
exito
¶¶ !
=
¶¶" #
cmd
¶¶$ '
.
¶¶' (
ExecuteNonQuery
¶¶( 7
(
¶¶7 8
)
¶¶8 9
;
¶¶9 :
cnn
ßß 
.
ßß 
Close
ßß !
(
ßß! "
)
ßß" #
;
ßß# $
cmd
®® 
.
®® 
Dispose
®® #
(
®®# $
)
®®$ %
;
®®% &
if
©© 
(
©© 
exito
©© !
>=
©©" $
$num
©©% &
)
©©& '
{
™™ 
return
™™  
true
™™! %
;
™™% &
}
™™' (
else
´´ 
{
¨¨ 
return
¨¨  
false
¨¨! &
;
¨¨& '
}
¨¨( )
}
≠≠ 
}
ÆÆ 
}
ØØ 
catch
∞∞ 
(
∞∞ 
	Exception
∞∞ 
e
∞∞ 
)
∞∞ 
{
±± 
throw
±± 
e
±± 
=
±± 
new
±± 
	Exception
±± %
(
±±% &
e
±±& '
.
±±' (
Message
±±( /
)
±±/ 0
;
±±0 1
}
±±2 3
}
≤≤ 	
}
≥≥ 
}¥¥ íñ
dD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\TerceroAD\LiqxtercerosReciboAD.cs
	namespace"" 	
Dat""
 
."" 
Sql"" 
."" 
	ClinicaAD"" 
."" 
	TerceroAD"" %
{## 
public$$ 

class$$  
LiqxtercerosReciboAD$$ %
{%% 
private&& 
LiqxtercerosReciboE&& #
LlenarEntidad&&$ 1
(&&1 2
IDataReader&&2 =
dr&&> @
,&&@ A
LiqxtercerosReciboE'' 2 
pLiqxtercerosReciboE''3 G
)''G H
{(( 	
LiqxtercerosReciboE))  
oLiqxtercerosReciboE))  4
=))5 6
new))7 :
LiqxtercerosReciboE)); N
())N O
)))O P
;))P Q
switch** 
(**  
pLiqxtercerosReciboE** (
.**( )
Orden**) .
)**. /
{++ 
case,, 
$num,, 
:,,  
oLiqxtercerosReciboE-- (
.--( )#
IDLiqxtercerosReciboImg--) @
=--A B
Convert--C J
.--J K
ToInt32--K R
(--R S
dr--S U
[--U V
$str--V r
]--r s
)--s t
;--t u 
oLiqxtercerosReciboE.. (
...( )
CodLiqxterceros..) 8
=..9 :
Convert..; B
...B C
ToString..C K
(..K L
dr..L N
[..N O
$str..O a
]..a b
)..b c
;..c d 
oLiqxtercerosReciboE// (
.//( )
NmrLiquidacion//) 7
=//8 9
Convert//: A
.//A B
ToString//B J
(//J K
dr//K M
[//M N
$str//N _
]//_ `
)//` a
;//a b 
oLiqxtercerosReciboE00 (
.00( )
	CodMedico00) 2
=003 4
Convert005 <
.00< =
ToString00= E
(00E F
dr00F H
[00H I
$str00I U
]00U V
)00V W
;00W X 
oLiqxtercerosReciboE11 (
.11( )
Ruc11) ,
=11- .
Convert11/ 6
.116 7
ToString117 ?
(11? @
dr11@ B
[11B C
$str11C H
]11H I
)11I J
;11J K 
oLiqxtercerosReciboE22 (
.22( )
FchRegistro22) 4
=225 6
Convert227 >
.22> ?

ToDateTime22? I
(22I J
dr22J L
[22L M
$str22M [
]22[ \
)22\ ]
;22] ^ 
oLiqxtercerosReciboE33 (
.33( )
IDUsrRegistro33) 6
=337 8
Convert339 @
.33@ A
ToInt3233A H
(33H I
dr33I K
[33K L
$str33L ]
]33] ^
)33^ _
;33_ ` 
oLiqxtercerosReciboE44 (
.44( )
Estado44) /
=440 1
Convert442 9
.449 :
	ToBoolean44: C
(44C D
dr44D F
[44F G
$str44G O
]44O P
)44P Q
;44Q R 
oLiqxtercerosReciboE55 (
.55( ) 
IDLiqxtercerosRecibo55) =
=55> ?
Convert55@ G
.55G H
ToInt3255H O
(55O P
dr55P R
[55R S
$str55S k
]55k l
)55l m
;55m n
break66 
;66 
}77 
return99  
oLiqxtercerosReciboE99 '
;99' (
}:: 	
public<< 
List<< 
<<< 
LiqxtercerosReciboE<< '
><<' (*
Sp_LiqxtercerosRecibo_Consulta<<) G
(<<G H
LiqxtercerosReciboE<<H [ 
pLiqxtercerosReciboE<<\ p
)<<p q
{== 	
List>> 
<>> 
LiqxtercerosReciboE>> $
>>>$ %
oListar>>& -
=>>. /
new>>0 3
List>>4 8
<>>8 9
LiqxtercerosReciboE>>9 L
>>>L M
(>>M N
)>>N O
;>>O P
LiqxtercerosReciboE??  
oLiqxtercerosReciboE??  4
=??5 6
null??7 ;
;??; <
using@@ 
(@@ 
SqlConnection@@  
cnn@@! $
=@@% &
new@@' *
SqlConnection@@+ 8
(@@8 9
VariablesGlobales@@9 J
.@@J K

CnnClinica@@K U
)@@U V
)@@V W
{AA 
usingBB 
(BB 

SqlCommandBB !
cmdBB" %
=BB& '
newBB( +

SqlCommandBB, 6
(BB6 7
$strBB7 W
,BBW X
cnnBBY \
)BB\ ]
)BB] ^
{CC 
cmdDD 
.DD 
CommandTypeDD #
=DD$ %
SystemDD& ,
.DD, -
DataDD- 1
.DD1 2
CommandTypeDD2 =
.DD= >
StoredProcedureDD> M
;DDM N
cmdFF 
.FF 

ParametersFF "
.FF" #
AddWithValueFF# /
(FF/ 0
$strFF0 I
,FFI J 
pLiqxtercerosReciboEFFK _
.FF_ ` 
IDLiqxtercerosReciboFF` t
)FFt u
;FFu v
cmdGG 
.GG 

ParametersGG "
.GG" #
AddWithValueGG# /
(GG/ 0
$strGG0 8
,GG8 9 
pLiqxtercerosReciboEGG: N
.GGN O
OrdenGGO T
)GGT U
;GGU V
cnnHH 
.HH 
OpenHH 
(HH 
)HH 
;HH 
IDataReaderII 
drII  "
=II# $
cmdII% (
.II( )
ExecuteReaderII) 6
(II6 7
)II7 8
;II8 9
whileJJ 
(JJ 
drJJ 
.JJ 
ReadJJ "
(JJ" #
)JJ# $
)JJ$ %
{KK  
oLiqxtercerosReciboELL ,
=LL- .
LlenarEntidadLL/ <
(LL< =
drLL= ?
,LL? @ 
pLiqxtercerosReciboELLA U
)LLU V
;LLV W
oListarMM 
.MM  
AddMM  #
(MM# $ 
oLiqxtercerosReciboEMM$ 8
)MM8 9
;MM9 :
}NN 
drOO 
.OO 
CloseOO 
(OO 
)OO 
;OO 
cnnPP 
.PP 
ClosePP 
(PP 
)PP 
;PP  
}QQ 
}RR 
returnSS 
oListarSS 
;SS 
}TT 	
publicWW 
intWW (
Sp_LiqxtercerosRecibo_InsertWW /
(WW/ 0
LiqxtercerosReciboEWW0 C 
pLiqxtercerosReciboEWWD X
)WWX Y
{XX 	
tryYY 
{ZZ 
int[[ 
result[[ 
=[[ 
$num[[ 
;[[ 
using\\ 
(\\ 
SqlConnection\\ $
cnn\\% (
=\\) *
new\\+ .
SqlConnection\\/ <
(\\< =
VariablesGlobales\\= N
.\\N O

CnnClinica\\O Y
)\\Y Z
)\\Z [
{]] 
using^^ 
(^^ 

SqlCommand^^ %
cmd^^& )
=^^* +
new^^, /

SqlCommand^^0 :
(^^: ;
$str^^; Y
,^^Y Z
cnn^^[ ^
)^^^ _
)^^_ `
{__ 
cmd`` 
.`` 
CommandType`` '
=``( )
System``* 0
.``0 1
Data``1 5
.``5 6
CommandType``6 A
.``A B
StoredProcedure``B Q
;``Q R
cmdbb 
.bb 

Parametersbb &
.bb& '
AddWithValuebb' 3
(bb3 4
$strbb4 Q
,bbQ R 
pLiqxtercerosReciboEbbS g
.bbg h#
IDLiqxtercerosReciboImgbbh 
)	bb Ä
;
bbÄ Å
cmdcc 
.cc 

Parameterscc &
.cc& '
AddWithValuecc' 3
(cc3 4
$strcc4 G
,ccG H 
pLiqxtercerosReciboEccI ]
.cc] ^
CodLiqxterceroscc^ m
)ccm n
;ccn o
cmddd 
.dd 

Parametersdd &
.dd& '
AddWithValuedd' 3
(dd3 4
$strdd4 F
,ddF G 
pLiqxtercerosReciboEddH \
.dd\ ]
NmrLiquidaciondd] k
)ddk l
;ddl m
cmdee 
.ee 

Parametersee &
.ee& '
AddWithValueee' 3
(ee3 4
$stree4 A
,eeA B 
pLiqxtercerosReciboEeeC W
.eeW X
	CodMedicoeeX a
)eea b
;eeb c
cmdff 
.ff 

Parametersff &
.ff& '
AddWithValueff' 3
(ff3 4
$strff4 :
,ff: ; 
pLiqxtercerosReciboEff< P
.ffP Q
RucffQ T
)ffT U
;ffU V
cmdgg 
.gg 

Parametersgg &
.gg& '
AddWithValuegg' 3
(gg3 4
$strgg4 C
,ggC D 
pLiqxtercerosReciboEggE Y
.ggY Z
FchRegistroggZ e
)gge f
;ggf g
cmdhh 
.hh 

Parametershh &
.hh& '
AddWithValuehh' 3
(hh3 4
$strhh4 F
,hhF G 
pLiqxtercerosReciboEhhH \
.hh\ ]
IDUsrRegistrohh] j
)hhj k
;hhk l
cmdii 
.ii 

Parametersii &
.ii& '
AddWithValueii' 3
(ii3 4
$strii4 =
,ii= > 
pLiqxtercerosReciboEii? S
.iiS T
EstadoiiT Z
)iiZ [
;ii[ \
cmdjj 
.jj 

Parametersjj &
.jj& '
Addjj' *
(jj* +
VariablesGlobalesjj+ <
.jj< =
ParametroSqljj= I
(jjI J
$strjjJ c
,jjc d
ParameterDirectionjje w
.jjw x
InputOutput	jjx É
,
jjÉ Ñ
	SqlDbType
jjÖ é
.
jjé è
Int
jjè í
,
jjí ì
$num
jjî ï
,
jjï ñ"
pLiqxtercerosReciboE
jjó ´
.
jj´ ¨"
IDLiqxtercerosRecibo
jj¨ ¿
.
jj¿ ¡
ToString
jj¡ …
(
jj…  
)
jj  À
)
jjÀ Ã
)
jjÃ Õ
;
jjÕ Œ
cnnll 
.ll 
Openll  
(ll  !
)ll! "
;ll" #
intnn 
exitonn !
=nn" #
cmdnn$ '
.nn' (
ExecuteNonQuerynn( 7
(nn7 8
)nn8 9
;nn9 :
cnnoo 
.oo 
Closeoo !
(oo! "
)oo" #
;oo# $
cmdpp 
.pp 
Disposepp #
(pp# $
)pp$ %
;pp% &
ifqq 
(qq 
exitoqq !
>=qq" $
$numqq% &
)qq& '
{rr 
returnrr  
resultrr! '
=rr( )
Convertrr* 1
.rr1 2
ToInt32rr2 9
(rr9 :
cmdrr: =
.rr= >

Parametersrr> H
[rrH I
$strrrI b
]rrb c
.rrc d
Valuerrd i
)rri j
;rrj k
}rrl m
elsess 
{tt 
returntt  
resulttt! '
;tt' (
}tt) *
}uu 
}vv 
}ww 
catchxx 
(xx 
	Exceptionxx 
exx 
)xx 
{yy 
throwyy 
eyy 
=yy 
newyy 
	Exceptionyy %
(yy% &
eyy& '
.yy' (
Messageyy( /
)yy/ 0
;yy0 1
}yy2 3
}zz 	
public}} 
bool}} (
Sp_LiqxtercerosRecibo_Update}} 0
(}}0 1
LiqxtercerosReciboE}}1 D 
pLiqxtercerosReciboE}}E Y
)}}Y Z
{~~ 	
try 
{
ÄÄ 
using
ÅÅ 
(
ÅÅ 
SqlConnection
ÅÅ $
cnn
ÅÅ% (
=
ÅÅ) *
new
ÅÅ+ .
SqlConnection
ÅÅ/ <
(
ÅÅ< =
VariablesGlobales
ÅÅ= N
.
ÅÅN O

CnnClinica
ÅÅO Y
)
ÅÅY Z
)
ÅÅZ [
{
ÇÇ 
using
ÉÉ 
(
ÉÉ 

SqlCommand
ÉÉ %
cmd
ÉÉ& )
=
ÉÉ* +
new
ÉÉ, /

SqlCommand
ÉÉ0 :
(
ÉÉ: ;
$str
ÉÉ; Y
,
ÉÉY Z
cnn
ÉÉ[ ^
)
ÉÉ^ _
)
ÉÉ_ `
{
ÑÑ 
cmd
ÖÖ 
.
ÖÖ 
CommandType
ÖÖ '
=
ÖÖ( )
System
ÖÖ* 0
.
ÖÖ0 1
Data
ÖÖ1 5
.
ÖÖ5 6
CommandType
ÖÖ6 A
.
ÖÖA B
StoredProcedure
ÖÖB Q
;
ÖÖQ R
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 Q
,
ááQ R"
pLiqxtercerosReciboE
ááS g
.
áág h%
IDLiqxtercerosReciboImg
ááh 
)áá Ä
;ááÄ Å
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 G
,
ààG H"
pLiqxtercerosReciboE
ààI ]
.
àà] ^
CodLiqxterceros
àà^ m
)
ààm n
;
ààn o
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 F
,
ââF G"
pLiqxtercerosReciboE
ââH \
.
ââ\ ]
NmrLiquidacion
ââ] k
)
ââk l
;
ââl m
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 A
,
ääA B"
pLiqxtercerosReciboE
ääC W
.
ääW X
	CodMedico
ääX a
)
ääa b
;
ääb c
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 :
,
ãã: ;"
pLiqxtercerosReciboE
ãã< P
.
ããP Q
Ruc
ããQ T
)
ããT U
;
ããU V
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 C
,
ååC D"
pLiqxtercerosReciboE
ååE Y
.
ååY Z
FchRegistro
ååZ e
)
ååe f
;
ååf g
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 F
,
ççF G"
pLiqxtercerosReciboE
ççH \
.
çç\ ]
IDUsrRegistro
çç] j
)
ççj k
;
ççk l
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 =
,
éé= >"
pLiqxtercerosReciboE
éé? S
.
ééS T
Estado
ééT Z
)
ééZ [
;
éé[ \
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 M
,
èèM N"
pLiqxtercerosReciboE
èèO c
.
èèc d"
IDLiqxtercerosRecibo
èèd x
)
èèx y
;
èèy z
cnn
ëë 
.
ëë 
Open
ëë  
(
ëë  !
)
ëë! "
;
ëë" #
int
ìì 
exito
ìì !
=
ìì" #
cmd
ìì$ '
.
ìì' (
ExecuteNonQuery
ìì( 7
(
ìì7 8
)
ìì8 9
;
ìì9 :
cnn
îî 
.
îî 
Close
îî !
(
îî! "
)
îî" #
;
îî# $
cmd
ïï 
.
ïï 
Dispose
ïï #
(
ïï# $
)
ïï$ %
;
ïï% &
if
ññ 
(
ññ 
exito
ññ !
>=
ññ" $
$num
ññ% &
)
ññ& '
{
óó 
return
óó  
true
óó! %
;
óó% &
}
óó' (
else
òò 
{
ôô 
return
ôô  
false
ôô! &
;
ôô& '
}
ôô( )
}
öö 
}
õõ 
}
úú 
catch
ùù 
(
ùù 
	Exception
ùù 
e
ùù 
)
ùù 
{
ûû 
throw
ûû 
e
ûû 
=
ûû 
new
ûû 
	Exception
ûû %
(
ûû% &
e
ûû& '
.
ûû' (
Message
ûû( /
)
ûû/ 0
;
ûû0 1
}
ûû2 3
}
üü 	
public
°° 
bool
°° 0
"Sp_LiqxtercerosRecibo_UpdatexCampo
°° 6
(
°°6 7!
LiqxtercerosReciboE
°°7 J"
pLiqxtercerosReciboE
°°K _
)
°°_ `
{
¢¢ 	
try
££ 
{
§§ 
using
•• 
(
•• 
SqlConnection
•• $
cnn
••% (
=
••) *
new
••+ .
SqlConnection
••/ <
(
••< =
VariablesGlobales
••= N
.
••N O

CnnClinica
••O Y
)
••Y Z
)
••Z [
{
¶¶ 
using
ßß 
(
ßß 

SqlCommand
ßß %
cmd
ßß& )
=
ßß* +
new
ßß, /

SqlCommand
ßß0 :
(
ßß: ;
$str
ßß; _
,
ßß_ `
cnn
ßßa d
)
ßßd e
)
ßße f
{
®® 
cmd
©© 
.
©© 
CommandType
©© '
=
©©( )
System
©©* 0
.
©©0 1
Data
©©1 5
.
©©5 6
CommandType
©©6 A
.
©©A B
StoredProcedure
©©B Q
;
©©Q R
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 M
,
´´M N"
pLiqxtercerosReciboE
´´O c
.
´´c d"
IDLiqxtercerosRecibo
´´d x
)
´´x y
;
´´y z
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ &
.
¨¨& '
AddWithValue
¨¨' 3
(
¨¨3 4
$str
¨¨4 B
,
¨¨B C"
pLiqxtercerosReciboE
¨¨D X
.
¨¨X Y

NuevoValor
¨¨Y c
)
¨¨c d
;
¨¨d e
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ &
.
≠≠& '
AddWithValue
≠≠' 3
(
≠≠3 4
$str
≠≠4 <
,
≠≠< ="
pLiqxtercerosReciboE
≠≠> R
.
≠≠R S
Campo
≠≠S X
)
≠≠X Y
;
≠≠Y Z
cnn
ØØ 
.
ØØ 
Open
ØØ  
(
ØØ  !
)
ØØ! "
;
ØØ" #
int
±± 
exito
±± !
=
±±" #
cmd
±±$ '
.
±±' (
ExecuteNonQuery
±±( 7
(
±±7 8
)
±±8 9
;
±±9 :
cnn
≤≤ 
.
≤≤ 
Close
≤≤ !
(
≤≤! "
)
≤≤" #
;
≤≤# $
cmd
≥≥ 
.
≥≥ 
Dispose
≥≥ #
(
≥≥# $
)
≥≥$ %
;
≥≥% &
if
¥¥ 
(
¥¥ 
exito
¥¥ !
>=
¥¥" $
$num
¥¥% &
)
¥¥& '
{
µµ 
return
µµ  
true
µµ! %
;
µµ% &
}
µµ' (
else
∂∂ 
{
∑∑ 
return
∑∑  
false
∑∑! &
;
∑∑& '
}
∑∑( )
}
∏∏ 
}
ππ 
}
∫∫ 
catch
ªª 
(
ªª 
	Exception
ªª 
e
ªª 
)
ªª 
{
ºº 
throw
ºº 
e
ºº 
=
ºº 
new
ºº 
	Exception
ºº %
(
ºº% &
e
ºº& '
.
ºº' (
Message
ºº( /
)
ºº/ 0
;
ºº0 1
}
ºº2 3
}
ΩΩ 	
}
ææ 
}øø ‡§
^D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\TerceroAD\LiqxtercerosAD.cs
	namespace"" 	
Dat""
 
."" 
Sql"" 
."" 
	ClinicaAD"" 
."" 
	TerceroAD"" %
{## 
public$$ 

class$$ 
LiqxtercerosAD$$ 
{%% 
private&& 
LiqxtercerosE&& 
LlenarEntidad&& +
(&&+ ,
IDataReader&&, 7
dr&&8 :
,&&: ;
LiqxtercerosE&&< I
pLiqxtercerosE&&J X
)&&X Y
{'' 	
LiqxtercerosE)) 
oLiqxtercerosE)) (
=))) *
new))+ .
LiqxtercerosE))/ <
())< =
)))= >
;))> ?
switch++ 
(++ 
pLiqxtercerosE++ "
.++" #
Orden++# (
)++( )
{,, 
case-- 
$num-- 
:-- 
oLiqxtercerosE.. "
..." #
Codliqxterceros..# 2
=..3 4
Convert..5 <
...< =
ToString..= E
(..E F
dr..F H
[..H I
$str..I Z
]..Z [
)..[ \
;..\ ]
oLiqxtercerosE// "
.//" #
Numeroliquidacion//# 4
=//5 6
Convert//7 >
.//> ?
ToString//? G
(//G H
dr//H J
[//J K
$str//K ^
]//^ _
)//_ `
;//` a
oLiqxtercerosE00 "
.00" #
	Codmedico00# ,
=00- .
Convert00/ 6
.006 7
ToString007 ?
(00? @
dr00@ B
[00B C
$str00C N
]00N O
)00O P
;00P Q
oLiqxtercerosE11 "
.11" #
Fechacancela11# /
=110 1
Convert112 9
.119 :
ToString11: B
(11B C
dr11C E
[11E F
$str11F T
]11T U
)11U V
;11V W
oLiqxtercerosE22 "
.22" #

Codentidad22# -
=22. /
Convert220 7
.227 8
ToString228 @
(22@ A
dr22A C
[22C D
$str22D P
]22P Q
)22Q R
;22R S
oLiqxtercerosE33 "
.33" #
Tipopago33# +
=33, -
Convert33. 5
.335 6
ToString336 >
(33> ?
dr33? A
[33A B
$str33B L
]33L M
)33M N
;33N O
oLiqxtercerosE44 "
.44" #
Numeroentidad44# 0
=441 2
Convert443 :
.44: ;
ToString44; C
(44C D
dr44D F
[44F G
$str44G V
]44V W
)44W X
;44X Y
oLiqxtercerosE55 "
.55" #
	Documento55# ,
=55- .
Convert55/ 6
.556 7
ToString557 ?
(55? @
dr55@ B
[55B C
$str55C N
]55N O
)55O P
;55P Q
oLiqxtercerosE66 "
.66" #
Ruc66# &
=66' (
Convert66) 0
.660 1
ToString661 9
(669 :
dr66: <
[66< =
$str66= B
]66B C
)66C D
;66D E
oLiqxtercerosE77 "
.77" #
Estado77# )
=77* +
Convert77, 3
.773 4
ToString774 <
(77< =
dr77= ?
[77? @
$str77@ H
]77H I
)77I J
;77J K
oLiqxtercerosE88 "
.88" #
Voucher88# *
=88+ ,
Convert88- 4
.884 5
ToString885 =
(88= >
dr88> @
[88@ A
$str88A J
]88J K
)88K L
;88L M
oLiqxtercerosE99 "
.99" #
Monto99# (
=99) *
Convert99+ 2
.992 3
	ToDecimal993 <
(99< =
dr99= ?
[99? @
$str99@ G
]99G H
)99H I
;99I J
oLiqxtercerosE:: "
.::" #
Montoclinica::# /
=::0 1
Convert::2 9
.::9 :
	ToDecimal::: C
(::C D
dr::D F
[::F G
$str::G U
]::U V
)::V W
;::W X
oLiqxtercerosE;; "
.;;" #
Montoretencion1;;# 2
=;;3 4
Convert;;5 <
.;;< =
	ToDecimal;;= F
(;;F G
dr;;G I
[;;I J
$str;;J [
];;[ \
);;\ ]
;;;] ^
oLiqxtercerosE<< "
.<<" #
Montoretencion2<<# 2
=<<3 4
Convert<<5 <
.<<< =
	ToDecimal<<= F
(<<F G
dr<<G I
[<<I J
$str<<J [
]<<[ \
)<<\ ]
;<<] ^
oLiqxtercerosE== "
.==" #
Montoimpuestoigv==# 3
===4 5
Convert==6 =
.=== >
	ToDecimal==> G
(==G H
dr==H J
[==J K
$str==K ]
]==] ^
)==^ _
;==_ `
oLiqxtercerosE>> "
.>>" #
Montoprontopago>># 2
=>>3 4
Convert>>5 <
.>>< =
	ToDecimal>>= F
(>>F G
dr>>G I
[>>I J
$str>>J [
]>>[ \
)>>\ ]
;>>] ^
oLiqxtercerosE?? "
.??" #
	Montoneto??# ,
=??- .
Convert??/ 6
.??6 7
	ToDecimal??7 @
(??@ A
dr??A C
[??C D
$str??D O
]??O P
)??P Q
;??Q R
oLiqxtercerosE@@ "
.@@" #
	Idasiento@@# ,
=@@- .
Convert@@/ 6
.@@6 7
ToString@@7 ?
(@@? @
dr@@@ B
[@@B C
$str@@C N
]@@N O
)@@O P
;@@P Q
oLiqxtercerosEAA "
.AA" #
TipodocemiteAA# /
=AA0 1
ConvertAA2 9
.AA9 :
ToStringAA: B
(AAB C
drAAC E
[AAE F
$strAAF T
]AAT U
)AAU V
;AAV W
oLiqxtercerosEBB "
.BB" #
	EstReciboBB# ,
=BB- .
ConvertBB/ 6
.BB6 7
ToStringBB7 ?
(BB? @
drBB@ B
[BBB C
$strBBC O
]BBO P
)BBP Q
;BBQ R
oLiqxtercerosECC "
.CC" #
FlgEnviosapCC# .
=CC/ 0
ConvertCC1 8
.CC8 9
	ToBooleanCC9 B
(CCB C
drCCC E
[CCE F
$strCCF T
]CCT U
)CCU V
;CCV W
oLiqxtercerosEDD "
.DD" #
FecEnviosapDD# .
=DD/ 0
ConvertDD1 8
.DD8 9
ToStringDD9 A
(DDA B
drDDB D
[DDD E
$strDDE S
]DDS T
)DDT U
;DDU V
oLiqxtercerosEEE "
.EE" #
IdeDocentrysapEE# 1
=EE2 3
ConvertEE4 ;
.EE; <
ToInt32EE< C
(EEC D
drEED F
[EEF G
$strEEG X
]EEX Y
)EEY Z
;EEZ [
oLiqxtercerosEFF "
.FF" #
FecDocentrysapFF# 1
=FF2 3
ConvertFF4 ;
.FF; <
ToStringFF< D
(FFD E
drFFE G
[FFG H
$strFFH Y
]FFY Z
)FFZ [
;FF[ \
oLiqxtercerosEGG "
.GG" #
IdeTablaintersapGG# 3
=GG4 5
ConvertGG6 =
.GG= >
ToInt32GG> E
(GGE F
drGGF H
[GGH I
$strGGI \
]GG\ ]
)GG] ^
;GG^ _
oLiqxtercerosEHH "
.HH" #
Tiporetencion1HH# 1
=HH2 3
ConvertHH4 ;
.HH; <
ToStringHH< D
(HHD E
drHHE G
[HHG H
$strHHH X
]HHX Y
)HHY Z
;HHZ [
oLiqxtercerosEII "
.II" #
Tiporetencion2II# 1
=II2 3
ConvertII4 ;
.II; <
ToStringII< D
(IID E
drIIE G
[IIG H
$strIIH X
]IIX Y
)IIY Z
;IIZ [
oLiqxtercerosEJJ "
.JJ" #
FlgValidacionSicJJ# 3
=JJ4 5
ConvertJJ6 =
.JJ= >
	ToBooleanJJ> G
(JJG H
drJJH J
[JJJ K
$strJJK _
]JJ_ `
)JJ` a
;JJa b
breakKK 
;KK 
caseLL 
$numLL 
:LL 
oLiqxtercerosEMM "
.MM" #
	CodmedicoMM# ,
=MM- .
ConvertMM/ 6
.MM6 7
ToStringMM7 ?
(MM? @
drMM@ B
[MMB C
$strMMC N
]MMN O
)MMO P
;MMP Q
oLiqxtercerosENN "
.NN" #
NombreMedicoNN# /
=NN0 1
ConvertNN2 9
.NN9 :
ToStringNN: B
(NNB C
drNNC E
[NNE F
$strNNF O
]NNO P
)NNP Q
;NNQ R
oLiqxtercerosEOO "
.OO" #
	RUCMedicoOO# ,
=OO- .
ConvertOO/ 6
.OO6 7
ToStringOO7 ?
(OO? @
drOO@ B
[OOB C
$strOOC H
]OOH I
)OOI J
;OOJ K
oLiqxtercerosEPP "
.PP" #
	DocMedicoPP# ,
=PP- .
ConvertPP/ 6
.PP6 7
ToStringPP7 ?
(PP? @
drPP@ B
[PPB C
$strPPC Q
]PPQ R
)PPR S
;PPS T
oLiqxtercerosEQQ "
.QQ" #
	ColMedicoQQ# ,
=QQ- .
ConvertQQ/ 6
.QQ6 7
ToStringQQ7 ?
(QQ? @
drQQ@ B
[QQB C
$strQQC N
]QQN O
)QQO P
;QQP Q
oLiqxtercerosERR "
.RR" #
EstadoRR# )
=RR* +
ConvertRR, 3
.RR3 4
ToStringRR4 <
(RR< =
drRR= ?
[RR? @
$strRR@ H
]RRH I
)RRI J
;RRJ K
oLiqxtercerosESS "
.SS" #
NumeroliquidacionSS# 4
=SS5 6
ConvertSS7 >
.SS> ?
ToStringSS? G
(SSG H
drSSH J
[SSJ K
$strSSK ^
]SS^ _
)SS_ `
;SS` a
oLiqxtercerosETT "
.TT" #
MontoTT# (
=TT) *
ConvertTT+ 2
.TT2 3
	ToDecimalTT3 <
(TT< =
drTT= ?
[TT? @
$strTT@ G
]TTG H
)TTH I
;TTI J
oLiqxtercerosEUU "
.UU" #
Montoretencion1UU# 2
=UU3 4
ConvertUU5 <
.UU< =
	ToDecimalUU= F
(UUF G
drUUG I
[UUI J
$strUUJ [
]UU[ \
)UU\ ]
;UU] ^
oLiqxtercerosEVV "
.VV" #
Montoretencion2VV# 2
=VV3 4
ConvertVV5 <
.VV< =
	ToDecimalVV= F
(VVF G
drVVG I
[VVI J
$strVVJ [
]VV[ \
)VV\ ]
;VV] ^
oLiqxtercerosEWW "
.WW" #
MontoprontopagoWW# 2
=WW3 4
ConvertWW5 <
.WW< =
	ToDecimalWW= F
(WWF G
drWWG I
[WWI J
$strWWJ [
]WW[ \
)WW\ ]
;WW] ^
oLiqxtercerosEXX "
.XX" #
FechacancelaXX# /
=XX0 1
ConvertXX2 9
.XX9 :
ToStringXX: B
(XXB C
drXXC E
[XXE F
$strXXF Q
]XXQ R
)XXR S
;XXS T
oLiqxtercerosEYY "
.YY" #
CodliqxtercerosYY# 2
=YY3 4
ConvertYY5 <
.YY< =
ToStringYY= E
(YYE F
drYYF H
[YYH I
$strYYI Z
]YYZ [
)YY[ \
;YY\ ]
oLiqxtercerosEZZ "
.ZZ" #
FechaGeneraZZ# .
=ZZ/ 0
ConvertZZ1 8
.ZZ8 9
ToStringZZ9 A
(ZZA B
drZZB D
[ZZD E
$strZZE R
]ZZR S
)ZZS T
;ZZT U
oLiqxtercerosE[[ "
.[[" #

MontoTotal[[# -
=[[. /
Convert[[0 7
.[[7 8
	ToDecimal[[8 A
([[A B
dr[[B D
[[[D E
$str[[E Q
][[Q R
)[[R S
;[[S T
oLiqxtercerosE\\ "
.\\" #
	Documento\\# ,
=\\- .
Convert\\/ 6
.\\6 7
ToString\\7 ?
(\\? @
dr\\@ B
[\\B C
$str\\C N
]\\N O
)\\O P
;\\P Q
oLiqxtercerosE]] "
.]]" #
FechaInicio]]# .
=]]/ 0
Convert]]1 8
.]]8 9
ToString]]9 A
(]]A B
dr]]B D
[]]D E
$str]]E R
]]]R S
)]]S T
;]]T U
oLiqxtercerosE^^ "
.^^" #
FechaFin^^# +
=^^, -
Convert^^. 5
.^^5 6
ToString^^6 >
(^^> ?
dr^^? A
[^^A B
$str^^B L
]^^L M
)^^M N
;^^N O
break__ 
;__ 
}`` 
returnaa 
oLiqxtercerosEaa !
;aa! "
}bb 	
publiccc 
Listcc 
<cc 
LiqxtercerosEcc !
>cc! "$
Sp_Liqxterceros_Consultacc# ;
(cc; <
LiqxtercerosEcc< I
pLiqxtercerosEccJ X
)ccX Y
{dd 	
Listee 
<ee 
LiqxtercerosEee 
>ee 
oListaree  '
=ee( )
newee* -
Listee. 2
<ee2 3
LiqxtercerosEee3 @
>ee@ A
(eeA B
)eeB C
;eeC D
LiqxtercerosEff 
oLiqxtercerosEff (
=ff) *
nullff+ /
;ff/ 0
usinggg 
(gg 
SqlConnectiongg  
cnngg! $
=gg% &
newgg' *
SqlConnectiongg+ 8
(gg8 9
VariablesGlobalesgg9 J
.ggJ K

CnnClinicaggK U
)ggU V
)ggV W
{hh 
usingii 
(ii 

SqlCommandii !
cmdii" %
=ii& '
newii( +

SqlCommandii, 6
(ii6 7
$strii7 T
,iiT U
cnniiV Y
)iiY Z
)iiZ [
{jj 
cmdkk 
.kk 
CommandTypekk #
=kk$ %
Systemkk& ,
.kk, -
Datakk- 1
.kk1 2
CommandTypekk2 =
.kk= >
StoredProcedurekk> M
;kkM N
cmdmm 
.mm 

Parametersmm "
.mm" #
AddWithValuemm# /
(mm/ 0
$strmm0 9
,mm9 :
pLiqxtercerosEmm; I
.mmI J
BuscarmmJ P
)mmP Q
;mmQ R
cmdnn 
.nn 

Parametersnn "
.nn" #
AddWithValuenn# /
(nn/ 0
$strnn0 <
,nn< =
pLiqxtercerosEnn> L
.nnL M
	CodmediconnM V
)nnV W
;nnW X
cmdoo 
.oo 

Parametersoo "
.oo" #
AddWithValueoo# /
(oo/ 0
$stroo0 D
,ooD E
pLiqxtercerosEooF T
.ooT U
NumeroliquidacionooU f
)oof g
;oog h
cmdpp 
.pp 

Parameterspp "
.pp" #
AddWithValuepp# /
(pp/ 0
$strpp0 9
,pp9 :
pLiqxtercerosEpp; I
.ppI J
EstadoppJ P
)ppP Q
;ppQ R
cmdqq 
.qq 

Parametersqq "
.qq" #
AddWithValueqq# /
(qq/ 0
$strqq0 ?
,qq? @
pLiqxtercerosEqqA O
.qqO P
NumeroLineasqqP \
)qq\ ]
;qq] ^
cmdrr 
.rr 

Parametersrr "
.rr" #
AddWithValuerr# /
(rr/ 0
$strrr0 8
,rr8 9
pLiqxtercerosErr: H
.rrH I
OrdenrrI N
)rrN O
;rrO P
cnnss 
.ss 
Openss 
(ss 
)ss 
;ss 
IDataReadertt 
drtt  "
=tt# $
cmdtt% (
.tt( )
ExecuteReadertt) 6
(tt6 7
)tt7 8
;tt8 9
whileuu 
(uu 
druu 
.uu 
Readuu "
(uu" #
)uu# $
)uu$ %
{vv 
oLiqxtercerosEww &
=ww' (
LlenarEntidadww) 6
(ww6 7
drww7 9
,ww9 :
pLiqxtercerosEww; I
)wwI J
;wwJ K
oListarxx 
.xx  
Addxx  #
(xx# $
oLiqxtercerosExx$ 2
)xx2 3
;xx3 4
}yy 
drzz 
.zz 
Closezz 
(zz 
)zz 
;zz 
cnn{{ 
.{{ 
Close{{ 
({{ 
){{ 
;{{  
}|| 
}}} 
return~~ 
oListar~~ 
;~~ 
} 	
public
ÄÄ 
bool
ÄÄ *
Sp_Liqxterceros_UpdatexCampo
ÄÄ 0
(
ÄÄ0 1
LiqxtercerosE
ÄÄ1 >
pLiqxtercerosE
ÄÄ? M
)
ÄÄM N
{
ÅÅ 	
try
ÇÇ 
{
ÉÉ 
using
ÑÑ 
(
ÑÑ 
SqlConnection
ÑÑ $
cnn
ÑÑ% (
=
ÑÑ) *
new
ÑÑ+ .
SqlConnection
ÑÑ/ <
(
ÑÑ< =
VariablesGlobales
ÑÑ= N
.
ÑÑN O

CnnClinica
ÑÑO Y
)
ÑÑY Z
)
ÑÑZ [
{
ÖÖ 
using
ÜÜ 
(
ÜÜ 

SqlCommand
ÜÜ %
cmd
ÜÜ& )
=
ÜÜ* +
new
ÜÜ, /

SqlCommand
ÜÜ0 :
(
ÜÜ: ;
$str
ÜÜ; Y
,
ÜÜY Z
cnn
ÜÜ[ ^
)
ÜÜ^ _
)
ÜÜ_ `
{
áá 
cmd
àà 
.
àà 
CommandType
àà '
=
àà( )
System
àà* 0
.
àà0 1
Data
àà1 5
.
àà5 6
CommandType
àà6 A
.
ààA B
StoredProcedure
ààB Q
;
ààQ R
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 F
,
ääF G
pLiqxtercerosE
ääH V
.
ääV W
Codliqxterceros
ääW f
)
ääf g
;
ääg h
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 H
,
ããH I
pLiqxtercerosE
ããJ X
.
ããX Y
Numeroliquidacion
ããY j
)
ããj k
;
ããk l
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 B
,
ååB C
pLiqxtercerosE
ååD R
.
ååR S

NuevoValor
ååS ]
)
åå] ^
;
åå^ _
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 <
,
çç< =
pLiqxtercerosE
çç> L
.
ççL M
Campo
ççM R
)
ççR S
;
ççS T
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
Add
éé' *
(
éé* +
VariablesGlobales
éé+ <
.
éé< =
ParametroSql
éé= I
(
ééI J
$str
ééJ S
,
ééS T 
ParameterDirection
ééU g
.
éég h
InputOutput
ééh s
,
éés t
	SqlDbType
ééu ~
.
éé~ 
Intéé Ç
,ééÇ É
$numééÑ Ö
,ééÖ Ü
pLiqxtercerosEééá ï
.ééï ñ
	RptStatusééñ ü
.ééü †
ToStringéé† ®
(éé® ©
)éé© ™
)éé™ ´
)éé´ ¨
;éé¨ ≠
cnn
èè 
.
èè 
Open
èè  
(
èè  !
)
èè! "
;
èè" #
int
êê 
exito
êê !
=
êê" #
cmd
êê$ '
.
êê' (
ExecuteNonQuery
êê( 7
(
êê7 8
)
êê8 9
;
êê9 :
pLiqxtercerosE
ëë &
.
ëë& '
	RptStatus
ëë' 0
=
ëë1 2
(
ëë3 4
int
ëë4 7
)
ëë7 8
cmd
ëë8 ;
.
ëë; <

Parameters
ëë< F
[
ëëF G
$str
ëëG P
]
ëëP Q
.
ëëQ R
Value
ëëR W
;
ëëW X
cnn
íí 
.
íí 
Close
íí !
(
íí! "
)
íí" #
;
íí# $
cmd
ìì 
.
ìì 
Dispose
ìì #
(
ìì# $
)
ìì$ %
;
ìì% &
if
îî 
(
îî 
pLiqxtercerosE
îî *
.
îî* +
	RptStatus
îî+ 4
>=
îî5 7
$num
îî8 9
)
îî9 :
{
ïï 
return
ïï  
true
ïï! %
;
ïï% &
}
ïï' (
else
ññ 
{
óó 
return
óó  
false
óó! &
;
óó& '
}
óó( )
}
òò 
}
ôô 
}
öö 
catch
õõ 
(
õõ 
	Exception
õõ 
e
õõ 
)
õõ 
{
úú 
throw
úú 
e
úú 
=
úú 
new
úú 
	Exception
úú %
(
úú% &
e
úú& '
.
úú' (
Message
úú( /
)
úú/ 0
;
úú0 1
}
úú2 3
}
ùù 	
}
ûû 
}üü î∆
dD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\TerceroAD\DetalleliquidacionAD.cs
	namespace$$ 	
Dat$$
 
.$$ 
Sql$$ 
.$$ 
	ClinicaAD$$ 
.$$ 
	TerceroAD$$ %
{%% 
public&& 

class&&  
DetalleliquidacionAD&& %
{'' 
private(( 
DetalleliquidacionE(( #
LlenarEntidad(($ 1
(((1 2
IDataReader((2 =
dr((> @
,((@ A
DetalleliquidacionE))' : 
pDetalleliquidacionE)); O
)))O P
{** 	
DetalleliquidacionE++  
oDetalleliquidacionE++  4
=++5 6
new++7 :
DetalleliquidacionE++; N
(++N O
)++O P
;++P Q
switch,, 
(,,  
pDetalleliquidacionE,, (
.,,( )
Orden,,) .
),,. /
{-- 
case.. 
$num.. 
:..  
oDetalleliquidacionE// (
.//( )

Coddetalle//) 3
=//4 5
Convert//6 =
.//= >
ToString//> F
(//F G
dr//G I
[//I J
$str//J V
]//V W
)//W X
;//X Y 
oDetalleliquidacionE00 (
.00( )
Codliqxterceros00) 8
=009 :
Convert00; B
.00B C
ToString00C K
(00K L
dr00L N
[00N O
$str00O `
]00` a
)00a b
;00b c 
oDetalleliquidacionE11 (
.11( )
Numeroliquidacion11) :
=11; <
Convert11= D
.11D E
ToString11E M
(11M N
dr11N P
[11P Q
$str11Q d
]11d e
)11e f
;11f g 
oDetalleliquidacionE22 (
.22( )
Codpresotor22) 4
=225 6
Convert227 >
.22> ?
ToString22? G
(22G H
dr22H J
[22J K
$str22K X
]22X Y
)22Y Z
;22Z [ 
oDetalleliquidacionE33 (
.33( )
Codprestacion33) 6
=337 8
Convert339 @
.33@ A
ToString33A I
(33I J
dr33J L
[33L M
$str33M \
]33\ ]
)33] ^
;33^ _ 
oDetalleliquidacionE44 (
.44( )
Fechahoraatencion44) :
=44; <
Convert44= D
.44D E
ToString44E M
(44M N
dr44N P
[44P Q
$str44Q d
]44d e
)44e f
;44f g 
oDetalleliquidacionE55 (
.55( )
Fechafin55) 1
=552 3
Convert554 ;
.55; <
ToString55< D
(55D E
dr55E G
[55G H
$str55H R
]55R S
)55S T
;55T U 
oDetalleliquidacionE66 (
.66( )
	Documento66) 2
=663 4
Convert665 <
.66< =
ToString66= E
(66E F
dr66F H
[66H I
$str66I T
]66T U
)66U V
;66V W 
oDetalleliquidacionE77 (
.77( )

Tipomedico77) 3
=774 5
Convert776 =
.77= >
ToString77> F
(77F G
dr77G I
[77I J
$str77J V
]77V W
)77W X
;77X Y 
oDetalleliquidacionE88 (
.88( )
Codpaciente88) 4
=885 6
Convert887 >
.88> ?
ToString88? G
(88G H
dr88H J
[88J K
$str88K X
]88X Y
)88Y Z
;88Z [ 
oDetalleliquidacionE99 (
.99( )
Codcomprobante99) 7
=998 9
Convert99: A
.99A B
ToString99B J
(99J K
dr99K M
[99M N
$str99N ^
]99^ _
)99_ `
;99` a 
oDetalleliquidacionE:: (
.::( )
Monto::) .
=::/ 0
Convert::1 8
.::8 9
	ToDecimal::9 B
(::B C
dr::C E
[::E F
$str::F M
]::M N
)::N O
;::O P 
oDetalleliquidacionE;; (
.;;( )
Montocorregido;;) 7
=;;8 9
Convert;;: A
.;;A B
	ToDecimal;;B K
(;;K L
dr;;L N
[;;N O
$str;;O _
];;_ `
);;` a
;;;a b 
oDetalleliquidacionE<< (
.<<( )
	Retencion<<) 2
=<<3 4
Convert<<5 <
.<<< =
	ToDecimal<<= F
(<<F G
dr<<G I
[<<I J
$str<<J U
]<<U V
)<<V W
;<<W X 
oDetalleliquidacionE== (
.==( )
Montoretencion==) 7
===8 9
Convert==: A
.==A B
	ToDecimal==B K
(==K L
dr==L N
[==N O
$str==O _
]==_ `
)==` a
;==a b 
oDetalleliquidacionE>> (
.>>( )

Retencion1>>) 3
=>>4 5
Convert>>6 =
.>>= >
	ToDecimal>>> G
(>>G H
dr>>H J
[>>J K
$str>>K W
]>>W X
)>>X Y
;>>Y Z 
oDetalleliquidacionE?? (
.??( )
Montoretencion1??) 8
=??9 :
Convert??; B
.??B C
	ToDecimal??C L
(??L M
dr??M O
[??O P
$str??P a
]??a b
)??b c
;??c d 
oDetalleliquidacionE@@ (
.@@( )

Retencion2@@) 3
=@@4 5
Convert@@6 =
.@@= >
	ToDecimal@@> G
(@@G H
dr@@H J
[@@J K
$str@@K W
]@@W X
)@@X Y
;@@Y Z 
oDetalleliquidacionEAA (
.AA( )
Montoretencion2AA) 8
=AA9 :
ConvertAA; B
.AAB C
	ToDecimalAAC L
(AAL M
drAAM O
[AAO P
$strAAP a
]AAa b
)AAb c
;AAc d 
oDetalleliquidacionEBB (
.BB( )
ImpuestoigvBB) 4
=BB5 6
ConvertBB7 >
.BB> ?
	ToDecimalBB? H
(BBH I
drBBI K
[BBK L
$strBBL Y
]BBY Z
)BBZ [
;BB[ \ 
oDetalleliquidacionECC (
.CC( )
MontoimpuestoigvCC) 9
=CC: ;
ConvertCC< C
.CCC D
	ToDecimalCCD M
(CCM N
drCCN P
[CCP Q
$strCCQ c
]CCc d
)CCd e
;CCe f 
oDetalleliquidacionEDD (
.DD( )
RetencionppagoDD) 7
=DD8 9
ConvertDD: A
.DDA B
	ToDecimalDDB K
(DDK L
drDDL N
[DDN O
$strDDO _
]DD_ `
)DD` a
;DDa b 
oDetalleliquidacionEEE (
.EE( )
MontoprontopagoEE) 8
=EE9 :
ConvertEE; B
.EEB C
	ToDecimalEEC L
(EEL M
drEEM O
[EEO P
$strEEP a
]EEa b
)EEb c
;EEc d 
oDetalleliquidacionEFF (
.FF( )
FlagciaFF) 0
=FF1 2
ConvertFF3 :
.FF: ;
ToStringFF; C
(FFC D
drFFD F
[FFF G
$strFFG P
]FFP Q
)FFQ R
;FFR S 
oDetalleliquidacionEGG (
.GG( )
EstadoGG) /
=GG0 1
ConvertGG2 9
.GG9 :
ToStringGG: B
(GGB C
drGGC E
[GGE F
$strGGF N
]GGN O
)GGO P
;GGP Q 
oDetalleliquidacionEHH (
.HH( )
CodliquidacionHH) 7
=HH8 9
ConvertHH: A
.HHA B
ToStringHHB J
(HHJ K
drHHK M
[HHM N
$strHHN ^
]HH^ _
)HH_ `
;HH` a 
oDetalleliquidacionEII (
.II( )$
FechageneradaliquidacionII) A
=IIB C
ConvertIID K
.IIK L
ToStringIIL T
(IIT U
drIIU W
[IIW X
$strIIX r
]IIr s
)IIs t
;IIt u 
oDetalleliquidacionEJJ (
.JJ( )
ReciboxhonorariosJJ) :
=JJ; <
ConvertJJ= D
.JJD E
ToStringJJE M
(JJM N
drJJN P
[JJP Q
$strJJQ d
]JJd e
)JJe f
;JJf g 
oDetalleliquidacionEKK (
.KK( )
Tiporetencion1KK) 7
=KK8 9
ConvertKK: A
.KKA B
ToStringKKB J
(KKJ K
drKKK M
[KKM N
$strKKN ^
]KK^ _
)KK_ `
;KK` a 
oDetalleliquidacionELL (
.LL( )
Tiporetencion2LL) 7
=LL8 9
ConvertLL: A
.LLA B
ToStringLLB J
(LLJ K
drLLK M
[LLM N
$strLLN ^
]LL^ _
)LL_ `
;LL` a 
oDetalleliquidacionEMM (
.MM( )
CostoMM) .
=MM/ 0
ConvertMM1 8
.MM8 9
	ToDecimalMM9 B
(MMB C
drMMC E
[MME F
$strMMF M
]MMM N
)MMN O
;MMO P
breakNN 
;NN 
caseOO 
$numOO 
:OO  
oDetalleliquidacionEPP (
.PP( )
CodliqxtercerosPP) 8
=PP9 :
ConvertPP; B
.PPB C
ToStringPPC K
(PPK L
drPPL N
[PPN O
$strPPO `
]PP` a
)PPa b
;PPb c 
oDetalleliquidacionEQQ (
.QQ( )
NumeroliquidacionQQ) :
=QQ; <
ConvertQQ= D
.QQD E
ToStringQQE M
(QQM N
drQQN P
[QQP Q
$strQQQ d
]QQd e
)QQe f
;QQf g 
oDetalleliquidacionERR (
.RR( )
CodatencionRR) 4
=RR5 6
ConvertRR7 >
.RR> ?
ToStringRR? G
(RRG H
drRRH J
[RRJ K
$strRRK X
]RRX Y
)RRY Z
;RRZ [ 
oDetalleliquidacionESS (
.SS( )
NombPacienteSS) 5
=SS6 7
ConvertSS8 ?
.SS? @
ToStringSS@ H
(SSH I
drSSI K
[SSK L
$strSSL Z
]SSZ [
)SS[ \
;SS\ ] 
oDetalleliquidacionETT (
.TT( )
DscPrestacionTT) 6
=TT7 8
ConvertTT9 @
.TT@ A
ToStringTTA I
(TTI J
drTTJ L
[TTL M
$strTTM \
]TT\ ]
)TT] ^
;TT^ _ 
oDetalleliquidacionEUU (
.UU( )
FechahoraatencionUU) :
=UU; <
ConvertUU= D
.UUD E
ToStringUUE M
(UUM N
drUUN P
[UUP Q
$strUUQ d
]UUd e
)UUe f
;UUf g 
oDetalleliquidacionEVV (
.VV( )
MontoVV) .
=VV/ 0
ConvertVV1 8
.VV8 9
	ToDecimalVV9 B
(VVB C
drVVC E
[VVE F
$strVVF M
]VVM N
)VVN O
;VVO P 
oDetalleliquidacionEWW (
.WW( )
MontocorregidoWW) 7
=WW8 9
ConvertWW: A
.WWA B
	ToDecimalWWB K
(WWK L
drWWL N
[WWN O
$strWWO _
]WW_ `
)WW` a
;WWa b 
oDetalleliquidacionEXX (
.XX( )
	RetencionXX) 2
=XX3 4
ConvertXX5 <
.XX< =
	ToDecimalXX= F
(XXF G
drXXG I
[XXI J
$strXXJ _
]XX_ `
)XX` a
;XXa b 
oDetalleliquidacionEYY (
.YY( )
MontoretencionYY) 7
=YY8 9
ConvertYY: A
.YYA B
	ToDecimalYYB K
(YYK L
drYYL N
[YYN O
$strYYO _
]YY_ `
)YY` a
;YYa b 
oDetalleliquidacionEZZ (
.ZZ( )
RetencionppagoZZ) 7
=ZZ8 9
ConvertZZ: A
.ZZA B
	ToDecimalZZB K
(ZZK L
drZZL N
[ZZN O
$strZZO e
]ZZe f
)ZZf g
;ZZg h 
oDetalleliquidacionE[[ (
.[[( )
Montoprontopago[[) 8
=[[9 :
Convert[[; B
.[[B C
	ToDecimal[[C L
([[L M
dr[[M O
[[[O P
$str[[P a
][[a b
)[[b c
;[[c d 
oDetalleliquidacionE\\ (
.\\( )
Flagcia\\) 0
=\\1 2
Convert\\3 :
.\\: ;
ToString\\; C
(\\C D
dr\\D F
[\\F G
$str\\G P
]\\P Q
)\\Q R
;\\R S 
oDetalleliquidacionE]] (
.]]( )
Estado]]) /
=]]0 1
Convert]]2 9
.]]9 :
ToString]]: B
(]]B C
dr]]C E
[]]E F
$str]]F N
]]]N O
)]]O P
;]]P Q 
oDetalleliquidacionE^^ (
.^^( )
Tiporetencion1^^) 7
=^^8 9
Convert^^: A
.^^A B
ToString^^B J
(^^J K
dr^^K M
[^^M N
$str^^N ^
]^^^ _
)^^_ `
;^^` a 
oDetalleliquidacionE__ (
.__( )
Tiporetencion2__) 7
=__8 9
Convert__: A
.__A B
ToString__B J
(__J K
dr__K M
[__M N
$str__N ^
]__^ _
)___ `
;__` a 
oDetalleliquidacionE`` (
.``( )
Costo``) .
=``/ 0
Convert``1 8
.``8 9
	ToDecimal``9 B
(``B C
dr``C E
[``E F
$str``F M
]``M N
)``N O
;``O P
breakaa 
;aa 
casecc 
$numcc 
:cc  
oDetalleliquidacionEdd (
.dd( )
Codliqxtercerosdd) 8
=dd9 :
Convertdd; B
.ddB C
ToStringddC K
(ddK L
drddL N
[ddN O
$strddO `
]dd` a
)dda b
;ddb c 
oDetalleliquidacionEee (
.ee( )
Numeroliquidacionee) :
=ee; <
Convertee= D
.eeD E
ToStringeeE M
(eeM N
dreeN P
[eeP Q
$streeQ d
]eed e
)eee f
;eef g 
oDetalleliquidacionEff (
.ff( )
Codpresotorff) 4
=ff5 6
Convertff7 >
.ff> ?
ToStringff? G
(ffG H
drffH J
[ffJ K
$strffK X
]ffX Y
)ffY Z
;ffZ [ 
oDetalleliquidacionEgg (
.gg( )
Codatenciongg) 4
=gg5 6
Convertgg7 >
.gg> ?
ToStringgg? G
(ggG H
drggH J
[ggJ K
$strggK X
]ggX Y
)ggY Z
;ggZ [ 
oDetalleliquidacionEhh (
.hh( )
NombPacientehh) 5
=hh6 7
Converthh8 ?
.hh? @
ToStringhh@ H
(hhH I
drhhI K
[hhK L
$strhhL Z
]hhZ [
)hh[ \
;hh\ ] 
oDetalleliquidacionEii (
.ii( )
DscPrestacionii) 6
=ii7 8
Convertii9 @
.ii@ A
ToStringiiA I
(iiI J
driiJ L
[iiL M
$striiM \
]ii\ ]
)ii] ^
;ii^ _ 
oDetalleliquidacionEjj (
.jj( )
Fechahoraatencionjj) :
=jj; <
Convertjj= D
.jjD E
ToStringjjE M
(jjM N
drjjN P
[jjP Q
$strjjQ d
]jjd e
)jje f
;jjf g 
oDetalleliquidacionEkk (
.kk( )
Montokk) .
=kk/ 0
Convertkk1 8
.kk8 9
	ToDecimalkk9 B
(kkB C
drkkC E
[kkE F
$strkkF M
]kkM N
)kkN O
;kkO P 
oDetalleliquidacionEll (
.ll( )
Montocorregidoll) 7
=ll8 9
Convertll: A
.llA B
	ToDecimalllB K
(llK L
drllL N
[llN O
$strllO _
]ll_ `
)ll` a
;lla b 
oDetalleliquidacionEmm (
.mm( )
	Retencionmm) 2
=mm3 4
Convertmm5 <
.mm< =
	ToDecimalmm= F
(mmF G
drmmG I
[mmI J
$strmmJ _
]mm_ `
)mm` a
;mma b 
oDetalleliquidacionEnn (
.nn( )
Montoretencionnn) 7
=nn8 9
Convertnn: A
.nnA B
	ToDecimalnnB K
(nnK L
drnnL N
[nnN O
$strnnO _
]nn_ `
)nn` a
;nna b 
oDetalleliquidacionEoo (
.oo( )
Retencionppagooo) 7
=oo8 9
Convertoo: A
.ooA B
	ToDecimalooB K
(ooK L
drooL N
[ooN O
$strooO e
]ooe f
)oof g
;oog h 
oDetalleliquidacionEpp (
.pp( )
Montoprontopagopp) 8
=pp9 :
Convertpp; B
.ppB C
	ToDecimalppC L
(ppL M
drppM O
[ppO P
$strppP a
]ppa b
)ppb c
;ppc d 
oDetalleliquidacionEqq (
.qq( )
Flagciaqq) 0
=qq1 2
Convertqq3 :
.qq: ;
ToStringqq; C
(qqC D
drqqD F
[qqF G
$strqqG P
]qqP Q
)qqQ R
;qqR S 
oDetalleliquidacionErr (
.rr( )
Estadorr) /
=rr0 1
Convertrr2 9
.rr9 :
ToStringrr: B
(rrB C
drrrC E
[rrE F
$strrrF N
]rrN O
)rrO P
;rrP Q 
oDetalleliquidacionEss (
.ss( )
Tiporetencion1ss) 7
=ss8 9
Convertss: A
.ssA B
ToStringssB J
(ssJ K
drssK M
[ssM N
$strssN ^
]ss^ _
)ss_ `
;ss` a 
oDetalleliquidacionEtt (
.tt( )
Tiporetencion2tt) 7
=tt8 9
Converttt: A
.ttA B
ToStringttB J
(ttJ K
drttK M
[ttM N
$strttN ^
]tt^ _
)tt_ `
;tt` a 
oDetalleliquidacionEuu (
.uu( )
Costouu) .
=uu/ 0
Convertuu1 8
.uu8 9
	ToDecimaluu9 B
(uuB C
druuC E
[uuE F
$struuF M
]uuM N
)uuN O
;uuO P
breakvv 
;vv 
}xx 
returnzz  
oDetalleliquidacionEzz '
;zz' (
}{{ 	
public}} 
List}} 
<}} 
DetalleliquidacionE}} '
>}}' (*
Sp_Detalleliquidacion_Consulta}}) G
(}}G H
DetalleliquidacionE}}H [ 
pDetalleliquidacionE}}\ p
)}}p q
{~~ 	
List 
< 
DetalleliquidacionE $
>$ %
oListar& -
=. /
new0 3
List4 8
<8 9
DetalleliquidacionE9 L
>L M
(M N
)N O
;O P!
DetalleliquidacionE
ÄÄ "
oDetalleliquidacionE
ÄÄ  4
=
ÄÄ5 6
null
ÄÄ7 ;
;
ÄÄ; <
using
ÅÅ 
(
ÅÅ 
SqlConnection
ÅÅ  
cnn
ÅÅ! $
=
ÅÅ% &
new
ÅÅ' *
SqlConnection
ÅÅ+ 8
(
ÅÅ8 9
VariablesGlobales
ÅÅ9 J
.
ÅÅJ K

CnnClinica
ÅÅK U
)
ÅÅU V
)
ÅÅV W
{
ÇÇ 
using
ÉÉ 
(
ÉÉ 

SqlCommand
ÉÉ !
cmd
ÉÉ" %
=
ÉÉ& '
new
ÉÉ( +

SqlCommand
ÉÉ, 6
(
ÉÉ6 7
$str
ÉÉ7 W
,
ÉÉW X
cnn
ÉÉY \
)
ÉÉ\ ]
)
ÉÉ] ^
{
ÑÑ 
cmd
ÖÖ 
.
ÖÖ 
CommandType
ÖÖ #
=
ÖÖ$ %
System
ÖÖ& ,
.
ÖÖ, -
Data
ÖÖ- 1
.
ÖÖ1 2
CommandType
ÖÖ2 =
.
ÖÖ= >
StoredProcedure
ÖÖ> M
;
ÖÖM N
cmd
áá 
.
áá 

Parameters
áá "
.
áá" #
AddWithValue
áá# /
(
áá/ 0
$str
áá0 B
,
ááB C"
pDetalleliquidacionE
ááD X
.
ááX Y
Codliqxterceros
ááY h
)
ááh i
;
áái j
cmd
àà 
.
àà 

Parameters
àà "
.
àà" #
AddWithValue
àà# /
(
àà/ 0
$str
àà0 D
,
ààD E"
pDetalleliquidacionE
ààF Z
.
ààZ [
Numeroliquidacion
àà[ l
)
ààl m
;
ààm n
cmd
ââ 
.
ââ 

Parameters
ââ "
.
ââ" #
AddWithValue
ââ# /
(
ââ/ 0
$str
ââ0 <
,
ââ< ="
pDetalleliquidacionE
ââ> R
.
ââR S
	Documento
ââS \
)
ââ\ ]
;
ââ] ^
cmd
ää 
.
ää 

Parameters
ää "
.
ää" #
AddWithValue
ää# /
(
ää/ 0
$str
ää0 9
,
ää9 :"
pDetalleliquidacionE
ää; O
.
ääO P
Estado
ääP V
)
ääV W
;
ääW X
cmd
ãã 
.
ãã 

Parameters
ãã "
.
ãã" #
AddWithValue
ãã# /
(
ãã/ 0
$str
ãã0 ?
,
ãã? @"
pDetalleliquidacionE
ããA U
.
ããU V
NumerodeLineas
ããV d
)
ããd e
;
ããe f
cmd
åå 
.
åå 

Parameters
åå "
.
åå" #
AddWithValue
åå# /
(
åå/ 0
$str
åå0 8
,
åå8 9"
pDetalleliquidacionE
åå: N
.
ååN O
Orden
ååO T
)
ååT U
;
ååU V
cnn
çç 
.
çç 
Open
çç 
(
çç 
)
çç 
;
çç 
IDataReader
éé 
dr
éé  "
=
éé# $
cmd
éé% (
.
éé( )
ExecuteReader
éé) 6
(
éé6 7
)
éé7 8
;
éé8 9
while
èè 
(
èè 
dr
èè 
.
èè 
Read
èè "
(
èè" #
)
èè# $
)
èè$ %
{
êê "
oDetalleliquidacionE
ëë ,
=
ëë- .
LlenarEntidad
ëë/ <
(
ëë< =
dr
ëë= ?
,
ëë? @"
pDetalleliquidacionE
ëëA U
)
ëëU V
;
ëëV W
oListar
íí 
.
íí  
Add
íí  #
(
íí# $"
oDetalleliquidacionE
íí$ 8
)
íí8 9
;
íí9 :
}
ìì 
dr
îî 
.
îî 
Close
îî 
(
îî 
)
îî 
;
îî 
cnn
ïï 
.
ïï 
Close
ïï 
(
ïï 
)
ïï 
;
ïï  
}
ññ 
}
óó 
return
òò 
oListar
òò 
;
òò 
}
ôô 	
public
öö 
bool
öö 0
"Sp_Detalleliquidacion_UpdatexCampo
öö 6
(
öö6 7!
DetalleliquidacionE
öö7 J"
pDetalleliquidacionE
ööK _
)
öö_ `
{
õõ 	
try
úú 
{
ùù 
using
ûû 
(
ûû 
SqlConnection
ûû $
cnn
ûû% (
=
ûû) *
new
ûû+ .
SqlConnection
ûû/ <
(
ûû< =
VariablesGlobales
ûû= N
.
ûûN O

CnnClinica
ûûO Y
)
ûûY Z
)
ûûZ [
{
üü 
using
†† 
(
†† 

SqlCommand
†† %
cmd
††& )
=
††* +
new
††, /

SqlCommand
††0 :
(
††: ;
$str
††; _
,
††_ `
cnn
††a d
)
††d e
)
††e f
{
°° 
cmd
¢¢ 
.
¢¢ 
CommandType
¢¢ '
=
¢¢( )
System
¢¢* 0
.
¢¢0 1
Data
¢¢1 5
.
¢¢5 6
CommandType
¢¢6 A
.
¢¢A B
StoredProcedure
¢¢B Q
;
¢¢Q R
cmd
§§ 
.
§§ 

Parameters
§§ &
.
§§& '
AddWithValue
§§' 3
(
§§3 4
$str
§§4 B
,
§§B C"
pDetalleliquidacionE
§§D X
.
§§X Y

NuevoValor
§§Y c
)
§§c d
;
§§d e
cmd
•• 
.
•• 

Parameters
•• &
.
••& '
AddWithValue
••' 3
(
••3 4
$str
••4 <
,
••< ="
pDetalleliquidacionE
••> R
.
••R S
Campo
••S X
)
••X Y
;
••Y Z
cnn
ßß 
.
ßß 
Open
ßß  
(
ßß  !
)
ßß! "
;
ßß" #
int
©© 
exito
©© !
=
©©" #
cmd
©©$ '
.
©©' (
ExecuteNonQuery
©©( 7
(
©©7 8
)
©©8 9
;
©©9 :
cnn
™™ 
.
™™ 
Close
™™ !
(
™™! "
)
™™" #
;
™™# $
cmd
´´ 
.
´´ 
Dispose
´´ #
(
´´# $
)
´´$ %
;
´´% &
if
¨¨ 
(
¨¨ 
exito
¨¨ !
>=
¨¨" $
$num
¨¨% &
)
¨¨& '
{
≠≠ 
return
≠≠  
true
≠≠! %
;
≠≠% &
}
≠≠' (
else
ÆÆ 
{
ØØ 
return
ØØ  
false
ØØ! &
;
ØØ& '
}
ØØ( )
}
∞∞ 
}
±± 
}
≤≤ 
catch
≥≥ 
(
≥≥ 
	Exception
≥≥ 
e
≥≥ 
)
≥≥ 
{
¥¥ 
throw
¥¥ 
e
¥¥ 
=
¥¥ 
new
¥¥ 
	Exception
¥¥ %
(
¥¥% &
e
¥¥& '
.
¥¥' (
Message
¥¥( /
)
¥¥/ 0
;
¥¥0 1
}
¥¥2 3
}
µµ 	
}
∂∂ 
}∑∑ ú2
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\SitedsAD\SubtipoCoberturaAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
SitedsAD

 $
{ 
public 

class 
SubtipoCoberturaAD #
{ 
private 
SubTipoCoberturaE !
LlenarEntidad" /
(/ 0
IDataReader0 ;
dr< >
,> ?
SubTipoCoberturaE@ Q
PSubtipoCoberturaR c
)c d
{ 	
SubTipoCoberturaE 
oSubtipoCoberturasE 1
=2 3
new4 7
SubTipoCoberturaE8 I
(I J
)J K
;K L
oSubtipoCoberturasE 
.  

cCoberCode  *
=+ ,
(- .
string. 4
)4 5
dr6 8
[8 9
$str9 E
]E F
;F G
oSubtipoCoberturasE 
.  
cSubTipoCober  -
=. /
(0 1
string1 7
)7 8
dr9 ;
[; <
$str< K
]K L
;L M
oSubtipoCoberturasE 
.  
nSubTipoCoberName  1
=2 3
(4 5
string5 ;
); <
dr= ?
[? @
$str@ S
]S T
;T U
oSubtipoCoberturasE 
.  
cSitedsCode  +
=, -
(. /
string/ 5
)5 6
dr7 9
[9 :
$str: G
]G H
;H I
oSubtipoCoberturasE 
.  
cSitedsCode2  ,
=- .
(/ 0
string0 6
)6 7
dr8 :
[: ;
$str; I
]I J
;J K
oSubtipoCoberturasE 
.  
dEstado  '
=( )
(* +
string+ 1
)1 2
dr3 5
[5 6
$str6 ?
]? @
;@ A
return 
oSubtipoCoberturasE &
;& '
} 	
public 
int &
Sp_SubtipoCobertura_Insert -
(- .
ref. 1
SubTipoCoberturaE2 C
PSubtipoCoberturaED V
)V W
{   	
bool!! 
xResult!! 
=!! 
false!!  
;!!  !
try"" 
{## 
using$$ 
($$ 
SqlConnection$$ $
cnn$$% (
=$$) *
new$$+ .
SqlConnection$$/ <
($$< =
VariablesGlobales$$= N
.$$N O

CnnClinica$$O Y
)$$Y Z
)$$Z [
{%% 
using&& 
(&& 

SqlCommand&& %
cmd&&& )
=&&* +
new&&, /

SqlCommand&&0 :
(&&: ;
$str&&; W
,&&W X
cnn&&Y \
)&&\ ]
)&&] ^
{'' 
cmd(( 
.(( 
CommandType(( '
=((( )
CommandType((* 5
.((5 6
StoredProcedure((6 E
;((E F
cmd** 
.** 

Parameters** &
.**& '
AddWithValue**' 3
(**3 4
$str**4 B
,**B C
PSubtipoCoberturaE**D V
.**V W

cCoberCode**W a
)**a b
;**b c
cmd++ 
.++ 

Parameters++ &
.++& '
AddWithValue++' 3
(++3 4
$str++4 E
,++E F
PSubtipoCoberturaE++G Y
.++Y Z
cSubTipoCober++Z g
)++g h
;++h i
cmd,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 I
,,,I J
PSubtipoCoberturaE,,K ]
.,,] ^
nSubTipoCoberName,,^ o
),,o p
;,,p q
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 C
,--C D
PSubtipoCoberturaE--E W
.--W X
cSitedsCode--X c
)--c d
;--d e
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 D
,..D E
PSubtipoCoberturaE..F X
...X Y
cSitedsCode2..Y e
)..e f
;..f g
cmd// 
.// 

Parameters// &
.//& '
AddWithValue//' 3
(//3 4
$str//4 ?
,//? @
PSubtipoCoberturaE//A S
.//S T
dEstado//T [
)//[ \
;//\ ]
cmd00 
.00 

Parameters00 &
.00& '
Add00' *
(00* +
VariablesGlobales00+ <
.00< =
ParametroSql00= I
(00I J
$str00J a
,00a b
ParameterDirection00c u
.00u v
Output00v |
,00| }
	SqlDbType	00~ á
.
00á à
VarChar
00à è
,
00è ê
$num
00ë ì
,
00ì î 
PSubtipoCoberturaE
00ï ß
.
00ß ®!
codllaveSubTipCober
00® ª
)
00ª º
)
00º Ω
;
00Ω æ
cnn11 
.11 
Open11  
(11  !
)11! "
;11" #
cmd33 
.33 
ExecuteNonQuery33 +
(33+ ,
)33, -
;33- .
PSubtipoCoberturaE44 *
.44* +
codllaveSubTipCober44+ >
=44? @
cmd44A D
.44D E

Parameters44E O
[44O P
$str44P g
]44g h
.44h i
Value44i n
+44o p
$str44q s
;44s t
xResult55 
=55  !
true55" &
;55& '
cnn77 
.77 
Close77 !
(77! "
)77" #
;77# $
cmd88 
.88 
Dispose88 #
(88# $
)88$ %
;88% &
}99 
}:: 
return<< 
Convert<< 
.<< 
ToInt32<< &
(<<& '
xResult<<' .
)<<. /
;<</ 0
}== 
catch>> 
(>> 
	Exception>> 
ex>> 
)>>  
{?? 
throw@@ 
new@@ 
	Exception@@ #
(@@# $
ex@@$ &
.@@& '
Message@@' .
)@@. /
;@@/ 0
}AA 
}BB 	
}CC 
}DD ÅL
mD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\SitedsAD\s10_LogDocumentoAutorizacionAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
SitedsAD

 $
{ 
public 

class *
s10_LogDocumentoAutorizacionAD /
{ 
private )
s10_LogDocumentoAutorizacionE -
LlenarEntidad. ;
(; <
IDataReader< G
drH J
,J K)
s10_LogDocumentoAutorizacionEL i*
pS10LogdocumentoautorizacionE	j á
)
á à
{ 	)
s10_LogDocumentoAutorizacionE ))
oS10LogdocumentoautorizacionE* G
=H I
newJ M)
s10_LogDocumentoAutorizacionEN k
(k l
)l m
;m n
switch 
( )
pS10LogdocumentoautorizacionE 1
.1 2
Orden2 7
)7 8
{ 
case 
$num 
: 
{ )
oS10LogdocumentoautorizacionE 5
.5 6
IdeDatosPagos6 C
=D E
(F G
intG J
)J K
drL N
[N O
$strO _
]_ `
;` a)
oS10LogdocumentoautorizacionE 5
.5 6!
NumAutorizacionSiteds6 K
=L M
(N O
stringO U
)U V
drW Y
[Y Z
$strZ r
]r s
;s t)
oS10LogdocumentoautorizacionE 5
.5 6
BlbDocumento6 B
=C D
(E F
byteF J
[J K
]K L
)L M
drN P
[P Q
$strQ `
]` a
;a b)
oS10LogdocumentoautorizacionE 5
.5 6
FecRegistro6 A
=B C
(D E
DateTimeE M
)M N
drO Q
[Q R
$strR `
]` a
;a b)
oS10LogdocumentoautorizacionE 5
.5 6
IdeDocAutorizacion6 H
=I J
(K L
intL O
)O P
drQ S
[S T
$strT j
]j k
;k l
break 
; 
} 
} 
return )
oS10LogdocumentoautorizacionE 0
;0 1
} 	
public   
List   
<   )
s10_LogDocumentoAutorizacionE   1
>  1 23
'Sp_S10Logdocumentoautorizacion_Consulta  3 Z
(  Z [)
s10_LogDocumentoAutorizacionE  [ x*
pS10LogdocumentoautorizacionE	  y ñ
)
  ñ ó
{!! 	
IDataReader"" 
dr"" 
;"" )
s10_LogDocumentoAutorizacionE## ))
oS10LogdocumentoautorizacionE##* G
=##H I
null##J N
;
##ç é
List$$ 
<$$ )
s10_LogDocumentoAutorizacionE$$ .
>$$. /
oListar$$0 7
=$$8 9
new$$: =
List$$> B
<$$B C)
s10_LogDocumentoAutorizacionE$$C `
>$$` a
($$a b
)$$b c
;$$c d
try%% 
{&& 
using'' 
('' 
SqlConnection'' $
cnn''% (
='') *
new''+ .
SqlConnection''/ <
(''< =
VariablesGlobales''= N
.''N O

CnnClinica''O Y
)''Y Z
)''Z [
{(( 
using)) 
()) 

SqlCommand)) %
cmd))& )
=))* +
new)), /

SqlCommand))0 :
()): ;
$str)); d
,))d e
cnn))f i
)))i j
)))j k
{** 
cmd++ 
.++ 
CommandType++ '
=++( )
CommandType++* 5
.++5 6
StoredProcedure++6 E
;++E F
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 K
,--K L)
pS10LogdocumentoautorizacionE--M j
.--j k
IdeDocAutorizacion--k }
)--} ~
;--~ 
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 <
,..< =)
pS10LogdocumentoautorizacionE..> [
...[ \
Orden..\ a
)..a b
;..b c
cnn// 
.// 
Open//  
(//  !
)//! "
;//" #
dr00 
=00 
cmd00  
.00  !
ExecuteReader00! .
(00. /
)00/ 0
;000 1
while11 
(11 
dr11 !
.11! "
Read11" &
(11& '
)11' (
)11( )
{22 )
oS10LogdocumentoautorizacionE33 9
=33: ;
LlenarEntidad33< I
(33I J
dr33J L
,33L M)
pS10LogdocumentoautorizacionE33N k
)33k l
;33l m
oListar44 #
.44# $
Add44$ '
(44' ()
oS10LogdocumentoautorizacionE44( E
)44E F
;44F G
}55 
dr66 
.66 
Close66  
(66  !
)66! "
;66" #
dr77 
.77 
Dispose77 "
(77" #
)77# $
;77$ %
cmd88 
.88 
Dispose88 #
(88# $
)88$ %
;88% &
cnn99 
.99 
Close99 !
(99! "
)99" #
;99# $
cnn:: 
.:: 
Dispose:: #
(::# $
)::$ %
;::% &
return<< 
oListar<< &
;<<& '
}== 
}>> 
}?? 
catch@@ 
(@@ 
	Exception@@ 
ex@@ 
)@@  
{AA 
throwBB 
newBB 
	ExceptionBB #
(BB# $
exBB$ &
.BB& '
MessageBB' .
)BB. /
;BB/ 0
}CC 
}DD 	
publicFF 
boolFF 1
%Sp_S10LogDocumentoAutorizacion_InsertFF 9
(FF9 :)
s10_LogDocumentoAutorizacionEFF: W)
pS10LogdocumentoautorizacionEFFX u
)FFu v
{GG 	
tryHH 
{II 
usingJJ 
(JJ 
SqlConnectionJJ $
cnnJJ% (
=JJ) *
newJJ+ .
SqlConnectionJJ/ <
(JJ< =
VariablesGlobalesJJ= N
.JJN O

CnnClinicaJJO Y
)JJY Z
)JJZ [
{KK 
usingLL 
(LL 

SqlCommandLL %
cmdLL& )
=LL* +
newLL, /

SqlCommandLL0 :
(LL: ;
$strLL; b
,LLb c
cnnLLd g
)LLg h
)LLh i
{MM 
cmdNN 
.NN 
CommandTypeNN '
=NN( )
CommandTypeNN* 5
.NN5 6
StoredProcedureNN6 E
;NNE F
cmdPP 
.PP 

ParametersPP &
.PP& '
AddWithValuePP' 3
(PP3 4
$strPP4 E
,PPE F)
pS10LogdocumentoautorizacionEPPG d
.PPd e
IdeDatosPagosPPe r
)PPr s
;PPs t
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddWithValueQQ' 3
(QQ3 4
$strQQ4 M
,QQM N)
pS10LogdocumentoautorizacionEQQO l
.QQl m"
NumAutorizacionSiteds	QQm Ç
)
QQÇ É
;
QQÉ Ñ
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 D
,RRD E)
pS10LogdocumentoautorizacionERRF c
.RRc d
BlbDocumentoRRd p
)RRp q
;RRq r
cmdSS 
.SS 

ParametersSS &
.SS& '
AddSS' *
(SS* +
VariablesGlobalesSS+ <
.SS< =
ParametroSqlSS= I
(SSI J
$strSSJ a
,SSa b
ParameterDirectionSSc u
.SSu v
InputOutput	SSv Å
,
SSÅ Ç
	SqlDbType
SSÉ å
.
SSå ç
Int
SSç ê
,
SSê ë
$num
SSí ì
,
SSì î+
pS10LogdocumentoautorizacionE
SSï ≤
.
SS≤ ≥ 
IdeDocAutorizacion
SS≥ ≈
.
SS≈ ∆
ToString
SS∆ Œ
(
SSŒ œ
)
SSœ –
)
SS– —
)
SS— “
;
SS“ ”
cnnTT 
.TT 
OpenTT  
(TT  !
)TT! "
;TT" #
ifUU 
(UU 
cmdUU 
.UU  
ExecuteNonQueryUU  /
(UU/ 0
)UU0 1
>=UU2 4
$numUU5 6
)UU6 7
{VV )
pS10LogdocumentoautorizacionEWW 9
.WW9 :
IdeDocAutorizacionWW: L
=WWM N
(WWO P
intWWP S
)WWS T
cmdWWT W
.WWW X

ParametersWWX b
[WWb c
$strWWc z
]WWz {
.WW{ |
Value	WW| Å
;
WWÅ Ç
returnXX "
trueXX# '
;XX' (
}YY 
elseZZ 
return[[ "
false[[# (
;[[( )
cmd\\ 
.\\ 
Dispose\\ #
(\\# $
)\\$ %
;\\% &
cnn]] 
.]] 
Close]] !
(]]! "
)]]" #
;]]# $
cnn^^ 
.^^ 
Dispose^^ #
(^^# $
)^^$ %
;^^% &
}__ 
}`` 
}aa 
catchbb 
(bb 
	Exceptionbb 
exbb 
)bb  
{cc 
throwdd 
newdd 
	Exceptiondd #
(dd# $
exdd$ &
.dd& '
Messagedd' .
)dd. /
;dd/ 0
}ee 
}ff 	
}gg 
}hh ¢0
YD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\SitedsAD\ProductoAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
SitedsAD

 $
{ 
public 

class 

ProductoAD 
{ 
private 
	ProductoE 
LlenarEntidad '
(' (
IDataReader( 3
dr4 6
,6 7
	ProductoE8 A
	PProductoB K
)K L
{ 	
	ProductoE 

oProductoE  
=! "
new# &
	ProductoE' 0
(0 1
)1 2
;2 3

oProductoE 
. 

cIafasCode !
=" #
($ %
string% +
)+ ,
dr- /
[/ 0
$str0 <
]< =
;= >

oProductoE 
. 
	cProdCode  
=! "
(# $
string$ *
)* +
dr, .
[. /
$str/ :
]: ;
;; <

oProductoE 
. 
	nProdName  
=! "
(# $
string$ *
)* +
dr, .
[. /
$str/ :
]: ;
;; <

oProductoE 
. 
dTipoProducto $
=% &
(' (
string( .
). /
dr0 2
[2 3
$str3 B
]B C
;C D

oProductoE 
. 
cIafaCodeCia #
=$ %
(& '
string' -
)- .
dr/ 1
[1 2
$str2 @
]@ A
;A B

oProductoE 
. 
dEstado 
=  
(! "
string" (
)( )
dr* ,
[, -
$str- 6
]6 7
;7 8
return 

oProductoE 
; 
} 	
public 
int 
Sp_Producto_Insert %
(% &
ref& )
	ProductoE* 3

pProductoE4 >
)> ?
{ 	
bool   
xResult   
=   
false    
;    !
try!! 
{"" 
using## 
(## 
SqlConnection## $
cnn##% (
=##) *
new##+ .
SqlConnection##/ <
(##< =
VariablesGlobales##= N
.##N O

CnnClinica##O Y
)##Y Z
)##Z [
{$$ 
using%% 
(%% 

SqlCommand%% %
cmd%%& )
=%%* +
new%%, /

SqlCommand%%0 :
(%%: ;
$str%%; O
,%%O P
cnn%%Q T
)%%T U
)%%U V
{&& 
cmd'' 
.'' 
CommandType'' '
=''( )
CommandType''* 5
.''5 6
StoredProcedure''6 E
;''E F
cmd)) 
.)) 

Parameters)) &
.))& '
AddWithValue))' 3
())3 4
$str))4 B
,))B C

pProductoE))D N
.))N O

cIafasCode))O Y
)))Y Z
;))Z [
cmd** 
.** 

Parameters** &
.**& '
AddWithValue**' 3
(**3 4
$str**4 A
,**A B

pProductoE**C M
.**M N
	cProdCode**N W
)**W X
;**X Y
cmd++ 
.++ 

Parameters++ &
.++& '
AddWithValue++' 3
(++3 4
$str++4 A
,++A B

pProductoE++C M
.++M N
	nProdName++N W
)++W X
;++X Y
cmd,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 E
,,,E F

pProductoE,,G Q
.,,Q R
dTipoProducto,,R _
),,_ `
;,,` a
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 D
,--D E

pProductoE--F P
.--P Q
cIafaCodeCia--Q ]
)--] ^
;--^ _
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 ?
,..? @

pProductoE..A K
...K L
dEstado..L S
)..S T
;..T U
cmd// 
.// 

Parameters// &
.//& '
Add//' *
(//* +
VariablesGlobales//+ <
.//< =
ParametroSql//= I
(//I J
$str//J [
,//[ \
ParameterDirection//] o
.//o p
Output//p v
,//v w
	SqlDbType	//x Å
.
//Å Ç
VarChar
//Ç â
,
//â ä
$num
//ã ç
,
//ç é

pProductoE
//è ô
.
//ô ö
codllaveProd
//ö ¶
)
//¶ ß
)
//ß ®
;
//® ©
cnn00 
.00 
Open00  
(00  !
)00! "
;00" #
cmd22 
.22 
ExecuteNonQuery22 +
(22+ ,
)22, -
;22- .

pProductoE33 "
.33" #
codllaveProd33# /
=330 1
cmd332 5
.335 6

Parameters336 @
[33@ A
$str33A R
]33R S
.33S T
Value33T Y
+33Z [
$str33\ ^
;33^ _
xResult44 
=44  !
true44" &
;44& '
cnn66 
.66 
Close66 !
(66! "
)66" #
;66# $
cmd77 
.77 
Dispose77 #
(77# $
)77$ %
;77% &
}88 
}99 
return;; 
Convert;; 
.;; 
ToInt32;; &
(;;& '
xResult;;' .
);;. /
;;;/ 0
}<< 
catch== 
(== 
	Exception== 
ex== 
)==  
{>> 
throw?? 
new?? 
	Exception?? #
(??# $
ex??$ &
.??& '
Message??' .
)??. /
;??/ 0
}@@ 
}AA 	
}BB 
}CC ÇO
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\SitedsAD\ProcedimientosAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
SitedsAD

 $
{ 
public 

class 
ProcedimientosAD !
{ 
private 
ProcedimientosE 
LlenarEntidad  -
(- .
IDataReader. 9
dr: <
,< =
ProcedimientosE> M
PProcedimientosN ]
)] ^
{ 	
ProcedimientosE 
oProcedimientossE -
=. /
new0 3
ProcedimientosE4 C
(C D
)D E
;E F
oProcedimientossE 
. 

cIafasCode (
=) *
(+ ,
string, 2
)2 3
dr4 6
[6 7
$str7 C
]C D
;D E
oProcedimientossE 
. 
	cAsegCode '
=( )
(* +
string+ 1
)1 2
dr3 5
[5 6
$str6 A
]A B
;B C
oProcedimientossE 
. 
	cAutoCode '
=( )
(* +
string+ 1
)1 2
dr3 5
[5 6
$str6 A
]A B
;B C
oProcedimientossE 
. 

cCoberCode (
=) *
(+ ,
string, 2
)2 3
dr4 6
[6 7
$str7 C
]C D
;D E
oProcedimientossE 
. 
cSubtipoCober +
=, -
(. /
string/ 5
)5 6
dr7 9
[9 :
$str: I
]I J
;J K
oProcedimientossE 
. 
cItem #
=$ %
(& '
string' -
)- .
dr/ 1
[1 2
$str2 9
]9 :
;: ;
oProcedimientossE 
. 
cTipoProcInt *
=+ ,
(- .
string. 4
)4 5
dr6 8
[8 9
$str9 G
]G H
;H I
oProcedimientossE 
. 
nTipoProcName +
=, -
(. /
string/ 5
)5 6
dr7 9
[9 :
$str: I
]I J
;J K
oProcedimientossE 
. 
cGeCode %
=& '
(( )
string) /
)/ 0
dr1 3
[3 4
$str4 =
]= >
;> ?
oProcedimientossE 
. 
	nCopgFijo '
=( )
(* +
double+ 1
)1 2
dr3 5
[5 6
$str6 A
]A B
;B C
oProcedimientossE 
. 
	nCopgVari '
=( )
(* +
double+ 1
)1 2
dr3 5
[5 6
$str6 A
]A B
;B C
oProcedimientossE 
. 
	nFrecNumb '
=( )
(* +
int+ .
). /
dr0 2
[2 3
$str3 >
]> ?
;? @
oProcedimientossE   
.   
	nDiasCant   '
=  ( )
(  * +
int  + .
)  . /
dr  0 2
[  2 3
$str  3 >
]  > ?
;  ? @
oProcedimientossE!! 
.!! 

dObserProc!! (
=!!) *
(!!+ ,
string!!, 2
)!!2 3
dr!!4 6
[!!6 7
$str!!7 C
]!!C D
;!!D E
return$$ 
oProcedimientossE$$ $
;$$$ %
}%% 	
public'' 
string'' $
Sp_Procedimientos_Insert'' .
(''. /
ref''/ 2
ProcedimientosE''3 B
pProcedimientosE''C S
)''S T
{(( 	
bool)) 
xResult)) 
=)) 
false))  
;))  !
string** 
s_codigo** 
=** 
$str**  
;**  !
try++ 
{,, 
using-- 
(-- 
SqlConnection-- $
cnn--% (
=--) *
new--+ .
SqlConnection--/ <
(--< =
VariablesGlobales--= N
.--N O

CnnClinica--O Y
)--Y Z
)--Z [
{.. 
using// 
(// 

SqlCommand// %
cmd//& )
=//* +
new//, /

SqlCommand//0 :
(//: ;
$str//; \
,//\ ]
cnn//^ a
)//a b
)//b c
{00 
cmd11 
.11 
CommandType11 '
=11( )
CommandType11* 5
.115 6
StoredProcedure116 E
;11E F
cmd33 
.33 

Parameters33 &
.33& '
AddWithValue33' 3
(333 4
$str334 A
,33A B
pProcedimientosE33C S
.33S T

cIafasCode33T ^
)33^ _
;33_ `
cmd44 
.44 

Parameters44 &
.44& '
AddWithValue44' 3
(443 4
$str444 @
,44@ A
pProcedimientosE44B R
.44R S
	cAsegCode44S \
)44\ ]
;44] ^
cmd55 
.55 

Parameters55 &
.55& '
AddWithValue55' 3
(553 4
$str554 @
,55@ A
pProcedimientosE55B R
.55R S
	cAutoCode55S \
)55\ ]
;55] ^
cmd66 
.66 

Parameters66 &
.66& '
AddWithValue66' 3
(663 4
$str664 A
,66A B
pProcedimientosE66C S
.66S T

cCoberCode66T ^
)66^ _
;66_ `
cmd77 
.77 

Parameters77 &
.77& '
AddWithValue77' 3
(773 4
$str774 D
,77D E
pProcedimientosE77F V
.77V W
cSubtipoCober77W d
)77d e
;77e f
cmd88 
.88 

Parameters88 &
.88& '
AddWithValue88' 3
(883 4
$str884 <
,88< =
pProcedimientosE88> N
.88N O
cItem88O T
)88T U
;88U V
cmd99 
.99 

Parameters99 &
.99& '
AddWithValue99' 3
(993 4
$str994 C
,99C D
pProcedimientosE99E U
.99U V
cTipoProcInt99V b
)99b c
;99c d
cmd:: 
.:: 

Parameters:: &
.::& '
AddWithValue::' 3
(::3 4
$str::4 D
,::D E
pProcedimientosE::F V
.::V W
nTipoProcName::W d
)::d e
;::e f
cmd;; 
.;; 

Parameters;; &
.;;& '
AddWithValue;;' 3
(;;3 4
$str;;4 >
,;;> ?
pProcedimientosE;;@ P
.;;P Q
cGeCode;;Q X
);;X Y
;;;Y Z
cmd<< 
.<< 

Parameters<< &
.<<& '
AddWithValue<<' 3
(<<3 4
$str<<4 @
,<<@ A
pProcedimientosE<<B R
.<<R S
	nCopgFijo<<S \
)<<\ ]
;<<] ^
cmd== 
.== 

Parameters== &
.==& '
AddWithValue==' 3
(==3 4
$str==4 @
,==@ A
pProcedimientosE==B R
.==R S
	nCopgVari==S \
)==\ ]
;==] ^
cmd>> 
.>> 

Parameters>> &
.>>& '
AddWithValue>>' 3
(>>3 4
$str>>4 @
,>>@ A
pProcedimientosE>>B R
.>>R S
	nFrecNumb>>S \
)>>\ ]
;>>] ^
cmd?? 
.?? 

Parameters?? &
.??& '
AddWithValue??' 3
(??3 4
$str??4 @
,??@ A
pProcedimientosE??B R
.??R S
	nDiasCant??S \
)??\ ]
;??] ^
cmd@@ 
.@@ 

Parameters@@ &
.@@& '
AddWithValue@@' 3
(@@3 4
$str@@4 A
,@@A B
pProcedimientosE@@C S
.@@S T

dObserProc@@T ^
)@@^ _
;@@_ `
cmdAA 
.AA 

ParametersAA &
.AA& '
AddAA' *
(AA* +
VariablesGlobalesAA+ <
.AA< =
ParametroSqlAA= I
(AAI J
$strAAJ U
,AAU V
ParameterDirectionAAW i
.AAi j
OutputAAj p
,AAp q
	SqlDbTypeAAr {
.AA{ |
VarChar	AA| É
,
AAÉ Ñ
$num
AAÖ á
,
AAá à
pProcedimientosE
AAâ ô
.
AAô ö
codllaveProc
AAö ¶
)
AA¶ ß
)
AAß ®
;
AA® ©
cnnBB 
.BB 
OpenBB  
(BB  !
)BB! "
;BB" #
cmdDD 
.DD 
ExecuteNonQueryDD +
(DD+ ,
)DD, -
;DD- .
pProcedimientosEEE (
.EE( )
codllaveProcEE) 5
=EE6 7
cmdEE8 ;
.EE; <

ParametersEE< F
[EEF G
$strEEG R
]EER S
.EES T
ValueEET Y
+EEZ [
$strEE\ ^
;EE^ _
s_codigoFF  
=FF! "
pProcedimientosEFF# 3
.FF3 4
codllaveProcFF4 @
;FF@ A
xResultGG 
=GG  !
trueGG" &
;GG& '
cnnJJ 
.JJ 
CloseJJ !
(JJ! "
)JJ" #
;JJ# $
cmdKK 
.KK 
DisposeKK #
(KK# $
)KK$ %
;KK% &
}LL 
}MM 
returnOO 
s_codigoOO 
;OO  
}PP 
catchQQ 
(QQ 
	ExceptionQQ 
exQQ 
)QQ  
{RR 
throwSS 
newSS 
	ExceptionSS #
(SS# $
exSS$ &
.SS& '
MessageSS' .
)SS. /
;SS/ 0
}TT 
}UU 	
}VV 
}WW â=
^D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\SitedsAD\ExcepCarenciaAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
SitedsAD

 $
{ 
public 

class 
ExcepCarenciaAD  
{ 
private 
ExcepCarenciaE 
LlenarEntidad ,
(, -
IDataReader- 8
dr9 ;
,; <
ExcepCarenciaE= K
PExcepCarenciaEL [
)[ \
{ 	
ExcepCarenciaE 
oExcepCarenciaE *
=+ ,
new- 0
ExcepCarenciaE1 ?
(? @
)@ A
;A B
oExcepCarenciaE 
. 

cIafasCode &
=' (
() *
string* 0
)0 1
dr2 4
[4 5
$str5 A
]A B
;B C
oExcepCarenciaE 
. 
	cAsegCode %
=& '
(( )
string) /
)/ 0
dr1 3
[3 4
$str4 ?
]? @
;@ A
oExcepCarenciaE 
. 
	cAutoCode %
=& '
(( )
string) /
)/ 0
dr1 3
[3 4
$str4 ?
]? @
;@ A
oExcepCarenciaE 
. 

cCoberCode &
=' (
() *
string* 0
)0 1
dr2 4
[4 5
$str5 A
]A B
;B C
oExcepCarenciaE 
. 
cSubtipoCober )
=* +
(, -
string- 3
)3 4
dr5 7
[7 8
$str8 G
]G H
;H I
oExcepCarenciaE 
. 
cItem !
=" #
($ %
string% +
)+ ,
dr- /
[/ 0
$str0 7
]7 8
;8 9
oExcepCarenciaE 
. 
cDxExcepCaren )
=* +
(, -
string- 3
)3 4
dr5 7
[7 8
$str8 G
]G H
;H I
oExcepCarenciaE 
. 
nDxExcepCaren )
=* +
(, -
string- 3
)3 4
dr5 7
[7 8
$str8 G
]G H
;H I
oExcepCarenciaE 
. 
dObsExcepCaren *
=+ ,
(- .
string. 4
)4 5
dr6 8
[8 9
$str9 I
]I J
;J K
return 
oExcepCarenciaE "
;" #
} 	
public!! 
string!! #
Sp_ExcepCarencia_Insert!! -
(!!- .
ref!!. 1
ExcepCarenciaE!!2 @
pExcepCarenciaE!!A P
)!!P Q
{"" 	
bool## 
xResult## 
=## 
false##  
;##  !
string$$ 
s_codigo$$ 
=$$ 
$str$$  
;$$  !
try%% 
{&& 
using'' 
('' 
SqlConnection'' $
cnn''% (
='') *
new''+ .
SqlConnection''/ <
(''< =
VariablesGlobales''= N
.''N O

CnnClinica''O Y
)''Y Z
)''Z [
{(( 
using)) 
()) 

SqlCommand)) %
cmd))& )
=))* +
new)), /

SqlCommand))0 :
()): ;
$str)); [
,))[ \
cnn))] `
)))` a
)))a b
{** 
cmd++ 
.++ 
CommandType++ '
=++( )
CommandType++* 5
.++5 6
StoredProcedure++6 E
;++E F
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 A
,--A B
pExcepCarenciaE--C R
.--R S

cIafasCode--S ]
)--] ^
;--^ _
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 @
,..@ A
pExcepCarenciaE..B Q
...Q R
	cAsegCode..R [
)..[ \
;..\ ]
cmd// 
.// 

Parameters// &
.//& '
AddWithValue//' 3
(//3 4
$str//4 @
,//@ A
pExcepCarenciaE//B Q
.//Q R
	cAutoCode//R [
)//[ \
;//\ ]
cmd00 
.00 

Parameters00 &
.00& '
AddWithValue00' 3
(003 4
$str004 A
,00A B
pExcepCarenciaE00C R
.00R S

cCoberCode00S ]
)00] ^
;00^ _
cmd11 
.11 

Parameters11 &
.11& '
AddWithValue11' 3
(113 4
$str114 D
,11D E
pExcepCarenciaE11F U
.11U V
cSubtipoCober11V c
)11c d
;11d e
cmd22 
.22 

Parameters22 &
.22& '
AddWithValue22' 3
(223 4
$str224 <
,22< =
pExcepCarenciaE22> M
.22M N
cItem22N S
)22S T
;22T U
cmd33 
.33 

Parameters33 &
.33& '
AddWithValue33' 3
(333 4
$str334 D
,33D E
pExcepCarenciaE33F U
.33U V
cDxExcepCaren33V c
)33c d
;33d e
cmd44 
.44 

Parameters44 &
.44& '
AddWithValue44' 3
(443 4
$str444 D
,44D E
pExcepCarenciaE44F U
.44U V
nDxExcepCaren44V c
)44c d
;44d e
cmd55 
.55 

Parameters55 &
.55& '
AddWithValue55' 3
(553 4
$str554 E
,55E F
pExcepCarenciaE55G V
.55V W
dObsExcepCaren55W e
)55e f
;55f g
cmd77 
.77 

Parameters77 &
.77& '
Add77' *
(77* +
VariablesGlobales77+ <
.77< =
ParametroSql77= I
(77I J
$str77J U
,77U V
ParameterDirection77W i
.77i j
Output77j p
,77p q
	SqlDbType77r {
.77{ |
VarChar	77| É
,
77É Ñ
$num
77Ö á
,
77á à
pExcepCarenciaE
77â ò
.
77ò ô
codllaveExpCar
77ô ß
)
77ß ®
)
77® ©
;
77© ™
cnn88 
.88 
Open88  
(88  !
)88! "
;88" #
cmd99 
.99 
ExecuteNonQuery99 +
(99+ ,
)99, -
;99- .
pExcepCarenciaE:: '
.::' (
codllaveExpCar::( 6
=::7 8
cmd::9 <
.::< =

Parameters::= G
[::G H
$str::H S
]::S T
.::T U
Value::U Z
+::[ \
$str::] _
;::_ `
s_codigo;;  
=;;! "
pExcepCarenciaE;;# 2
.;;2 3
codllaveExpCar;;3 A
;;;A B
xResult<< 
=<<  !
true<<" &
;<<& '
cnn>> 
.>> 
Close>> !
(>>! "
)>>" #
;>># $
cmd?? 
.?? 
Dispose?? #
(??# $
)??$ %
;??% &
}@@ 
}AA 
returnCC 
s_codigoCC 
;CC  
}DD 
catchEE 
(EE 
	ExceptionEE 
exEE 
)EE  
{FF 
throwGG 
newGG 
	ExceptionGG #
(GG# $
exGG$ &
.GG& '
MessageGG' .
)GG. /
;GG/ 0
}HH 
}II 	
}JJ 
}KK ≈¬
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\SitedsAD\DatosGeneralesAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
SitedsAD

 $
{ 
public 

class 
DatosGeneralesAD !
{ 
private 
DatosGeneralesE 
LlenarEntidad  -
(- .
IDataReader. 9
dr: <
,< =
DatosGeneralesE> M
PDatosGeneralesN ]
)] ^
{ 	
DatosGeneralesE 
oDatosGeneralesE ,
=- .
new/ 2
DatosGeneralesE3 B
(B C
)C D
;D E
oDatosGeneralesE 
. 

cIafasCode '
=( )
(* +
string+ 1
)1 2
dr3 5
[5 6
$str6 B
]B C
;C D
oDatosGeneralesE 
. 
	cAsegCode &
=' (
() *
string* 0
)0 1
dr2 4
[4 5
$str5 @
]@ A
;A B
oDatosGeneralesE 
. 
	cAutoCode &
=' (
() *
string* 0
)0 1
dr2 4
[4 5
$str5 @
]@ A
;A B
oDatosGeneralesE 
. 
	fAutoDate &
=' (
() *
string* 0
)0 1
dr2 4
[4 5
$str5 @
]@ A
;A B
oDatosGeneralesE 
. 
	dAutoTime &
=' (
() *
string* 0
)0 1
dr2 4
[4 5
$str5 @
]@ A
;A B
oDatosGeneralesE 
. 
cIpressCode (
=) *
(+ ,
string, 2
)2 3
dr4 6
[6 7
$str7 D
]D E
;E F
oDatosGeneralesE 
. 

dIpressRuc '
=( )
(* +
string+ 1
)1 2
dr3 5
[5 6
$str6 B
]B C
;C D
oDatosGeneralesE 
. 

apAsegApat '
=( )
(* +
string+ 1
)1 2
dr3 5
[5 6
$str6 B
]B C
;C D
oDatosGeneralesE 
. 

apAsegAmat '
=( )
(* +
string+ 1
)1 2
dr3 5
[5 6
$str6 B
]B C
;C D
oDatosGeneralesE 
. 
	nAsegName &
=' (
() *
string* 0
)0 1
dr2 4
[4 5
$str5 @
]@ A
;A B
oDatosGeneralesE 
. 

apTituApat '
=( )
(* +
string+ 1
)1 2
dr3 5
[5 6
$str6 B
]B C
;C D
oDatosGeneralesE 
. 

apTituAmat '
=( )
(* +
string+ 1
)1 2
dr3 5
[5 6
$str6 B
]B C
;C D
oDatosGeneralesE   
.   
	nTituName   &
=  ' (
(  ) *
string  * 0
)  0 1
dr  2 4
[  4 5
$str  5 @
]  @ A
;  A B
oDatosGeneralesE!! 
.!! 
	fNacmDate!! &
=!!' (
(!!) *
string!!* 0
)!!0 1
dr!!2 4
[!!4 5
$str!!5 @
]!!@ A
;!!A B
oDatosGeneralesE"" 
."" 
nEdadNum"" %
=""& '
(""( )
int"") ,
)"", -
dr"". 0
[""0 1
$str""1 ;
]""; <
;""< =
oDatosGeneralesE## 
.## 
cGeCode## $
=##% &
(##' (
string##( .
)##. /
dr##0 2
[##2 3
$str##3 <
]##< =
;##= >
oDatosGeneralesE$$ 
.$$ 
	cTituCode$$ &
=$$' (
($$) *
string$$* 0
)$$0 1
dr$$2 4
[$$4 5
$str$$5 @
]$$@ A
;$$A B
oDatosGeneralesE%% 
.%% 
	cTipoPlan%% &
=%%' (
(%%) *
string%%* 0
)%%0 1
dr%%2 4
[%%4 5
$str%%5 @
]%%@ A
;%%A B
oDatosGeneralesE&& 
.&& 
dCntrRuc&& %
=&&& '
(&&( )
string&&) /
)&&/ 0
dr&&1 3
[&&3 4
$str&&4 >
]&&> ?
;&&? @
oDatosGeneralesE'' 
.'' 
	dCntrName'' &
=''' (
('') *
string''* 0
)''0 1
dr''2 4
[''4 5
$str''5 @
]''@ A
;''A B
oDatosGeneralesE(( 
.(( 
fIniVigDate(( (
=(() *
(((+ ,
string((, 2
)((2 3
dr((4 6
[((6 7
$str((7 D
]((D E
;((E F
oDatosGeneralesE)) 
.)) 
fFinVigDate)) (
=))) *
())+ ,
string)), 2
)))2 3
dr))4 6
[))6 7
$str))7 D
]))D E
;))E F
oDatosGeneralesE** 
.** 
	fInclDate** &
=**' (
(**) *
string*** 0
)**0 1
dr**2 4
[**4 5
$str**5 @
]**@ A
;**A B
oDatosGeneralesE++ 
.++ 

cFiliaCode++ '
=++( )
(++* +
string+++ 1
)++1 2
dr++3 5
[++5 6
$str++6 B
]++B C
;++C D
oDatosGeneralesE,, 
.,, 
cDniCode,, %
=,,& '
(,,( )
string,,) /
),,/ 0
dr,,1 3
[,,3 4
$str,,4 >
],,> ?
;,,? @
oDatosGeneralesE-- 
.-- 
	nCntrNumb-- &
=--' (
(--) *
string--* 0
)--0 1
dr--2 4
[--4 5
$str--5 @
]--@ A
;--A B
oDatosGeneralesE.. 
... 
	cMoneCode.. &
=..' (
(..) *
string..* 0
)..0 1
dr..2 4
[..4 5
$str..5 @
]..@ A
;..A B
oDatosGeneralesE// 
.// 
	cEstaCode// &
=//' (
(//) *
string//* 0
)//0 1
dr//2 4
[//4 5
$str//5 @
]//@ A
;//A B
oDatosGeneralesE00 
.00 
cAfiCode00 %
=00& '
(00( )
string00) /
)00/ 0
dr001 3
[003 4
$str004 >
]00> ?
;00? @
oDatosGeneralesE11 
.11 
	cSedeCode11 &
=11' (
(11) *
string11* 0
)110 1
dr112 4
[114 5
$str115 @
]11@ A
;11A B
oDatosGeneralesE22 
.22 
	dCarnNumb22 &
=22' (
(22) *
string22* 0
)220 1
dr222 4
[224 5
$str225 @
]22@ A
;22A B
oDatosGeneralesE33 
.33 
dObserva33 %
=33& '
(33( )
string33) /
)33/ 0
dr331 3
[333 4
$str334 >
]33> ?
;33? @
oDatosGeneralesE44 
.44 
	dFotoRuta44 &
=44' (
(44) *
string44* 0
)440 1
dr442 4
[444 5
$str445 @
]44@ A
;44A B
oDatosGeneralesE55 
.55 
	nAsegPlan55 &
=55' (
(55) *
string55* 0
)550 1
dr552 4
[554 5
$str555 @
]55@ A
;55A B
oDatosGeneralesE66 
.66 
nDniTitular66 (
=66) *
(66+ ,
string66, 2
)662 3
dr664 6
[666 7
$str667 D
]66D E
;66E F
oDatosGeneralesE77 
.77 
cDniTitular77 (
=77) *
(77+ ,
string77, 2
)772 3
dr774 6
[776 7
$str777 D
]77D E
;77E F
oDatosGeneralesE88 
.88 
nPoliza88 $
=88% &
(88' (
string88( .
)88. /
dr880 2
[882 3
$str883 <
]88< =
;88= >
oDatosGeneralesE99 
.99 
cCntrTipoDoc99 )
=99* +
(99, -
string99- 3
)993 4
dr995 7
[997 8
$str998 F
]99F G
;99G H
oDatosGeneralesE:: 
.:: 
nDniName:: %
=::& '
(::( )
string::) /
)::/ 0
dr::1 3
[::3 4
$str::4 >
]::> ?
;::? @
oDatosGeneralesE;; 
.;; 
dLogSusalud;; (
=;;) *
(;;+ ,
string;;, 2
);;2 3
dr;;4 6
[;;6 7
$str;;7 D
];;D E
;;;E F
oDatosGeneralesE<< 
.<< 
cEsCivil<< %
=<<& '
(<<( )
string<<) /
)<</ 0
dr<<1 3
[<<3 4
$str<<4 >
]<<> ?
;<<? @
oDatosGeneralesE== 
.== 
nCertificado== )
===* +
(==, -
string==- 3
)==3 4
dr==5 7
[==7 8
$str==8 F
]==F G
;==G H
oDatosGeneralesE>> 
.>> 
nCodSeguridad>> *
=>>+ ,
(>>- .
string>>. 4
)>>4 5
dr>>6 8
[>>8 9
$str>>9 H
]>>H I
;>>I J
oDatosGeneralesE?? 
.?? 
cIafasCodeCia?? *
=??+ ,
(??- .
string??. 4
)??4 5
dr??6 8
[??8 9
$str??9 H
]??H I
;??I J
oDatosGeneralesE@@ 
.@@ 
dCondEspeciales@@ ,
=@@- .
(@@/ 0
string@@0 6
)@@6 7
dr@@8 :
[@@: ;
$str@@; L
]@@L M
;@@M N
oDatosGeneralesEAA 
.AA 

cRenIpressAA '
=AA( )
(AA* +
stringAA+ 1
)AA1 2
drAA3 5
[AA5 6
$strAA6 B
]AAB C
;AAC D
returnCC 
oDatosGeneralesECC #
;CC# $
}DD 	
publicFF 
stringFF $
Sp_DatosGenerales_InsertFF .
(FF. /
refFF/ 2
DatosGeneralesEFF3 B
pDatosGeneralesEFFC S
)FFS T
{GG 	
boolHH 
xResultHH 
=HH 
falseHH  
;HH  !
stringII 
s_codigoII 
=II 
$strII  
;II  !
tryJJ 
{KK 
usingLL 
(LL 
SqlConnectionLL $
cnnLL% (
=LL) *
newLL+ .
SqlConnectionLL/ <
(LL< =
VariablesGlobalesLL= N
.LLN O

CnnClinicaLLO Y
)LLY Z
)LLZ [
{MM 
usingNN 
(NN 

SqlCommandNN %
cmdNN& )
=NN* +
newNN, /

SqlCommandNN0 :
(NN: ;
$strNN; \
,NN\ ]
cnnNN^ a
)NNa b
)NNb c
{OO 
cmdPP 
.PP 
CommandTypePP '
=PP( )
CommandTypePP* 5
.PP5 6
StoredProcedurePP6 E
;PPE F
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 A
,RRA B
pDatosGeneralesERRC S
.RRS T

cIafasCodeRRT ^
)RR^ _
;RR_ `
cmdSS 
.SS 

ParametersSS &
.SS& '
AddWithValueSS' 3
(SS3 4
$strSS4 @
,SS@ A
pDatosGeneralesESSB R
.SSR S
	cAsegCodeSSS \
)SS\ ]
;SS] ^
cmdTT 
.TT 

ParametersTT &
.TT& '
AddWithValueTT' 3
(TT3 4
$strTT4 @
,TT@ A
pDatosGeneralesETTB R
.TTR S
	cAutoCodeTTS \
)TT\ ]
;TT] ^
cmdUU 
.UU 

ParametersUU &
.UU& '
AddWithValueUU' 3
(UU3 4
$strUU4 @
,UU@ A
pDatosGeneralesEUUB R
.UUR S
	fAutoDateUUS \
)UU\ ]
;UU] ^
cmdVV 
.VV 

ParametersVV &
.VV& '
AddWithValueVV' 3
(VV3 4
$strVV4 @
,VV@ A
pDatosGeneralesEVVB R
.VVR S
	dAutoTimeVVS \
)VV\ ]
;VV] ^
cmdWW 
.WW 

ParametersWW &
.WW& '
AddWithValueWW' 3
(WW3 4
$strWW4 B
,WWB C
pDatosGeneralesEWWD T
.WWT U
cIpressCodeWWU `
)WW` a
;WWa b
cmdXX 
.XX 

ParametersXX &
.XX& '
AddWithValueXX' 3
(XX3 4
$strXX4 A
,XXA B
pDatosGeneralesEXXC S
.XXS T

dIpressRucXXT ^
)XX^ _
;XX_ `
cmdYY 
.YY 

ParametersYY &
.YY& '
AddWithValueYY' 3
(YY3 4
$strYY4 A
,YYA B
pDatosGeneralesEYYC S
.YYS T

apAsegApatYYT ^
)YY^ _
;YY_ `
cmdZZ 
.ZZ 

ParametersZZ &
.ZZ& '
AddWithValueZZ' 3
(ZZ3 4
$strZZ4 A
,ZZA B
pDatosGeneralesEZZC S
.ZZS T

apAsegAmatZZT ^
)ZZ^ _
;ZZ_ `
cmd[[ 
.[[ 

Parameters[[ &
.[[& '
AddWithValue[[' 3
([[3 4
$str[[4 @
,[[@ A
pDatosGeneralesE[[B R
.[[R S
	nAsegName[[S \
)[[\ ]
;[[] ^
cmd\\ 
.\\ 

Parameters\\ &
.\\& '
AddWithValue\\' 3
(\\3 4
$str\\4 A
,\\A B
pDatosGeneralesE\\C S
.\\S T

apTituAmat\\T ^
)\\^ _
;\\_ `
cmd]] 
.]] 

Parameters]] &
.]]& '
AddWithValue]]' 3
(]]3 4
$str]]4 A
,]]A B
pDatosGeneralesE]]C S
.]]S T

apTituAmat]]T ^
)]]^ _
;]]_ `
cmd^^ 
.^^ 

Parameters^^ &
.^^& '
AddWithValue^^' 3
(^^3 4
$str^^4 @
,^^@ A
pDatosGeneralesE^^B R
.^^R S
	nTituName^^S \
)^^\ ]
;^^] ^
cmd__ 
.__ 

Parameters__ &
.__& '
AddWithValue__' 3
(__3 4
$str__4 A
,__A B
pDatosGeneralesE__C S
.__S T

cFiliaCode__T ^
)__^ _
;___ `
cmd`` 
.`` 

Parameters`` &
.``& '
AddWithValue``' 3
(``3 4
$str``4 @
,``@ A
pDatosGeneralesE``B R
.``R S
	cSedeCode``S \
)``\ ]
;``] ^
cmdaa 
.aa 

Parametersaa &
.aa& '
AddWithValueaa' 3
(aa3 4
$straa4 @
,aa@ A
pDatosGeneralesEaaB R
.aaR S
	fNacmDateaaS \
)aa\ ]
;aa] ^
cmdbb 
.bb 

Parametersbb &
.bb& '
AddWithValuebb' 3
(bb3 4
$strbb4 ?
,bb? @
pDatosGeneralesEbbA Q
.bbQ R
nEdadNumbbR Z
)bbZ [
;bb[ \
cmdcc 
.cc 

Parameterscc &
.cc& '
AddWithValuecc' 3
(cc3 4
$strcc4 >
,cc> ?
pDatosGeneralesEcc@ P
.ccP Q
cGeCodeccQ X
)ccX Y
;ccY Z
cmddd 
.dd 

Parametersdd &
.dd& '
AddWithValuedd' 3
(dd3 4
$strdd4 @
,dd@ A
pDatosGeneralesEddB R
.ddR S
	cTituCodeddS \
)dd\ ]
;dd] ^
cmdee 
.ee 

Parametersee &
.ee& '
AddWithValueee' 3
(ee3 4
$stree4 @
,ee@ A
pDatosGeneralesEeeB R
.eeR S
	cTipoPlaneeS \
)ee\ ]
;ee] ^
cmdff 
.ff 

Parametersff &
.ff& '
AddWithValueff' 3
(ff3 4
$strff4 ?
,ff? @
pDatosGeneralesEffA Q
.ffQ R
dCntrRucffR Z
)ffZ [
;ff[ \
cmdgg 
.gg 

Parametersgg &
.gg& '
AddWithValuegg' 3
(gg3 4
$strgg4 @
,gg@ A
pDatosGeneralesEggB R
.ggR S
	dCntrNameggS \
)gg\ ]
;gg] ^
cmdhh 
.hh 

Parametershh &
.hh& '
AddWithValuehh' 3
(hh3 4
$strhh4 B
,hhB C
pDatosGeneralesEhhD T
.hhT U
fIniVigDatehhU `
)hh` a
;hha b
cmdii 
.ii 

Parametersii &
.ii& '
AddWithValueii' 3
(ii3 4
$strii4 B
,iiB C
pDatosGeneralesEiiD T
.iiT U
fFinVigDateiiU `
)ii` a
;iia b
cmdjj 
.jj 

Parametersjj &
.jj& '
AddWithValuejj' 3
(jj3 4
$strjj4 @
,jj@ A
pDatosGeneralesEjjB R
.jjR S
	fInclDatejjS \
)jj\ ]
;jj] ^
cmdkk 
.kk 

Parameterskk &
.kk& '
AddWithValuekk' 3
(kk3 4
$strkk4 ?
,kk? @
pDatosGeneralesEkkA Q
.kkQ R
cDniCodekkR Z
)kkZ [
;kk[ \
cmdll 
.ll 

Parametersll &
.ll& '
AddWithValuell' 3
(ll3 4
$strll4 @
,ll@ A
pDatosGeneralesEllB R
.llR S
	nCntrNumbllS \
)ll\ ]
;ll] ^
cmdmm 
.mm 

Parametersmm &
.mm& '
AddWithValuemm' 3
(mm3 4
$strmm4 @
,mm@ A
pDatosGeneralesEmmB R
.mmR S
	cMoneCodemmS \
)mm\ ]
;mm] ^
cmdnn 
.nn 

Parametersnn &
.nn& '
AddWithValuenn' 3
(nn3 4
$strnn4 @
,nn@ A
pDatosGeneralesEnnB R
.nnR S
	cEstaCodennS \
)nn\ ]
;nn] ^
cmdoo 
.oo 

Parametersoo &
.oo& '
AddWithValueoo' 3
(oo3 4
$stroo4 ?
,oo? @
pDatosGeneralesEooA Q
.ooQ R
cAfiCodeooR Z
)ooZ [
;oo[ \
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 @
,pp@ A
pDatosGeneralesEppB R
.ppR S
	dCarnNumbppS \
)pp\ ]
;pp] ^
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 ?
,qq? @
pDatosGeneralesEqqA Q
.qqQ R
dObservaqqR Z
)qqZ [
;qq[ \
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 @
,rr@ A
pDatosGeneralesErrB R
.rrR S
	dFotoRutarrS \
)rr\ ]
;rr] ^
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 @
,ss@ A
pDatosGeneralesEssB R
.ssR S
	nAsegPlanssS \
)ss\ ]
;ss] ^
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 B
,ttB C
pDatosGeneralesEttD T
.ttT U
nDniTitularttU `
)tt` a
;tta b
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 B
,uuB C
pDatosGeneralesEuuD T
.uuT U
cDniTitularuuU `
)uu` a
;uua b
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 >
,vv> ?
pDatosGeneralesEvv@ P
.vvP Q
nPolizavvQ X
)vvX Y
;vvY Z
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 C
,wwC D
pDatosGeneralesEwwE U
.wwU V
cCntrTipoDocwwV b
)wwb c
;wwc d
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 ?
,xx? @
pDatosGeneralesExxA Q
.xxQ R
nDniNamexxR Z
)xxZ [
;xx[ \
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 B
,yyB C
pDatosGeneralesEyyD T
.yyT U
dLogSusaludyyU `
)yy` a
;yya b
cmdzz 
.zz 

Parameterszz &
.zz& '
AddWithValuezz' 3
(zz3 4
$strzz4 ?
,zz? @
pDatosGeneralesEzzA Q
.zzQ R
cEsCivilzzR Z
)zzZ [
;zz[ \
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 C
,{{C D
pDatosGeneralesE{{E U
.{{U V
nCertificado{{V b
){{b c
;{{c d
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 D
,||D E
pDatosGeneralesE||F V
.||V W
nCodSeguridad||W d
)||d e
;||e f
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 D
,}}D E
pDatosGeneralesE}}F V
.}}V W
cIafasCodeCia}}W d
)}}d e
;}}e f
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 F
,~~F G
pDatosGeneralesE~~H X
.~~X Y
dCondEspeciales~~Y h
)~~h i
;~~i j
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 A
,A B
pDatosGeneralesEC S
.S T

cRenIpressT ^
)^ _
;_ `
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
Add
ÄÄ' *
(
ÄÄ* +
VariablesGlobales
ÄÄ+ <
.
ÄÄ< =
ParametroSql
ÄÄ= I
(
ÄÄI J
$str
ÄÄJ U
,
ÄÄU V 
ParameterDirection
ÄÄW i
.
ÄÄi j
Output
ÄÄj p
,
ÄÄp q
	SqlDbType
ÄÄr {
.
ÄÄ{ |
VarCharÄÄ| É
,ÄÄÉ Ñ
$numÄÄÖ á
,ÄÄá à 
pDatosGeneralesEÄÄâ ô
.ÄÄô ö

codllaveDGÄÄö §
)ÄÄ§ •
)ÄÄ• ¶
;ÄÄ¶ ß
cnn
ÅÅ 
.
ÅÅ 
Open
ÅÅ  
(
ÅÅ  !
)
ÅÅ! "
;
ÅÅ" #
cmd
ÑÑ 
.
ÑÑ 
ExecuteNonQuery
ÑÑ +
(
ÑÑ+ ,
)
ÑÑ, -
;
ÑÑ- .
pDatosGeneralesE
ÖÖ (
.
ÖÖ( )

codllaveDG
ÖÖ) 3
=
ÖÖ4 5
cmd
ÖÖ6 9
.
ÖÖ9 :

Parameters
ÖÖ: D
[
ÖÖD E
$str
ÖÖE P
]
ÖÖP Q
.
ÖÖQ R
Value
ÖÖR W
+
ÖÖX Y
$str
ÖÖZ \
;
ÖÖ\ ]
s_codigo
ÜÜ  
=
ÜÜ! "
pDatosGeneralesE
ÜÜ# 3
.
ÜÜ3 4

codllaveDG
ÜÜ4 >
;
ÜÜ> ?
xResult
áá 
=
áá  !
true
áá" &
;
áá& '
cnn
ââ 
.
ââ 
Close
ââ !
(
ââ! "
)
ââ" #
;
ââ# $
cmd
ää 
.
ää 
Dispose
ää #
(
ää# $
)
ää$ %
;
ää% &
}
ãã 
}
åå 
return
éé 
s_codigo
éé 
;
éé  
}
èè 
catch
êê 
(
êê 
	Exception
êê 
ex
êê 
)
êê  
{
ëë 
throw
íí 
new
íí 
	Exception
íí #
(
íí# $
ex
íí$ &
.
íí& '
Message
íí' .
)
íí. /
;
íí/ 0
}
ìì 
}
îî 	
}
ïï 
}ññ ôç
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\SitedsAD\Coberturas_AcredAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
SitedsAD

 $
{ 
public 

class 
Coberturas_AcredAD #
{ 
private 
Coberturas_AcredE !
LlenarEntidad" /
(/ 0
IDataReader0 ;
dr< >
,> ?
Coberturas_AcredE@ Q
PCoberturas_AcredR c
)c d
{ 	
Coberturas_AcredE 
oCoberturas_AcredE 0
=1 2
new3 6
Coberturas_AcredE7 H
(H I
)I J
;J K
oCoberturas_AcredE 
. 

cIafasCode )
=* +
(, -
string- 3
)3 4
dr5 7
[7 8
$str8 D
]D E
;E F
oCoberturas_AcredE 
. 
	cAsegCode (
=) *
(+ ,
string, 2
)2 3
dr4 6
[6 7
$str7 B
]B C
;C D
oCoberturas_AcredE 
. 
	cAutoCode (
=) *
(+ ,
string, 2
)2 3
dr4 6
[6 7
$str7 B
]B C
;C D
oCoberturas_AcredE 
. 

cCoberCode )
=* +
(, -
string- 3
)3 4
dr5 7
[7 8
$str8 D
]D E
;E F
oCoberturas_AcredE 
. 
cSubTipoCober ,
=- .
(/ 0
string0 6
)6 7
dr8 :
[: ;
$str; J
]J K
;K L
oCoberturas_AcredE 
. 
nSubTipoCober ,
=- .
(/ 0
string0 6
)6 7
dr8 :
[: ;
$str; J
]J K
;K L
oCoberturas_AcredE 
. 
cIndiProCode +
=, -
(. /
string/ 5
)5 6
dr7 9
[9 :
$str: H
]H I
;I J
oCoberturas_AcredE 
. 
	nCopgFijo (
=) *
(+ ,
double, 2
)2 3
dr4 6
[6 7
$str7 B
]B C
;C D
oCoberturas_AcredE 
. 
	cMoneCode (
=) *
(+ ,
string, 2
)2 3
dr4 6
[6 7
$str7 B
]B C
;C D
oCoberturas_AcredE 
. 
cCalifServCode -
=. /
(0 1
string1 7
)7 8
dr9 ;
[; <
$str< L
]L M
;M N
oCoberturas_AcredE 
. 
	nCopgVari (
=) *
(+ ,
double, 2
)2 3
dr4 6
[6 7
$str7 B
]B C
;C D
oCoberturas_AcredE 
. 
dBeneficioMax ,
=- .
(/ 0
string0 6
)6 7
dr8 :
[: ;
$str; J
]J K
;K L
oCoberturas_AcredE   
.   

fFeCarDate   )
=  * +
(  , -
string  - 3
)  3 4
dr  5 7
[  7 8
$str  8 D
]  D E
;  E F
oCoberturas_AcredE!! 
.!! 

fEsperDate!! )
=!!* +
(!!, -
string!!- 3
)!!3 4
dr!!5 7
[!!7 8
$str!!8 D
]!!D E
;!!E F
oCoberturas_AcredE"" 
."" 

cFlagCarta"" )
=""* +
("", -
string""- 3
)""3 4
dr""5 7
[""7 8
$str""8 D
]""D E
;""E F
oCoberturas_AcredE## 
.## 
	cProdCode## (
=##) *
(##+ ,
string##, 2
)##2 3
dr##4 6
[##6 7
$str##7 B
]##B C
;##C D
oCoberturas_AcredE$$ 
.$$ 
	cEspeCode$$ (
=$$) *
($$+ ,
string$$, 2
)$$2 3
dr$$4 6
[$$6 7
$str$$7 B
]$$B C
;$$C D
oCoberturas_AcredE%% 
.%% 
	dIpssHost%% (
=%%) *
(%%+ ,
string%%, 2
)%%2 3
dr%%4 6
[%%6 7
$str%%7 B
]%%B C
;%%C D
oCoberturas_AcredE&& 
.&& 

cOrigenAte&& )
=&&* +
(&&, -
string&&- 3
)&&3 4
dr&&5 7
[&&7 8
$str&&8 D
]&&D E
;&&E F
oCoberturas_AcredE'' 
.'' 
cAccidentes'' *
=''+ ,
(''- .
string''. 4
)''4 5
dr''6 8
[''8 9
$str''9 F
]''F G
;''G H
oCoberturas_AcredE(( 
.(( 
cTiDeclaracion(( -
=((. /
(((0 1
string((1 7
)((7 8
dr((9 ;
[((; <
$str((< L
]((L M
;((M N
oCoberturas_AcredE)) 
.)) 
dObserva)) '
=))( )
())* +
string))+ 1
)))1 2
dr))3 5
[))5 6
$str))6 @
]))@ A
;))A B
oCoberturas_AcredE** 
.** 
dComercName** *
=**+ ,
(**- .
string**. 4
)**4 5
dr**6 8
[**8 9
$str**9 F
]**F G
;**G H
oCoberturas_AcredE++ 
.++ 
fAccidentes++ *
=+++ ,
(++- .
string++. 4
)++4 5
dr++6 8
[++8 9
$str++9 F
]++F G
;++G H
oCoberturas_AcredE,, 
.,, 
fOrigenAten,, *
=,,+ ,
(,,- .
string,,. 4
),,4 5
dr,,6 8
[,,8 9
$str,,9 F
],,F G
;,,G H
oCoberturas_AcredE-- 
.-- 
	cUserCode-- (
=--) *
(--+ ,
string--, 2
)--2 3
dr--4 6
[--6 7
$str--7 B
]--B C
;--C D
oCoberturas_AcredE.. 
... 
	nUserName.. (
=..) *
(..+ ,
string.., 2
)..2 3
dr..4 6
[..6 7
$str..7 B
]..B C
;..C D
oCoberturas_AcredE// 
.// 
cFlagCGCode// *
=//+ ,
(//- .
string//. 4
)//4 5
dr//6 8
[//8 9
$str//9 F
]//F G
;//G H
oCoberturas_AcredE00 
.00 
dFlagCGName00 *
=00+ ,
(00- .
string00. 4
)004 5
dr006 8
[008 9
$str009 F
]00F G
;00G H
oCoberturas_AcredE11 
.11 
cIndiRestriCode11 .
=11/ 0
(111 2
string112 8
)118 9
dr11: <
[11< =
$str11= N
]11N O
;11O P
oCoberturas_AcredE22 
.22 
dObsCarencia22 +
=22, -
(22. /
string22/ 5
)225 6
dr227 9
[229 :
$str22: H
]22H I
;22I J
return55 
oCoberturas_AcredE55 %
;55% &
}66 	
public88 
string88 &
Sp_Coberturas_Acred_Insert88 0
(880 1
ref881 4
Coberturas_AcredE885 F
pCoberturas_AcredE88G Y
)88Y Z
{99 	
bool:: 
xResult:: 
=:: 
false::  
;::  !
string;; 
s_codigo;; 
=;; 
$str;;  
;;;  !
try<< 
{== 
using>> 
(>> 
SqlConnection>> $
cnn>>% (
=>>) *
new>>+ .
SqlConnection>>/ <
(>>< =
VariablesGlobales>>= N
.>>N O

CnnClinica>>O Y
)>>Y Z
)>>Z [
{?? 
using@@ 
(@@ 

SqlCommand@@ %
cmd@@& )
=@@* +
new@@, /

SqlCommand@@0 :
(@@: ;
$str@@; ^
,@@^ _
cnn@@` c
)@@c d
)@@d e
{AA 
cmdBB 
.BB 
CommandTypeBB '
=BB( )
CommandTypeBB* 5
.BB5 6
StoredProcedureBB6 E
;BBE F
cmdDD 
.DD 

ParametersDD &
.DD& '
AddWithValueDD' 3
(DD3 4
$strDD4 A
,DDA B
pCoberturas_AcredEDDC U
.DDU V

cIafasCodeDDV `
)DD` a
;DDa b
cmdEE 
.EE 

ParametersEE &
.EE& '
AddWithValueEE' 3
(EE3 4
$strEE4 @
,EE@ A
pCoberturas_AcredEEEB T
.EET U
	cAsegCodeEEU ^
)EE^ _
;EE_ `
cmdFF 
.FF 

ParametersFF &
.FF& '
AddWithValueFF' 3
(FF3 4
$strFF4 @
,FF@ A
pCoberturas_AcredEFFB T
.FFT U
	cAutoCodeFFU ^
)FF^ _
;FF_ `
cmdGG 
.GG 

ParametersGG &
.GG& '
AddWithValueGG' 3
(GG3 4
$strGG4 A
,GGA B
pCoberturas_AcredEGGC U
.GGU V

cCoberCodeGGV `
)GG` a
;GGa b
cmdHH 
.HH 

ParametersHH &
.HH& '
AddWithValueHH' 3
(HH3 4
$strHH4 D
,HHD E
pCoberturas_AcredEHHF X
.HHX Y
cSubTipoCoberHHY f
)HHf g
;HHg h
cmdII 
.II 

ParametersII &
.II& '
AddWithValueII' 3
(II3 4
$strII4 D
,IID E
pCoberturas_AcredEIIF X
.IIX Y
nSubTipoCoberIIY f
)IIf g
;IIg h
cmdJJ 
.JJ 

ParametersJJ &
.JJ& '
AddWithValueJJ' 3
(JJ3 4
$strJJ4 C
,JJC D
pCoberturas_AcredEJJE W
.JJW X
cIndiProCodeJJX d
)JJd e
;JJe f
cmdKK 
.KK 

ParametersKK &
.KK& '
AddWithValueKK' 3
(KK3 4
$strKK4 @
,KK@ A
pCoberturas_AcredEKKB T
.KKT U
	nCopgFijoKKU ^
)KK^ _
;KK_ `
cmdLL 
.LL 

ParametersLL &
.LL& '
AddWithValueLL' 3
(LL3 4
$strLL4 @
,LL@ A
pCoberturas_AcredELLB T
.LLT U
	cMoneCodeLLU ^
)LL^ _
;LL_ `
cmdMM 
.MM 

ParametersMM &
.MM& '
AddWithValueMM' 3
(MM3 4
$strMM4 E
,MME F
pCoberturas_AcredEMMG Y
.MMY Z
cCalifServCodeMMZ h
)MMh i
;MMi j
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 @
,NN@ A
pCoberturas_AcredENNB T
.NNT U
	nCopgVariNNU ^
)NN^ _
;NN_ `
cmdOO 
.OO 

ParametersOO &
.OO& '
AddWithValueOO' 3
(OO3 4
$strOO4 D
,OOD E
pCoberturas_AcredEOOF X
.OOX Y
dBeneficioMaxOOY f
)OOf g
;OOg h
cmdPP 
.PP 

ParametersPP &
.PP& '
AddWithValuePP' 3
(PP3 4
$strPP4 A
,PPA B
pCoberturas_AcredEPPC U
.PPU V

fFeCarDatePPV `
)PP` a
;PPa b
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddWithValueQQ' 3
(QQ3 4
$strQQ4 A
,QQA B
pCoberturas_AcredEQQC U
.QQU V

fEsperDateQQV `
)QQ` a
;QQa b
cmdSS 
.SS 

ParametersSS &
.SS& '
AddWithValueSS' 3
(SS3 4
$strSS4 A
,SSA B
pCoberturas_AcredESSC U
.SSU V

cFlagCartaSSV `
)SS` a
;SSa b
cmdTT 
.TT 

ParametersTT &
.TT& '
AddWithValueTT' 3
(TT3 4
$strTT4 @
,TT@ A
pCoberturas_AcredETTB T
.TTT U
	cProdCodeTTU ^
)TT^ _
;TT_ `
cmdUU 
.UU 

ParametersUU &
.UU& '
AddWithValueUU' 3
(UU3 4
$strUU4 @
,UU@ A
pCoberturas_AcredEUUB T
.UUT U
	cEspeCodeUUU ^
)UU^ _
;UU_ `
cmdVV 
.VV 

ParametersVV &
.VV& '
AddWithValueVV' 3
(VV3 4
$strVV4 @
,VV@ A
pCoberturas_AcredEVVB T
.VVT U
	dIpssHostVVU ^
)VV^ _
;VV_ `
cmdWW 
.WW 

ParametersWW &
.WW& '
AddWithValueWW' 3
(WW3 4
$strWW4 A
,WWA B
pCoberturas_AcredEWWC U
.WWU V

cOrigenAteWWV `
)WW` a
;WWa b
cmdYY 
.YY 

ParametersYY &
.YY& '
AddWithValueYY' 3
(YY3 4
$strYY4 B
,YYB C
pCoberturas_AcredEYYD V
.YYV W
cAccidentesYYW b
)YYb c
;YYc d
cmdZZ 
.ZZ 

ParametersZZ &
.ZZ& '
AddWithValueZZ' 3
(ZZ3 4
$strZZ4 E
,ZZE F
pCoberturas_AcredEZZG Y
.ZZY Z
cTiDeclaracionZZZ h
)ZZh i
;ZZi j
cmd[[ 
.[[ 

Parameters[[ &
.[[& '
AddWithValue[[' 3
([[3 4
$str[[4 ?
,[[? @
pCoberturas_AcredE[[A S
.[[S T
dObserva[[T \
)[[\ ]
;[[] ^
cmd\\ 
.\\ 

Parameters\\ &
.\\& '
AddWithValue\\' 3
(\\3 4
$str\\4 B
,\\B C
pCoberturas_AcredE\\D V
.\\V W
dComercName\\W b
)\\b c
;\\c d
cmd^^ 
.^^ 

Parameters^^ &
.^^& '
AddWithValue^^' 3
(^^3 4
$str^^4 B
,^^B C
pCoberturas_AcredE^^D V
.^^V W
fAccidentes^^W b
)^^b c
;^^c d
cmd__ 
.__ 

Parameters__ &
.__& '
AddWithValue__' 3
(__3 4
$str__4 B
,__B C
pCoberturas_AcredE__D V
.__V W
fOrigenAten__W b
)__b c
;__c d
cmd`` 
.`` 

Parameters`` &
.``& '
AddWithValue``' 3
(``3 4
$str``4 @
,``@ A
pCoberturas_AcredE``B T
.``T U
	cUserCode``U ^
)``^ _
;``_ `
cmdaa 
.aa 

Parametersaa &
.aa& '
AddWithValueaa' 3
(aa3 4
$straa4 @
,aa@ A
pCoberturas_AcredEaaB T
.aaT U
	nUserNameaaU ^
)aa^ _
;aa_ `
cmdcc 
.cc 

Parameterscc &
.cc& '
AddWithValuecc' 3
(cc3 4
$strcc4 B
,ccB C
pCoberturas_AcredEccD V
.ccV W
cFlagCGCodeccW b
)ccb c
;ccc d
cmddd 
.dd 

Parametersdd &
.dd& '
AddWithValuedd' 3
(dd3 4
$strdd4 B
,ddB C
pCoberturas_AcredEddD V
.ddV W
dFlagCGNameddW b
)ddb c
;ddc d
cmdee 
.ee 

Parametersee &
.ee& '
AddWithValueee' 3
(ee3 4
$stree4 F
,eeF G
pCoberturas_AcredEeeH Z
.eeZ [
cIndiRestriCodeee[ j
)eej k
;eek l
cmdff 
.ff 

Parametersff &
.ff& '
AddWithValueff' 3
(ff3 4
$strff4 C
,ffC D
pCoberturas_AcredEffE W
.ffW X
dObsCarenciaffX d
)ffd e
;ffe f
cmdhh 
.hh 

Parametershh &
.hh& '
Addhh' *
(hh* +
VariablesGlobaleshh+ <
.hh< =
ParametroSqlhh= I
(hhI J
$strhhJ U
,hhU V
ParameterDirectionhhW i
.hhi j
Outputhhj p
,hhp q
	SqlDbTypehhr {
.hh{ |
VarChar	hh| É
,
hhÉ Ñ
$num
hhÖ á
,
hhá à 
pCoberturas_AcredE
hhâ õ
.
hhõ ú

codllaveCA
hhú ¶
)
hh¶ ß
)
hhß ®
;
hh® ©
cnnii 
.ii 
Openii  
(ii  !
)ii! "
;ii" #
cmdkk 
.kk 
ExecuteNonQuerykk +
(kk+ ,
)kk, -
;kk- .
pCoberturas_AcredEll *
.ll* +

codllaveCAll+ 5
=ll6 7
cmdll8 ;
.ll; <

Parametersll< F
[llF G
$strllG R
]llR S
.llS T
ValuellT Y
+llZ [
$strll\ ^
;ll^ _
s_codigomm  
=mm! "
pCoberturas_AcredEmm# 5
.mm5 6

codllaveCAmm6 @
;mm@ A
xResultoo 
=oo  !
trueoo" &
;oo& '
cnnqq 
.qq 
Closeqq !
(qq! "
)qq" #
;qq# $
cmdrr 
.rr 
Disposerr #
(rr# $
)rr$ %
;rr% &
}ss 
}tt 
returnvv 
s_codigovv 
;vv  
}ww 
catchxx 
(xx 
	Exceptionxx 
exxx 
)xx  
{yy 
throwzz 
newzz 
	Exceptionzz #
(zz# $
exzz$ &
.zz& '
Messagezz' .
)zz. /
;zz/ 0
}{{ 
}|| 	
}}} 
}~~ È≠
kD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\SistemasAD\SisCorreoDestinatarioMaeAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 

SistemasAD &
{ 
public		 

class		 &
SisCorreoDestinatarioMaeAD		 +
{

 
private %
SisCorreoDestinatarioMaeE )
LlenarEntidad* 7
(7 8
IDataReader8 C
drD F
,F G%
SisCorreoDestinatarioMaeE' @&
pSisCorreoDestinatarioMaeEA [
)[ \
{ 	%
SisCorreoDestinatarioMaeE %&
oSisCorreoDestinatarioMaeE& @
=A B
newC F%
SisCorreoDestinatarioMaeEG `
(` a
)a b
;b c
switch 
( &
pSisCorreoDestinatarioMaeE .
.. /
Orden/ 4
)4 5
{ 
case 
$num 
: &
oSisCorreoDestinatarioMaeE .
.. /
CodLista/ 7
=8 9
Convert: A
.A B
ToStringB J
(J K
drK M
[M N
$strN Y
]Y Z
+[ \
$str] _
)_ `
;` a&
oSisCorreoDestinatarioMaeE .
.. /
SecLista/ 7
=8 9
Convert: A
.A B
ToInt32B I
(I J
drJ L
[L M
$strM X
]X Y
)Y Z
;Z [&
oSisCorreoDestinatarioMaeE .
.. /
CodTipo/ 6
=7 8
Convert9 @
.@ A
ToInt32A H
(H I
drI K
[K L
$strL V
]V W
)W X
;X Y&
oSisCorreoDestinatarioMaeE .
.. /
DscDestinatario/ >
=? @
ConvertA H
.H I
ToStringI Q
(Q R
drR T
[T U
$strU g
]g h
+i j
$strk m
)m n
;n o&
oSisCorreoDestinatarioMaeE .
.. /
FlgRegistro/ :
=; <
Convert= D
.D E
	ToBooleanE N
(N O
drO Q
[Q R
$strR `
]` a
)a b
;b c&
oSisCorreoDestinatarioMaeE .
.. /
	IdeCorreo/ 8
=9 :
Convert; B
.B C
ToInt32C J
(J K
drK M
[M N
$strN Z
]Z [
)[ \
;\ ]&
oSisCorreoDestinatarioMaeE .
.. /
NombCodTipo/ :
=; <
Convert= D
.D E
ToStringE M
(M N
drN P
[P Q
$strQ _
]_ `
)` a
;a b
break 
; 
case 
$num 
: &
oSisCorreoDestinatarioMaeE .
.. /
CodLista/ 7
=8 9
Convert: A
.A B
ToStringB J
(J K
drK M
[M N
$strN Y
]Y Z
+[ \
$str] _
)_ `
;` a&
oSisCorreoDestinatarioMaeE .
.. /
SecLista/ 7
=8 9
Convert: A
.A B
ToInt32B I
(I J
drJ L
[L M
$strM X
]X Y
)Y Z
;Z [&
oSisCorreoDestinatarioMaeE .
.. /
CodTipo/ 6
=7 8
Convert9 @
.@ A
ToInt32A H
(H I
drI K
[K L
$strL V
]V W
)W X
;X Y&
oSisCorreoDestinatarioMaeE .
.. /
DscDestinatario/ >
=? @
ConvertA H
.H I
ToStringI Q
(Q R
drR T
[T U
$strU g
]g h
+i j
$strk m
)m n
;n o&
oSisCorreoDestinatarioMaeE   .
.  . /
FlgRegistro  / :
=  ; <
Convert  = D
.  D E
	ToBoolean  E N
(  N O
dr  O Q
[  Q R
$str  R `
]  ` a
)  a b
;  b c&
oSisCorreoDestinatarioMaeE!! .
.!!. /
	IdeCorreo!!/ 8
=!!9 :
Convert!!; B
.!!B C
ToInt32!!C J
(!!J K
dr!!K M
[!!M N
$str!!N Z
]!!Z [
)!![ \
;!!\ ]
break"" 
;"" 
case## 
$num## 
:## &
oSisCorreoDestinatarioMaeE$$ .
.$$. /
CodLista$$/ 7
=$$8 9
Convert$$: A
.$$A B
ToString$$B J
($$J K
dr$$K M
[$$M N
$str$$N Y
]$$Y Z
+$$[ \
$str$$] _
)$$_ `
;$$` a
break%% 
;%% 
case&& 
$num&& 
:&& &
oSisCorreoDestinatarioMaeE'' .
.''. /
DscDestinatario''/ >
=''? @
Convert''A H
.''H I
ToString''I Q
(''Q R
dr''R T
[''T U
$str''U g
]''g h
+''i j
$str''k m
)''m n
;''n o
break(( 
;(( 
})) 
return++ &
oSisCorreoDestinatarioMaeE++ -
;++- .
},, 	
public.. 
List.. 
<.. %
SisCorreoDestinatarioMaeE.. -
>..- .0
$Sp_SisCorreodestinatarioMae_Consulta../ S
(..S T%
SisCorreoDestinatarioMaeE..T m'
pSisCorreoDestinatarioMaeE	..n à
)
..à â
{// 	
List00 
<00 %
SisCorreoDestinatarioMaeE00 *
>00* +
oListar00, 3
=004 5
new006 9
List00: >
<00> ?%
SisCorreoDestinatarioMaeE00? X
>00X Y
(00Y Z
)00Z [
;00[ \%
SisCorreoDestinatarioMaeE11 %&
oSisCorreoDestinatarioMaeE11& @
=11A B
null11C G
;11G H
using22 
(22 
SqlConnection22  
cnn22! $
=22% &
new22' *
SqlConnection22+ 8
(228 9
VariablesGlobales229 J
.22J K

CnnClinica22K U
)22U V
)22V W
{33 
using44 
(44 

SqlCommand44 !
cmd44" %
=44& '
new44( +

SqlCommand44, 6
(446 7
$str447 ]
,44] ^
cnn44_ b
)44b c
)44c d
{55 
cmd66 
.66 
CommandType66 #
=66$ %
System66& ,
.66, -
Data66- 1
.661 2
CommandType662 =
.66= >
StoredProcedure66> M
;66M N
cmd88 
.88 

Parameters88 "
.88" #
AddWithValue88# /
(88/ 0
$str880 =
,88= >&
pSisCorreoDestinatarioMaeE88? Y
.88Y Z
	IdeCorreo88Z c
)88c d
;88d e
cmd99 
.99 

Parameters99 "
.99" #
AddWithValue99# /
(99/ 0
$str990 <
,99< =&
pSisCorreoDestinatarioMaeE99> X
.99X Y
CodLista99Y a
)99a b
;99b c
cmd:: 
.:: 

Parameters:: "
.::" #
AddWithValue::# /
(::/ 0
$str::0 C
,::C D&
pSisCorreoDestinatarioMaeE::E _
.::_ `
DscDestinatario::` o
)::o p
;::p q
cmd;; 
.;; 

Parameters;; "
.;;" #
AddWithValue;;# /
(;;/ 0
$str;;0 <
,;;< =&
pSisCorreoDestinatarioMaeE;;> X
.;;X Y
NroFilas;;Y a
);;a b
;;;b c
cmd<< 
.<< 

Parameters<< "
.<<" #
AddWithValue<<# /
(<</ 0
$str<<0 8
,<<8 9&
pSisCorreoDestinatarioMaeE<<: T
.<<T U
Orden<<U Z
)<<Z [
;<<[ \
cnn== 
.== 
Open== 
(== 
)== 
;== 
IDataReader>> 
dr>>  "
=>># $
cmd>>% (
.>>( )
ExecuteReader>>) 6
(>>6 7
)>>7 8
;>>8 9
while?? 
(?? 
dr?? 
.?? 
Read?? "
(??" #
)??# $
)??$ %
{@@ &
oSisCorreoDestinatarioMaeEAA 2
=AA3 4
LlenarEntidadAA5 B
(AAB C
drAAC E
,AAE F&
pSisCorreoDestinatarioMaeEAAG a
)AAa b
;AAb c
oListarBB 
.BB  
AddBB  #
(BB# $&
oSisCorreoDestinatarioMaeEBB$ >
)BB> ?
;BB? @
}CC 
drDD 
.DD 
CloseDD 
(DD 
)DD 
;DD 
cnnEE 
.EE 
CloseEE 
(EE 
)EE 
;EE  
}FF 
}GG 
returnHH 
oListarHH 
;HH 
}II 	
publicLL 
boolLL .
"Sp_SisCorreodestinatarioMae_InsertLL 6
(LL6 7%
SisCorreoDestinatarioMaeELL7 P&
pSisCorreoDestinatarioMaeELLQ k
)LLk l
{MM 	
tryNN 
{OO 
usingPP 
(PP 
SqlConnectionPP $
cnnPP% (
=PP) *
newPP+ .
SqlConnectionPP/ <
(PP< =
VariablesGlobalesPP= N
.PPN O

CnnClinicaPPO Y
)PPY Z
)PPZ [
{QQ 
usingRR 
(RR 

SqlCommandRR %
cmdRR& )
=RR* +
newRR, /

SqlCommandRR0 :
(RR: ;
$strRR; _
,RR_ `
cnnRRa d
)RRd e
)RRe f
{SS 
cmdTT 
.TT 
CommandTypeTT '
=TT( )
SystemTT* 0
.TT0 1
DataTT1 5
.TT5 6
CommandTypeTT6 A
.TTA B
StoredProcedureTTB Q
;TTQ R
cmdVV 
.VV 

ParametersVV &
.VV& '
AddWithValueVV' 3
(VV3 4
$strVV4 @
,VV@ A&
pSisCorreoDestinatarioMaeEVVB \
.VV\ ]
CodListaVV] e
)VVe f
;VVf g
cmdWW 
.WW 

ParametersWW &
.WW& '
AddWithValueWW' 3
(WW3 4
$strWW4 ?
,WW? @&
pSisCorreoDestinatarioMaeEWWA [
.WW[ \
CodTipoWW\ c
)WWc d
;WWd e
cmdXX 
.XX 

ParametersXX &
.XX& '
AddWithValueXX' 3
(XX3 4
$strXX4 G
,XXG H&
pSisCorreoDestinatarioMaeEXXI c
.XXc d
DscDestinatarioXXd s
)XXs t
;XXt u
cmdYY 
.YY 

ParametersYY &
.YY& '
AddYY' *
(YY* +
VariablesGlobalesYY+ <
.YY< =
ParametroSqlYY= I
(YYI J
$strYYJ W
,YYW X
ParameterDirectionYYY k
.YYk l
InputOutputYYl w
,YYw x
	SqlDbType	YYy Ç
.
YYÇ É
Int
YYÉ Ü
,
YYÜ á
$num
YYà â
,
YYâ ä(
pSisCorreoDestinatarioMaeE
YYã •
.
YY• ¶
	IdeCorreo
YY¶ Ø
.
YYØ ∞
ToString
YY∞ ∏
(
YY∏ π
)
YYπ ∫
)
YY∫ ª
)
YYª º
;
YYº Ω
cnn[[ 
.[[ 
Open[[  
([[  !
)[[! "
;[[" #
int]] 
exito]] !
=]]" #
cmd]]$ '
.]]' (
ExecuteNonQuery]]( 7
(]]7 8
)]]8 9
;]]9 :
cnn^^ 
.^^ 
Close^^ !
(^^! "
)^^" #
;^^# $
cmd__ 
.__ 
Dispose__ #
(__# $
)__$ %
;__% &
if`` 
(`` 
exito`` !
>=``" $
$num``% &
)``& '
{aa &
pSisCorreoDestinatarioMaeEbb 6
.bb6 7
	IdeCorreobb7 @
=bbA B
ConvertbbC J
.bbJ K
ToInt32bbK R
(bbR S
cmdbbS V
.bbV W

ParametersbbW a
[bba b
$strbbb o
]bbo p
.bbp q
Valuebbq v
)bbv w
;bbw x
returncc "
truecc# '
;cc' (
}dd 
elseee 
{ff 
returngg "
falsegg# (
;gg( )
}hh 
}ii 
}jj 
}kk 
catchll 
(ll 
	Exceptionll 
ell 
)ll 
{mm 
throwmm 
emm 
=mm 
newmm 
	Exceptionmm %
(mm% &
emm& '
.mm' (
Messagemm( /
)mm/ 0
;mm0 1
}mm2 3
}nn 	
publicqq 
boolqq .
"Sp_SisCorreodestinatarioMae_Updateqq 6
(qq6 7%
SisCorreoDestinatarioMaeEqq7 P&
pSisCorreoDestinatarioMaeEqqQ k
)qqk l
{rr 	
tryss 
{tt 
usinguu 
(uu 
SqlConnectionuu $
cnnuu% (
=uu) *
newuu+ .
SqlConnectionuu/ <
(uu< =
VariablesGlobalesuu= N
.uuN O

CnnClinicauuO Y
)uuY Z
)uuZ [
{vv 
usingww 
(ww 

SqlCommandww %
cmdww& )
=ww* +
newww, /

SqlCommandww0 :
(ww: ;
$strww; _
,ww_ `
cnnwwa d
)wwd e
)wwe f
{xx 
cmdyy 
.yy 
CommandTypeyy '
=yy( )
Systemyy* 0
.yy0 1
Datayy1 5
.yy5 6
CommandTypeyy6 A
.yyA B
StoredProcedureyyB Q
;yyQ R
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 ?
,{{? @&
pSisCorreoDestinatarioMaeE{{A [
.{{[ \
CodTipo{{\ c
){{c d
;{{d e
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 G
,||G H&
pSisCorreoDestinatarioMaeE||I c
.||c d
DscDestinatario||d s
)||s t
;||t u
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 @
,}}@ A&
pSisCorreoDestinatarioMaeE}}B \
.}}\ ]
CodLista}}] e
)}}e f
;}}f g
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 C
,~~C D&
pSisCorreoDestinatarioMaeE~~E _
.~~_ `
FlgRegistro~~` k
)~~k l
;~~l m
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 A
,A B&
pSisCorreoDestinatarioMaeEC ]
.] ^
	IdeCorreo^ g
)g h
;h i
cnn
ÅÅ 
.
ÅÅ 
Open
ÅÅ  
(
ÅÅ  !
)
ÅÅ! "
;
ÅÅ" #
int
ÉÉ 
exito
ÉÉ !
=
ÉÉ" #
cmd
ÉÉ$ '
.
ÉÉ' (
ExecuteNonQuery
ÉÉ( 7
(
ÉÉ7 8
)
ÉÉ8 9
;
ÉÉ9 :
cnn
ÑÑ 
.
ÑÑ 
Close
ÑÑ !
(
ÑÑ! "
)
ÑÑ" #
;
ÑÑ# $
cmd
ÖÖ 
.
ÖÖ 
Dispose
ÖÖ #
(
ÖÖ# $
)
ÖÖ$ %
;
ÖÖ% &
if
ÜÜ 
(
ÜÜ 
exito
ÜÜ !
>=
ÜÜ" $
$num
ÜÜ% &
)
ÜÜ& '
{
áá 
return
áá  
true
áá! %
;
áá% &
}
áá' (
else
àà 
{
ââ 
return
ââ  
false
ââ! &
;
ââ& '
}
ââ( )
}
ää 
}
ãã 
}
åå 
catch
çç 
(
çç 
	Exception
çç 
e
çç 
)
çç 
{
éé 
throw
éé 
e
éé 
=
éé 
new
éé 
	Exception
éé %
(
éé% &
e
éé& '
.
éé' (
Message
éé( /
)
éé/ 0
;
éé0 1
}
éé2 3
}
èè 	
public
ëë 
bool
ëë 6
(Sp_SisCorreodestinatarioMae_UpdatexCampo
ëë <
(
ëë< ='
SisCorreoDestinatarioMaeE
ëë= V(
pSisCorreoDestinatarioMaeE
ëëW q
)
ëëq r
{
íí 	
try
ìì 
{
îî 
using
ïï 
(
ïï 
SqlConnection
ïï $
cnn
ïï% (
=
ïï) *
new
ïï+ .
SqlConnection
ïï/ <
(
ïï< =
VariablesGlobales
ïï= N
.
ïïN O

CnnClinica
ïïO Y
)
ïïY Z
)
ïïZ [
{
ññ 
using
óó 
(
óó 

SqlCommand
óó %
cmd
óó& )
=
óó* +
new
óó, /

SqlCommand
óó0 :
(
óó: ;
$str
óó; e
,
óóe f
cnn
óóg j
)
óój k
)
óók l
{
òò 
cmd
ôô 
.
ôô 
CommandType
ôô '
=
ôô( )
System
ôô* 0
.
ôô0 1
Data
ôô1 5
.
ôô5 6
CommandType
ôô6 A
.
ôôA B
StoredProcedure
ôôB Q
;
ôôQ R
cmd
õõ 
.
õõ 

Parameters
õõ &
.
õõ& '
AddWithValue
õõ' 3
(
õõ3 4
$str
õõ4 A
,
õõA B(
pSisCorreoDestinatarioMaeE
õõC ]
.
õõ] ^
	IdeCorreo
õõ^ g
)
õõg h
;
õõh i
cmd
úú 
.
úú 

Parameters
úú &
.
úú& '
AddWithValue
úú' 3
(
úú3 4
$str
úú4 B
,
úúB C(
pSisCorreoDestinatarioMaeE
úúD ^
.
úú^ _

NuevoValor
úú_ i
)
úúi j
;
úúj k
cmd
ùù 
.
ùù 

Parameters
ùù &
.
ùù& '
AddWithValue
ùù' 3
(
ùù3 4
$str
ùù4 <
,
ùù< =(
pSisCorreoDestinatarioMaeE
ùù> X
.
ùùX Y
Campo
ùùY ^
)
ùù^ _
;
ùù_ `
cnn
üü 
.
üü 
Open
üü  
(
üü  !
)
üü! "
;
üü" #
int
°° 
exito
°° !
=
°°" #
cmd
°°$ '
.
°°' (
ExecuteNonQuery
°°( 7
(
°°7 8
)
°°8 9
;
°°9 :
cnn
¢¢ 
.
¢¢ 
Close
¢¢ !
(
¢¢! "
)
¢¢" #
;
¢¢# $
cmd
££ 
.
££ 
Dispose
££ #
(
££# $
)
££$ %
;
££% &
if
§§ 
(
§§ 
exito
§§ !
>=
§§" $
$num
§§% &
)
§§& '
{
•• 
return
••  
true
••! %
;
••% &
}
••' (
else
¶¶ 
{
ßß 
return
ßß  
false
ßß! &
;
ßß& '
}
ßß( )
}
®® 
}
©© 
}
™™ 
catch
´´ 
(
´´ 
	Exception
´´ 
e
´´ 
)
´´ 
{
¨¨ 
throw
¨¨ 
e
¨¨ 
=
¨¨ 
new
¨¨ 
	Exception
¨¨ %
(
¨¨% &
e
¨¨& '
.
¨¨' (
Message
¨¨( /
)
¨¨/ 0
;
¨¨0 1
}
¨¨2 3
}
≠≠ 	
public
∞∞ 
bool
∞∞ 0
"Sp_SisCorreodestinatarioMae_Delete
∞∞ 6
(
∞∞6 7'
SisCorreoDestinatarioMaeE
∞∞7 P(
pSisCorreoDestinatarioMaeE
∞∞Q k
)
∞∞k l
{
±± 	
try
≤≤ 
{
≥≥ 
using
¥¥ 
(
¥¥ 
SqlConnection
¥¥ $
cnn
¥¥% (
=
¥¥) *
new
¥¥+ .
SqlConnection
¥¥/ <
(
¥¥< =
VariablesGlobales
¥¥= N
.
¥¥N O

CnnClinica
¥¥O Y
)
¥¥Y Z
)
¥¥Z [
{
µµ 
using
∂∂ 
(
∂∂ 

SqlCommand
∂∂ %
cmd
∂∂& )
=
∂∂* +
new
∂∂, /

SqlCommand
∂∂0 :
(
∂∂: ;
$str
∂∂; _
,
∂∂_ `
cnn
∂∂a d
)
∂∂d e
)
∂∂e f
{
∑∑ 
cmd
∏∏ 
.
∏∏ 
CommandType
∏∏ '
=
∏∏( )
System
∏∏* 0
.
∏∏0 1
Data
∏∏1 5
.
∏∏5 6
CommandType
∏∏6 A
.
∏∏A B
StoredProcedure
∏∏B Q
;
∏∏Q R
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ &
.
∫∫& '
AddWithValue
∫∫' 3
(
∫∫3 4
$str
∫∫4 A
,
∫∫A B(
pSisCorreoDestinatarioMaeE
∫∫C ]
.
∫∫] ^
	IdeCorreo
∫∫^ g
)
∫∫g h
;
∫∫h i
cnn
ºº 
.
ºº 
Open
ºº  
(
ºº  !
)
ºº! "
;
ºº" #
int
ææ 
exito
ææ !
=
ææ" #
cmd
ææ$ '
.
ææ' (
ExecuteNonQuery
ææ( 7
(
ææ7 8
)
ææ8 9
;
ææ9 :
cnn
øø 
.
øø 
Close
øø !
(
øø! "
)
øø" #
;
øø# $
cmd
¿¿ 
.
¿¿ 
Dispose
¿¿ #
(
¿¿# $
)
¿¿$ %
;
¿¿% &
if
¡¡ 
(
¡¡ 
exito
¡¡ !
>=
¡¡" $
$num
¡¡% &
)
¡¡& '
{
¬¬ 
return
¬¬  
true
¬¬! %
;
¬¬% &
}
¬¬' (
else
√√ 
{
ƒƒ 
return
ƒƒ  
false
ƒƒ! &
;
ƒƒ& '
}
ƒƒ( )
}
≈≈ 
}
∆∆ 
}
«« 
catch
»» 
(
»» 
	Exception
»» 
e
»» 
)
»» 
{
…… 
throw
…… 
e
…… 
=
…… 
new
…… 
	Exception
…… %
(
……% &
e
……& '
.
……' (
Message
……( /
)
……/ 0
;
……0 1
}
……2 3
}
   	
}
ÃÃ 
}ÕÕ ¥)
iD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\Sb1SocionegocioAD\Sb1SocionegocioAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
Sb1SocionegocioAD

 -
{ 
public 

class 
Sb1SocionegocioAD "
{ 
private 
Sb1SocionegocioE  
LlenarEntidad! .
(. /
IDataReader/ :
dr; =
,= >
Sb1SocionegocioE' 7
pSb1SocionegocioE8 I
)I J
{ 	
Sb1SocionegocioE 
oSb1SocionegocioE .
=/ 0
new1 4
Sb1SocionegocioE5 E
(E F
)F G
;G H
switch 
( 
pSb1SocionegocioE %
.% &
Orden& +
)+ ,
{ 
case 
$num 
: 
oSb1SocionegocioE %
.% &
DscCardcodeOld& 4
=5 6
Convert7 >
.> ?
ToString? G
(G H
drH J
[J K
$strK ]
]] ^
)^ _
;_ `
oSb1SocionegocioE %
.% &
DscCardcodeNew& 4
=5 6
Convert7 >
.> ?
ToString? G
(G H
drH J
[J K
$strK ]
]] ^
)^ _
;_ `
oSb1SocionegocioE %
.% &
FecRegistro& 1
=2 3
Convert4 ;
.; <

ToDateTime< F
(F G
drG I
[I J
$strJ X
]X Y
)Y Z
;Z [
oSb1SocionegocioE %
.% &
IdeSocionegocio& 5
=6 7
Convert8 ?
.? @
ToInt32@ G
(G H
drH J
[J K
$strK ]
]] ^
)^ _
;_ `
break 
; 
case 
$num 
: 
oSb1SocionegocioE %
.% &
Facturar& .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE O
]O P
)P Q
;Q R
break 
; 
} 
return   
oSb1SocionegocioE   $
;  $ %
}!! 	
public## 
List## 
<## 
Sb1SocionegocioE## $
>##$ %'
Sp_Sb1Socionegocio_Consulta##& A
(##A B
Sb1SocionegocioE##B R
pSb1SocionegocioE##S d
)##d e
{$$ 	
List%% 
<%% 
Sb1SocionegocioE%% !
>%%! "
oListar%%# *
=%%+ ,
new%%- 0
List%%1 5
<%%5 6
Sb1SocionegocioE%%6 F
>%%F G
(%%G H
)%%H I
;%%I J
Sb1SocionegocioE&& 
oSb1SocionegocioE&& .
=&&/ 0
null&&1 5
;&&5 6
using'' 
('' 
SqlConnection''  
cnn''! $
=''% &
new''' *
SqlConnection''+ 8
(''8 9
VariablesGlobales''9 J
.''J K

CnnClinica''K U
)''U V
)''V W
{(( 
using)) 
()) 

SqlCommand)) !
cmd))" %
=))& '
new))( +

SqlCommand)), 6
())6 7
$str))7 Y
,))Y Z
cnn))[ ^
)))^ _
)))_ `
{** 
cmd++ 
.++ 
CommandType++ #
=++$ %
System++& ,
.++, -
Data++- 1
.++1 2
CommandType++2 =
.++= >
StoredProcedure++> M
;++M N
cmd-- 
.-- 

Parameters-- "
.--" #
AddWithValue--# /
(--/ 0
$str--0 8
,--8 9
pSb1SocionegocioE--: K
.--K L
Orden--L Q
)--Q R
;--R S
cmd.. 
... 

Parameters.. "
..." #
AddWithValue..# /
(../ 0
$str..0 ;
,..; <
pSb1SocionegocioE..= N
...N O
CarCode..O V
)..V W
;..W X
cnn// 
.// 
Open// 
(// 
)// 
;// 
IDataReader00 
dr00  "
=00# $
cmd00% (
.00( )
ExecuteReader00) 6
(006 7
)007 8
;008 9
while11 
(11 
dr11 
.11 
Read11 "
(11" #
)11# $
)11$ %
{22 
oSb1SocionegocioE33 )
=33* +
LlenarEntidad33, 9
(339 :
dr33: <
,33< =
pSb1SocionegocioE33> O
)33O P
;33P Q
oListar44 
.44  
Add44  #
(44# $
oSb1SocionegocioE44$ 5
)445 6
;446 7
}55 
dr66 
.66 
Close66 
(66 
)66 
;66 
cnn77 
.77 
Close77 
(77 
)77 
;77  
}88 
}99 
return:: 
oListar:: 
;:: 
};; 	
}<< 
}== ˛}
bD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RisAD\RisPrestacionVsSalasAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RisAD

 !
{ 
public 

class "
RisPrestacionVsSalasAD '
{ 
private !
RisPrestacionVsSalasE %
LlenarEntidad& 3
(3 4
IDataReader4 ?
dr@ B
,B C!
RisPrestacionVsSalasE" 7"
pRisPrestacionVsSalasE8 N
)N O
{ 	!
RisPrestacionVsSalasE !"
oRisPrestacionVsSalasE" 8
=9 :
new; >!
RisPrestacionVsSalasE? T
(T U
)U V
;V W
switch 
( "
pRisPrestacionVsSalasE *
.* +
Orden+ 0
)0 1
{ 
case 
$num 
: "
oRisPrestacionVsSalasE *
.* +
Codprestacion+ 8
=9 :
Convert; B
.B C
ToStringC K
(K L
drL N
[N O
$strO ^
]^ _
)_ `
;` a"
oRisPrestacionVsSalasE *
.* +
Codsala+ 2
=3 4
Convert5 <
.< =
ToString= E
(E F
drF H
[H I
$strI R
]R S
)S T
;T U"
oRisPrestacionVsSalasE *
.* +
	Prioridad+ 4
=5 6
Convert7 >
.> ?
ToInt32? F
(F G
drG I
[I J
$strJ U
]U V
)V W
;W X"
oRisPrestacionVsSalasE *
.* +
Estado+ 1
=2 3
Convert4 ;
.; <
ToString< D
(D E
drE G
[G H
$strH P
]P Q
)Q R
;R S
break 
; 
case 
$num 
: "
oRisPrestacionVsSalasE *
.* +
Codprestacion+ 8
=9 :
Convert; B
.B C
ToStringC K
(K L
drL N
[N O
$strO ^
]^ _
)_ `
;` a"
oRisPrestacionVsSalasE *
.* +
Codsala+ 2
=3 4
Convert5 <
.< =
ToString= E
(E F
drF H
[H I
$strI R
]R S
)S T
;T U"
oRisPrestacionVsSalasE *
.* +
	Prioridad+ 4
=5 6
Convert7 >
.> ?
ToInt32? F
(F G
drG I
[I J
$strJ U
]U V
)V W
;W X"
oRisPrestacionVsSalasE *
.* +
Estado+ 1
=2 3
Convert4 ;
.; <
ToString< D
(D E
drE G
[G H
$strH P
]P Q
)Q R
;R S
break 
; 
}   
return"" "
oRisPrestacionVsSalasE"" )
;"") *
}## 	
public$$ 
List$$ 
<$$ !
RisPrestacionVsSalasE$$ )
>$$) *,
 Sp_RisPrestacionVsSalas_Consulta$$+ K
($$K L!
RisPrestacionVsSalasE$$L a"
pRisPrestacionVsSalasE$$b x
)$$x y
{%% 	
List&& 
<&& !
RisPrestacionVsSalasE&& &
>&&& '
oListar&&( /
=&&0 1
new&&2 5
List&&6 :
<&&: ;!
RisPrestacionVsSalasE&&; P
>&&P Q
(&&Q R
)&&R S
;&&S T!
RisPrestacionVsSalasE'' !"
oRisPrestacionVsSalasE''" 8
=''9 :
null''; ?
;''? @
using(( 
((( 
SqlConnection((  
cnn((! $
=((% &
new((' *
SqlConnection((+ 8
(((8 9
VariablesGlobales((9 J
.((J K

CnnClinica((K U
)((U V
)((V W
{)) 
using** 
(** 

SqlCommand** !
cmd**" %
=**& '
new**( +

SqlCommand**, 6
(**6 7
$str**7 Y
,**Y Z
cnn**[ ^
)**^ _
)**_ `
{++ 
cmd,, 
.,, 
CommandType,, #
=,,$ %
System,,& ,
.,,, -
Data,,- 1
.,,1 2
CommandType,,2 =
.,,= >
StoredProcedure,,> M
;,,M N
cmd.. 
... 

Parameters.. "
..." #
AddWithValue..# /
(../ 0
$str..0 7
,..7 8"
pRisPrestacionVsSalasE..9 O
...O P
Codsala..P W
)..W X
;..X Y
cmd// 
.// 

Parameters// "
.//" #
AddWithValue//# /
(/// 0
$str//0 =
,//= >"
pRisPrestacionVsSalasE//? U
.//U V
Codprestacion//V c
)//c d
;//d e
cmd00 
.00 

Parameters00 "
.00" #
AddWithValue00# /
(00/ 0
$str000 9
,009 :"
pRisPrestacionVsSalasE00; Q
.00Q R
Buscar00R X
)00X Y
;00Y Z
cmd11 
.11 

Parameters11 "
.11" #
AddWithValue11# /
(11/ 0
$str110 8
,118 9"
pRisPrestacionVsSalasE11: P
.11P Q
Campo11Q V
)11V W
;11W X
cmd22 
.22 

Parameters22 "
.22" #
AddWithValue22# /
(22/ 0
$str220 >
,22> ?"
pRisPrestacionVsSalasE22@ V
.22V W
NumeroFilas22W b
)22b c
;22c d
cmd33 
.33 

Parameters33 "
.33" #
AddWithValue33# /
(33/ 0
$str330 8
,338 9"
pRisPrestacionVsSalasE33: P
.33P Q
Orden33Q V
)33V W
;33W X
cnn44 
.44 
Open44 
(44 
)44 
;44 
IDataReader55 
dr55  "
=55# $
cmd55% (
.55( )
ExecuteReader55) 6
(556 7
)557 8
;558 9
while66 
(66 
dr66 
.66 
Read66 "
(66" #
)66# $
)66$ %
{77 "
oRisPrestacionVsSalasE88 .
=88/ 0
LlenarEntidad881 >
(88> ?
dr88? A
,88A B"
pRisPrestacionVsSalasE88C Y
)88Y Z
;88Z [
oListar99 
.99  
Add99  #
(99# $"
oRisPrestacionVsSalasE99$ :
)99: ;
;99; <
}:: 
dr;; 
.;; 
Close;; 
(;; 
);; 
;;; 
cnn<< 
.<< 
Close<< 
(<< 
)<< 
;<<  
}== 
}>> 
return?? 
oListar?? 
;?? 
}@@ 	
publicAA 
boolAA *
Sp_RisPrestacionVsSalas_InsertAA 2
(AA2 3!
RisPrestacionVsSalasEAA3 H"
pRisPrestacionVsSalasEAAI _
)AA_ `
{BB 	
tryCC 
{DD 
usingEE 
(EE 
SqlConnectionEE $
cnnEE% (
=EE) *
newEE+ .
SqlConnectionEE/ <
(EE< =
VariablesGlobalesEE= N
.EEN O

CnnClinicaEEO Y
)EEY Z
)EEZ [
{FF 
usingGG 
(GG 

SqlCommandGG %
cmdGG& )
=GG* +
newGG, /

SqlCommandGG0 :
(GG: ;
$strGG; [
,GG[ \
cnnGG] `
)GG` a
)GGa b
{HH 
cmdII 
.II 
CommandTypeII '
=II( )
SystemII* 0
.II0 1
DataII1 5
.II5 6
CommandTypeII6 A
.IIA B
StoredProcedureIIB Q
;IIQ R
cmdKK 
.KK 

ParametersKK &
.KK& '
AddWithValueKK' 3
(KK3 4
$strKK4 D
,KKD E"
pRisPrestacionVsSalasEKKF \
.KK\ ]
CodprestacionKK] j
)KKj k
;KKk l
cmdLL 
.LL 

ParametersLL &
.LL& '
AddWithValueLL' 3
(LL3 4
$strLL4 >
,LL> ?"
pRisPrestacionVsSalasELL@ V
.LLV W
CodsalaLLW ^
)LL^ _
;LL_ `
cmdMM 
.MM 

ParametersMM &
.MM& '
AddWithValueMM' 3
(MM3 4
$strMM4 @
,MM@ A"
pRisPrestacionVsSalasEMMB X
.MMX Y
	PrioridadMMY b
)MMb c
;MMc d
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 =
,NN= >"
pRisPrestacionVsSalasENN? U
.NNU V
EstadoNNV \
)NN\ ]
;NN] ^
cnnPP 
.PP 
OpenPP  
(PP  !
)PP! "
;PP" #
intRR 
exitoRR !
=RR" #
cmdRR$ '
.RR' (
ExecuteNonQueryRR( 7
(RR7 8
)RR8 9
;RR9 :
cnnSS 
.SS 
CloseSS !
(SS! "
)SS" #
;SS# $
cmdTT 
.TT 
DisposeTT #
(TT# $
)TT$ %
;TT% &
ifUU 
(UU 
exitoUU !
>=UU" $
$numUU% &
)UU& '
{VV 
returnWW "
trueWW# '
;WW' (
}XX 
elseYY 
{ZZ 
return[[ "
false[[# (
;[[( )
}\\ 
}]] 
}^^ 
}__ 
catch`` 
(`` 
	Exception`` 
e`` 
)`` 
{aa 
throwaa 
eaa 
=aa 
newaa 
	Exceptionaa %
(aa% &
eaa& '
.aa' (
Messageaa( /
)aa/ 0
;aa0 1
}aa2 3
}bb 	
publicdd 
booldd *
Sp_RisPrestacionVsSalas_Updatedd 2
(dd2 3!
RisPrestacionVsSalasEdd3 H"
pRisPrestacionVsSalasEddI _
)dd_ `
{ee 	
tryff 
{gg 
usinghh 
(hh 
SqlConnectionhh $
cnnhh% (
=hh) *
newhh+ .
SqlConnectionhh/ <
(hh< =
VariablesGlobaleshh= N
.hhN O

CnnClinicahhO Y
)hhY Z
)hhZ [
{ii 
usingjj 
(jj 

SqlCommandjj %
cmdjj& )
=jj* +
newjj, /

SqlCommandjj0 :
(jj: ;
$strjj; [
,jj[ \
cnnjj] `
)jj` a
)jja b
{kk 
cmdll 
.ll 
CommandTypell '
=ll( )
Systemll* 0
.ll0 1
Datall1 5
.ll5 6
CommandTypell6 A
.llA B
StoredProcedurellB Q
;llQ R
cmdnn 
.nn 

Parametersnn &
.nn& '
AddWithValuenn' 3
(nn3 4
$strnn4 D
,nnD E"
pRisPrestacionVsSalasEnnF \
.nn\ ]
Codprestacionnn] j
)nnj k
;nnk l
cmdoo 
.oo 

Parametersoo &
.oo& '
AddWithValueoo' 3
(oo3 4
$stroo4 >
,oo> ?"
pRisPrestacionVsSalasEoo@ V
.ooV W
CodsalaooW ^
)oo^ _
;oo_ `
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 @
,pp@ A"
pRisPrestacionVsSalasEppB X
.ppX Y
	PrioridadppY b
)ppb c
;ppc d
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 =
,qq= >"
pRisPrestacionVsSalasEqq? U
.qqU V
EstadoqqV \
)qq\ ]
;qq] ^
cnnss 
.ss 
Openss  
(ss  !
)ss! "
;ss" #
intuu 
exitouu !
=uu" #
cmduu$ '
.uu' (
ExecuteNonQueryuu( 7
(uu7 8
)uu8 9
;uu9 :
cnnvv 
.vv 
Closevv !
(vv! "
)vv" #
;vv# $
cmdww 
.ww 
Disposeww #
(ww# $
)ww$ %
;ww% &
ifxx 
(xx 
exitoxx !
>=xx" $
$numxx% &
)xx& '
{yy 
returnyy  
trueyy! %
;yy% &
}yy' (
elsezz 
{{{ 
return{{  
false{{! &
;{{& '
}{{( )
}|| 
}}} 
}~~ 
catch 
( 
	Exception 
e 
) 
{
ÄÄ 
throw
ÄÄ 
e
ÄÄ 
=
ÄÄ 
new
ÄÄ 
	Exception
ÄÄ %
(
ÄÄ% &
e
ÄÄ& '
.
ÄÄ' (
Message
ÄÄ( /
)
ÄÄ/ 0
;
ÄÄ0 1
}
ÄÄ2 3
}
ÅÅ 	
public
ÉÉ 
bool
ÉÉ 2
$Sp_RisPrestacionVsSalas_UpdatexCampo
ÉÉ 8
(
ÉÉ8 9#
RisPrestacionVsSalasE
ÉÉ9 N$
pRisPrestacionVsSalasE
ÉÉO e
)
ÉÉe f
{
ÑÑ 	
try
ÖÖ 
{
ÜÜ 
using
áá 
(
áá 
SqlConnection
áá $
cnn
áá% (
=
áá) *
new
áá+ .
SqlConnection
áá/ <
(
áá< =
VariablesGlobales
áá= N
.
ááN O

CnnClinica
ááO Y
)
ááY Z
)
ááZ [
{
àà 
using
ââ 
(
ââ 

SqlCommand
ââ %
cmd
ââ& )
=
ââ* +
new
ââ, /

SqlCommand
ââ0 :
(
ââ: ;
$str
ââ; a
,
ââa b
cnn
ââc f
)
ââf g
)
ââg h
{
ää 
cmd
ãã 
.
ãã 
CommandType
ãã '
=
ãã( )
System
ãã* 0
.
ãã0 1
Data
ãã1 5
.
ãã5 6
CommandType
ãã6 A
.
ããA B
StoredProcedure
ããB Q
;
ããQ R
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 B
,
ççB C$
pRisPrestacionVsSalasE
ççD Z
.
ççZ [

NuevoValor
çç[ e
)
ççe f
;
ççf g
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 <
,
éé< =$
pRisPrestacionVsSalasE
éé> T
.
ééT U
Campo
ééU Z
)
ééZ [
;
éé[ \
cnn
êê 
.
êê 
Open
êê  
(
êê  !
)
êê! "
;
êê" #
int
íí 
exito
íí !
=
íí" #
cmd
íí$ '
.
íí' (
ExecuteNonQuery
íí( 7
(
íí7 8
)
íí8 9
;
íí9 :
cnn
ìì 
.
ìì 
Close
ìì !
(
ìì! "
)
ìì" #
;
ìì# $
cmd
îî 
.
îî 
Dispose
îî #
(
îî# $
)
îî$ %
;
îî% &
if
ïï 
(
ïï 
exito
ïï !
>=
ïï" $
$num
ïï% &
)
ïï& '
{
ññ 
return
ññ  
true
ññ! %
;
ññ% &
}
ññ' (
else
óó 
{
òò 
return
òò  
false
òò! &
;
òò& '
}
òò( )
}
ôô 
}
öö 
}
õõ 
catch
úú 
(
úú 
	Exception
úú 
e
úú 
)
úú 
{
ùù 
throw
ùù 
e
ùù 
=
ùù 
new
ùù 
	Exception
ùù %
(
ùù% &
e
ùù& '
.
ùù' (
Message
ùù( /
)
ùù/ 0
;
ùù0 1
}
ùù2 3
}
ûû 	
}
üü 
}†† „å
mD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RisAD\RisOracleRisXmlEventsCompletadoAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RisAD

 !
{ 
public 

class -
!RisOracleRisXmlEventsCompletadoAD 2
{ 
private ,
 RisOracleRisXmlEventsCompletadoE 0
LlenarEntidad1 >
(> ?
IDataReader? J
drK M
,M N,
 RisOracleRisXmlEventsCompletadoE" B-
!pRisOracleRisXmlEventsCompletadoEC d
)d e
{ 	,
 RisOracleRisXmlEventsCompletadoE ,-
!oRisOracleRisXmlEventsCompletadoE- N
=O P
newQ T,
 RisOracleRisXmlEventsCompletadoEU u
(u v
)v w
;w x
switch 
( -
!pRisOracleRisXmlEventsCompletadoE 5
.5 6
Orden6 ;
); <
{ 
case 
$num 
: -
!oRisOracleRisXmlEventsCompletadoE 5
.5 6
FlagProcesado6 C
=D E
ConvertF M
.M N
ToStringN V
(V W
drW Y
[Y Z
$strZ j
]j k
)k l
;l m-
!oRisOracleRisXmlEventsCompletadoE 5
.5 6

CodEmpresa6 @
=A B
ConvertC J
.J K
ToInt32K R
(R S
drS U
[U V
$strV c
]c d
)d e
;e f-
!oRisOracleRisXmlEventsCompletadoE 5
.5 6
CodSucursal6 A
=B C
ConvertD K
.K L
ToInt32L S
(S T
drT V
[V W
$strW e
]e f
)f g
;g h-
!oRisOracleRisXmlEventsCompletadoE 5
.5 6
EventId6 =
=> ?
Convert@ G
.G H
ToStringH P
(P Q
drQ S
[S T
$strT ^
]^ _
)_ `
;` a-
!oRisOracleRisXmlEventsCompletadoE 5
.5 6
	EventDesc6 ?
=@ A
ConvertB I
.I J
ToStringJ R
(R S
drS U
[U V
$strV b
]b c
)c d
;d e-
!oRisOracleRisXmlEventsCompletadoE 5
.5 6
EventDatetime6 C
=D E
ConvertF M
.M N
ToStringN V
(V W
drW Y
[Y Z
$strZ j
]j k
)k l
;l m-
!oRisOracleRisXmlEventsCompletadoE 5
.5 6
EventTypeId6 A
=B C
ConvertD K
.K L
ToInt32L S
(S T
drT V
[V W
$strW f
]f g
)g h
;h i-
!oRisOracleRisXmlEventsCompletadoE 5
.5 6
OrderStatus6 A
=B C
ConvertD K
.K L
ToStringL T
(T U
drU W
[W X
$strX f
]f g
)g h
;h i-
!oRisOracleRisXmlEventsCompletadoE 5
.5 6

IdPaciente6 @
=A B
ConvertC J
.J K
ToStringK S
(S T
drT V
[V W
$strW d
]d e
)e f
;f g-
!oRisOracleRisXmlEventsCompletadoE 5
.5 6
IdPacienteRis6 C
=D E
ConvertF M
.M N
ToStringN V
(V W
drW Y
[Y Z
$strZ k
]k l
)l m
;m n-
!oRisOracleRisXmlEventsCompletadoE 5
.5 6
RutPaciente6 A
=B C
ConvertD K
.K L
ToStringL T
(T U
drU W
[W X
$strX f
]f g
)g h
;h i-
!oRisOracleRisXmlEventsCompletadoE   5
.  5 6
TipoPaciente  6 B
=  C D
Convert  E L
.  L M
ToString  M U
(  U V
dr  V X
[  X Y
$str  Y h
]  h i
)  i j
;  j k-
!oRisOracleRisXmlEventsCompletadoE!! 5
.!!5 6

IdAdmision!!6 @
=!!A B
Convert!!C J
.!!J K
ToInt32!!K R
(!!R S
dr!!S U
[!!U V
$str!!V c
]!!c d
)!!d e
;!!e f-
!oRisOracleRisXmlEventsCompletadoE"" 5
.""5 6
	IdIngreso""6 ?
=""@ A
Convert""B I
.""I J
ToInt32""J Q
(""Q R
dr""R T
[""T U
$str""U a
]""a b
)""b c
;""c d-
!oRisOracleRisXmlEventsCompletadoE## 5
.##5 6

IdAtencion##6 @
=##A B
Convert##C J
.##J K
ToInt32##K R
(##R S
dr##S U
[##U V
$str##V c
]##c d
)##d e
;##e f-
!oRisOracleRisXmlEventsCompletadoE$$ 5
.$$5 6

CodPaquete$$6 @
=$$A B
Convert$$C J
.$$J K
ToInt32$$K R
($$R S
dr$$S U
[$$U V
$str$$V c
]$$c d
)$$d e
;$$e f-
!oRisOracleRisXmlEventsCompletadoE%% 5
.%%5 6
FillerOrderNumber%%6 G
=%%H I
Convert%%J Q
.%%Q R
ToString%%R Z
(%%Z [
dr%%[ ]
[%%] ^
$str%%^ s
]%%s t
)%%t u
;%%u v-
!oRisOracleRisXmlEventsCompletadoE&& 5
.&&5 6
XmlMsg&&6 <
=&&= >
Convert&&? F
.&&F G
ToString&&G O
(&&O P
dr&&P R
[&&R S
$str&&S \
]&&\ ]
)&&] ^
;&&^ _-
!oRisOracleRisXmlEventsCompletadoE'' 5
.''5 6
XmlIntegrationDate''6 H
=''I J
Convert''K R
.''R S
ToString''S [
(''[ \
dr''\ ^
[''^ _
$str''_ u
]''u v
)''v w
;''w x-
!oRisOracleRisXmlEventsCompletadoE(( 5
.((5 6
XmlEventStatus((6 D
=((E F
Convert((G N
.((N O
ToString((O W
(((W X
dr((X Z
[((Z [
$str(([ m
]((m n
)((n o
;((o p-
!oRisOracleRisXmlEventsCompletadoE)) 5
.))5 6
XmlMessageStatus))6 F
=))G H
Convert))I P
.))P Q
ToString))Q Y
())Y Z
dr))Z \
[))\ ]
$str))] q
]))q r
)))r s
;))s t-
!oRisOracleRisXmlEventsCompletadoE** 5
.**5 6
XmlUserUpdated**6 D
=**E F
Convert**G N
.**N O
ToString**O W
(**W X
dr**X Z
[**Z [
$str**[ m
]**m n
)**n o
;**o p-
!oRisOracleRisXmlEventsCompletadoE++ 5
.++5 6
XmlFlag1++6 >
=++? @
Convert++A H
.++H I
ToString++I Q
(++Q R
dr++R T
[++T U
$str++U `
]++` a
)++a b
;++b c-
!oRisOracleRisXmlEventsCompletadoE,, 5
.,,5 6
CodrisCompletado,,6 F
=,,G H
Convert,,I P
.,,P Q
ToInt32,,Q X
(,,X Y
dr,,Y [
[,,[ \
$str,,\ o
],,o p
),,p q
;,,q r
break-- 
;-- 
case// 
$num// 
:// -
!oRisOracleRisXmlEventsCompletadoE00 5
.005 6
CodrisCompletado006 F
=00G H
Convert00I P
.00P Q
ToInt3200Q X
(00X Y
dr00Y [
[00[ \
$str00\ o
]00o p
)00p q
;00q r-
!oRisOracleRisXmlEventsCompletadoE11 5
.115 6
XmlMsg116 <
=11= >
Convert11? F
.11F G
ToString11G O
(11O P
dr11P R
[11R S
$str11S \
]11\ ]
)11] ^
;11^ _-
!oRisOracleRisXmlEventsCompletadoE22 5
.225 6

IdPaciente226 @
=22A B
Convert22C J
.22J K
ToString22K S
(22S T
dr22T V
[22V W
$str22W d
]22d e
)22e f
;22f g-
!oRisOracleRisXmlEventsCompletadoE33 5
.335 6
RutPaciente336 A
=33B C
Convert33D K
.33K L
ToString33L T
(33T U
dr33U W
[33W X
$str33X f
]33f g
)33g h
;33h i
break44 
;44 
}55 
return77 -
!oRisOracleRisXmlEventsCompletadoE77 4
;774 5
}88 	
public:: 
List:: 
<:: ,
 RisOracleRisXmlEventsCompletadoE:: 4
>::4 57
+Sp_RisOracleRisXmlEventsCompletado_Consulta::6 a
(::a b-
 RisOracleRisXmlEventsCompletadoE	::b Ç/
!pRisOracleRisXmlEventsCompletadoE
::É §
)
::§ •
{;; 	
List<< 
<<< ,
 RisOracleRisXmlEventsCompletadoE<< 1
><<1 2
oListar<<3 :
=<<; <
new<<= @
List<<A E
<<<E F,
 RisOracleRisXmlEventsCompletadoE<<F f
><<f g
(<<g h
)<<h i
;<<i j,
 RisOracleRisXmlEventsCompletadoE== ,-
!oRisOracleRisXmlEventsCompletadoE==- N
===O P
null==Q U
;==U V
using>> 
(>> 
SqlConnection>>  
cnn>>! $
=>>% &
new>>' *
SqlConnection>>+ 8
(>>8 9
VariablesGlobales>>9 J
.>>J K

CnnClinica>>K U
)>>U V
)>>V W
{?? 
using@@ 
(@@ 

SqlCommand@@ !
cmd@@" %
=@@& '
new@@( +

SqlCommand@@, 6
(@@6 7
$str@@7 d
,@@d e
cnn@@f i
)@@i j
)@@j k
{AA 
cmdBB 
.BB 
CommandTypeBB #
=BB$ %
SystemBB& ,
.BB, -
DataBB- 1
.BB1 2
CommandTypeBB2 =
.BB= >
StoredProcedureBB> M
;BBM N
cmdDD 
.DD 

ParametersDD "
.DD" #
AddWithValueDD# /
(DD/ 0
$strDD0 D
,DDD E-
!pRisOracleRisXmlEventsCompletadoEDDF g
.DDg h
CodrisCompletadoDDh x
)DDx y
;DDy z
cmdEE 
.EE 

ParametersEE "
.EE" #
AddWithValueEE# /
(EE/ 0
$strEE0 9
,EE9 :-
!pRisOracleRisXmlEventsCompletadoEEE; \
.EE\ ]
BuscarEE] c
)EEc d
;EEd e
cmdFF 
.FF 

ParametersFF "
.FF" #
AddWithValueFF# /
(FF/ 0
$strFF0 8
,FF8 9-
!pRisOracleRisXmlEventsCompletadoEFF: [
.FF[ \
CampoFF\ a
)FFa b
;FFb c
cmdGG 
.GG 

ParametersGG "
.GG" #
AddWithValueGG# /
(GG/ 0
$strGG0 >
,GG> ?-
!pRisOracleRisXmlEventsCompletadoEGG@ a
.GGa b
NumeroFilasGGb m
)GGm n
;GGn o
cmdHH 
.HH 

ParametersHH "
.HH" #
AddWithValueHH# /
(HH/ 0
$strHH0 8
,HH8 9-
!pRisOracleRisXmlEventsCompletadoEHH: [
.HH[ \
OrdenHH\ a
)HHa b
;HHb c
cnnII 
.II 
OpenII 
(II 
)II 
;II 
IDataReaderJJ 
drJJ  "
=JJ# $
cmdJJ% (
.JJ( )
ExecuteReaderJJ) 6
(JJ6 7
)JJ7 8
;JJ8 9
whileKK 
(KK 
drKK 
.KK 
ReadKK "
(KK" #
)KK# $
)KK$ %
{LL -
!oRisOracleRisXmlEventsCompletadoEMM 9
=MM: ;
LlenarEntidadMM< I
(MMI J
drMMJ L
,MML M-
!pRisOracleRisXmlEventsCompletadoEMMN o
)MMo p
;MMp q
oListarNN 
.NN  
AddNN  #
(NN# $-
!oRisOracleRisXmlEventsCompletadoENN$ E
)NNE F
;NNF G
}OO 
drPP 
.PP 
ClosePP 
(PP 
)PP 
;PP 
cnnQQ 
.QQ 
CloseQQ 
(QQ 
)QQ 
;QQ  
}RR 
}SS 
returnTT 
oListarTT 
;TT 
}UU 	
publicXX 
boolXX 5
)Sp_RisOracleRisXmlEventsCompletado_InsertXX =
(XX= >,
 RisOracleRisXmlEventsCompletadoEXX> ^.
!pRisOracleRisXmlEventsCompletadoE	XX_ Ä
)
XXÄ Å
{YY 	
tryZZ 
{[[ 
using\\ 
(\\ 
SqlConnection\\ $
cnn\\% (
=\\) *
new\\+ .
SqlConnection\\/ <
(\\< =
VariablesGlobales\\= N
.\\N O

CnnClinica\\O Y
)\\Y Z
)\\Z [
{]] 
using^^ 
(^^ 

SqlCommand^^ %
cmd^^& )
=^^* +
new^^, /

SqlCommand^^0 :
(^^: ;
$str^^; f
,^^f g
cnn^^h k
)^^k l
)^^l m
{__ 
cmd`` 
.`` 
CommandType`` '
=``( )
System``* 0
.``0 1
Data``1 5
.``5 6
CommandType``6 A
.``A B
StoredProcedure``B Q
;``Q R
cmdbb 
.bb 

Parametersbb &
.bb& '
AddWithValuebb' 3
(bb3 4
$strbb4 E
,bbE F-
!pRisOracleRisXmlEventsCompletadoEbbG h
.bbh i
FlagProcesadobbi v
)bbv w
;bbw x
cmdcc 
.cc 

Parameterscc &
.cc& '
AddWithValuecc' 3
(cc3 4
$strcc4 B
,ccB C-
!pRisOracleRisXmlEventsCompletadoEccD e
.cce f

CodEmpresaccf p
)ccp q
;ccq r
cmddd 
.dd 

Parametersdd &
.dd& '
AddWithValuedd' 3
(dd3 4
$strdd4 C
,ddC D-
!pRisOracleRisXmlEventsCompletadoEddE f
.ddf g
CodSucursalddg r
)ddr s
;dds t
cmdee 
.ee 

Parametersee &
.ee& '
AddWithValueee' 3
(ee3 4
$stree4 ?
,ee? @-
!pRisOracleRisXmlEventsCompletadoEeeA b
.eeb c
EventIdeec j
)eej k
;eek l
cmdff 
.ff 

Parametersff &
.ff& '
AddWithValueff' 3
(ff3 4
$strff4 A
,ffA B-
!pRisOracleRisXmlEventsCompletadoEffC d
.ffd e
	EventDescffe n
)ffn o
;ffo p
cmdgg 
.gg 

Parametersgg &
.gg& '
AddWithValuegg' 3
(gg3 4
$strgg4 E
,ggE F-
!pRisOracleRisXmlEventsCompletadoEggG h
.ggh i
EventDatetimeggi v
)ggv w
;ggw x
cmdhh 
.hh 

Parametershh &
.hh& '
AddWithValuehh' 3
(hh3 4
$strhh4 D
,hhD E-
!pRisOracleRisXmlEventsCompletadoEhhF g
.hhg h
EventTypeIdhhh s
)hhs t
;hht u
cmdii 
.ii 

Parametersii &
.ii& '
AddWithValueii' 3
(ii3 4
$strii4 C
,iiC D-
!pRisOracleRisXmlEventsCompletadoEiiE f
.iif g
OrderStatusiig r
)iir s
;iis t
cmdjj 
.jj 

Parametersjj &
.jj& '
AddWithValuejj' 3
(jj3 4
$strjj4 B
,jjB C-
!pRisOracleRisXmlEventsCompletadoEjjD e
.jje f

IdPacientejjf p
)jjp q
;jjq r
cmdkk 
.kk 

Parameterskk &
.kk& '
AddWithValuekk' 3
(kk3 4
$strkk4 F
,kkF G-
!pRisOracleRisXmlEventsCompletadoEkkH i
.kki j
IdPacienteRiskkj w
)kkw x
;kkx y
cmdll 
.ll 

Parametersll &
.ll& '
AddWithValuell' 3
(ll3 4
$strll4 C
,llC D-
!pRisOracleRisXmlEventsCompletadoEllE f
.llf g
RutPacientellg r
)llr s
;lls t
cmdmm 
.mm 

Parametersmm &
.mm& '
AddWithValuemm' 3
(mm3 4
$strmm4 D
,mmD E-
!pRisOracleRisXmlEventsCompletadoEmmF g
.mmg h
TipoPacientemmh t
)mmt u
;mmu v
cmdnn 
.nn 

Parametersnn &
.nn& '
AddWithValuenn' 3
(nn3 4
$strnn4 B
,nnB C-
!pRisOracleRisXmlEventsCompletadoEnnD e
.nne f

IdAdmisionnnf p
)nnp q
;nnq r
cmdoo 
.oo 

Parametersoo &
.oo& '
AddWithValueoo' 3
(oo3 4
$stroo4 A
,ooA B-
!pRisOracleRisXmlEventsCompletadoEooC d
.ood e
	IdIngresoooe n
)oon o
;ooo p
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 B
,ppB C-
!pRisOracleRisXmlEventsCompletadoEppD e
.ppe f

IdAtencionppf p
)ppp q
;ppq r
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 B
,qqB C-
!pRisOracleRisXmlEventsCompletadoEqqD e
.qqe f

CodPaqueteqqf p
)qqp q
;qqq r
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 J
,rrJ K-
!pRisOracleRisXmlEventsCompletadoErrL m
.rrm n
FillerOrderNumberrrn 
)	rr Ä
;
rrÄ Å
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 >
,ss> ?-
!pRisOracleRisXmlEventsCompletadoEss@ a
.ssa b
XmlMsgssb h
)ssh i
;ssi j
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 K
,ttK L-
!pRisOracleRisXmlEventsCompletadoEttM n
.ttn o
XmlIntegrationDate	tto Å
)
ttÅ Ç
;
ttÇ É
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 G
,uuG H-
!pRisOracleRisXmlEventsCompletadoEuuI j
.uuj k
XmlEventStatusuuk y
)uuy z
;uuz {
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 I
,vvI J-
!pRisOracleRisXmlEventsCompletadoEvvK l
.vvl m
XmlMessageStatusvvm }
)vv} ~
;vv~ 
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 G
,wwG H-
!pRisOracleRisXmlEventsCompletadoEwwI j
.wwj k
XmlUserUpdatedwwk y
)wwy z
;wwz {
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 @
,xx@ A-
!pRisOracleRisXmlEventsCompletadoExxB c
.xxc d
XmlFlag1xxd l
)xxl m
;xxm n
cmdyy 
.yy 

Parametersyy &
.yy& '
Addyy' *
(yy* +
VariablesGlobalesyy+ <
.yy< =
ParametroSqlyy= I
(yyI J
$stryyJ ^
,yy^ _
ParameterDirectionyy` r
.yyr s
InputOutputyys ~
,yy~ 
	SqlDbType
yyÄ â
.
yyâ ä
Int
yyä ç
,
yyç é
$num
yyè ê
,
yyê ë/
!pRisOracleRisXmlEventsCompletadoE
yyí ≥
.
yy≥ ¥
CodrisCompletado
yy¥ ƒ
.
yyƒ ≈
ToString
yy≈ Õ
(
yyÕ Œ
)
yyŒ œ
)
yyœ –
)
yy– —
;
yy— “
cnn{{ 
.{{ 
Open{{  
({{  !
){{! "
;{{" #
int}} 
exito}} !
=}}" #
cmd}}$ '
.}}' (
ExecuteNonQuery}}( 7
(}}7 8
)}}8 9
;}}9 :
cnn~~ 
.~~ 
Close~~ !
(~~! "
)~~" #
;~~# $
cmd 
. 
Dispose #
(# $
)$ %
;% &
if
ÄÄ 
(
ÄÄ 
exito
ÄÄ !
>=
ÄÄ" $
$num
ÄÄ% &
)
ÄÄ& '
{
ÅÅ /
!pRisOracleRisXmlEventsCompletadoE
ÇÇ =
.
ÇÇ= >
CodrisCompletado
ÇÇ> N
=
ÇÇO P
Convert
ÇÇQ X
.
ÇÇX Y
ToInt32
ÇÇY `
(
ÇÇ` a
cmd
ÇÇa d
.
ÇÇd e

Parameters
ÇÇe o
[
ÇÇo p
$strÇÇp Ñ
]ÇÇÑ Ö
.ÇÇÖ Ü
ValueÇÇÜ ã
)ÇÇã å
;ÇÇå ç
return
ÉÉ "
true
ÉÉ# '
;
ÉÉ' (
}
ÑÑ 
else
ÖÖ 
{
ÜÜ 
return
áá "
false
áá# (
;
áá( )
}
àà 
}
ââ 
}
ää 
}
ãã 
catch
åå 
(
åå 
	Exception
åå 
e
åå 
)
åå 
{
çç 
throw
çç 
e
çç 
=
çç 
new
çç 
	Exception
çç %
(
çç% &
e
çç& '
.
çç' (
Message
çç( /
)
çç/ 0
;
çç0 1
}
çç2 3
}
éé 	
public
ëë 
bool
ëë 7
)Sp_RisOracleRisXmlEventsCompletado_Update
ëë =
(
ëë= >.
 RisOracleRisXmlEventsCompletadoE
ëë> ^0
!pRisOracleRisXmlEventsCompletadoEëë_ Ä
)ëëÄ Å
{
íí 	
try
ìì 
{
îî 
using
ïï 
(
ïï 
SqlConnection
ïï $
cnn
ïï% (
=
ïï) *
new
ïï+ .
SqlConnection
ïï/ <
(
ïï< =
VariablesGlobales
ïï= N
.
ïïN O

CnnClinica
ïïO Y
)
ïïY Z
)
ïïZ [
{
ññ 
using
óó 
(
óó 

SqlCommand
óó %
cmd
óó& )
=
óó* +
new
óó, /

SqlCommand
óó0 :
(
óó: ;
$str
óó; f
,
óóf g
cnn
óóh k
)
óók l
)
óól m
{
òò 
cmd
ôô 
.
ôô 
CommandType
ôô '
=
ôô( )
System
ôô* 0
.
ôô0 1
Data
ôô1 5
.
ôô5 6
CommandType
ôô6 A
.
ôôA B
StoredProcedure
ôôB Q
;
ôôQ R
cmd
õõ 
.
õõ 

Parameters
õõ &
.
õõ& '
AddWithValue
õõ' 3
(
õõ3 4
$str
õõ4 E
,
õõE F/
!pRisOracleRisXmlEventsCompletadoE
õõG h
.
õõh i
FlagProcesado
õõi v
)
õõv w
;
õõw x
cmd
úú 
.
úú 

Parameters
úú &
.
úú& '
AddWithValue
úú' 3
(
úú3 4
$str
úú4 B
,
úúB C/
!pRisOracleRisXmlEventsCompletadoE
úúD e
.
úúe f

CodEmpresa
úúf p
)
úúp q
;
úúq r
cmd
ùù 
.
ùù 

Parameters
ùù &
.
ùù& '
AddWithValue
ùù' 3
(
ùù3 4
$str
ùù4 C
,
ùùC D/
!pRisOracleRisXmlEventsCompletadoE
ùùE f
.
ùùf g
CodSucursal
ùùg r
)
ùùr s
;
ùùs t
cmd
ûû 
.
ûû 

Parameters
ûû &
.
ûû& '
AddWithValue
ûû' 3
(
ûû3 4
$str
ûû4 ?
,
ûû? @/
!pRisOracleRisXmlEventsCompletadoE
ûûA b
.
ûûb c
EventId
ûûc j
)
ûûj k
;
ûûk l
cmd
üü 
.
üü 

Parameters
üü &
.
üü& '
AddWithValue
üü' 3
(
üü3 4
$str
üü4 A
,
üüA B/
!pRisOracleRisXmlEventsCompletadoE
üüC d
.
üüd e
	EventDesc
üüe n
)
üün o
;
üüo p
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
AddWithValue
††' 3
(
††3 4
$str
††4 E
,
††E F/
!pRisOracleRisXmlEventsCompletadoE
††G h
.
††h i
EventDatetime
††i v
)
††v w
;
††w x
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 D
,
°°D E/
!pRisOracleRisXmlEventsCompletadoE
°°F g
.
°°g h
EventTypeId
°°h s
)
°°s t
;
°°t u
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ &
.
¢¢& '
AddWithValue
¢¢' 3
(
¢¢3 4
$str
¢¢4 C
,
¢¢C D/
!pRisOracleRisXmlEventsCompletadoE
¢¢E f
.
¢¢f g
OrderStatus
¢¢g r
)
¢¢r s
;
¢¢s t
cmd
££ 
.
££ 

Parameters
££ &
.
££& '
AddWithValue
££' 3
(
££3 4
$str
££4 B
,
££B C/
!pRisOracleRisXmlEventsCompletadoE
££D e
.
££e f

IdPaciente
££f p
)
££p q
;
££q r
cmd
§§ 
.
§§ 

Parameters
§§ &
.
§§& '
AddWithValue
§§' 3
(
§§3 4
$str
§§4 F
,
§§F G/
!pRisOracleRisXmlEventsCompletadoE
§§H i
.
§§i j
IdPacienteRis
§§j w
)
§§w x
;
§§x y
cmd
•• 
.
•• 

Parameters
•• &
.
••& '
AddWithValue
••' 3
(
••3 4
$str
••4 C
,
••C D/
!pRisOracleRisXmlEventsCompletadoE
••E f
.
••f g
RutPaciente
••g r
)
••r s
;
••s t
cmd
¶¶ 
.
¶¶ 

Parameters
¶¶ &
.
¶¶& '
AddWithValue
¶¶' 3
(
¶¶3 4
$str
¶¶4 D
,
¶¶D E/
!pRisOracleRisXmlEventsCompletadoE
¶¶F g
.
¶¶g h
TipoPaciente
¶¶h t
)
¶¶t u
;
¶¶u v
cmd
ßß 
.
ßß 

Parameters
ßß &
.
ßß& '
AddWithValue
ßß' 3
(
ßß3 4
$str
ßß4 B
,
ßßB C/
!pRisOracleRisXmlEventsCompletadoE
ßßD e
.
ßße f

IdAdmision
ßßf p
)
ßßp q
;
ßßq r
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
AddWithValue
®®' 3
(
®®3 4
$str
®®4 A
,
®®A B/
!pRisOracleRisXmlEventsCompletadoE
®®C d
.
®®d e
	IdIngreso
®®e n
)
®®n o
;
®®o p
cmd
©© 
.
©© 

Parameters
©© &
.
©©& '
AddWithValue
©©' 3
(
©©3 4
$str
©©4 B
,
©©B C/
!pRisOracleRisXmlEventsCompletadoE
©©D e
.
©©e f

IdAtencion
©©f p
)
©©p q
;
©©q r
cmd
™™ 
.
™™ 

Parameters
™™ &
.
™™& '
AddWithValue
™™' 3
(
™™3 4
$str
™™4 B
,
™™B C/
!pRisOracleRisXmlEventsCompletadoE
™™D e
.
™™e f

CodPaquete
™™f p
)
™™p q
;
™™q r
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 J
,
´´J K/
!pRisOracleRisXmlEventsCompletadoE
´´L m
.
´´m n
FillerOrderNumber
´´n 
)´´ Ä
;´´Ä Å
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ &
.
¨¨& '
AddWithValue
¨¨' 3
(
¨¨3 4
$str
¨¨4 >
,
¨¨> ?/
!pRisOracleRisXmlEventsCompletadoE
¨¨@ a
.
¨¨a b
XmlMsg
¨¨b h
)
¨¨h i
;
¨¨i j
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ &
.
≠≠& '
AddWithValue
≠≠' 3
(
≠≠3 4
$str
≠≠4 K
,
≠≠K L/
!pRisOracleRisXmlEventsCompletadoE
≠≠M n
.
≠≠n o!
XmlIntegrationDate≠≠o Å
)≠≠Å Ç
;≠≠Ç É
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 G
,
ÆÆG H/
!pRisOracleRisXmlEventsCompletadoE
ÆÆI j
.
ÆÆj k
XmlEventStatus
ÆÆk y
)
ÆÆy z
;
ÆÆz {
cmd
ØØ 
.
ØØ 

Parameters
ØØ &
.
ØØ& '
AddWithValue
ØØ' 3
(
ØØ3 4
$str
ØØ4 I
,
ØØI J/
!pRisOracleRisXmlEventsCompletadoE
ØØK l
.
ØØl m
XmlMessageStatus
ØØm }
)
ØØ} ~
;
ØØ~ 
cmd
∞∞ 
.
∞∞ 

Parameters
∞∞ &
.
∞∞& '
AddWithValue
∞∞' 3
(
∞∞3 4
$str
∞∞4 G
,
∞∞G H/
!pRisOracleRisXmlEventsCompletadoE
∞∞I j
.
∞∞j k
XmlUserUpdated
∞∞k y
)
∞∞y z
;
∞∞z {
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
AddWithValue
±±' 3
(
±±3 4
$str
±±4 @
,
±±@ A/
!pRisOracleRisXmlEventsCompletadoE
±±B c
.
±±c d
XmlFlag1
±±d l
)
±±l m
;
±±m n
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ &
.
≤≤& '
AddWithValue
≤≤' 3
(
≤≤3 4
$str
≤≤4 H
,
≤≤H I/
!pRisOracleRisXmlEventsCompletadoE
≤≤J k
.
≤≤k l
CodrisCompletado
≤≤l |
)
≤≤| }
;
≤≤} ~
cnn
¥¥ 
.
¥¥ 
Open
¥¥  
(
¥¥  !
)
¥¥! "
;
¥¥" #
int
∂∂ 
exito
∂∂ !
=
∂∂" #
cmd
∂∂$ '
.
∂∂' (
ExecuteNonQuery
∂∂( 7
(
∂∂7 8
)
∂∂8 9
;
∂∂9 :
cnn
∑∑ 
.
∑∑ 
Close
∑∑ !
(
∑∑! "
)
∑∑" #
;
∑∑# $
cmd
∏∏ 
.
∏∏ 
Dispose
∏∏ #
(
∏∏# $
)
∏∏$ %
;
∏∏% &
if
ππ 
(
ππ 
exito
ππ !
>=
ππ" $
$num
ππ% &
)
ππ& '
{
∫∫ 
return
∫∫  
true
∫∫! %
;
∫∫% &
}
∫∫' (
else
ªª 
{
ºº 
return
ºº  
false
ºº! &
;
ºº& '
}
ºº( )
}
ΩΩ 
}
ææ 
}
øø 
catch
¿¿ 
(
¿¿ 
	Exception
¿¿ 
e
¿¿ 
)
¿¿ 
{
¡¡ 
throw
¡¡ 
e
¡¡ 
=
¡¡ 
new
¡¡ 
	Exception
¡¡ %
(
¡¡% &
e
¡¡& '
.
¡¡' (
Message
¡¡( /
)
¡¡/ 0
;
¡¡0 1
}
¡¡2 3
}
¬¬ 	
public
≈≈ 
bool
≈≈ =
/Sp_RisOracleRisXmlEventsCompletado_UpdatexCampo
≈≈ C
(
≈≈C D.
 RisOracleRisXmlEventsCompletadoE
≈≈D d0
!pRisOracleRisXmlEventsCompletadoE≈≈e Ü
)≈≈Ü á
{
∆∆ 	
try
«« 
{
»» 
using
…… 
(
…… 
SqlConnection
…… $
cnn
……% (
=
……) *
new
……+ .
SqlConnection
……/ <
(
……< =
VariablesGlobales
……= N
.
……N O

CnnClinica
……O Y
)
……Y Z
)
……Z [
{
   
using
ÀÀ 
(
ÀÀ 

SqlCommand
ÀÀ %
cmd
ÀÀ& )
=
ÀÀ* +
new
ÀÀ, /

SqlCommand
ÀÀ0 :
(
ÀÀ: ;
$str
ÀÀ; l
,
ÀÀl m
cnn
ÀÀn q
)
ÀÀq r
)
ÀÀr s
{
ÃÃ 
cmd
ÕÕ 
.
ÕÕ 
CommandType
ÕÕ '
=
ÕÕ( )
System
ÕÕ* 0
.
ÕÕ0 1
Data
ÕÕ1 5
.
ÕÕ5 6
CommandType
ÕÕ6 A
.
ÕÕA B
StoredProcedure
ÕÕB Q
;
ÕÕQ R
cmd
œœ 
.
œœ 

Parameters
œœ &
.
œœ& '
AddWithValue
œœ' 3
(
œœ3 4
$str
œœ4 H
,
œœH I/
!pRisOracleRisXmlEventsCompletadoE
œœJ k
.
œœk l
CodrisCompletado
œœl |
)
œœ| }
;
œœ} ~
cmd
–– 
.
–– 

Parameters
–– &
.
––& '
AddWithValue
––' 3
(
––3 4
$str
––4 B
,
––B C/
!pRisOracleRisXmlEventsCompletadoE
––D e
.
––e f

NuevoValor
––f p
)
––p q
;
––q r
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 <
,
——< =/
!pRisOracleRisXmlEventsCompletadoE
——> _
.
——_ `
Campo
——` e
)
——e f
;
——f g
cnn
”” 
.
”” 
Open
””  
(
””  !
)
””! "
;
””" #
int
’’ 
exito
’’ !
=
’’" #
cmd
’’$ '
.
’’' (
ExecuteNonQuery
’’( 7
(
’’7 8
)
’’8 9
;
’’9 :
cnn
÷÷ 
.
÷÷ 
Close
÷÷ !
(
÷÷! "
)
÷÷" #
;
÷÷# $
cmd
◊◊ 
.
◊◊ 
Dispose
◊◊ #
(
◊◊# $
)
◊◊$ %
;
◊◊% &
if
ÿÿ 
(
ÿÿ 
exito
ÿÿ !
>=
ÿÿ" $
$num
ÿÿ% &
)
ÿÿ& '
{
ŸŸ 
return
ŸŸ  
true
ŸŸ! %
;
ŸŸ% &
}
ŸŸ' (
else
⁄⁄ 
{
€€ 
return
€€  
false
€€! &
;
€€& '
}
€€( )
}
‹‹ 
}
›› 
}
ﬁﬁ 
catch
ﬂﬂ 
(
ﬂﬂ 
	Exception
ﬂﬂ 
e
ﬂﬂ 
)
ﬂﬂ 
{
‡‡ 
throw
‡‡ 
e
‡‡ 
=
‡‡ 
new
‡‡ 
	Exception
‡‡ %
(
‡‡% &
e
‡‡& '
.
‡‡' (
Message
‡‡( /
)
‡‡/ 0
;
‡‡0 1
}
‡‡2 3
}
·· 	
}
‚‚ 
}„„ Äü
nD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RisAD\RisOracleRisXmlEventsAmbulatorioAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RisAD

 !
{ 
public 

class .
"RisOracleRisXmlEventsAmbulatorioAD 3
{ 
private -
!RisOracleRisXmlEventsAmbulatorioE 1
LlenarEntidad2 ?
(? @
IDataReader@ K
drL N
,N O-
!RisOracleRisXmlEventsAmbulatorioE" C.
"pRisOracleRisXmlEventsAmbulatorioED f
)f g
{ 	-
!RisOracleRisXmlEventsAmbulatorioE -.
"oRisOracleRisXmlEventsAmbulatorioE. P
=Q R
newS V-
!RisOracleRisXmlEventsAmbulatorioEW x
(x y
)y z
;z {
switch 
( .
"pRisOracleRisXmlEventsAmbulatorioE 6
.6 7
Orden7 <
)< =
{ 
case 
$num 
: .
"oRisOracleRisXmlEventsAmbulatorioE 6
.6 7
FlagProcesado7 D
=E F
ConvertG N
.N O
ToStringO W
(W X
drX Z
[Z [
$str[ k
]k l
)l m
;m n.
"oRisOracleRisXmlEventsAmbulatorioE 6
.6 7

CodEmpresa7 A
=B C
ConvertD K
.K L
ToInt32L S
(S T
drT V
[V W
$strW d
]d e
)e f
;f g.
"oRisOracleRisXmlEventsAmbulatorioE 6
.6 7
CodSucursal7 B
=C D
ConvertE L
.L M
ToInt32M T
(T U
drU W
[W X
$strX f
]f g
)g h
;h i.
"oRisOracleRisXmlEventsAmbulatorioE 6
.6 7
EventId7 >
=? @
ConvertA H
.H I
ToStringI Q
(Q R
drR T
[T U
$strU _
]_ `
)` a
;a b.
"oRisOracleRisXmlEventsAmbulatorioE 6
.6 7
	EventDesc7 @
=A B
ConvertC J
.J K
ToStringK S
(S T
drT V
[V W
$strW c
]c d
)d e
;e f.
"oRisOracleRisXmlEventsAmbulatorioE 6
.6 7
EventDatetime7 D
=E F
ConvertG N
.N O
ToStringO W
(W X
drX Z
[Z [
$str[ k
]k l
)l m
;m n.
"oRisOracleRisXmlEventsAmbulatorioE 6
.6 7
EventTypeId7 B
=C D
ConvertE L
.L M
ToInt32M T
(T U
drU W
[W X
$strX g
]g h
)h i
;i j.
"oRisOracleRisXmlEventsAmbulatorioE 6
.6 7
OrderStatus7 B
=C D
ConvertE L
.L M
ToStringM U
(U V
drV X
[X Y
$strY g
]g h
)h i
;i j.
"oRisOracleRisXmlEventsAmbulatorioE 6
.6 7

IdPaciente7 A
=B C
ConvertD K
.K L
ToStringL T
(T U
drU W
[W X
$strX e
]e f
)f g
;g h.
"oRisOracleRisXmlEventsAmbulatorioE 6
.6 7
IdPacienteRis7 D
=E F
ConvertG N
.N O
ToStringO W
(W X
drX Z
[Z [
$str[ l
]l m
)m n
;n o.
"oRisOracleRisXmlEventsAmbulatorioE 6
.6 7
RutPaciente7 B
=C D
ConvertE L
.L M
ToStringM U
(U V
drV X
[X Y
$strY g
]g h
)h i
;i j.
"oRisOracleRisXmlEventsAmbulatorioE   6
.  6 7
TipoPaciente  7 C
=  D E
Convert  F M
.  M N
ToString  N V
(  V W
dr  W Y
[  Y Z
$str  Z i
]  i j
)  j k
;  k l.
"oRisOracleRisXmlEventsAmbulatorioE!! 6
.!!6 7

IdAdmision!!7 A
=!!B C
Convert!!D K
.!!K L
ToInt32!!L S
(!!S T
dr!!T V
[!!V W
$str!!W d
]!!d e
)!!e f
;!!f g.
"oRisOracleRisXmlEventsAmbulatorioE"" 6
.""6 7
	IdIngreso""7 @
=""A B
Convert""C J
.""J K
ToInt32""K R
(""R S
dr""S U
[""U V
$str""V b
]""b c
)""c d
;""d e.
"oRisOracleRisXmlEventsAmbulatorioE## 6
.##6 7

IdAtencion##7 A
=##B C
Convert##D K
.##K L
ToInt32##L S
(##S T
dr##T V
[##V W
$str##W d
]##d e
)##e f
;##f g.
"oRisOracleRisXmlEventsAmbulatorioE$$ 6
.$$6 7

CodPaquete$$7 A
=$$B C
Convert$$D K
.$$K L
ToInt32$$L S
($$S T
dr$$T V
[$$V W
$str$$W d
]$$d e
)$$e f
;$$f g.
"oRisOracleRisXmlEventsAmbulatorioE%% 6
.%%6 7
FillerOrderNumber%%7 H
=%%I J
Convert%%K R
.%%R S
ToString%%S [
(%%[ \
dr%%\ ^
[%%^ _
$str%%_ t
]%%t u
)%%u v
;%%v w.
"oRisOracleRisXmlEventsAmbulatorioE&& 6
.&&6 7
XmlMsg&&7 =
=&&> ?
Convert&&@ G
.&&G H
ToString&&H P
(&&P Q
dr&&Q S
[&&S T
$str&&T ]
]&&] ^
)&&^ _
;&&_ `.
"oRisOracleRisXmlEventsAmbulatorioE'' 6
.''6 7
XmlIntegrationDate''7 I
=''J K
Convert''L S
.''S T
ToString''T \
(''\ ]
dr''] _
[''_ `
$str''` v
]''v w
)''w x
;''x y.
"oRisOracleRisXmlEventsAmbulatorioE(( 6
.((6 7
XmlEventStatus((7 E
=((F G
Convert((H O
.((O P
ToString((P X
(((X Y
dr((Y [
[(([ \
$str((\ n
]((n o
)((o p
;((p q.
"oRisOracleRisXmlEventsAmbulatorioE)) 6
.))6 7
XmlMessageStatus))7 G
=))H I
Convert))J Q
.))Q R
ToString))R Z
())Z [
dr))[ ]
[))] ^
$str))^ r
]))r s
)))s t
;))t u.
"oRisOracleRisXmlEventsAmbulatorioE** 6
.**6 7
XmlUserUpdated**7 E
=**F G
Convert**H O
.**O P
ToString**P X
(**X Y
dr**Y [
[**[ \
$str**\ n
]**n o
)**o p
;**p q.
"oRisOracleRisXmlEventsAmbulatorioE++ 6
.++6 7
XmlFlag1++7 ?
=++@ A
Convert++B I
.++I J
ToString++J R
(++R S
dr++S U
[++U V
$str++V a
]++a b
)++b c
;++c d.
"oRisOracleRisXmlEventsAmbulatorioE,, 6
.,,6 7
Version,,7 >
=,,? @
Convert,,A H
.,,H I
ToInt32,,I P
(,,P Q
dr,,Q S
[,,S T
$str,,T ]
],,] ^
),,^ _
;,,_ `.
"oRisOracleRisXmlEventsAmbulatorioE-- 6
.--6 7
FecTrama--7 ?
=--@ A
Convert--B I
.--I J
ToString--J R
(--R S
dr--S U
[--U V
$str--V a
]--a b
)--b c
;--c d.
"oRisOracleRisXmlEventsAmbulatorioE.. 6
...6 7
CodrisAmbulatorio..7 H
=..I J
Convert..K R
...R S
ToInt32..S Z
(..Z [
dr..[ ]
[..] ^
$str..^ r
]..r s
)..s t
;..t u
break// 
;// 
case00 
$num00 
:00 .
"oRisOracleRisXmlEventsAmbulatorioE11 6
.116 7
CodrisAmbulatorio117 H
=11I J
Convert11K R
.11R S
ToInt3211S Z
(11Z [
dr11[ ]
[11] ^
$str11^ r
]11r s
)11s t
;11t u.
"oRisOracleRisXmlEventsAmbulatorioE22 6
.226 7
XmlMsg227 =
=22> ?
Convert22@ G
.22G H
ToString22H P
(22P Q
dr22Q S
[22S T
$str22T ]
]22] ^
)22^ _
;22_ `.
"oRisOracleRisXmlEventsAmbulatorioE33 6
.336 7

IdPaciente337 A
=33B C
Convert33D K
.33K L
ToString33L T
(33T U
dr33U W
[33W X
$str33X e
]33e f
)33f g
;33g h.
"oRisOracleRisXmlEventsAmbulatorioE44 6
.446 7
RutPaciente447 B
=44C D
Convert44E L
.44L M
ToString44M U
(44U V
dr44V X
[44X Y
$str44Y g
]44g h
)44h i
;44i j.
"oRisOracleRisXmlEventsAmbulatorioE55 6
.556 7
Version557 >
=55? @
Convert55A H
.55H I
ToInt3255I P
(55P Q
dr55Q S
[55S T
$str55T ]
]55] ^
)55^ _
;55_ `.
"oRisOracleRisXmlEventsAmbulatorioE66 6
.666 7
EventTypeId667 B
=66C D
Convert66E L
.66L M
ToInt3266M T
(66T U
dr66U W
[66W X
$str66X g
]66g h
)66h i
;66i j
break77 
;77 
}88 
return:: .
"oRisOracleRisXmlEventsAmbulatorioE:: 5
;::5 6
};; 	
public== 
List== 
<== -
!RisOracleRisXmlEventsAmbulatorioE== 5
>==5 68
,Sp_RisOracleRisXmlEventsAmbulatorio_Consulta==7 c
(==c d.
!RisOracleRisXmlEventsAmbulatorioE	==d Ö0
"pRisOracleRisXmlEventsAmbulatorioE
==Ü ®
)
==® ©
{>> 	
List?? 
<?? -
!RisOracleRisXmlEventsAmbulatorioE?? 2
>??2 3
oListar??4 ;
=??< =
new??> A
List??B F
<??F G-
!RisOracleRisXmlEventsAmbulatorioE??G h
>??h i
(??i j
)??j k
;??k l-
!RisOracleRisXmlEventsAmbulatorioE@@ -.
"oRisOracleRisXmlEventsAmbulatorioE@@. P
=@@Q R
null@@S W
;@@W X
usingAA 
(AA 
SqlConnectionAA  
cnnAA! $
=AA% &
newAA' *
SqlConnectionAA+ 8
(AA8 9
VariablesGlobalesAA9 J
.AAJ K

CnnClinicaAAK U
)AAU V
)AAV W
{BB 
usingCC 
(CC 

SqlCommandCC !
cmdCC" %
=CC& '
newCC( +

SqlCommandCC, 6
(CC6 7
$strCC7 e
,CCe f
cnnCCg j
)CCj k
)CCk l
{DD 
cmdEE 
.EE 
CommandTypeEE #
=EE$ %
SystemEE& ,
.EE, -
DataEE- 1
.EE1 2
CommandTypeEE2 =
.EE= >
StoredProcedureEE> M
;EEM N
cmdGG 
.GG 

ParametersGG "
.GG" #
AddWithValueGG# /
(GG/ 0
$strGG0 E
,GGE F.
"pRisOracleRisXmlEventsAmbulatorioEGGG i
.GGi j
CodrisAmbulatorioGGj {
)GG{ |
;GG| }
cmdHH 
.HH 

ParametersHH "
.HH" #
AddWithValueHH# /
(HH/ 0
$strHH0 9
,HH9 :.
"pRisOracleRisXmlEventsAmbulatorioEHH; ]
.HH] ^
BuscarHH^ d
)HHd e
;HHe f
cmdII 
.II 

ParametersII "
.II" #
AddWithValueII# /
(II/ 0
$strII0 8
,II8 9.
"pRisOracleRisXmlEventsAmbulatorioEII: \
.II\ ]
CampoII] b
)IIb c
;IIc d
cmdJJ 
.JJ 

ParametersJJ "
.JJ" #
AddWithValueJJ# /
(JJ/ 0
$strJJ0 >
,JJ> ?.
"pRisOracleRisXmlEventsAmbulatorioEJJ@ b
.JJb c
NumeroFilasJJc n
)JJn o
;JJo p
cmdKK 
.KK 

ParametersKK "
.KK" #
AddWithValueKK# /
(KK/ 0
$strKK0 8
,KK8 9.
"pRisOracleRisXmlEventsAmbulatorioEKK: \
.KK\ ]
OrdenKK] b
)KKb c
;KKc d
cnnLL 
.LL 
OpenLL 
(LL 
)LL 
;LL 
IDataReaderMM 
drMM  "
=MM# $
cmdMM% (
.MM( )
ExecuteReaderMM) 6
(MM6 7
)MM7 8
;MM8 9
whileNN 
(NN 
drNN 
.NN 
ReadNN "
(NN" #
)NN# $
)NN$ %
{OO .
"oRisOracleRisXmlEventsAmbulatorioEPP :
=PP; <
LlenarEntidadPP= J
(PPJ K
drPPK M
,PPM N.
"pRisOracleRisXmlEventsAmbulatorioEPPO q
)PPq r
;PPr s
oListarQQ 
.QQ  
AddQQ  #
(QQ# $.
"oRisOracleRisXmlEventsAmbulatorioEQQ$ F
)QQF G
;QQG H
}RR 
drSS 
.SS 
CloseSS 
(SS 
)SS 
;SS 
cnnTT 
.TT 
CloseTT 
(TT 
)TT 
;TT  
}UU 
}VV 
returnWW 
oListarWW 
;WW 
}XX 	
publicZZ 
boolZZ 6
*Sp_RisOracleRisXmlEventsAmbulatorio_InsertZZ >
(ZZ> ?-
!RisOracleRisXmlEventsAmbulatorioEZZ? `/
"pRisOracleRisXmlEventsAmbulatorioE	ZZa É
)
ZZÉ Ñ
{[[ 	
try\\ 
{]] 
using^^ 
(^^ 
SqlConnection^^ $
cnn^^% (
=^^) *
new^^+ .
SqlConnection^^/ <
(^^< =
VariablesGlobales^^= N
.^^N O

CnnClinica^^O Y
)^^Y Z
)^^Z [
{__ 
using`` 
(`` 

SqlCommand`` %
cmd``& )
=``* +
new``, /

SqlCommand``0 :
(``: ;
$str``; g
,``g h
cnn``i l
)``l m
)``m n
{aa 
cmdbb 
.bb 
CommandTypebb '
=bb( )
Systembb* 0
.bb0 1
Databb1 5
.bb5 6
CommandTypebb6 A
.bbA B
StoredProcedurebbB Q
;bbQ R
cmddd 
.dd 

Parametersdd &
.dd& '
AddWithValuedd' 3
(dd3 4
$strdd4 E
,ddE F.
"pRisOracleRisXmlEventsAmbulatorioEddG i
.ddi j
FlagProcesadoddj w
)ddw x
;ddx y
cmdee 
.ee 

Parametersee &
.ee& '
AddWithValueee' 3
(ee3 4
$stree4 B
,eeB C.
"pRisOracleRisXmlEventsAmbulatorioEeeD f
.eef g

CodEmpresaeeg q
)eeq r
;eer s
cmdff 
.ff 

Parametersff &
.ff& '
AddWithValueff' 3
(ff3 4
$strff4 C
,ffC D.
"pRisOracleRisXmlEventsAmbulatorioEffE g
.ffg h
CodSucursalffh s
)ffs t
;fft u
cmdgg 
.gg 

Parametersgg &
.gg& '
AddWithValuegg' 3
(gg3 4
$strgg4 ?
,gg? @.
"pRisOracleRisXmlEventsAmbulatorioEggA c
.ggc d
EventIdggd k
)ggk l
;ggl m
cmdhh 
.hh 

Parametershh &
.hh& '
AddWithValuehh' 3
(hh3 4
$strhh4 A
,hhA B.
"pRisOracleRisXmlEventsAmbulatorioEhhC e
.hhe f
	EventDeschhf o
)hho p
;hhp q
cmdii 
.ii 

Parametersii &
.ii& '
AddWithValueii' 3
(ii3 4
$strii4 E
,iiE F.
"pRisOracleRisXmlEventsAmbulatorioEiiG i
.iii j
EventDatetimeiij w
)iiw x
;iix y
cmdjj 
.jj 

Parametersjj &
.jj& '
AddWithValuejj' 3
(jj3 4
$strjj4 D
,jjD E.
"pRisOracleRisXmlEventsAmbulatorioEjjF h
.jjh i
EventTypeIdjji t
)jjt u
;jju v
cmdkk 
.kk 

Parameterskk &
.kk& '
AddWithValuekk' 3
(kk3 4
$strkk4 C
,kkC D.
"pRisOracleRisXmlEventsAmbulatorioEkkE g
.kkg h
OrderStatuskkh s
)kks t
;kkt u
cmdll 
.ll 

Parametersll &
.ll& '
AddWithValuell' 3
(ll3 4
$strll4 B
,llB C.
"pRisOracleRisXmlEventsAmbulatorioEllD f
.llf g

IdPacientellg q
)llq r
;llr s
cmdmm 
.mm 

Parametersmm &
.mm& '
AddWithValuemm' 3
(mm3 4
$strmm4 F
,mmF G.
"pRisOracleRisXmlEventsAmbulatorioEmmH j
.mmj k
IdPacienteRismmk x
)mmx y
;mmy z
cmdnn 
.nn 

Parametersnn &
.nn& '
AddWithValuenn' 3
(nn3 4
$strnn4 C
,nnC D.
"pRisOracleRisXmlEventsAmbulatorioEnnE g
.nng h
RutPacientennh s
)nns t
;nnt u
cmdoo 
.oo 

Parametersoo &
.oo& '
AddWithValueoo' 3
(oo3 4
$stroo4 D
,ooD E.
"pRisOracleRisXmlEventsAmbulatorioEooF h
.ooh i
TipoPacienteooi u
)oou v
;oov w
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 B
,ppB C.
"pRisOracleRisXmlEventsAmbulatorioEppD f
.ppf g

IdAdmisionppg q
)ppq r
;ppr s
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 A
,qqA B.
"pRisOracleRisXmlEventsAmbulatorioEqqC e
.qqe f
	IdIngresoqqf o
)qqo p
;qqp q
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 B
,rrB C.
"pRisOracleRisXmlEventsAmbulatorioErrD f
.rrf g

IdAtencionrrg q
)rrq r
;rrr s
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 B
,ssB C.
"pRisOracleRisXmlEventsAmbulatorioEssD f
.ssf g

CodPaquetessg q
)ssq r
;ssr s
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 J
,ttJ K.
"pRisOracleRisXmlEventsAmbulatorioEttL n
.ttn o
FillerOrderNumber	tto Ä
)
ttÄ Å
;
ttÅ Ç
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 >
,uu> ?.
"pRisOracleRisXmlEventsAmbulatorioEuu@ b
.uub c
XmlMsguuc i
)uui j
;uuj k
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 K
,vvK L.
"pRisOracleRisXmlEventsAmbulatorioEvvM o
.vvo p
XmlIntegrationDate	vvp Ç
)
vvÇ É
;
vvÉ Ñ
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 G
,wwG H.
"pRisOracleRisXmlEventsAmbulatorioEwwI k
.wwk l
XmlEventStatuswwl z
)wwz {
;ww{ |
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 I
,xxI J.
"pRisOracleRisXmlEventsAmbulatorioExxK m
.xxm n
XmlMessageStatusxxn ~
)xx~ 
;	xx Ä
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 G
,yyG H.
"pRisOracleRisXmlEventsAmbulatorioEyyI k
.yyk l
XmlUserUpdatedyyl z
)yyz {
;yy{ |
cmdzz 
.zz 

Parameterszz &
.zz& '
AddWithValuezz' 3
(zz3 4
$strzz4 @
,zz@ A.
"pRisOracleRisXmlEventsAmbulatorioEzzB d
.zzd e
XmlFlag1zze m
)zzm n
;zzn o
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 >
,{{> ?.
"pRisOracleRisXmlEventsAmbulatorioE{{@ b
.{{b c
Version{{c j
){{j k
;{{k l
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 @
,||@ A.
"pRisOracleRisXmlEventsAmbulatorioE||B d
.||d e
FecTrama||e m
)||m n
;||n o
cmd}} 
.}} 

Parameters}} &
.}}& '
Add}}' *
(}}* +
VariablesGlobales}}+ <
.}}< =
ParametroSql}}= I
(}}I J
$str}}J _
,}}_ `
ParameterDirection}}a s
.}}s t
InputOutput}}t 
,	}} Ä
	SqlDbType
}}Å ä
.
}}ä ã
Int
}}ã é
,
}}é è
$num
}}ê ë
,
}}ë í0
"pRisOracleRisXmlEventsAmbulatorioE
}}ì µ
.
}}µ ∂
CodrisAmbulatorio
}}∂ «
.
}}« »
ToString
}}» –
(
}}– —
)
}}— “
)
}}“ ”
)
}}” ‘
;
}}‘ ’
cnn 
. 
Open  
(  !
)! "
;" #
int
ÅÅ 
exito
ÅÅ !
=
ÅÅ" #
cmd
ÅÅ$ '
.
ÅÅ' (
ExecuteNonQuery
ÅÅ( 7
(
ÅÅ7 8
)
ÅÅ8 9
;
ÅÅ9 :
cnn
ÇÇ 
.
ÇÇ 
Close
ÇÇ !
(
ÇÇ! "
)
ÇÇ" #
;
ÇÇ# $
cmd
ÉÉ 
.
ÉÉ 
Dispose
ÉÉ #
(
ÉÉ# $
)
ÉÉ$ %
;
ÉÉ% &
if
ÑÑ 
(
ÑÑ 
exito
ÑÑ !
>=
ÑÑ" $
$num
ÑÑ% &
)
ÑÑ& '
{
ÖÖ 0
"pRisOracleRisXmlEventsAmbulatorioE
ÜÜ >
.
ÜÜ> ?
CodrisAmbulatorio
ÜÜ? P
=
ÜÜQ R
Convert
ÜÜS Z
.
ÜÜZ [
ToInt32
ÜÜ[ b
(
ÜÜb c
cmd
ÜÜc f
.
ÜÜf g

Parameters
ÜÜg q
[
ÜÜq r
$strÜÜr á
]ÜÜá à
.ÜÜà â
ValueÜÜâ é
)ÜÜé è
;ÜÜè ê
return
áá "
true
áá# '
;
áá' (
}
àà 
else
ââ 
{
ää 
return
ãã "
false
ãã# (
;
ãã( )
}
åå 
}
çç 
}
éé 
}
èè 
catch
êê 
(
êê 
	Exception
êê 
e
êê 
)
êê 
{
ëë 
throw
ëë 
e
ëë 
=
ëë 
new
ëë 
	Exception
ëë %
(
ëë% &
e
ëë& '
.
ëë' (
Message
ëë( /
)
ëë/ 0
;
ëë0 1
}
ëë2 3
}
íí 	
public
ïï 
bool
ïï 8
*Sp_RisOracleRisXmlEventsAmbulatorio_Update
ïï >
(
ïï> ?/
!RisOracleRisXmlEventsAmbulatorioE
ïï? `1
"pRisOracleRisXmlEventsAmbulatorioEïïa É
)ïïÉ Ñ
{
ññ 	
try
óó 
{
òò 
using
ôô 
(
ôô 
SqlConnection
ôô $
cnn
ôô% (
=
ôô) *
new
ôô+ .
SqlConnection
ôô/ <
(
ôô< =
VariablesGlobales
ôô= N
.
ôôN O

CnnClinica
ôôO Y
)
ôôY Z
)
ôôZ [
{
öö 
using
õõ 
(
õõ 

SqlCommand
õõ %
cmd
õõ& )
=
õõ* +
new
õõ, /

SqlCommand
õõ0 :
(
õõ: ;
$str
õõ; g
,
õõg h
cnn
õõi l
)
õõl m
)
õõm n
{
úú 
cmd
ùù 
.
ùù 
CommandType
ùù '
=
ùù( )
System
ùù* 0
.
ùù0 1
Data
ùù1 5
.
ùù5 6
CommandType
ùù6 A
.
ùùA B
StoredProcedure
ùùB Q
;
ùùQ R
cmd
üü 
.
üü 

Parameters
üü &
.
üü& '
AddWithValue
üü' 3
(
üü3 4
$str
üü4 E
,
üüE F0
"pRisOracleRisXmlEventsAmbulatorioE
üüG i
.
üüi j
FlagProcesado
üüj w
)
üüw x
;
üüx y
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
AddWithValue
††' 3
(
††3 4
$str
††4 B
,
††B C0
"pRisOracleRisXmlEventsAmbulatorioE
††D f
.
††f g

CodEmpresa
††g q
)
††q r
;
††r s
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 C
,
°°C D0
"pRisOracleRisXmlEventsAmbulatorioE
°°E g
.
°°g h
CodSucursal
°°h s
)
°°s t
;
°°t u
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ &
.
¢¢& '
AddWithValue
¢¢' 3
(
¢¢3 4
$str
¢¢4 ?
,
¢¢? @0
"pRisOracleRisXmlEventsAmbulatorioE
¢¢A c
.
¢¢c d
EventId
¢¢d k
)
¢¢k l
;
¢¢l m
cmd
££ 
.
££ 

Parameters
££ &
.
££& '
AddWithValue
££' 3
(
££3 4
$str
££4 A
,
££A B0
"pRisOracleRisXmlEventsAmbulatorioE
££C e
.
££e f
	EventDesc
££f o
)
££o p
;
££p q
cmd
§§ 
.
§§ 

Parameters
§§ &
.
§§& '
AddWithValue
§§' 3
(
§§3 4
$str
§§4 E
,
§§E F0
"pRisOracleRisXmlEventsAmbulatorioE
§§G i
.
§§i j
EventDatetime
§§j w
)
§§w x
;
§§x y
cmd
•• 
.
•• 

Parameters
•• &
.
••& '
AddWithValue
••' 3
(
••3 4
$str
••4 D
,
••D E0
"pRisOracleRisXmlEventsAmbulatorioE
••F h
.
••h i
EventTypeId
••i t
)
••t u
;
••u v
cmd
¶¶ 
.
¶¶ 

Parameters
¶¶ &
.
¶¶& '
AddWithValue
¶¶' 3
(
¶¶3 4
$str
¶¶4 C
,
¶¶C D0
"pRisOracleRisXmlEventsAmbulatorioE
¶¶E g
.
¶¶g h
OrderStatus
¶¶h s
)
¶¶s t
;
¶¶t u
cmd
ßß 
.
ßß 

Parameters
ßß &
.
ßß& '
AddWithValue
ßß' 3
(
ßß3 4
$str
ßß4 B
,
ßßB C0
"pRisOracleRisXmlEventsAmbulatorioE
ßßD f
.
ßßf g

IdPaciente
ßßg q
)
ßßq r
;
ßßr s
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
AddWithValue
®®' 3
(
®®3 4
$str
®®4 F
,
®®F G0
"pRisOracleRisXmlEventsAmbulatorioE
®®H j
.
®®j k
IdPacienteRis
®®k x
)
®®x y
;
®®y z
cmd
©© 
.
©© 

Parameters
©© &
.
©©& '
AddWithValue
©©' 3
(
©©3 4
$str
©©4 C
,
©©C D0
"pRisOracleRisXmlEventsAmbulatorioE
©©E g
.
©©g h
RutPaciente
©©h s
)
©©s t
;
©©t u
cmd
™™ 
.
™™ 

Parameters
™™ &
.
™™& '
AddWithValue
™™' 3
(
™™3 4
$str
™™4 D
,
™™D E0
"pRisOracleRisXmlEventsAmbulatorioE
™™F h
.
™™h i
TipoPaciente
™™i u
)
™™u v
;
™™v w
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 B
,
´´B C0
"pRisOracleRisXmlEventsAmbulatorioE
´´D f
.
´´f g

IdAdmision
´´g q
)
´´q r
;
´´r s
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ &
.
¨¨& '
AddWithValue
¨¨' 3
(
¨¨3 4
$str
¨¨4 A
,
¨¨A B0
"pRisOracleRisXmlEventsAmbulatorioE
¨¨C e
.
¨¨e f
	IdIngreso
¨¨f o
)
¨¨o p
;
¨¨p q
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ &
.
≠≠& '
AddWithValue
≠≠' 3
(
≠≠3 4
$str
≠≠4 B
,
≠≠B C0
"pRisOracleRisXmlEventsAmbulatorioE
≠≠D f
.
≠≠f g

IdAtencion
≠≠g q
)
≠≠q r
;
≠≠r s
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 B
,
ÆÆB C0
"pRisOracleRisXmlEventsAmbulatorioE
ÆÆD f
.
ÆÆf g

CodPaquete
ÆÆg q
)
ÆÆq r
;
ÆÆr s
cmd
ØØ 
.
ØØ 

Parameters
ØØ &
.
ØØ& '
AddWithValue
ØØ' 3
(
ØØ3 4
$str
ØØ4 J
,
ØØJ K0
"pRisOracleRisXmlEventsAmbulatorioE
ØØL n
.
ØØn o 
FillerOrderNumberØØo Ä
)ØØÄ Å
;ØØÅ Ç
cmd
∞∞ 
.
∞∞ 

Parameters
∞∞ &
.
∞∞& '
AddWithValue
∞∞' 3
(
∞∞3 4
$str
∞∞4 >
,
∞∞> ?0
"pRisOracleRisXmlEventsAmbulatorioE
∞∞@ b
.
∞∞b c
XmlMsg
∞∞c i
)
∞∞i j
;
∞∞j k
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
AddWithValue
±±' 3
(
±±3 4
$str
±±4 K
,
±±K L0
"pRisOracleRisXmlEventsAmbulatorioE
±±M o
.
±±o p!
XmlIntegrationDate±±p Ç
)±±Ç É
;±±É Ñ
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ &
.
≤≤& '
AddWithValue
≤≤' 3
(
≤≤3 4
$str
≤≤4 G
,
≤≤G H0
"pRisOracleRisXmlEventsAmbulatorioE
≤≤I k
.
≤≤k l
XmlEventStatus
≤≤l z
)
≤≤z {
;
≤≤{ |
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ &
.
≥≥& '
AddWithValue
≥≥' 3
(
≥≥3 4
$str
≥≥4 I
,
≥≥I J0
"pRisOracleRisXmlEventsAmbulatorioE
≥≥K m
.
≥≥m n
XmlMessageStatus
≥≥n ~
)
≥≥~ 
;≥≥ Ä
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ &
.
¥¥& '
AddWithValue
¥¥' 3
(
¥¥3 4
$str
¥¥4 G
,
¥¥G H0
"pRisOracleRisXmlEventsAmbulatorioE
¥¥I k
.
¥¥k l
XmlUserUpdated
¥¥l z
)
¥¥z {
;
¥¥{ |
cmd
µµ 
.
µµ 

Parameters
µµ &
.
µµ& '
AddWithValue
µµ' 3
(
µµ3 4
$str
µµ4 @
,
µµ@ A0
"pRisOracleRisXmlEventsAmbulatorioE
µµB d
.
µµd e
XmlFlag1
µµe m
)
µµm n
;
µµn o
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ &
.
∂∂& '
AddWithValue
∂∂' 3
(
∂∂3 4
$str
∂∂4 >
,
∂∂> ?0
"pRisOracleRisXmlEventsAmbulatorioE
∂∂@ b
.
∂∂b c
Version
∂∂c j
)
∂∂j k
;
∂∂k l
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ &
.
∑∑& '
AddWithValue
∑∑' 3
(
∑∑3 4
$str
∑∑4 @
,
∑∑@ A0
"pRisOracleRisXmlEventsAmbulatorioE
∑∑B d
.
∑∑d e
FecTrama
∑∑e m
)
∑∑m n
;
∑∑n o
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ &
.
∏∏& '
AddWithValue
∏∏' 3
(
∏∏3 4
$str
∏∏4 I
,
∏∏I J0
"pRisOracleRisXmlEventsAmbulatorioE
∏∏K m
.
∏∏m n
CodrisAmbulatorio
∏∏n 
)∏∏ Ä
;∏∏Ä Å
cnn
∫∫ 
.
∫∫ 
Open
∫∫  
(
∫∫  !
)
∫∫! "
;
∫∫" #
int
ºº 
exito
ºº !
=
ºº" #
cmd
ºº$ '
.
ºº' (
ExecuteNonQuery
ºº( 7
(
ºº7 8
)
ºº8 9
;
ºº9 :
cnn
ΩΩ 
.
ΩΩ 
Close
ΩΩ !
(
ΩΩ! "
)
ΩΩ" #
;
ΩΩ# $
cmd
ææ 
.
ææ 
Dispose
ææ #
(
ææ# $
)
ææ$ %
;
ææ% &
if
øø 
(
øø 
exito
øø !
>=
øø" $
$num
øø% &
)
øø& '
{
¿¿ 
return
¿¿  
true
¿¿! %
;
¿¿% &
}
¿¿' (
else
¡¡ 
{
¬¬ 
return
¬¬  
false
¬¬! &
;
¬¬& '
}
¬¬( )
}
√√ 
}
ƒƒ 
}
≈≈ 
catch
∆∆ 
(
∆∆ 
	Exception
∆∆ 
e
∆∆ 
)
∆∆ 
{
«« 
throw
«« 
e
«« 
=
«« 
new
«« 
	Exception
«« %
(
««% &
e
««& '
.
««' (
Message
««( /
)
««/ 0
;
««0 1
}
««2 3
}
»» 	
public
ÀÀ 
bool
ÀÀ >
0Sp_RisOracleRisXmlEventsAmbulatorio_UpdatexCampo
ÀÀ D
(
ÀÀD E/
!RisOracleRisXmlEventsAmbulatorioE
ÀÀE f1
"pRisOracleRisXmlEventsAmbulatorioEÀÀg â
)ÀÀâ ä
{
ÃÃ 	
try
ÕÕ 
{
ŒŒ 
using
œœ 
(
œœ 
SqlConnection
œœ $
cnn
œœ% (
=
œœ) *
new
œœ+ .
SqlConnection
œœ/ <
(
œœ< =
VariablesGlobales
œœ= N
.
œœN O

CnnClinica
œœO Y
)
œœY Z
)
œœZ [
{
–– 
using
—— 
(
—— 

SqlCommand
—— %
cmd
——& )
=
——* +
new
——, /

SqlCommand
——0 :
(
——: ;
$str
——; m
,
——m n
cnn
——o r
)
——r s
)
——s t
{
““ 
cmd
”” 
.
”” 
CommandType
”” '
=
””( )
System
””* 0
.
””0 1
Data
””1 5
.
””5 6
CommandType
””6 A
.
””A B
StoredProcedure
””B Q
;
””Q R
cmd
’’ 
.
’’ 

Parameters
’’ &
.
’’& '
AddWithValue
’’' 3
(
’’3 4
$str
’’4 I
,
’’I J0
"pRisOracleRisXmlEventsAmbulatorioE
’’K m
.
’’m n
CodrisAmbulatorio
’’n 
)’’ Ä
;’’Ä Å
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
AddWithValue
÷÷' 3
(
÷÷3 4
$str
÷÷4 B
,
÷÷B C0
"pRisOracleRisXmlEventsAmbulatorioE
÷÷D f
.
÷÷f g

NuevoValor
÷÷g q
)
÷÷q r
;
÷÷r s
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ &
.
◊◊& '
AddWithValue
◊◊' 3
(
◊◊3 4
$str
◊◊4 <
,
◊◊< =0
"pRisOracleRisXmlEventsAmbulatorioE
◊◊> `
.
◊◊` a
Campo
◊◊a f
)
◊◊f g
;
◊◊g h
cnn
ŸŸ 
.
ŸŸ 
Open
ŸŸ  
(
ŸŸ  !
)
ŸŸ! "
;
ŸŸ" #
int
€€ 
exito
€€ !
=
€€" #
cmd
€€$ '
.
€€' (
ExecuteNonQuery
€€( 7
(
€€7 8
)
€€8 9
;
€€9 :
cnn
‹‹ 
.
‹‹ 
Close
‹‹ !
(
‹‹! "
)
‹‹" #
;
‹‹# $
cmd
›› 
.
›› 
Dispose
›› #
(
››# $
)
››$ %
;
››% &
if
ﬁﬁ 
(
ﬁﬁ 
exito
ﬁﬁ !
>=
ﬁﬁ" $
$num
ﬁﬁ% &
)
ﬁﬁ& '
{
ﬂﬂ 
return
ﬂﬂ  
true
ﬂﬂ! %
;
ﬂﬂ% &
}
ﬂﬂ' (
else
‡‡ 
{
·· 
return
··  
false
··! &
;
··& '
}
··( )
}
‚‚ 
}
„„ 
}
‰‰ 
catch
ÂÂ 
(
ÂÂ 
	Exception
ÂÂ 
e
ÂÂ 
)
ÂÂ 
{
ÊÊ 
throw
ÊÊ 
e
ÊÊ 
=
ÊÊ 
new
ÊÊ 
	Exception
ÊÊ %
(
ÊÊ% &
e
ÊÊ& '
.
ÊÊ' (
Message
ÊÊ( /
)
ÊÊ/ 0
;
ÊÊ0 1
}
ÊÊ2 3
}
ÁÁ 	
}
ËË 
}ÈÈ ìª
cD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RisAD\RisOracleRisXmlEventsAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
RisAD !
{ 
public 

class #
RisOracleRisXmlEventsAD (
{ 
private "
RisOracleRisXmlEventsE &
LlenarEntidad' 4
(4 5
IDataReader5 @
drA C
,C D"
RisOracleRisXmlEventsE" 8#
pRisOracleRisXmlEventsE9 P
)P Q
{ 	"
RisOracleRisXmlEventsE "#
oRisOracleRisXmlEventsE# :
=; <
new= @"
RisOracleRisXmlEventsEA W
(W X
)X Y
;Y Z
switch 
( #
pRisOracleRisXmlEventsE +
.+ ,
Orden, 1
)1 2
{ 
case 
$num 
: #
oRisOracleRisXmlEventsE +
.+ ,

CodEmpresa, 6
=7 8
Convert9 @
.@ A
ToInt32A H
(H I
drI K
[K L
$strL Y
]Y Z
)Z [
;[ \#
oRisOracleRisXmlEventsE +
.+ ,
CodSucursal, 7
=8 9
Convert: A
.A B
ToInt32B I
(I J
drJ L
[L M
$strM [
][ \
)\ ]
;] ^#
oRisOracleRisXmlEventsE +
.+ ,
EventId, 3
=4 5
Convert6 =
.= >
ToString> F
(F G
drG I
[I J
$strJ T
]T U
)U V
;V W#
oRisOracleRisXmlEventsE +
.+ ,
	EventDesc, 5
=6 7
Convert8 ?
.? @
ToString@ H
(H I
drI K
[K L
$strL X
]X Y
)Y Z
;Z [#
oRisOracleRisXmlEventsE +
.+ ,
EventDatetime, 9
=: ;
Convert< C
.C D
ToStringD L
(L M
drM O
[O P
$strP `
]` a
)a b
;b c#
oRisOracleRisXmlEventsE +
.+ ,
EventTypeId, 7
=8 9
Convert: A
.A B
ToInt32B I
(I J
drJ L
[L M
$strM \
]\ ]
)] ^
;^ _#
oRisOracleRisXmlEventsE +
.+ ,
OrderStatus, 7
=8 9
Convert: A
.A B
ToStringB J
(J K
drK M
[M N
$strN \
]\ ]
)] ^
;^ _#
oRisOracleRisXmlEventsE +
.+ ,

IdPaciente, 6
=7 8
Convert9 @
.@ A
ToStringA I
(I J
drJ L
[L M
$strM Z
]Z [
)[ \
;\ ]#
oRisOracleRisXmlEventsE +
.+ ,
IdPacienteRis, 9
=: ;
Convert< C
.C D
ToStringD L
(L M
drM O
[O P
$strP a
]a b
)b c
;c d#
oRisOracleRisXmlEventsE   +
.  + ,
RutPaciente  , 7
=  8 9
Convert  : A
.  A B
ToString  B J
(  J K
dr  K M
[  M N
$str  N \
]  \ ]
)  ] ^
;  ^ _#
oRisOracleRisXmlEventsE!! +
.!!+ ,
TipoPaciente!!, 8
=!!9 :
Convert!!; B
.!!B C
ToString!!C K
(!!K L
dr!!L N
[!!N O
$str!!O ^
]!!^ _
)!!_ `
;!!` a#
oRisOracleRisXmlEventsE"" +
.""+ ,

IdAdmision"", 6
=""7 8
Convert""9 @
.""@ A
ToInt32""A H
(""H I
dr""I K
[""K L
$str""L Y
]""Y Z
)""Z [
;""[ \#
oRisOracleRisXmlEventsE## +
.##+ ,
	IdIngreso##, 5
=##6 7
Convert##8 ?
.##? @
ToInt32##@ G
(##G H
dr##H J
[##J K
$str##K W
]##W X
)##X Y
;##Y Z#
oRisOracleRisXmlEventsE$$ +
.$$+ ,

IdAtencion$$, 6
=$$7 8
Convert$$9 @
.$$@ A
ToInt32$$A H
($$H I
dr$$I K
[$$K L
$str$$L Y
]$$Y Z
)$$Z [
;$$[ \#
oRisOracleRisXmlEventsE%% +
.%%+ ,

CodPaquete%%, 6
=%%7 8
Convert%%9 @
.%%@ A
ToInt32%%A H
(%%H I
dr%%I K
[%%K L
$str%%L Y
]%%Y Z
)%%Z [
;%%[ \#
oRisOracleRisXmlEventsE&& +
.&&+ ,
FillerOrderNumber&&, =
=&&> ?
Convert&&@ G
.&&G H
ToString&&H P
(&&P Q
dr&&Q S
[&&S T
$str&&T i
]&&i j
)&&j k
;&&k l#
oRisOracleRisXmlEventsE'' +
.''+ ,
XmlMsg'', 2
=''3 4
Convert''5 <
.''< =
ToString''= E
(''E F
dr''F H
[''H I
$str''I R
]''R S
)''S T
;''T U#
oRisOracleRisXmlEventsE(( +
.((+ ,
XmlIntegrationDate((, >
=((? @
Convert((A H
.((H I
ToString((I Q
(((Q R
dr((R T
[((T U
$str((U k
]((k l
)((l m
;((m n#
oRisOracleRisXmlEventsE)) +
.))+ ,
XmlEventStatus)), :
=)); <
Convert))= D
.))D E
ToString))E M
())M N
dr))N P
[))P Q
$str))Q c
]))c d
)))d e
;))e f#
oRisOracleRisXmlEventsE** +
.**+ ,
XmlMessageStatus**, <
=**= >
Convert**? F
.**F G
ToString**G O
(**O P
dr**P R
[**R S
$str**S g
]**g h
)**h i
;**i j#
oRisOracleRisXmlEventsE++ +
.+++ ,
XmlUserUpdated++, :
=++; <
Convert++= D
.++D E
ToString++E M
(++M N
dr++N P
[++P Q
$str++Q c
]++c d
)++d e
;++e f#
oRisOracleRisXmlEventsE,, +
.,,+ ,
XmlFlag1,,, 4
=,,5 6
Convert,,7 >
.,,> ?
ToString,,? G
(,,G H
dr,,H J
[,,J K
$str,,K V
],,V W
),,W X
;,,X Y#
oRisOracleRisXmlEventsE-- +
.--+ ,
Fechahoraregistro--, =
=--> ?
Convert--@ G
.--G H
ToString--H P
(--P Q
dr--Q S
[--S T
$str--T g
]--g h
)--h i
;--i j#
oRisOracleRisXmlEventsE.. +
...+ ,
Version.., 3
=..4 5
Convert..6 =
...= >
ToInt32..> E
(..E F
dr..F H
[..H I
$str..I R
]..R S
)..S T
;..T U#
oRisOracleRisXmlEventsE// +
.//+ ,
FecTrama//, 4
=//5 6
Convert//7 >
.//> ?
ToString//? G
(//G H
dr//H J
[//J K
$str//K V
]//V W
)//W X
;//X Y
break00 
;00 
case11 
$num11 
:11 #
oRisOracleRisXmlEventsE22 +
.22+ ,

CodEmpresa22, 6
=227 8
Convert229 @
.22@ A
ToInt3222A H
(22H I
dr22I K
[22K L
$str22L Y
]22Y Z
)22Z [
;22[ \#
oRisOracleRisXmlEventsE33 +
.33+ ,
CodSucursal33, 7
=338 9
Convert33: A
.33A B
ToInt3233B I
(33I J
dr33J L
[33L M
$str33M [
]33[ \
)33\ ]
;33] ^#
oRisOracleRisXmlEventsE44 +
.44+ ,
EventId44, 3
=444 5
Convert446 =
.44= >
ToString44> F
(44F G
dr44G I
[44I J
$str44J T
]44T U
)44U V
;44V W#
oRisOracleRisXmlEventsE55 +
.55+ ,
	EventDesc55, 5
=556 7
Convert558 ?
.55? @
ToString55@ H
(55H I
dr55I K
[55K L
$str55L X
]55X Y
)55Y Z
;55Z [#
oRisOracleRisXmlEventsE66 +
.66+ ,
EventDatetime66, 9
=66: ;
Convert66< C
.66C D
ToString66D L
(66L M
dr66M O
[66O P
$str66P `
]66` a
)66a b
;66b c#
oRisOracleRisXmlEventsE77 +
.77+ ,
EventTypeId77, 7
=778 9
Convert77: A
.77A B
ToInt3277B I
(77I J
dr77J L
[77L M
$str77M \
]77\ ]
)77] ^
;77^ _#
oRisOracleRisXmlEventsE88 +
.88+ ,
OrderStatus88, 7
=888 9
Convert88: A
.88A B
ToString88B J
(88J K
dr88K M
[88M N
$str88N \
]88\ ]
)88] ^
;88^ _#
oRisOracleRisXmlEventsE99 +
.99+ ,

IdPaciente99, 6
=997 8
Convert999 @
.99@ A
ToString99A I
(99I J
dr99J L
[99L M
$str99M Z
]99Z [
)99[ \
;99\ ]#
oRisOracleRisXmlEventsE:: +
.::+ ,
IdPacienteRis::, 9
=::: ;
Convert::< C
.::C D
ToString::D L
(::L M
dr::M O
[::O P
$str::P a
]::a b
)::b c
;::c d#
oRisOracleRisXmlEventsE;; +
.;;+ ,
RutPaciente;;, 7
=;;8 9
Convert;;: A
.;;A B
ToString;;B J
(;;J K
dr;;K M
[;;M N
$str;;N \
];;\ ]
);;] ^
;;;^ _#
oRisOracleRisXmlEventsE<< +
.<<+ ,
TipoPaciente<<, 8
=<<9 :
Convert<<; B
.<<B C
ToString<<C K
(<<K L
dr<<L N
[<<N O
$str<<O ^
]<<^ _
)<<_ `
;<<` a#
oRisOracleRisXmlEventsE== +
.==+ ,

IdAdmision==, 6
===7 8
Convert==9 @
.==@ A
ToInt32==A H
(==H I
dr==I K
[==K L
$str==L Y
]==Y Z
)==Z [
;==[ \#
oRisOracleRisXmlEventsE>> +
.>>+ ,
	IdIngreso>>, 5
=>>6 7
Convert>>8 ?
.>>? @
ToInt32>>@ G
(>>G H
dr>>H J
[>>J K
$str>>K W
]>>W X
)>>X Y
;>>Y Z#
oRisOracleRisXmlEventsE?? +
.??+ ,

IdAtencion??, 6
=??7 8
Convert??9 @
.??@ A
ToInt32??A H
(??H I
dr??I K
[??K L
$str??L Y
]??Y Z
)??Z [
;??[ \#
oRisOracleRisXmlEventsE@@ +
.@@+ ,

CodPaquete@@, 6
=@@7 8
Convert@@9 @
.@@@ A
ToInt32@@A H
(@@H I
dr@@I K
[@@K L
$str@@L Y
]@@Y Z
)@@Z [
;@@[ \#
oRisOracleRisXmlEventsEAA +
.AA+ ,
FillerOrderNumberAA, =
=AA> ?
ConvertAA@ G
.AAG H
ToStringAAH P
(AAP Q
drAAQ S
[AAS T
$strAAT i
]AAi j
)AAj k
;AAk l#
oRisOracleRisXmlEventsEBB +
.BB+ ,
XmlMsgBB, 2
=BB3 4
ConvertBB5 <
.BB< =
ToStringBB= E
(BBE F
drBBF H
[BBH I
$strBBI R
]BBR S
)BBS T
;BBT U#
oRisOracleRisXmlEventsECC +
.CC+ ,
XmlIntegrationDateCC, >
=CC? @
ConvertCCA H
.CCH I
ToStringCCI Q
(CCQ R
drCCR T
[CCT U
$strCCU k
]CCk l
)CCl m
;CCm n#
oRisOracleRisXmlEventsEDD +
.DD+ ,
XmlEventStatusDD, :
=DD; <
ConvertDD= D
.DDD E
ToStringDDE M
(DDM N
drDDN P
[DDP Q
$strDDQ c
]DDc d
)DDd e
;DDe f#
oRisOracleRisXmlEventsEEE +
.EE+ ,
XmlMessageStatusEE, <
=EE= >
ConvertEE? F
.EEF G
ToStringEEG O
(EEO P
drEEP R
[EER S
$strEES g
]EEg h
)EEh i
;EEi j#
oRisOracleRisXmlEventsEFF +
.FF+ ,
XmlUserUpdatedFF, :
=FF; <
ConvertFF= D
.FFD E
ToStringFFE M
(FFM N
drFFN P
[FFP Q
$strFFQ c
]FFc d
)FFd e
;FFe f#
oRisOracleRisXmlEventsEGG +
.GG+ ,
XmlFlag1GG, 4
=GG5 6
ConvertGG7 >
.GG> ?
ToStringGG? G
(GGG H
drGGH J
[GGJ K
$strGGK V
]GGV W
)GGW X
;GGX Y#
oRisOracleRisXmlEventsEHH +
.HH+ ,
FechahoraregistroHH, =
=HH> ?
ConvertHH@ G
.HHG H
ToStringHHH P
(HHP Q
drHHQ S
[HHS T
$strHHT g
]HHg h
)HHh i
;HHi j#
oRisOracleRisXmlEventsEII +
.II+ ,
VersionII, 3
=II4 5
ConvertII6 =
.II= >
ToInt32II> E
(IIE F
drIIF H
[IIH I
$strIII R
]IIR S
)IIS T
;IIT U#
oRisOracleRisXmlEventsEJJ +
.JJ+ ,
FecTramaJJ, 4
=JJ5 6
ConvertJJ7 >
.JJ> ?
ToStringJJ? G
(JJG H
drJJH J
[JJJ K
$strJJK V
]JJV W
)JJW X
;JJX Y
breakKK 
;KK 
}LL 
returnNN #
oRisOracleRisXmlEventsENN *
;NN* +
}OO 	
publicQQ 
ListQQ 
<QQ "
RisOracleRisXmlEventsEQQ *
>QQ* +-
!Sp_RisOracleRisXmlEvents_ConsultaQQ, M
(QQM N"
RisOracleRisXmlEventsEQQN d#
pRisOracleRisXmlEventsEQQe |
)QQ| }
{RR 	
ListSS 
<SS "
RisOracleRisXmlEventsESS '
>SS' (
oListarSS) 0
=SS1 2
newSS3 6
ListSS7 ;
<SS; <"
RisOracleRisXmlEventsESS< R
>SSR S
(SSS T
)SST U
;SSU V"
RisOracleRisXmlEventsETT "#
oRisOracleRisXmlEventsETT# :
=TT; <
nullTT= A
;TTA B
usingUU 
(UU 
SqlConnectionUU  
cnnUU! $
=UU% &
newUU' *
SqlConnectionUU+ 8
(UU8 9
VariablesGlobalesUU9 J
.UUJ K

CnnClinicaUUK U
)UUU V
)UUV W
{VV 
usingWW 
(WW 

SqlCommandWW !
cmdWW" %
=WW& '
newWW( +

SqlCommandWW, 6
(WW6 7
$strWW7 Z
,WWZ [
cnnWW\ _
)WW_ `
)WW` a
{XX 
cmdYY 
.YY 
CommandTypeYY #
=YY$ %
SystemYY& ,
.YY, -
DataYY- 1
.YY1 2
CommandTypeYY2 =
.YY= >
StoredProcedureYY> M
;YYM N
cmd[[ 
.[[ 

Parameters[[ "
.[[" #
AddWithValue[[# /
([[/ 0
$str[[0 D
,[[D E#
pRisOracleRisXmlEventsE[[F ]
.[[] ^
FillerOrderNumber[[^ o
)[[o p
;[[p q
cmd\\ 
.\\ 

Parameters\\ "
.\\" #
AddWithValue\\# /
(\\/ 0
$str\\0 >
,\\> ?#
pRisOracleRisXmlEventsE\\@ W
.\\W X
EventTypeId\\X c
)\\c d
;\\d e
cmd]] 
.]] 

Parameters]] "
.]]" #
AddWithValue]]# /
(]]/ 0
$str]]0 9
,]]9 :#
pRisOracleRisXmlEventsE]]; R
.]]R S
Buscar]]S Y
)]]Y Z
;]]Z [
cmd^^ 
.^^ 

Parameters^^ "
.^^" #
AddWithValue^^# /
(^^/ 0
$str^^0 8
,^^8 9#
pRisOracleRisXmlEventsE^^: Q
.^^Q R
Campo^^R W
)^^W X
;^^X Y
cmd__ 
.__ 

Parameters__ "
.__" #
AddWithValue__# /
(__/ 0
$str__0 >
,__> ?#
pRisOracleRisXmlEventsE__@ W
.__W X

NumeroFila__X b
)__b c
;__c d
cmd`` 
.`` 

Parameters`` "
.``" #
AddWithValue``# /
(``/ 0
$str``0 8
,``8 9#
pRisOracleRisXmlEventsE``: Q
.``Q R
Orden``R W
)``W X
;``X Y
cnnaa 
.aa 
Openaa 
(aa 
)aa 
;aa 
IDataReaderbb 
drbb  "
=bb# $
cmdbb% (
.bb( )
ExecuteReaderbb) 6
(bb6 7
)bb7 8
;bb8 9
whilecc 
(cc 
drcc 
.cc 
Readcc "
(cc" #
)cc# $
)cc$ %
{dd #
oRisOracleRisXmlEventsEee /
=ee0 1
LlenarEntidadee2 ?
(ee? @
dree@ B
,eeB C#
pRisOracleRisXmlEventsEeeD [
)ee[ \
;ee\ ]
oListarff 
.ff  
Addff  #
(ff# $#
oRisOracleRisXmlEventsEff$ ;
)ff; <
;ff< =
}gg 
drhh 
.hh 
Closehh 
(hh 
)hh 
;hh 
cnnii 
.ii 
Closeii 
(ii 
)ii 
;ii  
}jj 
}kk 
returnll 
oListarll 
;ll 
}mm 	
publicpp 
intpp +
Sp_RisOracleRisXmlEvents_Insertpp 2
(pp2 3"
RisOracleRisXmlEventsEpp3 I#
pRisOracleRisXmlEventsEppJ a
)ppa b
{qq 	
tryrr 
{ss 
usingtt 
(tt 
SqlConnectiontt $
cnntt% (
=tt) *
newtt+ .
SqlConnectiontt/ <
(tt< =
VariablesGlobalestt= N
.ttN O

CnnClinicattO Y
)ttY Z
)ttZ [
{uu 
usingvv 
(vv 

SqlCommandvv %
cmdvv& )
=vv* +
newvv, /

SqlCommandvv0 :
(vv: ;
$strvv; \
,vv\ ]
cnnvv^ a
)vva b
)vvb c
{ww 
cmdxx 
.xx 
CommandTypexx '
=xx( )
Systemxx* 0
.xx0 1
Dataxx1 5
.xx5 6
CommandTypexx6 A
.xxA B
StoredProcedurexxB Q
;xxQ R
cmdzz 
.zz 

Parameterszz &
.zz& '
AddWithValuezz' 3
(zz3 4
$strzz4 B
,zzB C#
pRisOracleRisXmlEventsEzzD [
.zz[ \

CodEmpresazz\ f
)zzf g
;zzg h
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 C
,{{C D#
pRisOracleRisXmlEventsE{{E \
.{{\ ]
CodSucursal{{] h
){{h i
;{{i j
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 ?
,||? @#
pRisOracleRisXmlEventsE||A X
.||X Y
EventId||Y `
)||` a
;||a b
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 A
,}}A B#
pRisOracleRisXmlEventsE}}C Z
.}}Z [
	EventDesc}}[ d
)}}d e
;}}e f
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 E
,~~E F#
pRisOracleRisXmlEventsE~~G ^
.~~^ _
EventDatetime~~_ l
)~~l m
;~~m n
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 D
,D E#
pRisOracleRisXmlEventsEF ]
.] ^
EventTypeId^ i
)i j
;j k
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 C
,
ÄÄC D%
pRisOracleRisXmlEventsE
ÄÄE \
.
ÄÄ\ ]
OrderStatus
ÄÄ] h
)
ÄÄh i
;
ÄÄi j
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 B
,
ÅÅB C%
pRisOracleRisXmlEventsE
ÅÅD [
.
ÅÅ[ \

IdPaciente
ÅÅ\ f
)
ÅÅf g
;
ÅÅg h
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 F
,
ÇÇF G%
pRisOracleRisXmlEventsE
ÇÇH _
.
ÇÇ_ `
IdPacienteRis
ÇÇ` m
)
ÇÇm n
;
ÇÇn o
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 C
,
ÉÉC D%
pRisOracleRisXmlEventsE
ÉÉE \
.
ÉÉ\ ]
RutPaciente
ÉÉ] h
)
ÉÉh i
;
ÉÉi j
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 D
,
ÑÑD E%
pRisOracleRisXmlEventsE
ÑÑF ]
.
ÑÑ] ^
TipoPaciente
ÑÑ^ j
)
ÑÑj k
;
ÑÑk l
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 B
,
ÖÖB C%
pRisOracleRisXmlEventsE
ÖÖD [
.
ÖÖ[ \

IdAdmision
ÖÖ\ f
)
ÖÖf g
;
ÖÖg h
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 A
,
ÜÜA B%
pRisOracleRisXmlEventsE
ÜÜC Z
.
ÜÜZ [
	IdIngreso
ÜÜ[ d
)
ÜÜd e
;
ÜÜe f
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 B
,
ááB C%
pRisOracleRisXmlEventsE
ááD [
.
áá[ \

IdAtencion
áá\ f
)
ááf g
;
áág h
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 B
,
ààB C%
pRisOracleRisXmlEventsE
ààD [
.
àà[ \

CodPaquete
àà\ f
)
ààf g
;
ààg h
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 J
,
ââJ K%
pRisOracleRisXmlEventsE
ââL c
.
ââc d
FillerOrderNumber
ââd u
)
ââu v
;
ââv w
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 >
,
ää> ?%
pRisOracleRisXmlEventsE
ää@ W
.
ääW X
XmlMsg
ääX ^
)
ää^ _
;
ää_ `
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 K
,
ããK L%
pRisOracleRisXmlEventsE
ããM d
.
ããd e 
XmlIntegrationDate
ããe w
)
ããw x
;
ããx y
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 G
,
ååG H%
pRisOracleRisXmlEventsE
ååI `
.
åå` a
XmlEventStatus
ååa o
)
ååo p
;
ååp q
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 I
,
ççI J%
pRisOracleRisXmlEventsE
ççK b
.
ççb c
XmlMessageStatus
ççc s
)
ççs t
;
ççt u
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 G
,
ééG H%
pRisOracleRisXmlEventsE
ééI `
.
éé` a
XmlUserUpdated
ééa o
)
ééo p
;
éép q
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 @
,
èè@ A%
pRisOracleRisXmlEventsE
èèB Y
.
èèY Z
XmlFlag1
èèZ b
)
èèb c
;
èèc d
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 H
,
êêH I%
pRisOracleRisXmlEventsE
êêJ a
.
êêa b
Fechahoraregistro
êêb s
)
êês t
;
êêt u
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 >
,
ëë> ?%
pRisOracleRisXmlEventsE
ëë@ W
.
ëëW X
Version
ëëX _
)
ëë_ `
;
ëë` a
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 @
,
íí@ A%
pRisOracleRisXmlEventsE
ííB Y
.
ííY Z
FecTrama
ííZ b
)
ííb c
;
ííc d
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
Add
ìì' *
(
ìì* +
VariablesGlobales
ìì+ <
.
ìì< =
ParametroSql
ìì= I
(
ììI J
$str
ììJ S
,
ììS T 
ParameterDirection
ììU g
.
ììg h
InputOutput
ììh s
,
ììs t
	SqlDbType
ììu ~
.
ìì~ 
Intìì Ç
,ììÇ É
$numììÑ Ö
,ììÖ Ü'
pRisOracleRisXmlEventsEììá û
.ììû ü
Resultììü •
)ìì• ¶
)ìì¶ ß
;ììß ®
cnn
ïï 
.
ïï 
Open
ïï  
(
ïï  !
)
ïï! "
;
ïï" #
int
óó 
exito
óó !
=
óó" #
cmd
óó$ '
.
óó' (
ExecuteNonQuery
óó( 7
(
óó7 8
)
óó8 9
;
óó9 :
if
ôô 
(
ôô 
exito
ôô !
>=
ôô" $
$num
ôô% &
)
ôô& '
{
öö 
return
õõ "%
pRisOracleRisXmlEventsE
õõ# :
.
õõ: ;
Result
õõ; A
=
õõB C
Convert
õõD K
.
õõK L
ToInt32
õõL S
(
õõS T
cmd
õõT W
.
õõW X

Parameters
õõX b
[
õõb c
$str
õõc l
]
õõl m
.
õõm n
Value
õõn s
)
õõs t
;
õõt u
}
úú 
cnn
ûû 
.
ûû 
Close
ûû !
(
ûû! "
)
ûû" #
;
ûû# $
cmd
üü 
.
üü 
Dispose
üü #
(
üü# $
)
üü$ %
;
üü% &
return
†† 
exito
†† $
;
††$ %
}
©© 
}
™™ 
}
´´ 
catch
¨¨ 
(
¨¨ 
	Exception
¨¨ 
e
¨¨ 
)
¨¨ 
{
≠≠ 
throw
ØØ 
e
ØØ 
=
ØØ 
new
ØØ 
	Exception
ØØ '
(
ØØ' (
e
ØØ( )
.
ØØ) *
Message
ØØ* 1
)
ØØ1 2
;
ØØ2 3
}
∞∞ 
}
±± 	
public
¥¥ 
bool
¥¥ -
Sp_RisOracleRisXmlEvents_Update
¥¥ 3
(
¥¥3 4$
RisOracleRisXmlEventsE
¥¥4 J%
pRisOracleRisXmlEventsE
¥¥K b
)
¥¥b c
{
µµ 	
try
∂∂ 
{
∑∑ 
using
∏∏ 
(
∏∏ 
SqlConnection
∏∏ $
cnn
∏∏% (
=
∏∏) *
new
∏∏+ .
SqlConnection
∏∏/ <
(
∏∏< =
VariablesGlobales
∏∏= N
.
∏∏N O

CnnClinica
∏∏O Y
)
∏∏Y Z
)
∏∏Z [
{
ππ 
using
∫∫ 
(
∫∫ 

SqlCommand
∫∫ %
cmd
∫∫& )
=
∫∫* +
new
∫∫, /

SqlCommand
∫∫0 :
(
∫∫: ;
$str
∫∫; \
,
∫∫\ ]
cnn
∫∫^ a
)
∫∫a b
)
∫∫b c
{
ªª 
cmd
ºº 
.
ºº 
CommandType
ºº '
=
ºº( )
System
ºº* 0
.
ºº0 1
Data
ºº1 5
.
ºº5 6
CommandType
ºº6 A
.
ººA B
StoredProcedure
ººB Q
;
ººQ R
cmd
ææ 
.
ææ 

Parameters
ææ &
.
ææ& '
AddWithValue
ææ' 3
(
ææ3 4
$str
ææ4 B
,
ææB C%
pRisOracleRisXmlEventsE
ææD [
.
ææ[ \

CodEmpresa
ææ\ f
)
ææf g
;
ææg h
cmd
øø 
.
øø 

Parameters
øø &
.
øø& '
AddWithValue
øø' 3
(
øø3 4
$str
øø4 C
,
øøC D%
pRisOracleRisXmlEventsE
øøE \
.
øø\ ]
CodSucursal
øø] h
)
øøh i
;
øøi j
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
.
¿¿& '
AddWithValue
¿¿' 3
(
¿¿3 4
$str
¿¿4 ?
,
¿¿? @%
pRisOracleRisXmlEventsE
¿¿A X
.
¿¿X Y
EventId
¿¿Y `
)
¿¿` a
;
¿¿a b
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 A
,
¡¡A B%
pRisOracleRisXmlEventsE
¡¡C Z
.
¡¡Z [
	EventDesc
¡¡[ d
)
¡¡d e
;
¡¡e f
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ &
.
¬¬& '
AddWithValue
¬¬' 3
(
¬¬3 4
$str
¬¬4 E
,
¬¬E F%
pRisOracleRisXmlEventsE
¬¬G ^
.
¬¬^ _
EventDatetime
¬¬_ l
)
¬¬l m
;
¬¬m n
cmd
√√ 
.
√√ 

Parameters
√√ &
.
√√& '
AddWithValue
√√' 3
(
√√3 4
$str
√√4 D
,
√√D E%
pRisOracleRisXmlEventsE
√√F ]
.
√√] ^
EventTypeId
√√^ i
)
√√i j
;
√√j k
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ &
.
ƒƒ& '
AddWithValue
ƒƒ' 3
(
ƒƒ3 4
$str
ƒƒ4 C
,
ƒƒC D%
pRisOracleRisXmlEventsE
ƒƒE \
.
ƒƒ\ ]
OrderStatus
ƒƒ] h
)
ƒƒh i
;
ƒƒi j
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ &
.
≈≈& '
AddWithValue
≈≈' 3
(
≈≈3 4
$str
≈≈4 B
,
≈≈B C%
pRisOracleRisXmlEventsE
≈≈D [
.
≈≈[ \

IdPaciente
≈≈\ f
)
≈≈f g
;
≈≈g h
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ &
.
∆∆& '
AddWithValue
∆∆' 3
(
∆∆3 4
$str
∆∆4 F
,
∆∆F G%
pRisOracleRisXmlEventsE
∆∆H _
.
∆∆_ `
IdPacienteRis
∆∆` m
)
∆∆m n
;
∆∆n o
cmd
«« 
.
«« 

Parameters
«« &
.
««& '
AddWithValue
««' 3
(
««3 4
$str
««4 C
,
««C D%
pRisOracleRisXmlEventsE
««E \
.
««\ ]
RutPaciente
««] h
)
««h i
;
««i j
cmd
»» 
.
»» 

Parameters
»» &
.
»»& '
AddWithValue
»»' 3
(
»»3 4
$str
»»4 D
,
»»D E%
pRisOracleRisXmlEventsE
»»F ]
.
»»] ^
TipoPaciente
»»^ j
)
»»j k
;
»»k l
cmd
…… 
.
…… 

Parameters
…… &
.
……& '
AddWithValue
……' 3
(
……3 4
$str
……4 B
,
……B C%
pRisOracleRisXmlEventsE
……D [
.
……[ \

IdAdmision
……\ f
)
……f g
;
……g h
cmd
   
.
   

Parameters
   &
.
  & '
AddWithValue
  ' 3
(
  3 4
$str
  4 A
,
  A B%
pRisOracleRisXmlEventsE
  C Z
.
  Z [
	IdIngreso
  [ d
)
  d e
;
  e f
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ &
.
ÀÀ& '
AddWithValue
ÀÀ' 3
(
ÀÀ3 4
$str
ÀÀ4 B
,
ÀÀB C%
pRisOracleRisXmlEventsE
ÀÀD [
.
ÀÀ[ \

IdAtencion
ÀÀ\ f
)
ÀÀf g
;
ÀÀg h
cmd
ÃÃ 
.
ÃÃ 

Parameters
ÃÃ &
.
ÃÃ& '
AddWithValue
ÃÃ' 3
(
ÃÃ3 4
$str
ÃÃ4 B
,
ÃÃB C%
pRisOracleRisXmlEventsE
ÃÃD [
.
ÃÃ[ \

CodPaquete
ÃÃ\ f
)
ÃÃf g
;
ÃÃg h
cmd
ÕÕ 
.
ÕÕ 

Parameters
ÕÕ &
.
ÕÕ& '
AddWithValue
ÕÕ' 3
(
ÕÕ3 4
$str
ÕÕ4 J
,
ÕÕJ K%
pRisOracleRisXmlEventsE
ÕÕL c
.
ÕÕc d
FillerOrderNumber
ÕÕd u
)
ÕÕu v
;
ÕÕv w
cmd
ŒŒ 
.
ŒŒ 

Parameters
ŒŒ &
.
ŒŒ& '
AddWithValue
ŒŒ' 3
(
ŒŒ3 4
$str
ŒŒ4 >
,
ŒŒ> ?%
pRisOracleRisXmlEventsE
ŒŒ@ W
.
ŒŒW X
XmlMsg
ŒŒX ^
)
ŒŒ^ _
;
ŒŒ_ `
cmd
œœ 
.
œœ 

Parameters
œœ &
.
œœ& '
AddWithValue
œœ' 3
(
œœ3 4
$str
œœ4 K
,
œœK L%
pRisOracleRisXmlEventsE
œœM d
.
œœd e 
XmlIntegrationDate
œœe w
)
œœw x
;
œœx y
cmd
–– 
.
–– 

Parameters
–– &
.
––& '
AddWithValue
––' 3
(
––3 4
$str
––4 G
,
––G H%
pRisOracleRisXmlEventsE
––I `
.
––` a
XmlEventStatus
––a o
)
––o p
;
––p q
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 I
,
——I J%
pRisOracleRisXmlEventsE
——K b
.
——b c
XmlMessageStatus
——c s
)
——s t
;
——t u
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 G
,
““G H%
pRisOracleRisXmlEventsE
““I `
.
““` a
XmlUserUpdated
““a o
)
““o p
;
““p q
cmd
”” 
.
”” 

Parameters
”” &
.
””& '
AddWithValue
””' 3
(
””3 4
$str
””4 @
,
””@ A%
pRisOracleRisXmlEventsE
””B Y
.
””Y Z
XmlFlag1
””Z b
)
””b c
;
””c d
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ &
.
‘‘& '
AddWithValue
‘‘' 3
(
‘‘3 4
$str
‘‘4 H
,
‘‘H I%
pRisOracleRisXmlEventsE
‘‘J a
.
‘‘a b
Fechahoraregistro
‘‘b s
)
‘‘s t
;
‘‘t u
cmd
’’ 
.
’’ 

Parameters
’’ &
.
’’& '
AddWithValue
’’' 3
(
’’3 4
$str
’’4 >
,
’’> ?%
pRisOracleRisXmlEventsE
’’@ W
.
’’W X
Version
’’X _
)
’’_ `
;
’’` a
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
AddWithValue
÷÷' 3
(
÷÷3 4
$str
÷÷4 @
,
÷÷@ A%
pRisOracleRisXmlEventsE
÷÷B Y
.
÷÷Y Z
FecTrama
÷÷Z b
)
÷÷b c
;
÷÷c d
cnn
ÿÿ 
.
ÿÿ 
Open
ÿÿ  
(
ÿÿ  !
)
ÿÿ! "
;
ÿÿ" #
int
⁄⁄ 
exito
⁄⁄ !
=
⁄⁄" #
cmd
⁄⁄$ '
.
⁄⁄' (
ExecuteNonQuery
⁄⁄( 7
(
⁄⁄7 8
)
⁄⁄8 9
;
⁄⁄9 :
cnn
€€ 
.
€€ 
Close
€€ !
(
€€! "
)
€€" #
;
€€# $
cmd
‹‹ 
.
‹‹ 
Dispose
‹‹ #
(
‹‹# $
)
‹‹$ %
;
‹‹% &
if
›› 
(
›› 
exito
›› !
>=
››" $
$num
››% &
)
››& '
{
ﬁﬁ 
return
ﬁﬁ  
true
ﬁﬁ! %
;
ﬁﬁ% &
}
ﬁﬁ' (
else
ﬂﬂ 
{
‡‡ 
return
‡‡  
false
‡‡! &
;
‡‡& '
}
‡‡( )
}
·· 
}
‚‚ 
}
„„ 
catch
‰‰ 
(
‰‰ 
	Exception
‰‰ 
e
‰‰ 
)
‰‰ 
{
ÂÂ 
throw
ÂÂ 
e
ÂÂ 
=
ÂÂ 
new
ÂÂ 
	Exception
ÂÂ %
(
ÂÂ% &
e
ÂÂ& '
.
ÂÂ' (
Message
ÂÂ( /
)
ÂÂ/ 0
;
ÂÂ0 1
}
ÂÂ2 3
}
ÊÊ 	
public
ËË 
bool
ËË 3
%Sp_RisOracleRisXmlEvents_UpdatexCampo
ËË 9
(
ËË9 :$
RisOracleRisXmlEventsE
ËË: P%
pRisOracleRisXmlEventsE
ËËQ h
)
ËËh i
{
ÈÈ 	
try
ÍÍ 
{
ÎÎ 
using
ÏÏ 
(
ÏÏ 
SqlConnection
ÏÏ $
cnn
ÏÏ% (
=
ÏÏ) *
new
ÏÏ+ .
SqlConnection
ÏÏ/ <
(
ÏÏ< =
VariablesGlobales
ÏÏ= N
.
ÏÏN O

CnnClinica
ÏÏO Y
)
ÏÏY Z
)
ÏÏZ [
{
ÌÌ 
using
ÓÓ 
(
ÓÓ 

SqlCommand
ÓÓ %
cmd
ÓÓ& )
=
ÓÓ* +
new
ÓÓ, /

SqlCommand
ÓÓ0 :
(
ÓÓ: ;
$str
ÓÓ; b
,
ÓÓb c
cnn
ÓÓd g
)
ÓÓg h
)
ÓÓh i
{
ÔÔ 
cmd
 
.
 
CommandType
 '
=
( )
System
* 0
.
0 1
Data
1 5
.
5 6
CommandType
6 A
.
A B
StoredProcedure
B Q
;
Q R
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ &
.
ÚÚ& '
AddWithValue
ÚÚ' 3
(
ÚÚ3 4
$str
ÚÚ4 B
,
ÚÚB C%
pRisOracleRisXmlEventsE
ÚÚD [
.
ÚÚ[ \
CodRisAmbulatorio
ÚÚ\ m
)
ÚÚm n
;
ÚÚn o
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ &
.
ÛÛ& '
AddWithValue
ÛÛ' 3
(
ÛÛ3 4
$str
ÛÛ4 B
,
ÛÛB C%
pRisOracleRisXmlEventsE
ÛÛD [
.
ÛÛ[ \

NuevoValor
ÛÛ\ f
)
ÛÛf g
;
ÛÛg h
cmd
ÙÙ 
.
ÙÙ 

Parameters
ÙÙ &
.
ÙÙ& '
AddWithValue
ÙÙ' 3
(
ÙÙ3 4
$str
ÙÙ4 <
,
ÙÙ< =%
pRisOracleRisXmlEventsE
ÙÙ> U
.
ÙÙU V
Campo
ÙÙV [
)
ÙÙ[ \
;
ÙÙ\ ]
cnn
ˆˆ 
.
ˆˆ 
Open
ˆˆ  
(
ˆˆ  !
)
ˆˆ! "
;
ˆˆ" #
int
¯¯ 
exito
¯¯ !
=
¯¯" #
cmd
¯¯$ '
.
¯¯' (
ExecuteNonQuery
¯¯( 7
(
¯¯7 8
)
¯¯8 9
;
¯¯9 :
cnn
˘˘ 
.
˘˘ 
Close
˘˘ !
(
˘˘! "
)
˘˘" #
;
˘˘# $
cmd
˙˙ 
.
˙˙ 
Dispose
˙˙ #
(
˙˙# $
)
˙˙$ %
;
˙˙% &
if
˚˚ 
(
˚˚ 
exito
˚˚ !
>=
˚˚" $
$num
˚˚% &
)
˚˚& '
{
¸¸ 
return
¸¸  
true
¸¸! %
;
¸¸% &
}
¸¸' (
else
˝˝ 
{
˛˛ 
return
˛˛  
false
˛˛! &
;
˛˛& '
}
˛˛( )
}
ˇˇ 
}
ÄÄ 
}
ÅÅ 
catch
ÇÇ 
(
ÇÇ 
	Exception
ÇÇ 
e
ÇÇ 
)
ÇÇ 
{
ÉÉ 
throw
ÉÉ 
e
ÉÉ 
=
ÉÉ 
new
ÉÉ 
	Exception
ÉÉ %
(
ÉÉ% &
e
ÉÉ& '
.
ÉÉ' (
Message
ÉÉ( /
)
ÉÉ/ 0
;
ÉÉ0 1
}
ÉÉ2 3
}
ÑÑ 	
}
ÖÖ 
}ÜÜ ó@
`D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RisAD\RisOraclePDFDocument.cs
	namespace		 	
Dat		
 
.		 
Sql		 
.		 
	ClinicaAD		 
.		 
RisAD		 !
{

 
public 

class  
RisOraclePDFDocument %
{ 
public 
bool *
Sp_RisOraclePdfDocument_Insert 2
(2 3!
RisOraclePDFDocumentE3 H"
pRisOraclePdfDocumentEI _
)_ `
{ 	
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; \
,\ ]
cnn^ a
)a b
)b c
{ 
cmd 
. 
CommandType '
=( )
System* 0
.0 1
Data1 5
.5 6
CommandType6 A
.A B
StoredProcedureB Q
;Q R
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 A
,A B"
pRisOraclePdfDocumentEC Y
.Y Z
SpsIdKeyZ b
)b c
;c d
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 ?
,? @
ConvertA H
.H I

ToDateTimeI S
(S T"
pRisOraclePdfDocumentET j
.j k
PdfDatek r
)r s
)s t
;t u
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 B
,B C"
pRisOraclePdfDocumentED Z
.Z [
Description[ f
)f g
;g h
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 ?
,? @"
pRisOraclePdfDocumentEA W
.W X
ContentsX `
)` a
;a b
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 B
,B C"
pRisOraclePdfDocumentED Z
.Z [
Codpresotor[ f
)f g
;g h
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 D
,D E"
pRisOraclePdfDocumentEF \
.\ ]
DocExtension] i
)i j
;j k
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 ?
,? @
ConvertA H
.H I

ToDateTimeI S
(T U"
pRisOraclePdfDocumentEU k
.k l
PdfTimel s
)s t
)t u
;u v
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 @
,@ A"
pRisOraclePdfDocumentEB X
.X Y
	ColmedicoY b
)b c
;c d
cmd   
.   

Parameters   &
.  & '
AddWithValue  ' 3
(  3 4
$str  4 >
,  > ?"
pRisOraclePdfDocumentE  @ V
.  V W
Version  W ^
)  ^ _
;  _ `
cnn"" 
."" 
Open""  
(""  !
)""! "
;""" #
int$$ 
exito$$ !
=$$" #
cmd$$$ '
.$$' (
ExecuteNonQuery$$( 7
($$7 8
)$$8 9
;$$9 :
cnn%% 
.%% 
Close%% !
(%%! "
)%%" #
;%%# $
cmd&& 
.&& 
Dispose&& #
(&&# $
)&&$ %
;&&% &
if'' 
('' 
exito'' !
>=''" $
$num''% &
)''& '
{(( 
return)) "
true))# '
;))' (
}** 
else++ 
{,, 
return-- "
false--# (
;--( )
}.. 
}// 
}00 
}11 
catch22 
(22 
	Exception22 
e22 
)22 
{33 
throw33 
e33 
=33 
new33 
	Exception33 %
(33% &
e33& '
.33' (
Message33( /
)33/ 0
;330 1
}332 3
}44 	
public66 
bool66 
Sp_RisCopiar_PDF66 $
(66$ %!
RisOraclePDFDocumentE66% :"
pRisOraclePdfDocumentE66; Q
)66Q R
{77 	
try88 
{99 
using:: 
(:: 
SqlConnection:: $
cnn::% (
=::) *
new::+ .
SqlConnection::/ <
(::< =
VariablesGlobales::= N
.::N O

CnnClinica::O Y
)::Y Z
)::Z [
{;; 
using<< 
(<< 

SqlCommand<< %
cmd<<& )
=<<* +
new<<, /

SqlCommand<<0 :
(<<: ;
$str<<; N
,<<N O
cnn<<P S
)<<S T
)<<T U
{== 
cmd>> 
.>> 
CommandType>> '
=>>( )
System>>* 0
.>>0 1
Data>>1 5
.>>5 6
CommandType>>6 A
.>>A B
StoredProcedure>>B Q
;>>Q R
cmd@@ 
.@@ 

Parameters@@ &
.@@& '
AddWithValue@@' 3
(@@3 4
$str@@4 B
,@@B C"
pRisOraclePdfDocumentE@@D Z
.@@Z [
Codpresotor@@[ f
)@@f g
;@@g h
cmdAA 
.AA 

ParametersAA &
.AA& '
AddWithValueAA' 3
(AA3 4
$strAA4 <
,AA< =
ConvertAA> E
.AAE F

ToDateTimeAAF P
(AAP Q"
pRisOraclePdfDocumentEAAQ g
.AAg h
PdfDateAAh o
)AAo p
)AAp q
;AAq r
cmdBB 
.BB 

ParametersBB &
.BB& '
AddWithValueBB' 3
(BB3 4
$strBB4 :
,BB: ;"
pRisOraclePdfDocumentEBB< R
.BBR S
	ColmedicoBBS \
)BB\ ]
;BB] ^
cmdCC 
.CC 

ParametersCC &
.CC& '
AddWithValueCC' 3
(CC3 4
$strCC4 :
,CC: ;"
pRisOraclePdfDocumentECC< R
.CCR S
ContentsCCS [
)CC[ \
;CC\ ]
cmdDD 
.DD 

ParametersDD &
.DD& '
AddWithValueDD' 3
(DD3 4
$strDD4 >
,DD> ?"
pRisOraclePdfDocumentEDD@ V
.DDV W
VersionDDW ^
)DD^ _
;DD_ `
cnnFF 
.FF 
OpenFF  
(FF  !
)FF! "
;FF" #
intHH 
exitoHH !
=HH" #
cmdHH$ '
.HH' (
ExecuteNonQueryHH( 7
(HH7 8
)HH8 9
;HH9 :
cnnII 
.II 
CloseII !
(II! "
)II" #
;II# $
cmdJJ 
.JJ 
DisposeJJ #
(JJ# $
)JJ$ %
;JJ% &
ifKK 
(KK 
exitoKK !
>=KK" $
$numKK% &
)KK& '
{LL 
returnMM "
trueMM# '
;MM' (
}NN 
elseOO 
{PP 
returnQQ "
falseQQ# (
;QQ( )
}RR 
}SS 
}TT 
}UU 
catchVV 
(VV 
	ExceptionVV 
eVV 
)VV 
{WW 
throwWW 
eWW 
=WW 
newWW 
	ExceptionWW %
(WW% &
eWW& '
.WW' (
MessageWW( /
)WW/ 0
;WW0 1
}WW2 3
}XX 	
}YY 
}ZZ ü¶
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RisAD\RisExamenCompletadoAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RisAD

 !
{ 
public 

class !
RisExamenCompletadoAD &
{ 
private  
RisExamenCompletadoE $
LlenarEntidad% 2
(2 3
IDataReader3 >
dr? A
,A B 
RisExamenCompletadoE' ;!
pRisExamenCompletadoE< Q
)Q R
{ 	 
RisExamenCompletadoE  !
oRisExamenCompletadoE! 6
=7 8
new9 < 
RisExamenCompletadoE= Q
(Q R
)R S
;S T
switch 
( !
pRisExamenCompletadoE )
.) *
Orden* /
)/ 0
{ 
case 
$num 
: !
oRisExamenCompletadoE )
.) *
CodrisCompletado* :
=; <
Convert= D
.D E
ToInt32E L
(L M
drM O
[O P
$strP c
]c d
)d e
;e f!
oRisExamenCompletadoE )
.) *
Fecha* /
=0 1
Convert2 9
.9 :
ToString: B
(B C
drC E
[E F
$strF M
]M N
)N O
;O P!
oRisExamenCompletadoE )
.) *
Codprestacion* 7
=8 9
Convert: A
.A B
ToStringB J
(J K
drK M
[M N
$strN ]
]] ^
)^ _
;_ `!
oRisExamenCompletadoE )
.) *
Nombre* 0
=1 2
Convert3 :
.: ;
ToString; C
(C D
drD F
[F G
$strG O
]O P
)P Q
;Q R!
oRisExamenCompletadoE )
.) *
SpsId* /
=0 1
Convert2 9
.9 :
ToString: B
(B C
drC E
[E F
$strF N
]N O
)O P
;P Q!
oRisExamenCompletadoE )
.) *

SequenceId* 4
=5 6
Convert7 >
.> ?
ToString? G
(G H
drH J
[J K
$strK X
]X Y
)Y Z
;Z [!
oRisExamenCompletadoE )
.) *
	PacsSpsId* 3
=4 5
Convert6 =
.= >
ToString> F
(F G
drG I
[I J
$strJ W
]W X
)X Y
;Y Z!
oRisExamenCompletadoE )
.) *
Codsala* 1
=2 3
Convert4 ;
.; <
ToString< D
(D E
drE G
[G H
$strH Q
]Q R
)R S
;S T!
oRisExamenCompletadoE )
.) *
Status* 0
=1 2
Convert3 :
.: ;
ToString; C
(C D
drD F
[F G
$strG O
]O P
)P Q
;Q R!
oRisExamenCompletadoE )
.) *
Codpresotor* 5
=6 7
Convert8 ?
.? @
ToString@ H
(H I
drI K
[K L
$strL Y
]Y Z
)Z [
;[ \!
oRisExamenCompletadoE )
.) *
Estado* 0
=1 2
Convert3 :
.: ;
ToString; C
(C D
drD F
[F G
$strG O
]O P
)P Q
;Q R!
oRisExamenCompletadoE   )
.  ) *!
CodrisExamenrealizado  * ?
=  @ A
Convert  B I
.  I J
ToInt32  J Q
(  Q R
dr  R T
[  T U
$str  U m
]  m n
)  n o
;  o p
break!! 
;!! 
}"" 
return$$ !
oRisExamenCompletadoE$$ (
;$$( )
}%% 	
public'' 
List'' 
<''  
RisExamenCompletadoE'' (
>''( )+
Sp_RisExamenCompletado_Consulta''* I
(''I J 
RisExamenCompletadoE''J ^!
pRisExamenCompletadoE''_ t
)''t u
{(( 	
List)) 
<))  
RisExamenCompletadoE)) %
>))% &
oListar))' .
=))/ 0
new))1 4
List))5 9
<))9 : 
RisExamenCompletadoE)): N
>))N O
())O P
)))P Q
;))Q R 
RisExamenCompletadoE**  !
oRisExamenCompletadoE**! 6
=**7 8
null**9 =
;**= >
using++ 
(++ 
SqlConnection++  
cnn++! $
=++% &
new++' *
SqlConnection+++ 8
(++8 9
VariablesGlobales++9 J
.++J K

CnnClinica++K U
)++U V
)++V W
{,, 
using-- 
(-- 

SqlCommand-- !
cmd--" %
=--& '
new--( +

SqlCommand--, 6
(--6 7
$str--7 X
,--X Y
cnn--Z ]
)--] ^
)--^ _
{.. 
cmd// 
.// 
CommandType// #
=//$ %
System//& ,
.//, -
Data//- 1
.//1 2
CommandType//2 =
.//= >
StoredProcedure//> M
;//M N
cmd11 
.11 

Parameters11 "
.11" #
AddWithValue11# /
(11/ 0
$str110 I
,11I J!
pRisExamenCompletadoE11K `
.11` a!
CodrisExamenrealizado11a v
)11v w
;11w x
cmd22 
.22 

Parameters22 "
.22" #
AddWithValue22# /
(22/ 0
$str220 8
,228 9!
pRisExamenCompletadoE22: O
.22O P
Orden22P U
)22U V
;22V W
cnn33 
.33 
Open33 
(33 
)33 
;33 
IDataReader44 
dr44  "
=44# $
cmd44% (
.44( )
ExecuteReader44) 6
(446 7
)447 8
;448 9
while55 
(55 
dr55 
.55 
Read55 "
(55" #
)55# $
)55$ %
{66 !
oRisExamenCompletadoE77 -
=77. /
LlenarEntidad770 =
(77= >
dr77> @
,77@ A!
pRisExamenCompletadoE77B W
)77W X
;77X Y
oListar88 
.88  
Add88  #
(88# $!
oRisExamenCompletadoE88$ 9
)889 :
;88: ;
}99 
dr:: 
.:: 
Close:: 
(:: 
):: 
;:: 
cnn;; 
.;; 
Close;; 
(;; 
);; 
;;;  
}<< 
}== 
return>> 
oListar>> 
;>> 
}?? 	
publicBB 
boolBB )
Sp_RisExamenCompletado_InsertBB 1
(BB1 2 
RisExamenCompletadoEBB2 F!
pRisExamenCompletadoEBBG \
)BB\ ]
{CC 	
tryDD 
{EE 
usingFF 
(FF 
SqlConnectionFF $
cnnFF% (
=FF) *
newFF+ .
SqlConnectionFF/ <
(FF< =
VariablesGlobalesFF= N
.FFN O

CnnClinicaFFO Y
)FFY Z
)FFZ [
{GG 
usingHH 
(HH 

SqlCommandHH %
cmdHH& )
=HH* +
newHH, /

SqlCommandHH0 :
(HH: ;
$strHH; Z
,HHZ [
cnnHH\ _
)HH_ `
)HH` a
{II 
cmdJJ 
.JJ 
CommandTypeJJ '
=JJ( )
SystemJJ* 0
.JJ0 1
DataJJ1 5
.JJ5 6
CommandTypeJJ6 A
.JJA B
StoredProcedureJJB Q
;JJQ R
cmdLL 
.LL 

ParametersLL &
.LL& '
AddWithValueLL' 3
(LL3 4
$strLL4 H
,LLH I!
pRisExamenCompletadoELLJ _
.LL_ `
CodrisCompletadoLL` p
)LLp q
;LLq r
cmdMM 
.MM 

ParametersMM &
.MM& '
AddWithValueMM' 3
(MM3 4
$strMM4 <
,MM< =!
pRisExamenCompletadoEMM> S
.MMS T
FechaMMT Y
)MMY Z
;MMZ [
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 D
,NND E!
pRisExamenCompletadoENNF [
.NN[ \
CodprestacionNN\ i
)NNi j
;NNj k
cmdOO 
.OO 

ParametersOO &
.OO& '
AddWithValueOO' 3
(OO3 4
$strOO4 =
,OO= >!
pRisExamenCompletadoEOO? T
.OOT U
NombreOOU [
)OO[ \
;OO\ ]
cmdPP 
.PP 

ParametersPP &
.PP& '
AddWithValuePP' 3
(PP3 4
$strPP4 =
,PP= >!
pRisExamenCompletadoEPP? T
.PPT U
SpsIdPPU Z
)PPZ [
;PP[ \
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddWithValueQQ' 3
(QQ3 4
$strQQ4 B
,QQB C!
pRisExamenCompletadoEQQD Y
.QQY Z

SequenceIdQQZ d
)QQd e
;QQe f
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 B
,RRB C!
pRisExamenCompletadoERRD Y
.RRY Z
	PacsSpsIdRRZ c
)RRc d
;RRd e
cmdSS 
.SS 

ParametersSS &
.SS& '
AddWithValueSS' 3
(SS3 4
$strSS4 >
,SS> ?!
pRisExamenCompletadoESS@ U
.SSU V
CodsalaSSV ]
)SS] ^
;SS^ _
cmdTT 
.TT 

ParametersTT &
.TT& '
AddWithValueTT' 3
(TT3 4
$strTT4 =
,TT= >!
pRisExamenCompletadoETT? T
.TTT U
StatusTTU [
)TT[ \
;TT\ ]
cmdUU 
.UU 

ParametersUU &
.UU& '
AddWithValueUU' 3
(UU3 4
$strUU4 B
,UUB C!
pRisExamenCompletadoEUUD Y
.UUY Z
CodpresotorUUZ e
)UUe f
;UUf g
cmdVV 
.VV 

ParametersVV &
.VV& '
AddWithValueVV' 3
(VV3 4
$strVV4 =
,VV= >!
pRisExamenCompletadoEVV? T
.VVT U
EstadoVVU [
)VV[ \
;VV\ ]
cmdWW 
.WW 

ParametersWW &
.WW& '
AddWW' *
(WW* +
VariablesGlobalesWW+ <
.WW< =
ParametroSqlWW= I
(WWI J
$strWWJ c
,WWc d
ParameterDirectionWWe w
.WWw x
InputOutput	WWx É
,
WWÉ Ñ
	SqlDbType
WWÖ é
.
WWé è
Int
WWè í
,
WWí ì
$num
WWî ï
,
WWï ñ#
pRisExamenCompletadoE
WWó ¨
.
WW¨ ≠#
CodrisExamenrealizado
WW≠ ¬
.
WW¬ √
ToString
WW√ À
(
WWÀ Ã
)
WWÃ Õ
)
WWÕ Œ
)
WWŒ œ
;
WWœ –
cnnYY 
.YY 
OpenYY  
(YY  !
)YY! "
;YY" #
int[[ 
exito[[ !
=[[" #
cmd[[$ '
.[[' (
ExecuteNonQuery[[( 7
([[7 8
)[[8 9
;[[9 :
cnn\\ 
.\\ 
Close\\ !
(\\! "
)\\" #
;\\# $
cmd]] 
.]] 
Dispose]] #
(]]# $
)]]$ %
;]]% &
if^^ 
(^^ 
exito^^ !
>=^^" $
$num^^% &
)^^& '
{__ !
pRisExamenCompletadoE`` 1
.``1 2!
CodrisExamenrealizado``2 G
=``H I
Convert``J Q
.``Q R
ToInt32``R Y
(``Y Z
cmd``Z ]
.``] ^

Parameters``^ h
[``h i
$str	``i Ç
]
``Ç É
.
``É Ñ
Value
``Ñ â
)
``â ä
;
``ä ã
returnaa "
trueaa# '
;aa' (
}bb 
elsecc 
{dd 
returnee "
falseee# (
;ee( )
}ff 
}gg 
}hh 
}ii 
catchjj 
(jj 
	Exceptionjj 
ejj 
)jj 
{kk 
throwkk 
ekk 
=kk 
newkk 
	Exceptionkk %
(kk% &
ekk& '
.kk' (
Messagekk( /
)kk/ 0
;kk0 1
}kk2 3
}ll 	
publicoo 
booloo )
Sp_RisExamenCompletado_Updateoo 1
(oo1 2 
RisExamenCompletadoEoo2 F!
pRisExamenCompletadoEooG \
)oo\ ]
{pp 	
tryqq 
{rr 
usingss 
(ss 
SqlConnectionss $
cnnss% (
=ss) *
newss+ .
SqlConnectionss/ <
(ss< =
VariablesGlobalesss= N
.ssN O

CnnClinicassO Y
)ssY Z
)ssZ [
{tt 
usinguu 
(uu 

SqlCommanduu %
cmduu& )
=uu* +
newuu, /

SqlCommanduu0 :
(uu: ;
$struu; Z
,uuZ [
cnnuu\ _
)uu_ `
)uu` a
{vv 
cmdww 
.ww 
CommandTypeww '
=ww( )
Systemww* 0
.ww0 1
Dataww1 5
.ww5 6
CommandTypeww6 A
.wwA B
StoredProcedurewwB Q
;wwQ R
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 H
,yyH I!
pRisExamenCompletadoEyyJ _
.yy_ `
CodrisCompletadoyy` p
)yyp q
;yyq r
cmdzz 
.zz 

Parameterszz &
.zz& '
AddWithValuezz' 3
(zz3 4
$strzz4 <
,zz< =!
pRisExamenCompletadoEzz> S
.zzS T
FechazzT Y
)zzY Z
;zzZ [
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 D
,{{D E!
pRisExamenCompletadoE{{F [
.{{[ \
Codprestacion{{\ i
){{i j
;{{j k
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 =
,||= >!
pRisExamenCompletadoE||? T
.||T U
Nombre||U [
)||[ \
;||\ ]
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 =
,}}= >!
pRisExamenCompletadoE}}? T
.}}T U
SpsId}}U Z
)}}Z [
;}}[ \
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 B
,~~B C!
pRisExamenCompletadoE~~D Y
.~~Y Z

SequenceId~~Z d
)~~d e
;~~e f
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 B
,B C!
pRisExamenCompletadoED Y
.Y Z
	PacsSpsIdZ c
)c d
;d e
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 >
,
ÄÄ> ?#
pRisExamenCompletadoE
ÄÄ@ U
.
ÄÄU V
Codsala
ÄÄV ]
)
ÄÄ] ^
;
ÄÄ^ _
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 =
,
ÅÅ= >#
pRisExamenCompletadoE
ÅÅ? T
.
ÅÅT U
Status
ÅÅU [
)
ÅÅ[ \
;
ÅÅ\ ]
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 B
,
ÇÇB C#
pRisExamenCompletadoE
ÇÇD Y
.
ÇÇY Z
Codpresotor
ÇÇZ e
)
ÇÇe f
;
ÇÇf g
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 =
,
ÉÉ= >#
pRisExamenCompletadoE
ÉÉ? T
.
ÉÉT U
Estado
ÉÉU [
)
ÉÉ[ \
;
ÉÉ\ ]
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 M
,
ÑÑM N#
pRisExamenCompletadoE
ÑÑO d
.
ÑÑd e#
CodrisExamenrealizado
ÑÑe z
)
ÑÑz {
;
ÑÑ{ |
cnn
ÜÜ 
.
ÜÜ 
Open
ÜÜ  
(
ÜÜ  !
)
ÜÜ! "
;
ÜÜ" #
int
àà 
exito
àà !
=
àà" #
cmd
àà$ '
.
àà' (
ExecuteNonQuery
àà( 7
(
àà7 8
)
àà8 9
;
àà9 :
cnn
ââ 
.
ââ 
Close
ââ !
(
ââ! "
)
ââ" #
;
ââ# $
cmd
ää 
.
ää 
Dispose
ää #
(
ää# $
)
ää$ %
;
ää% &
if
ãã 
(
ãã 
exito
ãã !
>=
ãã" $
$num
ãã% &
)
ãã& '
{
åå 
return
åå  
true
åå! %
;
åå% &
}
åå' (
else
çç 
{
éé 
return
éé  
false
éé! &
;
éé& '
}
éé( )
}
èè 
}
êê 
}
ëë 
catch
íí 
(
íí 
	Exception
íí 
e
íí 
)
íí 
{
ìì 
throw
ìì 
e
ìì 
=
ìì 
new
ìì 
	Exception
ìì %
(
ìì% &
e
ìì& '
.
ìì' (
Message
ìì( /
)
ìì/ 0
;
ìì0 1
}
ìì2 3
}
îî 	
public
óó 
bool
óó 1
#Sp_RisExamenCompletado_UpdatexCampo
óó 7
(
óó7 8"
RisExamenCompletadoE
óó8 L#
pRisExamenCompletadoE
óóM b
)
óób c
{
òò 	
try
ôô 
{
öö 
using
õõ 
(
õõ 
SqlConnection
õõ $
cnn
õõ% (
=
õõ) *
new
õõ+ .
SqlConnection
õõ/ <
(
õõ< =
VariablesGlobales
õõ= N
.
õõN O

CnnClinica
õõO Y
)
õõY Z
)
õõZ [
{
úú 
using
ùù 
(
ùù 

SqlCommand
ùù %
cmd
ùù& )
=
ùù* +
new
ùù, /

SqlCommand
ùù0 :
(
ùù: ;
$str
ùù; `
,
ùù` a
cnn
ùùb e
)
ùùe f
)
ùùf g
{
ûû 
cmd
üü 
.
üü 
CommandType
üü '
=
üü( )
System
üü* 0
.
üü0 1
Data
üü1 5
.
üü5 6
CommandType
üü6 A
.
üüA B
StoredProcedure
üüB Q
;
üüQ R
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 M
,
°°M N#
pRisExamenCompletadoE
°°O d
.
°°d e#
CodrisExamenrealizado
°°e z
)
°°z {
;
°°{ |
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ &
.
¢¢& '
AddWithValue
¢¢' 3
(
¢¢3 4
$str
¢¢4 B
,
¢¢B C#
pRisExamenCompletadoE
¢¢D Y
.
¢¢Y Z

NuevoValor
¢¢Z d
)
¢¢d e
;
¢¢e f
cmd
££ 
.
££ 

Parameters
££ &
.
££& '
AddWithValue
££' 3
(
££3 4
$str
££4 <
,
££< =#
pRisExamenCompletadoE
££> S
.
££S T
Campo
££T Y
)
££Y Z
;
££Z [
cnn
•• 
.
•• 
Open
••  
(
••  !
)
••! "
;
••" #
int
ßß 
exito
ßß !
=
ßß" #
cmd
ßß$ '
.
ßß' (
ExecuteNonQuery
ßß( 7
(
ßß7 8
)
ßß8 9
;
ßß9 :
cnn
®® 
.
®® 
Close
®® !
(
®®! "
)
®®" #
;
®®# $
cmd
©© 
.
©© 
Dispose
©© #
(
©©# $
)
©©$ %
;
©©% &
if
™™ 
(
™™ 
exito
™™ !
>=
™™" $
$num
™™% &
)
™™& '
{
´´ 
return
´´  
true
´´! %
;
´´% &
}
´´' (
else
¨¨ 
{
≠≠ 
return
≠≠  
false
≠≠! &
;
≠≠& '
}
≠≠( )
}
ÆÆ 
}
ØØ 
}
∞∞ 
catch
±± 
(
±± 
	Exception
±± 
e
±± 
)
±± 
{
≤≤ 
throw
≤≤ 
e
≤≤ 
=
≤≤ 
new
≤≤ 
	Exception
≤≤ %
(
≤≤% &
e
≤≤& '
.
≤≤' (
Message
≤≤( /
)
≤≤/ 0
;
≤≤0 1
}
≤≤2 3
}
≥≥ 	
}
¥¥ 
}µµ ª
\D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RisAD\RisEnvioCorreoAD.cs
	namespace		 	
Dat		
 
.		 
Sql		 
.		 
	ClinicaAD		 
.		 
RisAD		 !
{

 
public 

class 
RisEnvioCorreoAD !
{ 
public 
void 
Sp_Ris_EnvioCorreo &
(& '
RisEnvioCorreoE' 6
RisEnvioCorreo7 E
)E F
{ 	
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; O
,O P
cnnQ T
)T U
)U V
{ 
cmd 
. 
CommandType '
=( )
System* 0
.0 1
Data1 5
.5 6
CommandType6 A
.A B
StoredProcedureB Q
;Q R
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 A
,A B
RisEnvioCorreoC Q
.Q R

TipoCorreoR \
)\ ]
;] ^
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 @
,@ A
RisEnvioCorreoB P
.P Q
	TipoErrorQ Z
)Z [
;[ \
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 B
,B C
RisEnvioCorreoD R
.R S
CodigoPacienteEnvioS f
)f g
;g h
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 B
,B C
RisEnvioCorreoD R
.R S
DocPacienteEnvioS c
)c d
;d e
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 @
,@ A
RisEnvioCorreoB P
.P Q
	exSubjectQ Z
)Z [
;[ \
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 =
,= >
RisEnvioCorreo? M
.M N
exBodyN T
)T U
;U V
cnn 
. 
Open  
(  !
)! "
;" #
cmd   
.   
ExecuteNonQuery   +
(  + ,
)  , -
;  - .
cnn!! 
.!! 
Close!! !
(!!! "
)!!" #
;!!# $
cmd"" 
."" 
Dispose"" #
(""# $
)""$ %
;""% &
}## 
}$$ 
}%% 
catch&& 
(&& 
	Exception&& 
e&& 
)&& 
{'' 
throw'' 
e'' 
='' 
new'' 
	Exception'' %
(''% &
e''& '
.''' (
Message''( /
)''/ 0
;''0 1
}''2 3
}(( 	
})) 
}** §¥
hD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RisAD\RisAgendamientoAmbulatorioAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RisAD

 !
{ 
public 

class (
RisAgendamientoAmbulatorioAD -
{ 
private '
RisAgendamientoAmbulatorioE +
LlenarEntidad, 9
(9 :
IDataReader: E
drF H
,H I'
RisAgendamientoAmbulatorioEJ e)
pRisAgendamientoAmbulatorioE	f Ç
)
Ç É
{ 	'
RisAgendamientoAmbulatorioE '(
oRisAgendamientoAmbulatorioE( D
=E F
newG J'
RisAgendamientoAmbulatorioEK f
(f g
)g h
;h i
switch 
( (
pRisAgendamientoAmbulatorioE 0
.0 1
Orden1 6
)6 7
{ 
case 
$num 
: (
oRisAgendamientoAmbulatorioE 0
.0 1
CodrisAmbulatorio1 B
=C D
ConvertE L
.L M
ToInt32M T
(T U
drU W
[W X
$strX l
]l m
)m n
;n o(
oRisAgendamientoAmbulatorioE 0
.0 1
Codpaciente1 <
== >
Convert? F
.F G
ToStringG O
(O P
drP R
[R S
$strS `
]` a
)a b
;b c(
oRisAgendamientoAmbulatorioE 0
.0 1
Codprestacion1 >
=? @
ConvertA H
.H I
ToStringI Q
(Q R
drR T
[T U
$strU d
]d e
)e f
;f g(
oRisAgendamientoAmbulatorioE 0
.0 1
Nombre1 7
=8 9
Convert: A
.A B
ToStringB J
(J K
drK M
[M N
$strN V
]V W
)W X
;X Y(
oRisAgendamientoAmbulatorioE 0
.0 1
SpsId1 6
=7 8
Convert9 @
.@ A
ToStringA I
(I J
drJ L
[L M
$strM U
]U V
)V W
;W X(
oRisAgendamientoAmbulatorioE 0
.0 1

SequenceId1 ;
=< =
Convert> E
.E F
ToStringF N
(N O
drO Q
[Q R
$strR _
]_ `
)` a
;a b(
oRisAgendamientoAmbulatorioE 0
.0 1
	PacsSpsId1 :
=; <
Convert= D
.D E
ToStringE M
(M N
drN P
[P Q
$strQ ^
]^ _
)_ `
;` a(
oRisAgendamientoAmbulatorioE 0
.0 1
StartDatetime1 >
=? @
ConvertA H
.H I
ToStringI Q
(Q R
drR T
[T U
$strU e
]e f
)f g
;g h(
oRisAgendamientoAmbulatorioE 0
.0 1
Codsala1 8
=9 :
Convert; B
.B C
ToStringC K
(K L
drL N
[N O
$strO X
]X Y
)Y Z
;Z [(
oRisAgendamientoAmbulatorioE 0
.0 1
Status1 7
=8 9
Convert: A
.A B
ToStringB J
(J K
drK M
[M N
$strN V
]V W
)W X
;X Y(
oRisAgendamientoAmbulatorioE 0
.0 1
Codpresotor1 <
== >
Convert? F
.F G
ToStringG O
(O P
drP R
[R S
$strS `
]` a
)a b
;b c(
oRisAgendamientoAmbulatorioE 0
.0 1
Estado1 7
=8 9
Convert: A
.A B
ToStringB J
(J K
drK M
[M N
$strN V
]V W
)W X
;X Y(
oRisAgendamientoAmbulatorioE   0
.  0 1
IdeRecetadet  1 =
=  > ?
Convert  @ G
.  G H
ToString  H P
(  P Q
dr  Q S
[  S T
$str  T c
]  c d
)  d e
;  e f(
oRisAgendamientoAmbulatorioE!! 0
.!!0 1
	StatusKey!!1 :
=!!; <
Convert!!= D
.!!D E
ToString!!E M
(!!M N
dr!!N P
[!!P Q
$str!!Q ]
]!!] ^
)!!^ _
;!!_ `(
oRisAgendamientoAmbulatorioE"" 0
.""0 1
	FlgPagado""1 :
=""; <
Convert""= D
.""D E
ToString""E M
(""M N
dr""N P
[""P Q
$str""Q ]
]""] ^
)""^ _
;""_ `(
oRisAgendamientoAmbulatorioE## 0
.##0 1
CodrisAgendamiento##1 C
=##D E
Convert##F M
.##M N
ToInt32##N U
(##U V
dr##V X
[##X Y
$str##Y n
]##n o
)##o p
;##p q
break$$ 
;$$ 
case%% 
$num%% 
:%% (
oRisAgendamientoAmbulatorioE&& 0
.&&0 1
CodrisAmbulatorio&&1 B
=&&C D
Convert&&E L
.&&L M
ToInt32&&M T
(&&T U
dr&&U W
[&&W X
$str&&X l
]&&l m
)&&m n
;&&n o(
oRisAgendamientoAmbulatorioE'' 0
.''0 1
Codpaciente''1 <
=''= >
Convert''? F
.''F G
ToString''G O
(''O P
dr''P R
[''R S
$str''S `
]''` a
)''a b
;''b c(
oRisAgendamientoAmbulatorioE(( 0
.((0 1
Codprestacion((1 >
=((? @
Convert((A H
.((H I
ToString((I Q
(((Q R
dr((R T
[((T U
$str((U d
]((d e
)((e f
;((f g(
oRisAgendamientoAmbulatorioE)) 0
.))0 1
Nombre))1 7
=))8 9
Convert)): A
.))A B
ToString))B J
())J K
dr))K M
[))M N
$str))N V
]))V W
)))W X
;))X Y(
oRisAgendamientoAmbulatorioE** 0
.**0 1
SpsId**1 6
=**7 8
Convert**9 @
.**@ A
ToString**A I
(**I J
dr**J L
[**L M
$str**M U
]**U V
)**V W
;**W X(
oRisAgendamientoAmbulatorioE++ 0
.++0 1

SequenceId++1 ;
=++< =
Convert++> E
.++E F
ToString++F N
(++N O
dr++O Q
[++Q R
$str++R _
]++_ `
)++` a
;++a b(
oRisAgendamientoAmbulatorioE,, 0
.,,0 1
	PacsSpsId,,1 :
=,,; <
Convert,,= D
.,,D E
ToString,,E M
(,,M N
dr,,N P
[,,P Q
$str,,Q ^
],,^ _
),,_ `
;,,` a(
oRisAgendamientoAmbulatorioE-- 0
.--0 1
StartDatetime--1 >
=--? @
Convert--A H
.--H I
ToString--I Q
(--Q R
dr--R T
[--T U
$str--U e
]--e f
)--f g
;--g h(
oRisAgendamientoAmbulatorioE.. 0
...0 1
Codsala..1 8
=..9 :
Convert..; B
...B C
ToString..C K
(..K L
dr..L N
[..N O
$str..O X
]..X Y
)..Y Z
;..Z [(
oRisAgendamientoAmbulatorioE// 0
.//0 1
Status//1 7
=//8 9
Convert//: A
.//A B
ToString//B J
(//J K
dr//K M
[//M N
$str//N V
]//V W
)//W X
;//X Y(
oRisAgendamientoAmbulatorioE00 0
.000 1
Codpresotor001 <
=00= >
Convert00? F
.00F G
ToString00G O
(00O P
dr00P R
[00R S
$str00S `
]00` a
)00a b
;00b c(
oRisAgendamientoAmbulatorioE11 0
.110 1
Estado111 7
=118 9
Convert11: A
.11A B
ToString11B J
(11J K
dr11K M
[11M N
$str11N V
]11V W
)11W X
;11X Y(
oRisAgendamientoAmbulatorioE22 0
.220 1
IdeRecetadet221 =
=22> ?
Convert22@ G
.22G H
ToString22H P
(22P Q
dr22Q S
[22S T
$str22T c
]22c d
)22d e
;22e f(
oRisAgendamientoAmbulatorioE33 0
.330 1
	StatusKey331 :
=33; <
Convert33= D
.33D E
ToString33E M
(33M N
dr33N P
[33P Q
$str33Q ]
]33] ^
)33^ _
;33_ `(
oRisAgendamientoAmbulatorioE44 0
.440 1
	FlgPagado441 :
=44; <
Convert44= D
.44D E
ToString44E M
(44M N
dr44N P
[44P Q
$str44Q ]
]44] ^
)44^ _
;44_ `(
oRisAgendamientoAmbulatorioE55 0
.550 1
CodrisAgendamiento551 C
=55D E
Convert55F M
.55M N
ToInt3255N U
(55U V
dr55V X
[55X Y
$str55Y n
]55n o
)55o p
;55p q
break66 
;66 
}77 
return99 (
oRisAgendamientoAmbulatorioE99 /
;99/ 0
}:: 	
public<< 
List<< 
<<< '
RisAgendamientoAmbulatorioE<< /
><</ 02
&Sp_RisAgendamientoAmbulatorio_Consulta<<1 W
(<<W X'
RisAgendamientoAmbulatorioE<<X s)
pRisAgendamientoAmbulatorioE	<<t ê
)
<<ê ë
{== 	
List>> 
<>> '
RisAgendamientoAmbulatorioE>> ,
>>>, -
oListar>>. 5
=>>6 7
new>>8 ;
List>>< @
<>>@ A'
RisAgendamientoAmbulatorioE>>A \
>>>\ ]
(>>] ^
)>>^ _
;>>_ `'
RisAgendamientoAmbulatorioE?? '(
oRisAgendamientoAmbulatorioE??( D
=??E F
null??G K
;??K L
using@@ 
(@@ 
SqlConnection@@  
cnn@@! $
=@@% &
new@@' *
SqlConnection@@+ 8
(@@8 9
VariablesGlobales@@9 J
.@@J K

CnnClinica@@K U
)@@U V
)@@V W
{AA 
usingBB 
(BB 

SqlCommandBB !
cmdBB" %
=BB& '
newBB( +

SqlCommandBB, 6
(BB6 7
$strBB7 _
,BB_ `
cnnBBa d
)BBd e
)BBe f
{CC 
cmdDD 
.DD 
CommandTypeDD #
=DD$ %
SystemDD& ,
.DD, -
DataDD- 1
.DD1 2
CommandTypeDD2 =
.DD= >
StoredProcedureDD> M
;DDM N
cmdFF 
.FF 

ParametersFF "
.FF" #
AddWithValueFF# /
(FF/ 0
$strFF0 9
,FF9 :(
pRisAgendamientoAmbulatorioEFF; W
.FFW X
SpsIdFFX ]
)FF] ^
;FF^ _
cmdGG 
.GG 

ParametersGG "
.GG" #
AddWithValueGG# /
(GG/ 0
$strGG0 9
,GG9 :(
pRisAgendamientoAmbulatorioEGG; W
.GGW X
BuscarGGX ^
)GG^ _
;GG_ `
cmdHH 
.HH 

ParametersHH "
.HH" #
AddWithValueHH# /
(HH/ 0
$strHH0 8
,HH8 9(
pRisAgendamientoAmbulatorioEHH: V
.HHV W
CampoHHW \
)HH\ ]
;HH] ^
cmdII 
.II 

ParametersII "
.II" #
AddWithValueII# /
(II/ 0
$strII0 >
,II> ?(
pRisAgendamientoAmbulatorioEII@ \
.II\ ]
NumeroFilasII] h
)IIh i
;IIi j
cmdJJ 
.JJ 

ParametersJJ "
.JJ" #
AddWithValueJJ# /
(JJ/ 0
$strJJ0 8
,JJ8 9(
pRisAgendamientoAmbulatorioEJJ: V
.JJV W
OrdenJJW \
)JJ\ ]
;JJ] ^
cnnKK 
.KK 
OpenKK 
(KK 
)KK 
;KK 
IDataReaderLL 
drLL  "
=LL# $
cmdLL% (
.LL( )
ExecuteReaderLL) 6
(LL6 7
)LL7 8
;LL8 9
whileMM 
(MM 
drMM 
.MM 
ReadMM "
(MM" #
)MM# $
)MM$ %
{NN (
oRisAgendamientoAmbulatorioEOO 4
=OO5 6
LlenarEntidadOO7 D
(OOD E
drOOE G
,OOG H(
pRisAgendamientoAmbulatorioEOOI e
)OOe f
;OOf g
oListarPP 
.PP  
AddPP  #
(PP# $(
oRisAgendamientoAmbulatorioEPP$ @
)PP@ A
;PPA B
}QQ 
drRR 
.RR 
CloseRR 
(RR 
)RR 
;RR 
cnnSS 
.SS 
CloseSS 
(SS 
)SS 
;SS  
}TT 
}UU 
returnVV 
oListarVV 
;VV 
}WW 	
publicYY 
boolYY 0
$Sp_RisAgendamientoAmbulatorio_InsertYY 8
(YY8 9'
RisAgendamientoAmbulatorioEYY9 T(
pRisAgendamientoAmbulatorioEYYU q
)YYq r
{ZZ 	
try[[ 
{\\ 
using]] 
(]] 
SqlConnection]] $
cnn]]% (
=]]) *
new]]+ .
SqlConnection]]/ <
(]]< =
VariablesGlobales]]= N
.]]N O

CnnClinica]]O Y
)]]Y Z
)]]Z [
{^^ 
using__ 
(__ 

SqlCommand__ %
cmd__& )
=__* +
new__, /

SqlCommand__0 :
(__: ;
$str__; a
,__a b
cnn__c f
)__f g
)__g h
{`` 
cmdaa 
.aa 
CommandTypeaa '
=aa( )
Systemaa* 0
.aa0 1
Dataaa1 5
.aa5 6
CommandTypeaa6 A
.aaA B
StoredProcedureaaB Q
;aaQ R
cmdcc 
.cc 

Parameterscc &
.cc& '
AddWithValuecc' 3
(cc3 4
$strcc4 I
,ccI J(
pRisAgendamientoAmbulatorioEccK g
.ccg h
CodrisAmbulatoriocch y
)ccy z
;ccz {
cmddd 
.dd 

Parametersdd &
.dd& '
AddWithValuedd' 3
(dd3 4
$strdd4 B
,ddB C(
pRisAgendamientoAmbulatorioEddD `
.dd` a
Codpacientedda l
)ddl m
;ddm n
cmdee 
.ee 

Parametersee &
.ee& '
AddWithValueee' 3
(ee3 4
$stree4 D
,eeD E(
pRisAgendamientoAmbulatorioEeeF b
.eeb c
Codprestacioneec p
)eep q
;eeq r
cmdff 
.ff 

Parametersff &
.ff& '
AddWithValueff' 3
(ff3 4
$strff4 =
,ff= >(
pRisAgendamientoAmbulatorioEff? [
.ff[ \
Nombreff\ b
)ffb c
;ffc d
cmdgg 
.gg 

Parametersgg &
.gg& '
AddWithValuegg' 3
(gg3 4
$strgg4 =
,gg= >(
pRisAgendamientoAmbulatorioEgg? [
.gg[ \
SpsIdgg\ a
)gga b
;ggb c
cmdhh 
.hh 

Parametershh &
.hh& '
AddWithValuehh' 3
(hh3 4
$strhh4 B
,hhB C(
pRisAgendamientoAmbulatorioEhhD `
.hh` a

SequenceIdhha k
)hhk l
;hhl m
cmdii 
.ii 

Parametersii &
.ii& '
AddWithValueii' 3
(ii3 4
$strii4 B
,iiB C(
pRisAgendamientoAmbulatorioEiiD `
.ii` a
	PacsSpsIdiia j
)iij k
;iik l
cmdjj 
.jj 

Parametersjj &
.jj& '
AddWithValuejj' 3
(jj3 4
$strjj4 E
,jjE F(
pRisAgendamientoAmbulatorioEjjG c
.jjc d
StartDatetimejjd q
)jjq r
;jjr s
cmdkk 
.kk 

Parameterskk &
.kk& '
AddWithValuekk' 3
(kk3 4
$strkk4 >
,kk> ?(
pRisAgendamientoAmbulatorioEkk@ \
.kk\ ]
Codsalakk] d
)kkd e
;kke f
cmdll 
.ll 

Parametersll &
.ll& '
AddWithValuell' 3
(ll3 4
$strll4 =
,ll= >(
pRisAgendamientoAmbulatorioEll? [
.ll[ \
Statusll\ b
)llb c
;llc d
cmdmm 
.mm 

Parametersmm &
.mm& '
AddWithValuemm' 3
(mm3 4
$strmm4 B
,mmB C(
pRisAgendamientoAmbulatorioEmmD `
.mm` a
Codpresotormma l
)mml m
;mmm n
cmdnn 
.nn 

Parametersnn &
.nn& '
AddWithValuenn' 3
(nn3 4
$strnn4 =
,nn= >(
pRisAgendamientoAmbulatorioEnn? [
.nn[ \
Estadonn\ b
)nnb c
;nnc d
cmdoo 
.oo 

Parametersoo &
.oo& '
AddWithValueoo' 3
(oo3 4
$stroo4 D
,ooD E(
pRisAgendamientoAmbulatorioEooF b
.oob c
IdeRecetadetooc o
)ooo p
;oop q
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 A
,ppA B(
pRisAgendamientoAmbulatorioEppC _
.pp_ `
	StatusKeypp` i
)ppi j
;ppj k
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 A
,qqA B(
pRisAgendamientoAmbulatorioEqqC _
.qq_ `
	FlgPagadoqq` i
)qqi j
;qqj k
cmdrr 
.rr 

Parametersrr &
.rr& '
Addrr' *
(rr* +
VariablesGlobalesrr+ <
.rr< =
ParametroSqlrr= I
(rrI J
$strrrJ `
,rr` a
ParameterDirectionrrb t
.rrt u
InputOutput	rru Ä
,
rrÄ Å
	SqlDbType
rrÇ ã
.
rrã å
Int
rrå è
,
rrè ê
$num
rrë í
,
rrí ì*
pRisAgendamientoAmbulatorioE
rrî ∞
.
rr∞ ± 
CodrisAgendamiento
rr± √
.
rr√ ƒ
ToString
rrƒ Ã
(
rrÃ Õ
)
rrÕ Œ
)
rrŒ œ
)
rrœ –
;
rr– —
cnntt 
.tt 
Opentt  
(tt  !
)tt! "
;tt" #
intvv 
exitovv !
=vv" #
cmdvv$ '
.vv' (
ExecuteNonQueryvv( 7
(vv7 8
)vv8 9
;vv9 :
cnnww 
.ww 
Closeww !
(ww! "
)ww" #
;ww# $
cmdxx 
.xx 
Disposexx #
(xx# $
)xx$ %
;xx% &
ifyy 
(yy 
exitoyy !
>=yy" $
$numyy% &
)yy& '
{zz (
pRisAgendamientoAmbulatorioE{{ 8
.{{8 9
CodrisAgendamiento{{9 K
={{L M
Convert{{N U
.{{U V
ToInt32{{V ]
({{] ^
cmd{{^ a
.{{a b

Parameters{{b l
[{{l m
$str	{{m É
]
{{É Ñ
.
{{Ñ Ö
Value
{{Ö ä
)
{{ä ã
;
{{ã å
return|| "
true||# '
;||' (
}}} 
else~~ 
{ 
return
ÄÄ "
false
ÄÄ# (
;
ÄÄ( )
}
ÅÅ 
}
ÇÇ 
}
ÉÉ 
}
ÑÑ 
catch
ÖÖ 
(
ÖÖ 
	Exception
ÖÖ 
e
ÖÖ 
)
ÖÖ 
{
ÜÜ 
throw
ÜÜ 
e
ÜÜ 
=
ÜÜ 
new
ÜÜ 
	Exception
ÜÜ %
(
ÜÜ% &
e
ÜÜ& '
.
ÜÜ' (
Message
ÜÜ( /
)
ÜÜ/ 0
;
ÜÜ0 1
}
ÜÜ2 3
}
áá 	
public
ää 
bool
ää 2
$Sp_RisAgendamientoAmbulatorio_Update
ää 8
(
ää8 9)
RisAgendamientoAmbulatorioE
ää9 T*
pRisAgendamientoAmbulatorioE
ääU q
)
ääq r
{
ãã 	
try
åå 
{
çç 
using
éé 
(
éé 
SqlConnection
éé $
cnn
éé% (
=
éé) *
new
éé+ .
SqlConnection
éé/ <
(
éé< =
VariablesGlobales
éé= N
.
ééN O

CnnClinica
ééO Y
)
ééY Z
)
ééZ [
{
èè 
using
êê 
(
êê 

SqlCommand
êê %
cmd
êê& )
=
êê* +
new
êê, /

SqlCommand
êê0 :
(
êê: ;
$str
êê; a
,
êêa b
cnn
êêc f
)
êêf g
)
êêg h
{
ëë 
cmd
íí 
.
íí 
CommandType
íí '
=
íí( )
System
íí* 0
.
íí0 1
Data
íí1 5
.
íí5 6
CommandType
íí6 A
.
ííA B
StoredProcedure
ííB Q
;
ííQ R
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 I
,
îîI J*
pRisAgendamientoAmbulatorioE
îîK g
.
îîg h
CodrisAmbulatorio
îîh y
)
îîy z
;
îîz {
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 B
,
ïïB C*
pRisAgendamientoAmbulatorioE
ïïD `
.
ïï` a
Codpaciente
ïïa l
)
ïïl m
;
ïïm n
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 D
,
ññD E*
pRisAgendamientoAmbulatorioE
ññF b
.
ññb c
Codprestacion
ññc p
)
ññp q
;
ññq r
cmd
óó 
.
óó 

Parameters
óó &
.
óó& '
AddWithValue
óó' 3
(
óó3 4
$str
óó4 =
,
óó= >*
pRisAgendamientoAmbulatorioE
óó? [
.
óó[ \
Nombre
óó\ b
)
óób c
;
óóc d
cmd
òò 
.
òò 

Parameters
òò &
.
òò& '
AddWithValue
òò' 3
(
òò3 4
$str
òò4 =
,
òò= >*
pRisAgendamientoAmbulatorioE
òò? [
.
òò[ \
SpsId
òò\ a
)
òòa b
;
òòb c
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 B
,
ôôB C*
pRisAgendamientoAmbulatorioE
ôôD `
.
ôô` a

SequenceId
ôôa k
)
ôôk l
;
ôôl m
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 B
,
ööB C*
pRisAgendamientoAmbulatorioE
ööD `
.
öö` a
	PacsSpsId
ööa j
)
ööj k
;
öök l
cmd
õõ 
.
õõ 

Parameters
õõ &
.
õõ& '
AddWithValue
õõ' 3
(
õõ3 4
$str
õõ4 E
,
õõE F*
pRisAgendamientoAmbulatorioE
õõG c
.
õõc d
StartDatetime
õõd q
)
õõq r
;
õõr s
cmd
úú 
.
úú 

Parameters
úú &
.
úú& '
AddWithValue
úú' 3
(
úú3 4
$str
úú4 >
,
úú> ?*
pRisAgendamientoAmbulatorioE
úú@ \
.
úú\ ]
Codsala
úú] d
)
úúd e
;
úúe f
cmd
ùù 
.
ùù 

Parameters
ùù &
.
ùù& '
AddWithValue
ùù' 3
(
ùù3 4
$str
ùù4 =
,
ùù= >*
pRisAgendamientoAmbulatorioE
ùù? [
.
ùù[ \
Status
ùù\ b
)
ùùb c
;
ùùc d
cmd
ûû 
.
ûû 

Parameters
ûû &
.
ûû& '
AddWithValue
ûû' 3
(
ûû3 4
$str
ûû4 B
,
ûûB C*
pRisAgendamientoAmbulatorioE
ûûD `
.
ûû` a
Codpresotor
ûûa l
)
ûûl m
;
ûûm n
cmd
üü 
.
üü 

Parameters
üü &
.
üü& '
AddWithValue
üü' 3
(
üü3 4
$str
üü4 =
,
üü= >*
pRisAgendamientoAmbulatorioE
üü? [
.
üü[ \
Estado
üü\ b
)
üüb c
;
üüc d
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
AddWithValue
††' 3
(
††3 4
$str
††4 D
,
††D E*
pRisAgendamientoAmbulatorioE
††F b
.
††b c
IdeRecetadet
††c o
)
††o p
;
††p q
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 A
,
°°A B*
pRisAgendamientoAmbulatorioE
°°C _
.
°°_ `
	StatusKey
°°` i
)
°°i j
;
°°j k
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ &
.
¢¢& '
AddWithValue
¢¢' 3
(
¢¢3 4
$str
¢¢4 A
,
¢¢A B*
pRisAgendamientoAmbulatorioE
¢¢C _
.
¢¢_ `
	FlgPagado
¢¢` i
)
¢¢i j
;
¢¢j k
cmd
££ 
.
££ 

Parameters
££ &
.
££& '
AddWithValue
££' 3
(
££3 4
$str
££4 J
,
££J K*
pRisAgendamientoAmbulatorioE
££L h
.
££h i 
CodrisAgendamiento
££i {
)
££{ |
;
££| }
cnn
•• 
.
•• 
Open
••  
(
••  !
)
••! "
;
••" #
int
ßß 
exito
ßß !
=
ßß" #
cmd
ßß$ '
.
ßß' (
ExecuteNonQuery
ßß( 7
(
ßß7 8
)
ßß8 9
;
ßß9 :
cnn
®® 
.
®® 
Close
®® !
(
®®! "
)
®®" #
;
®®# $
cmd
©© 
.
©© 
Dispose
©© #
(
©©# $
)
©©$ %
;
©©% &
if
™™ 
(
™™ 
exito
™™ !
>=
™™" $
$num
™™% &
)
™™& '
{
´´ 
return
´´  
true
´´! %
;
´´% &
}
´´' (
else
¨¨ 
{
≠≠ 
return
≠≠  
false
≠≠! &
;
≠≠& '
}
≠≠( )
}
ÆÆ 
}
ØØ 
}
∞∞ 
catch
±± 
(
±± 
	Exception
±± 
e
±± 
)
±± 
{
≤≤ 
throw
≤≤ 
e
≤≤ 
=
≤≤ 
new
≤≤ 
	Exception
≤≤ %
(
≤≤% &
e
≤≤& '
.
≤≤' (
Message
≤≤( /
)
≤≤/ 0
;
≤≤0 1
}
≤≤2 3
}
≥≥ 	
public
∂∂ 
bool
∂∂ 8
*Sp_RisAgendamientoAmbulatorio_UpdatexCampo
∂∂ >
(
∂∂> ?)
RisAgendamientoAmbulatorioE
∂∂? Z*
pRisAgendamientoAmbulatorioE
∂∂[ w
)
∂∂w x
{
∑∑ 	
try
∏∏ 
{
ππ 
using
∫∫ 
(
∫∫ 
SqlConnection
∫∫ $
cnn
∫∫% (
=
∫∫) *
new
∫∫+ .
SqlConnection
∫∫/ <
(
∫∫< =
VariablesGlobales
∫∫= N
.
∫∫N O

CnnClinica
∫∫O Y
)
∫∫Y Z
)
∫∫Z [
{
ªª 
using
ºº 
(
ºº 

SqlCommand
ºº %
cmd
ºº& )
=
ºº* +
new
ºº, /

SqlCommand
ºº0 :
(
ºº: ;
$str
ºº; g
,
ººg h
cnn
ººi l
)
ººl m
)
ººm n
{
ΩΩ 
cmd
ææ 
.
ææ 
CommandType
ææ '
=
ææ( )
System
ææ* 0
.
ææ0 1
Data
ææ1 5
.
ææ5 6
CommandType
ææ6 A
.
ææA B
StoredProcedure
ææB Q
;
ææQ R
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
.
¿¿& '
AddWithValue
¿¿' 3
(
¿¿3 4
$str
¿¿4 J
,
¿¿J K*
pRisAgendamientoAmbulatorioE
¿¿L h
.
¿¿h i 
CodrisAgendamiento
¿¿i {
)
¿¿{ |
;
¿¿| }
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 B
,
¡¡B C*
pRisAgendamientoAmbulatorioE
¡¡D `
.
¡¡` a

NuevoValor
¡¡a k
)
¡¡k l
;
¡¡l m
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ &
.
¬¬& '
AddWithValue
¬¬' 3
(
¬¬3 4
$str
¬¬4 <
,
¬¬< =*
pRisAgendamientoAmbulatorioE
¬¬> Z
.
¬¬Z [
Campo
¬¬[ `
)
¬¬` a
;
¬¬a b
cnn
ƒƒ 
.
ƒƒ 
Open
ƒƒ  
(
ƒƒ  !
)
ƒƒ! "
;
ƒƒ" #
int
∆∆ 
exito
∆∆ !
=
∆∆" #
cmd
∆∆$ '
.
∆∆' (
ExecuteNonQuery
∆∆( 7
(
∆∆7 8
)
∆∆8 9
;
∆∆9 :
cnn
«« 
.
«« 
Close
«« !
(
««! "
)
««" #
;
««# $
cmd
»» 
.
»» 
Dispose
»» #
(
»»# $
)
»»$ %
;
»»% &
if
…… 
(
…… 
exito
…… !
>=
……" $
$num
……% &
)
……& '
{
   
return
    
true
  ! %
;
  % &
}
  ' (
else
ÀÀ 
{
ÃÃ 
return
ÃÃ  
false
ÃÃ! &
;
ÃÃ& '
}
ÃÃ( )
}
ÕÕ 
}
ŒŒ 
}
œœ 
catch
–– 
(
–– 
	Exception
–– 
e
–– 
)
–– 
{
—— 
throw
—— 
e
—— 
=
—— 
new
—— 
	Exception
—— %
(
——% &
e
——& '
.
——' (
Message
——( /
)
——/ 0
;
——0 1
}
——2 3
}
““ 	
public
‘‘ 
bool
‘‘ 3
%Sp_RisAgendamientoAmbulatorio_Cancela
‘‘ 9
(
‘‘9 :)
RisAgendamientoAmbulatorioE
‘‘: U*
pRisAgendamientoAmbulatorioE
‘‘V r
)
‘‘r s
{
’’ 	
try
÷÷ 
{
◊◊ 
using
ÿÿ 
(
ÿÿ 
SqlConnection
ÿÿ $
cnn
ÿÿ% (
=
ÿÿ) *
new
ÿÿ+ .
SqlConnection
ÿÿ/ <
(
ÿÿ< =
VariablesGlobales
ÿÿ= N
.
ÿÿN O

CnnClinica
ÿÿO Y
)
ÿÿY Z
)
ÿÿZ [
{
ŸŸ 
using
⁄⁄ 
(
⁄⁄ 

SqlCommand
⁄⁄ %
cmd
⁄⁄& )
=
⁄⁄* +
new
⁄⁄, /

SqlCommand
⁄⁄0 :
(
⁄⁄: ;
$str
⁄⁄; c
,
⁄⁄c d
cnn
⁄⁄e h
)
⁄⁄h i
)
⁄⁄i j
{
€€ 
cmd
‹‹ 
.
‹‹ 
CommandType
‹‹ '
=
‹‹( )
System
‹‹* 0
.
‹‹0 1
Data
‹‹1 5
.
‹‹5 6
CommandType
‹‹6 A
.
‹‹A B
StoredProcedure
‹‹B Q
;
‹‹Q R
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ &
.
ﬁﬁ& '
AddWithValue
ﬁﬁ' 3
(
ﬁﬁ3 4
$str
ﬁﬁ4 =
,
ﬁﬁ= >*
pRisAgendamientoAmbulatorioE
ﬁﬁ? [
.
ﬁﬁ[ \
SpsId
ﬁﬁ\ a
)
ﬁﬁa b
;
ﬁﬁb c
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ &
.
ﬂﬂ& '
AddWithValue
ﬂﬂ' 3
(
ﬂﬂ3 4
$str
ﬂﬂ4 A
,
ﬂﬂA B*
pRisAgendamientoAmbulatorioE
ﬂﬂC _
.
ﬂﬂ_ `
	StatusKey
ﬂﬂ` i
)
ﬂﬂi j
;
ﬂﬂj k
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ &
.
‡‡& '
AddWithValue
‡‡' 3
(
‡‡3 4
$str
‡‡4 C
,
‡‡C D*
pRisAgendamientoAmbulatorioE
‡‡E a
.
‡‡a b
Codpresotor
‡‡b m
)
‡‡m n
;
‡‡n o
cnn
‚‚ 
.
‚‚ 
Open
‚‚  
(
‚‚  !
)
‚‚! "
;
‚‚" #
int
‰‰ 
exito
‰‰ !
=
‰‰" #
cmd
‰‰$ '
.
‰‰' (
ExecuteNonQuery
‰‰( 7
(
‰‰7 8
)
‰‰8 9
;
‰‰9 :
cnn
ÂÂ 
.
ÂÂ 
Close
ÂÂ !
(
ÂÂ! "
)
ÂÂ" #
;
ÂÂ# $
cmd
ÊÊ 
.
ÊÊ 
Dispose
ÊÊ #
(
ÊÊ# $
)
ÊÊ$ %
;
ÊÊ% &
if
ÁÁ 
(
ÁÁ 
exito
ÁÁ !
>=
ÁÁ" $
$num
ÁÁ% &
)
ÁÁ& '
{
ËË 
return
ËË  
true
ËË! %
;
ËË% &
}
ËË' (
else
ÈÈ 
{
ÍÍ 
return
ÍÍ  
false
ÍÍ! &
;
ÍÍ& '
}
ÍÍ( )
}
ÎÎ 
}
ÏÏ 
}
ÌÌ 
catch
ÓÓ 
(
ÓÓ 
	Exception
ÓÓ 
e
ÓÓ 
)
ÓÓ 
{
ÔÔ 
throw
ÔÔ 
e
ÔÔ 
=
ÔÔ 
new
ÔÔ 
	Exception
ÔÔ %
(
ÔÔ% &
e
ÔÔ& '
.
ÔÔ' (
Message
ÔÔ( /
)
ÔÔ/ 0
;
ÔÔ0 1
}
ÔÔ2 3
}
 	
public
ÒÒ 
bool
ÒÒ 5
'Sp_RisAgendamientoAmbulatorio_Actualiza
ÒÒ ;
(
ÒÒ; <)
RisAgendamientoAmbulatorioE
ÒÒ< W*
pRisAgendamientoAmbulatorioE
ÒÒX t
)
ÒÒt u
{
ÚÚ 	
try
ÛÛ 
{
ÙÙ 
using
ıı 
(
ıı 
SqlConnection
ıı $
cnn
ıı% (
=
ıı) *
new
ıı+ .
SqlConnection
ıı/ <
(
ıı< =
VariablesGlobales
ıı= N
.
ııN O

CnnClinica
ııO Y
)
ııY Z
)
ııZ [
{
ˆˆ 
using
˜˜ 
(
˜˜ 

SqlCommand
˜˜ %
cmd
˜˜& )
=
˜˜* +
new
˜˜, /

SqlCommand
˜˜0 :
(
˜˜: ;
$str
˜˜; e
,
˜˜e f
cnn
˜˜g j
)
˜˜j k
)
˜˜k l
{
¯¯ 
cmd
˘˘ 
.
˘˘ 
CommandType
˘˘ '
=
˘˘( )
System
˘˘* 0
.
˘˘0 1
Data
˘˘1 5
.
˘˘5 6
CommandType
˘˘6 A
.
˘˘A B
StoredProcedure
˘˘B Q
;
˘˘Q R
cmd
˚˚ 
.
˚˚ 

Parameters
˚˚ &
.
˚˚& '
AddWithValue
˚˚' 3
(
˚˚3 4
$str
˚˚4 ;
,
˚˚; <*
pRisAgendamientoAmbulatorioE
˚˚= Y
.
˚˚Y Z
Codsala
˚˚Z a
)
˚˚a b
;
˚˚b c
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ &
.
¸¸& '
AddWithValue
¸¸' 3
(
¸¸3 4
$str
¸¸4 <
,
¸¸< =*
pRisAgendamientoAmbulatorioE
¸¸> Z
.
¸¸Z [
StartDatetime
¸¸[ h
)
¸¸h i
;
¸¸i j
cmd
˝˝ 
.
˝˝ 

Parameters
˝˝ &
.
˝˝& '
AddWithValue
˝˝' 3
(
˝˝3 4
$str
˝˝4 >
,
˝˝> ?*
pRisAgendamientoAmbulatorioE
˝˝@ \
.
˝˝\ ]
Version
˝˝] d
)
˝˝d e
;
˝˝e f
cmd
˛˛ 
.
˛˛ 

Parameters
˛˛ &
.
˛˛& '
AddWithValue
˛˛' 3
(
˛˛3 4
$str
˛˛4 =
,
˛˛= >*
pRisAgendamientoAmbulatorioE
˛˛? [
.
˛˛[ \
SpsId
˛˛\ a
)
˛˛a b
;
˛˛b c
cmd
ˇˇ 
.
ˇˇ 

Parameters
ˇˇ &
.
ˇˇ& '
AddWithValue
ˇˇ' 3
(
ˇˇ3 4
$str
ˇˇ4 @
,
ˇˇ@ A*
pRisAgendamientoAmbulatorioE
ˇˇB ^
.
ˇˇ^ _
	StatusKey
ˇˇ_ h
)
ˇˇh i
;
ˇˇi j
cnn
ÅÅ 
.
ÅÅ 
Open
ÅÅ  
(
ÅÅ  !
)
ÅÅ! "
;
ÅÅ" #
int
ÉÉ 
exito
ÉÉ !
=
ÉÉ" #
cmd
ÉÉ$ '
.
ÉÉ' (
ExecuteNonQuery
ÉÉ( 7
(
ÉÉ7 8
)
ÉÉ8 9
;
ÉÉ9 :
cnn
ÑÑ 
.
ÑÑ 
Close
ÑÑ !
(
ÑÑ! "
)
ÑÑ" #
;
ÑÑ# $
cmd
ÖÖ 
.
ÖÖ 
Dispose
ÖÖ #
(
ÖÖ# $
)
ÖÖ$ %
;
ÖÖ% &
if
ÜÜ 
(
ÜÜ 
exito
ÜÜ !
>=
ÜÜ" $
$num
ÜÜ% &
)
ÜÜ& '
{
áá 
return
áá  
true
áá! %
;
áá% &
}
áá' (
else
àà 
{
ââ 
return
ââ  
false
ââ! &
;
ââ& '
}
ââ( )
}
ää 
}
ãã 
}
åå 
catch
çç 
(
çç 
	Exception
çç 
e
çç 
)
çç 
{
éé 
throw
éé 
e
éé 
=
éé 
new
éé 
	Exception
éé %
(
éé% &
e
éé& '
.
éé' (
Message
éé( /
)
éé/ 0
;
éé0 1
}
éé2 3
}
èè 	
public
íí 
bool
íí <
.Sp_RisAgendamientoAmbulatorio_CancelaPorTiempo
íí B
(
ííB C
)
ííC D
{
ìì 	
try
îî 
{
ïï 
using
ññ 
(
ññ 
SqlConnection
ññ $
cnn
ññ% (
=
ññ) *
new
ññ+ .
SqlConnection
ññ/ <
(
ññ< =
VariablesGlobales
ññ= N
.
ññN O

CnnClinica
ññO Y
)
ññY Z
)
ññZ [
{
óó 
using
òò 
(
òò 

SqlCommand
òò %
cmd
òò& )
=
òò* +
new
òò, /

SqlCommand
òò0 :
(
òò: ;
$str
òò; l
,
òòl m
cnn
òòn q
)
òòq r
)
òòr s
{
ôô 
cmd
öö 
.
öö 
CommandType
öö '
=
öö( )
System
öö* 0
.
öö0 1
Data
öö1 5
.
öö5 6
CommandType
öö6 A
.
ööA B
StoredProcedure
ööB Q
;
ööQ R
cnn
úú 
.
úú 
Open
úú  
(
úú  !
)
úú! "
;
úú" #
int
ûû 
exito
ûû !
=
ûû" #
cmd
ûû$ '
.
ûû' (
ExecuteNonQuery
ûû( 7
(
ûû7 8
)
ûû8 9
;
ûû9 :
cnn
üü 
.
üü 
Close
üü !
(
üü! "
)
üü" #
;
üü# $
cmd
†† 
.
†† 
Dispose
†† #
(
††# $
)
††$ %
;
††% &
if
°° 
(
°° 
exito
°° !
>=
°°" $
$num
°°% &
)
°°& '
{
¢¢ 
return
¢¢  
true
¢¢! %
;
¢¢% &
}
¢¢' (
else
££ 
{
§§ 
return
§§  
false
§§! &
;
§§& '
}
§§( )
}
•• 
}
¶¶ 
}
ßß 
catch
®® 
(
®® 
	Exception
®® 
e
®® 
)
®® 
{
©© 
throw
©© 
e
©© 
=
©© 
new
©© 
	Exception
©© %
(
©©% &
e
©©& '
.
©©' (
Message
©©( /
)
©©/ 0
;
©©0 1
}
©©2 3
}
™™ 	
}
´´ 
}¨¨ ‹
`D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RisAD\RceRecetaImagenDetAD.cs
	namespace		 	
Dat		
 
.		 
Sql		 
.		 
	ClinicaAD		 
.		 
RisAD		 !
{

 
public 

class  
RceRecetaImagenDetAD %
{ 
public 
bool .
"Sp_RceRecetaImagenDet_UpdatexCampo 6
(6 7
RceRecetaImagenDetE7 J 
pRceRecetaImagenDetEK _
)_ `
{ 	
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; Y
,Y Z
cnn[ ^
)^ _
)_ `
{ 
cmd 
. 
CommandType '
=( )
System* 0
.0 1
Data1 5
.5 6
CommandType6 A
.A B
StoredProcedureB Q
;Q R
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 D
,D E 
pRceRecetaImagenDetEF Z
.Z [
IdeRecetadet[ g
)g h
;h i
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 <
,< = 
pRceRecetaImagenDetE> R
.R S
CampoS X
)X Y
;Y Z
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 B
,B C 
pRceRecetaImagenDetED X
.X Y

NuevoValorY c
)c d
;d e
cnn 
. 
Open  
(  !
)! "
;" #
int 
exito !
=" #
cmd$ '
.' (
ExecuteNonQuery( 7
(7 8
)8 9
;9 :
cnn 
. 
Close !
(! "
)" #
;# $
cmd 
. 
Dispose #
(# $
)$ %
;% &
if   
(   
exito   !
>=  " $
$num  % &
)  & '
{!! 
return!!  
true!!! %
;!!% &
}!!' (
else"" 
{## 
return##  
false##! &
;##& '
}##( )
}$$ 
}%% 
}&& 
catch'' 
('' 
	Exception'' 
e'' 
)'' 
{(( 
throw(( 
e(( 
=(( 
new(( 
	Exception(( %
(((% &
e((& '
.((' (
Message((( /
)((/ 0
;((0 1
}((2 3
})) 	
}++ 
},, ç
mD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RceRecetaImagenDetEstadoRisPacsAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
RceAD !
{		 
public

 

class

 -
!RceRecetaImagenDetEstadoRisPacsAD

 2
{ 
public 
bool 5
)Sp_RceRecetaImagenDetEstadoRisPacs_Update =
(= >
string> D
	pSpsIdKeyE N
,N O
stringP V
pEventTypeIdW c
)c d
{ 	
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; f
,f g
cnnh k
)k l
)l m
{ 
cmd 
. 
CommandType '
=( )
System* 0
.0 1
Data1 5
.5 6
CommandType6 A
.A B
StoredProcedureB Q
;Q R
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 E
,E F
$strG I
)I J
;J K
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 =
,= >
	pSpsIdKey? H
)H I
;I J
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 B
,B C
pEventTypeIdD P
)P Q
;Q R
cnn 
. 
Open  
(  !
)! "
;" #
int 
exito !
=" #
cmd$ '
.' (
ExecuteNonQuery( 7
(7 8
)8 9
;9 :
cnn 
. 
Close !
(! "
)" #
;# $
cmd 
. 
Dispose #
(# $
)$ %
;% &
if 
( 
exito !
>=" $
$num% &
)& '
{   
return    
true  ! %
;  % &
}  ' (
else!! 
{"" 
return""  
false""! &
;""& '
}""( )
}## 
}$$ 
}%% 
catch&& 
(&& 
	Exception&& 
e&& 
)&& 
{'' 
throw'' 
e'' 
='' 
new'' 
	Exception'' %
(''% &
e''& '
.''' (
Message''( /
)''/ 0
;''0 1
}''2 3
}(( 	
})) 
}** É
gD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RceProgramacionQuirurgicaAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
RceAD !
{ 
public 

class '
RceProgramacionQuirurgicaAD ,
{ 
public 
int 2
&Sp_ProgramacionQuirurgicaDet_ObtenerId 9
(9 :&
RceProgramacionQuirurgicaE: T'
pRceProgramacionQuirurgicaEU p
)p q
{ 	
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; c
,c d
cnne h
)h i
)i j
{ 
cmd 
. 
CommandType '
=( )
CommandType* 5
.5 6
StoredProcedure6 E
;E F
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 C
,C D'
pRceProgramacionQuirurgicaEE `
.` a
cod_atenciona m
)m n
;n o
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 >
,> ?'
pRceProgramacionQuirurgicaE@ [
.[ \
cod_cpt\ c
)c d
;d e
cmd   
.   

Parameters   &
.  & '
Add  ' *
(  * +
new  + .
SqlParameter  / ;
(  ; <
$str  < H
,  H I
	SqlDbType  J S
.  S T
Int  T W
)  W X
{  Y Z
	Direction  [ d
=  e f
ParameterDirection  g y
.  y z
Output	  z Ä
,
  Ä Å

IsNullable
  Ç å
=
  ç é
true
  è ì
}
  î ï
)
  ï ñ
;
  ñ ó
cnn!! 
.!! 
Open!!  
(!!  !
)!!! "
;!!" #
cmd## 
.## 
ExecuteNonQuery## +
(##+ ,
)##, -
;##- .
int$$ 
	Resultado$$ %
=$$& '
($$( )
int$$) ,
)$$, -
cmd$$- 0
.$$0 1

Parameters$$1 ;
[$$; <
$str$$< H
]$$H I
.$$I J
Value$$J O
;$$O P
cmd&& 
.&& 
Dispose&& #
(&&# $
)&&$ %
;&&% &
cnn'' 
.'' 
Close'' !
(''! "
)''" #
;''# $
cnn(( 
.(( 
Dispose(( #
(((# $
)(($ %
;((% &
return** 
	Resultado** (
;**( )
}++ 
},, 
}-- 
catch.. 
(.. 
	Exception.. 
ex.. 
)..  
{// 
throw00 
new00 
	Exception00 #
(00# $
ex00$ &
.00& '
Message00' .
)00. /
;00/ 0
}11 
}22 	
}33 
}44 áç
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RcePahRequestJsonAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class 
RcePahRequestJsonAD $
{ 
private 
RcePahRequestJsonE "
LlenarEntidad# 0
(0 1
IDataReader1 <
dr= ?
,? @
RcePahRequestJsonEA S
pRcePahRequestJsonET g
)g h
{ 	
RcePahRequestJsonE 
oRcePahRequestJsonE 2
=3 4
new5 8
RcePahRequestJsonE9 K
(K L
)L M
;M N
switch 
( 
pRcePahRequestJsonE '
.' (
Orden( -
)- .
{ 
case 
$num 
: 
{ 
oRcePahRequestJsonE +
.+ ,
IdePahEstadosCab, <
== >
(? @
int@ C
)C D
drE G
[G H
$strH ]
]] ^
;^ _
oRcePahRequestJsonE +
.+ ,
DscPlataforma, 9
=: ;
(< =
string= C
)C D
drE G
[G H
$strH X
]X Y
;Y Z
oRcePahRequestJsonE +
.+ ,
DscJson, 3
=4 5
(6 7
string7 =
)= >
dr? A
[A B
$strB L
]L M
;M N
oRcePahRequestJsonE +
.+ ,
FecJson, 3
=4 5
(6 7
DateTime7 ?
)? @
drA C
[C D
$strD N
]N O
;O P
oRcePahRequestJsonE +
.+ ,
IdePahRequestJson, =
=> ?
(@ A
intA D
)D E
drF H
[H I
$strI _
]_ `
;` a
break 
; 
} 
} 
return 
oRcePahRequestJsonE &
;& '
} 	
public   
List   
<   
RcePahRequestJsonE   &
>  & ')
Sp_RcePahRequestJson_Consulta  ( E
(  E F
RcePahRequestJsonE  F X
pRcePahRequestJsonE  Y l
)  l m
{!! 	
IDataReader"" 
dr"" 
;"" 
RcePahRequestJsonE## 
oRcePahRequestJsonE## 2
=##3 4
null##5 9
;##x y
List$$ 
<$$ 
RcePahRequestJsonE$$ #
>$$# $
oListar$$% ,
=$$- .
new$$/ 2
List$$3 7
<$$7 8
RcePahRequestJsonE$$8 J
>$$J K
($$K L
)$$L M
;$$M N
try%% 
{&& 
using'' 
('' 
SqlConnection'' $
cnn''% (
='') *
new''+ .
SqlConnection''/ <
(''< =
VariablesGlobales''= N
.''N O

CnnClinica''O Y
)''Y Z
)''Z [
{(( 
using)) 
()) 

SqlCommand)) %
cmd))& )
=))* +
new)), /

SqlCommand))0 :
()): ;
$str)); Z
,))Z [
cnn))\ _
)))_ `
)))` a
{** 
cmd++ 
.++ 
CommandType++ '
=++( )
CommandType++* 5
.++5 6
StoredProcedure++6 E
;++E F
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 K
,--K L
pRcePahRequestJsonE--M `
.--` a
IdePahRequestJson--a r
)--r s
;--s t
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 <
,..< =
pRcePahRequestJsonE..> Q
...Q R
Orden..R W
)..W X
;..X Y
cnn// 
.// 
Open//  
(//  !
)//! "
;//" #
dr00 
=00 
cmd00  
.00  !
ExecuteReader00! .
(00. /
)00/ 0
;000 1
while11 
(11 
dr11 !
.11! "
Read11" &
(11& '
)11' (
)11( )
{22 
oRcePahRequestJsonE33 /
=330 1
LlenarEntidad332 ?
(33? @
dr33@ B
,33B C
pRcePahRequestJsonE33D W
)33W X
;33X Y
oListar44 #
.44# $
Add44$ '
(44' (
oRcePahRequestJsonE44( ;
)44; <
;44< =
}55 
dr66 
.66 
Close66  
(66  !
)66! "
;66" #
dr77 
.77 
Dispose77 "
(77" #
)77# $
;77$ %
cmd88 
.88 
Dispose88 #
(88# $
)88$ %
;88% &
cnn99 
.99 
Close99 !
(99! "
)99" #
;99# $
cnn:: 
.:: 
Dispose:: #
(::# $
)::$ %
;::% &
return<< 
oListar<< &
;<<& '
}== 
}>> 
}?? 
catch@@ 
(@@ 
	Exception@@ 
ex@@ 
)@@  
{AA 
throwBB 
newBB 
	ExceptionBB #
(BB# $
exBB$ &
.BB& '
MessageBB' .
)BB. /
;BB/ 0
}CC 
}DD 	
publicFF 
boolFF '
Sp_RcePahRequestJson_InsertFF /
(FF/ 0
RcePahRequestJsonEFF0 B
pRcePahRequestJsonEFFC V
)FFV W
{GG 	
tryHH 
{II 
usingJJ 
(JJ 
SqlConnectionJJ $
cnnJJ% (
=JJ) *
newJJ+ .
SqlConnectionJJ/ <
(JJ< =
VariablesGlobalesJJ= N
.JJN O

CnnClinicaJJO Y
)JJY Z
)JJZ [
{KK 
usingLL 
(LL 

SqlCommandLL %
cmdLL& )
=LL* +
newLL, /

SqlCommandLL0 :
(LL: ;
$strLL; X
,LLX Y
cnnLLZ ]
)LL] ^
)LL^ _
{MM 
cmdNN 
.NN 
CommandTypeNN '
=NN( )
CommandTypeNN* 5
.NN5 6
StoredProcedureNN6 E
;NNE F
cmdPP 
.PP 

ParametersPP &
.PP& '
AddWithValuePP' 3
(PP3 4
$strPP4 J
,PPJ K
pRcePahRequestJsonEPPL _
.PP_ `
IdePahEstadosCabPP` p
)PPp q
;PPq r
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddWithValueQQ' 3
(QQ3 4
$strQQ4 A
,QQA B
pRcePahRequestJsonEQQC V
.QQV W
	CodMetodoQQW `
)QQ` a
;QQa b
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 E
,RRE F
pRcePahRequestJsonERRG Z
.RRZ [
DscPlataformaRR[ h
)RRh i
;RRi j
cmdSS 
.SS 

ParametersSS &
.SS& '
AddWithValueSS' 3
(SS3 4
$strSS4 ?
,SS? @
pRcePahRequestJsonESSA T
.SST U
DscJsonSSU \
)SS\ ]
;SS] ^
cmdTT 
.TT 

ParametersTT &
.TT& '
AddTT' *
(TT* +
VariablesGlobalesTT+ <
.TT< =
ParametroSqlTT= I
(TTI J
$strTTJ a
,TTa b
ParameterDirectionTTc u
.TTu v
InputOutput	TTv Å
,
TTÅ Ç
	SqlDbType
TTÉ å
.
TTå ç
Int
TTç ê
,
TTê ë
$num
TTí ì
,
TTì î!
pRcePahRequestJsonE
TTï ®
.
TT® ©
IdePahRequestJson
TT© ∫
.
TT∫ ª
ToString
TTª √
(
TT√ ƒ
)
TTƒ ≈
)
TT≈ ∆
)
TT∆ «
;
TT« »
cnnUU 
.UU 
OpenUU  
(UU  !
)UU! "
;UU" #
ifVV 
(VV 
cmdVV 
.VV  
ExecuteNonQueryVV  /
(VV/ 0
)VV0 1
>=VV2 4
$numVV5 6
)VV6 7
{WW 
pRcePahRequestJsonEXX /
.XX/ 0
IdePahRequestJsonXX0 A
=XXB C
(XXD E
intXXE H
)XXH I
cmdXXI L
.XXL M

ParametersXXM W
[XXW X
$strXXX o
]XXo p
.XXp q
ValueXXq v
;XXv w
returnYY "
trueYY# '
;YY' (
}ZZ 
else[[ 
return\\ "
false\\# (
;\\( )
cmd]] 
.]] 
Dispose]] #
(]]# $
)]]$ %
;]]% &
cnn^^ 
.^^ 
Close^^ !
(^^! "
)^^" #
;^^# $
cnn__ 
.__ 
Dispose__ #
(__# $
)__$ %
;__% &
}`` 
}aa 
}bb 
catchcc 
(cc 
	Exceptioncc 
excc 
)cc  
{dd 
throwee 
newee 
	Exceptionee #
(ee# $
exee$ &
.ee& '
Messageee' .
)ee. /
;ee/ 0
}ff 
}gg 	
publicii 
boolii '
Sp_RcePahRequestJson_Updateii /
(ii/ 0
RcePahRequestJsonEii0 B
pRcePahRequestJsonEiiC V
)iiV W
{jj 	
trykk 
{ll 
usingmm 
(mm 
SqlConnectionmm $
cnnmm% (
=mm) *
newmm+ .
SqlConnectionmm/ <
(mm< =
VariablesGlobalesmm= N
.mmN O

CnnClinicammO Y
)mmY Z
)mmZ [
{nn 
usingoo 
(oo 

SqlCommandoo %
cmdoo& )
=oo* +
newoo, /

SqlCommandoo0 :
(oo: ;
$stroo; X
,ooX Y
cnnooZ ]
)oo] ^
)oo^ _
{pp 
cmdqq 
.qq 
CommandTypeqq '
=qq( )
CommandTypeqq* 5
.qq5 6
StoredProcedureqq6 E
;qqE F
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 J
,ssJ K
pRcePahRequestJsonEssL _
.ss_ `
IdePahEstadosCabss` p
)ssp q
;ssq r
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 E
,ttE F
pRcePahRequestJsonEttG Z
.ttZ [
DscPlataformatt[ h
)tth i
;tti j
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 ?
,uu? @
pRcePahRequestJsonEuuA T
.uuT U
DscJsonuuU \
)uu\ ]
;uu] ^
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 ?
,vv? @
pRcePahRequestJsonEvvA T
.vvT U
FecJsonvvU \
)vv\ ]
;vv] ^
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 K
,wwK L
pRcePahRequestJsonEwwM `
.ww` a
IdePahRequestJsonwwa r
)wwr s
;wws t
cnnxx 
.xx 
Openxx  
(xx  !
)xx! "
;xx" #
ifyy 
(yy 
cmdyy 
.yy  
ExecuteNonQueryyy  /
(yy/ 0
)yy0 1
>=yy2 4
$numyy5 6
)yy6 7
returnzz "
truezz# '
;zz' (
else{{ 
return|| "
false||# (
;||( )
cmd}} 
.}} 
Dispose}} #
(}}# $
)}}$ %
;}}% &
cnn~~ 
.~~ 
Close~~ !
(~~! "
)~~" #
;~~# $
cnn 
. 
Dispose #
(# $
)$ %
;% &
}
ÄÄ 
}
ÅÅ 
}
ÇÇ 
catch
ÉÉ 
(
ÉÉ 
	Exception
ÉÉ 
ex
ÉÉ 
)
ÉÉ  
{
ÑÑ 
throw
ÖÖ 
new
ÖÖ 
	Exception
ÖÖ #
(
ÖÖ# $
ex
ÖÖ$ &
.
ÖÖ& '
Message
ÖÖ' .
)
ÖÖ. /
;
ÖÖ/ 0
}
ÜÜ 
}
áá 	
public
ââ 
bool
ââ /
!Sp_RcePahRequestJson_UpdatexCampo
ââ 5
(
ââ5 6 
RcePahRequestJsonE
ââ6 H!
pRcePahRequestJsonE
ââI \
)
ââ\ ]
{
ää 	
try
ãã 
{
åå 
using
çç 
(
çç 
SqlConnection
çç $
cnn
çç% (
=
çç) *
new
çç+ .
SqlConnection
çç/ <
(
çç< =
VariablesGlobales
çç= N
.
ççN O

CnnClinica
ççO Y
)
ççY Z
)
ççZ [
{
éé 
using
èè 
(
èè 

SqlCommand
èè %
cmd
èè& )
=
èè* +
new
èè, /

SqlCommand
èè0 :
(
èè: ;
$str
èè; ^
,
èè^ _
cnn
èè` c
)
èèc d
)
èèd e
{
êê 
cmd
ëë 
.
ëë 
CommandType
ëë '
=
ëë( )
CommandType
ëë* 5
.
ëë5 6
StoredProcedure
ëë6 E
;
ëëE F
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 K
,
ììK L!
pRcePahRequestJsonE
ììM `
.
ìì` a
IdePahRequestJson
ììa r
)
ììr s
;
ììs t
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 B
,
îîB C!
pRcePahRequestJsonE
îîD W
.
îîW X

NuevoValor
îîX b
)
îîb c
;
îîc d
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 <
,
ïï< =!
pRcePahRequestJsonE
ïï> Q
.
ïïQ R
Campo
ïïR W
)
ïïW X
;
ïïX Y
cnn
ññ 
.
ññ 
Open
ññ  
(
ññ  !
)
ññ! "
;
ññ" #
if
óó 
(
óó 
cmd
óó 
.
óó  
ExecuteNonQuery
óó  /
(
óó/ 0
)
óó0 1
>=
óó2 4
$num
óó5 6
)
óó6 7
return
òò "
true
òò# '
;
òò' (
else
ôô 
return
öö "
false
öö# (
;
öö( )
cmd
õõ 
.
õõ 
Dispose
õõ #
(
õõ# $
)
õõ$ %
;
õõ% &
cnn
úú 
.
úú 
Close
úú !
(
úú! "
)
úú" #
;
úú# $
cnn
ùù 
.
ùù 
Dispose
ùù #
(
ùù# $
)
ùù$ %
;
ùù% &
}
ûû 
}
üü 
}
†† 
catch
°° 
(
°° 
	Exception
°° 
ex
°° 
)
°°  
{
¢¢ 
throw
££ 
new
££ 
	Exception
££ #
(
££# $
ex
££$ &
.
££& '
Message
££' .
)
££. /
;
££/ 0
}
§§ 
}
•• 	
public
ßß 
bool
ßß )
Sp_RcePahRequestJson_Delete
ßß /
(
ßß/ 0 
RcePahRequestJsonE
ßß0 B!
pRcePahRequestJsonE
ßßC V
)
ßßV W
{
®® 	
try
©© 
{
™™ 
using
´´ 
(
´´ 
SqlConnection
´´ $
cnn
´´% (
=
´´) *
new
´´+ .
SqlConnection
´´/ <
(
´´< =
VariablesGlobales
´´= N
.
´´N O

CnnClinica
´´O Y
)
´´Y Z
)
´´Z [
{
¨¨ 
using
≠≠ 
(
≠≠ 

SqlCommand
≠≠ %
cmd
≠≠& )
=
≠≠* +
new
≠≠, /

SqlCommand
≠≠0 :
(
≠≠: ;
$str
≠≠; X
,
≠≠X Y
cnn
≠≠Z ]
)
≠≠] ^
)
≠≠^ _
{
ÆÆ 
cmd
ØØ 
.
ØØ 
CommandType
ØØ '
=
ØØ( )
CommandType
ØØ* 5
.
ØØ5 6
StoredProcedure
ØØ6 E
;
ØØE F
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
AddWithValue
±±' 3
(
±±3 4
$str
±±4 K
,
±±K L!
pRcePahRequestJsonE
±±M `
.
±±` a
IdePahRequestJson
±±a r
)
±±r s
;
±±s t
cnn
≤≤ 
.
≤≤ 
Open
≤≤  
(
≤≤  !
)
≤≤! "
;
≤≤" #
if
≥≥ 
(
≥≥ 
cmd
≥≥ 
.
≥≥  
ExecuteNonQuery
≥≥  /
(
≥≥/ 0
)
≥≥0 1
>=
≥≥2 4
$num
≥≥5 6
)
≥≥6 7
return
¥¥ "
true
¥¥# '
;
¥¥' (
else
µµ 
return
∂∂ "
false
∂∂# (
;
∂∂( )
cmd
∑∑ 
.
∑∑ 
Dispose
∑∑ #
(
∑∑# $
)
∑∑$ %
;
∑∑% &
cnn
∏∏ 
.
∏∏ 
Close
∏∏ !
(
∏∏! "
)
∏∏" #
;
∏∏# $
cnn
ππ 
.
ππ 
Dispose
ππ #
(
ππ# $
)
ππ$ %
;
ππ% &
}
∫∫ 
}
ªª 
}
ºº 
catch
ΩΩ 
(
ΩΩ 
	Exception
ΩΩ 
ex
ΩΩ 
)
ΩΩ  
{
ææ 
throw
øø 
new
øø 
	Exception
øø #
(
øø# $
ex
øø$ &
.
øø& '
Message
øø' .
)
øø. /
;
øø/ 0
}
¿¿ 
}
¡¡ 	
}
¬¬ 
}√√ î,
fD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RcePahMedicacionItemsMaeAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class &
RcePahMedicacionItemsMaeAD +
{ 
private %
RcePahMedicacionItemsMaeE )
LlenarEntidad* 7
(7 8
IDataReader8 C
drD F
,F G%
RcePahMedicacionItemsMaeEH a&
pRcePahMedicacionItemsMaeEb |
)| }
{ 	%
RcePahMedicacionItemsMaeE %&
oRcePahMedicacionItemsMaeE& @
=A B
newC F%
RcePahMedicacionItemsMaeEG `
(` a
)a b
;b c
switch 
( &
pRcePahMedicacionItemsMaeE .
.. /
Orden/ 4
)4 5
{ 
case 
$num 
: 
{ &
oRcePahMedicacionItemsMaeE 2
.2 3
DscItem3 :
=; <
(= >
string> D
)D E
drF H
[H I
$strI S
]S T
;T U&
oRcePahMedicacionItemsMaeE 2
.2 3

DscSubItem3 =
=> ?
(@ A
stringA G
)G H
drI K
[K L
$strL Z
]Z [
;[ \&
oRcePahMedicacionItemsMaeE 2
.2 3
	FlgEstado3 <
== >
(? @
string@ F
)F G
drH J
[J K
$strK W
]W X
;X Y&
oRcePahMedicacionItemsMaeE 2
.2 3!
IdeMedicacionItemsMae3 H
=I J
(K L
intL O
)O P
drQ S
[S T
$strT n
]n o
;o p
break 
; 
} 
} 
return &
oRcePahMedicacionItemsMaeE -
;- .
} 	
public 
List 
< %
RcePahMedicacionItemsMaeE -
>- .0
$Sp_RcePahMedicacionItemsMae_Consulta/ S
(S T%
RcePahMedicacionItemsMaeET m'
pRcePahMedicacionItemsMaeE	n à
)
à â
{   	
IDataReader!! 
dr!! 
;!! %
RcePahMedicacionItemsMaeE"" %&
oRcePahMedicacionItemsMaeE""& @
=""A B
null""C G
;
""Ü á
List## 
<## %
RcePahMedicacionItemsMaeE## *
>##* +
oListar##, 3
=##4 5
new##6 9
List##: >
<##> ?%
RcePahMedicacionItemsMaeE##? X
>##X Y
(##Y Z
)##Z [
;##[ \
try$$ 
{%% 
using&& 
(&& 
SqlConnection&& $
cnn&&% (
=&&) *
new&&+ .
SqlConnection&&/ <
(&&< =
VariablesGlobales&&= N
.&&N O

CnnClinica&&O Y
)&&Y Z
)&&Z [
{'' 
using(( 
((( 

SqlCommand(( %
cmd((& )
=((* +
new((, /

SqlCommand((0 :
(((: ;
$str((; a
,((a b
cnn((c f
)((f g
)((g h
{)) 
cmd** 
.** 
CommandType** '
=**( )
CommandType*** 5
.**5 6
StoredProcedure**6 E
;**E F
cmd,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 O
,,,O P&
pRcePahMedicacionItemsMaeE,,Q k
.,,k l"
IdeMedicacionItemsMae	,,l Å
)
,,Å Ç
;
,,Ç É
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 <
,--< =&
pRcePahMedicacionItemsMaeE--> X
.--X Y
Orden--Y ^
)--^ _
;--_ `
cnn.. 
... 
Open..  
(..  !
)..! "
;.." #
dr// 
=// 
cmd//  
.//  !
ExecuteReader//! .
(//. /
)/// 0
;//0 1
while00 
(00 
dr00 !
.00! "
Read00" &
(00& '
)00' (
)00( )
{11 &
oRcePahMedicacionItemsMaeE22 6
=227 8
LlenarEntidad229 F
(22F G
dr22G I
,22I J&
pRcePahMedicacionItemsMaeE22K e
)22e f
;22f g
oListar33 #
.33# $
Add33$ '
(33' (&
oRcePahMedicacionItemsMaeE33( B
)33B C
;33C D
}44 
dr55 
.55 
Close55  
(55  !
)55! "
;55" #
dr66 
.66 
Dispose66 "
(66" #
)66# $
;66$ %
cmd77 
.77 
Dispose77 #
(77# $
)77$ %
;77% &
cnn88 
.88 
Close88 !
(88! "
)88" #
;88# $
cnn99 
.99 
Dispose99 #
(99# $
)99$ %
;99% &
return;; 
oListar;; &
;;;& '
}<< 
}== 
}>> 
catch?? 
(?? 
	Exception?? 
ex?? 
)??  
{@@ 
throwAA 
newAA 
	ExceptionAA #
(AA# $
exAA$ &
.AA& '
MessageAA' .
)AA. /
;AA/ 0
}BB 
}CC 	
}DD 
}EE ˇè
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RcePahMedicacionDetAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class !
RcePahMedicacionDetAD &
{ 
private  
RcePahMedicacionDetE $
LlenarEntidad% 2
(2 3
IDataReader3 >
dr? A
,A B 
RcePahMedicacionDetEC W!
pRcePahMedicacionDetEX m
)m n
{ 	 
RcePahMedicacionDetE  !
oRcePahMedicacionDetE! 6
=7 8
new9 < 
RcePahMedicacionDetE= Q
(Q R
)R S
;S T
switch 
( !
pRcePahMedicacionDetE )
.) *
Orden* /
)/ 0
{ 
case 
$num 
: 
{ !
oRcePahMedicacionDetE -
.- .
IdeMedicacionCab. >
=? @
(A B
intB E
)E F
drG I
[I J
$strJ ^
]^ _
;_ `!
oRcePahMedicacionDetE -
.- .
IdeMedicacionDet. >
=? @
(A B
intB E
)E F
drG I
[I J
$strJ ^
]^ _
;_ `!
oRcePahMedicacionDetE -
.- .!
IdeMedicacionItemsMae. C
=D E
(F G
intG J
)J K
drL N
[N O
$strO i
]i j
;j k!
oRcePahMedicacionDetE -
.- .
DscItem. 5
=6 7
(8 9
string9 ?
)? @
drA C
[C D
$strD N
]N O
;O P!
oRcePahMedicacionDetE -
.- .

DscSubItem. 8
=9 :
(; <
string< B
)B C
drD F
[F G
$strG U
]U V
;V W!
oRcePahMedicacionDetE -
.- .
FlgRespuesta. :
=; <
(= >
string> D
)D E
drF H
[H I
$strI X
]X Y
;Y Z
break 
; 
} 
} 
return !
oRcePahMedicacionDetE (
;( )
} 	
public!! 
List!! 
<!!  
RcePahMedicacionDetE!! (
>!!( )+
Sp_RcePahMedicacionDet_Consulta!!* I
(!!I J 
RcePahMedicacionDetE!!J ^!
pRcePahMedicacionDetE!!_ t
)!!t u
{"" 	
IDataReader## 
dr## 
;##  
RcePahMedicacionDetE$$  !
oRcePahMedicacionDetE$$! 6
=$$7 8
null$$9 =
;$$| }
List%% 
<%%  
RcePahMedicacionDetE%% %
>%%% &
oListar%%' .
=%%/ 0
new%%1 4
List%%5 9
<%%9 : 
RcePahMedicacionDetE%%: N
>%%N O
(%%O P
)%%P Q
;%%Q R
try&& 
{'' 
using(( 
((( 
SqlConnection(( $
cnn((% (
=(() *
new((+ .
SqlConnection((/ <
(((< =
VariablesGlobales((= N
.((N O

CnnClinica((O Y
)((Y Z
)((Z [
{)) 
using** 
(** 

SqlCommand** %
cmd**& )
=*** +
new**, /

SqlCommand**0 :
(**: ;
$str**; \
,**\ ]
cnn**^ a
)**a b
)**b c
{++ 
cmd,, 
.,, 
CommandType,, '
=,,( )
CommandType,,* 5
.,,5 6
StoredProcedure,,6 E
;,,E F
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 I
,..I J!
pRcePahMedicacionDetE..K `
...` a
IdeMedicacionDet..a q
)..q r
;..r s
cmd// 
.// 

Parameters// &
.//& '
AddWithValue//' 3
(//3 4
$str//4 I
,//I J!
pRcePahMedicacionDetE//K `
.//` a
IdeMedicacionCab//a q
)//q r
;//r s
cmd00 
.00 

Parameters00 &
.00& '
AddWithValue00' 3
(003 4
$str004 <
,00< =!
pRcePahMedicacionDetE00> S
.00S T
Orden00T Y
)00Y Z
;00Z [
cnn11 
.11 
Open11  
(11  !
)11! "
;11" #
dr22 
=22 
cmd22  
.22  !
ExecuteReader22! .
(22. /
)22/ 0
;220 1
while33 
(33 
dr33 !
.33! "
Read33" &
(33& '
)33' (
)33( )
{44 !
oRcePahMedicacionDetE55 1
=552 3
LlenarEntidad554 A
(55A B
dr55B D
,55D E!
pRcePahMedicacionDetE55F [
)55[ \
;55\ ]
oListar66 #
.66# $
Add66$ '
(66' (!
oRcePahMedicacionDetE66( =
)66= >
;66> ?
}77 
dr88 
.88 
Close88  
(88  !
)88! "
;88" #
dr99 
.99 
Dispose99 "
(99" #
)99# $
;99$ %
cmd:: 
.:: 
Dispose:: #
(::# $
)::$ %
;::% &
cnn;; 
.;; 
Close;; !
(;;! "
);;" #
;;;# $
cnn<< 
.<< 
Dispose<< #
(<<# $
)<<$ %
;<<% &
return>> 
oListar>> &
;>>& '
}?? 
}@@ 
}AA 
catchBB 
(BB 
	ExceptionBB 
exBB 
)BB  
{CC 
throwDD 
newDD 
	ExceptionDD #
(DD# $
exDD$ &
.DD& '
MessageDD' .
)DD. /
;DD/ 0
}EE 
}FF 	
publicHH 
boolHH )
Sp_RcePahMedicacionDet_InsertHH 1
(HH1 2 
RcePahMedicacionDetEHH2 F!
pRcePahMedicacionDetEHHG \
)HH\ ]
{II 	
tryJJ 
{KK 
usingLL 
(LL 
SqlConnectionLL $
cnnLL% (
=LL) *
newLL+ .
SqlConnectionLL/ <
(LL< =
VariablesGlobalesLL= N
.LLN O

CnnClinicaLLO Y
)LLY Z
)LLZ [
{MM 
usingNN 
(NN 

SqlCommandNN %
cmdNN& )
=NN* +
newNN, /

SqlCommandNN0 :
(NN: ;
$strNN; Z
,NNZ [
cnnNN\ _
)NN_ `
)NN` a
{OO 
cmdPP 
.PP 
CommandTypePP '
=PP( )
CommandTypePP* 5
.PP5 6
StoredProcedurePP6 E
;PPE F
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 I
,RRI J!
pRcePahMedicacionDetERRK `
.RR` a
IdeMedicacionCabRRa q
)RRq r
;RRr s
cmdSS 
.SS 

ParametersSS &
.SS& '
AddWithValueSS' 3
(SS3 4
$strSS4 O
,SSO P!
pRcePahMedicacionDetESSQ f
.SSf g!
IdeMedicacionItemsMaeSSg |
)SS| }
;SS} ~
cmdTT 
.TT 

ParametersTT &
.TT& '
AddWithValueTT' 3
(TT3 4
$strTT4 D
,TTD E!
pRcePahMedicacionDetETTF [
.TT[ \
FlgRespuestaTT\ h
)TTh i
;TTi j
cmdUU 
.UU 

ParametersUU &
.UU& '
AddUU' *
(UU* +
VariablesGlobalesUU+ <
.UU< =
ParametroSqlUU= I
(UUI J
$strUUJ _
,UU_ `
ParameterDirectionUUa s
.UUs t
InputOutputUUt 
,	UU Ä
	SqlDbType
UUÅ ä
.
UUä ã
Int
UUã é
,
UUé è
$num
UUê ë
,
UUë í#
pRcePahMedicacionDetE
UUì ®
.
UU® ©
IdeMedicacionDet
UU© π
.
UUπ ∫
ToString
UU∫ ¬
(
UU¬ √
)
UU√ ƒ
)
UUƒ ≈
)
UU≈ ∆
;
UU∆ «
cnnVV 
.VV 
OpenVV  
(VV  !
)VV! "
;VV" #
ifWW 
(WW 
cmdWW 
.WW  
ExecuteNonQueryWW  /
(WW/ 0
)WW0 1
>=WW2 4
$numWW5 6
)WW6 7
{XX !
pRcePahMedicacionDetEYY 1
.YY1 2
IdeMedicacionDetYY2 B
=YYC D
(YYE F
intYYF I
)YYI J
cmdYYJ M
.YYM N

ParametersYYN X
[YYX Y
$strYYY n
]YYn o
.YYo p
ValueYYp u
;YYu v
returnZZ "
trueZZ# '
;ZZ' (
}[[ 
else\\ 
return]] "
false]]# (
;]]( )
cmd^^ 
.^^ 
Dispose^^ #
(^^# $
)^^$ %
;^^% &
cnn__ 
.__ 
Close__ !
(__! "
)__" #
;__# $
cnn`` 
.`` 
Dispose`` #
(``# $
)``$ %
;``% &
}aa 
}bb 
}cc 
catchdd 
(dd 
	Exceptiondd 
exdd 
)dd  
{ee 
throwff 
newff 
	Exceptionff #
(ff# $
exff$ &
.ff& '
Messageff' .
)ff. /
;ff/ 0
}gg 
}hh 	
publicjj 
booljj )
Sp_RcePahMedicacionDet_Updatejj 1
(jj1 2 
RcePahMedicacionDetEjj2 F!
pRcePahMedicacionDetEjjG \
)jj\ ]
{kk 	
tryll 
{mm 
usingnn 
(nn 
SqlConnectionnn $
cnnnn% (
=nn) *
newnn+ .
SqlConnectionnn/ <
(nn< =
VariablesGlobalesnn= N
.nnN O

CnnClinicannO Y
)nnY Z
)nnZ [
{oo 
usingpp 
(pp 

SqlCommandpp %
cmdpp& )
=pp* +
newpp, /

SqlCommandpp0 :
(pp: ;
$strpp; Z
,ppZ [
cnnpp\ _
)pp_ `
)pp` a
{qq 
cmdrr 
.rr 
CommandTyperr '
=rr( )
CommandTyperr* 5
.rr5 6
StoredProcedurerr6 E
;rrE F
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 I
,ttI J!
pRcePahMedicacionDetEttK `
.tt` a
IdeMedicacionCabtta q
)ttq r
;ttr s
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 O
,uuO P!
pRcePahMedicacionDetEuuQ f
.uuf g!
IdeMedicacionItemsMaeuug |
)uu| }
;uu} ~
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 D
,vvD E!
pRcePahMedicacionDetEvvF [
.vv[ \
FlgRespuestavv\ h
)vvh i
;vvi j
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 C
,wwC D!
pRcePahMedicacionDetEwwE Z
.wwZ [
FecRegistroww[ f
)wwf g
;wwg h
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 I
,xxI J!
pRcePahMedicacionDetExxK `
.xx` a
IdeMedicacionDetxxa q
)xxq r
;xxr s
cnnyy 
.yy 
Openyy  
(yy  !
)yy! "
;yy" #
ifzz 
(zz 
cmdzz 
.zz  
ExecuteNonQueryzz  /
(zz/ 0
)zz0 1
>=zz2 4
$numzz5 6
)zz6 7
return{{ "
true{{# '
;{{' (
else|| 
return}} "
false}}# (
;}}( )
cmd~~ 
.~~ 
Dispose~~ #
(~~# $
)~~$ %
;~~% &
cnn 
. 
Close !
(! "
)" #
;# $
cnn
ÄÄ 
.
ÄÄ 
Dispose
ÄÄ #
(
ÄÄ# $
)
ÄÄ$ %
;
ÄÄ% &
}
ÅÅ 
}
ÇÇ 
}
ÉÉ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ 
ex
ÑÑ 
)
ÑÑ  
{
ÖÖ 
throw
ÜÜ 
new
ÜÜ 
	Exception
ÜÜ #
(
ÜÜ# $
ex
ÜÜ$ &
.
ÜÜ& '
Message
ÜÜ' .
)
ÜÜ. /
;
ÜÜ/ 0
}
áá 
}
àà 	
public
ää 
bool
ää 1
#Sp_RcePahMedicacionDet_UpdatexCampo
ää 7
(
ää7 8"
RcePahMedicacionDetE
ää8 L#
pRcePahMedicacionDetE
ääM b
)
ääb c
{
ãã 	
try
åå 
{
çç 
using
éé 
(
éé 
SqlConnection
éé $
cnn
éé% (
=
éé) *
new
éé+ .
SqlConnection
éé/ <
(
éé< =
VariablesGlobales
éé= N
.
ééN O

CnnClinica
ééO Y
)
ééY Z
)
ééZ [
{
èè 
using
êê 
(
êê 

SqlCommand
êê %
cmd
êê& )
=
êê* +
new
êê, /

SqlCommand
êê0 :
(
êê: ;
$str
êê; `
,
êê` a
cnn
êêb e
)
êêe f
)
êêf g
{
ëë 
cmd
íí 
.
íí 
CommandType
íí '
=
íí( )
CommandType
íí* 5
.
íí5 6
StoredProcedure
íí6 E
;
ííE F
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 I
,
îîI J#
pRcePahMedicacionDetE
îîK `
.
îî` a
IdeMedicacionDet
îîa q
)
îîq r
;
îîr s
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 B
,
ïïB C#
pRcePahMedicacionDetE
ïïD Y
.
ïïY Z

NuevoValor
ïïZ d
)
ïïd e
;
ïïe f
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 <
,
ññ< =#
pRcePahMedicacionDetE
ññ> S
.
ññS T
Campo
ññT Y
)
ññY Z
;
ññZ [
cnn
óó 
.
óó 
Open
óó  
(
óó  !
)
óó! "
;
óó" #
if
òò 
(
òò 
cmd
òò 
.
òò  
ExecuteNonQuery
òò  /
(
òò/ 0
)
òò0 1
>=
òò2 4
$num
òò5 6
)
òò6 7
return
ôô "
true
ôô# '
;
ôô' (
else
öö 
return
õõ "
false
õõ# (
;
õõ( )
cmd
úú 
.
úú 
Dispose
úú #
(
úú# $
)
úú$ %
;
úú% &
cnn
ùù 
.
ùù 
Close
ùù !
(
ùù! "
)
ùù" #
;
ùù# $
cnn
ûû 
.
ûû 
Dispose
ûû #
(
ûû# $
)
ûû$ %
;
ûû% &
}
üü 
}
†† 
}
°° 
catch
¢¢ 
(
¢¢ 
	Exception
¢¢ 
ex
¢¢ 
)
¢¢  
{
££ 
throw
§§ 
new
§§ 
	Exception
§§ #
(
§§# $
ex
§§$ &
.
§§& '
Message
§§' .
)
§§. /
;
§§/ 0
}
•• 
}
¶¶ 	
public
®® 
bool
®® +
Sp_RcePahMedicacionDet_Delete
®® 1
(
®®1 2"
RcePahMedicacionDetE
®®2 F#
pRcePahMedicacionDetE
®®G \
)
®®\ ]
{
©© 	
try
™™ 
{
´´ 
using
¨¨ 
(
¨¨ 
SqlConnection
¨¨ $
cnn
¨¨% (
=
¨¨) *
new
¨¨+ .
SqlConnection
¨¨/ <
(
¨¨< =
VariablesGlobales
¨¨= N
.
¨¨N O

CnnClinica
¨¨O Y
)
¨¨Y Z
)
¨¨Z [
{
≠≠ 
using
ÆÆ 
(
ÆÆ 

SqlCommand
ÆÆ %
cmd
ÆÆ& )
=
ÆÆ* +
new
ÆÆ, /

SqlCommand
ÆÆ0 :
(
ÆÆ: ;
$str
ÆÆ; Z
,
ÆÆZ [
cnn
ÆÆ\ _
)
ÆÆ_ `
)
ÆÆ` a
{
ØØ 
cmd
∞∞ 
.
∞∞ 
CommandType
∞∞ '
=
∞∞( )
CommandType
∞∞* 5
.
∞∞5 6
StoredProcedure
∞∞6 E
;
∞∞E F
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ &
.
≤≤& '
AddWithValue
≤≤' 3
(
≤≤3 4
$str
≤≤4 I
,
≤≤I J#
pRcePahMedicacionDetE
≤≤K `
.
≤≤` a
IdeMedicacionDet
≤≤a q
)
≤≤q r
;
≤≤r s
cnn
≥≥ 
.
≥≥ 
Open
≥≥  
(
≥≥  !
)
≥≥! "
;
≥≥" #
if
¥¥ 
(
¥¥ 
cmd
¥¥ 
.
¥¥  
ExecuteNonQuery
¥¥  /
(
¥¥/ 0
)
¥¥0 1
>=
¥¥2 4
$num
¥¥5 6
)
¥¥6 7
return
µµ "
true
µµ# '
;
µµ' (
else
∂∂ 
return
∑∑ "
false
∑∑# (
;
∑∑( )
cmd
∏∏ 
.
∏∏ 
Dispose
∏∏ #
(
∏∏# $
)
∏∏$ %
;
∏∏% &
cnn
ππ 
.
ππ 
Close
ππ !
(
ππ! "
)
ππ" #
;
ππ# $
cnn
∫∫ 
.
∫∫ 
Dispose
∫∫ #
(
∫∫# $
)
∫∫$ %
;
∫∫% &
}
ªª 
}
ºº 
}
ΩΩ 
catch
ææ 
(
ææ 
	Exception
ææ 
ex
ææ 
)
ææ  
{
øø 
throw
¿¿ 
new
¿¿ 
	Exception
¿¿ #
(
¿¿# $
ex
¿¿$ &
.
¿¿& '
Message
¿¿' .
)
¿¿. /
;
¿¿/ 0
}
¡¡ 
}
¬¬ 	
}
√√ 
}ƒƒ …ç
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RcePahMedicacionCabAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class !
RcePahMedicacionCabAD &
{ 
private  
RcePahMedicacionCabE $
LlenarEntidad% 2
(2 3
IDataReader3 >
dr? A
,A B 
RcePahMedicacionCabEC W!
pRcePahMedicacionCabEX m
)m n
{ 	 
RcePahMedicacionCabE  !
oRcePahMedicacionCabE! 6
=7 8
new9 < 
RcePahMedicacionCabE= Q
(Q R
)R S
;S T
switch 
( !
pRcePahMedicacionCabE )
.) *
Orden* /
)/ 0
{ 
case 
$num 
: 
{ !
oRcePahMedicacionCabE -
.- .
CodPaciente. 9
=: ;
(< =
string= C
)C D
drE G
[G H
$strH V
]V W
;W X!
oRcePahMedicacionCabE -
.- .
CodAtencion. 9
=: ;
(< =
string= C
)C D
drE G
[G H
$strH V
]V W
;W X!
oRcePahMedicacionCabE -
.- .
DscRespEnvio. :
=; <
(= >
string> D
)D E
drF H
[H I
$strI Y
]Y Z
;Z [!
oRcePahMedicacionCabE -
.- .
	FlgEstado. 7
=8 9
(: ;
string; A
)A B
drC E
[E F
$strF R
]R S
;S T!
oRcePahMedicacionCabE -
.- .
FecRegistro. 9
=: ;
(< =
DateTime= E
)E F
drG I
[I J
$strJ X
]X Y
;Y Z!
oRcePahMedicacionCabE -
.- .
IdeMedicacionCab. >
=? @
(A B
intB E
)E F
drG I
[I J
$strJ ^
]^ _
;_ `
break 
; 
} 
} 
return !
oRcePahMedicacionCabE (
;( )
} 	
public!! 
List!! 
<!!  
RcePahMedicacionCabE!! (
>!!( )+
Sp_RcePahMedicacionCab_Consulta!!* I
(!!I J 
RcePahMedicacionCabE!!J ^!
pRcePahMedicacionCabE!!_ t
)!!t u
{"" 	
IDataReader## 
dr## 
;##  
RcePahMedicacionCabE$$  !
oRcePahMedicacionCabE$$! 6
=$$7 8
null$$9 =
;$$| }
List%% 
<%%  
RcePahMedicacionCabE%% %
>%%% &
oListar%%' .
=%%/ 0
new%%1 4
List%%5 9
<%%9 : 
RcePahMedicacionCabE%%: N
>%%N O
(%%O P
)%%P Q
;%%Q R
try&& 
{'' 
using(( 
((( 
SqlConnection(( $
cnn((% (
=(() *
new((+ .
SqlConnection((/ <
(((< =
VariablesGlobales((= N
.((N O

CnnClinica((O Y
)((Y Z
)((Z [
{)) 
using** 
(** 

SqlCommand** %
cmd**& )
=*** +
new**, /

SqlCommand**0 :
(**: ;
$str**; \
,**\ ]
cnn**^ a
)**a b
)**b c
{++ 
cmd,, 
.,, 
CommandType,, '
=,,( )
CommandType,,* 5
.,,5 6
StoredProcedure,,6 E
;,,E F
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 I
,..I J!
pRcePahMedicacionCabE..K `
...` a
IdeMedicacionCab..a q
)..q r
;..r s
cmd// 
.// 

Parameters// &
.//& '
AddWithValue//' 3
(//3 4
$str//4 <
,//< =!
pRcePahMedicacionCabE//> S
.//S T
Orden//T Y
)//Y Z
;//Z [
cnn00 
.00 
Open00  
(00  !
)00! "
;00" #
dr11 
=11 
cmd11  
.11  !
ExecuteReader11! .
(11. /
)11/ 0
;110 1
while22 
(22 
dr22 !
.22! "
Read22" &
(22& '
)22' (
)22( )
{33 !
oRcePahMedicacionCabE44 1
=442 3
LlenarEntidad444 A
(44A B
dr44B D
,44D E!
pRcePahMedicacionCabE44F [
)44[ \
;44\ ]
oListar55 #
.55# $
Add55$ '
(55' (!
oRcePahMedicacionCabE55( =
)55= >
;55> ?
}66 
dr77 
.77 
Close77  
(77  !
)77! "
;77" #
dr88 
.88 
Dispose88 "
(88" #
)88# $
;88$ %
cmd99 
.99 
Dispose99 #
(99# $
)99$ %
;99% &
cnn:: 
.:: 
Close:: !
(::! "
)::" #
;::# $
cnn;; 
.;; 
Dispose;; #
(;;# $
);;$ %
;;;% &
return== 
oListar== &
;==& '
}>> 
}?? 
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
throwCC 
newCC 
	ExceptionCC #
(CC# $
exCC$ &
.CC& '
MessageCC' .
)CC. /
;CC/ 0
}DD 
}EE 	
publicGG 
boolGG )
Sp_RcePahMedicacionCab_InsertGG 1
(GG1 2 
RcePahMedicacionCabEGG2 F!
pRcePahMedicacionCabEGGG \
)GG\ ]
{HH 	
tryII 
{JJ 
usingKK 
(KK 
SqlConnectionKK $
cnnKK% (
=KK) *
newKK+ .
SqlConnectionKK/ <
(KK< =
VariablesGlobalesKK= N
.KKN O

CnnClinicaKKO Y
)KKY Z
)KKZ [
{LL 
usingMM 
(MM 

SqlCommandMM %
cmdMM& )
=MM* +
newMM, /

SqlCommandMM0 :
(MM: ;
$strMM; Z
,MMZ [
cnnMM\ _
)MM_ `
)MM` a
{NN 
cmdOO 
.OO 
CommandTypeOO '
=OO( )
CommandTypeOO* 5
.OO5 6
StoredProcedureOO6 E
;OOE F
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddWithValueQQ' 3
(QQ3 4
$strQQ4 E
,QQE F!
pRcePahMedicacionCabEQQG \
.QQ\ ]
DscRespEnvioQQ] i
)QQi j
;QQj k
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 A
,RRA B!
pRcePahMedicacionCabERRC X
.RRX Y
	FlgEstadoRRY b
)RRb c
;RRc d
cmdSS 
.SS 

ParametersSS &
.SS& '
AddSS' *
(SS* +
VariablesGlobalesSS+ <
.SS< =
ParametroSqlSS= I
(SSI J
$strSSJ _
,SS_ `
ParameterDirectionSSa s
.SSs t
InputOutputSSt 
,	SS Ä
	SqlDbType
SSÅ ä
.
SSä ã
Int
SSã é
,
SSé è
$num
SSê ë
,
SSë í#
pRcePahMedicacionCabE
SSì ®
.
SS® ©
IdeMedicacionCab
SS© π
.
SSπ ∫
ToString
SS∫ ¬
(
SS¬ √
)
SS√ ƒ
)
SSƒ ≈
)
SS≈ ∆
;
SS∆ «
cnnTT 
.TT 
OpenTT  
(TT  !
)TT! "
;TT" #
ifUU 
(UU 
cmdUU 
.UU  
ExecuteNonQueryUU  /
(UU/ 0
)UU0 1
>=UU2 4
$numUU5 6
)UU6 7
{VV !
pRcePahMedicacionCabEWW 1
.WW1 2
IdeMedicacionCabWW2 B
=WWC D
(WWE F
intWWF I
)WWI J
cmdWWJ M
.WWM N

ParametersWWN X
[WWX Y
$strWWY n
]WWn o
.WWo p
ValueWWp u
;WWu v
returnXX "
trueXX# '
;XX' (
}YY 
elseZZ 
return[[ "
false[[# (
;[[( )
cmd\\ 
.\\ 
Dispose\\ #
(\\# $
)\\$ %
;\\% &
cnn]] 
.]] 
Close]] !
(]]! "
)]]" #
;]]# $
cnn^^ 
.^^ 
Dispose^^ #
(^^# $
)^^$ %
;^^% &
}__ 
}`` 
}aa 
catchbb 
(bb 
	Exceptionbb 
exbb 
)bb  
{cc 
throwdd 
newdd 
	Exceptiondd #
(dd# $
exdd$ &
.dd& '
Messagedd' .
)dd. /
;dd/ 0
}ee 
}ff 	
publichh 
boolhh )
Sp_RcePahMedicacionCab_Updatehh 1
(hh1 2 
RcePahMedicacionCabEhh2 F!
pRcePahMedicacionCabEhhG \
)hh\ ]
{ii 	
tryjj 
{kk 
usingll 
(ll 
SqlConnectionll $
cnnll% (
=ll) *
newll+ .
SqlConnectionll/ <
(ll< =
VariablesGlobalesll= N
.llN O

CnnClinicallO Y
)llY Z
)llZ [
{mm 
usingnn 
(nn 

SqlCommandnn %
cmdnn& )
=nn* +
newnn, /

SqlCommandnn0 :
(nn: ;
$strnn; Z
,nnZ [
cnnnn\ _
)nn_ `
)nn` a
{oo 
cmdpp 
.pp 
CommandTypepp '
=pp( )
CommandTypepp* 5
.pp5 6
StoredProcedurepp6 E
;ppE F
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 C
,rrC D!
pRcePahMedicacionCabErrE Z
.rrZ [
CodPacienterr[ f
)rrf g
;rrg h
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 C
,ssC D!
pRcePahMedicacionCabEssE Z
.ssZ [
CodAtencionss[ f
)ssf g
;ssg h
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 E
,ttE F!
pRcePahMedicacionCabEttG \
.tt\ ]
DscRespEnviott] i
)tti j
;ttj k
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 A
,uuA B!
pRcePahMedicacionCabEuuC X
.uuX Y
	FlgEstadouuY b
)uub c
;uuc d
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 C
,vvC D!
pRcePahMedicacionCabEvvE Z
.vvZ [
FecRegistrovv[ f
)vvf g
;vvg h
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 I
,wwI J!
pRcePahMedicacionCabEwwK `
.ww` a
IdeMedicacionCabwwa q
)wwq r
;wwr s
cnnxx 
.xx 
Openxx  
(xx  !
)xx! "
;xx" #
ifyy 
(yy 
cmdyy 
.yy  
ExecuteNonQueryyy  /
(yy/ 0
)yy0 1
>=yy2 4
$numyy5 6
)yy6 7
returnzz "
truezz# '
;zz' (
else{{ 
return|| "
false||# (
;||( )
cmd}} 
.}} 
Dispose}} #
(}}# $
)}}$ %
;}}% &
cnn~~ 
.~~ 
Close~~ !
(~~! "
)~~" #
;~~# $
cnn 
. 
Dispose #
(# $
)$ %
;% &
}
ÄÄ 
}
ÅÅ 
}
ÇÇ 
catch
ÉÉ 
(
ÉÉ 
	Exception
ÉÉ 
ex
ÉÉ 
)
ÉÉ  
{
ÑÑ 
throw
ÖÖ 
new
ÖÖ 
	Exception
ÖÖ #
(
ÖÖ# $
ex
ÖÖ$ &
.
ÖÖ& '
Message
ÖÖ' .
)
ÖÖ. /
;
ÖÖ/ 0
}
ÜÜ 
}
áá 	
public
ââ 
bool
ââ 1
#Sp_RcePahMedicacionCab_UpdatexCampo
ââ 7
(
ââ7 8"
RcePahMedicacionCabE
ââ8 L#
pRcePahMedicacionCabE
ââM b
)
ââb c
{
ää 	
try
ãã 
{
åå 
using
çç 
(
çç 
SqlConnection
çç $
cnn
çç% (
=
çç) *
new
çç+ .
SqlConnection
çç/ <
(
çç< =
VariablesGlobales
çç= N
.
ççN O

CnnClinica
ççO Y
)
ççY Z
)
ççZ [
{
éé 
using
èè 
(
èè 

SqlCommand
èè %
cmd
èè& )
=
èè* +
new
èè, /

SqlCommand
èè0 :
(
èè: ;
$str
èè; `
,
èè` a
cnn
èèb e
)
èèe f
)
èèf g
{
êê 
cmd
ëë 
.
ëë 
CommandType
ëë '
=
ëë( )
CommandType
ëë* 5
.
ëë5 6
StoredProcedure
ëë6 E
;
ëëE F
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 I
,
ììI J#
pRcePahMedicacionCabE
ììK `
.
ìì` a
IdeMedicacionCab
ììa q
)
ììq r
;
ììr s
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 B
,
îîB C#
pRcePahMedicacionCabE
îîD Y
.
îîY Z

NuevoValor
îîZ d
)
îîd e
;
îîe f
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 <
,
ïï< =#
pRcePahMedicacionCabE
ïï> S
.
ïïS T
Campo
ïïT Y
)
ïïY Z
;
ïïZ [
cnn
ññ 
.
ññ 
Open
ññ  
(
ññ  !
)
ññ! "
;
ññ" #
if
óó 
(
óó 
cmd
óó 
.
óó  
ExecuteNonQuery
óó  /
(
óó/ 0
)
óó0 1
>=
óó2 4
$num
óó5 6
)
óó6 7
return
òò "
true
òò# '
;
òò' (
else
ôô 
return
öö "
false
öö# (
;
öö( )
cmd
õõ 
.
õõ 
Dispose
õõ #
(
õõ# $
)
õõ$ %
;
õõ% &
cnn
úú 
.
úú 
Close
úú !
(
úú! "
)
úú" #
;
úú# $
cnn
ùù 
.
ùù 
Dispose
ùù #
(
ùù# $
)
ùù$ %
;
ùù% &
}
ûû 
}
üü 
}
†† 
catch
°° 
(
°° 
	Exception
°° 
ex
°° 
)
°°  
{
¢¢ 
throw
££ 
new
££ 
	Exception
££ #
(
££# $
ex
££$ &
.
££& '
Message
££' .
)
££. /
;
££/ 0
}
§§ 
}
•• 	
public
ßß 
bool
ßß +
Sp_RcePahMedicacionCab_Delete
ßß 1
(
ßß1 2"
RcePahMedicacionCabE
ßß2 F#
pRcePahMedicacionCabE
ßßG \
)
ßß\ ]
{
®® 	
try
©© 
{
™™ 
using
´´ 
(
´´ 
SqlConnection
´´ $
cnn
´´% (
=
´´) *
new
´´+ .
SqlConnection
´´/ <
(
´´< =
VariablesGlobales
´´= N
.
´´N O

CnnClinica
´´O Y
)
´´Y Z
)
´´Z [
{
¨¨ 
using
≠≠ 
(
≠≠ 

SqlCommand
≠≠ %
cmd
≠≠& )
=
≠≠* +
new
≠≠, /

SqlCommand
≠≠0 :
(
≠≠: ;
$str
≠≠; Z
,
≠≠Z [
cnn
≠≠\ _
)
≠≠_ `
)
≠≠` a
{
ÆÆ 
cmd
ØØ 
.
ØØ 
CommandType
ØØ '
=
ØØ( )
CommandType
ØØ* 5
.
ØØ5 6
StoredProcedure
ØØ6 E
;
ØØE F
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
AddWithValue
±±' 3
(
±±3 4
$str
±±4 C
,
±±C D#
pRcePahMedicacionCabE
±±E Z
.
±±Z [
CodAtencion
±±[ f
)
±±f g
;
±±g h
cnn
≤≤ 
.
≤≤ 
Open
≤≤  
(
≤≤  !
)
≤≤! "
;
≤≤" #
if
≥≥ 
(
≥≥ 
cmd
≥≥ 
.
≥≥  
ExecuteNonQuery
≥≥  /
(
≥≥/ 0
)
≥≥0 1
>=
≥≥2 4
$num
≥≥5 6
)
≥≥6 7
return
¥¥ "
true
¥¥# '
;
¥¥' (
else
µµ 
return
∂∂ "
false
∂∂# (
;
∂∂( )
cmd
∑∑ 
.
∑∑ 
Dispose
∑∑ #
(
∑∑# $
)
∑∑$ %
;
∑∑% &
cnn
∏∏ 
.
∏∏ 
Close
∏∏ !
(
∏∏! "
)
∏∏" #
;
∏∏# $
cnn
ππ 
.
ππ 
Dispose
ππ #
(
ππ# $
)
ππ$ %
;
ππ% &
}
∫∫ 
}
ªª 
}
ºº 
catch
ΩΩ 
(
ΩΩ 
	Exception
ΩΩ 
ex
ΩΩ 
)
ΩΩ  
{
ææ 
throw
øø 
new
øø 
	Exception
øø #
(
øø# $
ex
øø$ &
.
øø& '
Message
øø' .
)
øø. /
;
øø/ 0
}
¿¿ 
}
¡¡ 	
}
¬¬ 
}√√ –¿
^D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RcePahEstadosCabAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class 
RcePahEstadosCabAD #
{ 
private 
RcePahEstadosCabE !
LlenarEntidad" /
(/ 0
IDataReader0 ;
dr< >
,> ?
RcePahEstadosCabE@ Q
pRcePahEstadosCabER d
)d e
{ 	
RcePahEstadosCabE 
oRcePahEstadosCabE 0
=1 2
new3 6
RcePahEstadosCabE7 H
(H I
)I J
;J K
switch 
( 
pRcePahEstadosCabE &
.& '
Orden' ,
), -
{ 
case 
$num 
: 
{ 
oRcePahEstadosCabE *
.* +
CodAtencion+ 6
=7 8
(9 :
string: @
)@ A
drB D
[D E
$strE S
]S T
;T U
oRcePahEstadosCabE *
.* +
FecEnvio+ 3
=4 5
(6 7
string7 =
)= >
dr? A
[A B
$strB M
]M N
;N O
oRcePahEstadosCabE *
.* +
UsrEnvio+ 3
=4 5
(6 7
string7 =
)= >
dr? A
[A B
$strB M
]M N
;N O
oRcePahEstadosCabE *
.* +
IdePreAdmision+ 9
=: ;
(< =
int= @
)@ A
drB D
[D E
$strE W
]W X
;X Y
oRcePahEstadosCabE *
.* +
IdeAlergiaCab+ 8
=9 :
(; <
int< ?
)? @
drA C
[C D
$strD U
]U V
;V W
oRcePahEstadosCabE *
.* +
IdeMedicacionCab+ ;
=< =
(> ?
int? B
)B C
drD F
[F G
$strG [
][ \
;\ ]
oRcePahEstadosCabE *
.* +#
IdeDocumentoAdmisionCab+ B
=C D
(E F
intF I
)I J
drK M
[M N
$strN j
]j k
;k l
oRcePahEstadosCabE *
.* +)
IdeAutorizacionPrefacturasCab+ H
=I J
(K L
intL O
)O P
drQ S
[S T
$strT v
]v w
;w x
oRcePahEstadosCabE   *
.  * +
DscPacientes  + 7
=  8 9
(  : ;
string  ; A
)  A B
dr  C E
[  E F
$str  F T
]  T U
;  U V
oRcePahEstadosCabE!! *
.!!* +
IdePreAdmision!!+ 9
=!!: ;
(!!< =
int!!= @
)!!@ A
dr!!B D
[!!D E
$str!!E W
]!!W X
;!!X Y
oRcePahEstadosCabE## *
.##* +
DscSecuencia##+ 7
=##8 9
(##: ;
string##; A
)##A B
dr##C E
[##E F
$str##F U
]##U V
;##V W
oRcePahEstadosCabE$$ *
.$$* +
IdeCorreoEnviado$$+ ;
=$$< =
($$> ?
int$$? B
)$$B C
dr$$D F
[$$F G
$str$$G [
]$$[ \
;$$\ ]
oRcePahEstadosCabE&& *
.&&* +
FechaCirugia&&+ 7
=&&8 9
(&&: ;
string&&; A
)&&A B
dr&&C E
[&&E F
$str&&F S
]&&S T
;&&T U
oRcePahEstadosCabE(( *
.((* +
CodAtencionNueva((+ ;
=((< =
(((> ?
string((? E
)((E F
dr((G I
[((I J
$str((J ^
]((^ _
;((_ `
break)) 
;)) 
}** 
case,, 
$num,, 
:,, 
{-- 
oRcePahEstadosCabE.. *
...* +
CodAtencion..+ 6
=..7 8
(..9 :
string..: @
)..@ A
dr..B D
[..D E
$str..E S
]..S T
;..T U
oRcePahEstadosCabE// *
.//* +
CodEnvioCorreo//+ 9
=//: ;
(//< =
string//= C
)//C D
dr//E G
[//G H
$str//H Z
]//Z [
;//[ \
break00 
;00 
}11 
}22 
return33 
oRcePahEstadosCabE33 %
;33% &
}44 	
public66 
List66 
<66 
RcePahEstadosCabE66 %
>66% &(
Sp_RcePahEstadosCab_Consulta66' C
(66C D
RcePahEstadosCabE66D U
pRcePahEstadosCabE66V h
)66h i
{77 	
IDataReader88 
dr88 
;88 
RcePahEstadosCabE99 
oRcePahEstadosCabE99 0
=991 2
null993 7
;99v w
List:: 
<:: 
RcePahEstadosCabE:: "
>::" #
oListar::$ +
=::, -
new::. 1
List::2 6
<::6 7
RcePahEstadosCabE::7 H
>::H I
(::I J
)::J K
;::K L
try;; 
{<< 
using== 
(== 
SqlConnection== $
cnn==% (
===) *
new==+ .
SqlConnection==/ <
(==< =
VariablesGlobales=== N
.==N O

CnnClinica==O Y
)==Y Z
)==Z [
{>> 
using?? 
(?? 

SqlCommand?? %
cmd??& )
=??* +
new??, /

SqlCommand??0 :
(??: ;
$str??; Y
,??Y Z
cnn??[ ^
)??^ _
)??_ `
{@@ 
cmdAA 
.AA 
CommandTypeAA '
=AA( )
CommandTypeAA* 5
.AA5 6
StoredProcedureAA6 E
;AAE F
cmdCC 
.CC 

ParametersCC &
.CC& '
AddWithValueCC' 3
(CC3 4
$strCC4 G
,CCG H
pRcePahEstadosCabECCI [
.CC[ \
IdePreAdmisionCC\ j
)CCj k
;CCk l
cmdDD 
.DD 

ParametersDD &
.DD& '
AddWithValueDD' 3
(DD3 4
$strDD4 C
,DDC D
pRcePahEstadosCabEDDE W
.DDW X
CodAtencionDDX c
)DDc d
;DDd e
cmdEE 
.EE 

ParametersEE &
.EE& '
AddWithValueEE' 3
(EE3 4
$strEE4 D
,EED E
pRcePahEstadosCabEEEF X
.EEX Y
DocIdentidadEEY e
)EEe f
;EEf g
cmdFF 
.FF 

ParametersFF &
.FF& '
AddWithValueFF' 3
(FF3 4
$strFF4 D
,FFD E
pRcePahEstadosCabEFFF X
.FFX Y
DscPacientesFFY e
)FFe f
;FFf g
cmdGG 
.GG 

ParametersGG &
.GG& '
AddWithValueGG' 3
(GG3 4
$strGG4 A
,GGA B
pRcePahEstadosCabEGGC U
.GGU V
	FecInicioGGV _
)GG_ `
;GG` a
cmdHH 
.HH 

ParametersHH &
.HH& '
AddWithValueHH' 3
(HH3 4
$strHH4 >
,HH> ?
pRcePahEstadosCabEHH@ R
.HHR S
FecFinHHS Y
)HHY Z
;HHZ [
cmdII 
.II 

ParametersII &
.II& '
AddWithValueII' 3
(II3 4
$strII4 <
,II< =
pRcePahEstadosCabEII> P
.IIP Q
OrdenIIQ V
)IIV W
;IIW X
cnnJJ 
.JJ 
OpenJJ  
(JJ  !
)JJ! "
;JJ" #
drKK 
=KK 
cmdKK  
.KK  !
ExecuteReaderKK! .
(KK. /
)KK/ 0
;KK0 1
whileLL 
(LL 
drLL !
.LL! "
ReadLL" &
(LL& '
)LL' (
)LL( )
{MM 
oRcePahEstadosCabENN .
=NN/ 0
LlenarEntidadNN1 >
(NN> ?
drNN? A
,NNA B
pRcePahEstadosCabENNC U
)NNU V
;NNV W
oListarOO #
.OO# $
AddOO$ '
(OO' (
oRcePahEstadosCabEOO( :
)OO: ;
;OO; <
}PP 
drQQ 
.QQ 
CloseQQ  
(QQ  !
)QQ! "
;QQ" #
drRR 
.RR 
DisposeRR "
(RR" #
)RR# $
;RR$ %
cmdSS 
.SS 
DisposeSS #
(SS# $
)SS$ %
;SS% &
cnnTT 
.TT 
CloseTT !
(TT! "
)TT" #
;TT# $
cnnUU 
.UU 
DisposeUU #
(UU# $
)UU$ %
;UU% &
returnWW 
oListarWW &
;WW& '
}XX 
}YY 
}ZZ 
catch[[ 
([[ 
	Exception[[ 
ex[[ 
)[[  
{\\ 
throw]] 
new]] 
	Exception]] #
(]]# $
ex]]$ &
.]]& '
Message]]' .
)]]. /
;]]/ 0
}^^ 
}__ 	
publicaa 
boolaa &
Sp_RcePahEstadosCab_Insertaa .
(aa. /
RcePahEstadosCabEaa/ @
pRcePahEstadosCabEaaA S
)aaS T
{bb 	
trycc 
{dd 
usingee 
(ee 
SqlConnectionee $
cnnee% (
=ee) *
newee+ .
SqlConnectionee/ <
(ee< =
VariablesGlobalesee= N
.eeN O

CnnClinicaeeO Y
)eeY Z
)eeZ [
{ff 
usinggg 
(gg 

SqlCommandgg %
cmdgg& )
=gg* +
newgg, /

SqlCommandgg0 :
(gg: ;
$strgg; W
,ggW X
cnnggY \
)gg\ ]
)gg] ^
{hh 
cmdii 
.ii 
CommandTypeii '
=ii( )
CommandTypeii* 5
.ii5 6
StoredProcedureii6 E
;iiE F
cmdkk 
.kk 

Parameterskk &
.kk& '
AddWithValuekk' 3
(kk3 4
$strkk4 C
,kkC D
pRcePahEstadosCabEkkE W
.kkW X
CodPacientekkX c
)kkc d
;kkd e
cmdll 
.ll 

Parametersll &
.ll& '
AddWithValuell' 3
(ll3 4
$strll4 C
,llC D
pRcePahEstadosCabEllE W
.llW X
CodAtencionllX c
)llc d
;lld e
cmdmm 
.mm 

Parametersmm &
.mm& '
AddWithValuemm' 3
(mm3 4
$strmm4 =
,mm= >
pRcePahEstadosCabEmm? Q
.mmQ R
AccionmmR X
)mmX Y
;mmY Z
cmdnn 
.nn 

Parametersnn &
.nn& '
Addnn' *
(nn* +
VariablesGlobalesnn+ <
.nn< =
ParametroSqlnn= I
(nnI J
$strnnJ ]
,nn] ^
ParameterDirectionnn_ q
.nnq r
InputOutputnnr }
,nn} ~
	SqlDbType	nn à
.
nnà â
Int
nnâ å
,
nnå ç
$num
nné è
,
nnè ê 
pRcePahEstadosCabE
nnë £
.
nn£ §
IdePreAdmision
nn§ ≤
.
nn≤ ≥
ToString
nn≥ ª
(
nnª º
)
nnº Ω
)
nnΩ æ
)
nnæ ø
;
nnø ¿
cnnoo 
.oo 
Openoo  
(oo  !
)oo! "
;oo" #
cmdpp 
.pp 
ExecuteNonQuerypp +
(pp+ ,
)pp, -
;pp- .
pRcePahEstadosCabEqq *
.qq* +
IdePreAdmisionqq+ 9
=qq: ;
(qq< =
intqq= @
)qq@ A
cmdqqA D
.qqD E

ParametersqqE O
[qqO P
$strqqP c
]qqc d
.qqd e
Valueqqe j
;qqj k
ifss 
(ss 
pRcePahEstadosCabEss .
.ss. /
IdePreAdmisionss/ =
>=ss> @
$numssA B
)ssB C
returntt "
truett# '
;tt' (
elseuu 
returnvv "
falsevv# (
;vv( )
cmdww 
.ww 
Disposeww #
(ww# $
)ww$ %
;ww% &
cnnxx 
.xx 
Closexx !
(xx! "
)xx" #
;xx# $
cnnyy 
.yy 
Disposeyy #
(yy# $
)yy$ %
;yy% &
}zz 
}{{ 
}|| 
catch}} 
(}} 
	Exception}} 
ex}} 
)}}  
{~~ 
throw 
new 
	Exception #
(# $
ex$ &
.& '
Message' .
). /
;/ 0
}
ÄÄ 
}
ÅÅ 	
public
ÉÉ 
bool
ÉÉ (
Sp_RcePahEstadosCab_Update
ÉÉ .
(
ÉÉ. /
RcePahEstadosCabE
ÉÉ/ @ 
pRcePahEstadosCabE
ÉÉA S
)
ÉÉS T
{
ÑÑ 	
try
ÖÖ 
{
ÜÜ 
using
áá 
(
áá 
SqlConnection
áá $
cnn
áá% (
=
áá) *
new
áá+ .
SqlConnection
áá/ <
(
áá< =
VariablesGlobales
áá= N
.
ááN O

CnnClinica
ááO Y
)
ááY Z
)
ááZ [
{
àà 
using
ââ 
(
ââ 

SqlCommand
ââ %
cmd
ââ& )
=
ââ* +
new
ââ, /

SqlCommand
ââ0 :
(
ââ: ;
$str
ââ; W
,
ââW X
cnn
ââY \
)
ââ\ ]
)
ââ] ^
{
ää 
cmd
ãã 
.
ãã 
CommandType
ãã '
=
ãã( )
CommandType
ãã* 5
.
ãã5 6
StoredProcedure
ãã6 E
;
ããE F
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 C
,
ççC D 
pRcePahEstadosCabE
ççE W
.
ççW X
CodPaciente
ççX c
)
ççc d
;
ççd e
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 C
,
ééC D 
pRcePahEstadosCabE
ééE W
.
ééW X
CodAtencion
ééX c
)
ééc d
;
ééd e
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 D
,
èèD E 
pRcePahEstadosCabE
èèF X
.
èèX Y
NumSecuencia
èèY e
)
èèe f
;
èèf g
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 D
,
êêD E 
pRcePahEstadosCabE
êêF X
.
êêX Y
EstSecuencia
êêY e
)
êêe f
;
êêf g
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 F
,
ëëF G 
pRcePahEstadosCabE
ëëH Z
.
ëëZ [
IdeAlergiaCab
ëë[ h
)
ëëh i
;
ëëi j
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 I
,
ííI J 
pRcePahEstadosCabE
ííK ]
.
íí] ^
IdeMedicacionCab
íí^ n
)
íín o
;
íío p
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 M
,
ììM N 
pRcePahEstadosCabE
ììO a
.
ììa b"
FecAlergiaMedicacion
ììb v
)
ììv w
;
ììw x
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 Q
,
îîQ R 
pRcePahEstadosCabE
îîS e
.
îîe f%
IdeDocumentoAdmisionCab
îîf }
)
îî} ~
;
îî~ 
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 M
,
ïïM N 
pRcePahEstadosCabE
ïïO a
.
ïïa b"
FecDocumentoAdmision
ïïb v
)
ïïv w
;
ïïw x
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 W
,
ññW X 
pRcePahEstadosCabE
ññY k
.
ññk l,
IdeAutorizacionPrefacturasCabññl â
)ññâ ä
;ññä ã
cmd
óó 
.
óó 

Parameters
óó &
.
óó& '
AddWithValue
óó' 3
(
óó3 4
$str
óó4 S
,
óóS T 
pRcePahEstadosCabE
óóU g
.
óóg h)
FecAutorizacionPrefacturasóóh Ç
)óóÇ É
;óóÉ Ñ
cmd
òò 
.
òò 

Parameters
òò &
.
òò& '
AddWithValue
òò' 3
(
òò3 4
$str
òò4 A
,
òòA B 
pRcePahEstadosCabE
òòC U
.
òòU V
	FlgEstado
òòV _
)
òò_ `
;
òò` a
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 C
,
ôôC D 
pRcePahEstadosCabE
ôôE W
.
ôôW X
FecRegistro
ôôX c
)
ôôc d
;
ôôd e
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 G
,
ööG H 
pRcePahEstadosCabE
ööI [
.
öö[ \
IdePreAdmision
öö\ j
)
ööj k
;
öök l
cnn
õõ 
.
õõ 
Open
õõ  
(
õõ  !
)
õõ! "
;
õõ" #
if
úú 
(
úú 
cmd
úú 
.
úú  
ExecuteNonQuery
úú  /
(
úú/ 0
)
úú0 1
>=
úú2 4
$num
úú5 6
)
úú6 7
return
ùù "
true
ùù# '
;
ùù' (
else
ûû 
return
üü "
false
üü# (
;
üü( )
cmd
†† 
.
†† 
Dispose
†† #
(
††# $
)
††$ %
;
††% &
cnn
°° 
.
°° 
Close
°° !
(
°°! "
)
°°" #
;
°°# $
cnn
¢¢ 
.
¢¢ 
Dispose
¢¢ #
(
¢¢# $
)
¢¢$ %
;
¢¢% &
}
££ 
}
§§ 
}
•• 
catch
¶¶ 
(
¶¶ 
	Exception
¶¶ 
ex
¶¶ 
)
¶¶  
{
ßß 
throw
®® 
new
®® 
	Exception
®® #
(
®®# $
ex
®®$ &
.
®®& '
Message
®®' .
)
®®. /
;
®®/ 0
}
©© 
}
™™ 	
public
¨¨ 
bool
¨¨ .
 Sp_RcePahEstadosCab_UpdatexCampo
¨¨ 4
(
¨¨4 5
RcePahEstadosCabE
¨¨5 F 
pRcePahEstadosCabE
¨¨G Y
)
¨¨Y Z
{
≠≠ 	
try
ÆÆ 
{
ØØ 
using
∞∞ 
(
∞∞ 
SqlConnection
∞∞ $
cnn
∞∞% (
=
∞∞) *
new
∞∞+ .
SqlConnection
∞∞/ <
(
∞∞< =
VariablesGlobales
∞∞= N
.
∞∞N O

CnnClinica
∞∞O Y
)
∞∞Y Z
)
∞∞Z [
{
±± 
using
≤≤ 
(
≤≤ 

SqlCommand
≤≤ %
cmd
≤≤& )
=
≤≤* +
new
≤≤, /

SqlCommand
≤≤0 :
(
≤≤: ;
$str
≤≤; ]
,
≤≤] ^
cnn
≤≤_ b
)
≤≤b c
)
≤≤c d
{
≥≥ 
cmd
¥¥ 
.
¥¥ 
CommandType
¥¥ '
=
¥¥( )
CommandType
¥¥* 5
.
¥¥5 6
StoredProcedure
¥¥6 E
;
¥¥E F
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ &
.
∂∂& '
AddWithValue
∂∂' 3
(
∂∂3 4
$str
∂∂4 G
,
∂∂G H 
pRcePahEstadosCabE
∂∂I [
.
∂∂[ \
IdePreAdmision
∂∂\ j
)
∂∂j k
;
∂∂k l
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ &
.
∑∑& '
AddWithValue
∑∑' 3
(
∑∑3 4
$str
∑∑4 C
,
∑∑C D 
pRcePahEstadosCabE
∑∑E W
.
∑∑W X
CodAtencion
∑∑X c
)
∑∑c d
;
∑∑d e
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ &
.
∏∏& '
AddWithValue
∏∏' 3
(
∏∏3 4
$str
∏∏4 B
,
∏∏B C 
pRcePahEstadosCabE
∏∏D V
.
∏∏V W

NuevoValor
∏∏W a
)
∏∏a b
;
∏∏b c
cmd
ππ 
.
ππ 

Parameters
ππ &
.
ππ& '
AddWithValue
ππ' 3
(
ππ3 4
$str
ππ4 <
,
ππ< = 
pRcePahEstadosCabE
ππ> P
.
ππP Q
Campo
ππQ V
)
ππV W
;
ππW X
cnn
∫∫ 
.
∫∫ 
Open
∫∫  
(
∫∫  !
)
∫∫! "
;
∫∫" #
if
ªª 
(
ªª 
cmd
ªª 
.
ªª  
ExecuteNonQuery
ªª  /
(
ªª/ 0
)
ªª0 1
>=
ªª2 4
$num
ªª5 6
)
ªª6 7
return
ºº "
true
ºº# '
;
ºº' (
else
ΩΩ 
return
ææ "
false
ææ# (
;
ææ( )
cmd
øø 
.
øø 
Dispose
øø #
(
øø# $
)
øø$ %
;
øø% &
cnn
¿¿ 
.
¿¿ 
Close
¿¿ !
(
¿¿! "
)
¿¿" #
;
¿¿# $
cnn
¡¡ 
.
¡¡ 
Dispose
¡¡ #
(
¡¡# $
)
¡¡$ %
;
¡¡% &
}
¬¬ 
}
√√ 
}
ƒƒ 
catch
≈≈ 
(
≈≈ 
	Exception
≈≈ 
ex
≈≈ 
)
≈≈  
{
∆∆ 
throw
«« 
new
«« 
	Exception
«« #
(
««# $
ex
««$ &
.
««& '
Message
««' .
)
««. /
;
««/ 0
}
»» 
}
…… 	
public
ÀÀ 
bool
ÀÀ (
Sp_RcePahEstadosCab_Delete
ÀÀ .
(
ÀÀ. /
RcePahEstadosCabE
ÀÀ/ @ 
pRcePahEstadosCabE
ÀÀA S
)
ÀÀS T
{
ÃÃ 	
try
ÕÕ 
{
ŒŒ 
using
œœ 
(
œœ 
SqlConnection
œœ $
cnn
œœ% (
=
œœ) *
new
œœ+ .
SqlConnection
œœ/ <
(
œœ< =
VariablesGlobales
œœ= N
.
œœN O

CnnClinica
œœO Y
)
œœY Z
)
œœZ [
{
–– 
using
—— 
(
—— 

SqlCommand
—— %
cmd
——& )
=
——* +
new
——, /

SqlCommand
——0 :
(
——: ;
$str
——; W
,
——W X
cnn
——Y \
)
——\ ]
)
——] ^
{
““ 
cmd
”” 
.
”” 
CommandType
”” '
=
””( )
CommandType
””* 5
.
””5 6
StoredProcedure
””6 E
;
””E F
cmd
’’ 
.
’’ 

Parameters
’’ &
.
’’& '
AddWithValue
’’' 3
(
’’3 4
$str
’’4 G
,
’’G H 
pRcePahEstadosCabE
’’I [
.
’’[ \
IdePreAdmision
’’\ j
)
’’j k
;
’’k l
cnn
÷÷ 
.
÷÷ 
Open
÷÷  
(
÷÷  !
)
÷÷! "
;
÷÷" #
if
◊◊ 
(
◊◊ 
cmd
◊◊ 
.
◊◊  
ExecuteNonQuery
◊◊  /
(
◊◊/ 0
)
◊◊0 1
>=
◊◊2 4
$num
◊◊5 6
)
◊◊6 7
return
ÿÿ "
true
ÿÿ# '
;
ÿÿ' (
else
ŸŸ 
return
⁄⁄ "
false
⁄⁄# (
;
⁄⁄( )
cmd
€€ 
.
€€ 
Dispose
€€ #
(
€€# $
)
€€$ %
;
€€% &
cnn
‹‹ 
.
‹‹ 
Close
‹‹ !
(
‹‹! "
)
‹‹" #
;
‹‹# $
cnn
›› 
.
›› 
Dispose
›› #
(
››# $
)
››$ %
;
››% &
}
ﬁﬁ 
}
ﬂﬂ 
}
‡‡ 
catch
·· 
(
·· 
	Exception
·· 
ex
·· 
)
··  
{
‚‚ 
throw
„„ 
new
„„ 
	Exception
„„ #
(
„„# $
ex
„„$ &
.
„„& '
Message
„„' .
)
„„. /
;
„„/ 0
}
‰‰ 
}
ÂÂ 	
}
ÊÊ 
}ÁÁ Òñ
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RcePahDocumentosPdfAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class !
RcePahDocumentosPdfAD &
{ 
private  
RcePahDocumentosPdfE $
LlenarEntidad% 2
(2 3
IDataReader3 >
dr? A
,A B 
RcePahDocumentosPdfEC W!
pRcePahDocumentosPdfEX m
)m n
{ 	 
RcePahDocumentosPdfE  !
oRcePahDocumentosPdfE! 6
=7 8
new9 < 
RcePahDocumentosPdfE= Q
(Q R
)R S
;S T
switch 
( !
pRcePahDocumentosPdfE )
.) *
Orden* /
)/ 0
{ 
case 
$num 
: 
case 
$num 
: 
{ !
oRcePahDocumentosPdfE -
.- .
IdeDocumentosPdf. >
=? @
(A B
intB E
)E F
drG I
[I J
$strJ ^
]^ _
;_ `!
oRcePahDocumentosPdfE -
.- .
CodAtencion. 9
=: ;
(< =
string= C
)C D
drE G
[G H
$strH V
]V W
;W X!
oRcePahDocumentosPdfE -
.- .
IdePreAdmision. <
== >
(? @
int@ C
)C D
drE G
[G H
$strH Z
]Z [
;[ \!
oRcePahDocumentosPdfE -
.- .
CodTipoDocumento. >
=? @
(A B
stringB H
)H I
drJ L
[L M
$strM a
]a b
;b c!
oRcePahDocumentosPdfE -
.- .
BlbDocumento. :
=; <
(= >
byte> B
[B C
]C D
)D E
drF H
[H I
$strI X
]X Y
;Y Z
break 
; 
} 
} 
return !
oRcePahDocumentosPdfE (
;( )
} 	
public!! 
List!! 
<!!  
RcePahDocumentosPdfE!! (
>!!( )+
Sp_RcePahDocumentosPdf_Consulta!!* I
(!!I J 
RcePahDocumentosPdfE!!J ^!
pRcePahDocumentosPdfE!!_ t
)!!t u
{"" 	
IDataReader## 
dr## 
;##  
RcePahDocumentosPdfE$$  !
oRcePahDocumentosPdfE$$! 6
=$$7 8
null$$9 =
;$$| }
List%% 
<%%  
RcePahDocumentosPdfE%% %
>%%% &
oListar%%' .
=%%/ 0
new%%1 4
List%%5 9
<%%9 : 
RcePahDocumentosPdfE%%: N
>%%N O
(%%O P
)%%P Q
;%%Q R
try&& 
{'' 
using(( 
((( 
SqlConnection(( $
cnn((% (
=(() *
new((+ .
SqlConnection((/ <
(((< =
VariablesGlobales((= N
.((N O

CnnClinica((O Y
)((Y Z
)((Z [
{)) 
using** 
(** 

SqlCommand** %
cmd**& )
=*** +
new**, /

SqlCommand**0 :
(**: ;
$str**; \
,**\ ]
cnn**^ a
)**a b
)**b c
{++ 
cmd,, 
.,, 
CommandType,, '
=,,( )
CommandType,,* 5
.,,5 6
StoredProcedure,,6 E
;,,E F
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 I
,..I J!
pRcePahDocumentosPdfE..K `
...` a
IdeDocumentosPdf..a q
)..q r
;..r s
cmd// 
.// 

Parameters// &
.//& '
AddWithValue//' 3
(//3 4
$str//4 I
,//I J!
pRcePahDocumentosPdfE//K `
.//` a
CodTipoDocumento//a q
)//q r
;//r s
cmd00 
.00 

Parameters00 &
.00& '
AddWithValue00' 3
(003 4
$str004 C
,00C D!
pRcePahDocumentosPdfE00E Z
.00Z [
CodAtencion00[ f
)00f g
;00g h
cmd11 
.11 

Parameters11 &
.11& '
AddWithValue11' 3
(113 4
$str114 G
,11G H!
pRcePahDocumentosPdfE11I ^
.11^ _
IdePreAdmision11_ m
)11m n
;11n o
cmd22 
.22 

Parameters22 &
.22& '
AddWithValue22' 3
(223 4
$str224 <
,22< =!
pRcePahDocumentosPdfE22> S
.22S T
Orden22T Y
)22Y Z
;22Z [
cnn33 
.33 
Open33  
(33  !
)33! "
;33" #
dr44 
=44 
cmd44  
.44  !
ExecuteReader44! .
(44. /
)44/ 0
;440 1
while55 
(55 
dr55 !
.55! "
Read55" &
(55& '
)55' (
)55( )
{66 !
oRcePahDocumentosPdfE77 1
=772 3
LlenarEntidad774 A
(77A B
dr77B D
,77D E!
pRcePahDocumentosPdfE77F [
)77[ \
;77\ ]
oListar88 #
.88# $
Add88$ '
(88' (!
oRcePahDocumentosPdfE88( =
)88= >
;88> ?
}99 
dr:: 
.:: 
Close::  
(::  !
)::! "
;::" #
dr;; 
.;; 
Dispose;; "
(;;" #
);;# $
;;;$ %
cmd<< 
.<< 
Dispose<< #
(<<# $
)<<$ %
;<<% &
cnn== 
.== 
Close== !
(==! "
)==" #
;==# $
cnn>> 
.>> 
Dispose>> #
(>># $
)>>$ %
;>>% &
return@@ 
oListar@@ &
;@@& '
}AA 
}BB 
}CC 
catchDD 
(DD 
	ExceptionDD 
exDD 
)DD  
{EE 
throwFF 
newFF 
	ExceptionFF #
(FF# $
exFF$ &
.FF& '
MessageFF' .
)FF. /
;FF/ 0
}GG 
}HH 	
publicJJ 
boolJJ )
Sp_RcePahDocumentosPdf_InsertJJ 1
(JJ1 2 
RcePahDocumentosPdfEJJ2 F!
pRcePahDocumentosPdfEJJG \
)JJ\ ]
{KK 	
tryLL 
{MM 
usingNN 
(NN 
SqlConnectionNN $
cnnNN% (
=NN) *
newNN+ .
SqlConnectionNN/ <
(NN< =
VariablesGlobalesNN= N
.NNN O

CnnClinicaNNO Y
)NNY Z
)NNZ [
{OO 
usingPP 
(PP 

SqlCommandPP %
cmdPP& )
=PP* +
newPP, /

SqlCommandPP0 :
(PP: ;
$strPP; Z
,PPZ [
cnnPP\ _
)PP_ `
)PP` a
{QQ 
cmdRR 
.RR 
CommandTypeRR '
=RR( )
CommandTypeRR* 5
.RR5 6
StoredProcedureRR6 E
;RRE F
cmdTT 
.TT 

ParametersTT &
.TT& '
AddWithValueTT' 3
(TT3 4
$strTT4 C
,TTC D!
pRcePahDocumentosPdfETTE Z
.TTZ [
CodAtencionTT[ f
)TTf g
;TTg h
cmdUU 
.UU 

ParametersUU &
.UU& '
AddWithValueUU' 3
(UU3 4
$strUU4 G
,UUG H!
pRcePahDocumentosPdfEUUI ^
.UU^ _
IdePreAdmisionUU_ m
)UUm n
;UUn o
cmdVV 
.VV 

ParametersVV &
.VV& '
AddWithValueVV' 3
(VV3 4
$strVV4 I
,VVI J!
pRcePahDocumentosPdfEVVK `
.VV` a
CodTipoDocumentoVVa q
)VVq r
;VVr s
cmdWW 
.WW 

ParametersWW &
.WW& '
AddWithValueWW' 3
(WW3 4
$strWW4 D
,WWD E!
pRcePahDocumentosPdfEWWF [
.WW[ \
BlbDocumentoWW\ h
)WWh i
;WWi j
cmdXX 
.XX 

ParametersXX &
.XX& '
AddXX' *
(XX* +
VariablesGlobalesXX+ <
.XX< =
ParametroSqlXX= I
(XXI J
$strXXJ _
,XX_ `
ParameterDirectionXXa s
.XXs t
InputOutputXXt 
,	XX Ä
	SqlDbType
XXÅ ä
.
XXä ã
Int
XXã é
,
XXé è
$num
XXê ë
,
XXë í#
pRcePahDocumentosPdfE
XXì ®
.
XX® ©
IdeDocumentosPdf
XX© π
.
XXπ ∫
ToString
XX∫ ¬
(
XX¬ √
)
XX√ ƒ
)
XXƒ ≈
)
XX≈ ∆
;
XX∆ «
cnnYY 
.YY 
OpenYY  
(YY  !
)YY! "
;YY" #
ifZZ 
(ZZ 
cmdZZ 
.ZZ  
ExecuteNonQueryZZ  /
(ZZ/ 0
)ZZ0 1
>=ZZ2 4
$numZZ5 6
)ZZ6 7
{[[ !
pRcePahDocumentosPdfE\\ 1
.\\1 2
IdeDocumentosPdf\\2 B
=\\C D
(\\E F
int\\F I
)\\I J
cmd\\J M
.\\M N

Parameters\\N X
[\\X Y
$str\\Y n
]\\n o
.\\o p
Value\\p u
;\\u v
return]] "
true]]# '
;]]' (
}^^ 
else__ 
return`` "
false``# (
;``( )
cmdaa 
.aa 
Disposeaa #
(aa# $
)aa$ %
;aa% &
cnnbb 
.bb 
Closebb !
(bb! "
)bb" #
;bb# $
cnncc 
.cc 
Disposecc #
(cc# $
)cc$ %
;cc% &
}dd 
}ee 
}ff 
catchgg 
(gg 
	Exceptiongg 
exgg 
)gg  
{hh 
throwii 
newii 
	Exceptionii #
(ii# $
exii$ &
.ii& '
Messageii' .
)ii. /
;ii/ 0
}jj 
}kk 	
publicmm 
boolmm )
Sp_RcePahDocumentosPdf_Updatemm 1
(mm1 2 
RcePahDocumentosPdfEmm2 F!
pRcePahDocumentosPdfEmmG \
)mm\ ]
{nn 	
tryoo 
{pp 
usingqq 
(qq 
SqlConnectionqq $
cnnqq% (
=qq) *
newqq+ .
SqlConnectionqq/ <
(qq< =
VariablesGlobalesqq= N
.qqN O

CnnClinicaqqO Y
)qqY Z
)qqZ [
{rr 
usingss 
(ss 

SqlCommandss %
cmdss& )
=ss* +
newss, /

SqlCommandss0 :
(ss: ;
$strss; Z
,ssZ [
cnnss\ _
)ss_ `
)ss` a
{tt 
cmduu 
.uu 
CommandTypeuu '
=uu( )
CommandTypeuu* 5
.uu5 6
StoredProcedureuu6 E
;uuE F
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 C
,wwC D!
pRcePahDocumentosPdfEwwE Z
.wwZ [
CodAtencionww[ f
)wwf g
;wwg h
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 G
,xxG H!
pRcePahDocumentosPdfExxI ^
.xx^ _
IdePreAdmisionxx_ m
)xxm n
;xxn o
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 I
,yyI J!
pRcePahDocumentosPdfEyyK `
.yy` a
CodTipoDocumentoyya q
)yyq r
;yyr s
cmdzz 
.zz 

Parameterszz &
.zz& '
AddWithValuezz' 3
(zz3 4
$strzz4 D
,zzD E!
pRcePahDocumentosPdfEzzF [
.zz[ \
BlbDocumentozz\ h
)zzh i
;zzi j
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 C
,{{C D!
pRcePahDocumentosPdfE{{E Z
.{{Z [
FecRegistro{{[ f
){{f g
;{{g h
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 I
,||I J!
pRcePahDocumentosPdfE||K `
.||` a
IdeDocumentosPdf||a q
)||q r
;||r s
cnn}} 
.}} 
Open}}  
(}}  !
)}}! "
;}}" #
if~~ 
(~~ 
cmd~~ 
.~~  
ExecuteNonQuery~~  /
(~~/ 0
)~~0 1
>=~~2 4
$num~~5 6
)~~6 7
return "
true# '
;' (
else
ÄÄ 
return
ÅÅ "
false
ÅÅ# (
;
ÅÅ( )
cmd
ÇÇ 
.
ÇÇ 
Dispose
ÇÇ #
(
ÇÇ# $
)
ÇÇ$ %
;
ÇÇ% &
cnn
ÉÉ 
.
ÉÉ 
Close
ÉÉ !
(
ÉÉ! "
)
ÉÉ" #
;
ÉÉ# $
cnn
ÑÑ 
.
ÑÑ 
Dispose
ÑÑ #
(
ÑÑ# $
)
ÑÑ$ %
;
ÑÑ% &
}
ÖÖ 
}
ÜÜ 
}
áá 
catch
àà 
(
àà 
	Exception
àà 
ex
àà 
)
àà  
{
ââ 
throw
ää 
new
ää 
	Exception
ää #
(
ää# $
ex
ää$ &
.
ää& '
Message
ää' .
)
ää. /
;
ää/ 0
}
ãã 
}
åå 	
public
éé 
bool
éé 1
#Sp_RcePahDocumentosPdf_UpdatexCampo
éé 7
(
éé7 8"
RcePahDocumentosPdfE
éé8 L#
pRcePahDocumentosPdfE
ééM b
)
ééb c
{
èè 	
try
êê 
{
ëë 
using
íí 
(
íí 
SqlConnection
íí $
cnn
íí% (
=
íí) *
new
íí+ .
SqlConnection
íí/ <
(
íí< =
VariablesGlobales
íí= N
.
ííN O

CnnClinica
ííO Y
)
ííY Z
)
ííZ [
{
ìì 
using
îî 
(
îî 

SqlCommand
îî %
cmd
îî& )
=
îî* +
new
îî, /

SqlCommand
îî0 :
(
îî: ;
$str
îî; `
,
îî` a
cnn
îîb e
)
îîe f
)
îîf g
{
ïï 
cmd
ññ 
.
ññ 
CommandType
ññ '
=
ññ( )
CommandType
ññ* 5
.
ññ5 6
StoredProcedure
ññ6 E
;
ññE F
cmd
òò 
.
òò 

Parameters
òò &
.
òò& '
AddWithValue
òò' 3
(
òò3 4
$str
òò4 I
,
òòI J#
pRcePahDocumentosPdfE
òòK `
.
òò` a
IdeDocumentosPdf
òòa q
)
òòq r
;
òòr s
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 B
,
ôôB C#
pRcePahDocumentosPdfE
ôôD Y
.
ôôY Z

NuevoValor
ôôZ d
)
ôôd e
;
ôôe f
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 <
,
öö< =#
pRcePahDocumentosPdfE
öö> S
.
ööS T
Campo
ööT Y
)
ööY Z
;
ööZ [
cnn
õõ 
.
õõ 
Open
õõ  
(
õõ  !
)
õõ! "
;
õõ" #
if
úú 
(
úú 
cmd
úú 
.
úú  
ExecuteNonQuery
úú  /
(
úú/ 0
)
úú0 1
>=
úú2 4
$num
úú5 6
)
úú6 7
return
ùù "
true
ùù# '
;
ùù' (
else
ûû 
return
üü "
false
üü# (
;
üü( )
cmd
†† 
.
†† 
Dispose
†† #
(
††# $
)
††$ %
;
††% &
cnn
°° 
.
°° 
Close
°° !
(
°°! "
)
°°" #
;
°°# $
cnn
¢¢ 
.
¢¢ 
Dispose
¢¢ #
(
¢¢# $
)
¢¢$ %
;
¢¢% &
}
££ 
}
§§ 
}
•• 
catch
¶¶ 
(
¶¶ 
	Exception
¶¶ 
ex
¶¶ 
)
¶¶  
{
ßß 
throw
®® 
new
®® 
	Exception
®® #
(
®®# $
ex
®®$ &
.
®®& '
Message
®®' .
)
®®. /
;
®®/ 0
}
©© 
}
™™ 	
public
¨¨ 
bool
¨¨ +
Sp_RcePahDocumentosPdf_Delete
¨¨ 1
(
¨¨1 2"
RcePahDocumentosPdfE
¨¨2 F#
pRcePahDocumentosPdfE
¨¨G \
)
¨¨\ ]
{
≠≠ 	
try
ÆÆ 
{
ØØ 
using
∞∞ 
(
∞∞ 
SqlConnection
∞∞ $
cnn
∞∞% (
=
∞∞) *
new
∞∞+ .
SqlConnection
∞∞/ <
(
∞∞< =
VariablesGlobales
∞∞= N
.
∞∞N O

CnnClinica
∞∞O Y
)
∞∞Y Z
)
∞∞Z [
{
±± 
using
≤≤ 
(
≤≤ 

SqlCommand
≤≤ %
cmd
≤≤& )
=
≤≤* +
new
≤≤, /

SqlCommand
≤≤0 :
(
≤≤: ;
$str
≤≤; Z
,
≤≤Z [
cnn
≤≤\ _
)
≤≤_ `
)
≤≤` a
{
≥≥ 
cmd
¥¥ 
.
¥¥ 
CommandType
¥¥ '
=
¥¥( )
CommandType
¥¥* 5
.
¥¥5 6
StoredProcedure
¥¥6 E
;
¥¥E F
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ &
.
∂∂& '
AddWithValue
∂∂' 3
(
∂∂3 4
$str
∂∂4 I
,
∂∂I J#
pRcePahDocumentosPdfE
∂∂K `
.
∂∂` a
IdeDocumentosPdf
∂∂a q
)
∂∂q r
;
∂∂r s
cnn
∑∑ 
.
∑∑ 
Open
∑∑  
(
∑∑  !
)
∑∑! "
;
∑∑" #
if
∏∏ 
(
∏∏ 
cmd
∏∏ 
.
∏∏  
ExecuteNonQuery
∏∏  /
(
∏∏/ 0
)
∏∏0 1
>=
∏∏2 4
$num
∏∏5 6
)
∏∏6 7
return
ππ "
true
ππ# '
;
ππ' (
else
∫∫ 
return
ªª "
false
ªª# (
;
ªª( )
cmd
ºº 
.
ºº 
Dispose
ºº #
(
ºº# $
)
ºº$ %
;
ºº% &
cnn
ΩΩ 
.
ΩΩ 
Close
ΩΩ !
(
ΩΩ! "
)
ΩΩ" #
;
ΩΩ# $
cnn
ææ 
.
ææ 
Dispose
ææ #
(
ææ# $
)
ææ$ %
;
ææ% &
}
øø 
}
¿¿ 
}
¡¡ 
catch
¬¬ 
(
¬¬ 
	Exception
¬¬ 
ex
¬¬ 
)
¬¬  
{
√√ 
throw
ƒƒ 
new
ƒƒ 
	Exception
ƒƒ #
(
ƒƒ# $
ex
ƒƒ$ &
.
ƒƒ& '
Message
ƒƒ' .
)
ƒƒ. /
;
ƒƒ/ 0
}
≈≈ 
}
∆∆ 	
}
«« 
}»» ¢î
hD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RcePahDocumentoAdmisionCabAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class (
RcePahDocumentoAdmisionCabAD -
{ 
private '
RcePahDocumentoAdmisionCabE +
LlenarEntidad, 9
(9 :
IDataReader: E
drF H
,H I'
RcePahDocumentoAdmisionCabEJ e)
pRcePahDocumentoAdmisionCabE	f Ç
)
Ç É
{ 	'
RcePahDocumentoAdmisionCabE '(
oRcePahDocumentoAdmisionCabE( D
=E F
newG J'
RcePahDocumentoAdmisionCabEK f
(f g
)g h
;h i
switch 
( (
pRcePahDocumentoAdmisionCabE 0
.0 1
Orden1 6
)6 7
{ 
case 
$num 
: 
{ (
oRcePahDocumentoAdmisionCabE 4
.4 5#
IdeDocumentoAdmisionCab5 L
=M N
(O P
intP S
)S T
drU W
[W X
$strX t
]t u
;u v(
oRcePahDocumentoAdmisionCabE 4
.4 5
DscRpta5 <
== >
(? @
string@ F
)F G
drH J
[J K
$strK U
]U V
;V W
break 
; 
} 
} 
return (
oRcePahDocumentoAdmisionCabE /
;/ 0
} 	
public 
List 
< '
RcePahDocumentoAdmisionCabE /
>/ 02
&Sp_RcePahDocumentoAdmisionCab_Consulta1 W
(W X'
RcePahDocumentoAdmisionCabEX s)
pRcePahDocumentoAdmisionCabE	t ê
)
ê ë
{ 	
IDataReader 
dr 
; '
RcePahDocumentoAdmisionCabE   '(
oRcePahDocumentoAdmisionCabE  ( D
=  E F
null  G K
;
  ä ã
List!! 
<!! '
RcePahDocumentoAdmisionCabE!! ,
>!!, -
oListar!!. 5
=!!6 7
new!!8 ;
List!!< @
<!!@ A'
RcePahDocumentoAdmisionCabE!!A \
>!!\ ]
(!!] ^
)!!^ _
;!!_ `
try"" 
{## 
using$$ 
($$ 
SqlConnection$$ $
cnn$$% (
=$$) *
new$$+ .
SqlConnection$$/ <
($$< =
VariablesGlobales$$= N
.$$N O

CnnClinica$$O Y
)$$Y Z
)$$Z [
{%% 
using&& 
(&& 

SqlCommand&& %
cmd&&& )
=&&* +
new&&, /

SqlCommand&&0 :
(&&: ;
$str&&; c
,&&c d
cnn&&e h
)&&h i
)&&i j
{'' 
cmd(( 
.(( 
CommandType(( '
=((( )
CommandType((* 5
.((5 6
StoredProcedure((6 E
;((E F
cmd** 
.** 

Parameters** &
.**& '
AddWithValue**' 3
(**3 4
$str**4 Q
,**Q R(
pRcePahDocumentoAdmisionCabE**S o
.**o p$
IdeDocumentoAdmisionCab	**p á
)
**á à
;
**à â
cmd++ 
.++ 

Parameters++ &
.++& '
AddWithValue++' 3
(++3 4
$str++4 C
,++C D(
pRcePahDocumentoAdmisionCabE++E a
.++a b
CodAtencion++b m
)++m n
;++n o
cmd,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 <
,,,< =(
pRcePahDocumentoAdmisionCabE,,> Z
.,,Z [
Orden,,[ `
),,` a
;,,a b
cnn-- 
.-- 
Open--  
(--  !
)--! "
;--" #
dr.. 
=.. 
cmd..  
...  !
ExecuteReader..! .
(... /
)../ 0
;..0 1
while// 
(// 
dr// !
.//! "
Read//" &
(//& '
)//' (
)//( )
{00 (
oRcePahDocumentoAdmisionCabE11 8
=119 :
LlenarEntidad11; H
(11H I
dr11I K
,11K L(
pRcePahDocumentoAdmisionCabE11M i
)11i j
;11j k
oListar22 #
.22# $
Add22$ '
(22' ((
oRcePahDocumentoAdmisionCabE22( D
)22D E
;22E F
}33 
dr44 
.44 
Close44  
(44  !
)44! "
;44" #
dr55 
.55 
Dispose55 "
(55" #
)55# $
;55$ %
cmd66 
.66 
Dispose66 #
(66# $
)66$ %
;66% &
cnn77 
.77 
Close77 !
(77! "
)77" #
;77# $
cnn88 
.88 
Dispose88 #
(88# $
)88$ %
;88% &
return:: 
oListar:: &
;::& '
};; 
}<< 
}== 
catch>> 
(>> 
	Exception>> 
ex>> 
)>>  
{?? 
throw@@ 
new@@ 
	Exception@@ #
(@@# $
ex@@$ &
.@@& '
Message@@' .
)@@. /
;@@/ 0
}AA 
}BB 	
publicDD 
boolDD 0
$Sp_RcePahDocumentoAdmisionCab_InsertDD 8
(DD8 9'
RcePahDocumentoAdmisionCabEDD9 T(
pRcePahDocumentoAdmisionCabEDDU q
)DDq r
{EE 	
tryFF 
{GG 
usingHH 
(HH 
SqlConnectionHH $
cnnHH% (
=HH) *
newHH+ .
SqlConnectionHH/ <
(HH< =
VariablesGlobalesHH= N
.HHN O

CnnClinicaHHO Y
)HHY Z
)HHZ [
{II 
usingJJ 
(JJ 

SqlCommandJJ %
cmdJJ& )
=JJ* +
newJJ, /

SqlCommandJJ0 :
(JJ: ;
$strJJ; a
,JJa b
cnnJJc f
)JJf g
)JJg h
{KK 
cmdLL 
.LL 
CommandTypeLL '
=LL( )
CommandTypeLL* 5
.LL5 6
StoredProcedureLL6 E
;LLE F
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 C
,NNC D(
pRcePahDocumentoAdmisionCabENNE a
.NNa b
CodAtencionNNb m
)NNm n
;NNn o
cmdOO 
.OO 

ParametersOO &
.OO& '
AddWithValueOO' 3
(OO3 4
$strOO4 J
,OOJ K(
pRcePahDocumentoAdmisionCabEOOL h
.OOh i
DscTextoDocumentoOOi z
)OOz {
;OO{ |
cmdPP 
.PP 

ParametersPP &
.PP& '
AddWithValuePP' 3
(PP3 4
$strPP4 L
,PPL M(
pRcePahDocumentoAdmisionCabEPPN j
.PPj k
DscRespEnvioPPk w
)PPw x
;PPx y
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddWithValueQQ' 3
(QQ3 4
$strQQ4 ?
,QQ? @(
pRcePahDocumentoAdmisionCabEQQA ]
.QQ] ^
DscRptaQQ^ e
)QQe f
;QQf g
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 A
,RRA B(
pRcePahDocumentoAdmisionCabERRC _
.RR_ `
	FlgEstadoRR` i
)RRi j
;RRj k
cmdSS 
.SS 

ParametersSS &
.SS& '
AddSS' *
(SS* +
VariablesGlobalesSS+ <
.SS< =
ParametroSqlSS= I
(SSI J
$strSSJ g
,SSg h
ParameterDirectionSSi {
.SS{ |
InputOutput	SS| á
,
SSá à
	SqlDbType
SSâ í
.
SSí ì
Int
SSì ñ
,
SSñ ó
$num
SSò ô
,
SSô ö*
pRcePahDocumentoAdmisionCabE
SSõ ∑
.
SS∑ ∏%
IdeDocumentoAdmisionCab
SS∏ œ
.
SSœ –
ToString
SS– ÿ
(
SSÿ Ÿ
)
SSŸ ⁄
)
SS⁄ €
)
SS€ ‹
;
SS‹ ›
cnnTT 
.TT 
OpenTT  
(TT  !
)TT! "
;TT" #
ifUU 
(UU 
cmdUU 
.UU  
ExecuteNonQueryUU  /
(UU/ 0
)UU0 1
>=UU2 4
$numUU5 6
)UU6 7
{VV (
pRcePahDocumentoAdmisionCabEWW 8
.WW8 9#
IdeDocumentoAdmisionCabWW9 P
=WWQ R
(WWS T
intWWT W
)WWW X
cmdWWX [
.WW[ \

ParametersWW\ f
[WWf g
$str	WWg Ñ
]
WWÑ Ö
.
WWÖ Ü
Value
WWÜ ã
;
WWã å
returnXX "
trueXX# '
;XX' (
}YY 
elseZZ 
return[[ "
false[[# (
;[[( )
cmd\\ 
.\\ 
Dispose\\ #
(\\# $
)\\$ %
;\\% &
cnn]] 
.]] 
Close]] !
(]]! "
)]]" #
;]]# $
cnn^^ 
.^^ 
Dispose^^ #
(^^# $
)^^$ %
;^^% &
}__ 
}`` 
}aa 
catchbb 
(bb 
	Exceptionbb 
exbb 
)bb  
{cc 
throwdd 
newdd 
	Exceptiondd #
(dd# $
exdd$ &
.dd& '
Messagedd' .
)dd. /
;dd/ 0
}ee 
}ff 	
publichh 
boolhh 0
$Sp_RcePahDocumentoAdmisionCab_Updatehh 8
(hh8 9'
RcePahDocumentoAdmisionCabEhh9 T(
pRcePahDocumentoAdmisionCabEhhU q
)hhq r
{ii 	
tryjj 
{kk 
usingll 
(ll 
SqlConnectionll $
cnnll% (
=ll) *
newll+ .
SqlConnectionll/ <
(ll< =
VariablesGlobalesll= N
.llN O

CnnClinicallO Y
)llY Z
)llZ [
{mm 
usingnn 
(nn 

SqlCommandnn %
cmdnn& )
=nn* +
newnn, /

SqlCommandnn0 :
(nn: ;
$strnn; a
,nna b
cnnnnc f
)nnf g
)nng h
{oo 
cmdpp 
.pp 
CommandTypepp '
=pp( )
CommandTypepp* 5
.pp5 6
StoredProcedurepp6 E
;ppE F
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 C
,rrC D(
pRcePahDocumentoAdmisionCabErrE a
.rra b
CodPacienterrb m
)rrm n
;rrn o
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 C
,ssC D(
pRcePahDocumentoAdmisionCabEssE a
.ssa b
CodAtencionssb m
)ssm n
;ssn o
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 J
,ttJ K(
pRcePahDocumentoAdmisionCabEttL h
.tth i
DscTextoDocumentotti z
)ttz {
;tt{ |
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 E
,uuE F(
pRcePahDocumentoAdmisionCabEuuG c
.uuc d
DscRespEnviouud p
)uup q
;uuq r
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 A
,vvA B(
pRcePahDocumentoAdmisionCabEvvC _
.vv_ `
	FlgEstadovv` i
)vvi j
;vvj k
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 C
,wwC D(
pRcePahDocumentoAdmisionCabEwwE a
.wwa b
FecRegistrowwb m
)wwm n
;wwn o
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 Q
,xxQ R(
pRcePahDocumentoAdmisionCabExxS o
.xxo p$
IdeDocumentoAdmisionCab	xxp á
)
xxá à
;
xxà â
cnnyy 
.yy 
Openyy  
(yy  !
)yy! "
;yy" #
ifzz 
(zz 
cmdzz 
.zz  
ExecuteNonQueryzz  /
(zz/ 0
)zz0 1
>=zz2 4
$numzz5 6
)zz6 7
return{{ "
true{{# '
;{{' (
else|| 
return}} "
false}}# (
;}}( )
cmd~~ 
.~~ 
Dispose~~ #
(~~# $
)~~$ %
;~~% &
cnn 
. 
Close !
(! "
)" #
;# $
cnn
ÄÄ 
.
ÄÄ 
Dispose
ÄÄ #
(
ÄÄ# $
)
ÄÄ$ %
;
ÄÄ% &
}
ÅÅ 
}
ÇÇ 
}
ÉÉ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ 
ex
ÑÑ 
)
ÑÑ  
{
ÖÖ 
throw
ÜÜ 
new
ÜÜ 
	Exception
ÜÜ #
(
ÜÜ# $
ex
ÜÜ$ &
.
ÜÜ& '
Message
ÜÜ' .
)
ÜÜ. /
;
ÜÜ/ 0
}
áá 
}
àà 	
public
ää 
bool
ää 8
*Sp_RcePahDocumentoAdmisionCab_UpdatexCampo
ää >
(
ää> ?)
RcePahDocumentoAdmisionCabE
ää? Z*
pRcePahDocumentoAdmisionCabE
ää[ w
)
ääw x
{
ãã 	
try
åå 
{
çç 
using
éé 
(
éé 
SqlConnection
éé $
cnn
éé% (
=
éé) *
new
éé+ .
SqlConnection
éé/ <
(
éé< =
VariablesGlobales
éé= N
.
ééN O

CnnClinica
ééO Y
)
ééY Z
)
ééZ [
{
èè 
using
êê 
(
êê 

SqlCommand
êê %
cmd
êê& )
=
êê* +
new
êê, /

SqlCommand
êê0 :
(
êê: ;
$str
êê; g
,
êêg h
cnn
êêi l
)
êêl m
)
êêm n
{
ëë 
cmd
íí 
.
íí 
CommandType
íí '
=
íí( )
CommandType
íí* 5
.
íí5 6
StoredProcedure
íí6 E
;
ííE F
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 Q
,
îîQ R*
pRcePahDocumentoAdmisionCabE
îîS o
.
îîo p&
IdeDocumentoAdmisionCabîîp á
)îîá à
;îîà â
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 B
,
ïïB C*
pRcePahDocumentoAdmisionCabE
ïïD `
.
ïï` a

NuevoValor
ïïa k
)
ïïk l
;
ïïl m
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 <
,
ññ< =*
pRcePahDocumentoAdmisionCabE
ññ> Z
.
ññZ [
Campo
ññ[ `
)
ññ` a
;
ñña b
cnn
óó 
.
óó 
Open
óó  
(
óó  !
)
óó! "
;
óó" #
if
òò 
(
òò 
cmd
òò 
.
òò  
ExecuteNonQuery
òò  /
(
òò/ 0
)
òò0 1
>=
òò2 4
$num
òò5 6
)
òò6 7
return
ôô "
true
ôô# '
;
ôô' (
else
öö 
return
õõ "
false
õõ# (
;
õõ( )
cmd
úú 
.
úú 
Dispose
úú #
(
úú# $
)
úú$ %
;
úú% &
cnn
ùù 
.
ùù 
Close
ùù !
(
ùù! "
)
ùù" #
;
ùù# $
cnn
ûû 
.
ûû 
Dispose
ûû #
(
ûû# $
)
ûû$ %
;
ûû% &
}
üü 
}
†† 
}
°° 
catch
¢¢ 
(
¢¢ 
	Exception
¢¢ 
ex
¢¢ 
)
¢¢  
{
££ 
throw
§§ 
new
§§ 
	Exception
§§ #
(
§§# $
ex
§§$ &
.
§§& '
Message
§§' .
)
§§. /
;
§§/ 0
}
•• 
}
¶¶ 	
public
®® 
bool
®® 2
$Sp_RcePahDocumentoAdmisionCab_Delete
®® 8
(
®®8 9)
RcePahDocumentoAdmisionCabE
®®9 T*
pRcePahDocumentoAdmisionCabE
®®U q
)
®®q r
{
©© 	
try
™™ 
{
´´ 
using
¨¨ 
(
¨¨ 
SqlConnection
¨¨ $
cnn
¨¨% (
=
¨¨) *
new
¨¨+ .
SqlConnection
¨¨/ <
(
¨¨< =
VariablesGlobales
¨¨= N
.
¨¨N O

CnnClinica
¨¨O Y
)
¨¨Y Z
)
¨¨Z [
{
≠≠ 
using
ÆÆ 
(
ÆÆ 

SqlCommand
ÆÆ %
cmd
ÆÆ& )
=
ÆÆ* +
new
ÆÆ, /

SqlCommand
ÆÆ0 :
(
ÆÆ: ;
$str
ÆÆ; a
,
ÆÆa b
cnn
ÆÆc f
)
ÆÆf g
)
ÆÆg h
{
ØØ 
cmd
∞∞ 
.
∞∞ 
CommandType
∞∞ '
=
∞∞( )
CommandType
∞∞* 5
.
∞∞5 6
StoredProcedure
∞∞6 E
;
∞∞E F
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ &
.
≤≤& '
AddWithValue
≤≤' 3
(
≤≤3 4
$str
≤≤4 C
,
≤≤C D*
pRcePahDocumentoAdmisionCabE
≤≤E a
.
≤≤a b
CodAtencion
≤≤b m
)
≤≤m n
;
≤≤n o
cnn
≥≥ 
.
≥≥ 
Open
≥≥  
(
≥≥  !
)
≥≥! "
;
≥≥" #
if
¥¥ 
(
¥¥ 
cmd
¥¥ 
.
¥¥  
ExecuteNonQuery
¥¥  /
(
¥¥/ 0
)
¥¥0 1
>=
¥¥2 4
$num
¥¥5 6
)
¥¥6 7
return
µµ "
true
µµ# '
;
µµ' (
else
∂∂ 
return
∑∑ "
false
∑∑# (
;
∑∑( )
cmd
∏∏ 
.
∏∏ 
Dispose
∏∏ #
(
∏∏# $
)
∏∏$ %
;
∏∏% &
cnn
ππ 
.
ππ 
Close
ππ !
(
ππ! "
)
ππ" #
;
ππ# $
cnn
∫∫ 
.
∫∫ 
Dispose
∫∫ #
(
∫∫# $
)
∫∫$ %
;
∫∫% &
}
ªª 
}
ºº 
}
ΩΩ 
catch
ææ 
(
ææ 
	Exception
ææ 
ex
ææ 
)
ææ  
{
øø 
throw
¿¿ 
new
¿¿ 
	Exception
¿¿ #
(
¿¿# $
ex
¿¿$ &
.
¿¿& '
Message
¿¿' .
)
¿¿. /
;
¿¿/ 0
}
¡¡ 
}
¬¬ 	
}
√√ 
}ƒƒ ö¿
cD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RcePahCorreosEnviadosAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class #
RcePahCorreosEnviadosAD (
{ 
private "
RcePahCorreosEnviadosE &
LlenarEntidad' 4
(4 5
IDataReader5 @
drA C
,C D"
RcePahCorreosEnviadosEE [#
pRcePahCorreosEnviadosE\ s
)s t
{ 	"
RcePahCorreosEnviadosE "#
oRcePahCorreosEnviadosE# :
=; <
new= @"
RcePahCorreosEnviadosEA W
(W X
)X Y
;Y Z
switch 
( #
pRcePahCorreosEnviadosE +
.+ ,
Orden, 1
)1 2
{ 
case 
$num 
: 
{ #
oRcePahCorreosEnviadosE /
./ 0
CodAtencion0 ;
=< =
(> ?
string? E
)E F
drG I
[I J
$strJ X
]X Y
;Y Z#
oRcePahCorreosEnviadosE /
./ 0
DscEmail0 8
=9 :
(; <
string< B
)B C
drD F
[F G
$strG R
]R S
;S T#
oRcePahCorreosEnviadosE /
./ 0
DscTelefono0 ;
=< =
(> ?
string? E
)E F
drG I
[I J
$strJ X
]X Y
;Y Z#
oRcePahCorreosEnviadosE /
./ 0
UsrEnvio0 8
=9 :
(; <
int< ?
)? @
drA C
[C D
$strD O
]O P
;P Q#
oRcePahCorreosEnviadosE /
./ 0
FecEnvio0 8
=9 :
(; <
DateTime< D
)D E
drF H
[H I
$strI T
]T U
;U V#
oRcePahCorreosEnviadosE /
./ 0
IdeCorreoEnviado0 @
=A B
(C D
intD G
)G H
drI K
[K L
$strL `
]` a
;a b
break 
; 
} 
} 
return #
oRcePahCorreosEnviadosE *
;* +
} 	
public!! 
List!! 
<!! "
RcePahCorreosEnviadosE!! *
>!!* +-
!Sp_RcePahCorreosEnviados_Consulta!!, M
(!!M N"
RcePahCorreosEnviadosE!!N d#
pRcePahCorreosEnviadosE!!e |
)!!| }
{"" 	
IDataReader## 
dr## 
;## "
RcePahCorreosEnviadosE$$ "#
oRcePahCorreosEnviadosE$$# :
=$$; <
null$$= A
;
$$Ä Å
List%% 
<%% "
RcePahCorreosEnviadosE%% '
>%%' (
oListar%%) 0
=%%1 2
new%%3 6
List%%7 ;
<%%; <"
RcePahCorreosEnviadosE%%< R
>%%R S
(%%S T
)%%T U
;%%U V
try&& 
{'' 
using(( 
((( 
SqlConnection(( $
cnn((% (
=(() *
new((+ .
SqlConnection((/ <
(((< =
VariablesGlobales((= N
.((N O

CnnClinica((O Y
)((Y Z
)((Z [
{)) 
using** 
(** 

SqlCommand** %
cmd**& )
=*** +
new**, /

SqlCommand**0 :
(**: ;
$str**; ^
,**^ _
cnn**` c
)**c d
)**d e
{++ 
cmd,, 
.,, 
CommandType,, '
=,,( )
CommandType,,* 5
.,,5 6
StoredProcedure,,6 E
;,,E F
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 I
,..I J#
pRcePahCorreosEnviadosE..K b
...b c
IdeCorreoEnviado..c s
)..s t
;..t u
cmd// 
.// 

Parameters// &
.//& '
AddWithValue//' 3
(//3 4
$str//4 <
,//< =#
pRcePahCorreosEnviadosE//> U
.//U V
Orden//V [
)//[ \
;//\ ]
cnn00 
.00 
Open00  
(00  !
)00! "
;00" #
dr11 
=11 
cmd11  
.11  !
ExecuteReader11! .
(11. /
)11/ 0
;110 1
while22 
(22 
dr22 !
.22! "
Read22" &
(22& '
)22' (
)22( )
{33 #
oRcePahCorreosEnviadosE44 3
=444 5
LlenarEntidad446 C
(44C D
dr44D F
,44F G#
pRcePahCorreosEnviadosE44H _
)44_ `
;44` a
oListar55 #
.55# $
Add55$ '
(55' (#
oRcePahCorreosEnviadosE55( ?
)55? @
;55@ A
}66 
dr77 
.77 
Close77  
(77  !
)77! "
;77" #
dr88 
.88 
Dispose88 "
(88" #
)88# $
;88$ %
cmd99 
.99 
Dispose99 #
(99# $
)99$ %
;99% &
cnn:: 
.:: 
Close:: !
(::! "
)::" #
;::# $
cnn;; 
.;; 
Dispose;; #
(;;# $
);;$ %
;;;% &
return== 
oListar== &
;==& '
}>> 
}?? 
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
throwCC 
newCC 
	ExceptionCC #
(CC# $
exCC$ &
.CC& '
MessageCC' .
)CC. /
;CC/ 0
}DD 
}EE 	
publicGG 
boolGG +
Sp_RcePahCorreosEnviados_InsertGG 3
(GG3 4"
RcePahCorreosEnviadosEGG4 J#
pRcePahCorreosEnviadosEGGK b
)GGb c
{HH 	
tryII 
{JJ 
usingKK 
(KK 
SqlConnectionKK $
cnnKK% (
=KK) *
newKK+ .
SqlConnectionKK/ <
(KK< =
VariablesGlobalesKK= N
.KKN O

CnnClinicaKKO Y
)KKY Z
)KKZ [
{LL 
usingMM 
(MM 

SqlCommandMM %
cmdMM& )
=MM* +
newMM, /

SqlCommandMM0 :
(MM: ;
$strMM; \
,MM\ ]
cnnMM^ a
)MMa b
)MMb c
{NN 
cmdOO 
.OO 
CommandTypeOO '
=OO( )
CommandTypeOO* 5
.OO5 6
StoredProcedureOO6 E
;OOE F
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddWithValueQQ' 3
(QQ3 4
$strQQ4 C
,QQC D#
pRcePahCorreosEnviadosEQQE \
.QQ\ ]
CodAtencionQQ] h
)QQh i
;QQi j
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 @
,RR@ A#
pRcePahCorreosEnviadosERRB Y
.RRY Z
UsrEnvioRRZ b
)RRb c
;RRc d
cmdSS 
.SS 

ParametersSS &
.SS& '
AddWithValueSS' 3
(SS3 4
$strSS4 ?
,SS? @#
pRcePahCorreosEnviadosESSA X
.SSX Y
DscEmailSSY a
)SSa b
;SSb c
cmdTT 
.TT 

ParametersTT &
.TT& '
AddWithValueTT' 3
(TT3 4
$strTT4 C
,TTC D#
pRcePahCorreosEnviadosETTE \
.TT\ ]
DscTelefonoTT] h
)TTh i
;TTi j
cmdUU 
.UU 

ParametersUU &
.UU& '
AddUU' *
(UU* +
VariablesGlobalesUU+ <
.UU< =
ParametroSqlUU= I
(UUI J
$strUUJ _
,UU_ `
ParameterDirectionUUa s
.UUs t
InputOutputUUt 
,	UU Ä
	SqlDbType
UUÅ ä
.
UUä ã
Int
UUã é
,
UUé è
$num
UUê ë
,
UUë í%
pRcePahCorreosEnviadosE
UUì ™
.
UU™ ´
IdeCorreoEnviado
UU´ ª
.
UUª º
ToString
UUº ƒ
(
UUƒ ≈
)
UU≈ ∆
)
UU∆ «
)
UU« »
;
UU» …
cmdVV 
.VV 

ParametersVV &
.VV& '
AddVV' *
(VV* +
VariablesGlobalesVV+ <
.VV< =
ParametroSqlVV= I
(VVI J
$strVVJ X
,VVX Y
ParameterDirectionVVZ l
.VVl m
InputOutputVVm x
,VVx y
	SqlDbType	VVz É
.
VVÉ Ñ
Int
VVÑ á
,
VVá à
$num
VVâ ä
,
VVä ã%
pRcePahCorreosEnviadosE
VVå £
.
VV£ §

MailItemId
VV§ Æ
.
VVÆ Ø
ToString
VVØ ∑
(
VV∑ ∏
)
VV∏ π
)
VVπ ∫
)
VV∫ ª
;
VVª º
cnnWW 
.WW 
OpenWW  
(WW  !
)WW! "
;WW" #
cmdXX 
.XX 
ExecuteNonQueryXX +
(XX+ ,
)XX, -
;XX- .#
pRcePahCorreosEnviadosEYY /
.YY/ 0
IdeCorreoEnviadoYY0 @
=YYA B
(YYC D
intYYD G
)YYG H
cmdYYH K
.YYK L

ParametersYYL V
[YYV W
$strYYW l
]YYl m
.YYm n
ValueYYn s
;YYs t#
pRcePahCorreosEnviadosEZZ /
.ZZ/ 0

MailItemIdZZ0 :
=ZZ; <
(ZZ= >
intZZ> A
)ZZA B
cmdZZB E
.ZZE F

ParametersZZF P
[ZZP Q
$strZZQ _
]ZZ_ `
.ZZ` a
ValueZZa f
;ZZf g
if\\ 
(\\ #
pRcePahCorreosEnviadosE\\ 3
.\\3 4

MailItemId\\4 >
>=\\? A
$num\\B C
)\\C D
return]] "
true]]# '
;]]' (
else^^ 
return__ "
false__# (
;__( )
cmd`` 
.`` 
Dispose`` #
(``# $
)``$ %
;``% &
cnnaa 
.aa 
Closeaa !
(aa! "
)aa" #
;aa# $
cnnbb 
.bb 
Disposebb #
(bb# $
)bb$ %
;bb% &
}cc 
}dd 
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 
throwhh 
newhh 
	Exceptionhh #
(hh# $
exhh$ &
.hh& '
Messagehh' .
)hh. /
;hh/ 0
}ii 
}jj 	
publicll 
boolll +
Sp_RcePahCorreosEnviados_Updatell 3
(ll3 4"
RcePahCorreosEnviadosEll4 J#
pRcePahCorreosEnviadosEllK b
)llb c
{mm 	
trynn 
{oo 
usingpp 
(pp 
SqlConnectionpp $
cnnpp% (
=pp) *
newpp+ .
SqlConnectionpp/ <
(pp< =
VariablesGlobalespp= N
.ppN O

CnnClinicappO Y
)ppY Z
)ppZ [
{qq 
usingrr 
(rr 

SqlCommandrr %
cmdrr& )
=rr* +
newrr, /

SqlCommandrr0 :
(rr: ;
$strrr; \
,rr\ ]
cnnrr^ a
)rra b
)rrb c
{ss 
cmdtt 
.tt 
CommandTypett '
=tt( )
CommandTypett* 5
.tt5 6
StoredProcedurett6 E
;ttE F
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 C
,vvC D#
pRcePahCorreosEnviadosEvvE \
.vv\ ]
CodAtencionvv] h
)vvh i
;vvi j
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 @
,ww@ A#
pRcePahCorreosEnviadosEwwB Y
.wwY Z
DscEmailwwZ b
)wwb c
;wwc d
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 C
,xxC D#
pRcePahCorreosEnviadosExxE \
.xx\ ]
DscTelefonoxx] h
)xxh i
;xxi j
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 @
,yy@ A#
pRcePahCorreosEnviadosEyyB Y
.yyY Z
UsrEnvioyyZ b
)yyb c
;yyc d
cmdzz 
.zz 

Parameterszz &
.zz& '
AddWithValuezz' 3
(zz3 4
$strzz4 @
,zz@ A#
pRcePahCorreosEnviadosEzzB Y
.zzY Z
FecEnviozzZ b
)zzb c
;zzc d
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 I
,{{I J#
pRcePahCorreosEnviadosE{{K b
.{{b c
IdeCorreoEnviado{{c s
){{s t
;{{t u
cnn|| 
.|| 
Open||  
(||  !
)||! "
;||" #
if}} 
(}} 
cmd}} 
.}}  
ExecuteNonQuery}}  /
(}}/ 0
)}}0 1
>=}}2 4
$num}}5 6
)}}6 7
return~~ "
true~~# '
;~~' (
else 
return
ÄÄ "
false
ÄÄ# (
;
ÄÄ( )
cmd
ÅÅ 
.
ÅÅ 
Dispose
ÅÅ #
(
ÅÅ# $
)
ÅÅ$ %
;
ÅÅ% &
cnn
ÇÇ 
.
ÇÇ 
Close
ÇÇ !
(
ÇÇ! "
)
ÇÇ" #
;
ÇÇ# $
cnn
ÉÉ 
.
ÉÉ 
Dispose
ÉÉ #
(
ÉÉ# $
)
ÉÉ$ %
;
ÉÉ% &
}
ÑÑ 
}
ÖÖ 
}
ÜÜ 
catch
áá 
(
áá 
	Exception
áá 
ex
áá 
)
áá  
{
àà 
throw
ââ 
new
ââ 
	Exception
ââ #
(
ââ# $
ex
ââ$ &
.
ââ& '
Message
ââ' .
)
ââ. /
;
ââ/ 0
}
ää 
}
ãã 	
public
çç 
bool
çç 3
%Sp_RcePahCorreosEnviados_UpdatexCampo
çç 9
(
çç9 :$
RcePahCorreosEnviadosE
çç: P%
pRcePahCorreosEnviadosE
ççQ h
)
ççh i
{
éé 	
try
èè 
{
êê 
using
ëë 
(
ëë 
SqlConnection
ëë $
cnn
ëë% (
=
ëë) *
new
ëë+ .
SqlConnection
ëë/ <
(
ëë< =
VariablesGlobales
ëë= N
.
ëëN O

CnnClinica
ëëO Y
)
ëëY Z
)
ëëZ [
{
íí 
using
ìì 
(
ìì 

SqlCommand
ìì %
cmd
ìì& )
=
ìì* +
new
ìì, /

SqlCommand
ìì0 :
(
ìì: ;
$str
ìì; b
,
ììb c
cnn
ììd g
)
ììg h
)
ììh i
{
îî 
cmd
ïï 
.
ïï 
CommandType
ïï '
=
ïï( )
CommandType
ïï* 5
.
ïï5 6
StoredProcedure
ïï6 E
;
ïïE F
cmd
óó 
.
óó 

Parameters
óó &
.
óó& '
AddWithValue
óó' 3
(
óó3 4
$str
óó4 I
,
óóI J%
pRcePahCorreosEnviadosE
óóK b
.
óób c
IdeCorreoEnviado
óóc s
)
óós t
;
óót u
cmd
òò 
.
òò 

Parameters
òò &
.
òò& '
AddWithValue
òò' 3
(
òò3 4
$str
òò4 B
,
òòB C%
pRcePahCorreosEnviadosE
òòD [
.
òò[ \

NuevoValor
òò\ f
)
òòf g
;
òòg h
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 <
,
ôô< =%
pRcePahCorreosEnviadosE
ôô> U
.
ôôU V
Campo
ôôV [
)
ôô[ \
;
ôô\ ]
cnn
öö 
.
öö 
Open
öö  
(
öö  !
)
öö! "
;
öö" #
if
õõ 
(
õõ 
cmd
õõ 
.
õõ  
ExecuteNonQuery
õõ  /
(
õõ/ 0
)
õõ0 1
>=
õõ2 4
$num
õõ5 6
)
õõ6 7
return
úú "
true
úú# '
;
úú' (
else
ùù 
return
ûû "
false
ûû# (
;
ûû( )
cmd
üü 
.
üü 
Dispose
üü #
(
üü# $
)
üü$ %
;
üü% &
cnn
†† 
.
†† 
Close
†† !
(
††! "
)
††" #
;
††# $
cnn
°° 
.
°° 
Dispose
°° #
(
°°# $
)
°°$ %
;
°°% &
}
¢¢ 
}
££ 
}
§§ 
catch
•• 
(
•• 
	Exception
•• 
ex
•• 
)
••  
{
¶¶ 
throw
ßß 
new
ßß 
	Exception
ßß #
(
ßß# $
ex
ßß$ &
.
ßß& '
Message
ßß' .
)
ßß. /
;
ßß/ 0
}
®® 
}
©© 	
public
´´ 
bool
´´ -
Sp_RcePahCorreosEnviados_Delete
´´ 3
(
´´3 4$
RcePahCorreosEnviadosE
´´4 J%
pRcePahCorreosEnviadosE
´´K b
)
´´b c
{
¨¨ 	
try
≠≠ 
{
ÆÆ 
using
ØØ 
(
ØØ 
SqlConnection
ØØ $
cnn
ØØ% (
=
ØØ) *
new
ØØ+ .
SqlConnection
ØØ/ <
(
ØØ< =
VariablesGlobales
ØØ= N
.
ØØN O

CnnClinica
ØØO Y
)
ØØY Z
)
ØØZ [
{
∞∞ 
using
±± 
(
±± 

SqlCommand
±± %
cmd
±±& )
=
±±* +
new
±±, /

SqlCommand
±±0 :
(
±±: ;
$str
±±; \
,
±±\ ]
cnn
±±^ a
)
±±a b
)
±±b c
{
≤≤ 
cmd
≥≥ 
.
≥≥ 
CommandType
≥≥ '
=
≥≥( )
CommandType
≥≥* 5
.
≥≥5 6
StoredProcedure
≥≥6 E
;
≥≥E F
cmd
µµ 
.
µµ 

Parameters
µµ &
.
µµ& '
AddWithValue
µµ' 3
(
µµ3 4
$str
µµ4 I
,
µµI J%
pRcePahCorreosEnviadosE
µµK b
.
µµb c
IdeCorreoEnviado
µµc s
)
µµs t
;
µµt u
cnn
∂∂ 
.
∂∂ 
Open
∂∂  
(
∂∂  !
)
∂∂! "
;
∂∂" #
if
∑∑ 
(
∑∑ 
cmd
∑∑ 
.
∑∑  
ExecuteNonQuery
∑∑  /
(
∑∑/ 0
)
∑∑0 1
>=
∑∑2 4
$num
∑∑5 6
)
∑∑6 7
return
∏∏ "
true
∏∏# '
;
∏∏' (
else
ππ 
return
∫∫ "
false
∫∫# (
;
∫∫( )
cmd
ªª 
.
ªª 
Dispose
ªª #
(
ªª# $
)
ªª$ %
;
ªª% &
cnn
ºº 
.
ºº 
Close
ºº !
(
ºº! "
)
ºº" #
;
ºº# $
cnn
ΩΩ 
.
ΩΩ 
Dispose
ΩΩ #
(
ΩΩ# $
)
ΩΩ$ %
;
ΩΩ% &
}
ææ 
}
øø 
}
¿¿ 
catch
¡¡ 
(
¡¡ 
	Exception
¡¡ 
ex
¡¡ 
)
¡¡  
{
¬¬ 
throw
√√ 
new
√√ 
	Exception
√√ #
(
√√# $
ex
√√$ &
.
√√& '
Message
√√' .
)
√√. /
;
√√/ 0
}
ƒƒ 
}
≈≈ 	
public
«« 
bool
«« '
Sp_RcePahCorreosGenerales
«« -
(
««- .$
RcePahCorreosEnviadosE
««. D%
pRcePahCorreosEnviadosE
««E \
)
««\ ]
{
»» 	
try
…… 
{
   
using
ÀÀ 
(
ÀÀ 
SqlConnection
ÀÀ $
cnn
ÀÀ% (
=
ÀÀ) *
new
ÀÀ+ .
SqlConnection
ÀÀ/ <
(
ÀÀ< =
VariablesGlobales
ÀÀ= N
.
ÀÀN O

CnnClinica
ÀÀO Y
)
ÀÀY Z
)
ÀÀZ [
{
ÃÃ 
using
ÕÕ 
(
ÕÕ 

SqlCommand
ÕÕ %
cmd
ÕÕ& )
=
ÕÕ* +
new
ÕÕ, /

SqlCommand
ÕÕ0 :
(
ÕÕ: ;
$str
ÕÕ; V
,
ÕÕV W
cnn
ÕÕX [
)
ÕÕ[ \
)
ÕÕ\ ]
{
ŒŒ 
cmd
œœ 
.
œœ 
CommandType
œœ '
=
œœ( )
CommandType
œœ* 5
.
œœ5 6
StoredProcedure
œœ6 E
;
œœE F
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 <
,
——< =%
pRcePahCorreosEnviadosE
——> U
.
——U V
Orden
——V [
)
——[ \
;
——\ ]
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 B
,
““B C%
pRcePahCorreosEnviadosE
““D [
.
““[ \
CodAtencion
““\ g
)
““g h
;
““h i
cmd
”” 
.
”” 

Parameters
”” &
.
””& '
AddWithValue
””' 3
(
””3 4
$str
””4 B
,
””B C
$str
””D F
)
””F G
;
””G H
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ &
.
‘‘& '
AddWithValue
‘‘' 3
(
‘‘3 4
$str
‘‘4 =
,
‘‘= >
$str
‘‘? A
)
‘‘A B
;
‘‘B C
cmd
’’ 
.
’’ 

Parameters
’’ &
.
’’& '
AddWithValue
’’' 3
(
’’3 4
$str
’’4 B
,
’’B C%
pRcePahCorreosEnviadosE
’’D [
.
’’[ \

IdePrimary
’’\ f
)
’’f g
;
’’g h
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
Add
÷÷' *
(
÷÷* +
VariablesGlobales
÷÷+ <
.
÷÷< =
ParametroSql
÷÷= I
(
÷÷I J
$str
÷÷J X
,
÷÷X Y 
ParameterDirection
÷÷Z l
.
÷÷l m
InputOutput
÷÷m x
,
÷÷x y
	SqlDbType÷÷z É
.÷÷É Ñ
Int÷÷Ñ á
,÷÷á à
$num÷÷â ä
,÷÷ä ã'
pRcePahCorreosEnviadosE÷÷å £
.÷÷£ §

MailItemId÷÷§ Æ
)÷÷Æ Ø
)÷÷Ø ∞
;÷÷∞ ±
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ &
.
◊◊& '
AddWithValue
◊◊' 3
(
◊◊3 4
$str
◊◊4 K
,
◊◊K L%
pRcePahCorreosEnviadosE
◊◊M d
.
◊◊d e 
RutaArchivoAdjunto
◊◊e w
)
◊◊w x
;
◊◊x y
cnn
ŸŸ 
.
ŸŸ 
Open
ŸŸ  
(
ŸŸ  !
)
ŸŸ! "
;
ŸŸ" #
cmd
⁄⁄ 
.
⁄⁄ 
ExecuteNonQuery
⁄⁄ +
(
⁄⁄+ ,
)
⁄⁄, -
;
⁄⁄- .
if
€€ 
(
€€ 
(
€€ 
int
€€  
)
€€  !
cmd
€€! $
.
€€$ %

Parameters
€€% /
[
€€/ 0
$str
€€0 >
]
€€> ?
.
€€? @
Value
€€@ E
!=
€€F H
$num
€€I J
)
€€J K
{
‹‹ %
pRcePahCorreosEnviadosE
›› 3
.
››3 4

MailItemId
››4 >
=
››? @
(
››A B
int
››B E
)
››E F
cmd
››F I
.
››I J

Parameters
››J T
[
››T U
$str
››U c
]
››c d
.
››d e
Value
››e j
;
››j k
return
ﬁﬁ "
true
ﬁﬁ# '
;
ﬁﬁ' (
}
ﬂﬂ 
else
‡‡ 
return
·· "
false
··# (
;
··( )
cmd
ÈÈ 
.
ÈÈ 
Dispose
ÈÈ #
(
ÈÈ# $
)
ÈÈ$ %
;
ÈÈ% &
cnn
ÍÍ 
.
ÍÍ 
Close
ÍÍ !
(
ÍÍ! "
)
ÍÍ" #
;
ÍÍ# $
cnn
ÎÎ 
.
ÎÎ 
Dispose
ÎÎ #
(
ÎÎ# $
)
ÎÎ$ %
;
ÎÎ% &
}
ÏÏ 
}
ÌÌ 
}
ÓÓ 
catch
ÔÔ 
(
ÔÔ 
	Exception
ÔÔ 
ex
ÔÔ 
)
ÔÔ  
{
 
throw
ÒÒ 
new
ÒÒ 
	Exception
ÒÒ #
(
ÒÒ# $
ex
ÒÒ$ &
.
ÒÒ& '
Message
ÒÒ' .
)
ÒÒ. /
;
ÒÒ/ 0
}
ÚÚ 
}
ÛÛ 	
}
ÙÙ 
}ıı  ∞
nD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RcePahAutorizacionPrefacturasDetAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class .
"RcePahAutorizacionPrefacturasDetAD 3
{ 
private -
!RcePahAutorizacionPrefacturasDetE 1
LlenarEntidad2 ?
(? @
IDataReader@ K
drL N
,N O-
!RcePahAutorizacionPrefacturasDetEP q/
"pRcePahAutorizacionPrefacturasDetE	r î
)
î ï
{ 	-
!RcePahAutorizacionPrefacturasDetE -.
"oRcePahAutorizacionPrefacturasDetE. P
=Q R
newS V-
!RcePahAutorizacionPrefacturasDetEW x
(x y
)y z
;z {
switch 
( .
"pRcePahAutorizacionPrefacturasDetE 6
.6 7
Orden7 <
)< =
{ 
case 
$num 
: 
{ .
"oRcePahAutorizacionPrefacturasDetE :
.: ;)
IdeAutorizacionPrefacturasCab; X
=Y Z
([ \
int\ _
)_ `
dra c
[c d
$str	d Ü
]
Ü á
;
á à.
"oRcePahAutorizacionPrefacturasDetE :
.: ;
DscApellidos; G
=H I
(J K
stringK Q
)Q R
drS U
[U V
$strV e
]e f
;f g.
"oRcePahAutorizacionPrefacturasDetE :
.: ;

DscNombres; E
=F G
(H I
stringI O
)O P
drQ S
[S T
$strT a
]a b
;b c.
"oRcePahAutorizacionPrefacturasDetE :
.: ;
NroDni; A
=B C
(D E
stringE K
)K L
drM O
[O P
$strP Y
]Y Z
;Z [.
"oRcePahAutorizacionPrefacturasDetE :
.: ;

DscCorreos; E
=F G
(H I
stringI O
)O P
drQ S
[S T
$strT a
]a b
;b c.
"oRcePahAutorizacionPrefacturasDetE :
.: ;
DscRespEnvio; G
=H I
(J K
stringK Q
)Q R
drS U
[U V
$strV f
]f g
;g h.
"oRcePahAutorizacionPrefacturasDetE :
.: ;
	FlgEstado; D
=E F
(G H
stringH N
)N O
drP R
[R S
$strS _
]_ `
;` a.
"oRcePahAutorizacionPrefacturasDetE :
.: ;
FecRegistro; F
=G H
(I J
DateTimeJ R
)R S
drT V
[V W
$strW e
]e f
;f g.
"oRcePahAutorizacionPrefacturasDetE :
.: ;)
IdeAutorizacionPrefacturasDet; X
=Y Z
([ \
int\ _
)_ `
dra c
[c d
$str	d Ü
]
Ü á
;
á à
break 
; 
} 
}   
return!! .
"oRcePahAutorizacionPrefacturasDetE!! 5
;!!5 6
}"" 	
public$$ 
List$$ 
<$$ -
!RcePahAutorizacionPrefacturasDetE$$ 5
>$$5 68
,Sp_RcePahAutorizacionPrefacturasDet_Consulta$$7 c
($$c d.
!RcePahAutorizacionPrefacturasDetE	$$d Ö0
"pRcePahAutorizacionPrefacturasDetE
$$Ü ®
)
$$® ©
{%% 	
IDataReader&& 
dr&& 
;&& -
!RcePahAutorizacionPrefacturasDetE'' -.
"oRcePahAutorizacionPrefacturasDetE''. P
=''Q R
null''S W
;
''ñ ó
List(( 
<(( -
!RcePahAutorizacionPrefacturasDetE(( 2
>((2 3
oListar((4 ;
=((< =
new((> A
List((B F
<((F G-
!RcePahAutorizacionPrefacturasDetE((G h
>((h i
(((i j
)((j k
;((k l
try)) 
{** 
using++ 
(++ 
SqlConnection++ $
cnn++% (
=++) *
new+++ .
SqlConnection++/ <
(++< =
VariablesGlobales++= N
.++N O

CnnClinica++O Y
)++Y Z
)++Z [
{,, 
using-- 
(-- 

SqlCommand-- %
cmd--& )
=--* +
new--, /

SqlCommand--0 :
(--: ;
$str--; i
,--i j
cnn--k n
)--n o
)--o p
{.. 
cmd// 
.// 
CommandType// '
=//( )
CommandType//* 5
.//5 6
StoredProcedure//6 E
;//E F
cmd11 
.11 

Parameters11 &
.11& '
AddWithValue11' 3
(113 4
$str114 W
,11W X.
"pRcePahAutorizacionPrefacturasDetE11Y {
.11{ |*
IdeAutorizacionPrefacturasDet	11| ô
)
11ô ö
;
11ö õ
cmd22 
.22 

Parameters22 &
.22& '
AddWithValue22' 3
(223 4
$str224 <
,22< =.
"pRcePahAutorizacionPrefacturasDetE22> `
.22` a
Orden22a f
)22f g
;22g h
cnn33 
.33 
Open33  
(33  !
)33! "
;33" #
dr44 
=44 
cmd44  
.44  !
ExecuteReader44! .
(44. /
)44/ 0
;440 1
while55 
(55 
dr55 !
.55! "
Read55" &
(55& '
)55' (
)55( )
{66 .
"oRcePahAutorizacionPrefacturasDetE77 >
=77? @
LlenarEntidad77A N
(77N O
dr77O Q
,77Q R.
"pRcePahAutorizacionPrefacturasDetE77S u
)77u v
;77v w
oListar88 #
.88# $
Add88$ '
(88' (.
"oRcePahAutorizacionPrefacturasDetE88( J
)88J K
;88K L
}99 
dr:: 
.:: 
Close::  
(::  !
)::! "
;::" #
dr;; 
.;; 
Dispose;; "
(;;" #
);;# $
;;;$ %
cmd<< 
.<< 
Dispose<< #
(<<# $
)<<$ %
;<<% &
cnn== 
.== 
Close== !
(==! "
)==" #
;==# $
cnn>> 
.>> 
Dispose>> #
(>># $
)>>$ %
;>>% &
return@@ 
oListar@@ &
;@@& '
}AA 
}BB 
}CC 
catchDD 
(DD 
	ExceptionDD 
exDD 
)DD  
{EE 
throwFF 
newFF 
	ExceptionFF #
(FF# $
exFF$ &
.FF& '
MessageFF' .
)FF. /
;FF/ 0
}GG 
}HH 	
publicJJ 
boolJJ 6
*Sp_RcePahAutorizacionPrefacturasDet_InsertJJ >
(JJ> ?-
!RcePahAutorizacionPrefacturasDetEJJ? `/
"pRcePahAutorizacionPrefacturasDetE	JJa É
)
JJÉ Ñ
{KK 	
tryLL 
{MM 
usingNN 
(NN 
SqlConnectionNN $
cnnNN% (
=NN) *
newNN+ .
SqlConnectionNN/ <
(NN< =
VariablesGlobalesNN= N
.NNN O

CnnClinicaNNO Y
)NNY Z
)NNZ [
{OO 
usingPP 
(PP 

SqlCommandPP %
cmdPP& )
=PP* +
newPP, /

SqlCommandPP0 :
(PP: ;
$strPP; g
,PPg h
cnnPPi l
)PPl m
)PPm n
{QQ 
cmdRR 
.RR 
CommandTypeRR '
=RR( )
CommandTypeRR* 5
.RR5 6
StoredProcedureRR6 E
;RRE F
cmdTT 
.TT 

ParametersTT &
.TT& '
AddWithValueTT' 3
(TT3 4
$strTT4 W
,TTW X.
"pRcePahAutorizacionPrefacturasDetETTY {
.TT{ |*
IdeAutorizacionPrefacturasCab	TT| ô
)
TTô ö
;
TTö õ
cmdUU 
.UU 

ParametersUU &
.UU& '
AddWithValueUU' 3
(UU3 4
$strUU4 D
,UUD E.
"pRcePahAutorizacionPrefacturasDetEUUF h
.UUh i
DscApellidosUUi u
)UUu v
;UUv w
cmdVV 
.VV 

ParametersVV &
.VV& '
AddWithValueVV' 3
(VV3 4
$strVV4 B
,VVB C.
"pRcePahAutorizacionPrefacturasDetEVVD f
.VVf g

DscNombresVVg q
)VVq r
;VVr s
cmdWW 
.WW 

ParametersWW &
.WW& '
AddWithValueWW' 3
(WW3 4
$strWW4 >
,WW> ?.
"pRcePahAutorizacionPrefacturasDetEWW@ b
.WWb c
NroDniWWc i
)WWi j
;WWj k
cmdXX 
.XX 

ParametersXX &
.XX& '
AddWithValueXX' 3
(XX3 4
$strXX4 B
,XXB C.
"pRcePahAutorizacionPrefacturasDetEXXD f
.XXf g

DscCorreosXXg q
)XXq r
;XXr s
cmdYY 
.YY 

ParametersYY &
.YY& '
AddWithValueYY' 3
(YY3 4
$strYY4 E
,YYE F.
"pRcePahAutorizacionPrefacturasDetEYYG i
.YYi j
DscRespEnvioYYj v
)YYv w
;YYw x
cmdZZ 
.ZZ 

ParametersZZ &
.ZZ& '
AddWithValueZZ' 3
(ZZ3 4
$strZZ4 A
,ZZA B.
"pRcePahAutorizacionPrefacturasDetEZZC e
.ZZe f
	FlgEstadoZZf o
)ZZo p
;ZZp q
cmd[[ 
.[[ 

Parameters[[ &
.[[& '
AddWithValue[[' 3
([[3 4
$str[[4 E
,[[E F.
"pRcePahAutorizacionPrefacturasDetE[[G i
.[[i j

Parentesco[[j t
)[[t u
;[[u v
cmd\\ 
.\\ 

Parameters\\ &
.\\& '
AddWithValue\\' 3
(\\3 4
$str\\4 C
,\\C D.
"pRcePahAutorizacionPrefacturasDetE\\E g
.\\g h
Telefono\\h p
)\\p q
;\\q r
cmd^^ 
.^^ 

Parameters^^ &
.^^& '
Add^^' *
(^^* +
VariablesGlobales^^+ <
.^^< =
ParametroSql^^= I
(^^I J
$str^^J m
,^^m n
ParameterDirection	^^o Å
.
^^Å Ç
InputOutput
^^Ç ç
,
^^ç é
	SqlDbType
^^è ò
.
^^ò ô
Int
^^ô ú
,
^^ú ù
$num
^^û ü
,
^^ü †0
"pRcePahAutorizacionPrefacturasDetE
^^° √
.
^^√ ƒ+
IdeAutorizacionPrefacturasDet
^^ƒ ·
.
^^· ‚
ToString
^^‚ Í
(
^^Í Î
)
^^Î Ï
)
^^Ï Ì
)
^^Ì Ó
;
^^Ó Ô
cnn__ 
.__ 
Open__  
(__  !
)__! "
;__" #
if`` 
(`` 
cmd`` 
.``  
ExecuteNonQuery``  /
(``/ 0
)``0 1
>=``2 4
$num``5 6
)``6 7
{aa .
"pRcePahAutorizacionPrefacturasDetEbb >
.bb> ?)
IdeAutorizacionPrefacturasDetbb? \
=bb] ^
(bb_ `
intbb` c
)bbc d
cmdbbd g
.bbg h

Parametersbbh r
[bbr s
$str	bbs ñ
]
bbñ ó
.
bbó ò
Value
bbò ù
;
bbù û
returncc "
truecc# '
;cc' (
}dd 
elseee 
returnff "
falseff# (
;ff( )
cmdgg 
.gg 
Disposegg #
(gg# $
)gg$ %
;gg% &
cnnhh 
.hh 
Closehh !
(hh! "
)hh" #
;hh# $
cnnii 
.ii 
Disposeii #
(ii# $
)ii$ %
;ii% &
}jj 
}kk 
}ll 
catchmm 
(mm 
	Exceptionmm 
exmm 
)mm  
{nn 
throwoo 
newoo 
	Exceptionoo #
(oo# $
exoo$ &
.oo& '
Messageoo' .
)oo. /
;oo/ 0
}pp 
}qq 	
publicss 
boolss 6
*Sp_RcePahAutorizacionPrefacturasDet_Updatess >
(ss> ?-
!RcePahAutorizacionPrefacturasDetEss? `/
"pRcePahAutorizacionPrefacturasDetE	ssa É
)
ssÉ Ñ
{tt 	
tryuu 
{vv 
usingww 
(ww 
SqlConnectionww $
cnnww% (
=ww) *
newww+ .
SqlConnectionww/ <
(ww< =
VariablesGlobalesww= N
.wwN O

CnnClinicawwO Y
)wwY Z
)wwZ [
{xx 
usingyy 
(yy 

SqlCommandyy %
cmdyy& )
=yy* +
newyy, /

SqlCommandyy0 :
(yy: ;
$stryy; g
,yyg h
cnnyyi l
)yyl m
)yym n
{zz 
cmd{{ 
.{{ 
CommandType{{ '
={{( )
CommandType{{* 5
.{{5 6
StoredProcedure{{6 E
;{{E F
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 W
,}}W X.
"pRcePahAutorizacionPrefacturasDetE}}Y {
.}}{ |*
IdeAutorizacionPrefacturasCab	}}| ô
)
}}ô ö
;
}}ö õ
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 D
,~~D E.
"pRcePahAutorizacionPrefacturasDetE~~F h
.~~h i
DscApellidos~~i u
)~~u v
;~~v w
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 B
,B C.
"pRcePahAutorizacionPrefacturasDetED f
.f g

DscNombresg q
)q r
;r s
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 >
,
ÄÄ> ?0
"pRcePahAutorizacionPrefacturasDetE
ÄÄ@ b
.
ÄÄb c
NroDni
ÄÄc i
)
ÄÄi j
;
ÄÄj k
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 B
,
ÅÅB C0
"pRcePahAutorizacionPrefacturasDetE
ÅÅD f
.
ÅÅf g

DscCorreos
ÅÅg q
)
ÅÅq r
;
ÅÅr s
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 E
,
ÇÇE F0
"pRcePahAutorizacionPrefacturasDetE
ÇÇG i
.
ÇÇi j
DscRespEnvio
ÇÇj v
)
ÇÇv w
;
ÇÇw x
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 A
,
ÉÉA B0
"pRcePahAutorizacionPrefacturasDetE
ÉÉC e
.
ÉÉe f
	FlgEstado
ÉÉf o
)
ÉÉo p
;
ÉÉp q
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 C
,
ÑÑC D0
"pRcePahAutorizacionPrefacturasDetE
ÑÑE g
.
ÑÑg h
FecRegistro
ÑÑh s
)
ÑÑs t
;
ÑÑt u
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 W
,
ÖÖW X0
"pRcePahAutorizacionPrefacturasDetE
ÖÖY {
.
ÖÖ{ |,
IdeAutorizacionPrefacturasDetÖÖ| ô
)ÖÖô ö
;ÖÖö õ
cnn
ÜÜ 
.
ÜÜ 
Open
ÜÜ  
(
ÜÜ  !
)
ÜÜ! "
;
ÜÜ" #
if
áá 
(
áá 
cmd
áá 
.
áá  
ExecuteNonQuery
áá  /
(
áá/ 0
)
áá0 1
>=
áá2 4
$num
áá5 6
)
áá6 7
return
àà "
true
àà# '
;
àà' (
else
ââ 
return
ää "
false
ää# (
;
ää( )
cmd
ãã 
.
ãã 
Dispose
ãã #
(
ãã# $
)
ãã$ %
;
ãã% &
cnn
åå 
.
åå 
Close
åå !
(
åå! "
)
åå" #
;
åå# $
cnn
çç 
.
çç 
Dispose
çç #
(
çç# $
)
çç$ %
;
çç% &
}
éé 
}
èè 
}
êê 
catch
ëë 
(
ëë 
	Exception
ëë 
ex
ëë 
)
ëë  
{
íí 
throw
ìì 
new
ìì 
	Exception
ìì #
(
ìì# $
ex
ìì$ &
.
ìì& '
Message
ìì' .
)
ìì. /
;
ìì/ 0
}
îî 
}
ïï 	
public
óó 
bool
óó >
0Sp_RcePahAutorizacionPrefacturasDet_UpdatexCampo
óó D
(
óóD E/
!RcePahAutorizacionPrefacturasDetE
óóE f1
"pRcePahAutorizacionPrefacturasDetEóóg â
)óóâ ä
{
òò 	
try
ôô 
{
öö 
using
õõ 
(
õõ 
SqlConnection
õõ $
cnn
õõ% (
=
õõ) *
new
õõ+ .
SqlConnection
õõ/ <
(
õõ< =
VariablesGlobales
õõ= N
.
õõN O

CnnClinica
õõO Y
)
õõY Z
)
õõZ [
{
úú 
using
ùù 
(
ùù 

SqlCommand
ùù %
cmd
ùù& )
=
ùù* +
new
ùù, /

SqlCommand
ùù0 :
(
ùù: ;
$str
ùù; m
,
ùùm n
cnn
ùùo r
)
ùùr s
)
ùùs t
{
ûû 
cmd
üü 
.
üü 
CommandType
üü '
=
üü( )
CommandType
üü* 5
.
üü5 6
StoredProcedure
üü6 E
;
üüE F
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 W
,
°°W X0
"pRcePahAutorizacionPrefacturasDetE
°°Y {
.
°°{ |,
IdeAutorizacionPrefacturasDet°°| ô
)°°ô ö
;°°ö õ
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ &
.
¢¢& '
AddWithValue
¢¢' 3
(
¢¢3 4
$str
¢¢4 B
,
¢¢B C0
"pRcePahAutorizacionPrefacturasDetE
¢¢D f
.
¢¢f g

NuevoValor
¢¢g q
)
¢¢q r
;
¢¢r s
cmd
££ 
.
££ 

Parameters
££ &
.
££& '
AddWithValue
££' 3
(
££3 4
$str
££4 <
,
££< =0
"pRcePahAutorizacionPrefacturasDetE
££> `
.
££` a
Campo
££a f
)
££f g
;
££g h
cnn
§§ 
.
§§ 
Open
§§  
(
§§  !
)
§§! "
;
§§" #
if
•• 
(
•• 
cmd
•• 
.
••  
ExecuteNonQuery
••  /
(
••/ 0
)
••0 1
>=
••2 4
$num
••5 6
)
••6 7
return
¶¶ "
true
¶¶# '
;
¶¶' (
else
ßß 
return
®® "
false
®®# (
;
®®( )
cmd
©© 
.
©© 
Dispose
©© #
(
©©# $
)
©©$ %
;
©©% &
cnn
™™ 
.
™™ 
Close
™™ !
(
™™! "
)
™™" #
;
™™# $
cnn
´´ 
.
´´ 
Dispose
´´ #
(
´´# $
)
´´$ %
;
´´% &
}
¨¨ 
}
≠≠ 
}
ÆÆ 
catch
ØØ 
(
ØØ 
	Exception
ØØ 
ex
ØØ 
)
ØØ  
{
∞∞ 
throw
±± 
new
±± 
	Exception
±± #
(
±±# $
ex
±±$ &
.
±±& '
Message
±±' .
)
±±. /
;
±±/ 0
}
≤≤ 
}
≥≥ 	
public
µµ 
bool
µµ 8
*Sp_RcePahAutorizacionPrefacturasDet_Delete
µµ >
(
µµ> ?/
!RcePahAutorizacionPrefacturasDetE
µµ? `1
"pRcePahAutorizacionPrefacturasDetEµµa É
)µµÉ Ñ
{
∂∂ 	
try
∑∑ 
{
∏∏ 
using
ππ 
(
ππ 
SqlConnection
ππ $
cnn
ππ% (
=
ππ) *
new
ππ+ .
SqlConnection
ππ/ <
(
ππ< =
VariablesGlobales
ππ= N
.
ππN O

CnnClinica
ππO Y
)
ππY Z
)
ππZ [
{
∫∫ 
using
ªª 
(
ªª 

SqlCommand
ªª %
cmd
ªª& )
=
ªª* +
new
ªª, /

SqlCommand
ªª0 :
(
ªª: ;
$str
ªª; g
,
ªªg h
cnn
ªªi l
)
ªªl m
)
ªªm n
{
ºº 
cmd
ΩΩ 
.
ΩΩ 
CommandType
ΩΩ '
=
ΩΩ( )
CommandType
ΩΩ* 5
.
ΩΩ5 6
StoredProcedure
ΩΩ6 E
;
ΩΩE F
cmd
øø 
.
øø 

Parameters
øø &
.
øø& '
AddWithValue
øø' 3
(
øø3 4
$str
øø4 W
,
øøW X0
"pRcePahAutorizacionPrefacturasDetE
øøY {
.
øø{ |,
IdeAutorizacionPrefacturasDetøø| ô
)øøô ö
;øøö õ
cnn
¿¿ 
.
¿¿ 
Open
¿¿  
(
¿¿  !
)
¿¿! "
;
¿¿" #
if
¡¡ 
(
¡¡ 
cmd
¡¡ 
.
¡¡  
ExecuteNonQuery
¡¡  /
(
¡¡/ 0
)
¡¡0 1
>=
¡¡2 4
$num
¡¡5 6
)
¡¡6 7
return
¬¬ "
true
¬¬# '
;
¬¬' (
else
√√ 
return
ƒƒ "
false
ƒƒ# (
;
ƒƒ( )
cmd
≈≈ 
.
≈≈ 
Dispose
≈≈ #
(
≈≈# $
)
≈≈$ %
;
≈≈% &
cnn
∆∆ 
.
∆∆ 
Close
∆∆ !
(
∆∆! "
)
∆∆" #
;
∆∆# $
cnn
«« 
.
«« 
Dispose
«« #
(
««# $
)
««$ %
;
««% &
}
»» 
}
…… 
}
   
catch
ÀÀ 
(
ÀÀ 
	Exception
ÀÀ 
ex
ÀÀ 
)
ÀÀ  
{
ÃÃ 
throw
ÕÕ 
new
ÕÕ 
	Exception
ÕÕ #
(
ÕÕ# $
ex
ÕÕ$ &
.
ÕÕ& '
Message
ÕÕ' .
)
ÕÕ. /
;
ÕÕ/ 0
}
ŒŒ 
}
œœ 	
}
–– 
}—— Ÿò
nD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RcePahAutorizacionPrefacturasCabAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class .
"RcePahAutorizacionPrefacturasCabAD 3
{ 
private -
!RcePahAutorizacionPrefacturasCabE 1
LlenarEntidad2 ?
(? @
IDataReader@ K
drL N
,N O-
!RcePahAutorizacionPrefacturasCabEP q/
"pRcePahAutorizacionPrefacturasCabE	r î
)
î ï
{ 	-
!RcePahAutorizacionPrefacturasCabE -.
"oRcePahAutorizacionPrefacturasCabE. P
=Q R
newS V-
!RcePahAutorizacionPrefacturasCabEW x
(x y
)y z
;z {
switch 
( .
"pRcePahAutorizacionPrefacturasCabE 6
.6 7
Orden7 <
)< =
{ 
case 
$num 
: 
{ .
"oRcePahAutorizacionPrefacturasCabE :
.: ;
CodAtencion; F
=G H
(I J
stringJ P
)P Q
drR T
[T U
$strU c
]c d
;d e.
"oRcePahAutorizacionPrefacturasCabE :
.: ;)
IdeAutorizacionPrefacturasCab; X
=Y Z
([ \
int\ _
)_ `
dra c
[c d
$str	d Ü
]
Ü á
;
á à.
"oRcePahAutorizacionPrefacturasCabE :
.: ; 
oAutorizacionPreDetE; O
.O P)
IdeAutorizacionPrefacturasCabP m
=n o
(p q
intq t
)t u
drv x
[x y
$str	y õ
]
õ ú
;
ú ù.
"oRcePahAutorizacionPrefacturasCabE :
.: ; 
oAutorizacionPreDetE; O
.O P)
IdeAutorizacionPrefacturasDetP m
=n o
(p q
intq t
)t u
drv x
[x y
$str	y õ
]
õ ú
;
ú ù.
"oRcePahAutorizacionPrefacturasCabE :
.: ; 
oAutorizacionPreDetE; O
.O P
DscApellidosP \
=] ^
(_ `
string` f
)f g
drh j
[j k
$strk z
]z {
;{ |.
"oRcePahAutorizacionPrefacturasCabE :
.: ; 
oAutorizacionPreDetE; O
.O P

DscNombresP Z
=[ \
(] ^
string^ d
)d e
drf h
[h i
$stri v
]v w
;w x.
"oRcePahAutorizacionPrefacturasCabE :
.: ; 
oAutorizacionPreDetE; O
.O P
NroDniP V
=W X
(Y Z
stringZ `
)` a
drb d
[d e
$stre n
]n o
;o p.
"oRcePahAutorizacionPrefacturasCabE :
.: ; 
oAutorizacionPreDetE; O
.O P

DscCorreosP Z
=[ \
(] ^
string^ d
)d e
drf h
[h i
$stri v
]v w
;w x.
"oRcePahAutorizacionPrefacturasCabE :
.: ; 
oAutorizacionPreDetE; O
.O P

ParentescoP Z
=[ \
(] ^
string^ d
)d e
drf h
[h i
$stri y
]y z
;z {.
"oRcePahAutorizacionPrefacturasCabE :
.: ; 
oAutorizacionPreDetE; O
.O P
TelefonoP X
=Y Z
([ \
string\ b
)b c
drd f
[f g
$strg u
]u v
;v w
break 
; 
}   
}!! 
return"" .
"oRcePahAutorizacionPrefacturasCabE"" 5
;""5 6
}## 	
public%% 
List%% 
<%% -
!RcePahAutorizacionPrefacturasCabE%% 5
>%%5 68
,Sp_RcePahAutorizacionPrefacturasCab_Consulta%%7 c
(%%c d.
!RcePahAutorizacionPrefacturasCabE	%%d Ö0
"pRcePahAutorizacionPrefacturasCabE
%%Ü ®
)
%%® ©
{&& 	
IDataReader'' 
dr'' 
;'' -
!RcePahAutorizacionPrefacturasCabE(( -.
"oRcePahAutorizacionPrefacturasCabE((. P
=((Q R
null((S W
;
((ñ ó
List)) 
<)) -
!RcePahAutorizacionPrefacturasCabE)) 2
>))2 3
oListar))4 ;
=))< =
new))> A
List))B F
<))F G-
!RcePahAutorizacionPrefacturasCabE))G h
>))h i
())i j
)))j k
;))k l
try** 
{++ 
using,, 
(,, 
SqlConnection,, $
cnn,,% (
=,,) *
new,,+ .
SqlConnection,,/ <
(,,< =
VariablesGlobales,,= N
.,,N O

CnnClinica,,O Y
),,Y Z
),,Z [
{-- 
using.. 
(.. 

SqlCommand.. %
cmd..& )
=..* +
new.., /

SqlCommand..0 :
(..: ;
$str..; i
,..i j
cnn..k n
)..n o
)..o p
{// 
cmd00 
.00 
CommandType00 '
=00( )
CommandType00* 5
.005 6
StoredProcedure006 E
;00E F
cmd22 
.22 

Parameters22 &
.22& '
AddWithValue22' 3
(223 4
$str224 W
,22W X.
"pRcePahAutorizacionPrefacturasCabE22Y {
.22{ |*
IdeAutorizacionPrefacturasCab	22| ô
)
22ô ö
;
22ö õ
cmd33 
.33 

Parameters33 &
.33& '
AddWithValue33' 3
(333 4
$str334 C
,33C D.
"pRcePahAutorizacionPrefacturasCabE33E g
.33g h
CodAtencion33h s
)33s t
;33t u
cmd44 
.44 

Parameters44 &
.44& '
AddWithValue44' 3
(443 4
$str444 <
,44< =.
"pRcePahAutorizacionPrefacturasCabE44> `
.44` a
Orden44a f
)44f g
;44g h
cnn55 
.55 
Open55  
(55  !
)55! "
;55" #
dr66 
=66 
cmd66  
.66  !
ExecuteReader66! .
(66. /
)66/ 0
;660 1
while77 
(77 
dr77 !
.77! "
Read77" &
(77& '
)77' (
)77( )
{88 .
"oRcePahAutorizacionPrefacturasCabE99 >
=99? @
LlenarEntidad99A N
(99N O
dr99O Q
,99Q R.
"pRcePahAutorizacionPrefacturasCabE99S u
)99u v
;99v w
oListar:: #
.::# $
Add::$ '
(::' (.
"oRcePahAutorizacionPrefacturasCabE::( J
)::J K
;::K L
};; 
dr<< 
.<< 
Close<<  
(<<  !
)<<! "
;<<" #
dr== 
.== 
Dispose== "
(==" #
)==# $
;==$ %
cmd>> 
.>> 
Dispose>> #
(>># $
)>>$ %
;>>% &
cnn?? 
.?? 
Close?? !
(??! "
)??" #
;??# $
cnn@@ 
.@@ 
Dispose@@ #
(@@# $
)@@$ %
;@@% &
returnBB 
oListarBB &
;BB& '
}CC 
}DD 
}EE 
catchFF 
(FF 
	ExceptionFF 
exFF 
)FF  
{GG 
throwHH 
newHH 
	ExceptionHH #
(HH# $
exHH$ &
.HH& '
MessageHH' .
)HH. /
;HH/ 0
}II 
}JJ 	
publicLL 
boolLL 6
*Sp_RcePahAutorizacionPrefacturasCab_InsertLL >
(LL> ?-
!RcePahAutorizacionPrefacturasCabELL? `/
"pRcePahAutorizacionPrefacturasCabE	LLa É
)
LLÉ Ñ
{MM 	
tryNN 
{OO 
usingPP 
(PP 
SqlConnectionPP $
cnnPP% (
=PP) *
newPP+ .
SqlConnectionPP/ <
(PP< =
VariablesGlobalesPP= N
.PPN O

CnnClinicaPPO Y
)PPY Z
)PPZ [
{QQ 
usingRR 
(RR 

SqlCommandRR %
cmdRR& )
=RR* +
newRR, /

SqlCommandRR0 :
(RR: ;
$strRR; g
,RRg h
cnnRRi l
)RRl m
)RRm n
{SS 
cmdTT 
.TT 
CommandTypeTT '
=TT( )
CommandTypeTT* 5
.TT5 6
StoredProcedureTT6 E
;TTE F
cmdVV 
.VV 

ParametersVV &
.VV& '
AddWithValueVV' 3
(VV3 4
$strVV4 C
,VVC D.
"pRcePahAutorizacionPrefacturasCabEVVE g
.VVg h
CodAtencionVVh s
)VVs t
;VVt u
cmdWW 
.WW 

ParametersWW &
.WW& '
AddWW' *
(WW* +
VariablesGlobalesWW+ <
.WW< =
ParametroSqlWW= I
(WWI J
$strWWJ m
,WWm n
ParameterDirection	WWo Å
.
WWÅ Ç
InputOutput
WWÇ ç
,
WWç é
	SqlDbType
WWè ò
.
WWò ô
Int
WWô ú
,
WWú ù
$num
WWû ü
,
WWü †0
"pRcePahAutorizacionPrefacturasCabE
WW° √
.
WW√ ƒ+
IdeAutorizacionPrefacturasCab
WWƒ ·
.
WW· ‚
ToString
WW‚ Í
(
WWÍ Î
)
WWÎ Ï
)
WWÏ Ì
)
WWÌ Ó
;
WWÓ Ô
cnnXX 
.XX 
OpenXX  
(XX  !
)XX! "
;XX" #
ifYY 
(YY 
cmdYY 
.YY  
ExecuteNonQueryYY  /
(YY/ 0
)YY0 1
>=YY2 4
$numYY5 6
)YY6 7
{ZZ .
"pRcePahAutorizacionPrefacturasCabE[[ >
.[[> ?)
IdeAutorizacionPrefacturasCab[[? \
=[[] ^
([[_ `
int[[` c
)[[c d
cmd[[d g
.[[g h

Parameters[[h r
[[[r s
$str	[[s ñ
]
[[ñ ó
.
[[ó ò
Value
[[ò ù
;
[[ù û
return\\ "
true\\# '
;\\' (
}]] 
else^^ 
return__ "
false__# (
;__( )
cmd`` 
.`` 
Dispose`` #
(``# $
)``$ %
;``% &
cnnaa 
.aa 
Closeaa !
(aa! "
)aa" #
;aa# $
cnnbb 
.bb 
Disposebb #
(bb# $
)bb$ %
;bb% &
}cc 
}dd 
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 
throwhh 
newhh 
	Exceptionhh #
(hh# $
exhh$ &
.hh& '
Messagehh' .
)hh. /
;hh/ 0
}ii 
}jj 	
publicll 
boolll 6
*Sp_RcePahAutorizacionPrefacturasCab_Updatell >
(ll> ?-
!RcePahAutorizacionPrefacturasCabEll? `/
"pRcePahAutorizacionPrefacturasCabE	lla É
)
llÉ Ñ
{mm 	
trynn 
{oo 
usingpp 
(pp 
SqlConnectionpp $
cnnpp% (
=pp) *
newpp+ .
SqlConnectionpp/ <
(pp< =
VariablesGlobalespp= N
.ppN O

CnnClinicappO Y
)ppY Z
)ppZ [
{qq 
usingrr 
(rr 

SqlCommandrr %
cmdrr& )
=rr* +
newrr, /

SqlCommandrr0 :
(rr: ;
$strrr; g
,rrg h
cnnrri l
)rrl m
)rrm n
{ss 
cmdtt 
.tt 
CommandTypett '
=tt( )
CommandTypett* 5
.tt5 6
StoredProcedurett6 E
;ttE F
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 C
,vvC D.
"pRcePahAutorizacionPrefacturasCabEvvE g
.vvg h
CodPacientevvh s
)vvs t
;vvt u
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 C
,wwC D.
"pRcePahAutorizacionPrefacturasCabEwwE g
.wwg h
CodAtencionwwh s
)wws t
;wwt u
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 W
,xxW X.
"pRcePahAutorizacionPrefacturasCabExxY {
.xx{ |*
IdeAutorizacionPrefacturasCab	xx| ô
)
xxô ö
;
xxö õ
cnnyy 
.yy 
Openyy  
(yy  !
)yy! "
;yy" #
ifzz 
(zz 
cmdzz 
.zz  
ExecuteNonQueryzz  /
(zz/ 0
)zz0 1
>=zz2 4
$numzz5 6
)zz6 7
return{{ "
true{{# '
;{{' (
else|| 
return}} "
false}}# (
;}}( )
cmd~~ 
.~~ 
Dispose~~ #
(~~# $
)~~$ %
;~~% &
cnn 
. 
Close !
(! "
)" #
;# $
cnn
ÄÄ 
.
ÄÄ 
Dispose
ÄÄ #
(
ÄÄ# $
)
ÄÄ$ %
;
ÄÄ% &
}
ÅÅ 
}
ÇÇ 
}
ÉÉ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ 
ex
ÑÑ 
)
ÑÑ  
{
ÖÖ 
throw
ÜÜ 
new
ÜÜ 
	Exception
ÜÜ #
(
ÜÜ# $
ex
ÜÜ$ &
.
ÜÜ& '
Message
ÜÜ' .
)
ÜÜ. /
;
ÜÜ/ 0
}
áá 
}
àà 	
public
ää 
bool
ää >
0Sp_RcePahAutorizacionPrefacturasCab_UpdatexCampo
ää D
(
ääD E/
!RcePahAutorizacionPrefacturasCabE
ääE f1
"pRcePahAutorizacionPrefacturasCabEääg â
)ääâ ä
{
ãã 	
try
åå 
{
çç 
using
éé 
(
éé 
SqlConnection
éé $
cnn
éé% (
=
éé) *
new
éé+ .
SqlConnection
éé/ <
(
éé< =
VariablesGlobales
éé= N
.
ééN O

CnnClinica
ééO Y
)
ééY Z
)
ééZ [
{
èè 
using
êê 
(
êê 

SqlCommand
êê %
cmd
êê& )
=
êê* +
new
êê, /

SqlCommand
êê0 :
(
êê: ;
$str
êê; m
,
êêm n
cnn
êêo r
)
êêr s
)
êês t
{
ëë 
cmd
íí 
.
íí 
CommandType
íí '
=
íí( )
CommandType
íí* 5
.
íí5 6
StoredProcedure
íí6 E
;
ííE F
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 W
,
îîW X0
"pRcePahAutorizacionPrefacturasCabE
îîY {
.
îî{ |,
IdeAutorizacionPrefacturasCabîî| ô
)îîô ö
;îîö õ
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 B
,
ïïB C0
"pRcePahAutorizacionPrefacturasCabE
ïïD f
.
ïïf g

NuevoValor
ïïg q
)
ïïq r
;
ïïr s
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 <
,
ññ< =0
"pRcePahAutorizacionPrefacturasCabE
ññ> `
.
ññ` a
Campo
ñña f
)
ññf g
;
ññg h
cnn
óó 
.
óó 
Open
óó  
(
óó  !
)
óó! "
;
óó" #
if
òò 
(
òò 
cmd
òò 
.
òò  
ExecuteNonQuery
òò  /
(
òò/ 0
)
òò0 1
>=
òò2 4
$num
òò5 6
)
òò6 7
return
ôô "
true
ôô# '
;
ôô' (
else
öö 
return
õõ "
false
õõ# (
;
õõ( )
cmd
úú 
.
úú 
Dispose
úú #
(
úú# $
)
úú$ %
;
úú% &
cnn
ùù 
.
ùù 
Close
ùù !
(
ùù! "
)
ùù" #
;
ùù# $
cnn
ûû 
.
ûû 
Dispose
ûû #
(
ûû# $
)
ûû$ %
;
ûû% &
}
üü 
}
†† 
}
°° 
catch
¢¢ 
(
¢¢ 
	Exception
¢¢ 
ex
¢¢ 
)
¢¢  
{
££ 
throw
§§ 
new
§§ 
	Exception
§§ #
(
§§# $
ex
§§$ &
.
§§& '
Message
§§' .
)
§§. /
;
§§/ 0
}
•• 
}
¶¶ 	
public
®® 
bool
®® 8
*Sp_RcePahAutorizacionPrefacturasCab_Delete
®® >
(
®®> ?/
!RcePahAutorizacionPrefacturasCabE
®®? `1
"pRcePahAutorizacionPrefacturasCabE®®a É
)®®É Ñ
{
©© 	
try
™™ 
{
´´ 
using
¨¨ 
(
¨¨ 
SqlConnection
¨¨ $
cnn
¨¨% (
=
¨¨) *
new
¨¨+ .
SqlConnection
¨¨/ <
(
¨¨< =
VariablesGlobales
¨¨= N
.
¨¨N O

CnnClinica
¨¨O Y
)
¨¨Y Z
)
¨¨Z [
{
≠≠ 
using
ÆÆ 
(
ÆÆ 

SqlCommand
ÆÆ %
cmd
ÆÆ& )
=
ÆÆ* +
new
ÆÆ, /

SqlCommand
ÆÆ0 :
(
ÆÆ: ;
$str
ÆÆ; g
,
ÆÆg h
cnn
ÆÆi l
)
ÆÆl m
)
ÆÆm n
{
ØØ 
cmd
∞∞ 
.
∞∞ 
CommandType
∞∞ '
=
∞∞( )
CommandType
∞∞* 5
.
∞∞5 6
StoredProcedure
∞∞6 E
;
∞∞E F
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ &
.
≤≤& '
AddWithValue
≤≤' 3
(
≤≤3 4
$str
≤≤4 C
,
≤≤C D0
"pRcePahAutorizacionPrefacturasCabE
≤≤E g
.
≤≤g h
CodAtencion
≤≤h s
)
≤≤s t
;
≤≤t u
cnn
≥≥ 
.
≥≥ 
Open
≥≥  
(
≥≥  !
)
≥≥! "
;
≥≥" #
if
¥¥ 
(
¥¥ 
cmd
¥¥ 
.
¥¥  
ExecuteNonQuery
¥¥  /
(
¥¥/ 0
)
¥¥0 1
>=
¥¥2 4
$num
¥¥5 6
)
¥¥6 7
return
µµ "
true
µµ# '
;
µµ' (
else
∂∂ 
return
∑∑ "
false
∑∑# (
;
∑∑( )
cmd
∏∏ 
.
∏∏ 
Dispose
∏∏ #
(
∏∏# $
)
∏∏$ %
;
∏∏% &
cnn
ππ 
.
ππ 
Close
ππ !
(
ππ! "
)
ππ" #
;
ππ# $
cnn
∫∫ 
.
∫∫ 
Dispose
∫∫ #
(
∫∫# $
)
∫∫$ %
;
∫∫% &
}
ªª 
}
ºº 
}
ΩΩ 
catch
ææ 
(
ææ 
	Exception
ææ 
ex
ææ 
)
ææ  
{
øø 
throw
¿¿ 
new
¿¿ 
	Exception
¿¿ #
(
¿¿# $
ex
¿¿$ &
.
¿¿& '
Message
¿¿' .
)
¿¿. /
;
¿¿/ 0
}
¡¡ 
}
¬¬ 	
}
√√ 
}ƒƒ Êé
jD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RcePahAlergiaMedicamentosDetAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class *
RcePahAlergiaMedicamentosDetAD /
{ 
private )
RcePahAlergiaMedicamentosDetE -
LlenarEntidad. ;
(; <
IDataReader< G
drH J
,J K)
RcePahAlergiaMedicamentosDetEL i+
pRcePahAlergiaMedicamentosDetE	j à
)
à â
{ 	)
RcePahAlergiaMedicamentosDetE )*
oRcePahAlergiaMedicamentosDetE* H
=I J
newK N)
RcePahAlergiaMedicamentosDetEO l
(l m
)m n
;n o
switch 
( *
pRcePahAlergiaMedicamentosDetE 2
.2 3
Orden3 8
)8 9
{ 
case 
$num 
: 
{ *
oRcePahAlergiaMedicamentosDetE 6
.6 7%
IdeAlergiaMedicamentosDet7 P
=Q R
(S T
intT W
)W X
drY [
[[ \
$str\ z
]z {
;{ |*
oRcePahAlergiaMedicamentosDetE 6
.6 7
IdeAlergiaCab7 D
=E F
(G H
intH K
)K L
drM O
[O P
$strP a
]a b
;b c*
oRcePahAlergiaMedicamentosDetE 6
.6 7
CodGenerico7 B
=C D
(E F
stringF L
)L M
drN P
[P Q
$strQ _
]_ `
;` a*
oRcePahAlergiaMedicamentosDetE 6
.6 7
DscMedicamento7 E
=F G
(H I
stringI O
)O P
drQ S
[S T
$strT e
]e f
;f g
break 
; 
} 
} 
return *
oRcePahAlergiaMedicamentosDetE 1
;1 2
} 	
public 
List 
< )
RcePahAlergiaMedicamentosDetE 1
>1 24
(Sp_RcePahAlergiaMedicamentosDet_Consulta3 [
([ \)
RcePahAlergiaMedicamentosDetE\ y+
pRcePahAlergiaMedicamentosDetE	z ò
)
ò ô
{   	
IDataReader!! 
dr!! 
;!! )
RcePahAlergiaMedicamentosDetE"" )*
oRcePahAlergiaMedicamentosDetE""* H
=""I J
null""K O
;
""é è
List## 
<## )
RcePahAlergiaMedicamentosDetE## .
>##. /
oListar##0 7
=##8 9
new##: =
List##> B
<##B C)
RcePahAlergiaMedicamentosDetE##C `
>##` a
(##a b
)##b c
;##c d
try$$ 
{%% 
using&& 
(&& 
SqlConnection&& $
cnn&&% (
=&&) *
new&&+ .
SqlConnection&&/ <
(&&< =
VariablesGlobales&&= N
.&&N O

CnnClinica&&O Y
)&&Y Z
)&&Z [
{'' 
using(( 
((( 

SqlCommand(( %
cmd((& )
=((* +
new((, /

SqlCommand((0 :
(((: ;
$str((; e
,((e f
cnn((g j
)((j k
)((k l
{)) 
cmd** 
.** 
CommandType** '
=**( )
CommandType*** 5
.**5 6
StoredProcedure**6 E
;**E F
cmd,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 S
,,,S T*
pRcePahAlergiaMedicamentosDetE,,U s
.,,s t&
IdeAlergiaMedicamentosDet	,,t ç
)
,,ç é
;
,,é è
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 F
,--F G*
pRcePahAlergiaMedicamentosDetE--H f
.--f g
IdeAlergiaCab--g t
)--t u
;--u v
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 <
,..< =*
pRcePahAlergiaMedicamentosDetE..> \
...\ ]
Orden..] b
)..b c
;..c d
cnn// 
.// 
Open//  
(//  !
)//! "
;//" #
dr00 
=00 
cmd00  
.00  !
ExecuteReader00! .
(00. /
)00/ 0
;000 1
while11 
(11 
dr11 !
.11! "
Read11" &
(11& '
)11' (
)11( )
{22 *
oRcePahAlergiaMedicamentosDetE33 :
=33; <
LlenarEntidad33= J
(33J K
dr33K M
,33M N*
pRcePahAlergiaMedicamentosDetE33O m
)33m n
;33n o
oListar44 #
.44# $
Add44$ '
(44' (*
oRcePahAlergiaMedicamentosDetE44( F
)44F G
;44G H
}55 
dr66 
.66 
Close66  
(66  !
)66! "
;66" #
dr77 
.77 
Dispose77 "
(77" #
)77# $
;77$ %
cmd88 
.88 
Dispose88 #
(88# $
)88$ %
;88% &
cnn99 
.99 
Close99 !
(99! "
)99" #
;99# $
cnn:: 
.:: 
Dispose:: #
(::# $
)::$ %
;::% &
return<< 
oListar<< &
;<<& '
}== 
}>> 
}?? 
catch@@ 
(@@ 
	Exception@@ 
ex@@ 
)@@  
{AA 
throwBB 
newBB 
	ExceptionBB #
(BB# $
exBB$ &
.BB& '
MessageBB' .
)BB. /
;BB/ 0
}CC 
}DD 	
publicFF 
boolFF 2
&Sp_RcePahAlergiaMedicamentosDet_InsertFF :
(FF: ;)
RcePahAlergiaMedicamentosDetEFF; X*
pRcePahAlergiaMedicamentosDetEFFY w
)FFw x
{GG 	
tryHH 
{II 
usingJJ 
(JJ 
SqlConnectionJJ $
cnnJJ% (
=JJ) *
newJJ+ .
SqlConnectionJJ/ <
(JJ< =
VariablesGlobalesJJ= N
.JJN O

CnnClinicaJJO Y
)JJY Z
)JJZ [
{KK 
usingLL 
(LL 

SqlCommandLL %
cmdLL& )
=LL* +
newLL, /

SqlCommandLL0 :
(LL: ;
$strLL; c
,LLc d
cnnLLe h
)LLh i
)LLi j
{MM 
cmdNN 
.NN 
CommandTypeNN '
=NN( )
CommandTypeNN* 5
.NN5 6
StoredProcedureNN6 E
;NNE F
cmdPP 
.PP 

ParametersPP &
.PP& '
AddWithValuePP' 3
(PP3 4
$strPP4 F
,PPF G*
pRcePahAlergiaMedicamentosDetEPPH f
.PPf g
IdeAlergiaCabPPg t
)PPt u
;PPu v
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddWithValueQQ' 3
(QQ3 4
$strQQ4 C
,QQC D*
pRcePahAlergiaMedicamentosDetEQQE c
.QQc d
CodGenericoQQd o
)QQo p
;QQp q
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 F
,RRF G*
pRcePahAlergiaMedicamentosDetERRH f
.RRf g
DscMedicamentoRRg u
)RRu v
;RRv w
cmdSS 
.SS 

ParametersSS &
.SS& '
AddSS' *
(SS* +
VariablesGlobalesSS+ <
.SS< =
ParametroSqlSS= I
(SSI J
$strSSJ i
,SSi j
ParameterDirectionSSk }
.SS} ~
InputOutput	SS~ â
,
SSâ ä
	SqlDbType
SSã î
.
SSî ï
Int
SSï ò
,
SSò ô
$num
SSö õ
,
SSõ ú,
pRcePahAlergiaMedicamentosDetE
SSù ª
.
SSª º'
IdeAlergiaMedicamentosDet
SSº ’
.
SS’ ÷
ToString
SS÷ ﬁ
(
SSﬁ ﬂ
)
SSﬂ ‡
)
SS‡ ·
)
SS· ‚
;
SS‚ „
cnnTT 
.TT 
OpenTT  
(TT  !
)TT! "
;TT" #
ifUU 
(UU 
cmdUU 
.UU  
ExecuteNonQueryUU  /
(UU/ 0
)UU0 1
>=UU2 4
$numUU5 6
)UU6 7
{VV *
pRcePahAlergiaMedicamentosDetEWW :
.WW: ;%
IdeAlergiaMedicamentosDetWW; T
=WWU V
(WWW X
intWWX [
)WW[ \
cmdWW\ _
.WW_ `

ParametersWW` j
[WWj k
$str	WWk ä
]
WWä ã
.
WWã å
Value
WWå ë
;
WWë í
returnXX "
trueXX# '
;XX' (
}YY 
elseZZ 
return[[ "
false[[# (
;[[( )
cmd\\ 
.\\ 
Dispose\\ #
(\\# $
)\\$ %
;\\% &
cnn]] 
.]] 
Close]] !
(]]! "
)]]" #
;]]# $
cnn^^ 
.^^ 
Dispose^^ #
(^^# $
)^^$ %
;^^% &
}__ 
}`` 
}aa 
catchbb 
(bb 
	Exceptionbb 
exbb 
)bb  
{cc 
throwdd 
newdd 
	Exceptiondd #
(dd# $
exdd$ &
.dd& '
Messagedd' .
)dd. /
;dd/ 0
}ee 
}ff 	
publichh 
boolhh 2
&Sp_RcePahAlergiaMedicamentosDet_Updatehh :
(hh: ;)
RcePahAlergiaMedicamentosDetEhh; X*
pRcePahAlergiaMedicamentosDetEhhY w
)hhw x
{ii 	
tryjj 
{kk 
usingll 
(ll 
SqlConnectionll $
cnnll% (
=ll) *
newll+ .
SqlConnectionll/ <
(ll< =
VariablesGlobalesll= N
.llN O

CnnClinicallO Y
)llY Z
)llZ [
{mm 
usingnn 
(nn 

SqlCommandnn %
cmdnn& )
=nn* +
newnn, /

SqlCommandnn0 :
(nn: ;
$strnn; c
,nnc d
cnnnne h
)nnh i
)nni j
{oo 
cmdpp 
.pp 
CommandTypepp '
=pp( )
CommandTypepp* 5
.pp5 6
StoredProcedurepp6 E
;ppE F
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 F
,rrF G*
pRcePahAlergiaMedicamentosDetErrH f
.rrf g
IdeAlergiaCabrrg t
)rrt u
;rru v
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 F
,ssF G*
pRcePahAlergiaMedicamentosDetEssH f
.ssf g
DscMedicamentossg u
)ssu v
;ssv w
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 C
,ttC D*
pRcePahAlergiaMedicamentosDetEttE c
.ttc d
FecRegistrottd o
)tto p
;ttp q
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 S
,uuS T*
pRcePahAlergiaMedicamentosDetEuuU s
.uus t&
IdeAlergiaMedicamentosDet	uut ç
)
uuç é
;
uué è
cnnvv 
.vv 
Openvv  
(vv  !
)vv! "
;vv" #
ifww 
(ww 
cmdww 
.ww  
ExecuteNonQueryww  /
(ww/ 0
)ww0 1
>=ww2 4
$numww5 6
)ww6 7
returnxx "
truexx# '
;xx' (
elseyy 
returnzz "
falsezz# (
;zz( )
cmd{{ 
.{{ 
Dispose{{ #
({{# $
){{$ %
;{{% &
cnn|| 
.|| 
Close|| !
(||! "
)||" #
;||# $
cnn}} 
.}} 
Dispose}} #
(}}# $
)}}$ %
;}}% &
}~~ 
} 
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ 
	Exception
ÅÅ 
ex
ÅÅ 
)
ÅÅ  
{
ÇÇ 
throw
ÉÉ 
new
ÉÉ 
	Exception
ÉÉ #
(
ÉÉ# $
ex
ÉÉ$ &
.
ÉÉ& '
Message
ÉÉ' .
)
ÉÉ. /
;
ÉÉ/ 0
}
ÑÑ 
}
ÖÖ 	
public
áá 
bool
áá :
,Sp_RcePahAlergiaMedicamentosDet_UpdatexCampo
áá @
(
áá@ A+
RcePahAlergiaMedicamentosDetE
ááA ^,
pRcePahAlergiaMedicamentosDetE
áá_ }
)
áá} ~
{
àà 	
try
ââ 
{
ää 
using
ãã 
(
ãã 
SqlConnection
ãã $
cnn
ãã% (
=
ãã) *
new
ãã+ .
SqlConnection
ãã/ <
(
ãã< =
VariablesGlobales
ãã= N
.
ããN O

CnnClinica
ããO Y
)
ããY Z
)
ããZ [
{
åå 
using
çç 
(
çç 

SqlCommand
çç %
cmd
çç& )
=
çç* +
new
çç, /

SqlCommand
çç0 :
(
çç: ;
$str
çç; i
,
ççi j
cnn
ççk n
)
ççn o
)
çço p
{
éé 
cmd
èè 
.
èè 
CommandType
èè '
=
èè( )
CommandType
èè* 5
.
èè5 6
StoredProcedure
èè6 E
;
èèE F
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 S
,
ëëS T,
pRcePahAlergiaMedicamentosDetE
ëëU s
.
ëës t(
IdeAlergiaMedicamentosDetëët ç
)ëëç é
;ëëé è
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 B
,
ííB C,
pRcePahAlergiaMedicamentosDetE
ííD b
.
ííb c

NuevoValor
ííc m
)
íím n
;
íín o
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 <
,
ìì< =,
pRcePahAlergiaMedicamentosDetE
ìì> \
.
ìì\ ]
Campo
ìì] b
)
ììb c
;
ììc d
cnn
îî 
.
îî 
Open
îî  
(
îî  !
)
îî! "
;
îî" #
if
ïï 
(
ïï 
cmd
ïï 
.
ïï  
ExecuteNonQuery
ïï  /
(
ïï/ 0
)
ïï0 1
>=
ïï2 4
$num
ïï5 6
)
ïï6 7
return
ññ "
true
ññ# '
;
ññ' (
else
óó 
return
òò "
false
òò# (
;
òò( )
cmd
ôô 
.
ôô 
Dispose
ôô #
(
ôô# $
)
ôô$ %
;
ôô% &
cnn
öö 
.
öö 
Close
öö !
(
öö! "
)
öö" #
;
öö# $
cnn
õõ 
.
õõ 
Dispose
õõ #
(
õõ# $
)
õõ$ %
;
õõ% &
}
úú 
}
ùù 
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
ex
üü 
)
üü  
{
†† 
throw
°° 
new
°° 
	Exception
°° #
(
°°# $
ex
°°$ &
.
°°& '
Message
°°' .
)
°°. /
;
°°/ 0
}
¢¢ 
}
££ 	
public
•• 
bool
•• 4
&Sp_RcePahAlergiaMedicamentosDet_Delete
•• :
(
••: ;+
RcePahAlergiaMedicamentosDetE
••; X,
pRcePahAlergiaMedicamentosDetE
••Y w
)
••w x
{
¶¶ 	
try
ßß 
{
®® 
using
©© 
(
©© 
SqlConnection
©© $
cnn
©©% (
=
©©) *
new
©©+ .
SqlConnection
©©/ <
(
©©< =
VariablesGlobales
©©= N
.
©©N O

CnnClinica
©©O Y
)
©©Y Z
)
©©Z [
{
™™ 
using
´´ 
(
´´ 

SqlCommand
´´ %
cmd
´´& )
=
´´* +
new
´´, /

SqlCommand
´´0 :
(
´´: ;
$str
´´; c
,
´´c d
cnn
´´e h
)
´´h i
)
´´i j
{
¨¨ 
cmd
≠≠ 
.
≠≠ 
CommandType
≠≠ '
=
≠≠( )
CommandType
≠≠* 5
.
≠≠5 6
StoredProcedure
≠≠6 E
;
≠≠E F
cmd
ØØ 
.
ØØ 

Parameters
ØØ &
.
ØØ& '
AddWithValue
ØØ' 3
(
ØØ3 4
$str
ØØ4 S
,
ØØS T,
pRcePahAlergiaMedicamentosDetE
ØØU s
.
ØØs t(
IdeAlergiaMedicamentosDetØØt ç
)ØØç é
;ØØé è
cnn
∞∞ 
.
∞∞ 
Open
∞∞  
(
∞∞  !
)
∞∞! "
;
∞∞" #
if
±± 
(
±± 
cmd
±± 
.
±±  
ExecuteNonQuery
±±  /
(
±±/ 0
)
±±0 1
>=
±±2 4
$num
±±5 6
)
±±6 7
return
≤≤ "
true
≤≤# '
;
≤≤' (
else
≥≥ 
return
¥¥ "
false
¥¥# (
;
¥¥( )
cmd
µµ 
.
µµ 
Dispose
µµ #
(
µµ# $
)
µµ$ %
;
µµ% &
cnn
∂∂ 
.
∂∂ 
Close
∂∂ !
(
∂∂! "
)
∂∂" #
;
∂∂# $
cnn
∑∑ 
.
∑∑ 
Dispose
∑∑ #
(
∑∑# $
)
∑∑$ %
;
∑∑% &
}
∏∏ 
}
ππ 
}
∫∫ 
catch
ªª 
(
ªª 
	Exception
ªª 
ex
ªª 
)
ªª  
{
ºº 
throw
ΩΩ 
new
ΩΩ 
	Exception
ΩΩ #
(
ΩΩ# $
ex
ΩΩ$ &
.
ΩΩ& '
Message
ΩΩ' .
)
ΩΩ. /
;
ΩΩ/ 0
}
ææ 
}
øø 	
}
¿¿ 
}¡¡  Ø
^D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RcePahAlergiaCabAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class 
RcePahAlergiaCabAD #
{ 
private 
RcePahAlergiaCabE !
LlenarEntidad" /
(/ 0
IDataReader0 ;
dr< >
,> ?
RcePahAlergiaCabE@ Q
pRcePahAlergiaCabER d
)d e
{ 	
RcePahAlergiaCabE 
oRcePahAlergiaCabE 0
=1 2
new3 6
RcePahAlergiaCabE7 H
(H I
)I J
;J K
switch 
( 
pRcePahAlergiaCabE &
.& '
Orden' ,
), -
{ 
case 
$num 
: 
{ 
oRcePahAlergiaCabE *
.* +
IdeAlergiaCab+ 8
=9 :
(; <
int< ?
)? @
drA C
[C D
$strD U
]U V
;V W
oRcePahAlergiaCabE *
.* +

IndAlergia+ 5
=6 7
(8 9
string9 ?
)? @
drA C
[C D
$strD Q
]Q R
+S T
$strU W
;W X
oRcePahAlergiaCabE *
.* +
DscHospitalizado+ ;
=< =
(> ?
string? E
)E F
drG I
[I J
$strJ ]
]] ^
;^ _
oRcePahAlergiaCabE *
.* +
DscRepresentante+ ;
=< =
(> ?
string? E
)E F
drG I
[I J
$strJ ]
]] ^
;^ _
oRcePahAlergiaCabE *
.* +
DscHabitacion+ 8
=9 :
(; <
string< B
)B C
drD F
[F G
$strG W
]W X
;X Y
oRcePahAlergiaCabE *
.* +
DscAlimentos+ 7
=8 9
(: ;
string; A
)A B
drC E
[E F
$strF U
]U V
;V W
oRcePahAlergiaCabE *
.* +
DscOtros+ 3
=4 5
(6 7
string7 =
)= >
dr? A
[A B
$strB M
]M N
;N O
oRcePahAlergiaCabE *
.* +
IdePreAdmision+ 9
=: ;
(< =
int= @
)@ A
drB D
[D E
$strE W
]W X
;X Y
oRcePahAlergiaCabE *
.* +
IdeMedicacionCab+ ;
=< =
(> ?
int? B
)B C
drD F
[F G
$strG [
][ \
;\ ]
break   
;   
}!! 
}"" 
return## 
oRcePahAlergiaCabE## %
;##% &
}$$ 	
public&& 
List&& 
<&& 
RcePahAlergiaCabE&& %
>&&% &(
Sp_RcePahAlergiaCab_Consulta&&' C
(&&C D
RcePahAlergiaCabE&&D U
pRcePahAlergiaCabE&&V h
)&&h i
{'' 	
IDataReader(( 
dr(( 
;(( 
RcePahAlergiaCabE)) 
oRcePahAlergiaCabE)) 0
=))1 2
null))3 7
;))v w
List** 
<** 
RcePahAlergiaCabE** "
>**" #
oListar**$ +
=**, -
new**. 1
List**2 6
<**6 7
RcePahAlergiaCabE**7 H
>**H I
(**I J
)**J K
;**K L
try++ 
{,, 
using-- 
(-- 
SqlConnection-- $
cnn--% (
=--) *
new--+ .
SqlConnection--/ <
(--< =
VariablesGlobales--= N
.--N O

CnnClinica--O Y
)--Y Z
)--Z [
{.. 
using// 
(// 

SqlCommand// %
cmd//& )
=//* +
new//, /

SqlCommand//0 :
(//: ;
$str//; Y
,//Y Z
cnn//[ ^
)//^ _
)//_ `
{00 
cmd11 
.11 
CommandType11 '
=11( )
CommandType11* 5
.115 6
StoredProcedure116 E
;11E F
cmd33 
.33 

Parameters33 &
.33& '
AddWithValue33' 3
(333 4
$str334 F
,33F G
pRcePahAlergiaCabE33H Z
.33Z [
IdeAlergiaCab33[ h
)33h i
;33i j
cmd44 
.44 

Parameters44 &
.44& '
AddWithValue44' 3
(443 4
$str444 C
,44C D
pRcePahAlergiaCabE44E W
.44W X
CodAtencion44X c
)44c d
;44d e
cmd55 
.55 

Parameters55 &
.55& '
AddWithValue55' 3
(553 4
$str554 <
,55< =
pRcePahAlergiaCabE55> P
.55P Q
Orden55Q V
)55V W
;55W X
cnn66 
.66 
Open66  
(66  !
)66! "
;66" #
dr77 
=77 
cmd77  
.77  !
ExecuteReader77! .
(77. /
)77/ 0
;770 1
while88 
(88 
dr88 !
.88! "
Read88" &
(88& '
)88' (
)88( )
{99 
oRcePahAlergiaCabE:: .
=::/ 0
LlenarEntidad::1 >
(::> ?
dr::? A
,::A B
pRcePahAlergiaCabE::C U
)::U V
;::V W
oListar;; #
.;;# $
Add;;$ '
(;;' (
oRcePahAlergiaCabE;;( :
);;: ;
;;;; <
}<< 
dr== 
.== 
Close==  
(==  !
)==! "
;==" #
dr>> 
.>> 
Dispose>> "
(>>" #
)>># $
;>>$ %
cmd?? 
.?? 
Dispose?? #
(??# $
)??$ %
;??% &
cnn@@ 
.@@ 
Close@@ !
(@@! "
)@@" #
;@@# $
cnnAA 
.AA 
DisposeAA #
(AA# $
)AA$ %
;AA% &
returnCC 
oListarCC &
;CC& '
}DD 
}EE 
}FF 
catchGG 
(GG 
	ExceptionGG 
exGG 
)GG  
{HH 
throwII 
newII 
	ExceptionII #
(II# $
exII$ &
.II& '
MessageII' .
)II. /
;II/ 0
}JJ 
}KK 	
publicMM 
boolMM &
Sp_RcePahAlergiaCab_InsertMM .
(MM. /
RcePahAlergiaCabEMM/ @
pRcePahAlergiaCabEMMA S
)MMS T
{NN 	
tryOO 
{PP 
usingQQ 
(QQ 
SqlConnectionQQ $
cnnQQ% (
=QQ) *
newQQ+ .
SqlConnectionQQ/ <
(QQ< =
VariablesGlobalesQQ= N
.QQN O

CnnClinicaQQO Y
)QQY Z
)QQZ [
{RR 
usingSS 
(SS 

SqlCommandSS %
cmdSS& )
=SS* +
newSS, /

SqlCommandSS0 :
(SS: ;
$strSS; W
,SSW X
cnnSSY \
)SS\ ]
)SS] ^
{TT 
cmdUU 
.UU 
CommandTypeUU '
=UU( )
CommandTypeUU* 5
.UU5 6
StoredProcedureUU6 E
;UUE F
cmdWW 
.WW 

ParametersWW &
.WW& '
AddWithValueWW' 3
(WW3 4
$strWW4 G
,WWG H
pRcePahAlergiaCabEWWI [
.WW[ \
IdePreAdmisionWW\ j
)WWj k
;WWk l
cmdXX 
.XX 

ParametersXX &
.XX& '
AddWithValueXX' 3
(XX3 4
$strXX4 B
,XXB C
pRcePahAlergiaCabEXXD V
.XXV W

IndAlergiaXXW a
)XXa b
;XXb c
cmdYY 
.YY 

ParametersYY &
.YY& '
AddWithValueYY' 3
(YY3 4
$strYY4 H
,YYH I
pRcePahAlergiaCabEYYJ \
.YY\ ]
DscHospitalizadoYY] m
)YYm n
;YYn o
cmdZZ 
.ZZ 

ParametersZZ &
.ZZ& '
AddWithValueZZ' 3
(ZZ3 4
$strZZ4 H
,ZZH I
pRcePahAlergiaCabEZZJ \
.ZZ\ ]
DscRepresentanteZZ] m
)ZZm n
;ZZn o
cmd[[ 
.[[ 

Parameters[[ &
.[[& '
AddWithValue[[' 3
([[3 4
$str[[4 E
,[[E F
pRcePahAlergiaCabE[[G Y
.[[Y Z
DscHabitacion[[Z g
)[[g h
;[[h i
cmd\\ 
.\\ 

Parameters\\ &
.\\& '
AddWithValue\\' 3
(\\3 4
$str\\4 D
,\\D E
pRcePahAlergiaCabE\\F X
.\\X Y
DscAlimentos\\Y e
)\\e f
;\\f g
cmd]] 
.]] 

Parameters]] &
.]]& '
AddWithValue]]' 3
(]]3 4
$str]]4 @
,]]@ A
pRcePahAlergiaCabE]]B T
.]]T U
DscOtros]]U ]
)]]] ^
;]]^ _
cmd^^ 
.^^ 

Parameters^^ &
.^^& '
AddWithValue^^' 3
(^^3 4
$str^^4 E
,^^E F
pRcePahAlergiaCabE^^G Y
.^^Y Z
DscRespEnvio^^Z f
)^^f g
;^^g h
cmd__ 
.__ 

Parameters__ &
.__& '
AddWithValue__' 3
(__3 4
$str__4 A
,__A B
pRcePahAlergiaCabE__C U
.__U V
	FlgEstado__V _
)___ `
;__` a
cmd`` 
.`` 

Parameters`` &
.``& '
Add``' *
(``* +
VariablesGlobales``+ <
.``< =
ParametroSql``= I
(``I J
$str``J \
,``\ ]
ParameterDirection``^ p
.``p q
InputOutput``q |
,``| }
	SqlDbType	``~ á
.
``á à
Int
``à ã
,
``ã å
$num
``ç é
,
``é è 
pRcePahAlergiaCabE
``ê ¢
.
``¢ £
IdeAlergiaCab
``£ ∞
.
``∞ ±
ToString
``± π
(
``π ∫
)
``∫ ª
)
``ª º
)
``º Ω
;
``Ω æ
cnnaa 
.aa 
Openaa  
(aa  !
)aa! "
;aa" #
ifbb 
(bb 
cmdbb 
.bb  
ExecuteNonQuerybb  /
(bb/ 0
)bb0 1
>=bb2 4
$numbb5 6
)bb6 7
{cc 
pRcePahAlergiaCabEdd .
.dd. /
IdeAlergiaCabdd/ <
=dd= >
(dd? @
intdd@ C
)ddC D
cmdddD G
.ddG H

ParametersddH R
[ddR S
$strddS e
]dde f
.ddf g
Valueddg l
;ddl m
returnee "
trueee# '
;ee' (
}ff 
elsegg 
returnhh "
falsehh# (
;hh( )
cmdii 
.ii 
Disposeii #
(ii# $
)ii$ %
;ii% &
cnnjj 
.jj 
Closejj !
(jj! "
)jj" #
;jj# $
cnnkk 
.kk 
Disposekk #
(kk# $
)kk$ %
;kk% &
}ll 
}mm 
}nn 
catchoo 
(oo 
	Exceptionoo 
exoo 
)oo  
{pp 
throwqq 
newqq 
	Exceptionqq #
(qq# $
exqq$ &
.qq& '
Messageqq' .
)qq. /
;qq/ 0
}rr 
}ss 	
publicuu 
booluu &
Sp_RcePahAlergiaCab_Updateuu .
(uu. /
RcePahAlergiaCabEuu/ @
pRcePahAlergiaCabEuuA S
)uuS T
{vv 	
tryww 
{xx 
usingyy 
(yy 
SqlConnectionyy $
cnnyy% (
=yy) *
newyy+ .
SqlConnectionyy/ <
(yy< =
VariablesGlobalesyy= N
.yyN O

CnnClinicayyO Y
)yyY Z
)yyZ [
{zz 
using{{ 
({{ 

SqlCommand{{ %
cmd{{& )
={{* +
new{{, /

SqlCommand{{0 :
({{: ;
$str{{; W
,{{W X
cnn{{Y \
){{\ ]
){{] ^
{|| 
cmd}} 
.}} 
CommandType}} '
=}}( )
CommandType}}* 5
.}}5 6
StoredProcedure}}6 E
;}}E F
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 C
,C D
pRcePahAlergiaCabEE W
.W X
CodPacienteX c
)c d
;d e
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 C
,
ÄÄC D 
pRcePahAlergiaCabE
ÄÄE W
.
ÄÄW X
CodAtencion
ÄÄX c
)
ÄÄc d
;
ÄÄd e
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 B
,
ÅÅB C 
pRcePahAlergiaCabE
ÅÅD V
.
ÅÅV W

IndAlergia
ÅÅW a
)
ÅÅa b
;
ÅÅb c
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 C
,
ÇÇC D 
pRcePahAlergiaCabE
ÇÇE W
.
ÇÇW X
DscHospitalizado
ÇÇX h
)
ÇÇh i
;
ÇÇi j
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 H
,
ÉÉH I 
pRcePahAlergiaCabE
ÉÉJ \
.
ÉÉ\ ]
DscRepresentante
ÉÉ] m
)
ÉÉm n
;
ÉÉn o
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 E
,
ÑÑE F 
pRcePahAlergiaCabE
ÑÑG Y
.
ÑÑY Z
DscHabitacion
ÑÑZ g
)
ÑÑg h
;
ÑÑh i
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 D
,
ÖÖD E 
pRcePahAlergiaCabE
ÖÖF X
.
ÖÖX Y
DscAlimentos
ÖÖY e
)
ÖÖe f
;
ÖÖf g
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 @
,
ÜÜ@ A 
pRcePahAlergiaCabE
ÜÜB T
.
ÜÜT U
DscOtros
ÜÜU ]
)
ÜÜ] ^
;
ÜÜ^ _
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 E
,
ááE F 
pRcePahAlergiaCabE
ááG Y
.
ááY Z
DscRespEnvio
ááZ f
)
ááf g
;
áág h
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 A
,
ààA B 
pRcePahAlergiaCabE
ààC U
.
ààU V
	FlgEstado
ààV _
)
àà_ `
;
àà` a
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 C
,
ââC D 
pRcePahAlergiaCabE
ââE W
.
ââW X
FecRegistro
ââX c
)
ââc d
;
ââd e
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 F
,
ääF G 
pRcePahAlergiaCabE
ääH Z
.
ääZ [
IdeAlergiaCab
ää[ h
)
ääh i
;
ääi j
cnn
ãã 
.
ãã 
Open
ãã  
(
ãã  !
)
ãã! "
;
ãã" #
if
åå 
(
åå 
cmd
åå 
.
åå  
ExecuteNonQuery
åå  /
(
åå/ 0
)
åå0 1
>=
åå2 4
$num
åå5 6
)
åå6 7
return
çç "
true
çç# '
;
çç' (
else
éé 
return
èè "
false
èè# (
;
èè( )
cmd
êê 
.
êê 
Dispose
êê #
(
êê# $
)
êê$ %
;
êê% &
cnn
ëë 
.
ëë 
Close
ëë !
(
ëë! "
)
ëë" #
;
ëë# $
cnn
íí 
.
íí 
Dispose
íí #
(
íí# $
)
íí$ %
;
íí% &
}
ìì 
}
îî 
}
ïï 
catch
ññ 
(
ññ 
	Exception
ññ 
ex
ññ 
)
ññ  
{
óó 
throw
òò 
new
òò 
	Exception
òò #
(
òò# $
ex
òò$ &
.
òò& '
Message
òò' .
)
òò. /
;
òò/ 0
}
ôô 
}
öö 	
public
úú 
bool
úú .
 Sp_RcePahAlergiaCab_UpdatexCampo
úú 4
(
úú4 5
RcePahAlergiaCabE
úú5 F 
pRcePahAlergiaCabE
úúG Y
)
úúY Z
{
ùù 	
try
ûû 
{
üü 
using
†† 
(
†† 
SqlConnection
†† $
cnn
††% (
=
††) *
new
††+ .
SqlConnection
††/ <
(
††< =
VariablesGlobales
††= N
.
††N O

CnnClinica
††O Y
)
††Y Z
)
††Z [
{
°° 
using
¢¢ 
(
¢¢ 

SqlCommand
¢¢ %
cmd
¢¢& )
=
¢¢* +
new
¢¢, /

SqlCommand
¢¢0 :
(
¢¢: ;
$str
¢¢; ]
,
¢¢] ^
cnn
¢¢_ b
)
¢¢b c
)
¢¢c d
{
££ 
cmd
§§ 
.
§§ 
CommandType
§§ '
=
§§( )
CommandType
§§* 5
.
§§5 6
StoredProcedure
§§6 E
;
§§E F
cmd
¶¶ 
.
¶¶ 

Parameters
¶¶ &
.
¶¶& '
AddWithValue
¶¶' 3
(
¶¶3 4
$str
¶¶4 F
,
¶¶F G 
pRcePahAlergiaCabE
¶¶H Z
.
¶¶Z [
IdeAlergiaCab
¶¶[ h
)
¶¶h i
;
¶¶i j
cmd
ßß 
.
ßß 

Parameters
ßß &
.
ßß& '
AddWithValue
ßß' 3
(
ßß3 4
$str
ßß4 B
,
ßßB C 
pRcePahAlergiaCabE
ßßD V
.
ßßV W

NuevoValor
ßßW a
)
ßßa b
;
ßßb c
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
AddWithValue
®®' 3
(
®®3 4
$str
®®4 <
,
®®< = 
pRcePahAlergiaCabE
®®> P
.
®®P Q
Campo
®®Q V
)
®®V W
;
®®W X
cnn
©© 
.
©© 
Open
©©  
(
©©  !
)
©©! "
;
©©" #
if
™™ 
(
™™ 
cmd
™™ 
.
™™  
ExecuteNonQuery
™™  /
(
™™/ 0
)
™™0 1
>=
™™2 4
$num
™™5 6
)
™™6 7
return
´´ "
true
´´# '
;
´´' (
else
¨¨ 
return
≠≠ "
false
≠≠# (
;
≠≠( )
cmd
ÆÆ 
.
ÆÆ 
Dispose
ÆÆ #
(
ÆÆ# $
)
ÆÆ$ %
;
ÆÆ% &
cnn
ØØ 
.
ØØ 
Close
ØØ !
(
ØØ! "
)
ØØ" #
;
ØØ# $
cnn
∞∞ 
.
∞∞ 
Dispose
∞∞ #
(
∞∞# $
)
∞∞$ %
;
∞∞% &
}
±± 
}
≤≤ 
}
≥≥ 
catch
¥¥ 
(
¥¥ 
	Exception
¥¥ 
ex
¥¥ 
)
¥¥  
{
µµ 
throw
∂∂ 
new
∂∂ 
	Exception
∂∂ #
(
∂∂# $
ex
∂∂$ &
.
∂∂& '
Message
∂∂' .
)
∂∂. /
;
∂∂/ 0
}
∑∑ 
}
∏∏ 	
public
∫∫ 
bool
∫∫ (
Sp_RcePahAlergiaCab_Delete
∫∫ .
(
∫∫. /
RcePahAlergiaCabE
∫∫/ @ 
pRcePahAlergiaCabE
∫∫A S
)
∫∫S T
{
ªª 	
try
ºº 
{
ΩΩ 
using
ææ 
(
ææ 
SqlConnection
ææ $
cnn
ææ% (
=
ææ) *
new
ææ+ .
SqlConnection
ææ/ <
(
ææ< =
VariablesGlobales
ææ= N
.
ææN O

CnnClinica
ææO Y
)
ææY Z
)
ææZ [
{
øø 
using
¿¿ 
(
¿¿ 

SqlCommand
¿¿ %
cmd
¿¿& )
=
¿¿* +
new
¿¿, /

SqlCommand
¿¿0 :
(
¿¿: ;
$str
¿¿; W
,
¿¿W X
cnn
¿¿Y \
)
¿¿\ ]
)
¿¿] ^
{
¡¡ 
cmd
¬¬ 
.
¬¬ 
CommandType
¬¬ '
=
¬¬( )
CommandType
¬¬* 5
.
¬¬5 6
StoredProcedure
¬¬6 E
;
¬¬E F
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ &
.
ƒƒ& '
AddWithValue
ƒƒ' 3
(
ƒƒ3 4
$str
ƒƒ4 C
,
ƒƒC D 
pRcePahAlergiaCabE
ƒƒE W
.
ƒƒW X
CodAtencion
ƒƒX c
)
ƒƒc d
;
ƒƒd e
cnn
≈≈ 
.
≈≈ 
Open
≈≈  
(
≈≈  !
)
≈≈! "
;
≈≈" #
if
∆∆ 
(
∆∆ 
cmd
∆∆ 
.
∆∆  
ExecuteNonQuery
∆∆  /
(
∆∆/ 0
)
∆∆0 1
>=
∆∆2 4
$num
∆∆5 6
)
∆∆6 7
return
«« "
true
««# '
;
««' (
else
»» 
return
…… "
false
……# (
;
……( )
cmd
   
.
   
Dispose
   #
(
  # $
)
  $ %
;
  % &
cnn
ÀÀ 
.
ÀÀ 
Close
ÀÀ !
(
ÀÀ! "
)
ÀÀ" #
;
ÀÀ# $
cnn
ÃÃ 
.
ÃÃ 
Dispose
ÃÃ #
(
ÃÃ# $
)
ÃÃ$ %
;
ÃÃ% &
}
ÕÕ 
}
ŒŒ 
}
œœ 
catch
–– 
(
–– 
	Exception
–– 
ex
–– 
)
––  
{
—— 
throw
““ 
new
““ 
	Exception
““ #
(
““# $
ex
““$ &
.
““& '
Message
““' .
)
““. /
;
““/ 0
}
”” 
}
‘‘ 	
}
’’ 
}÷÷ Ï
cD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RceHistoriaClinicaCabAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
RceAD

 !
{ 
public 

class #
RceHistoriaClinicaCabAD (
{ 
public 
int .
"Sp_RceHistoriaClinicaCab_ObtenerID 5
(5 6"
RceHistoriaClinicaCabE6 L#
pRceHistoriaClinicaCabEM d
)d e
{ 	
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; _
,_ `
cnna d
)d e
)e f
{ 
cmd 
. 
CommandType '
=( )
CommandType* 5
.5 6
StoredProcedure6 E
;E F
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 C
,C D#
pRceHistoriaClinicaCabEE \
.\ ]
cod_atencion] i
)i j
;j k
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 C
,C D#
pRceHistoriaClinicaCabEE \
.\ ]
cod_paciente] i
)i j
;j k
cmd 
. 

Parameters &
.& '
Add' *
(* +
new+ .
SqlParameter/ ;
(; <
$str< K
,K L
	SqlDbTypeM V
.V W
IntW Z
)Z [
{\ ]
	Direction^ g
=h i
ParameterDirectionj |
.| }
Output	} É
,
É Ñ

IsNullable
Ö è
=
ê ë
true
í ñ
}
ó ò
)
ò ô
;
ô ö
cnn 
. 
Open  
(  !
)! "
;" #
cmd 
. 
ExecuteNonQuery +
(+ ,
), -
;- .
int 
	Resultado %
=& '
(( )
int) ,
), -
cmd- 0
.0 1

Parameters1 ;
[; <
$str< K
]K L
.L M
ValueM R
;R S
cmd!! 
.!! 
Dispose!! #
(!!# $
)!!$ %
;!!% &
cnn"" 
."" 
Close"" !
(""! "
)""" #
;""# $
cnn## 
.## 
Dispose## #
(### $
)##$ %
;##% &
return%% 
	Resultado%% (
;%%( )
}&& 
}'' 
}(( 
catch)) 
()) 
	Exception)) 
ex)) 
)))  
{** 
throw++ 
new++ 
	Exception++ #
(++# $
ex++$ &
.++& '
Message++' .
)++. /
;++/ 0
},, 
}-- 	
}// 
}00 ¢&
TD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\RceAD\RceCptAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
RceAD !
{ 
public 

class 
RceCptAD 
{ 
public 
List 
< 
RceCptE 
>  
Sp_Cpt_ListarDetalle 1
(1 2
)2 3
{ 	
IDataReader 
dr 
; 
int 
orden 
= 
$num 
; 
RceCptE 
oRceCptE 
= 
null #
;# $
List 
< 
RceCptE 
> 
oListar !
=" #
new$ '
List( ,
<, -
RceCptE- 4
>4 5
(5 6
)6 7
;7 8
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; Q
,Q R
cnnS V
)V W
)W X
{ 
cmd   
.   
CommandType   '
=  ( )
CommandType  * 5
.  5 6
StoredProcedure  6 E
;  E F
cnn"" 
."" 
Open""  
(""  !
)""! "
;""" #
dr## 
=## 
cmd##  
.##  !
ExecuteReader##! .
(##. /
)##/ 0
;##0 1
while$$ 
($$ 
dr$$ !
.$$! "
Read$$" &
($$& '
)$$' (
)$$( )
{%% 
oRceCptE&& $
=&&% &
LlenarEntidad&&' 4
(&&4 5
dr&&5 7
,&&7 8
orden&&9 >
)&&> ?
;&&? @
oListar'' #
.''# $
Add''$ '
(''' (
oRceCptE''( 0
)''0 1
;''1 2
}(( 
dr)) 
.)) 
Close))  
())  !
)))! "
;))" #
dr** 
.** 
Dispose** "
(**" #
)**# $
;**$ %
cmd++ 
.++ 
Dispose++ #
(++# $
)++$ %
;++% &
cnn,, 
.,, 
Close,, !
(,,! "
),," #
;,,# $
cnn-- 
.-- 
Dispose-- #
(--# $
)--$ %
;--% &
return// 
oListar// &
;//& '
}00 
}11 
}22 
catch33 
(33 
	Exception33 
ex33 
)33  
{44 
throw55 
new55 
	Exception55 #
(55# $
ex55$ &
.55& '
Message55' .
)55. /
;55/ 0
}66 
}77 	
private99 
RceCptE99 
LlenarEntidad99 %
(99% &
IDataReader99& 1
dr992 4
,994 5
int996 9
orden99: ?
)99? @
{:: 	
RceCptE;; 
oRceCptE;; 
=;; 
new;; "
RceCptE;;# *
(;;* +
);;+ ,
;;;, -
switch<< 
(<< 
orden<< 
)<< 
{== 
case>> 
$num>> 
:>> 
{?? 
oRceCptE@@  
.@@  !
cod_cpt@@! (
=@@) *
(@@+ ,
string@@, 2
)@@2 3
dr@@3 5
[@@5 6
$str@@6 ?
]@@? @
;@@@ A
oRceCptEAA  
.AA  !
dsc_cptAA! (
=AA) *
(AA+ ,
stringAA, 2
)AA2 3
drAA3 5
[AA5 6
$strAA6 ?
]AA? @
+AAA B
$strAAC E
;AAE F
oRceCptEBB  
.BB  !
	cod_segusBB! *
=BB+ ,
(BB- .
stringBB. 4
)BB4 5
drBB5 7
[BB7 8
$strBB8 C
]BBC D
;BBD E
oRceCptECC  
.CC  !
	dsc_segusCC! *
=CC+ ,
(CC- .
stringCC. 4
)CC4 5
drCC5 7
[CC7 8
$strCC8 C
]CCC D
;CCD E
oRceCptEDD  
.DD  !
guarismoDD! )
=DD* +
(DD, -
stringDD- 3
)DD3 4
drDD4 6
[DD6 7
$strDD7 A
]DDA B
;DDB C
breakFF 
;FF 
}GG 
}HH 
returnII 
oRceCptEII 
;II 
}JJ 	
}KK 
}LL Ô€
jD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\PrestacionesAD\PrestacionesClinicaAD.cs
	namespace 	
Dat
 
. 
Sql 
{ 
public 

class !
PrestacionesClinicaAD &
{ 
static		 
string		 %
USP_PRESTACIONES_CONSULTA		 /
=		0 1
$str		2 Q
;		Q R
static

 
string

 %
USP_PRESTACIONES_REGISTRO

 /
=

0 1
$str

2 R
;

R S
public 
async 
Task 
< !
ResultadoTransactionE /
</ 0 
PrestacionesClinicaE0 D
>D E
>E F 
Listado_PrestacionesG [
([ \
PrestacionBusqE\ k
objl o
)o p
{ 	!
ResultadoTransactionE !
<! " 
PrestacionesClinicaE" 6
>6 7
	resultado8 A
=B C
newD G!
ResultadoTransactionEH ]
<] ^ 
PrestacionesClinicaE^ r
>r s
(t u
)u v
;v w
List 
<  
PrestacionesClinicaE %
>% &
Listado' .
=/ 0
new1 4
List5 9
<9 : 
PrestacionesClinicaE: N
>N O
(O P
)P Q
;Q R
using 
( 
SqlConnection  
cnn! $
=% &
new' *
SqlConnection+ 8
(8 9
VariablesGlobales9 J
.J K

CnnClinicaK U
)U V
)V W
{ 
cnn 
. 
Open 
( 
) 
; 
using 
( 

SqlCommand !
cmd" %
=& '
new( +

SqlCommand, 6
(6 7%
USP_PRESTACIONES_CONSULTA7 P
,P Q
cnnR U
)U V
)V W
{ 
try 
{ 
cmd 
. 
CommandType '
=( )
CommandType* 5
.5 6
StoredProcedure6 E
;E F
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 <
,< =
obj> A
.A B
ordenB G
)G H
;H I
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 D
,D E
objF I
.I J
codprestacionJ W
)W X
;X Y
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 @
,@ A
objB E
.E F
	codtarifaF O
)O P
;P Q
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 ;
,; <
obj= @
.@ A
busqA E
)E F
;F G
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 ?
,? @
objA D
.D E
flglimitE M
)M N
;N O
using 
( 
SqlDataReader ,
reader- 3
=4 5
await6 ;
cmd< ?
.? @
ExecuteReaderAsync@ R
(R S
)S T
)T U
{ 
while !
(" #
reader# )
.) *
Read* .
(. /
)/ 0
)0 1
{    
PrestacionesClinicaE!!  4
objprestacion!!5 B
=!!C D
new!!E H 
PrestacionesClinicaE!!I ]
(!!] ^
)!!^ _
;!!_ `
objprestacion""  -
.""- .
codprestacion"". ;
=""< =
reader""> D
[""D E
$str""E T
]""T U
.""U V
ToString""V ^
(""^ _
)""_ `
.""` a
Trim""a e
(""e f
)""f g
;""g h
objprestacion##  -
.##- .

prestacion##. 8
=##9 :
reader##; A
[##A B
$str##B J
]##J K
.##K L
ToString##L T
(##T U
)##U V
.##V W
Trim##W [
(##[ \
)##\ ]
;##] ^
Listado$$  '
.$$' (
Add$$( +
($$+ ,
objprestacion$$, 9
)$$9 :
;$$: ;
}%% 
}&& 
	resultado'' !
.''! "

IdRegistro''" ,
=''- .
$num''/ 0
;''0 1
	resultado(( !
.((! "
Mensaje((" )
=((* +
$str((, 0
;((0 1
	resultado)) !
.))! "
DataList))" *
=))+ ,
Listado))- 4
;))4 5
}++ 
catch,, 
(,, 
	Exception,, $
ex,,% '
),,' (
{-- 
	resultado.. !
...! "

IdRegistro.." ,
=..- .
-../ 0
$num..0 1
;..1 2
	resultado// !
.//! "
Mensaje//" )
=//* +
ex//, .
.//. /
Message/// 6
;//6 7
}00 
finally11 
{22 
cnn33 
.33 
Close33 !
(33! "
)33" #
;33# $
}44 
}55 
}66 
return77 
	resultado77 
;77 
}88 	
public:: 
async:: 
Task:: 
<:: !
ResultadoTransactionE:: /
<::/ 0
TarifaClinicaE::0 >
>::> ?
>::? @
Listado_Tarifario::A R
(::R S
PrestacionBusqE::S b
obj::c f
)::f g
{;; 	!
ResultadoTransactionE<< !
<<<! "
TarifaClinicaE<<" 0
><<0 1
	resultado<<2 ;
=<<< =
new<<> A!
ResultadoTransactionE<<B W
<<<W X
TarifaClinicaE<<X f
><<f g
(<<g h
)<<h i
;<<i j
List== 
<== 
TarifaClinicaE== 
>==  
Listado==! (
===) *
new==+ .
List==/ 3
<==3 4
TarifaClinicaE==4 B
>==B C
(==C D
)==D E
;==E F
using>> 
(>> 
SqlConnection>>  
cnn>>! $
=>>% &
new>>' *
SqlConnection>>+ 8
(>>8 9
VariablesGlobales>>9 J
.>>J K

CnnClinica>>K U
)>>U V
)>>V W
{?? 
cnn@@ 
.@@ 
Open@@ 
(@@ 
)@@ 
;@@ 
usingAA 
(AA 

SqlCommandAA !
cmdAA" %
=AA& '
newAA( +

SqlCommandAA, 6
(AA6 7%
USP_PRESTACIONES_CONSULTAAA7 P
,AAP Q
cnnAAR U
)AAU V
)AAV W
{BB 
tryCC 
{DD 
cmdEE 
.EE 
CommandTypeEE '
=EE( )
CommandTypeEE* 5
.EE5 6
StoredProcedureEE6 E
;EEE F
cmdFF 
.FF 

ParametersFF &
.FF& '
AddWithValueFF' 3
(FF3 4
$strFF4 <
,FF< =
objFF> A
.FFA B
ordenFFB G
)FFG H
;FFH I
cmdGG 
.GG 

ParametersGG &
.GG& '
AddWithValueGG' 3
(GG3 4
$strGG4 D
,GGD E
objGGF I
.GGI J
codprestacionGGJ W
)GGW X
;GGX Y
cmdHH 
.HH 

ParametersHH &
.HH& '
AddWithValueHH' 3
(HH3 4
$strHH4 @
,HH@ A
objHHB E
.HHE F
	codtarifaHHF O
)HHO P
;HHP Q
cmdII 
.II 

ParametersII &
.II& '
AddWithValueII' 3
(II3 4
$strII4 ;
,II; <
objII= @
.II@ A
busqIIA E
)IIE F
;IIF G
cmdJJ 
.JJ 

ParametersJJ &
.JJ& '
AddWithValueJJ' 3
(JJ3 4
$strJJ4 ?
,JJ? @
objJJA D
.JJD E
flglimitJJE M
)JJM N
;JJN O
usingKK 
(KK 
SqlDataReaderKK ,
readerKK- 3
=KK4 5
awaitKK6 ;
cmdKK< ?
.KK? @
ExecuteReaderAsyncKK@ R
(KKR S
)KKS T
)KKT U
{LL 
whileMM !
(MM" #
readerMM# )
.MM) *
ReadMM* .
(MM. /
)MM/ 0
)MM0 1
{NN 
TarifaClinicaEOO  .
	objtarifaOO/ 8
=OO9 :
newOO; >
TarifaClinicaEOO? M
(OOM N
)OON O
;OOO P
	objtarifaPP  )
.PP) *
	codtarifaPP* 3
=PP4 5
readerPP6 <
[PP< =
$strPP= H
]PPH I
.PPI J
ToStringPPJ R
(PPR S
)PPS T
;PPT U
	objtarifaQQ  )
.QQ) *
tarifaQQ* 0
=QQ1 2
readerQQ3 9
[QQ9 :
$strQQ: B
]QQB C
.QQC D
ToStringQQD L
(QQL M
)QQM N
;QQN O
	objtarifaRR  )
.RR) *
pesoRR* .
=RR/ 0
ConvertRR1 8
.RR8 9
ToDoubleRR9 A
(RRA B
readerRRB H
[RRH I
$strRRI O
]RRO P
.RRP Q
ToStringRRQ Y
(RRY Z
)RRZ [
)RR[ \
;RR\ ]
ListadoSS  '
.SS' (
AddSS( +
(SS+ ,
	objtarifaSS, 5
)SS5 6
;SS6 7
}TT 
}UU 
	resultadoWW !
.WW! "

IdRegistroWW" ,
=WW- .
$numWW/ 0
;WW0 1
	resultadoXX !
.XX! "
MensajeXX" )
=XX* +
$strXX, 0
;XX0 1
	resultadoYY !
.YY! "
DataListYY" *
=YY+ ,
ListadoYY- 4
;YY4 5
}ZZ 
catch[[ 
([[ 
	Exception[[ $
ex[[% '
)[[' (
{\\ 
	resultado]] !
.]]! "

IdRegistro]]" ,
=]]- .
-]]/ 0
$num]]0 1
;]]1 2
	resultado^^ !
.^^! "
Mensaje^^" )
=^^* +
ex^^, .
.^^. /
Message^^/ 6
;^^6 7
}__ 
finally`` 
{aa 
cnnbb 
.bb 
Closebb !
(bb! "
)bb" #
;bb# $
}cc 
}dd 
returnee 
	resultadoee  
;ee  !
}ff 
}gg 	
publicii 
asyncii 
Taskii 
<ii !
ResultadoTransactionEii /
<ii/ 0 
PrestacionesClinicaEii0 D
>iiD E
>iiE F'
Listado_PrestacionTarifarioiiG b
(iib c
PrestacionBusqEiic r
objiis v
)iiv w
{jj 	!
ResultadoTransactionEkk !
<kk! " 
PrestacionesClinicaEkk" 6
>kk6 7
	resultadokk8 A
=kkB C
newkkD G!
ResultadoTransactionEkkH ]
<kk] ^ 
PrestacionesClinicaEkk^ r
>kkr s
(kks t
)kkt u
;kku v
Listll 
<ll  
PrestacionesClinicaEll %
>ll% &
_listprestacionll' 6
=ll7 8
newll9 <
Listll= A
<llA B 
PrestacionesClinicaEllB V
>llV W
(llW X
)llX Y
;llY Z
usingmm 
(mm 
SqlConnectionmm  
cnnmm! $
=mm% &
newmm' *
SqlConnectionmm+ 8
(mm8 9
VariablesGlobalesmm9 J
.mmJ K

CnnClinicammK U
)mmU V
)mmV W
{nn 
cnnoo 
.oo 
Openoo 
(oo 
)oo 
;oo 
usingpp 
(pp 

SqlCommandpp !
cmdpp" %
=pp& '
newpp( +

SqlCommandpp, 6
(pp6 7%
USP_PRESTACIONES_CONSULTApp7 P
,ppP Q
cnnppR U
)ppU V
)ppV W
{qq 
tryrr 
{ss 
cmdtt 
.tt 
CommandTypett '
=tt( )
CommandTypett* 5
.tt5 6
StoredProcedurett6 E
;ttE F
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 <
,uu< =
objuu> A
.uuA B
ordenuuB G
)uuG H
;uuH I
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 D
,vvD E
objvvF I
.vvI J
codprestacionvvJ W
)vvW X
;vvX Y
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 @
,ww@ A
objwwB E
.wwE F
	codtarifawwF O
)wwO P
;wwP Q
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 ;
,xx; <
objxx= @
.xx@ A
busqxxA E
)xxE F
;xxF G
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 ?
,yy? @
objyyA D
.yyD E
flglimityyE M
)yyM N
;yyN O
usingzz 
(zz 
SqlDataReaderzz ,
readerzz- 3
=zz4 5
awaitzz6 ;
cmdzz< ?
.zz? @
ExecuteReaderAsynczz@ R
(zzR S
)zzS T
)zzT U
{{{ 
int|| 
itemdata||  (
=||) *
$num||+ ,
;||, -
while}} !
(}}" #
reader}}# )
.}}) *
Read}}* .
(}}. /
)}}/ 0
)}}0 1
{~~ 
itemdata  (
++( *
;* +"
PrestacionesClinicaE
ÄÄ  4
objprestacion
ÄÄ5 B
=
ÄÄC D
new
ÄÄE H"
PrestacionesClinicaE
ÄÄI ]
(
ÄÄ] ^
)
ÄÄ^ _
;
ÄÄ_ `
objprestacion
ÅÅ  -
.
ÅÅ- .
Item
ÅÅ. 2
=
ÅÅ3 4
itemdata
ÅÅ5 =
;
ÅÅ= >
objprestacion
ÇÇ  -
.
ÇÇ- .

codperiodo
ÇÇ. 8
=
ÇÇ9 :
reader
ÇÇ; A
[
ÇÇA B
$str
ÇÇB N
]
ÇÇN O
.
ÇÇO P
ToString
ÇÇP X
(
ÇÇX Y
)
ÇÇY Z
;
ÇÇZ [
objprestacion
ÉÉ  -
.
ÉÉ- .
codprestacion
ÉÉ. ;
=
ÉÉ< =
reader
ÉÉ> D
[
ÉÉD E
$str
ÉÉE T
]
ÉÉT U
.
ÉÉU V
ToString
ÉÉV ^
(
ÉÉ^ _
)
ÉÉ_ `
;
ÉÉ` a
objprestacion
ÑÑ  -
.
ÑÑ- .

prestacion
ÑÑ. 8
=
ÑÑ9 :
reader
ÑÑ; A
[
ÑÑA B
$str
ÑÑB N
]
ÑÑN O
.
ÑÑO P
ToString
ÑÑP X
(
ÑÑX Y
)
ÑÑY Z
;
ÑÑZ [
objprestacion
ÖÖ  -
.
ÖÖ- .
	codtarifa
ÖÖ. 7
=
ÖÖ8 9
reader
ÖÖ: @
[
ÖÖ@ A
$str
ÖÖA L
]
ÖÖL M
.
ÖÖM N
ToString
ÖÖN V
(
ÖÖV W
)
ÖÖW X
;
ÖÖX Y
objprestacion
ÜÜ  -
.
ÜÜ- .
tarifa
ÜÜ. 4
=
ÜÜ5 6
reader
ÜÜ7 =
[
ÜÜ= >
$str
ÜÜ> F
]
ÜÜF G
.
ÜÜG H
ToString
ÜÜH P
(
ÜÜP Q
)
ÜÜQ R
;
ÜÜR S
objprestacion
áá  -
.
áá- .
peso
áá. 2
=
áá3 4
Convert
áá5 <
.
áá< =
ToDouble
áá= E
(
ááE F
reader
ááF L
[
ááL M
$str
ááM S
]
ááS T
.
ááT U
ToString
ááU ]
(
áá] ^
)
áá^ _
)
áá_ `
;
áá` a
objprestacion
àà  -
.
àà- .
valor
àà. 3
=
àà4 5
Convert
àà6 =
.
àà= >
ToDouble
àà> F
(
ààF G
reader
ààG M
[
ààM N
$str
ààN U
]
ààU V
.
ààV W
ToString
ààW _
(
àà_ `
)
àà` a
)
ààa b
;
ààb c
objprestacion
ââ  -
.
ââ- .
moneda
ââ. 4
=
ââ5 6
reader
ââ7 =
[
ââ= >
$str
ââ> F
]
ââF G
.
ââG H
ToString
ââH P
(
ââP Q
)
ââQ R
;
ââR S
_listprestacion
ää  /
.
ää/ 0
Add
ää0 3
(
ää3 4
objprestacion
ää4 A
)
ääA B
;
ääB C
}
ãã 
}
åå 
	resultado
çç !
.
çç! "

IdRegistro
çç" ,
=
çç- .
$num
çç/ 0
;
çç0 1
	resultado
éé !
.
éé! "
Mensaje
éé" )
=
éé* +
$str
éé, 0
;
éé0 1
	resultado
èè !
.
èè! "
DataList
èè" *
=
èè+ ,
_listprestacion
èè- <
;
èè< =
}
êê 
catch
ëë 
(
ëë 
	Exception
ëë $
ex
ëë% '
)
ëë' (
{
íí 
	resultado
ìì !
.
ìì! "

IdRegistro
ìì" ,
=
ìì- .
-
ìì/ 0
$num
ìì0 1
;
ìì1 2
	resultado
îî !
.
îî! "
Mensaje
îî" )
=
îî* +
ex
îî, .
.
îî. /
Message
îî/ 6
;
îî6 7
}
ïï 
}
ññ 
}
óó 
return
òò 
	resultado
òò 
;
òò 
}
ôô 	
public
õõ 
async
õõ 
Task
õõ 
<
õõ #
ResultadoTransactionE
õõ /
<
õõ/ 0!
ErrorDataInsercionE
õõ0 C
>
õõC D
>
õõD E'
Registro_PrestacionTarifa
õõF _
(
õõ_ `
List
õõ` d
<
õõd e"
PrestacionesClinicaE
õõe y
>
õõy z
obj
õõ{ ~
,
õõ~ 
intõõÄ É
iduserõõÑ ä
)õõä ã
{
úú 	#
ResultadoTransactionE
ùù !
<
ùù! "!
ErrorDataInsercionE
ùù" 5
>
ùù5 6
	resultado
ùù7 @
=
ùùA B
new
ùùC F#
ResultadoTransactionE
ùùG \
<
ùù\ ]!
ErrorDataInsercionE
ùù] p
>
ùùp q
(
ùùr s
)
ùùs t
;
ùùt u
List
ûû 
<
ûû !
ErrorDataInsercionE
ûû $
>
ûû$ %
	dataerror
ûû& /
=
ûû0 1
new
ûû2 5
List
ûû6 :
<
ûû: ;!
ErrorDataInsercionE
ûû; N
>
ûûN O
(
ûûO P
)
ûûP Q
;
ûûQ R
using
üü 
(
üü 
SqlConnection
üü  
cnn
üü! $
=
üü% &
new
üü' *
SqlConnection
üü+ 8
(
üü8 9
VariablesGlobales
üü9 J
.
üüJ K

CnnClinica
üüK U
)
üüU V
)
üüV W
{
†† 
cnn
°° 
.
°° 
Open
°° 
(
°° 
)
°° 
;
°° 
SqlTransaction
¢¢ 
sqlTransaction
¢¢ -
=
¢¢. /
cnn
¢¢0 3
.
¢¢3 4
BeginTransaction
¢¢4 D
(
¢¢E F
)
¢¢F G
;
¢¢G H
if
££ 
(
££ 
obj
££ 
.
££ 
Count
££ 
>
££ 
$num
££  !
)
££! "
{
§§ 
int
•• 
itemdata
••  
=
••! "
$num
••# $
;
••$ %
foreach
ßß 
(
ßß 
var
ßß  
item
ßß! %
in
ßß& (
obj
ßß) ,
)
ßß, -
{
®® 
itemdata
©©  
++
©©  "
;
©©" #
var
´´ 
insertar
´´ $
=
´´% &
await
´´' ,!
Insertar_Prestacion
´´- @
(
´´@ A
item
´´A E
,
´´E F
iduser
´´G M
,
´´M N
cnn
´´O R
,
´´R S
sqlTransaction
´´T b
)
´´b c
;
´´c d
if
¨¨ 
(
¨¨ 
insertar
¨¨ $
.
¨¨$ %

IdRegistro
¨¨% /
==
¨¨0 2
-
¨¨3 4
$num
¨¨4 5
)
¨¨5 6
{
≠≠ 
sqlTransaction
ÆÆ *
.
ÆÆ* +
Rollback
ÆÆ+ 3
(
ÆÆ4 5
)
ÆÆ5 6
;
ÆÆ6 7
	resultado
ØØ %
.
ØØ% &

IdRegistro
ØØ& 0
=
ØØ1 2
-
ØØ3 4
$num
ØØ4 5
;
ØØ5 6
	resultado
∞∞ %
.
∞∞% &
Mensaje
∞∞& -
=
∞∞. /
insertar
∞∞0 8
.
∞∞8 9
Mensaje
∞∞9 @
;
∞∞@ A
return
±± "
	resultado
±±# ,
;
±±, -
}
≤≤ 
if
¥¥ 
(
¥¥ 
!
¥¥ 
insertar
¥¥ %
.
¥¥% &
Data
¥¥& *
)
¥¥* +
{
µµ !
ErrorDataInsercionE
∂∂ /
error
∂∂0 5
=
∂∂6 7
new
∂∂8 ;!
ErrorDataInsercionE
∂∂< O
(
∂∂P Q
)
∂∂Q R
;
∂∂R S
error
∑∑ !
.
∑∑! "
Titulo
∑∑" (
=
∑∑) *
$str
∑∑+ L
+
∑∑M N
itemdata
∑∑O W
.
∑∑W X
ToString
∑∑X `
(
∑∑` a
)
∑∑a b
;
∑∑b c
error
∏∏ !
.
∏∏! "
Descripcion
∏∏" -
=
∏∏. /
insertar
∏∏0 8
.
∏∏8 9
Mensaje
∏∏9 @
;
∏∏@ A
	dataerror
ππ %
.
ππ% &
Add
ππ& )
(
ππ* +
error
ππ+ 0
)
ππ0 1
;
ππ1 2
}
∫∫ 
}
ªª 
}
ºº 
if
ΩΩ 
(
ΩΩ 
	dataerror
ΩΩ 
.
ΩΩ 
Count
ΩΩ #
(
ΩΩ# $
)
ΩΩ$ %
>
ΩΩ& '
$num
ΩΩ( )
)
ΩΩ) *
{
ææ 
	resultado
øø 
.
øø 

IdRegistro
øø (
=
øø) *
$num
øø+ ,
;
øø, -
	resultado
¿¿ 
.
¿¿ 
Mensaje
¿¿ %
=
¿¿& '
$str
¿¿( C
;
¿¿C D
	resultado
¡¡ 
.
¡¡ 
DataList
¡¡ &
=
¡¡' (
	dataerror
¡¡) 2
;
¡¡2 3
}
¬¬ 
else
√√ 
{
ƒƒ 
	resultado
≈≈ 
.
≈≈ 

IdRegistro
≈≈ (
=
≈≈) *
$num
≈≈+ ,
;
≈≈, -
	resultado
∆∆ 
.
∆∆ 
Mensaje
∆∆ %
=
∆∆& '
$str
∆∆( B
;
∆∆B C
}
«« 
sqlTransaction
»» 
.
»» 
Commit
»» %
(
»»& '
)
»»' (
;
»»( )
sqlTransaction
…… 
.
…… 
Dispose
…… &
(
……' (
)
……( )
;
……) *
}
   
return
ÀÀ 
	resultado
ÀÀ 
;
ÀÀ 
}
ÃÃ 	
public
ŒŒ 
async
ŒŒ 
Task
ŒŒ 
<
ŒŒ #
ResultadoTransactionE
ŒŒ /
<
ŒŒ/ 0
bool
ŒŒ0 4
>
ŒŒ4 5
>
ŒŒ5 6!
Insertar_Prestacion
ŒŒ7 J
(
ŒŒJ K"
PrestacionesClinicaE
ŒŒK _
item
ŒŒ` d
,
ŒŒd e
int
ŒŒf i
iduser
ŒŒj p
,
ŒŒp q
SqlConnection
ŒŒr 
cnnŒŒÄ É
,ŒŒÉ Ñ
SqlTransactionŒŒÖ ì
transactionŒŒî ü
)ŒŒü †
{ŒŒ° ¢#
ResultadoTransactionE
œœ !
<
œœ! "
bool
œœ" &
>
œœ& '
	resultado
œœ( 1
=
œœ2 3
new
œœ4 7#
ResultadoTransactionE
œœ8 M
<
œœM N
bool
œœN R
>
œœR S
(
œœT U
)
œœU V
;
œœV W
using
–– 
(
–– 

SqlCommand
–– 
cmd
–– !
=
––" #
new
––$ '

SqlCommand
––( 2
(
––2 3'
USP_PRESTACIONES_REGISTRO
––3 L
,
––L M
cnn
––N Q
,
––Q R
transaction
––S ^
)
––^ _
)
––_ `
{
—— 
try
““ 
{
”” 
cmd
‘‘ 
.
‘‘ 
CommandType
‘‘ #
=
‘‘$ %
CommandType
‘‘& 1
.
‘‘1 2
StoredProcedure
‘‘2 A
;
‘‘A B
cmd
’’ 
.
’’ 

Parameters
’’ "
.
’’" #
AddWithValue
’’# /
(
’’/ 0
$str
’’0 9
,
’’9 :
iduser
’’; A
)
’’A B
;
’’B C
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ "
.
÷÷" #
AddWithValue
÷÷# /
(
÷÷/ 0
$str
÷÷0 <
,
÷÷< =
item
÷÷> B
.
÷÷B C
	codtarifa
÷÷C L
)
÷÷L M
;
÷÷M N
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ "
.
◊◊" #
AddWithValue
◊◊# /
(
◊◊/ 0
$str
◊◊0 @
,
◊◊@ A
item
◊◊B F
.
◊◊F G
codprestacion
◊◊G T
)
◊◊T U
;
◊◊U V
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ "
.
ÿÿ" #
AddWithValue
ÿÿ# /
(
ÿÿ/ 0
$str
ÿÿ0 8
,
ÿÿ8 9
item
ÿÿ: >
.
ÿÿ> ?
valor
ÿÿ? D
)
ÿÿD E
;
ÿÿE F
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ "
.
ŸŸ" #
Add
ŸŸ# &
(
ŸŸ& '
$str
ŸŸ' 1
,
ŸŸ1 2
	SqlDbType
ŸŸ3 <
.
ŸŸ< =
VarChar
ŸŸ= D
,
ŸŸD E
$num
ŸŸF I
)
ŸŸI J
.
ŸŸJ K
	Direction
ŸŸK T
=
ŸŸU V 
ParameterDirection
ŸŸW i
.
ŸŸi j
Output
ŸŸj p
;
ŸŸp q
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ "
.
⁄⁄" #
Add
⁄⁄# &
(
⁄⁄& '
$str
⁄⁄' /
,
⁄⁄/ 0
	SqlDbType
⁄⁄1 :
.
⁄⁄: ;
Int
⁄⁄; >
,
⁄⁄> ?
$num
⁄⁄@ B
)
⁄⁄B C
.
⁄⁄C D
	Direction
⁄⁄D M
=
⁄⁄N O 
ParameterDirection
⁄⁄P b
.
⁄⁄b c
Output
⁄⁄c i
;
⁄⁄i j
await
€€ 
cmd
€€ 
.
€€ "
ExecuteNonQueryAsync
€€ 2
(
€€2 3
)
€€3 4
;
€€4 5
	resultado
‹‹ 
.
‹‹ 

IdRegistro
‹‹ (
=
‹‹) *
$num
‹‹+ ,
;
‹‹, -
	resultado
›› 
.
›› 
Mensaje
›› %
=
››& '
cmd
››( +
.
››+ ,

Parameters
››, 6
[
››6 7
$str
››7 A
]
››A B
.
››B C
Value
››C H
.
››H I
ToString
››I Q
(
››Q R
)
››R S
??
››S U
$str
››U W
;
››W X
	resultado
ﬁﬁ 
.
ﬁﬁ 
Data
ﬁﬁ "
=
ﬁﬁ# $
(
ﬁﬁ% &
Convert
ﬁﬁ& -
.
ﬁﬁ- .
ToInt32
ﬁﬁ. 5
(
ﬁﬁ5 6
cmd
ﬁﬁ6 9
.
ﬁﬁ9 :

Parameters
ﬁﬁ: D
[
ﬁﬁD E
$str
ﬁﬁE M
]
ﬁﬁM N
.
ﬁﬁN O
Value
ﬁﬁO T
.
ﬁﬁT U
ToString
ﬁﬁU ]
(
ﬁﬁ] ^
)
ﬁﬁ^ _
)
ﬁﬁ_ `
)
ﬁﬁ` a
==
ﬁﬁb d
$num
ﬁﬁe f
?
ﬁﬁg h
true
ﬁﬁi m
:
ﬁﬁn o
false
ﬁﬁp u
;
ﬁﬁu v
}
ﬂﬂ 
catch
‡‡ 
(
‡‡ 
	Exception
‡‡  
ex
‡‡! #
)
‡‡# $
{
·· 
	resultado
‚‚ 
.
‚‚ 

IdRegistro
‚‚ (
=
‚‚) *
-
‚‚+ ,
$num
‚‚, -
;
‚‚- .
	resultado
„„ 
.
„„ 
Mensaje
„„ %
=
„„& '
ex
„„( *
.
„„* +
Message
„„+ 2
;
„„2 3
}
‰‰ 
}
ÂÂ 
return
ÊÊ 
	resultado
ÊÊ 
;
ÊÊ 
}
ÁÁ 	
}
ËË 
}ÈÈ ƒà
[D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\PresotorAD\PresotorAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 

PresotorAD &
{ 
public 

class 

PresotorAD 
{ 
private 
	PresotorE 
LlenarEntidad '
(' (
IDataReader( 3
dr4 6
,6 7
	PresotorE8 A

pPresotorEB L
)L M
{ 	
	PresotorE 

oPresotorE  
=! "
new# &
	PresotorE' 0
(0 1
)1 2
;2 3
switch 
( 

pPresotorE 
. 
Orden $
)$ %
{ 
case 
$num 
: 
{ 

oPresotorE "
." #
CodPresotor# .
=/ 0
(1 2
string2 8
)8 9
dr: <
[< =
$str= J
]J K
;K L

oPresotorE "
." #
CodAtencion# .
=/ 0
(1 2
string2 8
)8 9
dr: <
[< =
$str= J
]J K
;K L

oPresotorE "
." #
CodPrestacion# 0
=1 2
(3 4
string4 :
): ;
dr< >
[> ?
$str? N
]N O
;O P

oPresotorE "
." #
Fechahoraatencion# 4
=5 6
(7 8
DateTime8 @
)@ A
drB D
[D E
$strE X
]X Y
;Y Z

oPresotorE "
." #
	Codmedico# ,
=- .
(/ 0
string0 6
)6 7
dr8 :
[: ;
$str; F
]F G
;G H

oPresotorE "
." #

Tipomedico# -
=. /
(0 1
string1 7
)7 8
dr9 ;
[; <
$str< H
]H I
;I J

oPresotorE "
." #
Cargomedico# .
=/ 0
(1 2
string2 8
)8 9
dr: <
[< =
$str= J
]J K
;K L

oPresotorE "
." #
CodLiqPaciente# 1
=2 3
(4 5
string5 ;
); <
dr= ?
[? @
$str@ P
]P Q
;Q R

oPresotorE "
." #
CodLiqAseguradora# 4
=5 6
(7 8
string8 >
)> ?
dr@ B
[B C
$strC V
]V W
;W X

oPresotorE "
." #
Codliqcontratante# 4
=5 6
(7 8
string8 >
)> ?
dr@ B
[B C
$strC V
]V W
;W X

oPresotorE   "
.  " #
Valorprestacion  # 2
=  3 4
(  5 6
double  6 <
)  < =
dr  > @
[  @ A
$str  A R
]  R S
;  S T

oPresotorE!! "
.!!" #
ValorCorregido!!# 1
=!!2 3
(!!4 5
double!!5 ;
)!!; <
dr!!= ?
[!!? @
$str!!@ P
]!!P Q
;!!Q R

oPresotorE"" "
.""" #
Valorgnc""# +
="", -
("". /
double""/ 5
)""5 6
dr""7 9
[""9 :
$str"": D
]""D E
;""E F

oPresotorE## "
.##" #
Valorcoaseguro### 1
=##2 3
(##4 5
double##5 ;
)##; <
dr##= ?
[##? @
$str##@ P
]##P Q
;##Q R

oPresotorE$$ "
.$$" #
Porcentajededucible$$# 6
=$$7 8
($$9 :
double$$: @
)$$@ A
dr$$B D
[$$D E
$str$$E Z
]$$Z [
;$$[ \

oPresotorE%% "
.%%" #
Porcentajecoaseguro%%# 6
=%%7 8
(%%9 :
double%%: @
)%%@ A
dr%%B D
[%%D E
$str%%E Z
]%%Z [
;%%[ \

oPresotorE&& "
.&&" #
	Descuento&&# ,
=&&- .
(&&/ 0
double&&0 6
)&&6 7
dr&&8 :
[&&: ;
$str&&; F
]&&F G
;&&G H

oPresotorE'' "
.''" #
	Documento''# ,
=''- .
(''/ 0
string''0 6
)''6 7
dr''8 :
['': ;
$str''; F
]''F G
;''G H

oPresotorE(( "
.((" #
	Codpedido((# ,
=((- .
(((/ 0
string((0 6
)((6 7
dr((8 :
[((: ;
$str((; F
]((F G
;((G H

oPresotorE)) "
.))" #
	Deducible))# ,
=))- .
())/ 0
double))0 6
)))6 7
dr))8 :
[)): ;
$str)); F
]))F G
;))G H

oPresotorE** "
.**" #
Estado**# )
=*** +
(**, -
string**- 3
)**3 4
dr**5 7
[**7 8
$str**8 @
]**@ A
;**A B

oPresotorE++ "
.++" #
Quiencreoregistro++# 4
=++5 6
(++7 8
string++8 >
)++> ?
dr++@ B
[++B C
$str++C V
]++V W
;++W X

oPresotorE,, "
.,," #!
Quienmodificoregistro,,# 8
=,,9 :
(,,; <
string,,< B
),,B C
dr,,D F
[,,F G
$str,,G ^
],,^ _
;,,_ `

oPresotorE-- "
.--" #

Liqtercero--# -
=--. /
(--0 1
string--1 7
)--7 8
dr--9 ;
[--; <
$str--< H
]--H I
;--I J

oPresotorE.. "
..." #
Codmedicoenvia..# 1
=..2 3
(..4 5
string..5 ;
)..; <
dr..= ?
[..? @
$str..@ P
]..P Q
;..Q R

oPresotorE// "
.//" #
Fechallegadocumento//# 6
=//7 8
(//9 :
DateTime//: B
)//B C
dr//D F
[//F G
$str//G \
]//\ ]
;//] ^

oPresotorE00 "
.00" #
Auxiliar00# +
=00, -
(00. /
string00/ 5
)005 6
dr007 9
[009 :
$str00: D
]00D E
;00E F

oPresotorE11 "
.11" #
Porcentajedescuento11# 6
=117 8
(119 :
double11: @
)11@ A
dr11B D
[11D E
$str11E Z
]11Z [
;11[ \

oPresotorE22 "
.22" #
Liqterceropaciente22# 5
=226 7
(228 9
string229 ?
)22? @
dr22A C
[22C D
$str22D X
]22X Y
;22Y Z

oPresotorE33 "
.33" #!
Liqtercerocontratante33# 8
=339 :
(33; <
string33< B
)33B C
dr33D F
[33F G
$str33G ^
]33^ _
;33_ `

oPresotorE44 "
.44" #

Codtercero44# -
=44. /
(440 1
string441 7
)447 8
dr449 ;
[44; <
$str44< H
]44H I
;44I J

oPresotorE55 "
.55" #
Descuentotercero55# 3
=554 5
(556 7
double557 =
)55= >
dr55? A
[55A B
$str55B T
]55T U
;55U V

oPresotorE66 "
.66" #
Codpresotorpadre66# 3
=664 5
(666 7
string667 =
)66= >
dr66? A
[66A B
$str66B T
]66T U
;66U V

oPresotorE77 "
.77" # 
Quieneliminoregistro77# 7
=778 9
(77: ;
string77; A
)77A B
dr77C E
[77E F
$str77F \
]77\ ]
;77] ^

oPresotorE88 "
.88" #
FlgEnviosap88# .
=88/ 0
(881 2
bool882 6
)886 7
dr888 :
[88: ;
$str88; I
]88I J
;88J K

oPresotorE99 "
.99" #
FecEnviosap99# .
=99/ 0
(991 2
DateTime992 :
)99: ;
dr99< >
[99> ?
$str99? M
]99M N
;99N O

oPresotorE:: "
.::" #
IdeDocentrysap::# 1
=::2 3
(::4 5
int::5 8
)::8 9
dr::: <
[::< =
$str::= N
]::N O
;::O P

oPresotorE;; "
.;;" #
FecDocentrysap;;# 1
=;;2 3
(;;4 5
DateTime;;5 =
);;= >
dr;;? A
[;;A B
$str;;B S
];;S T
;;;T U

oPresotorE<< "
.<<" #
IdeTablainterSap<<# 3
=<<4 5
(<<6 7
int<<7 :
)<<: ;
dr<<< >
[<<> ?
$str<<? R
]<<R S
;<<S T
break== 
;== 
}>> 
case?? 
$num?? 
:?? 

oPresotorE@@ 
.@@ 
CodPresotor@@ *
=@@+ ,
Convert@@- 4
.@@4 5
ToString@@5 =
(@@= >
dr@@> @
[@@@ A
$str@@A N
]@@N O
)@@O P
;@@P Q

oPresotorEAA 
.AA 
CodAtencionAA *
=AA+ ,
ConvertAA- 4
.AA4 5
ToStringAA5 =
(AA= >
drAA> @
[AA@ A
$strAAA N
]AAN O
)AAO P
;AAP Q

oPresotorEBB 
.BB 
CodPrestacionBB ,
=BB- .
ConvertBB/ 6
.BB6 7
ToStringBB7 ?
(BB? @
drBB@ B
[BBB C
$strBBC R
]BBR S
)BBS T
;BBT U

oPresotorECC 
.CC 
FechahoraatencionCC 0
=CC1 2
ConvertCC3 :
.CC: ;

ToDateTimeCC; E
(CCE F
drCCF H
[CCH I
$strCCI \
]CC\ ]
)CC] ^
;CC^ _

oPresotorEDD 
.DD 
	CodmedicoDD (
=DD) *
ConvertDD+ 2
.DD2 3
ToStringDD3 ;
(DD; <
drDD< >
[DD> ?
$strDD? J
]DDJ K
)DDK L
;DDL M

oPresotorEEE 
.EE 

TipomedicoEE )
=EE* +
ConvertEE, 3
.EE3 4
ToStringEE4 <
(EE< =
drEE= ?
[EE? @
$strEE@ L
]EEL M
)EEM N
;EEN O

oPresotorEFF 
.FF 
CargomedicoFF *
=FF+ ,
ConvertFF- 4
.FF4 5
ToStringFF5 =
(FF= >
drFF> @
[FF@ A
$strFFA N
]FFN O
)FFO P
;FFP Q

oPresotorEGG 
.GG 
CodLiqPacienteGG -
=GG. /
ConvertGG0 7
.GG7 8
ToStringGG8 @
(GG@ A
drGGA C
[GGC D
$strGGD T
]GGT U
)GGU V
;GGV W

oPresotorEHH 
.HH 
CodLiqAseguradoraHH 0
=HH1 2
ConvertHH3 :
.HH: ;
ToStringHH; C
(HHC D
drHHD F
[HHF G
$strHHG Z
]HHZ [
)HH[ \
;HH\ ]

oPresotorEII 
.II 
CodliqcontratanteII 0
=II1 2
ConvertII3 :
.II: ;
ToStringII; C
(IIC D
drIID F
[IIF G
$strIIG Z
]IIZ [
)II[ \
;II\ ]

oPresotorEJJ 
.JJ 
ValorprestacionJJ .
=JJ/ 0
ConvertJJ1 8
.JJ8 9
ToDoubleJJ9 A
(JJA B
drJJB D
[JJD E
$strJJE V
]JJV W
)JJW X
;JJX Y

oPresotorEKK 
.KK 
ValorCorregidoKK -
=KK. /
ConvertKK0 7
.KK7 8
ToDoubleKK8 @
(KK@ A
drKKA C
[KKC D
$strKKD T
]KKT U
)KKU V
;KKV W

oPresotorELL 
.LL 
ValorgncLL '
=LL( )
ConvertLL* 1
.LL1 2
ToDoubleLL2 :
(LL: ;
drLL; =
[LL= >
$strLL> H
]LLH I
)LLI J
;LLJ K

oPresotorEMM 
.MM 
ValorcoaseguroMM -
=MM. /
ConvertMM0 7
.MM7 8
ToDoubleMM8 @
(MM@ A
drMMA C
[MMC D
$strMMD T
]MMT U
)MMU V
;MMV W

oPresotorENN 
.NN 
PorcentajededucibleNN 2
=NN3 4
ConvertNN5 <
.NN< =
ToDoubleNN= E
(NNE F
drNNF H
[NNH I
$strNNI ^
]NN^ _
)NN_ `
;NN` a

oPresotorEOO 
.OO 
PorcentajecoaseguroOO 2
=OO3 4
ConvertOO5 <
.OO< =
ToDoubleOO= E
(OOE F
drOOF H
[OOH I
$strOOI ^
]OO^ _
)OO_ `
;OO` a

oPresotorEPP 
.PP 
	DescuentoPP (
=PP) *
ConvertPP+ 2
.PP2 3
ToDoublePP3 ;
(PP; <
drPP< >
[PP> ?
$strPP? J
]PPJ K
)PPK L
;PPL M

oPresotorEQQ 
.QQ 
	DocumentoQQ (
=QQ) *
ConvertQQ+ 2
.QQ2 3
ToStringQQ3 ;
(QQ; <
drQQ< >
[QQ> ?
$strQQ? J
]QQJ K
)QQK L
;QQL M

oPresotorERR 
.RR 
	CodpedidoRR (
=RR) *
ConvertRR+ 2
.RR2 3
ToStringRR3 ;
(RR; <
drRR< >
[RR> ?
$strRR? J
]RRJ K
)RRK L
;RRL M

oPresotorESS 
.SS 
	DeducibleSS (
=SS) *
ConvertSS+ 2
.SS2 3
ToDoubleSS3 ;
(SS; <
drSS< >
[SS> ?
$strSS? J
]SSJ K
)SSK L
;SSL M

oPresotorETT 
.TT 
EstadoTT %
=TT& '
ConvertTT( /
.TT/ 0
ToStringTT0 8
(TT8 9
drTT9 ;
[TT; <
$strTT< D
]TTD E
)TTE F
;TTF G

oPresotorEUU 
.UU 
QuiencreoregistroUU 0
=UU1 2
ConvertUU3 :
.UU: ;
ToStringUU; C
(UUC D
drUUD F
[UUF G
$strUUG Z
]UUZ [
)UU[ \
;UU\ ]

oPresotorEVV 
.VV !
QuienmodificoregistroVV 4
=VV5 6
ConvertVV7 >
.VV> ?
ToStringVV? G
(VVG H
drVVH J
[VVJ K
$strVVK b
]VVb c
)VVc d
;VVd e

oPresotorEWW 
.WW 

LiqterceroWW )
=WW* +
ConvertWW, 3
.WW3 4
ToStringWW4 <
(WW< =
drWW= ?
[WW? @
$strWW@ L
]WWL M
)WWM N
;WWN O

oPresotorEXX 
.XX 
CodmedicoenviaXX -
=XX. /
ConvertXX0 7
.XX7 8
ToStringXX8 @
(XX@ A
drXXA C
[XXC D
$strXXD T
]XXT U
)XXU V
;XXV W

oPresotorEYY 
.YY 
FechallegadocumentoYY 2
=YY3 4
ConvertYY5 <
.YY< =

ToDateTimeYY= G
(YYG H
drYYH J
[YYJ K
$strYYK `
]YY` a
)YYa b
;YYb c

oPresotorEZZ 
.ZZ 
AuxiliarZZ '
=ZZ( )
ConvertZZ* 1
.ZZ1 2
ToStringZZ2 :
(ZZ: ;
drZZ; =
[ZZ= >
$strZZ> H
]ZZH I
)ZZI J
;ZZJ K

oPresotorE[[ 
.[[ 
Porcentajedescuento[[ 2
=[[3 4
Convert[[5 <
.[[< =
ToDouble[[= E
([[E F
dr[[F H
[[[H I
$str[[I ^
][[^ _
)[[_ `
;[[` a

oPresotorE\\ 
.\\ 
Liqterceropaciente\\ 1
=\\2 3
Convert\\4 ;
.\\; <
ToString\\< D
(\\D E
dr\\E G
[\\G H
$str\\H \
]\\\ ]
)\\] ^
;\\^ _

oPresotorE]] 
.]] !
Liqtercerocontratante]] 4
=]]5 6
Convert]]7 >
.]]> ?
ToString]]? G
(]]G H
dr]]H J
[]]J K
$str]]K b
]]]b c
)]]c d
;]]d e

oPresotorE^^ 
.^^ 

Codtercero^^ )
=^^* +
Convert^^, 3
.^^3 4
ToString^^4 <
(^^< =
dr^^= ?
[^^? @
$str^^@ L
]^^L M
)^^M N
;^^N O

oPresotorE__ 
.__ 
Descuentotercero__ /
=__0 1
Convert__2 9
.__9 :
ToDouble__: B
(__B C
dr__C E
[__E F
$str__F X
]__X Y
)__Y Z
;__Z [

oPresotorE`` 
.`` 
Codpresotorpadre`` /
=``0 1
Convert``2 9
.``9 :
ToString``: B
(``B C
dr``C E
[``E F
$str``F X
]``X Y
)``Y Z
;``Z [

oPresotorEaa 
.aa  
Quieneliminoregistroaa 3
=aa4 5
Convertaa6 =
.aa= >
ToStringaa> F
(aaF G
draaG I
[aaI J
$straaJ `
]aa` a
)aaa b
;aab c

oPresotorEbb 
.bb 
FlgEnviosapbb *
=bb+ ,
Convertbb- 4
.bb4 5
	ToBooleanbb5 >
(bb> ?
drbb? A
[bbA B
$strbbB P
]bbP Q
)bbQ R
;bbR S

oPresotorEcc 
.cc 
FecEnviosapcc *
=cc+ ,
Convertcc- 4
.cc4 5

ToDateTimecc5 ?
(cc? @
drcc@ B
[ccB C
$strccC Q
]ccQ R
)ccR S
;ccS T

oPresotorEdd 
.dd 
IdeDocentrysapdd -
=dd. /
Convertdd0 7
.dd7 8
ToInt32dd8 ?
(dd? @
drdd@ B
[ddB C
$strddC T
]ddT U
)ddU V
;ddV W

oPresotorEee 
.ee 
FecDocentrysapee -
=ee. /
Convertee0 7
.ee7 8

ToDateTimeee8 B
(eeB C
dreeC E
[eeE F
$streeF W
]eeW X
)eeX Y
;eeY Z

oPresotorEff 
.ff 
IdeTablainterSapff /
=ff0 1
Convertff2 9
.ff9 :
ToInt32ff: A
(ffA B
drffB D
[ffD E
$strffE X
]ffX Y
)ffY Z
;ffZ [
breakgg 
;gg 
}hh 
returnii 

oPresotorEii 
;ii 
}jj 	
publicll 
Listll 
<ll 
	PresotorEll 
>ll  
Sp_Presotor_Consultall 3
(ll3 4
	PresotorEll4 =

pPresotorEll> H
)llH I
{mm 	
IDataReadernn 
drnn 
;nn 
	PresotorEoo 

oPresotorEoo  
=oo! "
nulloo# '
;oof g
Listpp 
<pp 
	PresotorEpp 
>pp 
oListarpp #
=pp$ %
newpp& )
Listpp* .
<pp. /
	PresotorEpp/ 8
>pp8 9
(pp9 :
)pp: ;
;pp; <
tryqq 
{rr 
usingss 
(ss 
SqlConnectionss $
cnnss% (
=ss) *
newss+ .
SqlConnectionss/ <
(ss< =
VariablesGlobalesss= N
.ssN O

CnnClinicassO Y
)ssY Z
)ssZ [
{tt 
usinguu 
(uu 

SqlCommanduu %
cmduu& )
=uu* +
newuu, /

SqlCommanduu0 :
(uu: ;
$struu; Q
,uuQ R
cnnuuS V
)uuV W
)uuW X
{vv 
cmdww 
.ww 
CommandTypeww '
=ww( )
CommandTypeww* 5
.ww5 6
StoredProcedureww6 E
;wwE F
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 <
,yy< =

pPresotorEyy> H
.yyH I
OrdenyyI N
)yyN O
;yyO P
cnnzz 
.zz 
Openzz  
(zz  !
)zz! "
;zz" #
dr{{ 
={{ 
cmd{{  
.{{  !
ExecuteReader{{! .
({{. /
){{/ 0
;{{0 1
while|| 
(|| 
dr|| !
.||! "
Read||" &
(||& '
)||' (
)||( )
{}} 

oPresotorE~~ &
=~~' (
LlenarEntidad~~) 6
(~~6 7
dr~~7 9
,~~9 :

pPresotorE~~; E
)~~E F
;~~F G
oListar #
.# $
Add$ '
(' (

oPresotorE( 2
)2 3
;3 4
}
ÄÄ 
dr
ÇÇ 
.
ÇÇ 
Close
ÇÇ  
(
ÇÇ  !
)
ÇÇ! "
;
ÇÇ" #
dr
ÉÉ 
.
ÉÉ 
Dispose
ÉÉ "
(
ÉÉ" #
)
ÉÉ# $
;
ÉÉ$ %
cmd
ÑÑ 
.
ÑÑ 
Dispose
ÑÑ #
(
ÑÑ# $
)
ÑÑ$ %
;
ÑÑ% &
cnn
ÖÖ 
.
ÖÖ 
Close
ÖÖ !
(
ÖÖ! "
)
ÖÖ" #
;
ÖÖ# $
cnn
ÜÜ 
.
ÜÜ 
Dispose
ÜÜ #
(
ÜÜ# $
)
ÜÜ$ %
;
ÜÜ% &
return
àà 
oListar
àà &
;
àà& '
}
ââ 
}
ää 
}
ãã 
catch
åå 
(
åå 
	Exception
åå 
ex
åå 
)
åå  
{
çç 
throw
éé 
new
éé 
	Exception
éé #
(
éé# $
ex
éé$ &
.
éé& '
Message
éé' .
)
éé. /
;
éé/ 0
}
èè 
}
êê 	
public
íí 
List
íí 
<
íí 
	PresotorE
íí 
>
íí $
Sp_Presotor_ConsultaV2
íí 5
(
íí5 6
	PresotorE
íí6 ?

pPresotorE
íí@ J
)
ííJ K
{
ìì 	
IDataReader
îî 
dr
îî 
;
îî 
	PresotorE
ïï 

oPresotorE
ïï  
=
ïï! "
null
ïï# '
;
ïïf g
List
ññ 
<
ññ 
	PresotorE
ññ 
>
ññ 
oListar
ññ #
=
ññ$ %
new
ññ& )
List
ññ* .
<
ññ. /
	PresotorE
ññ/ 8
>
ññ8 9
(
ññ9 :
)
ññ: ;
;
ññ; <
try
óó 
{
òò 
using
ôô 
(
ôô 
SqlConnection
ôô $
cnn
ôô% (
=
ôô) *
new
ôô+ .
SqlConnection
ôô/ <
(
ôô< =
VariablesGlobales
ôô= N
.
ôôN O

CnnClinica
ôôO Y
)
ôôY Z
)
ôôZ [
{
öö 
using
õõ 
(
õõ 

SqlCommand
õõ %
cmd
õõ& )
=
õõ* +
new
õõ, /

SqlCommand
õõ0 :
(
õõ: ;
$str
õõ; S
,
õõS T
cnn
õõU X
)
õõX Y
)
õõY Z
{
úú 
cmd
ùù 
.
ùù 
CommandType
ùù '
=
ùù( )
CommandType
ùù* 5
.
ùù5 6
StoredProcedure
ùù6 E
;
ùùE F
cmd
üü 
.
üü 

Parameters
üü &
.
üü& '
AddWithValue
üü' 3
(
üü3 4
$str
üü4 B
,
üüB C

pPresotorE
üüD N
.
üüN O
CodPresotor
üüO Z
)
üüZ [
;
üü[ \
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
AddWithValue
††' 3
(
††3 4
$str
††4 <
,
††< =

pPresotorE
††> H
.
††H I
Buscar
††I O
)
††O P
;
††P Q
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 <
,
°°< =

pPresotorE
°°> H
.
°°H I
Campo
°°I N
)
°°N O
;
°°O P
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ &
.
¢¢& '
AddWithValue
¢¢' 3
(
¢¢3 4
$str
¢¢4 B
,
¢¢B C

pPresotorE
¢¢D N
.
¢¢N O
NumeroFilas
¢¢O Z
)
¢¢Z [
;
¢¢[ \
cmd
££ 
.
££ 

Parameters
££ &
.
££& '
AddWithValue
££' 3
(
££3 4
$str
££4 <
,
££< =

pPresotorE
££> H
.
££H I
Orden
££I N
)
££N O
;
££O P
cnn
§§ 
.
§§ 
Open
§§  
(
§§  !
)
§§! "
;
§§" #
dr
•• 
=
•• 
cmd
••  
.
••  !
ExecuteReader
••! .
(
••. /
)
••/ 0
;
••0 1
while
¶¶ 
(
¶¶ 
dr
¶¶ !
.
¶¶! "
Read
¶¶" &
(
¶¶& '
)
¶¶' (
)
¶¶( )
{
ßß 

oPresotorE
®® &
=
®®' (
LlenarEntidad
®®) 6
(
®®6 7
dr
®®7 9
,
®®9 :

pPresotorE
®®; E
)
®®E F
;
®®F G
oListar
©© #
.
©©# $
Add
©©$ '
(
©©' (

oPresotorE
©©( 2
)
©©2 3
;
©©3 4
}
™™ 
dr
¨¨ 
.
¨¨ 
Close
¨¨  
(
¨¨  !
)
¨¨! "
;
¨¨" #
dr
≠≠ 
.
≠≠ 
Dispose
≠≠ "
(
≠≠" #
)
≠≠# $
;
≠≠$ %
cmd
ÆÆ 
.
ÆÆ 
Dispose
ÆÆ #
(
ÆÆ# $
)
ÆÆ$ %
;
ÆÆ% &
cnn
ØØ 
.
ØØ 
Close
ØØ !
(
ØØ! "
)
ØØ" #
;
ØØ# $
cnn
∞∞ 
.
∞∞ 
Dispose
∞∞ #
(
∞∞# $
)
∞∞$ %
;
∞∞% &
return
≤≤ 
oListar
≤≤ &
;
≤≤& '
}
≥≥ 
}
¥¥ 
}
µµ 
catch
∂∂ 
(
∂∂ 
	Exception
∂∂ 
ex
∂∂ 
)
∂∂  
{
∑∑ 
throw
∏∏ 
new
∏∏ 
	Exception
∏∏ #
(
∏∏# $
ex
∏∏$ &
.
∏∏& '
Message
∏∏' .
)
∏∏. /
;
∏∏/ 0
}
ππ 
}
∫∫ 	
public
ΩΩ 
bool
ΩΩ $
Sp_PresotorPago_Insert
ΩΩ *
(
ΩΩ* +
	PresotorE
ΩΩ+ 4

pPresotorE
ΩΩ5 ?
)
ΩΩ? @
{
ææ 	
bool
øø 
wResult
øø 
=
øø 
false
øø  
;
øø  !
try
¿¿ 
{
¡¡ 
using
¬¬ 
(
¬¬ 
SqlConnection
¬¬ $
cnn
¬¬% (
=
¬¬) *
new
¬¬+ .
SqlConnection
¬¬/ <
(
¬¬< =
VariablesGlobales
¬¬= N
.
¬¬N O

CnnClinica
¬¬O Y
)
¬¬Y Z
)
¬¬Z [
{
√√ 
using
ƒƒ 
(
ƒƒ 

SqlCommand
ƒƒ %
cmd
ƒƒ& )
=
ƒƒ* +
new
ƒƒ, /

SqlCommand
ƒƒ0 :
(
ƒƒ: ;
$str
ƒƒ; S
,
ƒƒS T
cnn
ƒƒU X
)
ƒƒX Y
)
ƒƒY Z
{
≈≈ 
cmd
∆∆ 
.
∆∆ 
CommandType
∆∆ '
=
∆∆( )
CommandType
∆∆* 5
.
∆∆5 6
StoredProcedure
∆∆6 E
;
∆∆E F
cmd
…… 
.
…… 

Parameters
…… &
.
……& '
AddWithValue
……' 3
(
……3 4
$str
……4 B
,
……B C

pPresotorE
……D N
.
……N O
CodAtencion
……O Z
)
……Z [
;
……[ \
cmd
   
.
   

Parameters
   &
.
  & '
AddWithValue
  ' 3
(
  3 4
$str
  4 B
,
  B C

pPresotorE
  D N
.
  N O

MontoTotal
  O Y
)
  Y Z
;
  Z [
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ &
.
ÀÀ& '
AddWithValue
ÀÀ' 3
(
ÀÀ3 4
$str
ÀÀ4 @
,
ÀÀ@ A

pPresotorE
ÀÀB L
.
ÀÀL M
CodUser
ÀÀM T
)
ÀÀT U
;
ÀÀU V
cmd
ÃÃ 
.
ÃÃ 

Parameters
ÃÃ &
.
ÃÃ& '
Add
ÃÃ' *
(
ÃÃ* +
VariablesGlobales
ÃÃ+ <
.
ÃÃ< =
ParametroSql
ÃÃ= I
(
ÃÃI J
$str
ÃÃJ Y
,
ÃÃY Z 
ParameterDirection
ÃÃ[ m
.
ÃÃm n
InputOutput
ÃÃn y
,
ÃÃy z
	SqlDbTypeÃÃ{ Ñ
.ÃÃÑ Ö
VarCharÃÃÖ å
,ÃÃå ç
$numÃÃé ê
,ÃÃê ë

pPresotorEÃÃí ú
.ÃÃú ù
CodPresotorÃÃù ®
)ÃÃ® ©
)ÃÃ© ™
;ÃÃ™ ´
cnn
ŒŒ 
.
ŒŒ 
Open
ŒŒ  
(
ŒŒ  !
)
ŒŒ! "
;
ŒŒ" #
cmd
œœ 
.
œœ 
ExecuteNonQuery
œœ +
(
œœ+ ,
)
œœ, -
;
œœ- .
if
–– 
(
–– 
cmd
–– 
.
––  

Parameters
––  *
[
––* +
$str
––+ :
]
––: ;
.
––; <
Value
––< A
+
––B C
$str
––D F
!=
––G I
$str
––J L
)
––L M
{
—— 

pPresotorE
““ &
.
““& '
CodPresotor
““' 2
=
““3 4
cmd
““5 8
.
““8 9

Parameters
““9 C
[
““C D
$str
““D S
]
““S T
.
““T U
Value
““U Z
+
““[ \
$str
““] _
;
““_ `
wResult
”” #
=
””$ %
true
””& *
;
””* +
}
‘‘ 
cmd
÷÷ 
.
÷÷ 
Dispose
÷÷ #
(
÷÷# $
)
÷÷$ %
;
÷÷% &
cnn
◊◊ 
.
◊◊ 
Close
◊◊ !
(
◊◊! "
)
◊◊" #
;
◊◊# $
cnn
ÿÿ 
.
ÿÿ 
Dispose
ÿÿ #
(
ÿÿ# $
)
ÿÿ$ %
;
ÿÿ% &
return
⁄⁄ 
wResult
⁄⁄ &
;
⁄⁄& '
}
€€ 
}
‹‹ 
}
›› 
catch
ﬁﬁ 
(
ﬁﬁ 
	Exception
ﬁﬁ 
ex
ﬁﬁ 
)
ﬁﬁ  
{
ﬂﬂ 
throw
‡‡ 
new
‡‡ 
	Exception
‡‡ #
(
‡‡# $
ex
‡‡$ &
.
‡‡& '
Message
‡‡' .
)
‡‡. /
;
‡‡/ 0
}
·· 
}
‚‚ 	
public
‰‰ 
bool
‰‰  
Sp_Presotor_Update
‰‰ &
(
‰‰& '
	PresotorE
‰‰' 0

pPresotorE
‰‰1 ;
)
‰‰; <
{
ÂÂ 	
try
ÊÊ 
{
ÁÁ 
using
ËË 
(
ËË 
SqlConnection
ËË $
cnn
ËË% (
=
ËË) *
new
ËË+ .
SqlConnection
ËË/ <
(
ËË< =
VariablesGlobales
ËË= N
.
ËËN O

CnnClinica
ËËO Y
)
ËËY Z
)
ËËZ [
{
ÈÈ 
using
ÍÍ 
(
ÍÍ 

SqlCommand
ÍÍ %
cmd
ÍÍ& )
=
ÍÍ* +
new
ÍÍ, /

SqlCommand
ÍÍ0 :
(
ÍÍ: ;
$str
ÍÍ; O
,
ÍÍO P
cnn
ÍÍQ T
)
ÍÍT U
)
ÍÍU V
{
ÎÎ 
cmd
ÏÏ 
.
ÏÏ 
CommandType
ÏÏ '
=
ÏÏ( )
CommandType
ÏÏ* 5
.
ÏÏ5 6
StoredProcedure
ÏÏ6 E
;
ÏÏE F
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ &
.
ÓÓ& '
AddWithValue
ÓÓ' 3
(
ÓÓ3 4
$str
ÓÓ4 B
,
ÓÓB C

pPresotorE
ÓÓD N
.
ÓÓN O
CodPresotor
ÓÓO Z
)
ÓÓZ [
;
ÓÓ[ \
cmd
ÔÔ 
.
ÔÔ 

Parameters
ÔÔ &
.
ÔÔ& '
AddWithValue
ÔÔ' 3
(
ÔÔ3 4
$str
ÔÔ4 B
,
ÔÔB C

pPresotorE
ÔÔD N
.
ÔÔN O
CodAtencion
ÔÔO Z
)
ÔÔZ [
;
ÔÔ[ \
cmd
 
.
 

Parameters
 &
.
& '
AddWithValue
' 3
(
3 4
$str
4 D
,
D E

pPresotorE
F P
.
P Q
CodPrestacion
Q ^
)
^ _
;
_ `
cmd
ÒÒ 
.
ÒÒ 

Parameters
ÒÒ &
.
ÒÒ& '
AddWithValue
ÒÒ' 3
(
ÒÒ3 4
$str
ÒÒ4 H
,
ÒÒH I

pPresotorE
ÒÒJ T
.
ÒÒT U
Fechahoraatencion
ÒÒU f
)
ÒÒf g
;
ÒÒg h
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ &
.
ÚÚ& '
AddWithValue
ÚÚ' 3
(
ÚÚ3 4
$str
ÚÚ4 @
,
ÚÚ@ A

pPresotorE
ÚÚB L
.
ÚÚL M
	Codmedico
ÚÚM V
)
ÚÚV W
;
ÚÚW X
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ &
.
ÛÛ& '
AddWithValue
ÛÛ' 3
(
ÛÛ3 4
$str
ÛÛ4 A
,
ÛÛA B

pPresotorE
ÛÛC M
.
ÛÛM N

Tipomedico
ÛÛN X
)
ÛÛX Y
;
ÛÛY Z
cmd
ÙÙ 
.
ÙÙ 

Parameters
ÙÙ &
.
ÙÙ& '
AddWithValue
ÙÙ' 3
(
ÙÙ3 4
$str
ÙÙ4 B
,
ÙÙB C

pPresotorE
ÙÙD N
.
ÙÙN O
Cargomedico
ÙÙO Z
)
ÙÙZ [
;
ÙÙ[ \
cmd
ıı 
.
ıı 

Parameters
ıı &
.
ıı& '
AddWithValue
ıı' 3
(
ıı3 4
$str
ıı4 E
,
ııE F

pPresotorE
ııG Q
.
ııQ R
CodLiqPaciente
ııR `
)
ıı` a
;
ııa b
cmd
ˆˆ 
.
ˆˆ 

Parameters
ˆˆ &
.
ˆˆ& '
AddWithValue
ˆˆ' 3
(
ˆˆ3 4
$str
ˆˆ4 H
,
ˆˆH I

pPresotorE
ˆˆJ T
.
ˆˆT U
CodLiqAseguradora
ˆˆU f
)
ˆˆf g
;
ˆˆg h
cmd
˜˜ 
.
˜˜ 

Parameters
˜˜ &
.
˜˜& '
AddWithValue
˜˜' 3
(
˜˜3 4
$str
˜˜4 H
,
˜˜H I

pPresotorE
˜˜J T
.
˜˜T U
Codliqcontratante
˜˜U f
)
˜˜f g
;
˜˜g h
cmd
¯¯ 
.
¯¯ 

Parameters
¯¯ &
.
¯¯& '
AddWithValue
¯¯' 3
(
¯¯3 4
$str
¯¯4 F
,
¯¯F G

pPresotorE
¯¯H R
.
¯¯R S
Valorprestacion
¯¯S b
)
¯¯b c
;
¯¯c d
cmd
˘˘ 
.
˘˘ 

Parameters
˘˘ &
.
˘˘& '
AddWithValue
˘˘' 3
(
˘˘3 4
$str
˘˘4 E
,
˘˘E F

pPresotorE
˘˘G Q
.
˘˘Q R
ValorCorregido
˘˘R `
)
˘˘` a
;
˘˘a b
cmd
˙˙ 
.
˙˙ 

Parameters
˙˙ &
.
˙˙& '
AddWithValue
˙˙' 3
(
˙˙3 4
$str
˙˙4 ?
,
˙˙? @

pPresotorE
˙˙A K
.
˙˙K L
Valorgnc
˙˙L T
)
˙˙T U
;
˙˙U V
cmd
˚˚ 
.
˚˚ 

Parameters
˚˚ &
.
˚˚& '
AddWithValue
˚˚' 3
(
˚˚3 4
$str
˚˚4 E
,
˚˚E F

pPresotorE
˚˚G Q
.
˚˚Q R
Valorcoaseguro
˚˚R `
)
˚˚` a
;
˚˚a b
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ &
.
¸¸& '
AddWithValue
¸¸' 3
(
¸¸3 4
$str
¸¸4 J
,
¸¸J K

pPresotorE
¸¸L V
.
¸¸V W!
Porcentajededucible
¸¸W j
)
¸¸j k
;
¸¸k l
cmd
˝˝ 
.
˝˝ 

Parameters
˝˝ &
.
˝˝& '
AddWithValue
˝˝' 3
(
˝˝3 4
$str
˝˝4 J
,
˝˝J K

pPresotorE
˝˝L V
.
˝˝V W!
Porcentajecoaseguro
˝˝W j
)
˝˝j k
;
˝˝k l
cmd
˛˛ 
.
˛˛ 

Parameters
˛˛ &
.
˛˛& '
AddWithValue
˛˛' 3
(
˛˛3 4
$str
˛˛4 @
,
˛˛@ A

pPresotorE
˛˛B L
.
˛˛L M
	Descuento
˛˛M V
)
˛˛V W
;
˛˛W X
cmd
ˇˇ 
.
ˇˇ 

Parameters
ˇˇ &
.
ˇˇ& '
AddWithValue
ˇˇ' 3
(
ˇˇ3 4
$str
ˇˇ4 @
,
ˇˇ@ A

pPresotorE
ˇˇB L
.
ˇˇL M
	Documento
ˇˇM V
)
ˇˇV W
;
ˇˇW X
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 @
,
ÄÄ@ A

pPresotorE
ÄÄB L
.
ÄÄL M
	Codpedido
ÄÄM V
)
ÄÄV W
;
ÄÄW X
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 @
,
ÅÅ@ A

pPresotorE
ÅÅB L
.
ÅÅL M
	Deducible
ÅÅM V
)
ÅÅV W
;
ÅÅW X
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 =
,
ÇÇ= >

pPresotorE
ÇÇ? I
.
ÇÇI J
Estado
ÇÇJ P
)
ÇÇP Q
;
ÇÇQ R
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 H
,
ÉÉH I

pPresotorE
ÉÉJ T
.
ÉÉT U
Quiencreoregistro
ÉÉU f
)
ÉÉf g
;
ÉÉg h
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 L
,
ÑÑL M

pPresotorE
ÑÑN X
.
ÑÑX Y#
Quienmodificoregistro
ÑÑY n
)
ÑÑn o
;
ÑÑo p
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 A
,
ÖÖA B

pPresotorE
ÖÖC M
.
ÖÖM N

Liqtercero
ÖÖN X
)
ÖÖX Y
;
ÖÖY Z
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 E
,
ÜÜE F

pPresotorE
ÜÜG Q
.
ÜÜQ R
Codmedicoenvia
ÜÜR `
)
ÜÜ` a
;
ÜÜa b
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 J
,
ááJ K

pPresotorE
ááL V
.
ááV W!
Fechallegadocumento
ááW j
)
ááj k
;
áák l
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 ?
,
àà? @

pPresotorE
ààA K
.
ààK L
Auxiliar
ààL T
)
ààT U
;
ààU V
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 J
,
ââJ K

pPresotorE
ââL V
.
ââV W!
Porcentajedescuento
ââW j
)
ââj k
;
ââk l
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 I
,
ääI J

pPresotorE
ääK U
.
ääU V 
Liqterceropaciente
ääV h
)
ääh i
;
ääi j
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 L
,
ããL M

pPresotorE
ããN X
.
ããX Y#
Liqtercerocontratante
ããY n
)
ããn o
;
ãão p
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 A
,
ååA B

pPresotorE
ååC M
.
ååM N

Codtercero
ååN X
)
ååX Y
;
ååY Z
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 G
,
ççG H

pPresotorE
ççI S
.
ççS T
Descuentotercero
ççT d
)
ççd e
;
ççe f
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 G
,
ééG H

pPresotorE
ééI S
.
ééS T
Codpresotorpadre
ééT d
)
ééd e
;
éée f
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 K
,
èèK L

pPresotorE
èèM W
.
èèW X"
Quieneliminoregistro
èèX l
)
èèl m
;
èèm n
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 C
,
êêC D

pPresotorE
êêE O
.
êêO P
FlgEnviosap
êêP [
)
êê[ \
;
êê\ ]
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 C
,
ëëC D

pPresotorE
ëëE O
.
ëëO P
FecEnviosap
ëëP [
)
ëë[ \
;
ëë\ ]
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 F
,
ííF G

pPresotorE
ííH R
.
ííR S
IdeDocentrysap
ííS a
)
íía b
;
ííb c
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 F
,
ììF G

pPresotorE
ììH R
.
ììR S
FecDocentrysap
ììS a
)
ììa b
;
ììb c
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 H
,
îîH I

pPresotorE
îîJ T
.
îîT U
IdeTablainterSap
îîU e
)
îîe f
;
îîf g
cnn
ïï 
.
ïï 
Open
ïï  
(
ïï  !
)
ïï! "
;
ïï" #
if
ññ 
(
ññ 
cmd
ññ 
.
ññ  
ExecuteNonQuery
ññ  /
(
ññ/ 0
)
ññ0 1
>=
ññ2 4
$num
ññ5 6
)
ññ6 7
return
óó "
true
óó# '
;
óó' (
else
òò 
return
ôô "
false
ôô# (
;
ôô( )
cnn
öö 
.
öö 
Close
öö !
(
öö! "
)
öö" #
;
öö# $
cmd
õõ 
.
õõ 
Dispose
õõ #
(
õõ# $
)
õõ$ %
;
õõ% &
}
úú 
}
ùù 
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
ex
üü 
)
üü  
{
†† 
throw
°° 
new
°° 
	Exception
°° #
(
°°# $
ex
°°$ &
.
°°& '
Message
°°' .
)
°°. /
;
°°/ 0
}
¢¢ 
}
££ 	
public
•• 
string
•• !
Sp_Presotor_Insert1
•• )
(
••) *
	PresotorE
••* 3

pPresotorE
••4 >
)
••> ?
{
¶¶ 	
bool
ßß 
wResult
ßß 
=
ßß 
false
ßß  
;
ßß  !
try
®® 
{
©© 
using
™™ 
(
™™ 
SqlConnection
™™ $
cnn
™™% (
=
™™) *
new
™™+ .
SqlConnection
™™/ <
(
™™< =
VariablesGlobales
™™= N
.
™™N O

CnnClinica
™™O Y
)
™™Y Z
)
™™Z [
{
´´ 
using
¨¨ 
(
¨¨ 

SqlCommand
¨¨ %
cmd
¨¨& )
=
¨¨* +
new
¨¨, /

SqlCommand
¨¨0 :
(
¨¨: ;
$str
¨¨; P
,
¨¨P Q
cnn
¨¨R U
)
¨¨U V
)
¨¨V W
{
≠≠ 
cmd
ÆÆ 
.
ÆÆ 
CommandType
ÆÆ '
=
ÆÆ( )
CommandType
ÆÆ* 5
.
ÆÆ5 6
StoredProcedure
ÆÆ6 E
;
ÆÆE F
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
AddWithValue
±±' 3
(
±±3 4
$str
±±4 B
,
±±B C

pPresotorE
±±D N
.
±±N O
CodAtencion
±±O Z
)
±±Z [
;
±±[ \
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ &
.
≤≤& '
AddWithValue
≤≤' 3
(
≤≤3 4
$str
≤≤4 D
,
≤≤D E

pPresotorE
≤≤F P
.
≤≤P Q
CodPrestacion
≤≤Q ^
)
≤≤^ _
;
≤≤_ `
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ &
.
≥≥& '
AddWithValue
≥≥' 3
(
≥≥3 4
$str
≥≥4 A
,
≥≥A B

pPresotorE
≥≥C M
.
≥≥M N
CodUser
≥≥N U
)
≥≥U V
;
≥≥V W
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ &
.
¥¥& '
Add
¥¥' *
(
¥¥* +
VariablesGlobales
¥¥+ <
.
¥¥< =
ParametroSql
¥¥= I
(
¥¥I J
$str
¥¥J X
,
¥¥X Y 
ParameterDirection
¥¥Z l
.
¥¥l m
InputOutput
¥¥m x
,
¥¥x y
	SqlDbType¥¥z É
.¥¥É Ñ
VarChar¥¥Ñ ã
,¥¥ã å
$num¥¥ç è
,¥¥è ê

pPresotorE¥¥ë õ
.¥¥õ ú
CodPresotor¥¥ú ß
)¥¥ß ®
)¥¥® ©
;¥¥© ™
cnn
∂∂ 
.
∂∂ 
Open
∂∂  
(
∂∂  !
)
∂∂! "
;
∂∂" #
cmd
∑∑ 
.
∑∑ 
ExecuteNonQuery
∑∑ +
(
∑∑+ ,
)
∑∑, -
;
∑∑- .
if
∏∏ 
(
∏∏ 
cmd
∏∏ 
.
∏∏  

Parameters
∏∏  *
[
∏∏* +
$str
∏∏+ 9
]
∏∏9 :
.
∏∏: ;
Value
∏∏; @
+
∏∏A B
$str
∏∏C E
!=
∏∏F H
$str
∏∏I K
)
∏∏K L
{
ππ 

pPresotorE
∫∫ &
.
∫∫& '
CodPresotor
∫∫' 2
=
∫∫3 4
cmd
∫∫5 8
.
∫∫8 9

Parameters
∫∫9 C
[
∫∫C D
$str
∫∫D R
]
∫∫R S
.
∫∫S T
Value
∫∫T Y
+
∫∫Z [
$str
∫∫\ ^
;
∫∫^ _
wResult
ªª #
=
ªª$ %
true
ªª& *
;
ªª* +
}
ºº 
cmd
ææ 
.
ææ 
Dispose
ææ #
(
ææ# $
)
ææ$ %
;
ææ% &
cnn
øø 
.
øø 
Close
øø !
(
øø! "
)
øø" #
;
øø# $
cnn
¿¿ 
.
¿¿ 
Dispose
¿¿ #
(
¿¿# $
)
¿¿$ %
;
¿¿% &
return
¬¬ 

pPresotorE
¬¬ )
.
¬¬) *
CodPresotor
¬¬* 5
;
¬¬5 6
}
√√ 
}
ƒƒ 
}
≈≈ 
catch
∆∆ 
(
∆∆ 
	Exception
∆∆ 
ex
∆∆ 
)
∆∆  
{
«« 
throw
»» 
new
»» 
	Exception
»» #
(
»»# $
ex
»»$ &
.
»»& '
Message
»»' .
)
»». /
;
»»/ 0
}
…… 
}
   	
public
ÃÃ 
bool
ÃÃ &
Sp_Presotor_UpdatexCampo
ÃÃ ,
(
ÃÃ, -
	PresotorE
ÃÃ- 6

pPresotorE
ÃÃ7 A
)
ÃÃA B
{
ÕÕ 	
try
ŒŒ 
{
œœ 
using
–– 
(
–– 
SqlConnection
–– $
cnn
––% (
=
––) *
new
––+ .
SqlConnection
––/ <
(
––< =
VariablesGlobales
––= N
.
––N O

CnnClinica
––O Y
)
––Y Z
)
––Z [
{
—— 
using
““ 
(
““ 

SqlCommand
““ %
cmd
““& )
=
““* +
new
““, /

SqlCommand
““0 :
(
““: ;
$str
““; O
,
““O P
cnn
““Q T
)
““T U
)
““U V
{
”” 
cmd
‘‘ 
.
‘‘ 
CommandType
‘‘ '
=
‘‘( )
CommandType
‘‘* 5
.
‘‘5 6
StoredProcedure
‘‘6 E
;
‘‘E F
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
AddWithValue
÷÷' 3
(
÷÷3 4
$str
÷÷4 <
,
÷÷< =

pPresotorE
÷÷> H
.
÷÷H I
Campo
÷÷I N
)
÷÷N O
;
÷÷O P
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ &
.
◊◊& '
AddWithValue
◊◊' 3
(
◊◊3 4
$str
◊◊4 =
,
◊◊= >

pPresotorE
◊◊? I
.
◊◊I J
CodPresotor
◊◊J U
)
◊◊U V
;
◊◊V W
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ &
.
ÿÿ& '
AddWithValue
ÿÿ' 3
(
ÿÿ3 4
$str
ÿÿ4 A
,
ÿÿA B

pPresotorE
ÿÿC M
.
ÿÿM N

NuevoValor
ÿÿN X
)
ÿÿX Y
;
ÿÿY Z
cnn
⁄⁄ 
.
⁄⁄ 
Open
⁄⁄  
(
⁄⁄  !
)
⁄⁄! "
;
⁄⁄" #
if
€€ 
(
€€ 
cmd
€€ 
.
€€  
ExecuteNonQuery
€€  /
(
€€/ 0
)
€€0 1
>=
€€2 4
$num
€€5 6
)
€€6 7
return
‹‹ "
true
‹‹# '
;
‹‹' (
else
›› 
return
ﬁﬁ "
false
ﬁﬁ# (
;
ﬁﬁ( )
cnn
ﬂﬂ 
.
ﬂﬂ 
Close
ﬂﬂ !
(
ﬂﬂ! "
)
ﬂﬂ" #
;
ﬂﬂ# $
cmd
‡‡ 
.
‡‡ 
Dispose
‡‡ #
(
‡‡# $
)
‡‡$ %
;
‡‡% &
}
·· 
}
‚‚ 
}
„„ 
catch
‰‰ 
(
‰‰ 
	Exception
‰‰ 
ex
‰‰ 
)
‰‰  
{
ÂÂ 
throw
ÊÊ 
new
ÊÊ 
	Exception
ÊÊ #
(
ÊÊ# $
ex
ÊÊ$ &
.
ÊÊ& '
Message
ÊÊ' .
)
ÊÊ. /
;
ÊÊ/ 0
}
ÁÁ 
}
ËË 	
}
ÈÈ 
}ÍÍ è=
eD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\PagosCuentaAD\PagosacuentaMovAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
PagosCuentaAD

 )
{ 
public 

class 
PagosacuentaMovAD "
{ 
private 
PagosaCuentaMovE  
LlenarEntidad! .
(. /
IDataReader/ :
dr; =
,= >
PagosaCuentaMovE? O
pPagosacuentaMovEP a
)a b
{ 	
PagosaCuentaMovE 
oPagosacuentaMovE .
=/ 0
new1 4
PagosaCuentaMovE5 E
(E F
)F G
;G H
switch 
( 
pPagosacuentaMovE %
.% &
Orden& +
)+ ,
{ 
case 
$num 
: 
{ 
oPagosacuentaMovE )
.) *
CodTipopago* 5
=6 7
(8 9
string9 ?
)? @
drA C
[C D
$strD R
]R S
;S T
oPagosacuentaMovE )
.) *
Monto* /
=0 1
(2 3
double3 9
)9 :
dr; =
[= >
$str> E
]E F
;F G
oPagosacuentaMovE )
.) *
CodPresotor* 5
=6 7
(8 9
string9 ?
)? @
drA C
[C D
$strD Q
]Q R
;R S
oPagosacuentaMovE )
.) *
IdePagosacuenta* 9
=: ;
(< =
int= @
)@ A
drB D
[D E
$strE W
]W X
;X Y
break 
; 
} 
} 
return 
oPagosacuentaMovE $
;$ %
} 	
public 
List 
< 
PagosaCuentaMovE $
>$ %'
Sp_PagosacuentaMov_Consulta& A
(A B
PagosaCuentaMovEB R
pPagosacuentaMovES d
)d e
{   	
IDataReader!! 
dr!! 
;!! 
PagosaCuentaMovE"" 
oPagosacuentaMovE"" .
=""/ 0
null""1 5
;""t u
List## 
<## 
PagosaCuentaMovE## !
>##! "
oListar### *
=##+ ,
new##- 0
List##1 5
<##5 6
PagosaCuentaMovE##6 F
>##F G
(##G H
)##H I
;##I J
try$$ 
{%% 
using&& 
(&& 
SqlConnection&& $
cnn&&% (
=&&) *
new&&+ .
SqlConnection&&/ <
(&&< =
VariablesGlobales&&= N
.&&N O

CnnClinica&&O Y
)&&Y Z
)&&Z [
{'' 
using(( 
((( 

SqlCommand(( %
cmd((& )
=((* +
new((, /

SqlCommand((0 :
(((: ;
$str((; X
,((X Y
cnn((Z ]
)((] ^
)((^ _
{)) 
cmd** 
.** 
CommandType** '
=**( )
CommandType*** 5
.**5 6
StoredProcedure**6 E
;**E F
cmd,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 G
,,,G H
pPagosacuentaMovE,,I Z
.,,Z [
IdePagosacuenta,,[ j
),,j k
;,,k l
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 <
,--< =
pPagosacuentaMovE--> O
.--O P
Orden--P U
)--U V
;--V W
cnn.. 
... 
Open..  
(..  !
)..! "
;.." #
dr// 
=// 
cmd//  
.//  !
ExecuteReader//! .
(//. /
)/// 0
;//0 1
while00 
(00 
dr00 !
.00! "
Read00" &
(00& '
)00' (
)00( )
{11 
oPagosacuentaMovE22 -
=22. /
LlenarEntidad220 =
(22= >
dr22> @
,22@ A
pPagosacuentaMovE22B S
)22S T
;22T U
oListar33 #
.33# $
Add33$ '
(33' (
oPagosacuentaMovE33( 9
)339 :
;33: ;
}44 
dr55 
.55 
Close55  
(55  !
)55! "
;55" #
cnn66 
.66 
Close66 !
(66! "
)66" #
;66# $
return88 
oListar88 &
;88& '
}99 
}:: 
};; 
catch<< 
(<< 
	Exception<< 
ex<< 
)<<  
{== 
throw>> 
new>> 
	Exception>> #
(>># $
ex>>$ &
.>>& '
Message>>' .
)>>. /
;>>/ 0
}?? 
}@@ 	
publicBB 
boolBB $
Sp_PagoaCuentaMov_InsertBB ,
(BB, -
PagosaCuentaMovEBB- =
pPagosacuentaMovEBB> O
)BBO P
{CC 	
boolDD 
ResultDD 
=DD 
falseDD 
;DD  
tryEE 
{FF 
usingGG 
(GG 
SqlConnectionGG $
cnnGG% (
=GG) *
newGG+ .
SqlConnectionGG/ <
(GG< =
VariablesGlobalesGG= N
.GGN O

CnnClinicaGGO Y
)GGY Z
)GGZ [
{HH 
usingII 
(II 

SqlCommandII %
cmdII& )
=II* +
newII, /

SqlCommandII0 :
(II: ;
$strII; U
,IIU V
cnnIIW Z
)IIZ [
)II[ \
{JJ 
cmdKK 
.KK 
CommandTypeKK '
=KK( )
CommandTypeKK* 5
.KK5 6
StoredProcedureKK6 E
;KKE F
cmdMM 
.MM 

ParametersMM &
.MM& '
AddWithValueMM' 3
(MM3 4
$strMM4 B
,MMB C
pPagosacuentaMovEMMD U
.MMU V
CodTipopagoMMV a
)MMa b
;MMb c
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 <
,NN< =
pPagosacuentaMovENN> O
.NNO P
MontoNNP U
)NNU V
;NNV W
cmdOO 
.OO 

ParametersOO &
.OO& '
AddWithValueOO' 3
(OO3 4
$strOO4 B
,OOB C
pPagosacuentaMovEOOD U
.OOU V
CodPresotorOOV a
)OOa b
;OOb c
cnnPP 
.PP 
OpenPP  
(PP  !
)PP! "
;PP" #
ifQQ 
(QQ 
cmdQQ 
.QQ  
ExecuteNonQueryQQ  /
(QQ/ 0
)QQ0 1
>=QQ2 4
$numQQ5 6
)QQ6 7
ResultRR "
=RR# $
trueRR% )
;RR) *
cmdTT 
.TT 
DisposeTT #
(TT# $
)TT$ %
;TT% &
cnnUU 
.UU 
CloseUU !
(UU! "
)UU" #
;UU# $
cnnVV 
.VV 
DisposeVV #
(VV# $
)VV$ %
;VV% &
returnWW 
ResultWW %
;WW% &
}XX 
}YY 
}ZZ 
catch[[ 
([[ 
	Exception[[ 
ex[[ 
)[[  
{\\ 
throw]] 
new]] 
	Exception]] #
(]]# $
ex]]$ &
.]]& '
Message]]' .
)]]. /
;]]/ 0
}^^ 
}__ 	
}`` 
}aa ƒô
]D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\PacientesAD\PacientesAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
PacientesAD '
{ 
public 

class 
PacientesAD 
{ 
private 

PacientesE 
LlenarEntidad (
(( )
IDataReader) 4
dr5 7
,7 8

PacientesE9 C
pPacientesED O
)O P
{ 	

PacientesE 
oPacientesE "
=# $
new% (

PacientesE) 3
(3 4
)4 5
;5 6
switch 
( 
pPacientesE 
.  
Orden  %
)% &
{ 
case 
- 
$num 
: 
{ 
oPacientesE!! #
.!!# $
Nombres!!$ +
=!!, -
(!!. /
string!!/ 5
)!!5 6
(!!6 7
dr!!7 9
[!!9 :
$str!!: C
]!!C D
+!!E F
$str!!G I
)!!I J
.!!J K
Trim!!K O
(!!O P
)!!P Q
;!!Q R
oPacientesE"" #
.""# $
Tipdocidentidad""$ 3
=""4 5
(""6 7
string""7 =
)""= >
(""> ?
dr""? A
[""A B
$str""B S
]""S T
+""U V
$str""W Y
)""Y Z
.""Z [
Trim""[ _
(""_ `
)""` a
;""a b
oPacientesE## #
.### $
Docidentidad##$ 0
=##1 2
(##3 4
string##4 :
)##: ;
(##; <
dr##< >
[##> ?
$str##? M
]##M N
+##O P
$str##Q S
)##S T
.##T U
Trim##U Y
(##Y Z
)##Z [
;##[ \
oPacientesE$$ #
.$$# $
Correo$$$ *
=$$+ ,
($$- .
string$$. 4
)$$4 5
($$5 6
dr$$6 8
[$$8 9
$str$$9 A
]$$A B
+$$C D
$str$$E G
)$$G H
.$$H I
Trim$$I M
($$M N
)$$N O
;$$O P
oPacientesE%% #
.%%# $
Sexo%%$ (
=%%) *
(%%+ ,
string%%, 2
)%%2 3
(%%3 4
dr%%4 6
[%%6 7
$str%%7 =
]%%= >
+%%? @
$str%%A C
)%%C D
.%%D E
Trim%%E I
(%%I J
)%%J K
;%%K L
oPacientesE&& #
.&&# $
Fechanacimiento&&$ 3
=&&4 5
(&&6 7
DateTime&&7 ?
)&&? @
dr&&@ B
[&&B C
$str&&C T
]&&T U
;&&U V
oPacientesE'' #
.''# $
Cardcode''$ ,
=''- .
(''/ 0
string''0 6
)''6 7
dr''7 9
[''9 :
$str'': D
]''D E
+''F G
$str''H J
;''J K
break(( 
;(( 
})) 
case++ 
$num++ 
:,,	 

{-- 
oPacientesE.. #
...# $
CodPaciente..$ /
=..0 1
(..2 3
string..3 9
)..9 :
dr..: <
[..< =
$str..= J
]..J K
;..K L
oPacientesE// #
.//# $
Nombres//$ +
=//, -
(//. /
string/// 5
)//5 6
dr//6 8
[//8 9
$str//9 B
]//B C
;//C D
oPacientesE00 #
.00# $
Docidentidad00$ 0
=001 2
(003 4
string004 :
)00: ;
dr00; =
[00= >
$str00> L
]00L M
;00M N
oPacientesE11 #
.11# $
	Direccion11$ -
=11. /
(110 1
string111 7
)117 8
dr118 :
[11: ;
$str11; F
]11F G
;11G H
oPacientesE22 #
.22# $
Coddistrito22$ /
=220 1
(222 3
string223 9
)229 :
dr22: <
[22< =
$str22= J
]22J K
;22K L
oPacientesE33 #
.33# $
Codprovincia33$ 0
=331 2
(333 4
string334 :
)33: ;
dr33; =
[33= >
$str33> L
]33L M
;33M N
oPacientesE44 #
.44# $
Telefono44$ ,
=44- .
(44/ 0
string440 6
)446 7
dr447 9
[449 :
$str44: D
]44D E
;44E F
oPacientesE55 #
.55# $
Codcivil55$ ,
=55- .
(55/ 0
string550 6
)556 7
dr557 9
[559 :
$str55: D
]55D E
;55E F
oPacientesE66 #
.66# $
Fechanacimiento66$ 3
=664 5
(666 7
DateTime667 ?
)66? @
dr66@ B
[66B C
$str66C T
]66T U
;66U V
oPacientesE77 #
.77# $
Sexo77$ (
=77) *
(77+ ,
string77, 2
)772 3
dr773 5
[775 6
$str776 <
]77< =
;77= >
oPacientesE88 #
.88# $
Tipdocidentidad88$ 3
=884 5
(886 7
string887 =
)88= >
dr88> @
[88@ A
$str88A R
]88R S
;88S T
oPacientesE99 #
.99# $
Ruc99$ '
=99( )
(99* +
string99+ 1
)991 2
dr992 4
[994 5
$str995 :
]99: ;
;99; <
oPacientesE:: #
.::# $
Observaciones::$ 1
=::2 3
(::4 5
string::5 ;
)::; <
dr::< >
[::> ?
$str::? N
]::N O
;::O P
oPacientesE;; #
.;;# $
Quiencreoregistro;;$ 5
=;;6 7
(;;8 9
string;;9 ?
);;? @
dr;;@ B
[;;B C
$str;;C V
];;V W
;;;W X
oPacientesE<< #
.<<# $!
Quienmodificoregistro<<$ 9
=<<: ;
(<<< =
string<<= C
)<<C D
dr<<D F
[<<F G
$str<<G ^
]<<^ _
;<<_ `
oPacientesE== #
.==# $
Estado==$ *
===+ ,
(==- .
string==. 4
)==4 5
dr==5 7
[==7 8
$str==8 @
]==@ A
;==A B
oPacientesE>> #
.>># $
Vip>>$ '
=>>( )
(>>* +
string>>+ 1
)>>1 2
dr>>2 4
[>>4 5
$str>>5 :
]>>: ;
;>>; <
oPacientesE?? #
.??# $
Coddireccion??$ 0
=??1 2
(??3 4
string??4 :
)??: ;
dr??; =
[??= >
$str??> L
]??L M
;??M N
oPacientesE@@ #
.@@# $
Lugarnacimiento@@$ 3
=@@4 5
(@@6 7
string@@7 =
)@@= >
dr@@> @
[@@@ A
$str@@A R
]@@R S
;@@S T
oPacientesEAA #
.AA# $
RestringidoAA$ /
=AA0 1
(AA2 3
stringAA3 9
)AA9 :
drAA: <
[AA< =
$strAA= J
]AAJ K
;AAK L
oPacientesEBB #
.BB# $
	CodUbigeoBB$ -
=BB. /
(BB0 1
stringBB1 7
)BB7 8
drBB8 :
[BB: ;
$strBB; G
]BBG H
;BBH I
oPacientesECC #
.CC# $
FlgEnviosapCC$ /
=CC0 1
(CC2 3
boolCC3 7
)CC7 8
drCC8 :
[CC: ;
$strCC; I
]CCI J
;CCJ K
oPacientesEDD #
.DD# $
FecEnviosapDD$ /
=DD0 1
(DD2 3
DateTimeDD3 ;
)DD; <
drDD< >
[DD> ?
$strDD? M
]DDM N
;DDN O
oPacientesEEE #
.EE# $
IdeDocentrysapEE$ 2
=EE3 4
(EE5 6
intEE6 9
)EE9 :
drEE: <
[EE< =
$strEE= N
]EEN O
;EEO P
oPacientesEFF #
.FF# $
FecDocentrysapFF$ 2
=FF3 4
(FF5 6
DateTimeFF6 >
)FF> ?
drFF? A
[FFA B
$strFFB S
]FFS T
;FFT U
oPacientesEGG #
.GG# $
CardcodeGG$ ,
=GG- .
(GG/ 0
stringGG0 6
)GG6 7
drGG7 9
[GG9 :
$strGG: D
]GGD E
;GGE F
oPacientesEHH #
.HH# $
FecRecepcionsapHH$ 3
=HH4 5
(HH6 7
DateTimeHH7 ?
)HH? @
drHH@ B
[HHB C
$strHHC U
]HHU V
;HHV W
breakII 
;II 
}JJ 
caseKK 
$numKK 
:KK 
{LL 
oPacientesEMM #
.MM# $
DocidentidadMM$ 0
=MM1 2
ConvertMM3 :
.MM: ;
ToStringMM; C
(MMC D
drMMD F
[MMF G
$strMMG U
]MMU V
)MMV W
;MMW X
oPacientesENN #
.NN# $
CodPacienteNN$ /
=NN0 1
ConvertNN2 9
.NN9 :
ToStringNN: B
(NNB C
drNNC E
[NNE F
$strNNF S
]NNS T
)NNT U
;NNU V
oPacientesEOO #
.OO# $
NombresOO$ +
=OO, -
ConvertOO. 5
.OO5 6
ToStringOO6 >
(OO> ?
drOO? A
[OOA B
$strOOB K
]OOK L
)OOL M
;OOM N
breakPP 
;PP 
}QQ 
caseRR 
$numRR 
:RR 
{SS 
oPacientesETT #
.TT# $
DocidentidadTT$ 0
=TT1 2
ConvertTT3 :
.TT: ;
ToStringTT; C
(TTC D
drTTD F
[TTF G
$strTTG U
]TTU V
)TTV W
;TTW X
oPacientesEUU #
.UU# $
CodPacienteUU$ /
=UU0 1
ConvertUU2 9
.UU9 :
ToStringUU: B
(UUB C
drUUC E
[UUE F
$strUUF S
]UUS T
)UUT U
;UUU V
oPacientesEVV #
.VV# $
NombresVV$ +
=VV, -
ConvertVV. 5
.VV5 6
ToStringVV6 >
(VV> ?
drVV? A
[VVA B
$strVVB K
]VVK L
)VVL M
;VVM N
breakWW 
;WW 
}XX 
caseZZ 
$numZZ 
:ZZ 
{[[ 
oPacientesE\\ #
.\\# $
CodPaciente\\$ /
=\\0 1
(\\2 3
string\\3 9
)\\9 :
dr\\: <
[\\< =
$str\\= J
]\\J K
;\\K L
break]] 
;]] 
}^^ 
case`` 
$num`` 
:`` 
{aa 
oPacientesEbb #
.bb# $
FechaRegistrobb$ 1
=bb2 3
(bb4 5
DateTimebb5 =
)bb= >
drbb> @
[bb@ A
$strbbA L
]bbL M
;bbM N
breakcc 
;cc 
}dd 
}ee 
returnff 
oPacientesEff 
;ff 
}gg 	
publicii 
Listii 
<ii 

PacientesEii 
>ii #
Sp_Pacientes_ConsultaV2ii  7
(ii7 8

PacientesEii8 B
pPacientesEiiC N
)iiN O
{jj 	
IDataReaderkk 
drkk 
;kk 

PacientesEll 
oPacientesEll "
=ll# $
nullll% )
;llh i
Listmm 
<mm 

PacientesEmm 
>mm 
oListarmm $
=mm% &
newmm' *
Listmm+ /
<mm/ 0

PacientesEmm0 :
>mm: ;
(mm; <
)mm< =
;mm= >
trynn 
{oo 
usingpp 
(pp 
SqlConnectionpp $
cnnpp% (
=pp) *
newpp+ .
SqlConnectionpp/ <
(pp< =
VariablesGlobalespp= N
.ppN O

CnnClinicappO Y
)ppY Z
)ppZ [
{qq 
usingrr 
(rr 

SqlCommandrr %
cmdrr& )
=rr* +
newrr, /

SqlCommandrr0 :
(rr: ;
$strrr; T
,rrT U
cnnrrV Y
)rrY Z
)rrZ [
{ss 
cmdtt 
.tt 
CommandTypett '
=tt( )
CommandTypett* 5
.tt5 6
StoredProcedurett6 E
;ttE F
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 <
,vv< =
pPacientesEvv> I
.vvI J
OrdenvvJ O
)vvO P
;vvP Q
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 B
,wwB C
pPacientesEwwD O
.wwO P
NombreswwP W
)wwW X
;wwX Y
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 @
,xx@ A
pPacientesExxB M
.xxM N
NumeroLineasxxN Z
)xxZ [
;xx[ \
cnnyy 
.yy 
Openyy  
(yy  !
)yy! "
;yy" #
drzz 
=zz 
cmdzz  
.zz  !
ExecuteReaderzz! .
(zz. /
)zz/ 0
;zz0 1
while{{ 
({{ 
dr{{ !
.{{! "
Read{{" &
({{& '
){{' (
){{( )
{|| 
oPacientesE}} '
=}}( )
LlenarEntidad}}* 7
(}}7 8
dr}}8 :
,}}: ;
pPacientesE}}< G
)}}G H
;}}H I
oListar~~ #
.~~# $
Add~~$ '
(~~' (
oPacientesE~~( 3
)~~3 4
;~~4 5
} 
dr
ÄÄ 
.
ÄÄ 
Close
ÄÄ  
(
ÄÄ  !
)
ÄÄ! "
;
ÄÄ" #
cnn
ÅÅ 
.
ÅÅ 
Close
ÅÅ !
(
ÅÅ! "
)
ÅÅ" #
;
ÅÅ# $
return
ÉÉ 
oListar
ÉÉ &
;
ÉÉ& '
}
ÑÑ 
}
ÖÖ 
}
ÜÜ 
catch
áá 
(
áá 
	Exception
áá 
ex
áá 
)
áá  
{
àà 
throw
ââ 
new
ââ 
	Exception
ââ #
(
ââ# $
ex
ââ$ &
.
ââ& '
Message
ââ' .
)
ââ. /
;
ââ/ 0
}
ää 
}
ãã 	
private
çç 

PacientesE
çç ,
LlenarEntidadPacientesTerceros
çç 9
(
çç9 :
IDataReader
çç: E
dr
ççF H
,
ççH I

PacientesE
ççJ T
pPacientesE
ççU `
)
çç` a
{
éé 	

PacientesE
èè 
oPacientesE
èè "
=
èè# $
new
èè% (

PacientesE
èè) 3
(
èè3 4
)
èè4 5
;
èè5 6
switch
êê 
(
êê 
pPacientesE
êê 
.
êê  
Orden
êê  %
)
êê% &
{
ëë 
case
íí 
$num
íí 
:
íí 
{
ìì 
oPacientesE
îî #
.
îî# $
Codigo
îî$ *
=
îî+ ,
(
îî- .
string
îî. 4
)
îî4 5
dr
îî5 7
[
îî7 8
$str
îî8 @
]
îî@ A
;
îîA B
oPacientesE
ïï #
.
ïï# $
Nombres
ïï$ +
=
ïï, -
(
ïï. /
string
ïï/ 5
)
ïï5 6
dr
ïï6 8
[
ïï8 9
$str
ïï9 B
]
ïïB C
;
ïïC D
oPacientesE
ññ #
.
ññ# $
Docidentidad
ññ$ 0
=
ññ1 2
(
ññ3 4
string
ññ4 :
)
ññ: ;
dr
ññ; =
[
ññ= >
$str
ññ> L
]
ññL M
;
ññM N
oPacientesE
óó #
.
óó# $
	Direccion
óó$ -
=
óó. /
(
óó0 1
string
óó1 7
)
óó7 8
dr
óó8 :
[
óó: ;
$str
óó; F
]
óóF G
;
óóG H
oPacientesE
òò #
.
òò# $
Tabla
òò$ )
=
òò* +
(
òò, -
string
òò- 3
)
òò3 4
dr
òò4 6
[
òò6 7
$str
òò7 >
]
òò> ?
;
òò? @
oPacientesE
öö #
.
öö# $
Nombre
öö$ *
=
öö+ ,
(
öö- .
string
öö. 4
)
öö4 5
dr
öö5 7
[
öö7 8
$str
öö8 @
]
öö@ A
+
ööB C
$str
ööD F
;
ööF G
oPacientesE
õõ #
.
õõ# $
	ApPaterno
õõ$ -
=
õõ. /
(
õõ0 1
string
õõ1 7
)
õõ7 8
dr
õõ8 :
[
õõ: ;
$str
õõ; F
]
õõF G
+
õõH I
$str
õõJ L
;
õõL M
oPacientesE
úú #
.
úú# $
	ApMaterno
úú$ -
=
úú. /
(
úú0 1
string
úú1 7
)
úú7 8
dr
úú8 :
[
úú: ;
$str
úú; F
]
úúF G
+
úúH I
$str
úúJ L
;
úúL M
oPacientesE
ùù #
.
ùù# $

Parentesco
ùù$ .
=
ùù/ 0
(
ùù1 2
string
ùù2 8
)
ùù8 9
dr
ùù9 ;
[
ùù; <
$str
ùù< H
]
ùùH I
+
ùùJ K
$str
ùùL N
;
ùùN O
oPacientesE
ûû #
.
ûû# $
Correo
ûû$ *
=
ûû+ ,
(
ûû- .
string
ûû. 4
)
ûû4 5
dr
ûû5 7
[
ûû7 8
$str
ûû8 @
]
ûû@ A
+
ûûB C
$str
ûûD F
;
ûûF G
oPacientesE
üü #
.
üü# $
Celular
üü$ +
=
üü, -
(
üü. /
string
üü/ 5
)
üü5 6
dr
üü6 8
[
üü8 9
$str
üü9 B
]
üüB C
+
üüD E
$str
üüF H
;
üüH I
break
†† 
;
†† 
}
°° 
}
¢¢ 
return
££ 
oPacientesE
££ 
;
££ 
}
§§ 	
public
ßß 
List
ßß 
<
ßß 

PacientesE
ßß 
>
ßß /
!Sp_BuscarPacienteTercero_Consulta
ßß  A
(
ßßA B

PacientesE
ßßB L
pPacientesE
ßßM X
)
ßßX Y
{
®® 	
IDataReader
©© 
dr
©© 
;
©© 

PacientesE
™™ 
oPacientesE
™™ "
=
™™# $
null
™™% )
;
™™h i
List
´´ 
<
´´ 

PacientesE
´´ 
>
´´ 
oListar
´´ $
=
´´% &
new
´´' *
List
´´+ /
<
´´/ 0

PacientesE
´´0 :
>
´´: ;
(
´´; <
)
´´< =
;
´´= >
try
¨¨ 
{
≠≠ 
using
ÆÆ 
(
ÆÆ 
SqlConnection
ÆÆ $
cnn
ÆÆ% (
=
ÆÆ) *
new
ÆÆ+ .
SqlConnection
ÆÆ/ <
(
ÆÆ< =
VariablesGlobales
ÆÆ= N
.
ÆÆN O

CnnClinica
ÆÆO Y
)
ÆÆY Z
)
ÆÆZ [
{
ØØ 
using
∞∞ 
(
∞∞ 

SqlCommand
∞∞ %
cmd
∞∞& )
=
∞∞* +
new
∞∞, /

SqlCommand
∞∞0 :
(
∞∞: ;
$str
∞∞; ^
,
∞∞^ _
cnn
∞∞` c
)
∞∞c d
)
∞∞d e
{
±± 
cmd
≤≤ 
.
≤≤ 
CommandType
≤≤ '
=
≤≤( )
CommandType
≤≤* 5
.
≤≤5 6
StoredProcedure
≤≤6 E
;
≤≤E F
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ &
.
¥¥& '
AddWithValue
¥¥' 3
(
¥¥3 4
$str
¥¥4 >
,
¥¥> ?
pPacientesE
¥¥@ K
.
¥¥K L
Nombres
¥¥L S
)
¥¥S T
;
¥¥T U
cmd
µµ 
.
µµ 

Parameters
µµ &
.
µµ& '
AddWithValue
µµ' 3
(
µµ3 4
$str
µµ4 C
,
µµC D
pPacientesE
µµE P
.
µµP Q
Docidentidad
µµQ ]
)
µµ] ^
;
µµ^ _
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ &
.
∂∂& '
AddWithValue
∂∂' 3
(
∂∂3 4
$str
∂∂4 F
,
∂∂F G
pPacientesE
∂∂H S
.
∂∂S T
Tipdocidentidad
∂∂T c
)
∂∂c d
;
∂∂d e
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ &
.
∑∑& '
AddWithValue
∑∑' 3
(
∑∑3 4
$str
∑∑4 <
,
∑∑< =
pPacientesE
∑∑> I
.
∑∑I J
Orden
∑∑J O
)
∑∑O P
;
∑∑P Q
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ &
.
∏∏& '
AddWithValue
∏∏' 3
(
∏∏3 4
$str
∏∏4 K
,
∏∏K L
pPacientesE
∏∏M X
.
∏∏X Y 
CodPacienteAuditor
∏∏Y k
)
∏∏k l
;
∏∏l m
cnn
ªª 
.
ªª 
Open
ªª  
(
ªª  !
)
ªª! "
;
ªª" #
dr
ºº 
=
ºº 
cmd
ºº  
.
ºº  !
ExecuteReader
ºº! .
(
ºº. /
)
ºº/ 0
;
ºº0 1
while
ΩΩ 
(
ΩΩ 
dr
ΩΩ !
.
ΩΩ! "
Read
ΩΩ" &
(
ΩΩ& '
)
ΩΩ' (
)
ΩΩ( )
{
ææ 
oPacientesE
øø '
=
øø( ),
LlenarEntidadPacientesTerceros
øø* H
(
øøH I
dr
øøI K
,
øøK L
pPacientesE
øøM X
)
øøX Y
;
øøY Z
oListar
¿¿ #
.
¿¿# $
Add
¿¿$ '
(
¿¿' (
oPacientesE
¿¿( 3
)
¿¿3 4
;
¿¿4 5
}
¡¡ 
dr
¬¬ 
.
¬¬ 
Close
¬¬  
(
¬¬  !
)
¬¬! "
;
¬¬" #
cnn
√√ 
.
√√ 
Close
√√ !
(
√√! "
)
√√" #
;
√√# $
return
≈≈ 
oListar
≈≈ &
;
≈≈& '
}
∆∆ 
}
«« 
}
»» 
catch
…… 
(
…… 
	Exception
…… 
ex
…… 
)
……  
{
   
throw
ÀÀ 
new
ÀÀ 
	Exception
ÀÀ #
(
ÀÀ# $
ex
ÀÀ$ &
.
ÀÀ& '
Message
ÀÀ' .
)
ÀÀ. /
;
ÀÀ/ 0
}
ÃÃ 
}
ÕÕ 	
public
œœ 
List
œœ 
<
œœ 

PacientesE
œœ 
>
œœ #
Sp_Pacientes_Consulta
œœ  5
(
œœ5 6

PacientesE
œœ6 @
pPacientesE
œœA L
)
œœL M
{
–– 	
IDataReader
—— 
dr
—— 
;
—— 

PacientesE
““ 
oPacientesE
““ "
=
““# $
null
““% )
;
““h i
List
”” 
<
”” 

PacientesE
”” 
>
”” 
oListar
”” $
=
””% &
new
””' *
List
””+ /
<
””/ 0

PacientesE
””0 :
>
””: ;
(
””; <
)
””< =
;
””= >
try
‘‘ 
{
’’ 
using
÷÷ 
(
÷÷ 
SqlConnection
÷÷ $
cnn
÷÷% (
=
÷÷) *
new
÷÷+ .
SqlConnection
÷÷/ <
(
÷÷< =
VariablesGlobales
÷÷= N
.
÷÷N O

CnnClinica
÷÷O Y
)
÷÷Y Z
)
÷÷Z [
{
◊◊ 
using
ÿÿ 
(
ÿÿ 

SqlCommand
ÿÿ %
cmd
ÿÿ& )
=
ÿÿ* +
new
ÿÿ, /

SqlCommand
ÿÿ0 :
(
ÿÿ: ;
$str
ÿÿ; R
,
ÿÿR S
cnn
ÿÿT W
)
ÿÿW X
)
ÿÿX Y
{
ŸŸ 
cmd
⁄⁄ 
.
⁄⁄ 
CommandType
⁄⁄ '
=
⁄⁄( )
CommandType
⁄⁄* 5
.
⁄⁄5 6
StoredProcedure
⁄⁄6 E
;
⁄⁄E F
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ &
.
‹‹& '
AddWithValue
‹‹' 3
(
‹‹3 4
$str
‹‹4 =
,
‹‹= >
pPacientesE
‹‹? J
.
‹‹J K
Buscar
‹‹K Q
)
‹‹Q R
;
‹‹R S
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 :
,
››: ;
pPacientesE
››< G
.
››G H
Key
››H K
)
››K L
;
››L M
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ &
.
ﬁﬁ& '
AddWithValue
ﬁﬁ' 3
(
ﬁﬁ3 4
$str
ﬁﬁ4 C
,
ﬁﬁC D
pPacientesE
ﬁﬁE P
.
ﬁﬁP Q
NumeroLineas
ﬁﬁQ ]
)
ﬁﬁ] ^
;
ﬁﬁ^ _
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ &
.
ﬂﬂ& '
AddWithValue
ﬂﬂ' 3
(
ﬂﬂ3 4
$str
ﬂﬂ4 <
,
ﬂﬂ< =
pPacientesE
ﬂﬂ> I
.
ﬂﬂI J
Orden
ﬂﬂJ O
)
ﬂﬂO P
;
ﬂﬂP Q
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ &
.
‡‡& '
AddWithValue
‡‡' 3
(
‡‡3 4
$str
‡‡4 D
,
‡‡D E
pPacientesE
‡‡F Q
.
‡‡Q R
Docidentidad
‡‡R ^
)
‡‡^ _
;
‡‡_ `
cnn
·· 
.
·· 
Open
··  
(
··  !
)
··! "
;
··" #
dr
‚‚ 
=
‚‚ 
cmd
‚‚  
.
‚‚  !
ExecuteReader
‚‚! .
(
‚‚. /
)
‚‚/ 0
;
‚‚0 1
while
„„ 
(
„„ 
dr
„„ !
.
„„! "
Read
„„" &
(
„„& '
)
„„' (
)
„„( )
{
‰‰ 
oPacientesE
ÂÂ '
=
ÂÂ( )
LlenarEntidad
ÂÂ* 7
(
ÂÂ7 8
dr
ÂÂ8 :
,
ÂÂ: ;
pPacientesE
ÂÂ< G
)
ÂÂG H
;
ÂÂH I
oListar
ÊÊ #
.
ÊÊ# $
Add
ÊÊ$ '
(
ÊÊ' (
oPacientesE
ÊÊ( 3
)
ÊÊ3 4
;
ÊÊ4 5
}
ÁÁ 
dr
ËË 
.
ËË 
Close
ËË  
(
ËË  !
)
ËË! "
;
ËË" #
cnn
ÈÈ 
.
ÈÈ 
Close
ÈÈ !
(
ÈÈ! "
)
ÈÈ" #
;
ÈÈ# $
return
ÎÎ 
oListar
ÎÎ &
;
ÎÎ& '
}
ÏÏ 
}
ÌÌ 
}
ÓÓ 
catch
ÔÔ 
(
ÔÔ 
	Exception
ÔÔ 
ex
ÔÔ 
)
ÔÔ  
{
 
throw
ÒÒ 
new
ÒÒ 
	Exception
ÒÒ #
(
ÒÒ# $
ex
ÒÒ$ &
.
ÒÒ& '
Message
ÒÒ' .
)
ÒÒ. /
;
ÒÒ/ 0
}
ÚÚ 
}
ÛÛ 	
public
ıı 
bool
ıı !
Sp_Pacientes_Update
ıı '
(
ıı' (

PacientesE
ıı( 2
pPacientesE
ıı3 >
)
ıı> ?
{
ˆˆ 	
try
˜˜ 
{
¯¯ 
using
˘˘ 
(
˘˘ 
SqlConnection
˘˘ $
cnn
˘˘% (
=
˘˘) *
new
˘˘+ .
SqlConnection
˘˘/ <
(
˘˘< =
VariablesGlobales
˘˘= N
.
˘˘N O

CnnClinica
˘˘O Y
)
˘˘Y Z
)
˘˘Z [
{
˙˙ 
using
˚˚ 
(
˚˚ 

SqlCommand
˚˚ %
cmd
˚˚& )
=
˚˚* +
new
˚˚, /

SqlCommand
˚˚0 :
(
˚˚: ;
$str
˚˚; P
,
˚˚P Q
cnn
˚˚R U
)
˚˚U V
)
˚˚V W
{
¸¸ 
cmd
˝˝ 
.
˝˝ 
CommandType
˝˝ '
=
˝˝( )
CommandType
˝˝* 5
.
˝˝5 6
StoredProcedure
˝˝6 E
;
˝˝E F
cmd
ˇˇ 
.
ˇˇ 

Parameters
ˇˇ &
.
ˇˇ& '
AddWithValue
ˇˇ' 3
(
ˇˇ3 4
$str
ˇˇ4 <
,
ˇˇ< =
pPacientesE
ˇˇ> I
.
ˇˇI J
Campo
ˇˇJ O
)
ˇˇO P
;
ˇˇP Q
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 =
,
ÄÄ= >
pPacientesE
ÄÄ? J
.
ÄÄJ K
CodPaciente
ÄÄK V
)
ÄÄV W
;
ÄÄW X
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 A
,
ÅÅA B
pPacientesE
ÅÅC N
.
ÅÅN O

NuevoValor
ÅÅO Y
)
ÅÅY Z
;
ÅÅZ [
cnn
ÉÉ 
.
ÉÉ 
Open
ÉÉ  
(
ÉÉ  !
)
ÉÉ! "
;
ÉÉ" #
if
ÑÑ 
(
ÑÑ 
cmd
ÑÑ 
.
ÑÑ  
ExecuteNonQuery
ÑÑ  /
(
ÑÑ/ 0
)
ÑÑ0 1
>=
ÑÑ2 4
$num
ÑÑ5 6
)
ÑÑ6 7
return
ÖÖ "
true
ÖÖ# '
;
ÖÖ' (
else
ÜÜ 
return
áá "
false
áá# (
;
áá( )
cnn
àà 
.
àà 
Close
àà !
(
àà! "
)
àà" #
;
àà# $
cmd
ââ 
.
ââ 
Dispose
ââ #
(
ââ# $
)
ââ$ %
;
ââ% &
}
ää 
}
ãã 
}
åå 
catch
çç 
(
çç 
	Exception
çç 
ex
çç 
)
çç  
{
éé 
throw
èè 
new
èè 
	Exception
èè #
(
èè# $
ex
èè$ &
.
èè& '
Message
èè' .
)
èè. /
;
èè/ 0
}
êê 
}
ëë 	
private
îî 

PacientesE
îî 
.
îî 
ListarAtenciones
îî +
LlenarAtenciones
îî, <
(
îî< =
IDataReader
îî= H
dr
îîI K
,
îîK L

PacientesE
îîM W
pPacientesE
îîX c
)
îîc d
{
ïï 	

PacientesE
ññ 
.
ññ 
ListarAtenciones
ññ '
oPacientesE
ññ( 3
=
ññ4 5
new
ññ6 9

PacientesE
ññ: D
.
ññD E
ListarAtenciones
ññE U
(
ññU V
)
ññV W
;
ññW X
switch
óó 
(
óó 
pPacientesE
óó 
.
óó  
Orden
óó  %
)
óó% &
{
òò 
case
ôô 
$num
ôô 
:
ôô 
{
öö 
oPacientesE
õõ #
.
õõ# $
codatencion
õõ$ /
=
õõ0 1
(
õõ2 3
string
õõ3 9
)
õõ9 :
(
õõ: ;
dr
õõ; =
[
õõ= >
$str
õõ> K
]
õõK L
+
õõM N
$str
õõO Q
)
õõQ R
.
õõR S
Trim
õõS W
(
õõW X
)
õõX Y
;
õõY Z
oPacientesE
úú #
.
úú# $
fechainicio
úú$ /
=
úú0 1
(
úú2 3
string
úú3 9
)
úú9 :
(
úú: ;
dr
úú; =
[
úú= >
$str
úú> K
]
úúK L
+
úúM N
$str
úúO Q
)
úúQ R
.
úúR S
Trim
úúS W
(
úúW X
)
úúX Y
;
úúY Z
oPacientesE
ùù #
.
ùù# $
codpaciente
ùù$ /
=
ùù0 1
(
ùù2 3
string
ùù3 9
)
ùù9 :
(
ùù: ;
dr
ùù; =
[
ùù= >
$str
ùù> K
]
ùùK L
+
ùùM N
$str
ùùO Q
)
ùùQ R
.
ùùR S
Trim
ùùS W
(
ùùW X
)
ùùX Y
;
ùùY Z
oPacientesE
ûû #
.
ûû# $
nombres
ûû$ +
=
ûû, -
(
ûû. /
string
ûû/ 5
)
ûû5 6
(
ûû6 7
dr
ûû7 9
[
ûû9 :
$str
ûû: C
]
ûûC D
+
ûûE F
$str
ûûG I
)
ûûI J
.
ûûJ K
Trim
ûûK O
(
ûûO P
)
ûûP Q
;
ûûQ R
oPacientesE
üü #
.
üü# $
tipdocidentidad
üü$ 3
=
üü4 5
(
üü6 7
string
üü7 =
)
üü= >
(
üü> ?
dr
üü? A
[
üüA B
$str
üüB S
]
üüS T
+
üüU V
$str
üüW Y
)
üüY Z
.
üüZ [
Trim
üü[ _
(
üü_ `
)
üü` a
;
üüa b
oPacientesE
†† #
.
††# $
docidentidad
††$ 0
=
††1 2
(
††3 4
string
††4 :
)
††: ;
dr
††; =
[
††= >
$str
††> L
]
††L M
;
††M N
break
°° 
;
°° 
}
¢¢ 
}
££ 
return
§§ 
oPacientesE
§§ 
;
§§ 
}
•• 	
public
ßß 
List
ßß 
<
ßß 

PacientesE
ßß 
.
ßß 
ListarAtenciones
ßß /
>
ßß/ 0+
Sp_Pacientes_ListarAtenciones
ßß1 N
(
ßßN O

PacientesE
ßßO Y
pPacientesE
ßßZ e
)
ßße f
{
®® 	
IDataReader
©© 
dr
©© 
;
©© 

PacientesE
™™ 
.
™™ 
ListarAtenciones
™™ '
oPacientesE
™™( 3
=
™™4 5
null
™™6 :
;
™™y z
List
´´ 
<
´´ 

PacientesE
´´ 
.
´´ 
ListarAtenciones
´´ ,
>
´´, -
oListar
´´. 5
=
´´6 7
new
´´8 ;
List
´´< @
<
´´@ A

PacientesE
´´A K
.
´´K L
ListarAtenciones
´´L \
>
´´\ ]
(
´´] ^
)
´´^ _
;
´´_ `
try
¨¨ 
{
≠≠ 
using
ÆÆ 
(
ÆÆ 
SqlConnection
ÆÆ $
cnn
ÆÆ% (
=
ÆÆ) *
new
ÆÆ+ .
SqlConnection
ÆÆ/ <
(
ÆÆ< =
VariablesGlobales
ÆÆ= N
.
ÆÆN O

CnnClinica
ÆÆO Y
)
ÆÆY Z
)
ÆÆZ [
{
ØØ 
using
∞∞ 
(
∞∞ 

SqlCommand
∞∞ %
cmd
∞∞& )
=
∞∞* +
new
∞∞, /

SqlCommand
∞∞0 :
(
∞∞: ;
$str
∞∞; Z
,
∞∞Z [
cnn
∞∞\ _
)
∞∞_ `
)
∞∞` a
{
±± 
cmd
≤≤ 
.
≤≤ 
CommandType
≤≤ '
=
≤≤( )
CommandType
≤≤* 5
.
≤≤5 6
StoredProcedure
≤≤6 E
;
≤≤E F
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ &
.
¥¥& '
AddWithValue
¥¥' 3
(
¥¥3 4
$str
¥¥4 C
,
¥¥C D
pPacientesE
¥¥E P
.
¥¥P Q
Docidentidad
¥¥Q ]
)
¥¥] ^
;
¥¥^ _
cmd
µµ 
.
µµ 

Parameters
µµ &
.
µµ& '
AddWithValue
µµ' 3
(
µµ3 4
$str
µµ4 F
,
µµF G
pPacientesE
µµH S
.
µµS T
Tipdocidentidad
µµT c
)
µµc d
;
µµd e
cnn
∂∂ 
.
∂∂ 
Open
∂∂  
(
∂∂  !
)
∂∂! "
;
∂∂" #
dr
∑∑ 
=
∑∑ 
cmd
∑∑  
.
∑∑  !
ExecuteReader
∑∑! .
(
∑∑. /
)
∑∑/ 0
;
∑∑0 1
while
∏∏ 
(
∏∏ 
dr
∏∏ !
.
∏∏! "
Read
∏∏" &
(
∏∏& '
)
∏∏' (
)
∏∏( )
{
ππ 
oPacientesE
∫∫ '
=
∫∫( )
LlenarAtenciones
∫∫* :
(
∫∫: ;
dr
∫∫; =
,
∫∫= >
pPacientesE
∫∫? J
)
∫∫J K
;
∫∫K L
oListar
ªª #
.
ªª# $
Add
ªª$ '
(
ªª' (
oPacientesE
ªª( 3
)
ªª3 4
;
ªª4 5
}
ºº 
dr
ΩΩ 
.
ΩΩ 
Close
ΩΩ  
(
ΩΩ  !
)
ΩΩ! "
;
ΩΩ" #
cnn
ææ 
.
ææ 
Close
ææ !
(
ææ! "
)
ææ" #
;
ææ# $
return
¿¿ 
oListar
¿¿ &
;
¿¿& '
}
¡¡ 
}
¬¬ 
}
√√ 
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ 
ex
ƒƒ 
)
ƒƒ  
{
≈≈ 
throw
∆∆ 
new
∆∆ 
	Exception
∆∆ #
(
∆∆# $
ex
∆∆$ &
.
∆∆& '
Message
∆∆' .
)
∆∆. /
;
∆∆/ 0
}
«« 
}
»» 	
}
   
}ÀÀ Õ»
VD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\UbigeoAD.cs
	namespace		 	
Dat		
 
.		 
Sql		 
.		 
	ClinicaAD		 
.		 
OtrosAD		 #
{

 
public 

class 
UbigeoAD 
{ 
private 
UbigeoE 
LlenarEntidad %
(% &
IDataReader& 1
dr2 4
,4 5
UbigeoE' .
pUbigeoE/ 7
)7 8
{ 	
UbigeoE 
oUbigeoE 
= 
new "
UbigeoE# *
(* +
)+ ,
;, -
switch 
( 
pUbigeoE 
. 
Orden "
)" #
{ 
case 
- 
$num 
: 
oUbigeoE 
. 
	CodUbigeo &
=' (
Convert) 0
.0 1
ToString1 9
(9 :
dr: <
[< =
$str= H
]H I
)I J
;J K
oUbigeoE 
. 
CodPais $
=% &
Convert' .
.. /
ToString/ 7
(7 8
dr8 :
[: ;
$str; D
]D E
)E F
;F G
oUbigeoE 
. 
CodDpto $
=% &
Convert' .
.. /
ToString/ 7
(7 8
dr8 :
[: ;
$str; D
]D E
)E F
;F G
oUbigeoE 
. 
CodProv $
=% &
Convert' .
.. /
ToString/ 7
(7 8
dr8 :
[: ;
$str; D
]D E
)E F
;F G
oUbigeoE 
. 
CodDist $
=% &
Convert' .
.. /
ToString/ 7
(7 8
dr8 :
[: ;
$str; D
]D E
)E F
;F G
oUbigeoE 
. 
Nombre #
=$ %
Convert& -
.- .
ToString. 6
(6 7
dr7 9
[9 :
$str: B
]B C
)C D
;D E
oUbigeoE 
. 

NombrePais '
=( )
Convert* 1
.1 2
ToString2 :
(: ;
dr; =
[= >
$str> J
]J K
)K L
;L M
oUbigeoE 
. 

NombreDpto '
=( )
Convert* 1
.1 2
ToString2 :
(: ;
dr; =
[= >
$str> J
]J K
)K L
;L M
oUbigeoE 
. 

NombreProv '
=( )
Convert* 1
.1 2
ToString2 :
(: ;
dr; =
[= >
$str> J
]J K
)K L
;L M
oUbigeoE 
. 

NombreDist '
=( )
Convert* 1
.1 2
ToString2 :
(: ;
dr; =
[= >
$str> J
]J K
)K L
;L M
oUbigeoE   
.   

CodPaisSup   '
=  ( )
Convert  * 1
.  1 2
ToString  2 :
(  : ;
dr  ; =
[  = >
$str  > J
]  J K
)  K L
;  L M
oUbigeoE!! 
.!! 

CodDptoSup!! '
=!!( )
Convert!!* 1
.!!1 2
ToString!!2 :
(!!: ;
dr!!; =
[!!= >
$str!!> J
]!!J K
)!!K L
;!!L M
oUbigeoE"" 
."" 

CodProvSup"" '
=""( )
Convert""* 1
.""1 2
ToString""2 :
("": ;
dr""; =
[""= >
$str""> J
]""J K
)""K L
;""L M
oUbigeoE## 
.## 

CodDistSup## '
=##( )
Convert##* 1
.##1 2
ToString##2 :
(##: ;
dr##; =
[##= >
$str##> J
]##J K
)##K L
;##L M
break$$ 
;$$ 
case%% 
$num%% 
:%% 
oUbigeoE&& 
.&& 
	CodUbigeo&& &
=&&' (
Convert&&) 0
.&&0 1
ToString&&1 9
(&&9 :
dr&&: <
[&&< =
$str&&= H
]&&H I
)&&I J
;&&J K
oUbigeoE'' 
.'' 
CodPais'' $
=''% &
Convert''' .
.''. /
ToString''/ 7
(''7 8
dr''8 :
['': ;
$str''; D
]''D E
)''E F
;''F G
oUbigeoE(( 
.(( 
CodDpto(( $
=((% &
Convert((' .
.((. /
ToString((/ 7
(((7 8
dr((8 :
[((: ;
$str((; D
]((D E
)((E F
;((F G
oUbigeoE)) 
.)) 
CodProv)) $
=))% &
Convert))' .
.)). /
ToString))/ 7
())7 8
dr))8 :
[)): ;
$str)); D
]))D E
)))E F
;))F G
oUbigeoE** 
.** 
CodDist** $
=**% &
Convert**' .
.**. /
ToString**/ 7
(**7 8
dr**8 :
[**: ;
$str**; D
]**D E
)**E F
;**F G
oUbigeoE++ 
.++ 
CodUbigeoPeru++ *
=+++ ,
Convert++- 4
.++4 5
ToString++5 =
(++= >
dr++> @
[++@ A
$str++A P
]++P Q
)++Q R
;++R S
oUbigeoE-- 
.-- 

NombrePais-- '
=--( )
Convert--* 1
.--1 2
ToString--2 :
(--: ;
dr--; =
[--= >
$str--> J
]--J K
)--K L
;--L M
oUbigeoE.. 
... 

NombreDpto.. '
=..( )
Convert..* 1
...1 2
ToString..2 :
(..: ;
dr..; =
[..= >
$str..> J
]..J K
)..K L
;..L M
oUbigeoE// 
.// 

NombreProv// '
=//( )
Convert//* 1
.//1 2
ToString//2 :
(//: ;
dr//; =
[//= >
$str//> J
]//J K
)//K L
;//L M
oUbigeoE00 
.00 

NombreDist00 '
=00( )
Convert00* 1
.001 2
ToString002 :
(00: ;
dr00; =
[00= >
$str00> J
]00J K
)00K L
;00L M
break22 
;22 
}33 
return55 
oUbigeoE55 
;55 
}66 	
public88 
List88 
<88 
UbigeoE88 
>88 
Sp_Ubigeo_Consulta88 /
(88/ 0
UbigeoE880 7
pUbigeoE888 @
)88@ A
{99 	
List:: 
<:: 
UbigeoE:: 
>:: 
oListar:: !
=::" #
new::$ '
List::( ,
<::, -
UbigeoE::- 4
>::4 5
(::5 6
)::6 7
;::7 8
UbigeoE;; 
oUbigeoE;; 
=;; 
null;; #
;;;# $
using<< 
(<< 
SqlConnection<<  
cnn<<! $
=<<% &
new<<' *
SqlConnection<<+ 8
(<<8 9
VariablesGlobales<<9 J
.<<J K
CnnLogistica<<K W
)<<W X
)<<X Y
{== 
using>> 
(>> 

SqlCommand>> !
cmd>>" %
=>>& '
new>>( +

SqlCommand>>, 6
(>>6 7
$str>>7 K
,>>K L
cnn>>M P
)>>P Q
)>>Q R
{?? 
cmd@@ 
.@@ 
CommandType@@ #
=@@$ %
System@@& ,
.@@, -
Data@@- 1
.@@1 2
CommandType@@2 =
.@@= >
StoredProcedure@@> M
;@@M N
cmdBB 
.BB 

ParametersBB "
.BB" #
AddWithValueBB# /
(BB/ 0
$strBB0 8
,BB8 9
pUbigeoEBB: B
.BBB C
OrdenBBC H
)BBH I
;BBI J
cnnCC 
.CC 
OpenCC 
(CC 
)CC 
;CC 
IDataReaderDD 
drDD  "
=DD# $
cmdDD% (
.DD( )
ExecuteReaderDD) 6
(DD6 7
)DD7 8
;DD8 9
whileEE 
(EE 
drEE 
.EE 
ReadEE "
(EE" #
)EE# $
)EE$ %
{FF 
oUbigeoEGG  
=GG! "
LlenarEntidadGG# 0
(GG0 1
drGG1 3
,GG3 4
pUbigeoEGG5 =
)GG= >
;GG> ?
oListarHH 
.HH  
AddHH  #
(HH# $
oUbigeoEHH$ ,
)HH, -
;HH- .
}II 
drJJ 
.JJ 
CloseJJ 
(JJ 
)JJ 
;JJ 
cnnKK 
.KK 
CloseKK 
(KK 
)KK 
;KK  
}LL 
}MM 
returnNN 
oListarNN 
;NN 
}OO 	
publicRR 
ListRR 
<RR 
UbigeoERR 
>RR "
Sp_Ubigeo_ConsultaPeruRR 3
(RR3 4
UbigeoERR4 ;
pUbigeoERR< D
)RRD E
{SS 	
tryTT 
{UU 
ListVV 
<VV 
UbigeoEVV 
>VV 
oListarVV %
=VV& '
newVV( +
ListVV, 0
<VV0 1
UbigeoEVV1 8
>VV8 9
(VV9 :
)VV: ;
;VV; <
UbigeoEWW 
oUbigeoEWW  
=WW! "
nullWW# '
;WW' (
usingXX 
(XX 
SqlConnectionXX $
cnnXX% (
=XX) *
newXX+ .
SqlConnectionXX/ <
(XX< =
VariablesGlobalesXX= N
.XXN O

CnnClinicaXXO Y
)XXY Z
)XXZ [
{YY 
usingZZ 
(ZZ 

SqlCommandZZ %
cmdZZ& )
=ZZ* +
newZZ, /

SqlCommandZZ0 :
(ZZ: ;
$strZZ; S
,ZZS T
cnnZZU X
)ZZX Y
)ZZY Z
{[[ 
cmd\\ 
.\\ 
CommandType\\ '
=\\( )
System\\* 0
.\\0 1
Data\\1 5
.\\5 6
CommandType\\6 A
.\\A B
StoredProcedure\\B Q
;\\Q R
cmd^^ 
.^^ 

Parameters^^ &
.^^& '
AddWithValue^^' 3
(^^3 4
$str^^4 =
,^^= >
pUbigeoE^^? G
.^^G H
CodPais^^H O
)^^O P
;^^P Q
cmd__ 
.__ 

Parameters__ &
.__& '
AddWithValue__' 3
(__3 4
$str__4 =
,__= >
pUbigeoE__? G
.__G H
Nombre__H N
)__N O
;__O P
cmd`` 
.`` 

Parameters`` &
.``& '
AddWithValue``' 3
(``3 4
$str``4 :
,``: ;
pUbigeoE``< D
.``D E
Key``E H
)``H I
;``I J
cmdaa 
.aa 

Parametersaa &
.aa& '
AddWithValueaa' 3
(aa3 4
$straa4 C
,aaC D
pUbigeoEaaE M
.aaM N
NroFilasaaN V
)aaV W
;aaW X
cmdbb 
.bb 

Parametersbb &
.bb& '
AddWithValuebb' 3
(bb3 4
$strbb4 <
,bb< =
pUbigeoEbb> F
.bbF G
OrdenbbG L
)bbL M
;bbM N
cnndd 
.dd 
Opendd  
(dd  !
)dd! "
;dd" #
IDataReaderee #
dree$ &
=ee' (
cmdee) ,
.ee, -
ExecuteReaderee- :
(ee: ;
)ee; <
;ee< =
whileff 
(ff 
drff !
.ff! "
Readff" &
(ff& '
)ff' (
)ff( )
{gg 
oUbigeoEhh $
=hh% &
LlenarEntidadhh' 4
(hh4 5
drhh5 7
,hh7 8
pUbigeoEhh9 A
)hhA B
;hhB C
oListarii #
.ii# $
Addii$ '
(ii' (
oUbigeoEii( 0
)ii0 1
;ii1 2
}jj 
drkk 
.kk 
Closekk  
(kk  !
)kk! "
;kk" #
cnnll 
.ll 
Closell !
(ll! "
)ll" #
;ll# $
}mm 
}nn 
returnoo 
oListaroo 
;oo 
}pp 
catchqq 
(qq 
	Exceptionqq 
eqq 
)qq 
{rr 
throwrr 
err 
=rr 
newrr 
	Exceptionrr %
(rr% &
err& '
.rr' (
Messagerr( /
)rr/ 0
;rr0 1
}rr2 3
}ss 	
publicww 
boolww 
Sp_Ubigeo_Insertww $
(ww$ %
UbigeoEww% ,
pUbigeoEww- 5
)ww5 6
{xx 	
tryyy 
{zz 
using{{ 
({{ 
SqlConnection{{ $
cnn{{% (
={{) *
new{{+ .
SqlConnection{{/ <
({{< =
VariablesGlobales{{= N
.{{N O

CnnClinica{{O Y
){{Y Z
){{Z [
{|| 
using}} 
(}} 

SqlCommand}} %
cmd}}& )
=}}* +
new}}, /

SqlCommand}}0 :
(}}: ;
$str}}; M
,}}M N
cnn}}O R
)}}R S
)}}S T
{~~ 
cmd 
. 
CommandType '
=( )
System* 0
.0 1
Data1 5
.5 6
CommandType6 A
.A B
StoredProcedureB Q
;Q R
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 @
,
ÅÅ@ A
pUbigeoE
ÅÅB J
.
ÅÅJ K
	CodUbigeo
ÅÅK T
)
ÅÅT U
;
ÅÅU V
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 >
,
ÇÇ> ?
pUbigeoE
ÇÇ@ H
.
ÇÇH I
CodPais
ÇÇI P
)
ÇÇP Q
;
ÇÇQ R
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 >
,
ÉÉ> ?
pUbigeoE
ÉÉ@ H
.
ÉÉH I
CodDpto
ÉÉI P
)
ÉÉP Q
;
ÉÉQ R
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 >
,
ÑÑ> ?
pUbigeoE
ÑÑ@ H
.
ÑÑH I
CodProv
ÑÑI P
)
ÑÑP Q
;
ÑÑQ R
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 >
,
ÖÖ> ?
pUbigeoE
ÖÖ@ H
.
ÖÖH I
CodDist
ÖÖI P
)
ÖÖP Q
;
ÖÖQ R
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 =
,
ÜÜ= >
pUbigeoE
ÜÜ? G
.
ÜÜG H
Nombre
ÜÜH N
)
ÜÜN O
;
ÜÜO P
cnn
àà 
.
àà 
Open
àà  
(
àà  !
)
àà! "
;
àà" #
int
ää 
exito
ää !
=
ää" #
cmd
ää$ '
.
ää' (
ExecuteNonQuery
ää( 7
(
ää7 8
)
ää8 9
;
ää9 :
cnn
ãã 
.
ãã 
Close
ãã !
(
ãã! "
)
ãã" #
;
ãã# $
cmd
åå 
.
åå 
Dispose
åå #
(
åå# $
)
åå$ %
;
åå% &
if
çç 
(
çç 
exito
çç !
>=
çç" $
$num
çç% &
)
çç& '
{
éé 
return
èè "
true
èè# '
;
èè' (
}
êê 
else
ëë 
{
íí 
return
ìì "
false
ìì# (
;
ìì( )
}
îî 
}
ïï 
}
ññ 
}
óó 
catch
òò 
(
òò 
	Exception
òò 
e
òò 
)
òò 
{
ôô 
throw
ôô 
e
ôô 
=
ôô 
new
ôô 
	Exception
ôô %
(
ôô% &
e
ôô& '
.
ôô' (
Message
ôô( /
)
ôô/ 0
;
ôô0 1
}
ôô2 3
}
öö 	
public
ùù 
bool
ùù 
Sp_Ubigeo_Update
ùù $
(
ùù$ %
UbigeoE
ùù% ,
pUbigeoE
ùù- 5
)
ùù5 6
{
ûû 	
try
üü 
{
†† 
using
°° 
(
°° 
SqlConnection
°° $
cnn
°°% (
=
°°) *
new
°°+ .
SqlConnection
°°/ <
(
°°< =
VariablesGlobales
°°= N
.
°°N O
CnnLogistica
°°O [
)
°°[ \
)
°°\ ]
{
¢¢ 
using
££ 
(
££ 

SqlCommand
££ %
cmd
££& )
=
££* +
new
££, /

SqlCommand
££0 :
(
££: ;
$str
££; M
,
££M N
cnn
££O R
)
££R S
)
££S T
{
§§ 
cmd
•• 
.
•• 
CommandType
•• '
=
••( )
System
••* 0
.
••0 1
Data
••1 5
.
••5 6
CommandType
••6 A
.
••A B
StoredProcedure
••B Q
;
••Q R
cmd
ßß 
.
ßß 

Parameters
ßß &
.
ßß& '
AddWithValue
ßß' 3
(
ßß3 4
$str
ßß4 @
,
ßß@ A
pUbigeoE
ßßB J
.
ßßJ K
	CodUbigeo
ßßK T
)
ßßT U
;
ßßU V
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
AddWithValue
®®' 3
(
®®3 4
$str
®®4 >
,
®®> ?
pUbigeoE
®®@ H
.
®®H I
CodPais
®®I P
)
®®P Q
;
®®Q R
cmd
©© 
.
©© 

Parameters
©© &
.
©©& '
AddWithValue
©©' 3
(
©©3 4
$str
©©4 >
,
©©> ?
pUbigeoE
©©@ H
.
©©H I
CodDpto
©©I P
)
©©P Q
;
©©Q R
cmd
™™ 
.
™™ 

Parameters
™™ &
.
™™& '
AddWithValue
™™' 3
(
™™3 4
$str
™™4 >
,
™™> ?
pUbigeoE
™™@ H
.
™™H I
CodProv
™™I P
)
™™P Q
;
™™Q R
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 >
,
´´> ?
pUbigeoE
´´@ H
.
´´H I
CodDist
´´I P
)
´´P Q
;
´´Q R
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ &
.
¨¨& '
AddWithValue
¨¨' 3
(
¨¨3 4
$str
¨¨4 =
,
¨¨= >
pUbigeoE
¨¨? G
.
¨¨G H
Nombre
¨¨H N
)
¨¨N O
;
¨¨O P
cnn
ÆÆ 
.
ÆÆ 
Open
ÆÆ  
(
ÆÆ  !
)
ÆÆ! "
;
ÆÆ" #
int
∞∞ 
exito
∞∞ !
=
∞∞" #
cmd
∞∞$ '
.
∞∞' (
ExecuteNonQuery
∞∞( 7
(
∞∞7 8
)
∞∞8 9
;
∞∞9 :
cnn
±± 
.
±± 
Close
±± !
(
±±! "
)
±±" #
;
±±# $
cmd
≤≤ 
.
≤≤ 
Dispose
≤≤ #
(
≤≤# $
)
≤≤$ %
;
≤≤% &
if
≥≥ 
(
≥≥ 
exito
≥≥ !
>=
≥≥" $
$num
≥≥% &
)
≥≥& '
{
¥¥ 
return
¥¥  
true
¥¥! %
;
¥¥% &
}
¥¥' (
else
µµ 
{
∂∂ 
return
∂∂  
false
∂∂! &
;
∂∂& '
}
∂∂( )
}
∑∑ 
}
∏∏ 
}
ππ 
catch
∫∫ 
(
∫∫ 
	Exception
∫∫ 
e
∫∫ 
)
∫∫ 
{
ªª 
throw
ªª 
e
ªª 
=
ªª 
new
ªª 
	Exception
ªª %
(
ªª% &
e
ªª& '
.
ªª' (
Message
ªª( /
)
ªª/ 0
;
ªª0 1
}
ªª2 3
}
ºº 	
public
øø 
bool
øø $
Sp_Ubigeo_UpdatexCampo
øø *
(
øø* +
UbigeoE
øø+ 2
pUbigeoE
øø3 ;
)
øø; <
{
¿¿ 	
try
¡¡ 
{
¬¬ 
using
√√ 
(
√√ 
SqlConnection
√√ $
cnn
√√% (
=
√√) *
new
√√+ .
SqlConnection
√√/ <
(
√√< =
VariablesGlobales
√√= N
.
√√N O
CnnLogistica
√√O [
)
√√[ \
)
√√\ ]
{
ƒƒ 
using
≈≈ 
(
≈≈ 

SqlCommand
≈≈ %
cmd
≈≈& )
=
≈≈* +
new
≈≈, /

SqlCommand
≈≈0 :
(
≈≈: ;
$str
≈≈; S
,
≈≈S T
cnn
≈≈U X
)
≈≈X Y
)
≈≈Y Z
{
∆∆ 
cmd
«« 
.
«« 
CommandType
«« '
=
««( )
System
««* 0
.
««0 1
Data
««1 5
.
««5 6
CommandType
««6 A
.
««A B
StoredProcedure
««B Q
;
««Q R
cmd
…… 
.
…… 

Parameters
…… &
.
……& '
AddWithValue
……' 3
(
……3 4
$str
……4 B
,
……B C
pUbigeoE
……D L
.
……L M

NuevoValor
……M W
)
……W X
;
……X Y
cmd
   
.
   

Parameters
   &
.
  & '
AddWithValue
  ' 3
(
  3 4
$str
  4 <
,
  < =
pUbigeoE
  > F
.
  F G
Campo
  G L
)
  L M
;
  M N
cnn
ÃÃ 
.
ÃÃ 
Open
ÃÃ  
(
ÃÃ  !
)
ÃÃ! "
;
ÃÃ" #
int
ŒŒ 
exito
ŒŒ !
=
ŒŒ" #
cmd
ŒŒ$ '
.
ŒŒ' (
ExecuteNonQuery
ŒŒ( 7
(
ŒŒ7 8
)
ŒŒ8 9
;
ŒŒ9 :
cnn
œœ 
.
œœ 
Close
œœ !
(
œœ! "
)
œœ" #
;
œœ# $
cmd
–– 
.
–– 
Dispose
–– #
(
––# $
)
––$ %
;
––% &
if
—— 
(
—— 
exito
—— !
>=
——" $
$num
——% &
)
——& '
{
““ 
return
““  
true
““! %
;
““% &
}
““' (
else
”” 
{
‘‘ 
return
‘‘  
false
‘‘! &
;
‘‘& '
}
‘‘( )
}
’’ 
}
÷÷ 
}
◊◊ 
catch
ÿÿ 
(
ÿÿ 
	Exception
ÿÿ 
e
ÿÿ 
)
ÿÿ 
{
ŸŸ 
throw
ŸŸ 
e
ŸŸ 
=
ŸŸ 
new
ŸŸ 
	Exception
ŸŸ %
(
ŸŸ% &
e
ŸŸ& '
.
ŸŸ' (
Message
ŸŸ( /
)
ŸŸ/ 0
;
ŸŸ0 1
}
ŸŸ2 3
}
⁄⁄ 	
public
›› 
bool
›› 
Sp_Ubigeo_Delete
›› $
(
››$ %
UbigeoE
››% ,
pUbigeoE
››- 5
)
››5 6
{
ﬁﬁ 	
try
ﬂﬂ 
{
‡‡ 
using
·· 
(
·· 
SqlConnection
·· $
cnn
··% (
=
··) *
new
··+ .
SqlConnection
··/ <
(
··< =
VariablesGlobales
··= N
.
··N O
CnnLogistica
··O [
)
··[ \
)
··\ ]
{
‚‚ 
using
„„ 
(
„„ 

SqlCommand
„„ %
cmd
„„& )
=
„„* +
new
„„, /

SqlCommand
„„0 :
(
„„: ;
$str
„„; M
,
„„M N
cnn
„„O R
)
„„R S
)
„„S T
{
‰‰ 
cmd
ÂÂ 
.
ÂÂ 
CommandType
ÂÂ '
=
ÂÂ( )
System
ÂÂ* 0
.
ÂÂ0 1
Data
ÂÂ1 5
.
ÂÂ5 6
CommandType
ÂÂ6 A
.
ÂÂA B
StoredProcedure
ÂÂB Q
;
ÂÂQ R
cnn
ËË 
.
ËË 
Open
ËË  
(
ËË  !
)
ËË! "
;
ËË" #
int
ÍÍ 
exito
ÍÍ !
=
ÍÍ" #
cmd
ÍÍ$ '
.
ÍÍ' (
ExecuteNonQuery
ÍÍ( 7
(
ÍÍ7 8
)
ÍÍ8 9
;
ÍÍ9 :
cnn
ÎÎ 
.
ÎÎ 
Close
ÎÎ !
(
ÎÎ! "
)
ÎÎ" #
;
ÎÎ# $
cmd
ÏÏ 
.
ÏÏ 
Dispose
ÏÏ #
(
ÏÏ# $
)
ÏÏ$ %
;
ÏÏ% &
if
ÌÌ 
(
ÌÌ 
exito
ÌÌ !
>=
ÌÌ" $
$num
ÌÌ% &
)
ÌÌ& '
{
ÓÓ 
return
ÓÓ  
true
ÓÓ! %
;
ÓÓ% &
}
ÓÓ' (
else
ÔÔ 
{
 
return
  
false
! &
;
& '
}
( )
}
ÒÒ 
}
ÚÚ 
}
ÛÛ 
catch
ÙÙ 
(
ÙÙ 
	Exception
ÙÙ 
e
ÙÙ 
)
ÙÙ 
{
ıı 
throw
ıı 
e
ıı 
=
ıı 
new
ıı 
	Exception
ıı %
(
ıı% &
e
ıı& '
.
ıı' (
Message
ıı( /
)
ıı/ 0
;
ıı0 1
}
ıı2 3
}
ˆˆ 	
}
¯¯ 
}˘˘ æè
VD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\TablasAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
OtrosAD #
{ 
public 

class 
TablasAD 
{ 
private 
TablasE 
LlenarEntidad %
(% &
IDataReader& 1
dr2 4
,4 5
TablasE6 =
pTablasE> F
)F G
{ 	
TablasE 
oTablasE 
= 
new "
TablasE# *
(* +
)+ ,
;, -
switch 
( 
pTablasE 
. 
Orden "
)" #
{ 
case 
- 
$num 
: 
case 
$num 
: 
{ 
oTablasE  
.  !
Codtabla! )
=* +
(, -
string- 3
)3 4
dr4 6
[6 7
$str7 A
]A B
;B C
oTablasE  
.  !
Codigo! '
=( )
(* +
string+ 1
)1 2
dr2 4
[4 5
$str5 =
]= >
;> ?
oTablasE  
.  !
Nombre! '
=( )
(* +
string+ 1
)1 2
dr2 4
[4 5
$str5 =
]= >
;> ?
oTablasE    
.    !
Valor  ! &
=  ' (
dr  ) +
[  + ,
$str  , 3
]  3 4
is  5 7
DBNull  8 >
?  ? @
$num  A B
:  C D
(  E F
double  F L
)  L M
dr  M O
[  O P
$str  P W
]  W X
;  X Y
oTablasE!!  
.!!  !
Estado!!! '
=!!( )
(!!* +
string!!+ 1
)!!1 2
dr!!2 4
[!!4 5
$str!!5 =
]!!= >
;!!> ?
break"" 
;"" 
}## 
case$$ 
$num$$ 
:$$ 
{%% 
oTablasE&&  
.&&  !
Codigo&&! '
=&&( )
Convert&&* 1
.&&1 2
ToString&&2 :
(&&: ;
dr&&; =
[&&= >
$str&&> F
]&&F G
+&&H I
$str&&J L
)&&L M
.&&M N
Trim&&N R
(&&R S
)&&S T
;&&T U
oTablasE''  
.''  !
Nombre''! '
=''( )
Convert''* 1
.''1 2
ToString''2 :
('': ;
dr''; =
[''= >
$str''> F
]''F G
+''H I
$str''J L
)''L M
.''M N
Trim''N R
(''R S
)''S T
;''T U
break(( 
;(( 
})) 
case** 
$num** 
:** 
{++ 
oTablasE,,  
.,,  !
Codtabla,,! )
=,,* +
(,,, -
string,,- 3
),,3 4
dr,,4 6
[,,6 7
$str,,7 A
],,A B
;,,B C
oTablasE--  
.--  !
Codigo--! '
=--( )
(--* +
string--+ 1
)--1 2
dr--2 4
[--4 5
$str--5 =
]--= >
;--> ?
oTablasE..  
...  !
Nombre..! '
=..( )
(..* +
string..+ 1
)..1 2
dr..2 4
[..4 5
$str..5 =
]..= >
;..> ?
oTablasE//  
.//  !
Valor//! &
=//' (
dr//) +
[//+ ,
$str//, 3
]//3 4
is//5 7
DBNull//8 >
?//? @
$num//A B
://C D
(//E F
double//F L
)//L M
dr//M O
[//O P
$str//P W
]//W X
;//X Y
oTablasE00  
.00  !
Estado00! '
=00( )
(00* +
string00+ 1
)001 2
dr002 4
[004 5
$str005 =
]00= >
;00> ?
break11 
;11 
}22 
case44 
$num44 
:44 
{55 
oTablasE66  
.66  !
Codtabla66! )
=66* +
(66, -
string66- 3
)663 4
dr664 6
[666 7
$str667 A
]66A B
;66B C
oTablasE77  
.77  !
Codigo77! '
=77( )
(77* +
string77+ 1
)771 2
dr772 4
[774 5
$str775 =
]77= >
;77> ?
oTablasE88  
.88  !
Nombre88! '
=88( )
(88* +
string88+ 1
)881 2
dr882 4
[884 5
$str885 =
]88= >
;88> ?
oTablasE99  
.99  !
Valor99! &
=99' (
dr99) +
[99+ ,
$str99, 3
]993 4
is995 7
DBNull998 >
?99? @
$num99A B
:99C D
(99E F
double99F L
)99L M
dr99M O
[99O P
$str99P W
]99W X
;99X Y
oTablasE::  
.::  !
Estado::! '
=::( )
(::* +
string::+ 1
)::1 2
dr::2 4
[::4 5
$str::5 =
]::= >
;::> ?
break;; 
;;; 
}<< 
case>> 
$num>> 
:>> 
case?? 
$num?? 
:?? 
{@@ 
oTablasEAA  
.AA  !
CodtablaAA! )
=AA* +
(AA, -
stringAA- 3
)AA3 4
drAA4 6
[AA6 7
$strAA7 A
]AAA B
;AAB C
oTablasEBB  
.BB  !
CodigoBB! '
=BB( )
(BB* +
(BB+ ,
stringBB, 2
)BB2 3
drBB3 5
[BB5 6
$strBB6 >
]BB> ?
)BB? @
.BB@ A
TrimBBA E
(BBE F
)BBF G
;BBG H
oTablasECC  
.CC  !
NombreCC! '
=CC( )
(CC* +
stringCC+ 1
)CC1 2
drCC2 4
[CC4 5
$strCC5 =
]CC= >
;CC> ?
oTablasEDD  
.DD  !
ValorDD! &
=DD' (
drDD) +
[DD+ ,
$strDD, 3
]DD3 4
isDD5 7
DBNullDD8 >
?DD? @
$numDDA B
:DDC D
(DDE F
doubleDDF L
)DDL M
drDDM O
[DDO P
$strDDP W
]DDW X
;DDX Y
oTablasEEE  
.EE  !
EstadoEE! '
=EE( )
(EE* +
stringEE+ 1
)EE1 2
drEE2 4
[EE4 5
$strEE5 =
]EE= >
;EE> ?
breakFF 
;FF 
}GG 
caseJJ 
$numJJ 
:JJ 
{KK 
oTablasELL  
.LL  !
CodtablaLL! )
=LL* +
(LL, -
stringLL- 3
)LL3 4
drLL4 6
[LL6 7
$strLL7 A
]LLA B
;LLB C
oTablasEMM  
.MM  !
CodigoMM! '
=MM( )
(MM* +
stringMM+ 1
)MM1 2
drMM2 4
[MM4 5
$strMM5 =
]MM= >
;MM> ?
oTablasENN  
.NN  !
NombreNN! '
=NN( )
(NN* +
stringNN+ 1
)NN1 2
drNN2 4
[NN4 5
$strNN5 =
]NN= >
;NN> ?
oTablasEOO  
.OO  !
ValorOO! &
=OO' (
drOO) +
[OO+ ,
$strOO, 3
]OO3 4
isOO5 7
DBNullOO8 >
?OO? @
$numOOA B
:OOC D
(OOE F
doubleOOF L
)OOL M
drOOM O
[OOO P
$strOOP W
]OOW X
;OOX Y
oTablasEPP  
.PP  !
EstadoPP! '
=PP( )
(PP* +
stringPP+ 1
)PP1 2
drPP2 4
[PP4 5
$strPP5 =
]PP= >
;PP> ?
breakQQ 
;QQ 
}RR 
caseTT 
$numTT 
:TT 
{UU 
oTablasEVV  
.VV  !
CodtablaVV! )
=VV* +
(VV, -
stringVV- 3
)VV3 4
drVV4 6
[VV6 7
$strVV7 A
]VVA B
;VVB C
oTablasEWW  
.WW  !
CodigoWW! '
=WW( )
(WW* +
stringWW+ 1
)WW1 2
drWW2 4
[WW4 5
$strWW5 =
]WW= >
;WW> ?
oTablasEXX  
.XX  !
NombreXX! '
=XX( )
(XX* +
stringXX+ 1
)XX1 2
drXX2 4
[XX4 5
$strXX5 =
]XX= >
;XX> ?
oTablasEYY  
.YY  !
ValorYY! &
=YY' (
drYY) +
[YY+ ,
$strYY, 3
]YY3 4
isYY5 7
DBNullYY8 >
?YY? @
$numYYA B
:YYC D
(YYE F
doubleYYF L
)YYL M
drYYM O
[YYO P
$strYYP W
]YYW X
;YYX Y
oTablasEZZ  
.ZZ  !
EstadoZZ! '
=ZZ( )
(ZZ* +
stringZZ+ 1
)ZZ1 2
drZZ2 4
[ZZ4 5
$strZZ5 =
]ZZ= >
;ZZ> ?
break[[ 
;[[ 
}\\ 
case^^ 
$num^^ 
:^^ 
{__ 
oTablasE``  
.``  !
Codigo``! '
=``( )
(``* +
string``+ 1
)``1 2
dr``2 4
[``4 5
$str``5 =
]``= >
;``> ?
oTablasEaa  
.aa  !
Nombreaa! '
=aa( )
(aa* +
stringaa+ 1
)aa1 2
draa2 4
[aa4 5
$straa5 =
]aa= >
;aa> ?
breakbb 
;bb 
}cc 
caseee 
$numee 
:ee 
{ff 
oTablasEgg  
.gg  !
Codigogg! '
=gg( )
(gg* +
stringgg+ 1
)gg1 2
drgg2 4
[gg4 5
$strgg5 =
]gg= >
;gg> ?
oTablasEhh  
.hh  !
Nombrehh! '
=hh( )
(hh* +
stringhh+ 1
)hh1 2
drhh2 4
[hh4 5
$strhh5 ?
]hh? @
;hh@ A
breakii 
;ii 
}jj 
casell 
$numll 
:ll 
{mm 
oTablasEnn  
.nn  !
Codtablann! )
=nn* +
(nn, -
stringnn- 3
)nn3 4
drnn4 6
[nn6 7
$strnn7 A
]nnA B
;nnB C
oTablasEoo  
.oo  !
Codigooo! '
=oo( )
(oo* +
stringoo+ 1
)oo1 2
droo2 4
[oo4 5
$stroo5 =
]oo= >
;oo> ?
oTablasEpp  
.pp  !
Nombrepp! '
=pp( )
(pp* +
stringpp+ 1
)pp1 2
drpp2 4
[pp4 5
$strpp5 =
]pp= >
;pp> ?
oTablasEqq  
.qq  !
Valorqq! &
=qq' (
drqq) +
[qq+ ,
$strqq, 3
]qq3 4
!=qq5 7
Systemqq8 >
.qq> ?
DBNullqq? E
.qqE F
ValueqqF K
?qqL M
(qqN O
doubleqqO U
)qqU V
drqqV X
[qqX Y
$strqqY `
]qq` a
:qqb c
$numqqd e
;qqe f
oTablasErr  
.rr  !
Estadorr! '
=rr( )
(rr* +
stringrr+ 1
)rr1 2
drrr2 4
[rr4 5
$strrr5 =
]rr= >
;rr> ?
breakss 
;ss 
}tt 
casevv 
$numvv 
:vv 
{ww 
oTablasExx  
.xx  !
Codtablaxx! )
=xx* +
(xx, -
stringxx- 3
)xx3 4
drxx4 6
[xx6 7
$strxx7 A
]xxA B
;xxB C
oTablasEyy  
.yy  !
Codigoyy! '
=yy( )
(yy* +
stringyy+ 1
)yy1 2
dryy2 4
[yy4 5
$stryy5 =
]yy= >
;yy> ?
oTablasEzz  
.zz  !
Nombrezz! '
=zz( )
(zz* +
stringzz+ 1
)zz1 2
drzz2 4
[zz4 5
$strzz5 =
]zz= >
;zz> ?
oTablasE{{  
.{{  !
Valor{{! &
={{' (
dr{{) +
[{{+ ,
$str{{, 3
]{{3 4
!={{5 7
System{{8 >
.{{> ?
DBNull{{? E
.{{E F
Value{{F K
?{{L M
({{N O
double{{O U
){{U V
dr{{V X
[{{X Y
$str{{Y `
]{{` a
:{{b c
$num{{d e
;{{e f
oTablasE||  
.||  !
Estado||! '
=||( )
(||* +
string||+ 1
)||1 2
dr||2 4
[||4 5
$str||5 =
]||= >
;||> ?
break}} 
;}} 
}~~ 
case 
$num 
: 
case
ÄÄ 
$num
ÄÄ 
:
ÄÄ 
{
ÅÅ 
oTablasE
ÇÇ  
.
ÇÇ  !
Codtabla
ÇÇ! )
=
ÇÇ* +
Convert
ÇÇ, 3
.
ÇÇ3 4
ToString
ÇÇ4 <
(
ÇÇ< =
dr
ÇÇ= ?
[
ÇÇ? @
$str
ÇÇ@ J
]
ÇÇJ K
+
ÇÇL M
$str
ÇÇN P
)
ÇÇP Q
.
ÇÇQ R
Trim
ÇÇR V
(
ÇÇV W
)
ÇÇW X
;
ÇÇX Y
oTablasE
ÉÉ  
.
ÉÉ  !
Codigo
ÉÉ! '
=
ÉÉ( )
Convert
ÉÉ* 1
.
ÉÉ1 2
ToString
ÉÉ2 :
(
ÉÉ: ;
dr
ÉÉ; =
[
ÉÉ= >
$str
ÉÉ> F
]
ÉÉF G
+
ÉÉH I
$str
ÉÉJ L
)
ÉÉL M
.
ÉÉM N
Trim
ÉÉN R
(
ÉÉR S
)
ÉÉS T
;
ÉÉT U
oTablasE
ÑÑ  
.
ÑÑ  !
Nombre
ÑÑ! '
=
ÑÑ( )
Convert
ÑÑ* 1
.
ÑÑ1 2
ToString
ÑÑ2 :
(
ÑÑ: ;
dr
ÑÑ; =
[
ÑÑ= >
$str
ÑÑ> F
]
ÑÑF G
+
ÑÑH I
$str
ÑÑJ L
)
ÑÑL M
.
ÑÑM N
Trim
ÑÑN R
(
ÑÑR S
)
ÑÑS T
;
ÑÑT U
oTablasE
ÖÖ  
.
ÖÖ  !
Valor
ÖÖ! &
=
ÖÖ' (
double
ÖÖ) /
.
ÖÖ/ 0
TryParse
ÖÖ0 8
(
ÖÖ8 9
dr
ÖÖ9 ;
[
ÖÖ; <
$str
ÖÖ< C
]
ÖÖC D
?
ÖÖD E
.
ÖÖE F
ToString
ÖÖF N
(
ÖÖN O
)
ÖÖO P
,
ÖÖP Q
out
ÖÖR U
double
ÖÖV \
valorConvertido
ÖÖ] l
)
ÖÖl m
?
ÖÖn o
valorConvertido
ÖÖp 
:ÖÖÄ Å
$numÖÖÇ Ö
;ÖÖÖ Ü
oTablasE
ÜÜ  
.
ÜÜ  !
Estado
ÜÜ! '
=
ÜÜ( )
Convert
ÜÜ* 1
.
ÜÜ1 2
ToString
ÜÜ2 :
(
ÜÜ: ;
dr
ÜÜ; =
[
ÜÜ= >
$str
ÜÜ> F
]
ÜÜF G
+
ÜÜH I
$str
ÜÜJ L
)
ÜÜL M
.
ÜÜM N
Trim
ÜÜN R
(
ÜÜR S
)
ÜÜS T
;
ÜÜT U
break
áá 
;
áá 
}
àà 
case
ää 
$num
ää 
:
ää 
{
ãã 
oTablasE
åå  
.
åå  !
Nombre
åå! '
=
åå( )
Convert
åå* 1
.
åå1 2
ToString
åå2 :
(
åå: ;
dr
åå; =
[
åå= >
$str
åå> F
]
ååF G
+
ååH I
$str
ååJ L
)
ååL M
.
ååM N
Trim
ååN R
(
ååR S
)
ååS T
;
ååT U
break
çç 
;
çç 
}
éé 
}
êê 
return
ëë 
oTablasE
ëë 
;
ëë 
}
íí 	
public
ïï 
List
ïï 
<
ïï 
TablasE
ïï 
>
ïï "
Sp_Tablas_ConsultaV2
ïï 1
(
ïï1 2
TablasE
ïï2 9
pTablasE
ïï: B
)
ïïB C
{
ññ 	
List
óó 
<
óó 
TablasE
óó 
>
óó 
oListar
óó !
=
óó" #
new
óó$ '
List
óó( ,
<
óó, -
TablasE
óó- 4
>
óó4 5
(
óó5 6
)
óó6 7
;
óó7 8
TablasE
òò 
oTablasE
òò 
=
òò 
new
òò "
TablasE
òò# *
(
òò* +
)
òò+ ,
;
òò, -
using
ôô 
(
ôô 
SqlConnection
ôô  
cnn
ôô! $
=
ôô% &
new
ôô' *
SqlConnection
ôô+ 8
(
ôô8 9
VariablesGlobales
ôô9 J
.
ôôJ K
CnnLogistica
ôôK W
)
ôôW X
)
ôôX Y
{
öö 
using
õõ 
(
õõ 

SqlCommand
õõ !
cmd
õõ" %
=
õõ& '
new
õõ( +

SqlCommand
õõ, 6
(
õõ6 7
$str
õõ7 M
,
õõM N
cnn
õõO R
)
õõR S
)
õõS T
{
úú 
cmd
ùù 
.
ùù 
CommandType
ùù #
=
ùù$ %
System
ùù& ,
.
ùù, -
Data
ùù- 1
.
ùù1 2
CommandType
ùù2 =
.
ùù= >
StoredProcedure
ùù> M
;
ùùM N
cmd
üü 
.
üü 

Parameters
üü "
.
üü" #
AddWithValue
üü# /
(
üü/ 0
$str
üü0 8
,
üü8 9
pTablasE
üü: B
.
üüB C
Orden
üüC H
)
üüH I
;
üüI J
cmd
†† 
.
†† 

Parameters
†† "
.
††" #
AddWithValue
††# /
(
††/ 0
$str
††0 9
,
††9 :
pTablasE
††; C
.
††C D
Buscar
††D J
)
††J K
;
††K L
cmd
°° 
.
°° 

Parameters
°° "
.
°°" #
AddWithValue
°°# /
(
°°/ 0
$str
°°0 <
,
°°< =
pTablasE
°°> F
.
°°F G
NumeroLineas
°°G S
)
°°S T
;
°°T U
cnn
¢¢ 
.
¢¢ 
Open
¢¢ 
(
¢¢ 
)
¢¢ 
;
¢¢ 
IDataReader
££ 
dr
££  "
=
££# $
cmd
££% (
.
££( )
ExecuteReader
££) 6
(
££6 7
)
££7 8
;
££8 9
while
§§ 
(
§§ 
dr
§§ 
.
§§ 
Read
§§ "
(
§§" #
)
§§# $
)
§§$ %
{
•• 
oTablasE
¶¶  
=
¶¶! "
LlenarEntidad
¶¶# 0
(
¶¶0 1
dr
¶¶1 3
,
¶¶3 4
pTablasE
¶¶5 =
)
¶¶= >
;
¶¶> ?
oListar
ßß 
.
ßß  
Add
ßß  #
(
ßß# $
oTablasE
ßß$ ,
)
ßß, -
;
ßß- .
}
®® 
dr
©© 
.
©© 
Close
©© 
(
©© 
)
©© 
;
©© 
cnn
™™ 
.
™™ 
Close
™™ 
(
™™ 
)
™™ 
;
™™  
}
´´ 
}
¨¨ 
return
≠≠ 
oListar
≠≠ 
;
≠≠ 
}
ÆÆ 	
public
±± 
TablasE
±± '
Sp_Tablas_ConsultaEntidad
±± 0
(
±±0 1
TablasE
±±1 8
pTablasE
±±9 A
)
±±A B
{
≤≤ 	
IDataReader
≥≥ 
dr
≥≥ 
;
≥≥ 
TablasE
¥¥ 
oTablasE
¥¥ 
=
¥¥ 
null
¥¥ #
;
¥¥b c
try
µµ 
{
∂∂ 
using
∑∑ 
(
∑∑ 
SqlConnection
∑∑ $
cnn
∑∑% (
=
∑∑) *
new
∑∑+ .
SqlConnection
∑∑/ <
(
∑∑< =
VariablesGlobales
∑∑= N
.
∑∑N O

CnnClinica
∑∑O Y
)
∑∑Y Z
)
∑∑Z [
{
∏∏ 
using
ππ 
(
ππ 

SqlCommand
ππ %
cmd
ππ& )
=
ππ* +
new
ππ, /

SqlCommand
ππ0 :
(
ππ: ;
$str
ππ; O
,
ππO P
cnn
ππQ T
)
ππT U
)
ππU V
{
∫∫ 
cmd
ªª 
.
ªª 
CommandType
ªª '
=
ªª( )
CommandType
ªª* 5
.
ªª5 6
StoredProcedure
ªª6 E
;
ªªE F
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ &
.
ΩΩ& '
AddWithValue
ΩΩ' 3
(
ΩΩ3 4
$str
ΩΩ4 ?
,
ΩΩ? @
pTablasE
ΩΩA I
.
ΩΩI J
Codtabla
ΩΩJ R
)
ΩΩR S
;
ΩΩS T
cmd
ææ 
.
ææ 

Parameters
ææ &
.
ææ& '
AddWithValue
ææ' 3
(
ææ3 4
$str
ææ4 =
,
ææ= >
pTablasE
ææ? G
.
ææG H
Buscar
ææH N
)
ææN O
;
ææO P
cmd
øø 
.
øø 

Parameters
øø &
.
øø& '
AddWithValue
øø' 3
(
øø3 4
$str
øø4 :
,
øø: ;
pTablasE
øø< D
.
øøD E
Key
øøE H
)
øøH I
;
øøI J
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
.
¿¿& '
AddWithValue
¿¿' 3
(
¿¿3 4
$str
¿¿4 C
,
¿¿C D
pTablasE
¿¿E M
.
¿¿M N
NumeroLineas
¿¿N Z
)
¿¿Z [
;
¿¿[ \
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 <
,
¡¡< =
pTablasE
¡¡> F
.
¡¡F G
Orden
¡¡G L
)
¡¡L M
;
¡¡M N
cnn
√√ 
.
√√ 
Open
√√  
(
√√  !
)
√√! "
;
√√" #
dr
ƒƒ 
=
ƒƒ 
cmd
ƒƒ  
.
ƒƒ  !
ExecuteReader
ƒƒ! .
(
ƒƒ. /
)
ƒƒ/ 0
;
ƒƒ0 1
while
≈≈ 
(
≈≈ 
dr
≈≈ !
.
≈≈! "
Read
≈≈" &
(
≈≈& '
)
≈≈' (
)
≈≈( )
oTablasE
∆∆ $
=
∆∆% &
LlenarEntidad
∆∆' 4
(
∆∆4 5
dr
∆∆5 7
,
∆∆7 8
pTablasE
∆∆9 A
)
∆∆A B
;
∆∆B C
dr
»» 
.
»» 
Close
»»  
(
»»  !
)
»»! "
;
»»" #
dr
…… 
.
…… 
Dispose
…… "
(
……" #
)
……# $
;
……$ %
cmd
   
.
   
Dispose
   #
(
  # $
)
  $ %
;
  % &
cnn
ÀÀ 
.
ÀÀ 
Close
ÀÀ !
(
ÀÀ! "
)
ÀÀ" #
;
ÀÀ# $
cnn
ÃÃ 
.
ÃÃ 
Dispose
ÃÃ #
(
ÃÃ# $
)
ÃÃ$ %
;
ÃÃ% &
return
ŒŒ 
oTablasE
ŒŒ '
;
ŒŒ' (
}
œœ 
}
–– 
}
—— 
catch
““ 
(
““ 
	Exception
““ 
ex
““ 
)
““  
{
”” 
throw
‘‘ 
new
‘‘ 
	Exception
‘‘ #
(
‘‘# $
$str
‘‘$ @
+
‘‘A B
ex
‘‘C E
.
‘‘E F
Message
‘‘F M
)
‘‘M N
;
‘‘N O
}
’’ 
}
÷÷ 	
public
ÿÿ 
List
ÿÿ 
<
ÿÿ 
TablasE
ÿÿ 
>
ÿÿ  
Sp_Tablas_Consulta
ÿÿ /
(
ÿÿ/ 0
TablasE
ÿÿ0 7
pTablasE
ÿÿ8 @
)
ÿÿ@ A
{
ŸŸ 	
IDataReader
⁄⁄ 
dr
⁄⁄ 
;
⁄⁄ 
TablasE
€€ 
oTablasE
€€ 
=
€€ 
null
€€ #
;
€€b c
List
‹‹ 
<
‹‹ 
TablasE
‹‹ 
>
‹‹ 
oListar
‹‹ !
=
‹‹" #
new
‹‹$ '
List
‹‹( ,
<
‹‹, -
TablasE
‹‹- 4
>
‹‹4 5
(
‹‹5 6
)
‹‹6 7
;
‹‹7 8
try
›› 
{
ﬁﬁ 
using
ﬂﬂ 
(
ﬂﬂ 
SqlConnection
ﬂﬂ $
cnn
ﬂﬂ% (
=
ﬂﬂ) *
new
ﬂﬂ+ .
SqlConnection
ﬂﬂ/ <
(
ﬂﬂ< =
VariablesGlobales
ﬂﬂ= N
.
ﬂﬂN O

CnnClinica
ﬂﬂO Y
)
ﬂﬂY Z
)
ﬂﬂZ [
{
‡‡ 
using
·· 
(
·· 

SqlCommand
·· %
cmd
··& )
=
··* +
new
··, /

SqlCommand
··0 :
(
··: ;
$str
··; O
,
··O P
cnn
··Q T
)
··T U
)
··U V
{
‚‚ 
cmd
„„ 
.
„„ 
CommandType
„„ '
=
„„( )
CommandType
„„* 5
.
„„5 6
StoredProcedure
„„6 E
;
„„E F
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ &
.
ÂÂ& '
AddWithValue
ÂÂ' 3
(
ÂÂ3 4
$str
ÂÂ4 ?
,
ÂÂ? @
pTablasE
ÂÂA I
.
ÂÂI J
Codtabla
ÂÂJ R
)
ÂÂR S
;
ÂÂS T
cmd
ÊÊ 
.
ÊÊ 

Parameters
ÊÊ &
.
ÊÊ& '
AddWithValue
ÊÊ' 3
(
ÊÊ3 4
$str
ÊÊ4 =
,
ÊÊ= >
pTablasE
ÊÊ? G
.
ÊÊG H
Buscar
ÊÊH N
)
ÊÊN O
;
ÊÊO P
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ &
.
ÁÁ& '
AddWithValue
ÁÁ' 3
(
ÁÁ3 4
$str
ÁÁ4 :
,
ÁÁ: ;
pTablasE
ÁÁ< D
.
ÁÁD E
Key
ÁÁE H
)
ÁÁH I
;
ÁÁI J
cmd
ËË 
.
ËË 

Parameters
ËË &
.
ËË& '
AddWithValue
ËË' 3
(
ËË3 4
$str
ËË4 C
,
ËËC D
pTablasE
ËËE M
.
ËËM N
NumeroLineas
ËËN Z
)
ËËZ [
;
ËË[ \
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ &
.
ÈÈ& '
AddWithValue
ÈÈ' 3
(
ÈÈ3 4
$str
ÈÈ4 <
,
ÈÈ< =
pTablasE
ÈÈ> F
.
ÈÈF G
Orden
ÈÈG L
)
ÈÈL M
;
ÈÈM N
cnn
ÎÎ 
.
ÎÎ 
Open
ÎÎ  
(
ÎÎ  !
)
ÎÎ! "
;
ÎÎ" #
dr
ÏÏ 
=
ÏÏ 
cmd
ÏÏ  
.
ÏÏ  !
ExecuteReader
ÏÏ! .
(
ÏÏ. /
)
ÏÏ/ 0
;
ÏÏ0 1
if
ÓÓ 
(
ÓÓ 
pTablasE
ÓÓ $
.
ÓÓ$ %
RegistroBlanco
ÓÓ% 3
==
ÓÓ4 6
true
ÓÓ7 ;
)
ÓÓ; <
oListar
ÔÔ #
.
ÔÔ# $
Add
ÔÔ$ '
(
ÔÔ' (
new
ÔÔ( +
TablasE
ÔÔ, 3
(
ÔÔ3 4
)
ÔÔ4 5
)
ÔÔ5 6
;
ÔÔ6 7
while
ÒÒ 
(
ÒÒ 
dr
ÒÒ !
.
ÒÒ! "
Read
ÒÒ" &
(
ÒÒ& '
)
ÒÒ' (
)
ÒÒ( )
{
ÚÚ 
oTablasE
ÛÛ $
=
ÛÛ% &
LlenarEntidad
ÛÛ' 4
(
ÛÛ4 5
dr
ÛÛ5 7
,
ÛÛ7 8
pTablasE
ÛÛ9 A
)
ÛÛA B
;
ÛÛB C
oListar
ÙÙ #
.
ÙÙ# $
Add
ÙÙ$ '
(
ÙÙ' (
oTablasE
ÙÙ( 0
)
ÙÙ0 1
;
ÙÙ1 2
}
ıı 
dr
˜˜ 
.
˜˜ 
Close
˜˜  
(
˜˜  !
)
˜˜! "
;
˜˜" #
dr
¯¯ 
.
¯¯ 
Dispose
¯¯ "
(
¯¯" #
)
¯¯# $
;
¯¯$ %
cmd
˘˘ 
.
˘˘ 
Dispose
˘˘ #
(
˘˘# $
)
˘˘$ %
;
˘˘% &
cnn
˙˙ 
.
˙˙ 
Close
˙˙ !
(
˙˙! "
)
˙˙" #
;
˙˙# $
cnn
˚˚ 
.
˚˚ 
Dispose
˚˚ #
(
˚˚# $
)
˚˚$ %
;
˚˚% &
return
˝˝ 
oListar
˝˝ &
;
˝˝& '
}
˛˛ 
}
ˇˇ 
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ 
	Exception
ÅÅ 
ex
ÅÅ 
)
ÅÅ  
{
ÇÇ 
throw
ÉÉ 
new
ÉÉ 
	Exception
ÉÉ '
(
ÉÉ' (
$str
ÉÉ( D
+
ÉÉE F
ex
ÉÉG I
.
ÉÉI J
Message
ÉÉJ Q
)
ÉÉQ R
;
ÉÉR S
}
ÑÑ 
}
ÖÖ 	
public
áá 
bool
áá 
Sp_Tablas_Update
áá $
(
áá$ %
TablasE
áá% ,
pTablasE
áá- 5
)
áá5 6
{
àà 	
try
ââ 
{
ää 
using
ãã 
(
ãã 
SqlConnection
ãã $
cnn
ãã% (
=
ãã) *
new
ãã+ .
SqlConnection
ãã/ <
(
ãã< =
VariablesGlobales
ãã= N
.
ããN O

CnnClinica
ããO Y
)
ããY Z
)
ããZ [
{
åå 
using
çç 
(
çç 

SqlCommand
çç %
cmd
çç& )
=
çç* +
new
çç, /

SqlCommand
çç0 :
(
çç: ;
$str
çç; M
,
ççM N
cnn
ççO R
)
ççR S
)
ççS T
{
éé 
cmd
èè 
.
èè 
CommandType
èè '
=
èè( )
CommandType
èè* 5
.
èè5 6
StoredProcedure
èè6 E
;
èèE F
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 B
,
ëëB C
pTablasE
ëëD L
.
ëëL M
Codtabla
ëëM U
)
ëëU V
;
ëëV W
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 =
,
íí= >
pTablasE
íí? G
.
ííG H
Codigo
ííH N
)
ííN O
;
ííO P
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 A
,
ììA B
pTablasE
ììC K
.
ììK L

NuevoValor
ììL V
)
ììV W
;
ììW X
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 <
,
îî< =
pTablasE
îî> F
.
îîF G
Campo
îîG L
)
îîL M
;
îîM N
cnn
ññ 
.
ññ 
Open
ññ  
(
ññ  !
)
ññ! "
;
ññ" #
if
óó 
(
óó 
cmd
óó 
.
óó  
ExecuteNonQuery
óó  /
(
óó/ 0
)
óó0 1
>=
óó2 4
$num
óó5 6
)
óó6 7
return
òò "
true
òò# '
;
òò' (
else
ôô 
return
öö "
false
öö# (
;
öö( )
cmd
õõ 
.
õõ 
Dispose
õõ #
(
õõ# $
)
õõ$ %
;
õõ% &
cnn
úú 
.
úú 
Close
úú !
(
úú! "
)
úú" #
;
úú# $
cnn
ùù 
.
ùù 
Dispose
ùù #
(
ùù# $
)
ùù$ %
;
ùù% &
}
ûû 
}
üü 
}
†† 
catch
°° 
(
°° 
	Exception
°° 
ex
°° 
)
°°  
{
¢¢ 
throw
££ 
new
££ 
	Exception
££ #
(
££# $
ex
££$ &
.
££& '
Message
££' .
)
££. /
;
££/ 0
}
§§ 
}
•• 	
public
¨¨ 
List
¨¨ 
<
¨¨ 
TablasE
¨¨ 
>
¨¨ %
Sp_Ris_Consulta_RisPacs
¨¨ 4
(
¨¨4 5
TablasE
¨¨5 <
pTablasE
¨¨= E
)
¨¨E F
{
≠≠ 	
IDataReader
ÆÆ 
dr
ÆÆ 
;
ÆÆ 
TablasE
ØØ 
oTablasE
ØØ 
=
ØØ 
null
ØØ #
;
ØØb c
List
∞∞ 
<
∞∞ 
TablasE
∞∞ 
>
∞∞ 
oListar
∞∞ !
=
∞∞" #
new
∞∞$ '
List
∞∞( ,
<
∞∞, -
TablasE
∞∞- 4
>
∞∞4 5
(
∞∞5 6
)
∞∞6 7
;
∞∞7 8
try
±± 
{
≤≤ 
using
≥≥ 
(
≥≥ 
SqlConnection
≥≥ $
cnn
≥≥% (
=
≥≥) *
new
≥≥+ .
SqlConnection
≥≥/ <
(
≥≥< =
VariablesGlobales
≥≥= N
.
≥≥N O

CnnClinica
≥≥O Y
)
≥≥Y Z
)
≥≥Z [
{
¥¥ 
using
µµ 
(
µµ 

SqlCommand
µµ %
cmd
µµ& )
=
µµ* +
new
µµ, /

SqlCommand
µµ0 :
(
µµ: ;
$str
µµ; T
,
µµT U
cnn
µµV Y
)
µµY Z
)
µµZ [
{
∂∂ 
cmd
∑∑ 
.
∑∑ 
CommandType
∑∑ '
=
∑∑( )
CommandType
∑∑* 5
.
∑∑5 6
StoredProcedure
∑∑6 E
;
∑∑E F
cmd
ππ 
.
ππ 

Parameters
ππ &
.
ππ& '
AddWithValue
ππ' 3
(
ππ3 4
$str
ππ4 =
,
ππ= >
pTablasE
ππ? G
.
ππG H
Buscar
ππH N
)
ππN O
;
ππO P
cnn
∫∫ 
.
∫∫ 
Open
∫∫  
(
∫∫  !
)
∫∫! "
;
∫∫" #
dr
ªª 
=
ªª 
cmd
ªª  
.
ªª  !
ExecuteReader
ªª! .
(
ªª. /
)
ªª/ 0
;
ªª0 1
while
ºº 
(
ºº 
dr
ºº !
.
ºº! "
Read
ºº" &
(
ºº& '
)
ºº' (
)
ºº( )
{
ΩΩ 
oTablasE
ææ $
=
ææ% &
LlenarEntidad
ææ' 4
(
ææ4 5
dr
ææ5 7
,
ææ7 8
pTablasE
ææ9 A
)
ææA B
;
ææB C
oListar
øø #
.
øø# $
Add
øø$ '
(
øø' (
oTablasE
øø( 0
)
øø0 1
;
øø1 2
}
¿¿ 
dr
¬¬ 
.
¬¬ 
Close
¬¬  
(
¬¬  !
)
¬¬! "
;
¬¬" #
dr
√√ 
.
√√ 
Dispose
√√ "
(
√√" #
)
√√# $
;
√√$ %
cmd
ƒƒ 
.
ƒƒ 
Dispose
ƒƒ #
(
ƒƒ# $
)
ƒƒ$ %
;
ƒƒ% &
cnn
≈≈ 
.
≈≈ 
Close
≈≈ !
(
≈≈! "
)
≈≈" #
;
≈≈# $
cnn
∆∆ 
.
∆∆ 
Dispose
∆∆ #
(
∆∆# $
)
∆∆$ %
;
∆∆% &
return
»» 
oListar
»» &
;
»»& '
}
…… 
}
   
}
ÀÀ 
catch
ÃÃ 
(
ÃÃ 
	Exception
ÃÃ 
ex
ÃÃ 
)
ÃÃ  
{
ÕÕ 
throw
ŒŒ 
new
ŒŒ 
	Exception
ŒŒ #
(
ŒŒ# $
$str
ŒŒ$ E
+
ŒŒF G
ex
ŒŒH J
.
ŒŒJ K
Message
ŒŒK R
)
ŒŒR S
;
ŒŒS T
}
œœ 
}
–– 	
}
‘‘ 
}’’ ¥"
hD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\SisCorreodestinatarioMaeAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
OtrosAD

 #
{ 
public 

class &
SisCorreodestinatarioMaeAD +
{ 
private %
SisCorreodestinatarioMaeE )
LlenarEntidad* 7
(7 8
IDataReader8 C
drD F
,F G%
SisCorreodestinatarioMaeEH a&
pSisCorreodestinatarioMaeEb |
)| }
{ 	%
SisCorreodestinatarioMaeE %&
oSisCorreodestinatarioMaeE& @
=A B
newC F%
SisCorreodestinatarioMaeEG `
(` a
)a b
;b c&
oSisCorreodestinatarioMaeE &
.& '
DscDestinatario' 6
=7 8
(9 :
string: @
)@ A
drA C
[C D
$strD R
]R S
;S T
return &
oSisCorreodestinatarioMaeE -
;- .
} 	
public 
List 
< %
SisCorreodestinatarioMaeE -
>- .*
Sp_CorreoDestinatario_Consulta/ M
(M N%
SisCorreodestinatarioMaeEN g'
pSisCorreodestinatarioMaeE	h Ç
)
Ç É
{ 	
IDataReader 
dr 
; %
SisCorreodestinatarioMaeE %&
oSisCorreodestinatarioMaeE& @
=A B
nullC G
;
Ü á
List 
< %
SisCorreodestinatarioMaeE *
>* +
oListar, 3
=4 5
new6 9
List: >
<> ?%
SisCorreodestinatarioMaeE? X
>X Y
(Y Z
)Z [
;[ \
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; [
,[ \
cnn] `
)` a
)a b
{ 
cmd   
.   
CommandType   '
=  ( )
CommandType  * 5
.  5 6
StoredProcedure  6 E
;  E F
cmd"" 
."" 

Parameters"" &
.""& '
AddWithValue""' 3
(""3 4
$str""4 @
,""@ A&
pSisCorreodestinatarioMaeE""B \
.""\ ]
CodLista""] e
)""e f
;""f g
cmd## 
.## 

Parameters## &
.##& '
AddWithValue##' 3
(##3 4
$str##4 ?
,##? @&
pSisCorreodestinatarioMaeE##A [
.##[ \
CodTipo##\ c
)##c d
;##d e
cnn$$ 
.$$ 
Open$$  
($$  !
)$$! "
;$$" #
dr%% 
=%% 
cmd%%  
.%%  !
ExecuteReader%%! .
(%%. /
)%%/ 0
;%%0 1
while&& 
(&& 
dr&& !
.&&! "
Read&&" &
(&&& '
)&&' (
)&&( )
{'' &
oSisCorreodestinatarioMaeE(( 6
=((7 8
LlenarEntidad((9 F
(((F G
dr((G I
,((I J&
pSisCorreodestinatarioMaeE((K e
)((e f
;((f g
oListar)) #
.))# $
Add))$ '
())' (&
oSisCorreodestinatarioMaeE))( B
)))B C
;))C D
}** 
dr++ 
.++ 
Close++  
(++  !
)++! "
;++" #
cnn,, 
.,, 
Close,, !
(,,! "
),," #
;,,# $
return.. 
oListar.. &
;..& '
}// 
}00 
}11 
catch22 
(22 
	Exception22 
ex22 
)22  
{33 
throw44 
new44 
	Exception44 #
(44# $
ex44$ &
.44& '
Message44' .
)44. /
;44/ 0
}55 
}66 	
}77 
}88 îç
YD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\SisCorreoAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
OtrosAD

 #
{ 
public 

class 
SisCorreoAD 
{ 
private 

SisCorreoE 
LlenarEntidad (
(( )
IDataReader) 4
dr5 7
,7 8

SisCorreoE9 C
pSisCorreoED O
)O P
{ 	

SisCorreoE 
oSisCorreoE "
=# $
new% (

SisCorreoE) 3
(3 4
)4 5
;5 6
switch 
( 
pSisCorreoE 
.  
Orden  %
)% &
{ 
case 
$num 
: 
{ 
oSisCorreoE #
.# $
Fecharegistro$ 1
=2 3
(4 5
DateTime5 =
)= >
dr? A
[A B
$strB Q
]Q R
;R S
oSisCorreoE #
.# $
EnviarA$ +
=, -
(. /
string/ 5
)5 6
dr7 9
[9 :
$str: C
]C D
;D E
oSisCorreoE #
.# $
CopiarA$ +
=, -
(. /
string/ 5
)5 6
dr7 9
[9 :
$str: C
]C D
;D E
oSisCorreoE #
.# $
Copiarh$ +
=, -
(. /
string/ 5
)5 6
dr7 9
[9 :
$str: C
]C D
;D E
oSisCorreoE #
.# $
Asunto$ *
=+ ,
(- .
string. 4
)4 5
dr6 8
[8 9
$str9 A
]A B
;B C
oSisCorreoE #
.# $
Cuerpo$ *
=+ ,
(- .
string. 4
)4 5
dr6 8
[8 9
$str9 A
]A B
;B C
oSisCorreoE #
.# $
Archivo$ +
=, -
(. /
string/ 5
)5 6
dr7 9
[9 :
$str: C
]C D
;D E
oSisCorreoE #
.# $
Hostname$ ,
=- .
(/ 0
string0 6
)6 7
dr8 :
[: ;
$str; E
]E F
;F G
oSisCorreoE #
.# $
Username$ ,
=- .
(/ 0
string0 6
)6 7
dr8 :
[: ;
$str; E
]E F
;F G
oSisCorreoE #
.# $
Appname$ +
=, -
(. /
string/ 5
)5 6
dr7 9
[9 :
$str: C
]C D
;D E
oSisCorreoE #
.# $
Mailid$ *
=+ ,
(- .
int. 1
)1 2
dr3 5
[5 6
$str6 >
]> ?
;? @
oSisCorreoE   #
.  # $
Errorreturn  $ /
=  0 1
(  2 3
int  3 6
)  6 7
dr  8 :
[  : ;
$str  ; H
]  H I
;  I J
oSisCorreoE!! #
.!!# $
Idcorreo!!$ ,
=!!- .
(!!/ 0
int!!0 3
)!!3 4
dr!!5 7
[!!7 8
$str!!8 B
]!!B C
;!!C D
break"" 
;"" 
}## 
}$$ 
return%% 
oSisCorreoE%% 
;%% 
}&& 	
public(( 
bool(( 
Ut_EnviarCorreov3(( %
(((% &

SisCorreoE((& 0
pSisCorreoE((1 <
)((< =
{)) 	
try** 
{++ 
using,, 
(,, 
SqlConnection,, $
cnn,,% (
=,,) *
new,,+ .
SqlConnection,,/ <
(,,< =
VariablesGlobales,,= N
.,,N O

CnnClinica,,O Y
),,Y Z
),,Z [
{-- 
using.. 
(.. 

SqlCommand.. %
cmd..& )
=..* +
new.., /

SqlCommand..0 :
(..: ;
$str..; N
,..N O
cnn..P S
)..S T
)..T U
{// 
cmd00 
.00 
CommandType00 '
=00( )
CommandType00* 5
.005 6
StoredProcedure006 E
;00E F
cmd22 
.22 

Parameters22 &
.22& '
AddWithValue22' 3
(223 4
$str224 C
,22C D
pSisCorreoE22E P
.22P Q

PerfilName22Q [
)22[ \
;22\ ]
cmd33 
.33 

Parameters33 &
.33& '
AddWithValue33' 3
(333 4
$str334 A
,33A B
pSisCorreoE33C N
.33N O
EnviarA33O V
)33V W
;33W X
cmd44 
.44 

Parameters44 &
.44& '
AddWithValue44' 3
(443 4
$str444 F
,44F G
pSisCorreoE44H S
.44S T
CopiarA44T [
)44[ \
;44\ ]
cmd55 
.55 

Parameters55 &
.55& '
AddWithValue55' 3
(553 4
$str554 L
,55L M
pSisCorreoE55N Y
.55Y Z
Copiarh55Z a
)55a b
;55b c
cmd66 
.66 

Parameters66 &
.66& '
AddWithValue66' 3
(663 4
$str664 >
,66> ?
pSisCorreoE66@ K
.66K L
Asunto66L R
)66R S
;66S T
cmd77 
.77 

Parameters77 &
.77& '
AddWithValue77' 3
(773 4
$str774 ;
,77; <
pSisCorreoE77= H
.77H I
Cuerpo77I O
)77O P
;77P Q
cmd88 
.88 

Parameters88 &
.88& '
AddWithValue88' 3
(883 4
$str884 B
,88B C
pSisCorreoE88D O
.88O P
FormatoCuerpo88P ]
)88] ^
;88^ _
cmd99 
.99 

Parameters99 &
.99& '
AddWithValue99' 3
(993 4
$str994 A
,99A B
$str99C K
)99K L
;99L M
cmd:: 
.:: 

Parameters:: &
.::& '
AddWithValue::' 3
(::3 4
$str::4 B
,::B C
$str::D L
)::L M
;::M N
cmd;; 
.;; 

Parameters;; &
.;;& '
AddWithValue;;' 3
(;;3 4
$str;;4 G
,;;G H
pSisCorreoE;;I T
.;;T U
Archivo;;U \
);;\ ]
;;;] ^
cmd<< 
.<< 

Parameters<< &
.<<& '
AddWithValue<<' 3
(<<3 4
$str<<4 <
,<<< =
null<<> B
)<<B C
;<<C D
cmd== 
.== 

Parameters== &
.==& '
AddWithValue==' 3
(==3 4
$str==4 M
,==M N
null==O S
)==S T
;==T U
cmd>> 
.>> 

Parameters>> &
.>>& '
AddWithValue>>' 3
(>>3 4
$str>>4 R
,>>R S
false>>T Y
)>>Y Z
;>>Z [
cmd?? 
.?? 

Parameters?? &
.??& '
AddWithValue??' 3
(??3 4
$str??4 P
,??P Q
null??R V
)??V W
;??W X
cmd@@ 
.@@ 

Parameters@@ &
.@@& '
AddWithValue@@' 3
(@@3 4
$str@@4 J
,@@J K
true@@L P
)@@P Q
;@@Q R
cmdAA 
.AA 

ParametersAA &
.AA& '
AddWithValueAA' 3
(AA3 4
$strAA4 I
,AAI J
$numAAK N
)AAN O
;AAO P
cmdBB 
.BB 

ParametersBB &
.BB& '
AddWithValueBB' 3
(BB3 4
$strBB4 M
,BBM N
$strBBO R
)BBR S
;BBS T
cmdCC 
.CC 

ParametersCC &
.CC& '
AddWithValueCC' 3
(CC3 4
$strCC4 K
,CCK L
$numCCM N
)CCN O
;CCO P
cmdDD 
.DD 

ParametersDD &
.DD& '
AddWithValueDD' 3
(DD3 4
$strDD4 I
,DDI J
$numDDK L
)DDL M
;DDM N
cmdEE 
.EE 

ParametersEE &
.EE& '
AddWithValueEE' 3
(EE3 4
$strEE4 H
,EEH I
$numEEJ K
)EEK L
;EEL M
cmdFF 
.FF 

ParametersFF &
.FF& '
AddWithValueFF' 3
(FF3 4
$strFF4 N
,FFN O
$numFFP Q
)FFQ R
;FFR S
cmdGG 
.GG 

ParametersGG &
.GG& '
AddGG' *
(GG* +
VariablesGlobalesGG+ <
.GG< =
ParametroSqlGG= I
(GGI J
$strGGJ X
,GGX Y
ParameterDirectionGGZ l
.GGl m
InputOutputGGm x
,GGx y
	SqlDbType	GGz É
.
GGÉ Ñ
Int
GGÑ á
,
GGá à
$num
GGâ ä
,
GGä ã
pSisCorreoE
GGå ó
.
GGó ò
Mailid
GGò û
.
GGû ü
ToString
GGü ß
(
GGß ®
)
GG® ©
)
GG© ™
)
GG™ ´
;
GG´ ¨
cmdHH 
.HH 

ParametersHH &
.HH& '
AddWithValueHH' 3
(HH3 4
$strHH4 C
,HHC D
nullHHE I
)HHI J
;HHJ K
cmdII 
.II 

ParametersII &
.II& '
AddWithValueII' 3
(II3 4
$strII4 ?
,II? @
nullIIA E
)IIE F
;IIF G
cnnJJ 
.JJ 
OpenJJ  
(JJ  !
)JJ! "
;JJ" #
cmdKK 
.KK 
ExecuteNonQueryKK +
(KK+ ,
)KK, -
;KK- .
ifLL 
(LL 
(LL 
intLL  
)LL  !
cmdLL! $
.LL$ %

ParametersLL% /
[LL/ 0
$strLL0 >
]LL> ?
.LL? @
ValueLL@ E
!=LLF H
$numLLI J
)LLJ K
{MM 
pSisCorreoENN '
.NN' (
MailidNN( .
=NN/ 0
(NN1 2
intNN2 5
)NN5 6
cmdNN6 9
.NN9 :

ParametersNN: D
[NND E
$strNNE S
]NNS T
.NNT U
ValueNNU Z
;NNZ [
returnOO "
trueOO# '
;OO' (
}PP 
elseQQ 
returnRR "
falseRR# (
;RR( )
cnnSS 
.SS 
CloseSS !
(SS! "
)SS" #
;SS# $
cmdTT 
.TT 
DisposeTT #
(TT# $
)TT$ %
;TT% &
}UU 
}VV 
}WW 
catchXX 
(XX 
	ExceptionXX 
exXX 
)XX  
{YY 
throwZZ 
newZZ 
	ExceptionZZ #
(ZZ# $
$strZZ$ G
+ZZH I
exZZJ L
.ZZL M
MessageZZM T
)ZZT U
;ZZU V
}[[ 
}\\ 	
public^^ 
List^^ 
<^^ 

SisCorreoE^^ 
>^^ !
Sp_SisCorreo_Consulta^^  5
(^^5 6

SisCorreoE^^6 @
pSisCorreoE^^A L
)^^L M
{__ 	
IDataReader`` 
dr`` 
;`` 

SisCorreoEaa 
oSisCorreoEaa "
=aa# $
nullaa% )
;aah i
Listbb 
<bb 

SisCorreoEbb 
>bb 
oListarbb $
=bb% &
newbb' *
Listbb+ /
<bb/ 0

SisCorreoEbb0 :
>bb: ;
(bb; <
)bb< =
;bb= >
trycc 
{dd 
usingee 
(ee 
SqlConnectionee $
cnnee% (
=ee) *
newee+ .
SqlConnectionee/ <
(ee< =
VariablesGlobalesee= N
.eeN O

CnnClinicaeeO Y
)eeY Z
)eeZ [
{ff 
usinggg 
(gg 

SqlCommandgg %
cmdgg& )
=gg* +
newgg, /

SqlCommandgg0 :
(gg: ;
$strgg; R
,ggR S
cnnggT W
)ggW X
)ggX Y
{hh 
cmdii 
.ii 
CommandTypeii '
=ii( )
CommandTypeii* 5
.ii5 6
StoredProcedureii6 E
;iiE F
cmdkk 
.kk 

Parameterskk &
.kk& '
AddWithValuekk' 3
(kk3 4
$strkk4 ?
,kk? @
pSisCorreoEkkA L
.kkL M
IdcorreokkM U
)kkU V
;kkV W
cmdll 
.ll 

Parametersll &
.ll& '
AddWithValuell' 3
(ll3 4
$strll4 <
,ll< =
pSisCorreoEll> I
.llI J
OrdenllJ O
)llO P
;llP Q
cnnmm 
.mm 
Openmm  
(mm  !
)mm! "
;mm" #
drnn 
=nn 
cmdnn  
.nn  !
ExecuteReadernn! .
(nn. /
)nn/ 0
;nn0 1
whileoo 
(oo 
droo !
.oo! "
Readoo" &
(oo& '
)oo' (
)oo( )
{pp 
oSisCorreoEqq '
=qq( )
LlenarEntidadqq* 7
(qq7 8
drqq8 :
,qq: ;
pSisCorreoEqq< G
)qqG H
;qqH I
oListarrr #
.rr# $
Addrr$ '
(rr' (
oSisCorreoErr( 3
)rr3 4
;rr4 5
}ss 
drtt 
.tt 
Closett  
(tt  !
)tt! "
;tt" #
cnnuu 
.uu 
Closeuu !
(uu! "
)uu" #
;uu# $
returnww 
oListarww &
;ww& '
}xx 
}yy 
}zz 
catch{{ 
({{ 
	Exception{{ 
ex{{ 
){{  
{|| 
throw}} 
new}} 
	Exception}} #
(}}# $
ex}}$ &
.}}& '
Message}}' .
)}}. /
;}}/ 0
}~~ 
} 	
public
ÅÅ 
bool
ÅÅ %
Sp_CorreoDigitalizacion
ÅÅ +
(
ÅÅ+ ,
CorreoE
ÅÅ, 3
pEnviaCorreoHisE
ÅÅ4 D
)
ÅÅD E
{
ÇÇ 	
try
ÉÉ 
{
ÑÑ 
using
ÖÖ 
(
ÖÖ 
SqlConnection
ÖÖ $
cnn
ÖÖ% (
=
ÖÖ) *
new
ÖÖ+ .
SqlConnection
ÖÖ/ <
(
ÖÖ< =
VariablesGlobales
ÖÖ= N
.
ÖÖN O

CnnClinica
ÖÖO Y
)
ÖÖY Z
)
ÖÖZ [
{
ÜÜ 
using
áá 
(
áá 

SqlCommand
áá %
cmd
áá& )
=
áá* +
new
áá, /

SqlCommand
áá0 :
(
áá: ;
$str
áá; T
,
ááT U
cnn
ááV Y
)
ááY Z
)
ááZ [
{
àà 
cmd
ââ 
.
ââ 
CommandType
ââ '
=
ââ( )
CommandType
ââ* 5
.
ââ5 6
StoredProcedure
ââ6 E
;
ââE F
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 =
,
ãã= >
pEnviaCorreoHisE
ãã? O
.
ããO P
asunto
ããP V
)
ããV W
;
ããW X
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 =
,
åå= >
pEnviaCorreoHisE
åå? O
.
ååO P
cuerpo
ååP V
)
ååV W
;
ååW X
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
Add
çç' *
(
çç* +
VariablesGlobales
çç+ <
.
çç< =
ParametroSql
çç= I
(
ççI J
$str
ççJ X
,
ççX Y 
ParameterDirection
ççZ l
.
ççl m
InputOutput
ççm x
,
ççx y
	SqlDbTypeççz É
.ççÉ Ñ
IntççÑ á
,ççá à
$numççâ ä
,ççä ã 
pEnviaCorreoHisEççå ú
.ççú ù
mailitem_idççù ®
.çç® ©
ToStringçç© ±
(çç± ≤
)çç≤ ≥
)çç≥ ¥
)çç¥ µ
;ççµ ∂
cnn
éé 
.
éé 
Open
éé  
(
éé  !
)
éé! "
;
éé" #
cmd
èè 
.
èè 
ExecuteNonQuery
èè +
(
èè+ ,
)
èè, -
;
èè- .
pEnviaCorreoHisE
êê (
.
êê( )
mailitem_id
êê) 4
=
êê5 6
(
êê7 8
int
êê8 ;
)
êê; <
cmd
êê< ?
.
êê? @

Parameters
êê@ J
[
êêJ K
$str
êêK Y
]
êêY Z
.
êêZ [
Value
êê[ `
;
êê` a
if
ëë 
(
ëë 
pEnviaCorreoHisE
ëë ,
.
ëë, -
mailitem_id
ëë- 8
!=
ëë9 ;
$num
ëë< =
)
ëë= >
{
íí 
return
íí  
true
íí! %
;
íí% &
}
íí' (
else
ìì 
{
îî 
return
îî  
false
îî! &
;
îî& '
}
îî( )
cnn
ïï 
.
ïï 
Close
ïï !
(
ïï! "
)
ïï" #
;
ïï# $
cmd
ññ 
.
ññ 
Dispose
ññ #
(
ññ# $
)
ññ$ %
;
ññ% &
}
óó 
}
òò 
}
ôô 
catch
öö 
(
öö 
	Exception
öö 
ex
öö 
)
öö  
{
õõ 
return
õõ 
false
õõ 
;
õõ 
}
õõ 
}
úú 	
}
ùù 
}ûû Œ$
dD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\PresotorxDimensionesAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
OtrosAD

 #
{ 
public 

class "
PresotorxDimensionesAD '
{ 
public 
bool +
Sp_Sb1Presotorxdimension_Insert 3
(3 4!
PresotorxDimensionesE4 I"
pPresotorxDimensionesEJ `
)` a
{ 	
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; \
,\ ]
cnn^ a
)a b
)b c
{ 
cmd 
. 
CommandType '
=( )
CommandType* 5
.5 6
StoredProcedure6 E
;E F
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 C
,C D"
pPresotorxDimensionesEE [
.[ \
CodPresotor\ g
)g h
;h i
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 E
,E F"
pPresotorxDimensionesEG ]
.] ^
CodDimension1^ k
)k l
;l m
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 E
,E F"
pPresotorxDimensionesEG ]
.] ^
CodDimension2^ k
)k l
;l m
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 E
,E F"
pPresotorxDimensionesEG ]
.] ^
CodDimension3^ k
)k l
;l m
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 E
,E F"
pPresotorxDimensionesEG ]
.] ^
CodDimension4^ k
)k l
;l m
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 C
,C D"
pPresotorxDimensionesEE [
.[ \
UsrRegistro\ g
)g h
;h i
cmd 
. 

Parameters &
.& '
Add' *
(* +
VariablesGlobales+ <
.< =
ParametroSql= I
(I J
$strJ \
,\ ]
ParameterDirection^ p
.p q
InputOutputq |
,| }
	SqlDbType	~ á
.
á à
Int
à ã
,
ã å
$num
ç é
,
é è$
pPresotorxDimensionesE
ê ¶
.
¶ ß
IdePresotordim
ß µ
.
µ ∂
ToString
∂ æ
(
æ ø
)
ø ¿
)
¿ ¡
)
¡ ¬
;
¬ √
cnn 
. 
Open  
(  !
)! "
;" #
cmd   
.   
ExecuteNonQuery   +
(  + ,
)  , -
;  - ."
pPresotorxDimensionesE!! .
.!!. /
IdePresotordim!!/ =
=!!> ?
(!!@ A
int!!A D
)!!D E
cmd!!E H
.!!H I

Parameters!!I S
[!!S T
$str!!T f
]!!f g
.!!g h
Value!!h m
;!!m n
if"" 
("" "
pPresotorxDimensionesE"" 2
.""2 3
IdePresotordim""3 A
!=""B D
$num""E F
)""F G
{## 
return##  
true##! %
;##% &
}##' (
else$$ 
{%% 
return%%  
false%%! &
;%%& '
}%%( )
cnn&& 
.&& 
Close&& !
(&&! "
)&&" #
;&&# $
cmd'' 
.'' 
Dispose'' #
(''# $
)''$ %
;''% &
}(( 
})) 
}** 
catch++ 
(++ 
	Exception++ 
ex++ 
)++  
{,, 
return,, 
false,, 
;,, 
},, 
}-- 	
}.. 
}// Â€
UD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\OtrosAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
OtrosAD

 #
{ 
public 

class 
OtrosAD 
{ 
private 
OtrosE 
LlenarEntidad $
($ %
IDataReader% 0
dr1 3
,3 4
OtrosE5 ;
pOtrosE< C
)C D
{ 	
OtrosE 
	objOtrosE 
= 
new "
OtrosE# )
() *
)* +
;+ ,
switch 
( 
pOtrosE 
. 
Orden !
)! "
{ 
case 
$str 
: 
{ 
break 
; 
} 
} 
return 
	objOtrosE 
; 
} 	
public 
bool 
Sp_Intervalo_Fechas '
(' (
ref( +
OtrosE, 2
pOtrosE3 :
): ;
{ 	
OtrosE 
	objOtrosE 
= 
null #
;b c
try 
{   
using!! 
(!! 
SqlConnection!! $
cnn!!% (
=!!) *
new!!+ .
SqlConnection!!/ <
(!!< =
VariablesGlobales!!= N
.!!N O

CnnClinica!!O Y
)!!Y Z
)!!Z [
{"" 
using## 
(## 

SqlCommand## %
cmd##& )
=##* +
new##, /

SqlCommand##0 :
(##: ;
$str##; P
,##P Q
cnn##R U
)##U V
)##V W
{$$ 
cmd%% 
.%% 
CommandType%% '
=%%( )
CommandType%%* 5
.%%5 6
StoredProcedure%%6 E
;%%E F
cmd'' 
.'' 

Parameters'' &
.''& '
AddWithValue''' 3
(''3 4
$str''4 B
,''B C
pOtrosE''D K
.''K L
FechaInicio''L W
)''W X
;''X Y
cmd(( 
.(( 

Parameters(( &
.((& '
AddWithValue((' 3
(((3 4
$str((4 @
,((@ A
pOtrosE((B I
.((I J
	Intervalo((J S
)((S T
;((T U
cmd)) 
.)) 

Parameters)) &
.))& '
Add))' *
())* +
VariablesGlobales))+ <
.))< =
ParametroSql))= I
())I J
$str))J U
,))U V
ParameterDirection))W i
.))i j
Output))j p
,))p q
	SqlDbType))r {
.)){ |
Char	))| Ä
,
))Ä Å
$num
))Ç Ñ
,
))Ñ Ö
pOtrosE
))Ü ç
.
))ç é
FechaFin
))é ñ
)
))ñ ó
)
))ó ò
;
))ò ô
cnn** 
.** 
Open**  
(**  !
)**! "
;**" #
cmd,, 
.,, 
ExecuteNonQuery,, +
(,,+ ,
),,, -
;,,- .
pOtrosE-- 
.--  
FechaFin--  (
=--) *
(--+ ,
string--, 2
)--2 3
cmd--3 6
.--6 7

Parameters--7 A
[--A B
$str--B M
]--M N
.--N O
Value--O T
;--T U
cmd// 
.// 
Dispose// #
(//# $
)//$ %
;//% &
cnn00 
.00 
Close00 !
(00! "
)00" #
;00# $
cnn11 
.11 
Dispose11 #
(11# $
)11$ %
;11% &
return33 
true33 #
;33# $
}44 
}55 
}66 
catch77 
(77 
	Exception77 
ex77 
)77  
{88 
throw99 
new99 
	Exception99 #
(99# $
ex99$ &
.99& '
Message99' .
)99. /
;99/ 0
return:: 
false:: 
;:: 
};; 
}<< 	
public>> 
bool>> %
Sp_CapturarTarifaAtencion>> -
(>>- .
OtrosE>>. 4
pOtrosE>>5 <
)>>< =
{?? 	
OtrosE@@ 
	objOtrosE@@ 
=@@ 
null@@ #
;@@b c
tryAA 
{BB 
usingCC 
(CC 
SqlConnectionCC $
cnnCC% (
=CC) *
newCC+ .
SqlConnectionCC/ <
(CC< =
VariablesGlobalesCC= N
.CCN O

CnnClinicaCCO Y
)CCY Z
)CCZ [
{DD 
usingEE 
(EE 

SqlCommandEE %
cmdEE& )
=EE* +
newEE, /

SqlCommandEE0 :
(EE: ;
$strEE; V
,EEV W
cnnEEX [
)EE[ \
)EE\ ]
{FF 
cmdGG 
.GG 
CommandTypeGG '
=GG( )
CommandTypeGG* 5
.GG5 6
StoredProcedureGG6 E
;GGE F
cmdII 
.II 

ParametersII &
.II& '
AddWithValueII' 3
(II3 4
$strII4 B
,IIB C
pOtrosEIID K
.IIK L
CodAtencionIIL W
)IIW X
;IIX Y
cmdJJ 
.JJ 

ParametersJJ &
.JJ& '
AddJJ' *
(JJ* +
VariablesGlobalesJJ+ <
.JJ< =
ParametroSqlJJ= I
(JJI J
$strJJJ S
,JJS T
ParameterDirectionJJU g
.JJg h
OutputJJh n
,JJn o
	SqlDbTypeJJp y
.JJy z
CharJJz ~
,JJ~ 
$num
JJÄ Å
,
JJÅ Ç
pOtrosE
JJÉ ä
.
JJä ã
Tarifa
JJã ë
)
JJë í
)
JJí ì
;
JJì î
cnnKK 
.KK 
OpenKK  
(KK  !
)KK! "
;KK" #
cmdMM 
.MM 
ExecuteNonQueryMM +
(MM+ ,
)MM, -
;MM- .
pOtrosENN 
.NN  
TarifaNN  &
=NN' (
(NN) *
stringNN* 0
)NN0 1
cmdNN1 4
.NN4 5

ParametersNN5 ?
[NN? @
$strNN@ I
]NNI J
.NNJ K
ValueNNK P
;NNP Q
cmdOO 
.OO 
DisposeOO #
(OO# $
)OO$ %
;OO% &
cnnPP 
.PP 
ClosePP !
(PP! "
)PP" #
;PP# $
cnnQQ 
.QQ 
DisposeQQ #
(QQ# $
)QQ$ %
;QQ% &
returnSS 
trueSS #
;SS# $
}TT 
}UU 
}VV 
catchWW 
(WW 
	ExceptionWW 
exWW 
)WW  
{XX 
throwYY 
newYY 
	ExceptionYY #
(YY# $
exYY$ &
.YY& '
MessageYY' .
)YY. /
;YY/ 0
returnZZ 
falseZZ 
;ZZ 
}[[ 
}\\ 	
public^^ 
DataSet^^ #
Sp_Correlativo_Consulta^^ .
(^^. /
)^^/ 0
{__ 	
OtrosE`` 
	objOtrosE`` 
=`` 
null`` #
;``b c
DataSetaa 
oDataSetaa 
=aa 
newaa "
DataSetaa# *
(aa* +
)aa+ ,
;aa, -
trybb 
{cc 
usingdd 
(dd 
SqlConnectiondd $
cnndd% (
=dd) *
newdd+ .
SqlConnectiondd/ <
(dd< =
VariablesGlobalesdd= N
.ddN O

CnnClinicaddO Y
)ddY Z
)ddZ [
{ee 
usingff 
(ff 

SqlCommandff %
cmdff& )
=ff* +
newff, /

SqlCommandff0 :
(ff: ;
$strff; T
,ffT U
cnnffV Y
)ffY Z
)ffZ [
{gg 
cmdhh 
.hh 
CommandTypehh '
=hh( )
CommandTypehh* 5
.hh5 6
StoredProcedurehh6 E
;hhE F
cnnjj 
.jj 
Openjj  
(jj  !
)jj! "
;jj" #
SqlDataAdapterkk &
odakk' *
=kk+ ,
newkk- 0
SqlDataAdapterkk1 ?
(kk? @
cmdkk@ C
)kkC D
;kkD E
odall 
.ll 
Fillll  
(ll  !
oDataSetll! )
)ll) *
;ll* +
odann 
.nn 
Disposenn #
(nn# $
)nn$ %
;nn% &
cmdoo 
.oo 
Disposeoo #
(oo# $
)oo$ %
;oo% &
cnnpp 
.pp 
Closepp !
(pp! "
)pp" #
;pp# $
cnnqq 
.qq 
Disposeqq #
(qq# $
)qq$ %
;qq% &
returnss 
oDataSetss '
;ss' (
}tt 
}uu 
}vv 
catchww 
(ww 
	Exceptionww 
exww 
)ww  
{xx 
throwyy 
newyy 
	Exceptionyy #
(yy# $
exyy$ &
.yy& '
Messageyy' .
)yy. /
;yy/ 0
}zz 
}{{ 	
public}} 
CorrelativoE}} &
Sp_Correlativo_Consulta_PC}} 6
(}}6 7
CorrelativoE}}7 C
pCorrelativoE}}D Q
)}}Q R
{~~ 	
IDataReader 
dr 
; 
CorrelativoE
ÄÄ 
oCorrelativo
ÄÄ %
=
ÄÄ& '
new
ÄÄ( +
CorrelativoE
ÄÄ, 8
(
ÄÄ8 9
)
ÄÄ9 :
;
ÄÄ: ;
;
ÄÄz {
List
ÅÅ 
<
ÅÅ 
CorrelativoE
ÅÅ 
>
ÅÅ 
oListar
ÅÅ &
=
ÅÅ' (
new
ÅÅ) ,
List
ÅÅ- 1
<
ÅÅ1 2
CorrelativoE
ÅÅ2 >
>
ÅÅ> ?
(
ÅÅ? @
)
ÅÅ@ A
;
ÅÅA B
try
ÇÇ 
{
ÉÉ 
using
ÑÑ 
(
ÑÑ 
SqlConnection
ÑÑ $
cnn
ÑÑ% (
=
ÑÑ) *
new
ÑÑ+ .
SqlConnection
ÑÑ/ <
(
ÑÑ< =
VariablesGlobales
ÑÑ= N
.
ÑÑN O

CnnClinica
ÑÑO Y
)
ÑÑY Z
)
ÑÑZ [
{
ÖÖ 
using
ÜÜ 
(
ÜÜ 

SqlCommand
ÜÜ %
cmd
ÜÜ& )
=
ÜÜ* +
new
ÜÜ, /

SqlCommand
ÜÜ0 :
(
ÜÜ: ;
$str
ÜÜ; W
,
ÜÜW X
cnn
ÜÜY \
)
ÜÜ\ ]
)
ÜÜ] ^
{
áá 
cmd
àà 
.
àà 
CommandType
àà '
=
àà( )
CommandType
àà* 5
.
àà5 6
StoredProcedure
àà6 E
;
ààE F
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 ?
,
ää? @
pCorrelativoE
ääA N
.
ääN O

PCHostname
ääO Y
)
ääY Z
;
ääZ [
cnn
ãã 
.
ãã 
Open
ãã  
(
ãã  !
)
ãã! "
;
ãã" #
dr
åå 
=
åå 
cmd
åå  
.
åå  !
ExecuteReader
åå! .
(
åå. /
)
åå/ 0
;
åå0 1
while
çç 
(
çç 
dr
çç !
.
çç! "
Read
çç" &
(
çç& '
)
çç' (
)
çç( )
{
éé 
oCorrelativo
èè (
.
èè( )
Boleta
èè) /
=
èè0 1
Convert
èè2 9
.
èè9 :
ToString
èè: B
(
èèB C
dr
èèC E
[
èèE F
$str
èèF N
]
èèN O
+
èèP Q
$str
èèR T
)
èèT U
;
èèU V
oCorrelativo
êê (
.
êê( )
Factura
êê) 0
=
êê1 2
Convert
êê3 :
.
êê: ;
ToString
êê; C
(
êêC D
dr
êêD F
[
êêF G
$str
êêG P
]
êêP Q
+
êêR S
$str
êêT V
)
êêV W
;
êêW X
oCorrelativo
ëë (
.
ëë( )
CreditoB
ëë) 1
=
ëë2 3
Convert
ëë4 ;
.
ëë; <
ToString
ëë< D
(
ëëD E
dr
ëëE G
[
ëëG H
$str
ëëH R
]
ëëR S
+
ëëT U
$str
ëëV X
)
ëëX Y
;
ëëY Z
oCorrelativo
íí (
.
íí( )
DebitoB
íí) 0
=
íí1 2
Convert
íí3 :
.
íí: ;
ToString
íí; C
(
ííC D
dr
ííD F
[
ííF G
$str
ííG P
]
ííP Q
+
ííR S
$str
ííT V
)
ííV W
;
ííW X
oCorrelativo
ìì (
.
ìì( )
DebitoF
ìì) 0
=
ìì1 2
Convert
ìì3 :
.
ìì: ;
ToString
ìì; C
(
ììC D
dr
ììD F
[
ììF G
$str
ììG P
]
ììP Q
+
ììR S
$str
ììT V
)
ììV W
;
ììW X
oCorrelativo
îî (
.
îî( )
Guia
îî) -
=
îî. /
Convert
îî0 7
.
îî7 8
ToString
îî8 @
(
îî@ A
dr
îîA C
[
îîC D
$str
îîD J
]
îîJ K
+
îîL M
$str
îîN P
)
îîP Q
;
îîQ R
oCorrelativo
ïï (
.
ïï( )
Garantia
ïï) 1
=
ïï2 3
Convert
ïï4 ;
.
ïï; <
ToString
ïï< D
(
ïïD E
dr
ïïE G
[
ïïG H
$str
ïïH R
]
ïïR S
+
ïïT U
$str
ïïV X
)
ïïX Y
;
ïïY Z
oCorrelativo
ññ (
.
ññ( )
GarantiaManual
ññ) 7
=
ññ8 9
Convert
ññ: A
.
ññA B
ToString
ññB J
(
ññJ K
dr
ññK M
[
ññM N
$str
ññN ^
]
ññ^ _
+
ññ` a
$str
ññb d
)
ññd e
;
ññe f
oCorrelativo
òò (
.
òò( )
FlgElectronicof
òò) 8
=
òò9 :
Convert
òò; B
.
òòB C
	ToBoolean
òòC L
(
òòL M
dr
òòM O
[
òòO P
$str
òòP b
]
òòb c
.
òòc d
ToString
òòd l
(
òòl m
)
òòm n
==
òòo q
$str
òòr t
?
òòu v
false
òòw |
:
òò} ~
trueòò É
)òòÉ Ñ
;òòÑ Ö
oCorrelativo
ôô (
.
ôô( )
flg_electronicob
ôô) 9
=
ôô: ;
Convert
ôô< C
.
ôôC D
	ToBoolean
ôôD M
(
ôôM N
dr
ôôN P
[
ôôP Q
$str
ôôQ c
]
ôôc d
.
ôôd e
ToString
ôôe m
(
ôôm n
)
ôôn o
==
ôôp r
$str
ôôs u
?
ôôv w
false
ôôx }
:
ôô~ 
trueôôÄ Ñ
)ôôÑ Ö
;ôôÖ Ü
oCorrelativo
öö (
.
öö( )
flg_electronicocb
öö) :
=
öö; <
Convert
öö= D
.
ööD E
	ToBoolean
ööE N
(
ööN O
dr
ööO Q
[
ööQ R
$str
ööR e
]
ööe f
.
ööf g
ToString
öög o
(
ööo p
)
ööp q
==
öör t
$str
ööu w
?
ööx y
false
ööz 
:ööÄ Å
trueööÇ Ü
)ööÜ á
;ööá à
oCorrelativo
õõ (
.
õõ( )
flg_electronicocf
õõ) :
=
õõ; <
Convert
õõ= D
.
õõD E
	ToBoolean
õõE N
(
õõN O
dr
õõO Q
[
õõQ R
$str
õõR e
]
õõe f
.
õõf g
ToString
õõg o
(
õõo p
)
õõp q
==
õõr t
$str
õõu w
?
õõx y
false
õõz 
:õõÄ Å
trueõõÇ Ü
)õõÜ á
;õõá à
oCorrelativo
úú (
.
úú( )
flg_electronicodb
úú) :
=
úú; <
Convert
úú= D
.
úúD E
	ToBoolean
úúE N
(
úúN O
dr
úúO Q
[
úúQ R
$str
úúR e
]
úúe f
.
úúf g
ToString
úúg o
(
úúo p
)
úúp q
==
úúr t
$str
úúu w
?
úúx y
false
úúz 
:úúÄ Å
trueúúÇ Ü
)úúÜ á
;úúá à
oCorrelativo
ùù (
.
ùù( )
flg_electronicodf
ùù) :
=
ùù; <
Convert
ùù= D
.
ùùD E
	ToBoolean
ùùE N
(
ùùN O
dr
ùùO Q
[
ùùQ R
$str
ùùR e
]
ùùe f
.
ùùf g
ToString
ùùg o
(
ùùo p
)
ùùp q
==
ùùr t
$str
ùùu w
?
ùùx y
false
ùùz 
:ùùÄ Å
trueùùÇ Ü
)ùùÜ á
;ùùá à
oCorrelativo
ûû (
.
ûû( )
flg_otorgarf
ûû) 5
=
ûû6 7
Convert
ûû8 ?
.
ûû? @
	ToBoolean
ûû@ I
(
ûûI J
dr
ûûJ L
[
ûûL M
$str
ûûM [
]
ûû[ \
.
ûû\ ]
ToString
ûû] e
(
ûûe f
)
ûûf g
==
ûûh j
$str
ûûk n
?
ûûo p
true
ûûq u
:
ûûv w
true
ûûx |
)
ûû| }
;
ûû} ~
oCorrelativo
üü (
.
üü( )
flg_otorgarb
üü) 5
=
üü6 7
Convert
üü8 ?
.
üü? @
	ToBoolean
üü@ I
(
üüI J
dr
üüJ L
[
üüL M
$str
üüM [
]
üü[ \
.
üü\ ]
ToString
üü] e
(
üüe f
)
üüf g
==
üüh j
$str
üük n
?
üüo p
true
üüq u
:
üüu v
true
üüw {
)
üü{ |
;
üü| }
oCorrelativo
†† (
.
††( )
flg_otorgarcb
††) 6
=
††7 8
Convert
††9 @
.
††@ A
	ToBoolean
††A J
(
††J K
dr
††K M
[
††M N
$str
††N ]
]
††] ^
.
††^ _
ToString
††_ g
(
††g h
)
††h i
==
††j l
$str
††m p
?
††q r
false
††s x
:
††y z
true
††{ 
)†† Ä
;††Ä Å
oCorrelativo
°° (
.
°°( )
flg_otorgarcf
°°) 6
=
°°7 8
Convert
°°9 @
.
°°@ A
	ToBoolean
°°A J
(
°°J K
dr
°°K M
[
°°M N
$str
°°N ]
]
°°] ^
.
°°^ _
ToString
°°_ g
(
°°g h
)
°°h i
==
°°j l
$str
°°m p
?
°°q r
false
°°s x
:
°°y z
true
°°{ 
)°° Ä
;°°Ä Å
oCorrelativo
¢¢ (
.
¢¢( )
flg_otorgardb
¢¢) 6
=
¢¢7 8
Convert
¢¢9 @
.
¢¢@ A
	ToBoolean
¢¢A J
(
¢¢J K
dr
¢¢K M
[
¢¢M N
$str
¢¢N ]
]
¢¢] ^
.
¢¢^ _
ToString
¢¢_ g
(
¢¢g h
)
¢¢h i
==
¢¢j l
$str
¢¢m p
?
¢¢q r
false
¢¢s x
:
¢¢y z
true
¢¢{ 
)¢¢ Ä
;¢¢Ä Å
oCorrelativo
££ (
.
££( )
flg_otorgardf
££) 6
=
££7 8
Convert
££9 @
.
££@ A
	ToBoolean
££A J
(
££J K
dr
££K M
[
££M N
$str
££N ]
]
££] ^
.
££^ _
ToString
££_ g
(
££g h
)
££h i
==
££j l
$str
££m p
?
££q r
false
££s x
:
££y z
true
££{ 
)££ Ä
;££Ä Å
oCorrelativo
§§ (
.
§§( )
flg_electronico
§§) 8
=
§§9 :
Convert
§§; B
.
§§B C
	ToBoolean
§§C L
(
§§L M
dr
§§M O
[
§§O P
$str
§§P a
]
§§a b
.
§§b c
ToString
§§c k
(
§§k l
)
§§l m
==
§§n p
$str
§§q t
?
§§u v
true
§§w {
:
§§{ |
false§§| Å
)§§Å Ç
;§§Ç É
oCorrelativo
•• (
.
••( )
	generar_e
••) 2
=
••3 4
Convert
••5 <
.
••< =
	ToBoolean
••= F
(
••F G
dr
••G I
[
••I J
$str
••J U
]
••U V
.
••V W
ToString
••W _
(
••_ `
)
••` a
==
••b d
$str
••e h
?
••i j
true
••k o
:
••p q
false
••r w
)
••w x
;
••x y
}
ßß 
dr
®® 
.
®® 
Close
®®  
(
®®  !
)
®®! "
;
®®" #
cnn
©© 
.
©© 
Close
©© !
(
©©! "
)
©©" #
;
©©# $
return
´´ 
oCorrelativo
´´ +
;
´´+ ,
}
¨¨ 
}
≠≠ 
}
ÆÆ 
catch
ØØ 
(
ØØ 
	Exception
ØØ 
ex
ØØ 
)
ØØ  
{
∞∞ 
throw
±± 
new
±± 
	Exception
±± #
(
±±# $
ex
±±$ &
.
±±& '
Message
±±' .
)
±±. /
;
±±/ 0
}
≤≤ 
}
≥≥ 	
public
µµ 
int
µµ #
Sp_Ris_EvaluaAtencion
µµ (
(
µµ( )
string
µµ) /
pCodAtencion
µµ0 <
,
µµ< =
string
µµ> D
pCodPrestacion
µµE S
,
µµS T
string
µµU [
	pCodLocal
µµ\ e
,
µµe f
int
µµg j
pOrden
µµk q
)
µµq r
{
∂∂ 	
OtrosE
∑∑ 
	objOtrosE
∑∑ 
=
∑∑ 
null
∑∑ #
;
∑∑b c
int
ππ 
i
ππ 
=
ππ 
$num
ππ 
;
ππ 
try
∫∫ 
{
ªª 
using
ºº 
(
ºº 
SqlConnection
ºº $
cnn
ºº% (
=
ºº) *
new
ºº+ .
SqlConnection
ºº/ <
(
ºº< =
VariablesGlobales
ºº= N
.
ººN O

CnnClinica
ººO Y
)
ººY Z
)
ººZ [
{
ΩΩ 
using
ææ 
(
ææ 

SqlCommand
ææ %
cmd
ææ& )
=
ææ* +
new
ææ, /

SqlCommand
ææ0 :
(
ææ: ;
$str
ææ; R
,
ææR S
cnn
ææT W
)
ææW X
)
ææX Y
{
øø 
cmd
¿¿ 
.
¿¿ 
CommandType
¿¿ '
=
¿¿( )
CommandType
¿¿* 5
.
¿¿5 6
StoredProcedure
¿¿6 E
;
¿¿E F
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ &
.
¬¬& '
AddWithValue
¬¬' 3
(
¬¬3 4
$str
¬¬4 B
,
¬¬B C
pCodAtencion
¬¬D P
)
¬¬P Q
;
¬¬Q R
cmd
√√ 
.
√√ 

Parameters
√√ &
.
√√& '
AddWithValue
√√' 3
(
√√3 4
$str
√√4 D
,
√√D E
pCodPrestacion
√√F T
)
√√T U
;
√√U V
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ &
.
ƒƒ& '
AddWithValue
ƒƒ' 3
(
ƒƒ3 4
$str
ƒƒ4 ?
,
ƒƒ? @
	pCodLocal
ƒƒA J
)
ƒƒJ K
;
ƒƒK L
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ &
.
≈≈& '
AddWithValue
≈≈' 3
(
≈≈3 4
$str
≈≈4 <
,
≈≈< =
pOrden
≈≈> D
)
≈≈D E
;
≈≈E F
cnn
∆∆ 
.
∆∆ 
Open
∆∆  
(
∆∆  !
)
∆∆! "
;
∆∆" #
i
»» 
=
»» 
cmd
»» 
.
»»  
ExecuteNonQuery
»»  /
(
»»/ 0
)
»»0 1
;
»»1 2
cmd
   
.
   
Dispose
   #
(
  # $
)
  $ %
;
  % &
cnn
ÀÀ 
.
ÀÀ 
Close
ÀÀ !
(
ÀÀ! "
)
ÀÀ" #
;
ÀÀ# $
cnn
ÃÃ 
.
ÃÃ 
Dispose
ÃÃ #
(
ÃÃ# $
)
ÃÃ$ %
;
ÃÃ% &
return
ŒŒ 
(
ŒŒ  
int
ŒŒ  #
)
ŒŒ# $
cmd
ŒŒ$ '
.
ŒŒ' (

Parameters
ŒŒ( 2
[
ŒŒ2 3
$num
ŒŒ3 4
]
ŒŒ4 5
.
ŒŒ5 6
Value
ŒŒ6 ;
;
ŒŒ; <
}
œœ 
}
–– 
}
—— 
catch
““ 
(
““ 
	Exception
““ 
ex
““ 
)
““  
{
”” 
throw
‘‘ 
new
‘‘ 
	Exception
‘‘ #
(
‘‘# $
ex
‘‘$ &
.
‘‘& '
Message
‘‘' .
)
‘‘. /
;
‘‘/ 0
}
’’ 
}
÷÷ 	
public
ÿÿ 
DataSet
ÿÿ #
Sp_Genericos_Consulta
ÿÿ ,
(
ÿÿ, -
string
ÿÿ- 3
pBuscar
ÿÿ4 ;
,
ÿÿ; <
int
ÿÿ= @
pKey
ÿÿA E
,
ÿÿE F
int
ÿÿG J
pNumeroLineas
ÿÿK X
,
ÿÿX Y
int
ÿÿZ ]
pOrden
ÿÿ^ d
)
ÿÿd e
{
ŸŸ 	
DataSet
⁄⁄ 
oDataSet
⁄⁄ 
=
⁄⁄ 
new
⁄⁄ "
DataSet
⁄⁄# *
(
⁄⁄* +
)
⁄⁄+ ,
;
⁄⁄, -
try
€€ 
{
‹‹ 
using
›› 
(
›› 
SqlConnection
›› $
cnn
››% (
=
››) *
new
››+ .
SqlConnection
››/ <
(
››< =
VariablesGlobales
››= N
.
››N O

CnnClinica
››O Y
)
››Y Z
)
››Z [
{
ﬁﬁ 
using
ﬂﬂ 
(
ﬂﬂ 

SqlCommand
ﬂﬂ %
cmd
ﬂﬂ& )
=
ﬂﬂ* +
new
ﬂﬂ, /

SqlCommand
ﬂﬂ0 :
(
ﬂﬂ: ;
$str
ﬂﬂ; R
,
ﬂﬂR S
cnn
ﬂﬂT W
)
ﬂﬂW X
)
ﬂﬂX Y
{
‡‡ 
cmd
·· 
.
·· 
CommandType
·· '
=
··( )
CommandType
··* 5
.
··5 6
StoredProcedure
··6 E
;
··E F
cmd
„„ 
.
„„ 

Parameters
„„ &
.
„„& '
AddWithValue
„„' 3
(
„„3 4
$str
„„4 =
,
„„= >
pBuscar
„„? F
)
„„F G
;
„„G H
cmd
‰‰ 
.
‰‰ 

Parameters
‰‰ &
.
‰‰& '
AddWithValue
‰‰' 3
(
‰‰3 4
$str
‰‰4 :
,
‰‰: ;
pKey
‰‰< @
)
‰‰@ A
;
‰‰A B
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ &
.
ÂÂ& '
AddWithValue
ÂÂ' 3
(
ÂÂ3 4
$str
ÂÂ4 C
,
ÂÂC D
pNumeroLineas
ÂÂE R
)
ÂÂR S
;
ÂÂS T
cmd
ÊÊ 
.
ÊÊ 

Parameters
ÊÊ &
.
ÊÊ& '
AddWithValue
ÊÊ' 3
(
ÊÊ3 4
$str
ÊÊ4 <
,
ÊÊ< =
pOrden
ÊÊ> D
)
ÊÊD E
;
ÊÊE F
cnn
ËË 
.
ËË 
Open
ËË  
(
ËË  !
)
ËË! "
;
ËË" #
SqlDataAdapter
ÈÈ &
oda
ÈÈ' *
=
ÈÈ+ ,
new
ÈÈ- 0
SqlDataAdapter
ÈÈ1 ?
(
ÈÈ? @
cmd
ÈÈ@ C
)
ÈÈC D
;
ÈÈD E
oda
ÍÍ 
.
ÍÍ 
Fill
ÍÍ  
(
ÍÍ  !
oDataSet
ÍÍ! )
)
ÍÍ) *
;
ÍÍ* +
oda
ÏÏ 
.
ÏÏ 
Dispose
ÏÏ #
(
ÏÏ# $
)
ÏÏ$ %
;
ÏÏ% &
cmd
ÌÌ 
.
ÌÌ 
Dispose
ÌÌ #
(
ÌÌ# $
)
ÌÌ$ %
;
ÌÌ% &
cnn
ÓÓ 
.
ÓÓ 
Close
ÓÓ !
(
ÓÓ! "
)
ÓÓ" #
;
ÓÓ# $
cnn
ÔÔ 
.
ÔÔ 
Dispose
ÔÔ #
(
ÔÔ# $
)
ÔÔ$ %
;
ÔÔ% &
return
ÒÒ 
oDataSet
ÒÒ '
;
ÒÒ' (
}
ÚÚ 
}
ÛÛ 
}
ÙÙ 
catch
ıı 
(
ıı 
	Exception
ıı 
ex
ıı 
)
ıı  
{
ˆˆ 
throw
˜˜ 
new
˜˜ 
	Exception
˜˜ #
(
˜˜# $
ex
˜˜$ &
.
˜˜& '
Message
˜˜' .
)
˜˜. /
;
˜˜/ 0
}
¯¯ 
}
˘˘ 	
}
˙˙ 
}˝˝ —#
^D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\EnviaCorreoHisAD.cs
	namespace"" 	
Dat""
 
."" 
Sql"" 
."" 
	ClinicaAD"" 
."" 
OtrosAD"" #
{## 
public$$ 

class$$ 
EnviaCorreoHisAD$$ !
{%% 
public&& 
bool&& 
Sp_HIS_EnvioCorreo&& &
(&&& '
EnviaCorreoHisE&&' 6
pEnviaCorreoHisE&&7 G
)&&G H
{'' 	
try(( 
{)) 
using** 
(** 
SqlConnection** $
cnn**% (
=**) *
new**+ .
SqlConnection**/ <
(**< =
VariablesGlobales**= N
.**N O

CnnClinica**O Y
)**Y Z
)**Z [
{++ 
using,, 
(,, 

SqlCommand,, %
cmd,,& )
=,,* +
new,,, /

SqlCommand,,0 :
(,,: ;
$str,,; O
,,,O P
cnn,,Q T
),,T U
),,U V
{-- 
cmd.. 
... 
CommandType.. '
=..( )
CommandType..* 5
...5 6
StoredProcedure..6 E
;..E F
cmd00 
.00 

Parameters00 &
.00& '
AddWithValue00' 3
(003 4
$str004 <
,00< =
pEnviaCorreoHisE00D T
.00T U
Orden00U Z
)00Z [
;00[ \
cmd11 
.11 

Parameters11 &
.11& '
AddWithValue11' 3
(113 4
$str114 @
,11@ A
pEnviaCorreoHisE11D T
.11T U
	IdUsuario11U ^
)11^ _
;11_ `
cmd22 
.22 

Parameters22 &
.22& '
AddWithValue22' 3
(223 4
$str224 >
,22> ?
pEnviaCorreoHisE22D T
.22T U
Usuario22U \
)22\ ]
;22] ^
cmd33 
.33 

Parameters33 &
.33& '
AddWithValue33' 3
(333 4
$str334 =
,33= >
pEnviaCorreoHisE33D T
.33T U
Correo33U [
)33[ \
;33\ ]
cmd44 
.44 

Parameters44 &
.44& '
AddWithValue44' 3
(443 4
$str444 B
,44B C
pEnviaCorreoHisE44D T
.44T U
Descripcion44U `
)44` a
;44a b
cmd55 
.55 

Parameters55 &
.55& '
AddWithValue55' 3
(553 4
$str554 B
,55B C
pEnviaCorreoHisE55D T
.55T U
RutaArchivo55U `
)55` a
;55a b
cmd66 
.66 

Parameters66 &
.66& '
Add66' *
(66* +
VariablesGlobales66+ <
.66< =
ParametroSql66= I
(66I J
$str66J X
,66X Y
ParameterDirection66Z l
.66l m
InputOutput66m x
,66x y
	SqlDbType	66z É
.
66É Ñ
Int
66Ñ á
,
66á à
$num
66â ä
,
66ä ã
pEnviaCorreoHisE
66å ú
.
66ú ù
mailitem_id
66ù ®
.
66® ©
ToString
66© ±
(
66± ≤
)
66≤ ≥
)
66≥ ¥
)
66¥ µ
;
66µ ∂
cnn77 
.77 
Open77  
(77  !
)77! "
;77" #
cmd88 
.88 
ExecuteNonQuery88 +
(88+ ,
)88, -
;88- .
pEnviaCorreoHisE99 (
.99( )
mailitem_id99) 4
=994 5
(996 7
int997 :
)99: ;
cmd99; >
.99> ?

Parameters99? I
[99I J
$str99J X
]99X Y
.99Y Z
Value99Z _
;99_ `
if:: 
(:: 
pEnviaCorreoHisE:: ,
.::, -
mailitem_id::- 8
!=::9 ;
$num::< =
)::= >
{;; 
return;;  
true;;! %
;;;% &
};;' (
else<< 
{== 
return==  
false==! &
;==& '
}==( )
cnn>> 
.>> 
Close>> !
(>>! "
)>>" #
;>># $
cmd?? 
.?? 
Dispose?? #
(??# $
)??$ %
;??% &
}@@ 
}AA 
}BB 
catchCC 
(CC 
	ExceptionCC 
exCC 
)CC  
{DD 
returnDD 
falseDD 
;DD 
}DD 
}EE 	
}GG 
}HH ¡Ä
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\ConsultaPolizasAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
OtrosAD

 #
{ 
public 

class 
ConsultaPolizasAD "
{ 
private 
ConsultaPolizasE  
LlenarEntidad! .
(. /
IDataReader/ :
dr; =
,= >
ConsultaPolizasE? O
pConsultapolizasEP a
)a b
{ 	
ConsultaPolizasE 
oConsultapolizasE .
=/ 0
new1 4
ConsultaPolizasE5 E
(E F
)F G
;G H
switch 
( 
pConsultapolizasE %
.% &
Orden& +
)+ ,
{ 
case 
$num 
: 
{ 
oConsultapolizasE )
.) *
Codatencion* 5
=6 7
(8 9
string9 ?
)? @
drA C
[C D
$strD Q
]Q R
;R S
oConsultapolizasE )
.) *
Linea* /
=0 1
(2 3
string3 9
)9 :
dr; =
[= >
$str> E
]E F
;F G
oConsultapolizasE )
.) *

Idconsulta* 4
=5 6
(7 8
int8 ;
); <
dr= ?
[? @
$str@ L
]L M
;M N
break 
; 
} 
} 
return 
oConsultapolizasE $
;$ %
} 	
public 
List 
< 
ConsultaPolizasE $
>$ %'
Sp_Consultapolizas_Consulta& A
(A B
ConsultaPolizasEB R
pConsultapolizasES d
)d e
{ 	
IDataReader   
dr   
;   
ConsultaPolizasE!! 
oConsultapolizasE!! .
=!!/ 0
null!!1 5
;!!t u
List"" 
<"" 
ConsultaPolizasE"" !
>""! "
oListar""# *
=""+ ,
new""- 0
List""1 5
<""5 6
ConsultaPolizasE""6 F
>""F G
(""G H
)""H I
;""I J
try## 
{$$ 
using%% 
(%% 
SqlConnection%% $
cnn%%% (
=%%) *
new%%+ .
SqlConnection%%/ <
(%%< =
VariablesGlobales%%= N
.%%N O

CnnClinica%%O Y
)%%Y Z
)%%Z [
{&& 
using'' 
('' 

SqlCommand'' %
cmd''& )
=''* +
new'', /

SqlCommand''0 :
('': ;
$str''; X
,''X Y
cnn''Z ]
)''] ^
)''^ _
{(( 
cmd)) 
.)) 
CommandType)) '
=))( )
CommandType))* 5
.))5 6
StoredProcedure))6 E
;))E F
cmd++ 
.++ 

Parameters++ &
.++& '
AddWithValue++' 3
(++3 4
$str++4 A
,++A B
pConsultapolizasE++C T
.++T U

Idconsulta++U _
)++_ `
;++` a
cmd,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 <
,,,< =
pConsultapolizasE,,> O
.,,O P
Orden,,P U
),,U V
;,,V W
cnn-- 
.-- 
Open--  
(--  !
)--! "
;--" #
dr.. 
=.. 
cmd..  
...  !
ExecuteReader..! .
(... /
)../ 0
;..0 1
while// 
(// 
dr// !
.//! "
Read//" &
(//& '
)//' (
)//( )
{00 
oConsultapolizasE11 -
=11. /
LlenarEntidad110 =
(11= >
dr11> @
,11@ A
pConsultapolizasE11B S
)11S T
;11T U
oListar22 #
.22# $
Add22$ '
(22' (
oConsultapolizasE22( 9
)229 :
;22: ;
}33 
dr44 
.44 
Close44  
(44  !
)44! "
;44" #
dr55 
.55 
Dispose55 "
(55" #
)55# $
;55$ %
cmd66 
.66 
Dispose66 #
(66# $
)66$ %
;66% &
cnn77 
.77 
Close77 !
(77! "
)77" #
;77# $
cnn88 
.88 
Dispose88 #
(88# $
)88$ %
;88% &
return:: 
oListar:: &
;::& '
};; 
}<< 
}== 
catch>> 
(>> 
	Exception>> 
ex>> 
)>>  
{?? 
throw@@ 
new@@ 
	Exception@@ #
(@@# $
ex@@$ &
.@@& '
Message@@' .
)@@. /
;@@/ 0
}AA 
}BB 	
publicDD 
boolDD '
Sp_ConsultaPolizas_InsertV2DD /
(DD/ 0
refDD0 3
ConsultaPolizasEDD4 D
pConsultapolizasEDDE V
)DDV W
{EE 	
tryFF 
{GG 
usingHH 
(HH 
SqlConnectionHH $
cnnHH% (
=HH) *
newHH+ .
SqlConnectionHH/ <
(HH< =
VariablesGlobalesHH= N
.HHN O

CnnClinicaHHO Y
)HHY Z
)HHZ [
{II 
usingJJ 
(JJ 

SqlCommandJJ %
cmdJJ& )
=JJ* +
newJJ, /

SqlCommandJJ0 :
(JJ: ;
$strJJ; X
,JJX Y
cnnJJZ ]
)JJ] ^
)JJ^ _
{KK 
cmdLL 
.LL 
CommandTypeLL '
=LL( )
CommandTypeLL* 5
.LL5 6
StoredProcedureLL6 E
;LLE F
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 B
,NNB C
pConsultapolizasENND U
.NNU V
CodatencionNNV a
)NNa b
;NNb c
cmdOO 
.OO 

ParametersOO &
.OO& '
AddWithValueOO' 3
(OO3 4
$strOO4 <
,OO< =
pConsultapolizasEOO> O
.OOO P
LineaOOP U
)OOU V
;OOV W
cmdPP 
.PP 

ParametersPP &
.PP& '
AddPP' *
(PP* +
VariablesGlobalesPP+ <
.PP< =
ParametroSqlPP= I
(PPI J
$strPPJ W
,PPW X
ParameterDirectionPPY k
.PPk l
InputOutputPPl w
,PPw x
	SqlDbType	PPy Ç
.
PPÇ É
Int
PPÉ Ü
,
PPÜ á
$num
PPà â
,
PPâ ä
pConsultapolizasE
PPã ú
.
PPú ù

Idconsulta
PPù ß
.
PPß ®
ToString
PP® ∞
(
PP∞ ±
)
PP± ≤
)
PP≤ ≥
)
PP≥ ¥
;
PP¥ µ
cnnQQ 
.QQ 
OpenQQ  
(QQ  !
)QQ! "
;QQ" #
ifRR 
(RR 
cmdRR 
.RR  
ExecuteNonQueryRR  /
(RR/ 0
)RR0 1
>=RR2 4
$numRR5 6
)RR6 7
{SS 
pConsultapolizasETT -
.TT- .

IdconsultaTT. 8
=TT9 :
(TT; <
intTT< ?
)TT? @
cmdTT@ C
.TTC D

ParametersTTD N
[TTN O
$strTTO \
]TT\ ]
.TT] ^
ValueTT^ c
;TTc d
returnUU "
trueUU# '
;UU' (
}VV 
elseWW 
returnXX "
falseXX# (
;XX( )
cmdYY 
.YY 
DisposeYY #
(YY# $
)YY$ %
;YY% &
cnnZZ 
.ZZ 
CloseZZ !
(ZZ! "
)ZZ" #
;ZZ# $
cnn[[ 
.[[ 
Dispose[[ #
([[# $
)[[$ %
;[[% &
}\\ 
}]] 
}^^ 
catch__ 
(__ 
	Exception__ 
ex__ 
)__  
{`` 
throwaa 
newaa 
	Exceptionaa #
(aa# $
exaa$ &
.aa& '
Messageaa' .
)aa. /
;aa/ 0
}bb 
}cc 	
publicee 
boolee %
Sp_Consultapolizas_Updateee -
(ee- .
ConsultaPolizasEee. >
pConsultapolizasEee? P
)eeP Q
{ff 	
trygg 
{hh 
usingii 
(ii 
SqlConnectionii $
cnnii% (
=ii) *
newii+ .
SqlConnectionii/ <
(ii< =
VariablesGlobalesii= N
.iiN O

CnnClinicaiiO Y
)iiY Z
)iiZ [
{jj 
usingkk 
(kk 

SqlCommandkk %
cmdkk& )
=kk* +
newkk, /

SqlCommandkk0 :
(kk: ;
$strkk; V
,kkV W
cnnkkX [
)kk[ \
)kk\ ]
{ll 
cmdmm 
.mm 
CommandTypemm '
=mm( )
CommandTypemm* 5
.mm5 6
StoredProceduremm6 E
;mmE F
cmdoo 
.oo 

Parametersoo &
.oo& '
AddWithValueoo' 3
(oo3 4
$stroo4 B
,ooB C
pConsultapolizasEooD U
.ooU V
CodatencionooV a
)ooa b
;oob c
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 <
,pp< =
pConsultapolizasEpp> O
.ppO P
LineappP U
)ppU V
;ppV W
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 A
,qqA B
pConsultapolizasEqqC T
.qqT U

IdconsultaqqU _
)qq_ `
;qq` a
cnnrr 
.rr 
Openrr  
(rr  !
)rr! "
;rr" #
ifss 
(ss 
cmdss 
.ss  
ExecuteNonQueryss  /
(ss/ 0
)ss0 1
>=ss2 4
$numss5 6
)ss6 7
returntt "
truett# '
;tt' (
elseuu 
returnvv "
falsevv# (
;vv( )
cmdww 
.ww 
Disposeww #
(ww# $
)ww$ %
;ww% &
cnnxx 
.xx 
Closexx !
(xx! "
)xx" #
;xx# $
cnnyy 
.yy 
Disposeyy #
(yy# $
)yy$ %
;yy% &
}zz 
}{{ 
}|| 
catch}} 
(}} 
	Exception}} 
ex}} 
)}}  
{~~ 
throw 
new 
	Exception #
(# $
ex$ &
.& '
Message' .
). /
;/ 0
}
ÄÄ 
}
ÅÅ 	
public
ÉÉ 
bool
ÉÉ -
Sp_Consultapolizas_UpdatexCampo
ÉÉ 3
(
ÉÉ3 4
ConsultaPolizasE
ÉÉ4 D
pConsultapolizasE
ÉÉE V
)
ÉÉV W
{
ÑÑ 	
try
ÖÖ 
{
ÜÜ 
using
áá 
(
áá 
SqlConnection
áá $
cnn
áá% (
=
áá) *
new
áá+ .
SqlConnection
áá/ <
(
áá< =
VariablesGlobales
áá= N
.
ááN O

CnnClinica
ááO Y
)
ááY Z
)
ááZ [
{
àà 
using
ââ 
(
ââ 

SqlCommand
ââ %
cmd
ââ& )
=
ââ* +
new
ââ, /

SqlCommand
ââ0 :
(
ââ: ;
$str
ââ; \
,
ââ\ ]
cnn
ââ^ a
)
ââa b
)
ââb c
{
ää 
cmd
ãã 
.
ãã 
CommandType
ãã '
=
ãã( )
CommandType
ãã* 5
.
ãã5 6
StoredProcedure
ãã6 E
;
ããE F
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 A
,
ççA B
pConsultapolizasE
ççC T
.
ççT U

Idconsulta
ççU _
)
çç_ `
;
çç` a
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 B
,
ééB C
pConsultapolizasE
ééD U
.
ééU V

NuevoValor
ééV `
)
éé` a
;
ééa b
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 <
,
èè< =
pConsultapolizasE
èè> O
.
èèO P
Campo
èèP U
)
èèU V
;
èèV W
cnn
êê 
.
êê 
Open
êê  
(
êê  !
)
êê! "
;
êê" #
if
ëë 
(
ëë 
cmd
ëë 
.
ëë  
ExecuteNonQuery
ëë  /
(
ëë/ 0
)
ëë0 1
>=
ëë2 4
$num
ëë5 6
)
ëë6 7
return
íí "
true
íí# '
;
íí' (
else
ìì 
return
îî "
false
îî# (
;
îî( )
cmd
ïï 
.
ïï 
Dispose
ïï #
(
ïï# $
)
ïï$ %
;
ïï% &
cnn
ññ 
.
ññ 
Close
ññ !
(
ññ! "
)
ññ" #
;
ññ# $
cnn
óó 
.
óó 
Dispose
óó #
(
óó# $
)
óó$ %
;
óó% &
}
òò 
}
ôô 
}
öö 
catch
õõ 
(
õõ 
	Exception
õõ 
ex
õõ 
)
õõ  
{
úú 
throw
ùù 
new
ùù 
	Exception
ùù #
(
ùù# $
ex
ùù$ &
.
ùù& '
Message
ùù' .
)
ùù. /
;
ùù/ 0
}
ûû 
}
üü 	
public
°° 
bool
°° '
Sp_Consultapolizas_Delete
°° -
(
°°- .
ConsultaPolizasE
°°. >
pConsultapolizasE
°°? P
)
°°P Q
{
¢¢ 	
try
££ 
{
§§ 
using
•• 
(
•• 
SqlConnection
•• $
cnn
••% (
=
••) *
new
••+ .
SqlConnection
••/ <
(
••< =
VariablesGlobales
••= N
.
••N O

CnnClinica
••O Y
)
••Y Z
)
••Z [
{
¶¶ 
using
ßß 
(
ßß 

SqlCommand
ßß %
cmd
ßß& )
=
ßß* +
new
ßß, /

SqlCommand
ßß0 :
(
ßß: ;
$str
ßß; V
,
ßßV W
cnn
ßßX [
)
ßß[ \
)
ßß\ ]
{
®® 
cmd
©© 
.
©© 
CommandType
©© '
=
©©( )
CommandType
©©* 5
.
©©5 6
StoredProcedure
©©6 E
;
©©E F
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 A
,
´´A B
pConsultapolizasE
´´C T
.
´´T U

Idconsulta
´´U _
)
´´_ `
;
´´` a
cnn
¨¨ 
.
¨¨ 
Open
¨¨  
(
¨¨  !
)
¨¨! "
;
¨¨" #
if
≠≠ 
(
≠≠ 
cmd
≠≠ 
.
≠≠  
ExecuteNonQuery
≠≠  /
(
≠≠/ 0
)
≠≠0 1
>=
≠≠2 4
$num
≠≠5 6
)
≠≠6 7
return
ÆÆ "
true
ÆÆ# '
;
ÆÆ' (
else
ØØ 
return
∞∞ "
false
∞∞# (
;
∞∞( )
cmd
±± 
.
±± 
Dispose
±± #
(
±±# $
)
±±$ %
;
±±% &
cnn
≤≤ 
.
≤≤ 
Close
≤≤ !
(
≤≤! "
)
≤≤" #
;
≤≤# $
cnn
≥≥ 
.
≥≥ 
Dispose
≥≥ #
(
≥≥# $
)
≥≥$ %
;
≥≥% &
}
¥¥ 
}
µµ 
}
∂∂ 
catch
∑∑ 
(
∑∑ 
	Exception
∑∑ 
ex
∑∑ 
)
∑∑  
{
∏∏ 
throw
ππ 
new
ππ 
	Exception
ππ #
(
ππ# $
ex
ππ$ &
.
ππ& '
Message
ππ' .
)
ππ. /
;
ππ/ 0
}
∫∫ 
}
ªª 	
}
ºº 
}ΩΩ áû
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\CoberturaPolizaAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
OtrosAD

 #
{ 
public 

partial 
class 
CoberturaPolizaAD *
{ 
private 
CoberturaPolizaE  
LlenarEntidad! .
(. /
IDataReader/ :
dr; =
,= >
CoberturaPolizaE? O
pCoberturapolizaEP a
,a b
intc f
pOrdeng m
=n o
$nump q
)q r
{ 	
CoberturaPolizaE 
oCoberturapolizaE .
=/ 0
new1 4
CoberturaPolizaE5 E
(E F
)F G
;G H
switch 
( 
pOrden 
) 
{ 
case 
$num 
: 
{ 
oCoberturapolizaE )
.) *
CodAtencion* 5
=6 7
(8 9
string9 ?
)? @
drA C
[C D
$strD Q
]Q R
;R S
oCoberturapolizaE )
.) *
TipoCobertura* 7
=8 9
(: ;
string; A
)A B
drC E
[E F
$strF U
]U V
;V W
oCoberturapolizaE )
.) *
Nombre* 0
=1 2
(3 4
string4 :
): ;
dr< >
[> ?
$str? G
]G H
;H I
oCoberturapolizaE )
.) *
	Tipomonto* 3
=4 5
(6 7
string7 =
)= >
dr? A
[A B
$strB M
]M N
;N O
oCoberturapolizaE )
.) *
Monto* /
=0 1
(2 3
double3 9
)9 :
dr; =
[= >
$str> E
]E F
;F G
oCoberturapolizaE )
.) *
Moneda* 0
=1 2
(3 4
string4 :
): ;
dr< >
[> ?
$str? G
]G H
;H I
oCoberturapolizaE )
.) *
Igv* -
=. /
(0 1
string1 7
)7 8
dr9 ;
[; <
$str< A
]A B
;B C
oCoberturapolizaE )
.) *
Observaciones* 7
=8 9
(: ;
string; A
)A B
drC E
[E F
$strF U
]U V
;V W
oCoberturapolizaE )
.) *
Estado* 0
=1 2
(3 4
string4 :
): ;
dr< >
[> ?
$str? G
]G H
;H I
oCoberturapolizaE )
.) *
CodCobertura* 6
=7 8
(9 :
string: @
)@ A
drB D
[D E
$strE S
]S T
;T U
oCoberturapolizaE   )
.  ) *
Codbeneficio  * 6
=  7 8
(  9 :
string  : @
)  @ A
dr  B D
[  D E
$str  E S
]  S T
;  T U
oCoberturapolizaE!! )
.!!) *
Csubtipocobertura!!* ;
=!!< =
(!!> ?
string!!? E
)!!E F
dr!!G I
[!!I J
$str!!J ]
]!!] ^
;!!^ _
oCoberturapolizaE"" )
."") *
	Csitedsvs""* 3
=""4 5
(""6 7
string""7 =
)""= >
dr""? A
[""A B
$str""B M
]""M N
;""N O
oCoberturapolizaE## )
.##) *
Idcobertura##* 5
=##6 7
(##8 9
int##9 <
)##< =
dr##> @
[##@ A
$str##A N
]##N O
;##O P
break$$ 
;$$ 
}%% 
case'' 
$num'' 
:'' 
{(( 
oCoberturapolizaE)) )
.))) *
TipoCobertura))* 7
=))8 9
()): ;
string)); A
)))A B
dr))C E
[))E F
$str))F U
]))U V
;))V W
oCoberturapolizaE** )
.**) *
Nombre*** 0
=**1 2
(**3 4
string**4 :
)**: ;
dr**< >
[**> ?
$str**? G
]**G H
;**H I
oCoberturapolizaE++ )
.++) *
	Tipomonto++* 3
=++4 5
(++6 7
string++7 =
)++= >
dr++? A
[++A B
$str++B M
]++M N
;++N O
oCoberturapolizaE,, )
.,,) *
Monto,,* /
=,,0 1
(,,2 3
double,,3 9
),,9 :
dr,,; =
[,,= >
$str,,> E
],,E F
;,,F G
oCoberturapolizaE-- )
.--) *
Moneda--* 0
=--1 2
(--3 4
string--4 :
)--: ;
dr--< >
[--> ?
$str--? G
]--G H
;--H I
oCoberturapolizaE.. )
...) *
Igv..* -
=... /
(..0 1
string..1 7
)..7 8
dr..9 ;
[..; <
$str..< A
]..A B
;..B C
oCoberturapolizaE// )
.//) *
Observaciones//* 7
=//8 9
(//: ;
string//; A
)//A B
dr//C E
[//E F
$str//F U
]//U V
;//V W
oCoberturapolizaE00 )
.00) *
Estado00* 0
=001 2
(003 4
string004 :
)00: ;
dr00< >
[00> ?
$str00? G
]00G H
;00H I
oCoberturapolizaE11 )
.11) *
CodCobertura11* 6
=117 8
(119 :
string11: @
)11@ A
dr11B D
[11D E
$str11E S
]11S T
;11T U
oCoberturapolizaE22 )
.22) *
Codbeneficio22* 6
=227 8
(229 :
string22: @
)22@ A
dr22B D
[22D E
$str22E S
]22S T
;22T U
break33 
;33 
}44 
}55 
return88 
oCoberturapolizaE88 $
;88$ %
}99 	
public;; 
List;; 
<;; 
CoberturaPolizaE;; $
>;;$ %'
Sp_CoberturaPoliza_Consulta;;& A
(;;A B
CoberturaPolizaE;;B R
pCoberturapolizaE;;S d
);;d e
{<< 	
IDataReader== 
dr== 
;== 
CoberturaPolizaE>> 
oCoberturapolizaE>> .
=>>/ 0
null>>1 5
;>>t u
List?? 
<?? 
CoberturaPolizaE?? !
>??! "
oListar??# *
=??+ ,
new??- 0
List??1 5
<??5 6
CoberturaPolizaE??6 F
>??F G
(??G H
)??H I
;??I J
try@@ 
{AA 
usingBB 
(BB 
SqlConnectionBB $
cnnBB% (
=BB) *
newBB+ .
SqlConnectionBB/ <
(BB< =
VariablesGlobalesBB= N
.BBN O

CnnClinicaBBO Y
)BBY Z
)BBZ [
{CC 
usingDD 
(DD 

SqlCommandDD %
cmdDD& )
=DD* +
newDD, /

SqlCommandDD0 :
(DD: ;
$strDD; X
,DDX Y
cnnDDZ ]
)DD] ^
)DD^ _
{EE 
cmdFF 
.FF 
CommandTypeFF '
=FF( )
CommandTypeFF* 5
.FF5 6
StoredProcedureFF6 E
;FFE F
cmdHH 
.HH 

ParametersHH &
.HH& '
AddWithValueHH' 3
(HH3 4
$strHH4 B
,HHB C
pCoberturapolizaEHHD U
.HHU V
CodAtencionHHV a
)HHa b
;HHb c
cnnII 
.II 
OpenII  
(II  !
)II! "
;II" #
drJJ 
=JJ 
cmdJJ  
.JJ  !
ExecuteReaderJJ! .
(JJ. /
)JJ/ 0
;JJ0 1
whileKK 
(KK 
drKK !
.KK! "
ReadKK" &
(KK& '
)KK' (
)KK( )
{LL 
oCoberturapolizaEMM -
=MM. /
LlenarEntidadMM0 =
(MM= >
drMM> @
,MM@ A
pCoberturapolizaEMMB S
)MMS T
;MMT U
oListarNN #
.NN# $
AddNN$ '
(NN' (
oCoberturapolizaENN( 9
)NN9 :
;NN: ;
}OO 
drQQ 
.QQ 
CloseQQ  
(QQ  !
)QQ! "
;QQ" #
drRR 
.RR 
DisposeRR "
(RR" #
)RR# $
;RR$ %
cmdSS 
.SS 
DisposeSS #
(SS# $
)SS$ %
;SS% &
cnnTT 
.TT 
CloseTT !
(TT! "
)TT" #
;TT# $
cnnUU 
.UU 
DisposeUU #
(UU# $
)UU$ %
;UU% &
returnWW 
oListarWW &
;WW& '
}XX 
}YY 
}ZZ 
catch[[ 
([[ 
	Exception[[ 
ex[[ 
)[[  
{\\ 
throw]] 
new]] 
	Exception]] #
(]]# $
ex]]$ &
.]]& '
Message]]' .
)]]. /
;]]/ 0
}^^ 
}__ 	
publicaa 
boolaa %
Sp_CoberturaPoliza_Insertaa -
(aa- .
CoberturaPolizaEaa. >
pCoberturapolizaEaa? P
)aaP Q
{bb 	
trycc 
{dd 
usingee 
(ee 
SqlConnectionee $
cnnee% (
=ee) *
newee+ .
SqlConnectionee/ <
(ee< =
VariablesGlobalesee= N
.eeN O

CnnClinicaeeO Y
)eeY Z
)eeZ [
{ff 
usinggg 
(gg 

SqlCommandgg %
cmdgg& )
=gg* +
newgg, /

SqlCommandgg0 :
(gg: ;
$strgg; V
,ggV W
cnnggX [
)gg[ \
)gg\ ]
{hh 
cmdii 
.ii 
CommandTypeii '
=ii( )
CommandTypeii* 5
.ii5 6
StoredProcedureii6 E
;iiE F
cmdkk 
.kk 

Parameterskk &
.kk& '
AddWithValuekk' 3
(kk3 4
$strkk4 D
,kkD E
pCoberturapolizaEkkF W
.kkW X
TipoCoberturakkX e
)kke f
;kkf g
cmdll 
.ll 

Parametersll &
.ll& '
Addll' *
(ll* +
VariablesGlobalesll+ <
.ll< =
ParametroSqlll= I
(llI J
$strllJ S
,llS T
ParameterDirectionllU g
.llg h
InputOutputllh s
,lls t
	SqlDbTypellu ~
.ll~ 
VarChar	ll Ü
,
llÜ á
$num
llà â
,
llâ ä
pCoberturapolizaE
llã ú
.
llú ù
CodAtencion
llù ®
)
ll® ©
)
ll© ™
;
ll™ ´
cnnmm 
.mm 
Openmm  
(mm  !
)mm! "
;mm" #
ifnn 
(nn 
cmdnn 
.nn  
ExecuteNonQuerynn  /
(nn/ 0
)nn0 1
>=nn2 4
$numnn5 6
)nn6 7
{oo 
pCoberturapolizaEpp -
.pp- .
CodAtencionpp. 9
=pp: ;
(pp< =
stringpp= C
)ppC D
cmdppD G
.ppG H

ParametersppH R
[ppR S
$strppS \
]pp\ ]
.pp] ^
Valuepp^ c
;ppc d
returnqq "
trueqq# '
;qq' (
}rr 
elsess 
returntt "
falsett# (
;tt( )
cmduu 
.uu 
Disposeuu #
(uu# $
)uu$ %
;uu% &
cnnvv 
.vv 
Closevv !
(vv! "
)vv" #
;vv# $
cnnww 
.ww 
Disposeww #
(ww# $
)ww$ %
;ww% &
}xx 
}yy 
}zz 
catch{{ 
({{ 
	Exception{{ 
ex{{ 
){{  
{|| 
throw}} 
new}} 
	Exception}} #
(}}# $
ex}}$ &
.}}& '
Message}}' .
)}}. /
;}}/ 0
}~~ 
} 	
public
ÅÅ 
bool
ÅÅ '
Sp_CoberturaPoliza_Update
ÅÅ -
(
ÅÅ- .
CoberturaPolizaE
ÅÅ. >
pCoberturapolizaE
ÅÅ? P
)
ÅÅP Q
{
ÇÇ 	
try
ÉÉ 
{
ÑÑ 
using
ÖÖ 
(
ÖÖ 
SqlConnection
ÖÖ $
cnn
ÖÖ% (
=
ÖÖ) *
new
ÖÖ+ .
SqlConnection
ÖÖ/ <
(
ÖÖ< =
VariablesGlobales
ÖÖ= N
.
ÖÖN O

CnnClinica
ÖÖO Y
)
ÖÖY Z
)
ÖÖZ [
{
ÜÜ 
using
áá 
(
áá 

SqlCommand
áá %
cmd
áá& )
=
áá* +
new
áá, /

SqlCommand
áá0 :
(
áá: ;
$str
áá; V
,
ááV W
cnn
ááX [
)
áá[ \
)
áá\ ]
{
àà 
cmd
ââ 
.
ââ 
CommandType
ââ '
=
ââ( )
CommandType
ââ* 5
.
ââ5 6
StoredProcedure
ââ6 E
;
ââE F
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 <
,
ãã< =
pCoberturapolizaE
ãã> O
.
ããO P
Campo
ããP U
)
ããU V
;
ããV W
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 =
,
åå= >
pCoberturapolizaE
åå? P
.
ååP Q
CodAtencion
ååQ \
)
åå\ ]
;
åå] ^
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 D
,
ççD E
pCoberturapolizaE
ççF W
.
ççW X
TipoCobertura
ççX e
)
ççe f
;
ççf g
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 A
,
ééA B
pCoberturapolizaE
ééC T
.
ééT U

NuevoValor
ééU _
)
éé_ `
;
éé` a
cnn
èè 
.
èè 
Open
èè  
(
èè  !
)
èè! "
;
èè" #
if
êê 
(
êê 
cmd
êê 
.
êê  
ExecuteNonQuery
êê  /
(
êê/ 0
)
êê0 1
>=
êê2 4
$num
êê5 6
)
êê6 7
return
ëë "
true
ëë# '
;
ëë' (
else
íí 
return
ìì "
false
ìì# (
;
ìì( )
cmd
îî 
.
îî 
Dispose
îî #
(
îî# $
)
îî$ %
;
îî% &
cnn
ïï 
.
ïï 
Close
ïï !
(
ïï! "
)
ïï" #
;
ïï# $
cnn
ññ 
.
ññ 
Dispose
ññ #
(
ññ# $
)
ññ$ %
;
ññ% &
}
óó 
}
òò 
}
ôô 
catch
öö 
(
öö 
	Exception
öö 
ex
öö 
)
öö  
{
õõ 
throw
úú 
new
úú 
	Exception
úú #
(
úú# $
ex
úú$ &
.
úú& '
ToString
úú' /
(
úú/ 0
)
úú0 1
+
úú2 3
$str
úú4 C
+
úúD E
pCoberturapolizaE
úúF W
.
úúW X
Campo
úúX ]
+
úú^ _
$str
úú` p
+
úúq r 
pCoberturapolizaEúús Ñ
.úúÑ Ö
CodAtencionúúÖ ê
+úúë í
$strúúì •
+úú¶ ß!
pCoberturapolizaEúú® π
.úúπ ∫
TipoCoberturaúú∫ «
+úú» …
$strúú  ﬁ
+úúﬂ ‡!
pCoberturapolizaEúú· Ú
.úúÚ Û

NuevoValorúúÛ ˝
)úú˝ ˛
;úú˛ ˇ
}
ùù 
}
ûû 	
public
†† 
List
†† 
<
†† 
CoberturaPolizaE
†† $
>
††$ %3
%Sp_CoberturaPolizaColsanitas_Consulta
††& K
(
††K L
CoberturaPolizaE
††L \
pCoberturapolizaE
††] n
)
††n o
{
°° 	
IDataReader
¢¢ 
dr
¢¢ 
;
¢¢ 
CoberturaPolizaE
££ 
oCoberturapolizaE
££ .
=
££/ 0
null
££1 5
;
££t u
List
§§ 
<
§§ 
CoberturaPolizaE
§§ !
>
§§! "
oListar
§§# *
=
§§+ ,
new
§§- 0
List
§§1 5
<
§§5 6
CoberturaPolizaE
§§6 F
>
§§F G
(
§§G H
)
§§H I
;
§§I J
try
•• 
{
¶¶ 
using
ßß 
(
ßß 
SqlConnection
ßß $
cnn
ßß% (
=
ßß) *
new
ßß+ .
SqlConnection
ßß/ <
(
ßß< =
VariablesGlobales
ßß= N
.
ßßN O

CnnClinica
ßßO Y
)
ßßY Z
)
ßßZ [
{
®® 
using
©© 
(
©© 

SqlCommand
©© %
cmd
©©& )
=
©©* +
new
©©, /

SqlCommand
©©0 :
(
©©: ;
$str
©©; b
,
©©b c
cnn
©©d g
)
©©g h
)
©©h i
{
™™ 
cmd
´´ 
.
´´ 
CommandType
´´ '
=
´´( )
CommandType
´´* 5
.
´´5 6
StoredProcedure
´´6 E
;
´´E F
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ &
.
≠≠& '
AddWithValue
≠≠' 3
(
≠≠3 4
$str
≠≠4 B
,
≠≠B C
pCoberturapolizaE
≠≠D U
.
≠≠U V
CodAtencion
≠≠V a
)
≠≠a b
;
≠≠b c
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 C
,
ÆÆC D
pCoberturapolizaE
ÆÆE V
.
ÆÆV W
TipoCobertura
ÆÆW d
)
ÆÆd e
;
ÆÆe f
cnn
ØØ 
.
ØØ 
Open
ØØ  
(
ØØ  !
)
ØØ! "
;
ØØ" #
dr
∞∞ 
=
∞∞ 
cmd
∞∞  
.
∞∞  !
ExecuteReader
∞∞! .
(
∞∞. /
)
∞∞/ 0
;
∞∞0 1
while
±± 
(
±± 
dr
±± !
.
±±! "
Read
±±" &
(
±±& '
)
±±' (
)
±±( )
{
≤≤ 
oCoberturapolizaE
≥≥ -
=
≥≥. /
LlenarEntidad
≥≥0 =
(
≥≥= >
dr
≥≥> @
,
≥≥@ A
pCoberturapolizaE
≥≥B S
,
≥≥S T
$num
≥≥U V
)
≥≥V W
;
≥≥W X
oListar
¥¥ #
.
¥¥# $
Add
¥¥$ '
(
¥¥' (
oCoberturapolizaE
¥¥( 9
)
¥¥9 :
;
¥¥: ;
}
µµ 
dr
∑∑ 
.
∑∑ 
Close
∑∑  
(
∑∑  !
)
∑∑! "
;
∑∑" #
dr
∏∏ 
.
∏∏ 
Dispose
∏∏ "
(
∏∏" #
)
∏∏# $
;
∏∏$ %
cmd
ππ 
.
ππ 
Dispose
ππ #
(
ππ# $
)
ππ$ %
;
ππ% &
cnn
∫∫ 
.
∫∫ 
Close
∫∫ !
(
∫∫! "
)
∫∫" #
;
∫∫# $
cnn
ªª 
.
ªª 
Dispose
ªª #
(
ªª# $
)
ªª$ %
;
ªª% &
return
ΩΩ 
oListar
ΩΩ &
;
ΩΩ& '
}
ææ 
}
øø 
}
¿¿ 
catch
¡¡ 
(
¡¡ 
	Exception
¡¡ 
ex
¡¡ 
)
¡¡  
{
¬¬ 
throw
√√ 
new
√√ 
	Exception
√√ #
(
√√# $
ex
√√$ &
.
√√& '
Message
√√' .
)
√√. /
;
√√/ 0
}
ƒƒ 
}
≈≈ 	
}
∆∆ 
}«« ≥3
\D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\ClinicaTorreAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
OtrosAD

 #
{ 
public 

class 
ClinicaTorreAD 
{ 
private 
ClinicaTorreE 
LlenarEntidad +
(+ ,
IDataReader, 7
dr8 :
,: ;
ClinicaTorreE< I
pClinicaTorreEJ X
)X Y
{ 	
ClinicaTorreE 
oClinicaTorreE (
=) *
new+ .
ClinicaTorreE/ <
(< =
)= >
;> ?
switch 
( 
pClinicaTorreE "
." #
Orden# (
)( )
{ 
case 
$num 
: 
{ 
oClinicaTorreE &
.& '
	IDClinica' 0
=1 2
Convert3 :
.: ;
ToInt32; B
(B C
drC E
[E F
$strF Q
]Q R
+S T
$strU W
)W X
;X Y
oClinicaTorreE &
.& '
Clinica' .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE M
]M N
+O P
$strQ S
)S T
;T U
oClinicaTorreE &
.& '
IDUbicacion' 2
=3 4
Convert5 <
.< =
ToInt32= D
(D E
drE G
[G H
$strH U
]U V
+W X
$strY [
)[ \
;\ ]
oClinicaTorreE &
.& '
DscUbicacion' 3
=4 5
Convert6 =
.= >
ToString> F
(F G
drG I
[I J
$strJ W
]W X
+Y Z
$str[ ]
)] ^
;^ _
oClinicaTorreE &
.& '
Piso' +
=, -
Convert. 5
.5 6
ToInt326 =
(= >
dr> @
[@ A
$strA J
]J K
+L M
$strN P
)P Q
;Q R
break 
; 
} 
} 
return 
oClinicaTorreE !
;! "
} 	
public   
List   
<   
ClinicaTorreE   !
>  ! "%
Sp_ClinicaTorreE_Consulta  # <
(  < =
ClinicaTorreE  = J
pClinicaTorreE  K Y
)  Y Z
{!! 	
IDataReader"" 
dr"" 
;"" 
ClinicaTorreE## 
oClinicaTorreE## (
=##) *
null##+ /
;##/ 0
List$$ 
<$$ 
ClinicaTorreE$$ 
>$$ 
oListar$$  '
=$$( )
new$$* -
List$$. 2
<$$2 3
ClinicaTorreE$$3 @
>$$@ A
($$A B
)$$B C
;$$C D
try%% 
{&& 
using'' 
('' 
SqlConnection'' $
cnn''% (
='') *
new''+ .
SqlConnection''/ <
(''< =
VariablesGlobales''= N
.''N O

CnnClinica''O Y
)''Y Z
)''Z [
{(( 
using)) 
()) 

SqlCommand)) %
cmd))& )
=))* +
new)), /

SqlCommand))0 :
()): ;
$str)); X
,))X Y
cnn))Z ]
)))] ^
)))^ _
{** 
cmd++ 
.++ 
CommandType++ '
=++( )
CommandType++* 5
.++5 6
StoredProcedure++6 E
;++E F
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 >
,--> ?
pClinicaTorreE--@ N
.--N O
Clinica--O V
)--V W
;--W X
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 @
,..@ A
pClinicaTorreE..B P
...P Q
DscUbicacion..Q ]
)..] ^
;..^ _
cmd// 
.// 

Parameters// &
.//& '
AddWithValue//' 3
(//3 4
$str//4 ;
,//; <
pClinicaTorreE//= K
.//K L
Piso//L P
)//P Q
;//Q R
cmd00 
.00 

Parameters00 &
.00& '
AddWithValue00' 3
(003 4
$str004 <
,00< =
pClinicaTorreE00> L
.00L M
Buscar00M S
)00S T
;00T U
cmd11 
.11 

Parameters11 &
.11& '
AddWithValue11' 3
(113 4
$str114 <
,11< =
pClinicaTorreE11> L
.11L M
Orden11M R
)11R S
;11S T
cnn22 
.22 
Open22  
(22  !
)22! "
;22" #
dr33 
=33 
cmd33  
.33  !
ExecuteReader33! .
(33. /
)33/ 0
;330 1
while44 
(44 
dr44 !
.44! "
Read44" &
(44& '
)44' (
)44( )
{55 
oClinicaTorreE66 *
=66+ ,
LlenarEntidad66- :
(66: ;
dr66; =
,66= >
pClinicaTorreE66? M
)66M N
;66N O
oListar77 #
.77# $
Add77$ '
(77' (
oClinicaTorreE77( 6
)776 7
;777 8
}88 
dr99 
.99 
Close99  
(99  !
)99! "
;99" #
dr:: 
.:: 
Dispose:: "
(::" #
)::# $
;::$ %
cmd;; 
.;; 
Dispose;; #
(;;# $
);;$ %
;;;% &
cnn<< 
.<< 
Close<< !
(<<! "
)<<" #
;<<# $
cnn== 
.== 
Dispose== #
(==# $
)==$ %
;==% &
return?? 
oListar?? &
;??& '
}@@ 
}AA 
}BB 
catchCC 
(CC 
	ExceptionCC 
exCC 
)CC  
{DD 
throwEE 
newEE 
	ExceptionEE #
(EE# $
exEE$ &
.EE& '
MessageEE' .
)EE. /
;EE/ 0
}FF 
}GG 	
}HH 
}II …)
ZD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\CitaAgendaAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
OtrosAD

 #
{ 
public 
partial 
class 
CitaAgendaAD "
{ 
public 
List	 
< 
CitaAgendaE 
> 
Sp_Cita_ListarQR +
(+ ,
CitaAgendaE, 7
.7 8
	Documento8 A
pCitaAgendaEB N
)N O
{ 
IDataReader 
dr 
; 
List 
< 
CitaAgendaE 
> 
oListar 
= 
new "
List# '
<' (
CitaAgendaE( 3
>3 4
(4 5
)5 6
;6 7
try 
{ 
using 	
(
 
SqlConnection 
cnn 
= 
new "
SqlConnection# 0
(0 1
VariablesGlobales1 B
.B C

CnnClinicaC M
)M N
)N O
{ 
using 

( 

SqlCommand 
cmd 
= 
new  

SqlCommand! +
(+ ,
$str, >
,> ?
cnn@ C
)C D
)D E
{ 
cmd 	
.	 

CommandType
 
= 
CommandType #
.# $
StoredProcedure$ 3
;3 4
cmd 	
.	 


Parameters
 
. 
AddWithValue !
(! "
$str" 4
,4 5
pCitaAgendaE6 B
.B C
NumeroDocumentoC R
)R S
;S T
cmd 	
.	 


Parameters
 
. 
AddWithValue !
(! "
$str" 2
,2 3
pCitaAgendaE4 @
.@ A
TipoDocumentoA N
)N O
;O P
cnn 	
.	 

Open
 
( 
) 
; 
dr 
=	 

cmd 
. 
ExecuteReader 
( 
) 
; 
while 
( 
dr 
. 
Read 
( 
) 
) 
{ 
CitaAgendaE   
oCitaAgendaE   
=    !
new  " %
CitaAgendaE  & 1
(  1 2
)  2 3
;  3 4
oCitaAgendaE!! 
.!! 
paciente!! 
=!! 
(!!  
string!!  &
)!!& '
dr!!' )
[!!) *
$str!!* 4
]!!4 5
;!!5 6
oCitaAgendaE"" 
."" 
fecha"" 
="" 
("" 
string"" #
)""# $
dr""$ &
[""& '
$str""' .
]"". /
;""/ 0
oCitaAgendaE## 
.## 
hora## 
=## 
(## 
string## "
)##" #
dr### %
[##% &
$str##& ,
]##, -
;##- .
oCitaAgendaE$$ 
.$$ 
doctor$$ 
=$$ 
($$ 
string$$ $
)$$$ %
dr$$% '
[$$' (
$str$$( 0
]$$0 1
;$$1 2
oCitaAgendaE%% 
.%% 
nombreEspecialidad%% &
=%%' (
(%%) *
string%%* 0
)%%0 1
dr%%1 3
[%%3 4
$str%%4 H
]%%H I
;%%I J
oCitaAgendaE&& 
.&& 
url_qr&& 
=&& 
(&& 
string&& $
)&&$ %
dr&&% '
[&&' (
$str&&( 0
]&&0 1
;&&1 2
oCitaAgendaE'' 
.'' 
cod_atencion''  
=''! "
(''# $
string''$ *
)''* +
dr''+ -
[''- .
$str''. <
]''< =
;''= >
oCitaAgendaE(( 
.(( 
tipoServicio((  
=((! "
(((# $
string(($ *
)((* +
dr((+ -
[((- .
$str((. <
]((< =
;((= >
oListar)) 
.)) 
Add)) 
()) 
oCitaAgendaE)) 
)))  
;))  !
}** 
dr++ 
.++ 	
Close++	 
(++ 
)++ 
;++ 
dr,, 
.,, 	
Dispose,,	 
(,, 
),, 
;,, 
cmd-- 	
.--	 

Dispose--
 
(-- 
)-- 
;-- 
cnn.. 	
...	 

Close..
 
(.. 
).. 
;.. 
cnn// 	
.//	 

Dispose//
 
(// 
)// 
;// 
return11 
oListar11 
;11 
}22 
}33 
}44 
catch55 
(55	 

	Exception55
 
ex55 
)55 
{66 
throw77 	
new77
 
	Exception77 
(77 
ex77 
.77 
Message77 "
)77" #
;77# $
}88 
}99 
}:: 
};; ˘}
TD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\CiasAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
OtrosAD

 #
{ 
public 

partial 
class 
CiasAD 
{ 
public 
CiasE 
LlenarEntidad "
(" #
IDataReader# .
dr/ 1
,1 2
CiasE3 8
pCiasE9 ?
)? @
{ 	
CiasE 
oCiasE 
= 
new 
CiasE $
($ %
)% &
;& '
switch 
( 
pCiasE 
. 
Orden  
)  !
{ 
case 
$num 
: 
{ 
oCiasE 
. 
Codcia %
=& '
(( )
string) /
)/ 0
dr1 3
[3 4
$str4 <
]< =
;= >
oCiasE 
. 
Nombre %
=& '
(( )
string) /
)/ 0
dr1 3
[3 4
$str4 <
]< =
;= >
oCiasE 
. 
	Direccion (
=) *
(+ ,
string, 2
)2 3
dr4 6
[6 7
$str7 B
]B C
;C D
oCiasE 
. 
Telefono '
=( )
(* +
string+ 1
)1 2
dr3 5
[5 6
$str6 @
]@ A
;A B
oCiasE 
. 
Ruc "
=# $
(% &
string& ,
), -
dr. 0
[0 1
$str1 6
]6 7
;7 8
oCiasE 
. 
Contacto '
=( )
(* +
string+ 1
)1 2
dr3 5
[5 6
$str6 @
]@ A
;A B
oCiasE 
. 
Estado %
=& '
(( )
bool) -
)- .
dr/ 1
[1 2
$str2 :
]: ;
;; <
oCiasE 
. 
Login $
=% &
(' (
string( .
). /
dr0 2
[2 3
$str3 :
]: ;
;; <
oCiasE 
. 
Password '
=( )
(* +
string+ 1
)1 2
dr3 5
[5 6
$str6 @
]@ A
;A B
oCiasE 
. 
Activointernet -
=. /
(0 1
int1 4
)4 5
dr6 8
[8 9
$str9 I
]I J
;J K
oCiasE 
. 
Fecharegistro ,
=- .
(/ 0
DateTime0 8
)8 9
dr: <
[< =
$str= L
]L M
;M N
oCiasE   
.   
Codusercreo   *
=  + ,
(  - .
int  . 1
)  1 2
dr  3 5
[  5 6
$str  6 C
]  C D
;  D E
oCiasE!! 
.!! 
Fechamodifico!! ,
=!!- .
(!!/ 0
DateTime!!0 8
)!!8 9
dr!!: <
[!!< =
$str!!= L
]!!L M
;!!M N
oCiasE"" 
."" 
Codusermodifico"" .
=""/ 0
(""1 2
int""2 5
)""5 6
dr""7 9
[""9 :
$str"": K
]""K L
;""L M
oCiasE## 
.## 
Codciaanterior## -
=##. /
(##0 1
string##1 7
)##7 8
dr##9 ;
[##; <
$str##< L
]##L M
;##M N
oCiasE$$ 
.$$ 
	Fechabaja$$ (
=$$) *
($$+ ,
DateTime$$, 4
)$$4 5
dr$$6 8
[$$8 9
$str$$9 D
]$$D E
;$$E F
oCiasE%% 
.%% 
Coduserbaja%% *
=%%+ ,
(%%- .
int%%. 1
)%%1 2
dr%%3 5
[%%5 6
$str%%6 C
]%%C D
;%%D E
oCiasE&& 
.&& 
Correo&& %
=&&& '
(&&( )
string&&) /
)&&/ 0
dr&&1 3
[&&3 4
$str&&4 <
]&&< =
;&&= >
oCiasE'' 
.'' 
CodTipopersona'' -
=''. /
(''0 1
string''1 7
)''7 8
dr''9 ;
[''; <
$str''< M
]''M N
;''N O
oCiasE(( 
.(( 
DscAppaterno(( +
=((, -
(((. /
string((/ 5
)((5 6
dr((7 9
[((9 :
$str((: I
]((I J
;((J K
oCiasE)) 
.)) 
DscApmaterno)) +
=)), -
()). /
string))/ 5
)))5 6
dr))7 9
[))9 :
$str)): I
]))I J
;))J K
oCiasE** 
.** 
DscSegundonombre** /
=**0 1
(**2 3
string**3 9
)**9 :
dr**; =
[**= >
$str**> Q
]**Q R
;**R S
oCiasE++ 
.++ 
DscPrimernombre++ .
=++/ 0
(++1 2
string++2 8
)++8 9
dr++: <
[++< =
$str++= O
]++O P
;++P Q
oCiasE,, 
.,, 
	CodUbigeo,, (
=,,) *
(,,+ ,
string,,, 2
),,2 3
dr,,4 6
[,,6 7
$str,,7 C
],,C D
;,,D E
oCiasE-- 
.-- 
NumDiaspago-- *
=--+ ,
(--- .
int--. 1
)--1 2
dr--3 5
[--5 6
$str--6 D
]--D E
;--E F
oCiasE.. 
... 
Cardcode.. '
=..( )
(..* +
string..+ 1
)..1 2
dr..3 5
[..5 6
$str..6 @
]..@ A
;..A B
oCiasE// 
.// 
FlgEnviosap// *
=//+ ,
(//- .
bool//. 2
)//2 3
dr//4 6
[//6 7
$str//7 E
]//E F
;//F G
oCiasE00 
.00 
FecEnviosap00 *
=00+ ,
(00- .
DateTime00. 6
)006 7
dr008 :
[00: ;
$str00; I
]00I J
;00J K
oCiasE11 
.11 
IdeDocentrysap11 -
=11. /
(110 1
int111 4
)114 5
dr116 8
[118 9
$str119 J
]11J K
;11K L
oCiasE22 
.22 
FecDocentrysap22 -
=22. /
(220 1
DateTime221 9
)229 :
dr22; =
[22= >
$str22> O
]22O P
;22P Q
oCiasE33 
.33 
FecRecepcionsap33 .
=33/ 0
(331 2
DateTime332 :
)33: ;
dr33< >
[33> ?
$str33? Q
]33Q R
;33R S
oCiasE44 
.44 
FlagServicio44 +
=44, -
(44. /
int44/ 2
)442 3
dr444 6
[446 7
$str447 F
]44F G
;44G H
break55 
;55 
}66 
}77 
return88 
oCiasE88 
;88 
}99 	
public;; 
List;; 
<;; 
CiasE;; 
>;; 
Sp_Cias_Consulta;; +
(;;+ ,
CiasE;;, 1
pCiasE;;2 8
);;8 9
{<< 	
IDataReader== 
dr== 
;== 
CiasE>> 
oCiasE>> 
=>> 
null>> 
;>>^ _
List?? 
<?? 
CiasE?? 
>?? 
oListar?? 
=??  !
new??" %
List??& *
<??* +
CiasE??+ 0
>??0 1
(??1 2
)??2 3
;??3 4
try@@ 
{AA 
usingBB 
(BB 
SqlConnectionBB $
cnnBB% (
=BB) *
newBB+ .
SqlConnectionBB/ <
(BB< =
VariablesGlobalesBB= N
.BBN O

CnnClinicaBBO Y
)BBY Z
)BBZ [
{CC 
usingDD 
(DD 

SqlCommandDD %
cmdDD& )
=DD* +
newDD, /

SqlCommandDD0 :
(DD: ;
$strDD; M
,DDM N
cnnDDO R
)DDR S
)DDS T
{EE 
cmdFF 
.FF 
CommandTypeFF '
=FF( )
CommandTypeFF* 5
.FF5 6
StoredProcedureFF6 E
;FFE F
cmdHH 
.HH 

ParametersHH &
.HH& '
AddWithValueHH' 3
(HH3 4
$strHH4 <
,HH< =
pCiasEHH> D
.HHD E
OrdenHHE J
)HHJ K
;HHK L
cnnII 
.II 
OpenII  
(II  !
)II! "
;II" #
drJJ 
=JJ 
cmdJJ  
.JJ  !
ExecuteReaderJJ! .
(JJ. /
)JJ/ 0
;JJ0 1
whileKK 
(KK 
drKK !
.KK! "
ReadKK" &
(KK& '
)KK' (
)KK( )
{LL 
oCiasEMM "
=MM# $
LlenarEntidadMM% 2
(MM2 3
drMM3 5
,MM5 6
pCiasEMM7 =
)MM= >
;MM> ?
oListarNN #
.NN# $
AddNN$ '
(NN' (
oCiasENN( .
)NN. /
;NN/ 0
}OO 
drPP 
.PP 
ClosePP  
(PP  !
)PP! "
;PP" #
drQQ 
.QQ 
DisposeQQ "
(QQ" #
)QQ# $
;QQ$ %
cmdRR 
.RR 
DisposeRR #
(RR# $
)RR$ %
;RR% &
cnnSS 
.SS 
CloseSS !
(SS! "
)SS" #
;SS# $
cnnTT 
.TT 
DisposeTT #
(TT# $
)TT$ %
;TT% &
returnVV 
oListarVV &
;VV& '
}WW 
}XX 
}YY 
catchZZ 
(ZZ 
	ExceptionZZ 
exZZ 
)ZZ  
{[[ 
throw\\ 
new\\ 
	Exception\\ #
(\\# $
ex\\$ &
.\\& '
Message\\' .
)\\. /
;\\/ 0
}]] 
}^^ 	
public`` 
bool`` 
Sp_Cias_Insert`` "
(``" #
CiasE``# (
pCiasE``) /
)``/ 0
{aa 	
trybb 
{cc 
usingdd 
(dd 
SqlConnectiondd $
cnndd% (
=dd) *
newdd+ .
SqlConnectiondd/ <
(dd< =
VariablesGlobalesdd= N
.ddN O

CnnClinicaddO Y
)ddY Z
)ddZ [
{ee 
usingff 
(ff 

SqlCommandff %
cmdff& )
=ff* +
newff, /

SqlCommandff0 :
(ff: ;
$strff; K
,ffK L
cnnffM P
)ffP Q
)ffQ R
{gg 
cmdhh 
.hh 
CommandTypehh '
=hh( )
CommandTypehh* 5
.hh5 6
StoredProcedurehh6 E
;hhE F
cmdjj 
.jj 

Parametersjj &
.jj& '
Addjj' *
(jj* +
VariablesGlobalesjj+ <
.jj< =
ParametroSqljj= I
(jjI J
$strjjJ S
,jjS T
ParameterDirectionjjU g
.jjg h
InputOutputjjh s
,jjs t
	SqlDbTypejju ~
.jj~ 
VarChar	jj Ü
,
jjÜ á
$num
jjà ä
,
jjä ã
pCiasE
jjå í
.
jjí ì
Codcia
jjì ô
)
jjô ö
)
jjö õ
;
jjõ ú
cnnll 
.ll 
Openll  
(ll  !
)ll! "
;ll" #
ifmm 
(mm 
cmdmm 
.mm  
ExecuteNonQuerymm  /
(mm/ 0
)mm0 1
>=mm2 4
$nummm5 6
)mm6 7
{nn 
pCiasEoo "
.oo" #
Codciaoo# )
=oo* +
(oo, -
stringoo- 3
)oo3 4
cmdoo4 7
.oo7 8

Parametersoo8 B
[ooB C
$strooC L
]ooL M
.ooM N
ValueooN S
;ooS T
returnpp "
truepp# '
;pp' (
}qq 
elserr 
returnss "
falsess# (
;ss( )
cmdtt 
.tt 
Disposett #
(tt# $
)tt$ %
;tt% &
cnnuu 
.uu 
Closeuu !
(uu! "
)uu" #
;uu# $
cnnvv 
.vv 
Disposevv #
(vv# $
)vv$ %
;vv% &
}ww 
}xx 
}yy 
catchzz 
(zz 
	Exceptionzz 
exzz 
)zz  
{{{ 
throw|| 
new|| 
	Exception|| #
(||# $
ex||$ &
.||& '
Message||' .
)||. /
;||/ 0
}}} 
}~~ 	
public
ÄÄ 
bool
ÄÄ 
Sp_Cias_Update
ÄÄ "
(
ÄÄ" #
CiasE
ÄÄ# (
pCiasE
ÄÄ) /
)
ÄÄ/ 0
{
ÅÅ 	
try
ÇÇ 
{
ÉÉ 
using
ÑÑ 
(
ÑÑ 
SqlConnection
ÑÑ $
cnn
ÑÑ% (
=
ÑÑ) *
new
ÑÑ+ .
SqlConnection
ÑÑ/ <
(
ÑÑ< =
VariablesGlobales
ÑÑ= N
.
ÑÑN O

CnnClinica
ÑÑO Y
)
ÑÑY Z
)
ÑÑZ [
{
ÖÖ 
using
ÜÜ 
(
ÜÜ 

SqlCommand
ÜÜ %
cmd
ÜÜ& )
=
ÜÜ* +
new
ÜÜ, /

SqlCommand
ÜÜ0 :
(
ÜÜ: ;
$str
ÜÜ; K
,
ÜÜK L
cnn
ÜÜM P
)
ÜÜP Q
)
ÜÜQ R
{
áá 
cmd
àà 
.
àà 
CommandType
àà '
=
àà( )
CommandType
àà* 5
.
àà5 6
StoredProcedure
àà6 E
;
ààE F
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 <
,
ää< =
pCiasE
ää> D
.
ääD E
Campo
ääE J
)
ääJ K
;
ääK L
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 =
,
ãã= >
pCiasE
ãã? E
.
ããE F
Codcia
ããF L
)
ããL M
;
ããM N
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 A
,
ååA B
pCiasE
ååC I
.
ååI J

NuevoValor
ååJ T
)
ååT U
;
ååU V
cnn
éé 
.
éé 
Open
éé  
(
éé  !
)
éé! "
;
éé" #
if
èè 
(
èè 
cmd
èè 
.
èè  
ExecuteNonQuery
èè  /
(
èè/ 0
)
èè0 1
>=
èè2 4
$num
èè5 6
)
èè6 7
return
êê "
true
êê# '
;
êê' (
else
ëë 
return
íí "
false
íí# (
;
íí( )
cmd
ìì 
.
ìì 
Dispose
ìì #
(
ìì# $
)
ìì$ %
;
ìì% &
cnn
îî 
.
îî 
Close
îî !
(
îî! "
)
îî" #
;
îî# $
cnn
ïï 
.
ïï 
Dispose
ïï #
(
ïï# $
)
ïï$ %
;
ïï% &
}
ññ 
}
óó 
}
òò 
catch
ôô 
(
ôô 
	Exception
ôô 
ex
ôô 
)
ôô  
{
öö 
throw
õõ 
new
õõ 
	Exception
õõ #
(
õõ# $
ex
õõ$ &
.
õõ& '
Message
õõ' .
)
õõ. /
;
õõ/ 0
}
úú 
}
ùù 	
}
ûû 
}üü ÇC
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\OtrosAD\cfgUpdatePorCampoAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
OtrosAD

 #
{ 
public 

class 
CfgUpdatePorCampoAD $
{ 
public 
CfgUpdatePorCampoE !
LlenarEntidad" /
(/ 0
IDataReader0 ;
dr< >
)> ?
{ 	
CfgUpdatePorCampoE 
ms !
=" #
new$ '
CfgUpdatePorCampoE( :
(: ;
); <
;< =
ms 
. 
tabla 
= 
dr 
[ 
$str !
]! "
." #
ToString# +
(+ ,
), -
;- .
ms 
. 
CampoEntidad 
= 
dr  
[  !
$str! /
]/ 0
.0 1
ToString1 9
(9 :
): ;
;; <
ms 
. 

CampoTabla 
= 
dr 
[ 
$str +
]+ ,
., -
ToString- 5
(5 6
)6 7
;7 8
ms 
. 
CampoConsulta 
= 
dr !
[! "
$str" 1
]1 2
.2 3
ToString3 ;
(; <
)< =
;= >
ms 
. 
CampoUpdate 
= 
dr 
[  
$str  -
]- .
.. /
ToString/ 7
(7 8
)8 9
;9 :
ms 
. 
ValorUpdate 
= 
dr 
[  
$str  -
]- .
.. /
ToString/ 7
(7 8
)8 9
;9 :
return 
ms 
; 
} 	
public 
List 
< 
CfgUpdatePorCampoE &
>& ')
Sp_CfgUpdatePorCampo_Consulta( E
(E F
stringF L
pTablaM S
)S T
{ 	
IDataReader 
dr 
; 
CfgUpdatePorCampoE 
oCfgUpdatePorCampoE 2
=3 4
null5 9
;x y
List 
< 
CfgUpdatePorCampoE #
># $
oListar% ,
=- .
new/ 2
List3 7
<7 8
CfgUpdatePorCampoE8 J
>J K
(K L
)L M
;M N
try 
{   
using!! 
(!! 
SqlConnection!! $
cnn!!% (
=!!) *
new!!+ .
SqlConnection!!/ <
(!!< =
VariablesGlobales!!= N
.!!N O

CnnClinica!!O Y
)!!Y Z
)!!Z [
{"" 
using## 
(## 

SqlCommand## %
cmd##& )
=##* +
new##, /

SqlCommand##0 :
(##: ;
$str##; Z
,##Z [
cnn##\ _
)##_ `
)##` a
{$$ 
cmd%% 
.%% 
CommandType%% '
=%%( )
CommandType%%* 5
.%%5 6
StoredProcedure%%6 E
;%%E F
cmd'' 
.'' 

Parameters'' &
.''& '
AddWithValue''' 3
(''3 4
$str''4 <
,''< =
pTabla''> D
)''D E
;''E F
cnn(( 
.(( 
Open((  
(((  !
)((! "
;((" #
dr)) 
=)) 
cmd))  
.))  !
ExecuteReader))! .
()). /
)))/ 0
;))0 1
while** 
(** 
dr** !
.**! "
Read**" &
(**& '
)**' (
)**( )
{++ 
oCfgUpdatePorCampoE,, /
=,,0 1
LlenarEntidad,,2 ?
(,,? @
dr,,@ B
),,B C
;,,C D
oListar-- #
.--# $
Add--$ '
(--' (
oCfgUpdatePorCampoE--( ;
)--; <
;--< =
}.. 
dr// 
.// 
Close//  
(//  !
)//! "
;//" #
dr00 
.00 
Dispose00 "
(00" #
)00# $
;00$ %
cmd11 
.11 
Dispose11 #
(11# $
)11$ %
;11% &
cnn22 
.22 
Close22 !
(22! "
)22" #
;22# $
cnn33 
.33 
Dispose33 #
(33# $
)33$ %
;33% &
return55 
oListar55 &
;55& '
}66 
}77 
}88 
catch99 
(99 
	Exception99 
ex99 
)99  
{:: 
throw;; 
new;; 
	Exception;; #
(;;# $
ex;;$ &
.;;& '
Message;;' .
);;. /
;;;/ 0
}<< 
}== 	
private@@ 
bool@@ 
Compare@@ 
<@@ 
T@@ 
>@@ 
(@@  
T@@  !
Object1@@" )
,@@) *
T@@+ ,
object2@@- 4
)@@4 5
{AA 	
TypeCC 
typeCC 
=CC 
typeofCC 
(CC 
TCC  
)CC  !
;CC! "
ifFF 
(FF 
objectFF 
.FF 
EqualsFF 
(FF 
Object1FF %
,FF% &
defaultFF' .
(FF. /
TFF/ 0
)FF0 1
)FF1 2
||FF3 5
objectFF6 <
.FF< =
EqualsFF= C
(FFC D
object2FFD K
,FFK L
defaultFFM T
(FFT U
TFFU V
)FFV W
)FFW X
)FFX Y
returnGG 
falseGG 
;GG 
foreachJJ 
(JJ 
SystemJJ 
.JJ 

ReflectionJJ &
.JJ& '
PropertyInfoJJ' 3
propertyJJ4 <
inJJ= ?
typeJJ@ D
.JJD E
GetPropertiesJJE R
(JJR S
)JJS T
)JJT U
{KK 
ifLL 
(LL 
propertyLL 
.LL 
NameLL !
!=LL" $
$strLL% 4
)LL4 5
{MM 
stringNN 
Object1ValueNN '
=NN( )
stringNN* 0
.NN0 1
EmptyNN1 6
;NN6 7
stringOO 
Object2ValueOO '
=OO( )
stringOO* 0
.OO0 1
EmptyOO1 6
;OO6 7
ifPP 
(PP 
typePP 
.PP 
GetPropertyPP (
(PP( )
propertyPP) 1
.PP1 2
NamePP2 6
)PP6 7
.PP7 8
GetValuePP8 @
(PP@ A
Object1PPA H
,PPH I
nullPPJ N
)PPN O
!=PPP R
nullPPS W
)PPW X
Object1ValueQQ $
=QQ% &
typeQQ' +
.QQ+ ,
GetPropertyQQ, 7
(QQ7 8
propertyQQ8 @
.QQ@ A
NameQQA E
)QQE F
.QQF G
GetValueQQG O
(QQO P
Object1QQP W
,QQW X
nullQQY ]
)QQ] ^
.QQ^ _
ToStringQQ_ g
(QQg h
)QQh i
;QQi j
ifRR 
(RR 
typeRR 
.RR 
GetPropertyRR (
(RR( )
propertyRR) 1
.RR1 2
NameRR2 6
)RR6 7
.RR7 8
GetValueRR8 @
(RR@ A
object2RRA H
,RRH I
nullRRJ N
)RRN O
!=RRP R
nullRRS W
)RRW X
Object2ValueSS $
=SS% &
typeSS' +
.SS+ ,
GetPropertySS, 7
(SS7 8
propertySS8 @
.SS@ A
NameSSA E
)SSE F
.SSF G
GetValueSSG O
(SSO P
object2SSP W
,SSW X
nullSSY ]
)SS] ^
.SS^ _
ToStringSS_ g
(SSg h
)SSh i
;SSi j
ifTT 
(TT 
Object1ValueTT $
.TT$ %
TrimTT% )
(TT) *
)TT* +
!=TT, .
Object2ValueTT/ ;
.TT; <
TrimTT< @
(TT@ A
)TTA B
)TTB C
{UU 
returnVV 
falseVV $
;VV$ %
}WW 
}XX 
}YY 
returnZZ 
trueZZ 
;ZZ 
}[[ 	
}__ 
}`` ˘á
cD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedisynAD\MdsynVideoLlamadaAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
	MedisynAD

 %
{ 
public 

class 
MdsynVideoLlamadaAD $
{ 
private 
MdsynVideoLlamadaE "
LlenarEntidad# 0
(0 1
IDataReader1 <
dr= ?
,? @
MdsynVideoLlamadaEA S
pMdsynVideollamadaET g
)g h
{ 	
MdsynVideoLlamadaE 
oMdsynVideollamadaE 2
=3 4
new5 8
MdsynVideoLlamadaE9 K
(K L
)L M
;M N
switch 
( 
pMdsynVideollamadaE '
.' (
Orden( -
)- .
{ 
case 
$num 
: 
{ 
oMdsynVideollamadaE +
.+ ,
IdecorrelReserva, <
== >
(? @
int@ C
)C D
drE G
[G H
$strH Z
]Z [
;[ \
oMdsynVideollamadaE +
.+ ,
FlgTeleConsulta, ;
=< =
(> ?
string? E
)E F
drG I
[I J
$strJ \
]\ ]
;] ^
oMdsynVideollamadaE +
.+ ,
DscTeleConsulta, ;
=< =
(> ?
string? E
)E F
drG I
[I J
$strJ \
]\ ]
;] ^
break 
; 
} 
} 
return 
oMdsynVideollamadaE &
;& '
} 	
public 
List 
< 
MdsynVideoLlamadaE &
>& ')
Sp_MdsynVideoLlamada_Consulta( E
(E F
MdsynVideoLlamadaEF X
pMdsynVideollamadaEY l
)l m
{ 	
IDataReader   
dr   
;   
MdsynVideoLlamadaE!! 
oMdsynVideollamadaE!! 2
=!!3 4
null!!5 9
;!!x y
List"" 
<"" 
MdsynVideoLlamadaE"" #
>""# $
oListar""% ,
=""- .
new""/ 2
List""3 7
<""7 8
MdsynVideoLlamadaE""8 J
>""J K
(""K L
)""L M
;""M N
try## 
{$$ 
using%% 
(%% 
SqlConnection%% $
cnn%%% (
=%%) *
new%%+ .
SqlConnection%%/ <
(%%< =
VariablesGlobales%%= N
.%%N O

CnnClinica%%O Y
)%%Y Z
)%%Z [
{&& 
using'' 
('' 

SqlCommand'' %
cmd''& )
=''* +
new'', /

SqlCommand''0 :
('': ;
$str''; Z
,''Z [
cnn''\ _
)''_ `
)''` a
{(( 
cmd)) 
.)) 
CommandType)) '
=))( )
CommandType))* 5
.))5 6
StoredProcedure))6 E
;))E F
cmd++ 
.++ 

Parameters++ &
.++& '
AddWithValue++' 3
(++3 4
$str++4 G
,++G H
pMdsynVideollamadaE++I \
.++\ ]
IdecorrelReserva++] m
)++m n
;++n o
cmd,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 <
,,,< =
pMdsynVideollamadaE,,> Q
.,,Q R
Orden,,R W
),,W X
;,,X Y
cnn-- 
.-- 
Open--  
(--  !
)--! "
;--" #
dr.. 
=.. 
cmd..  
...  !
ExecuteReader..! .
(... /
)../ 0
;..0 1
while// 
(// 
dr// !
.//! "
Read//" &
(//& '
)//' (
)//( )
{00 
oMdsynVideollamadaE11 /
=110 1
LlenarEntidad112 ?
(11? @
dr11@ B
,11B C
pMdsynVideollamadaE11D W
)11W X
;11X Y
oListar22 #
.22# $
Add22$ '
(22' (
oMdsynVideollamadaE22( ;
)22; <
;22< =
}33 
dr44 
.44 
Close44  
(44  !
)44! "
;44" #
dr55 
.55 
Dispose55 "
(55" #
)55# $
;55$ %
cmd66 
.66 
Dispose66 #
(66# $
)66$ %
;66% &
cnn77 
.77 
Close77 !
(77! "
)77" #
;77# $
cnn88 
.88 
Dispose88 #
(88# $
)88$ %
;88% &
return:: 
oListar:: &
;::& '
};; 
}<< 
}== 
catch>> 
(>> 
	Exception>> 
ex>> 
)>>  
{?? 
throw@@ 
new@@ 
	Exception@@ #
(@@# $
ex@@$ &
.@@& '
Message@@' .
)@@. /
;@@/ 0
}AA 
}BB 	
publicDD 
boolDD '
Sp_MdsynVideoLlamada_InsertDD /
(DD/ 0
MdsynVideoLlamadaEDD0 B
pMdsynVideollamadaEDDC V
)DDV W
{EE 	
tryFF 
{GG 
usingHH 
(HH 
SqlConnectionHH $
cnnHH% (
=HH) *
newHH+ .
SqlConnectionHH/ <
(HH< =
VariablesGlobalesHH= N
.HHN O

CnnClinicaHHO Y
)HHY Z
)HHZ [
{II 
usingJJ 
(JJ 

SqlCommandJJ %
cmdJJ& )
=JJ* +
newJJ, /

SqlCommandJJ0 :
(JJ: ;
$strJJ; X
,JJX Y
cnnJJZ ]
)JJ] ^
)JJ^ _
{KK 
cmdLL 
.LL 
CommandTypeLL '
=LL( )
CommandTypeLL* 5
.LL5 6
StoredProcedureLL6 E
;LLE F
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 G
,NNG H
pMdsynVideollamadaENNI \
.NN\ ]
IdecorrelReservaNN] m
)NNm n
;NNn o
cmdOO 
.OO 

ParametersOO &
.OO& '
AddWithValueOO' 3
(OO3 4
$strOO4 G
,OOG H
pMdsynVideollamadaEOOI \
.OO\ ]
FlgTeleConsultaOO] l
)OOl m
;OOm n
cmdPP 
.PP 

ParametersPP &
.PP& '
AddWithValuePP' 3
(PP3 4
$strPP4 K
,PPK L
pMdsynVideollamadaEPPM `
.PP` a
DscUrlVideollamadaPPa s
)PPs t
;PPt u
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddQQ' *
(QQ* +
VariablesGlobalesQQ+ <
.QQ< =
ParametroSqlQQ= I
(QQI J
$strQQJ ]
,QQ] ^
ParameterDirectionQQ_ q
.QQq r
InputOutputQQr }
,QQ} ~
	SqlDbType	QQ à
.
QQà â
Int
QQâ å
,
QQå ç
$num
QQé è
,
QQè ê!
pMdsynVideollamadaE
QQë §
.
QQ§ •
IdeVideoLlamada
QQ• ¥
.
QQ¥ µ
ToString
QQµ Ω
(
QQΩ æ
)
QQæ ø
)
QQø ¿
)
QQ¿ ¡
;
QQ¡ ¬
cnnRR 
.RR 
OpenRR  
(RR  !
)RR! "
;RR" #
ifSS 
(SS 
cmdSS 
.SS  
ExecuteNonQuerySS  /
(SS/ 0
)SS0 1
>=SS2 4
$numSS5 6
)SS6 7
{TT 
pMdsynVideollamadaEUU /
.UU/ 0
IdeVideoLlamadaUU0 ?
=UU@ A
(UUB C
intUUC F
)UUF G
cmdUUG J
.UUJ K

ParametersUUK U
[UUU V
$strUUV i
]UUi j
.UUj k
ValueUUk p
;UUp q
returnVV "
trueVV# '
;VV' (
}WW 
elseXX 
returnYY "
falseYY# (
;YY( )
cmdZZ 
.ZZ 
DisposeZZ #
(ZZ# $
)ZZ$ %
;ZZ% &
cnn[[ 
.[[ 
Close[[ !
([[! "
)[[" #
;[[# $
cnn\\ 
.\\ 
Dispose\\ #
(\\# $
)\\$ %
;\\% &
}]] 
}^^ 
}__ 
catch`` 
(`` 
	Exception`` 
ex`` 
)``  
{aa 
throwbb 
newbb 
	Exceptionbb #
(bb# $
exbb$ &
.bb& '
Messagebb' .
)bb. /
;bb/ 0
}cc 
}dd 	
publicff 
boolff '
Sp_MdsynVideollamada_Updateff /
(ff/ 0
MdsynVideoLlamadaEff0 B
pMdsynVideollamadaEffC V
)ffV W
{gg 	
tryhh 
{ii 
usingjj 
(jj 
SqlConnectionjj $
cnnjj% (
=jj) *
newjj+ .
SqlConnectionjj/ <
(jj< =
VariablesGlobalesjj= N
.jjN O

CnnClinicajjO Y
)jjY Z
)jjZ [
{kk 
usingll 
(ll 

SqlCommandll %
cmdll& )
=ll* +
newll, /

SqlCommandll0 :
(ll: ;
$strll; X
,llX Y
cnnllZ ]
)ll] ^
)ll^ _
{mm 
cmdnn 
.nn 
CommandTypenn '
=nn( )
CommandTypenn* 5
.nn5 6
StoredProcedurenn6 E
;nnE F
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 G
,ppG H
pMdsynVideollamadaEppI \
.pp\ ]
IdecorrelReservapp] m
)ppm n
;ppn o
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 G
,qqG H
pMdsynVideollamadaEqqI \
.qq\ ]
FlgTeleConsultaqq] l
)qql m
;qqm n
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 K
,rrK L
pMdsynVideollamadaErrM `
.rr` a
DscUrlVideollamadarra s
)rrs t
;rrt u
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 C
,ssC D
pMdsynVideollamadaEssE X
.ssX Y
FecRegistrossY d
)ssd e
;sse f
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 G
,ttG H
pMdsynVideollamadaEttI \
.tt\ ]
IdeVideoLlamadatt] l
)ttl m
;ttm n
cnnuu 
.uu 
Openuu  
(uu  !
)uu! "
;uu" #
ifvv 
(vv 
cmdvv 
.vv  
ExecuteNonQueryvv  /
(vv/ 0
)vv0 1
>=vv2 4
$numvv5 6
)vv6 7
returnww "
trueww# '
;ww' (
elsexx 
returnyy "
falseyy# (
;yy( )
cmdzz 
.zz 
Disposezz #
(zz# $
)zz$ %
;zz% &
cnn{{ 
.{{ 
Close{{ !
({{! "
){{" #
;{{# $
cnn|| 
.|| 
Dispose|| #
(||# $
)||$ %
;||% &
}}} 
}~~ 
} 
catch
ÄÄ 
(
ÄÄ 
	Exception
ÄÄ 
ex
ÄÄ 
)
ÄÄ  
{
ÅÅ 
throw
ÇÇ 
new
ÇÇ 
	Exception
ÇÇ #
(
ÇÇ# $
ex
ÇÇ$ &
.
ÇÇ& '
Message
ÇÇ' .
)
ÇÇ. /
;
ÇÇ/ 0
}
ÉÉ 
}
ÑÑ 	
public
ÜÜ 
bool
ÜÜ /
!Sp_MdsynVideollamada_UpdatexCampo
ÜÜ 5
(
ÜÜ5 6 
MdsynVideoLlamadaE
ÜÜ6 H!
pMdsynVideollamadaE
ÜÜI \
)
ÜÜ\ ]
{
áá 	
try
àà 
{
ââ 
using
ää 
(
ää 
SqlConnection
ää $
cnn
ää% (
=
ää) *
new
ää+ .
SqlConnection
ää/ <
(
ää< =
VariablesGlobales
ää= N
.
ääN O

CnnClinica
ääO Y
)
ääY Z
)
ääZ [
{
ãã 
using
åå 
(
åå 

SqlCommand
åå %
cmd
åå& )
=
åå* +
new
åå, /

SqlCommand
åå0 :
(
åå: ;
$str
åå; ^
,
åå^ _
cnn
åå` c
)
ååc d
)
ååd e
{
çç 
cmd
éé 
.
éé 
CommandType
éé '
=
éé( )
CommandType
éé* 5
.
éé5 6
StoredProcedure
éé6 E
;
ééE F
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 G
,
êêG H!
pMdsynVideollamadaE
êêI \
.
êê\ ]
IdeVideoLlamada
êê] l
)
êêl m
;
êêm n
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 B
,
ëëB C!
pMdsynVideollamadaE
ëëD W
.
ëëW X

NuevoValor
ëëX b
)
ëëb c
;
ëëc d
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 <
,
íí< =!
pMdsynVideollamadaE
íí> Q
.
ííQ R
Campo
ííR W
)
ííW X
;
ííX Y
cnn
ìì 
.
ìì 
Open
ìì  
(
ìì  !
)
ìì! "
;
ìì" #
if
îî 
(
îî 
cmd
îî 
.
îî  
ExecuteNonQuery
îî  /
(
îî/ 0
)
îî0 1
>=
îî2 4
$num
îî5 6
)
îî6 7
return
ïï "
true
ïï# '
;
ïï' (
else
ññ 
return
óó "
false
óó# (
;
óó( )
cmd
òò 
.
òò 
Dispose
òò #
(
òò# $
)
òò$ %
;
òò% &
cnn
ôô 
.
ôô 
Close
ôô !
(
ôô! "
)
ôô" #
;
ôô# $
cnn
öö 
.
öö 
Dispose
öö #
(
öö# $
)
öö$ %
;
öö% &
}
õõ 
}
úú 
}
ùù 
catch
ûû 
(
ûû 
	Exception
ûû 
ex
ûû 
)
ûû  
{
üü 
throw
†† 
new
†† 
	Exception
†† #
(
††# $
ex
††$ &
.
††& '
Message
††' .
)
††. /
;
††/ 0
}
°° 
}
¢¢ 	
public
§§ 
bool
§§ )
Sp_MdsynVideollamada_Delete
§§ /
(
§§/ 0 
MdsynVideoLlamadaE
§§0 B!
pMdsynVideollamadaE
§§C V
)
§§V W
{
•• 	
try
¶¶ 
{
ßß 
using
®® 
(
®® 
SqlConnection
®® $
cnn
®®% (
=
®®) *
new
®®+ .
SqlConnection
®®/ <
(
®®< =
VariablesGlobales
®®= N
.
®®N O

CnnClinica
®®O Y
)
®®Y Z
)
®®Z [
{
©© 
using
™™ 
(
™™ 

SqlCommand
™™ %
cmd
™™& )
=
™™* +
new
™™, /

SqlCommand
™™0 :
(
™™: ;
$str
™™; X
,
™™X Y
cnn
™™Z ]
)
™™] ^
)
™™^ _
{
´´ 
cmd
¨¨ 
.
¨¨ 
CommandType
¨¨ '
=
¨¨( )
CommandType
¨¨* 5
.
¨¨5 6
StoredProcedure
¨¨6 E
;
¨¨E F
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 G
,
ÆÆG H!
pMdsynVideollamadaE
ÆÆI \
.
ÆÆ\ ]
IdeVideoLlamada
ÆÆ] l
)
ÆÆl m
;
ÆÆm n
cnn
ØØ 
.
ØØ 
Open
ØØ  
(
ØØ  !
)
ØØ! "
;
ØØ" #
if
∞∞ 
(
∞∞ 
cmd
∞∞ 
.
∞∞  
ExecuteNonQuery
∞∞  /
(
∞∞/ 0
)
∞∞0 1
>=
∞∞2 4
$num
∞∞5 6
)
∞∞6 7
return
±± "
true
±±# '
;
±±' (
else
≤≤ 
return
≥≥ "
false
≥≥# (
;
≥≥( )
cmd
¥¥ 
.
¥¥ 
Dispose
¥¥ #
(
¥¥# $
)
¥¥$ %
;
¥¥% &
cnn
µµ 
.
µµ 
Close
µµ !
(
µµ! "
)
µµ" #
;
µµ# $
cnn
∂∂ 
.
∂∂ 
Dispose
∂∂ #
(
∂∂# $
)
∂∂$ %
;
∂∂% &
}
∑∑ 
}
∏∏ 
}
ππ 
catch
∫∫ 
(
∫∫ 
	Exception
∫∫ 
ex
∫∫ 
)
∫∫  
{
ªª 
throw
ºº 
new
ºº 
	Exception
ºº #
(
ºº# $
ex
ºº$ &
.
ºº& '
Message
ºº' .
)
ºº. /
;
ºº/ 0
}
ΩΩ 
}
ææ 	
}
øø 
}¿¿ ÀÖ
]D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedisynAD\MdsynTablasAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
	MedisynAD

 %
{ 
public 

class 
MdsynTablasAD 
{ 
private 
MdsynTablasE 
LlenarEntidad *
(* +
IDataReader+ 6
dr7 9
,9 :
MdsynTablasE; G
pMdsynTablasEH U
)U V
{ 	
MdsynTablasE 
oMdsynTablasE &
=' (
new) ,
MdsynTablasE- 9
(9 :
): ;
;; <
switch 
( 
pMdsynTablasE !
.! "
Orden" '
)' (
{ 
case 
$num 
: 
{ 
oMdsynTablasE %
.% &
Codtabla& .
=/ 0
(1 2
string2 8
)8 9
dr: <
[< =
$str= G
]G H
;H I
oMdsynTablasE %
.% &
Codigo& ,
=- .
(/ 0
string0 6
)6 7
dr8 :
[: ;
$str; C
]C D
;D E
oMdsynTablasE %
.% &
Nombre& ,
=- .
(/ 0
string0 6
)6 7
dr8 :
[: ;
$str; C
]C D
;D E
oMdsynTablasE %
.% &
Valor& +
=, -
(. /
double/ 5
)5 6
dr7 9
[9 :
$str: A
]A B
;B C
oMdsynTablasE %
.% &
Estado& ,
=- .
(/ 0
string0 6
)6 7
dr8 :
[: ;
$str; C
]C D
;D E
break 
; 
} 
} 
return 
oMdsynTablasE  
;  !
} 	
public   
List   
<   
MdsynTablasE    
>    !#
Sp_MdsynTablas_Consulta  " 9
(  9 :
MdsynTablasE  : F
pMdsynTablasE  G T
)  T U
{!! 	
IDataReader"" 
dr"" 
;"" 
MdsynTablasE## 
oMdsynTablasE## &
=##' (
null##) -
;##l m
List$$ 
<$$ 
MdsynTablasE$$ 
>$$ 
oListar$$ &
=$$' (
new$$) ,
List$$- 1
<$$1 2
MdsynTablasE$$2 >
>$$> ?
($$? @
)$$@ A
;$$A B
try%% 
{&& 
using'' 
('' 
SqlConnection'' $
cnn''% (
='') *
new''+ .
SqlConnection''/ <
(''< =
VariablesGlobales''= N
.''N O

CnnClinica''O Y
)''Y Z
)''Z [
{(( 
using)) 
()) 

SqlCommand)) %
cmd))& )
=))* +
new)), /

SqlCommand))0 :
()): ;
$str)); T
,))T U
cnn))V Y
)))Y Z
)))Z [
{** 
cmd++ 
.++ 
CommandType++ '
=++( )
CommandType++* 5
.++5 6
StoredProcedure++6 E
;++E F
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 ?
,--? @
pMdsynTablasE--A N
.--N O
Codtabla--O W
)--W X
;--X Y
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 =
,..= >
pMdsynTablasE..? L
...L M
Codigo..M S
)..S T
;..T U
cmd// 
.// 

Parameters// &
.//& '
AddWithValue//' 3
(//3 4
$str//4 =
,//= >
pMdsynTablasE//? L
.//L M
Estado//M S
)//S T
;//T U
cmd00 
.00 

Parameters00 &
.00& '
AddWithValue00' 3
(003 4
$str004 =
,00= >
pMdsynTablasE00? L
.00L M
Nombre00M S
)00S T
;00T U
cmd11 
.11 

Parameters11 &
.11& '
AddWithValue11' 3
(113 4
$str114 <
,11< =
pMdsynTablasE11> K
.11K L
Orden11L Q
)11Q R
;11R S
cnn22 
.22 
Open22  
(22  !
)22! "
;22" #
dr33 
=33 
cmd33  
.33  !
ExecuteReader33! .
(33. /
)33/ 0
;330 1
while44 
(44 
dr44 !
.44! "
Read44" &
(44& '
)44' (
)44( )
{55 
oMdsynTablasE66 )
=66* +
LlenarEntidad66, 9
(669 :
dr66: <
,66< =
pMdsynTablasE66> K
)66K L
;66L M
oListar77 #
.77# $
Add77$ '
(77' (
oMdsynTablasE77( 5
)775 6
;776 7
}88 
dr99 
.99 
Close99  
(99  !
)99! "
;99" #
dr:: 
.:: 
Dispose:: "
(::" #
)::# $
;::$ %
cmd;; 
.;; 
Dispose;; #
(;;# $
);;$ %
;;;% &
cnn<< 
.<< 
Close<< !
(<<! "
)<<" #
;<<# $
cnn== 
.== 
Dispose== #
(==# $
)==$ %
;==% &
return?? 
oListar?? &
;??& '
}@@ 
}AA 
}BB 
catchCC 
(CC 
	ExceptionCC 
exCC 
)CC  
{DD 
throwEE 
newEE 
	ExceptionEE #
(EE# $
exEE$ &
.EE& '
MessageEE' .
)EE. /
;EE/ 0
}FF 
}GG 	
publicII 
boolII !
Sp_MdsynTablas_InsertII )
(II) *
MdsynTablasEII* 6
pMdsynTablasEII7 D
)IID E
{JJ 	
tryKK 
{LL 
usingMM 
(MM 
SqlConnectionMM $
cnnMM% (
=MM) *
newMM+ .
SqlConnectionMM/ <
(MM< =
VariablesGlobalesMM= N
.MMN O

CnnClinicaMMO Y
)MMY Z
)MMZ [
{NN 
usingOO 
(OO 

SqlCommandOO %
cmdOO& )
=OO* +
newOO, /

SqlCommandOO0 :
(OO: ;
$strOO; R
,OOR S
cnnOOT W
)OOW X
)OOX Y
{PP 
cmdQQ 
.QQ 
CommandTypeQQ '
=QQ( )
CommandTypeQQ* 5
.QQ5 6
StoredProcedureQQ6 E
;QQE F
cmdSS 
.SS 

ParametersSS &
.SS& '
AddWithValueSS' 3
(SS3 4
$strSS4 ?
,SS? @
pMdsynTablasESSA N
.SSN O
CodtablaSSO W
)SSW X
;SSX Y
cmdTT 
.TT 

ParametersTT &
.TT& '
AddWithValueTT' 3
(TT3 4
$strTT4 =
,TT= >
pMdsynTablasETT? L
.TTL M
CodigoTTM S
)TTS T
;TTT U
cmdUU 
.UU 

ParametersUU &
.UU& '
AddWithValueUU' 3
(UU3 4
$strUU4 =
,UU= >
pMdsynTablasEUU? L
.UUL M
NombreUUM S
)UUS T
;UUT U
cmdVV 
.VV 

ParametersVV &
.VV& '
AddWithValueVV' 3
(VV3 4
$strVV4 <
,VV< =
pMdsynTablasEVV> K
.VVK L
ValorVVL Q
)VVQ R
;VVR S
cmdWW 
.WW 

ParametersWW &
.WW& '
AddWithValueWW' 3
(WW3 4
$strWW4 =
,WW= >
pMdsynTablasEWW? L
.WWL M
EstadoWWM S
)WWS T
;WWT U
cnnXX 
.XX 
OpenXX  
(XX  !
)XX! "
;XX" #
ifYY 
(YY 
cmdYY 
.YY  
ExecuteNonQueryYY  /
(YY/ 0
)YY0 1
>=YY2 4
$numYY5 6
)YY6 7
returnZZ "
trueZZ# '
;ZZ' (
else[[ 
return\\ "
false\\# (
;\\( )
cmd]] 
.]] 
Dispose]] #
(]]# $
)]]$ %
;]]% &
cnn^^ 
.^^ 
Close^^ !
(^^! "
)^^" #
;^^# $
cnn__ 
.__ 
Dispose__ #
(__# $
)__$ %
;__% &
}`` 
}aa 
}bb 
catchcc 
(cc 
	Exceptioncc 
excc 
)cc  
{dd 
throwee 
newee 
	Exceptionee #
(ee# $
exee$ &
.ee& '
Messageee' .
)ee. /
;ee/ 0
}ff 
}gg 	
publicii 
boolii !
Sp_MdsynTablas_Updateii )
(ii) *
MdsynTablasEii* 6
pMdsynTablasEii7 D
)iiD E
{jj 	
trykk 
{ll 
usingmm 
(mm 
SqlConnectionmm $
cnnmm% (
=mm) *
newmm+ .
SqlConnectionmm/ <
(mm< =
VariablesGlobalesmm= N
.mmN O

CnnClinicammO Y
)mmY Z
)mmZ [
{nn 
usingoo 
(oo 

SqlCommandoo %
cmdoo& )
=oo* +
newoo, /

SqlCommandoo0 :
(oo: ;
$stroo; R
,ooR S
cnnooT W
)ooW X
)ooX Y
{pp 
cmdqq 
.qq 
CommandTypeqq '
=qq( )
CommandTypeqq* 5
.qq5 6
StoredProcedureqq6 E
;qqE F
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 ?
,ss? @
pMdsynTablasEssA N
.ssN O
CodtablassO W
)ssW X
;ssX Y
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 =
,tt= >
pMdsynTablasEtt? L
.ttL M
CodigottM S
)ttS T
;ttT U
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 =
,uu= >
pMdsynTablasEuu? L
.uuL M
NombreuuM S
)uuS T
;uuT U
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 <
,vv< =
pMdsynTablasEvv> K
.vvK L
ValorvvL Q
)vvQ R
;vvR S
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 =
,ww= >
pMdsynTablasEww? L
.wwL M
EstadowwM S
)wwS T
;wwT U
cnnxx 
.xx 
Openxx  
(xx  !
)xx! "
;xx" #
ifyy 
(yy 
cmdyy 
.yy  
ExecuteNonQueryyy  /
(yy/ 0
)yy0 1
>=yy2 4
$numyy5 6
)yy6 7
returnzz "
truezz# '
;zz' (
else{{ 
return|| "
false||# (
;||( )
cmd}} 
.}} 
Dispose}} #
(}}# $
)}}$ %
;}}% &
cnn~~ 
.~~ 
Close~~ !
(~~! "
)~~" #
;~~# $
cnn 
. 
Dispose #
(# $
)$ %
;% &
}
ÄÄ 
}
ÅÅ 
}
ÇÇ 
catch
ÉÉ 
(
ÉÉ 
	Exception
ÉÉ 
ex
ÉÉ 
)
ÉÉ  
{
ÑÑ 
throw
ÖÖ 
new
ÖÖ 
	Exception
ÖÖ #
(
ÖÖ# $
ex
ÖÖ$ &
.
ÖÖ& '
Message
ÖÖ' .
)
ÖÖ. /
;
ÖÖ/ 0
}
ÜÜ 
}
áá 	
public
ââ 
bool
ââ )
Sp_MdsynTablas_UpdatexCampo
ââ /
(
ââ/ 0
MdsynTablasE
ââ0 <
pMdsynTablasE
ââ= J
)
ââJ K
{
ää 	
try
ãã 
{
åå 
using
çç 
(
çç 
SqlConnection
çç $
cnn
çç% (
=
çç) *
new
çç+ .
SqlConnection
çç/ <
(
çç< =
VariablesGlobales
çç= N
.
ççN O

CnnClinica
ççO Y
)
ççY Z
)
ççZ [
{
éé 
using
èè 
(
èè 

SqlCommand
èè %
cmd
èè& )
=
èè* +
new
èè, /

SqlCommand
èè0 :
(
èè: ;
$str
èè; X
,
èèX Y
cnn
èèZ ]
)
èè] ^
)
èè^ _
{
êê 
cmd
ëë 
.
ëë 
CommandType
ëë '
=
ëë( )
CommandType
ëë* 5
.
ëë5 6
StoredProcedure
ëë6 E
;
ëëE F
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 B
,
ììB C
pMdsynTablasE
ììD Q
.
ììQ R

NuevoValor
ììR \
)
ìì\ ]
;
ìì] ^
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 <
,
îî< =
pMdsynTablasE
îî> K
.
îîK L
Campo
îîL Q
)
îîQ R
;
îîR S
cnn
ïï 
.
ïï 
Open
ïï  
(
ïï  !
)
ïï! "
;
ïï" #
if
ññ 
(
ññ 
cmd
ññ 
.
ññ  
ExecuteNonQuery
ññ  /
(
ññ/ 0
)
ññ0 1
>=
ññ2 4
$num
ññ5 6
)
ññ6 7
return
óó "
true
óó# '
;
óó' (
else
òò 
return
ôô "
false
ôô# (
;
ôô( )
cmd
öö 
.
öö 
Dispose
öö #
(
öö# $
)
öö$ %
;
öö% &
cnn
õõ 
.
õõ 
Close
õõ !
(
õõ! "
)
õõ" #
;
õõ# $
cnn
úú 
.
úú 
Dispose
úú #
(
úú# $
)
úú$ %
;
úú% &
}
ùù 
}
ûû 
}
üü 
catch
†† 
(
†† 
	Exception
†† 
ex
†† 
)
††  
{
°° 
throw
¢¢ 
new
¢¢ 
	Exception
¢¢ #
(
¢¢# $
ex
¢¢$ &
.
¢¢& '
Message
¢¢' .
)
¢¢. /
;
¢¢/ 0
}
££ 
}
§§ 	
public
¶¶ 
bool
¶¶ #
Sp_MdsynTablas_Delete
¶¶ )
(
¶¶) *
MdsynTablasE
¶¶* 6
pMdsynTablasE
¶¶7 D
)
¶¶D E
{
ßß 	
try
®® 
{
©© 
using
™™ 
(
™™ 
SqlConnection
™™ $
cnn
™™% (
=
™™) *
new
™™+ .
SqlConnection
™™/ <
(
™™< =
VariablesGlobales
™™= N
.
™™N O

CnnClinica
™™O Y
)
™™Y Z
)
™™Z [
{
´´ 
using
¨¨ 
(
¨¨ 

SqlCommand
¨¨ %
cmd
¨¨& )
=
¨¨* +
new
¨¨, /

SqlCommand
¨¨0 :
(
¨¨: ;
$str
¨¨; R
,
¨¨R S
cnn
¨¨T W
)
¨¨W X
)
¨¨X Y
{
≠≠ 
cmd
ÆÆ 
.
ÆÆ 
CommandType
ÆÆ '
=
ÆÆ( )
CommandType
ÆÆ* 5
.
ÆÆ5 6
StoredProcedure
ÆÆ6 E
;
ÆÆE F
cnn
∞∞ 
.
∞∞ 
Open
∞∞  
(
∞∞  !
)
∞∞! "
;
∞∞" #
if
±± 
(
±± 
cmd
±± 
.
±±  
ExecuteNonQuery
±±  /
(
±±/ 0
)
±±0 1
>=
±±2 4
$num
±±5 6
)
±±6 7
return
≤≤ "
true
≤≤# '
;
≤≤' (
else
≥≥ 
return
¥¥ "
false
¥¥# (
;
¥¥( )
cmd
µµ 
.
µµ 
Dispose
µµ #
(
µµ# $
)
µµ$ %
;
µµ% &
cnn
∂∂ 
.
∂∂ 
Close
∂∂ !
(
∂∂! "
)
∂∂" #
;
∂∂# $
cnn
∑∑ 
.
∑∑ 
Dispose
∑∑ #
(
∑∑# $
)
∑∑$ %
;
∑∑% &
}
∏∏ 
}
ππ 
}
∫∫ 
catch
ªª 
(
ªª 
	Exception
ªª 
ex
ªª 
)
ªª  
{
ºº 
throw
ΩΩ 
new
ΩΩ 
	Exception
ΩΩ #
(
ΩΩ# $
ex
ΩΩ$ &
.
ΩΩ& '
Message
ΩΩ' .
)
ΩΩ. /
;
ΩΩ/ 0
}
ææ 
}
øø 	
}
¿¿ 
}¡¡ ¡
fD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedisynAD\MdsynReservalogErrorAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
	MedisynAD

 %
{ 
public 

class "
MdsynReservalogErrorAD '
{ 
public 
bool *
Sp_MdsynReservalogError_Insert 2
(2 3!
MdsynReservalogErrorE3 H"
pMdsynReservalogerrorEI _
)_ `
{ 	
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; [
,[ \
cnn] `
)` a
)a b
{ 
cmd 
. 
CommandType '
=( )
CommandType* 5
.5 6
StoredProcedure6 E
;E F
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 B
,B C"
pMdsynReservalogerrorED Z
.Z [

DscMensaje[ e
)e f
;f g
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 =
,= >"
pMdsynReservalogerrorE? U
.U V
DscPCV [
)[ \
;\ ]
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 =
,= >"
pMdsynReservalogerrorE? U
.U V
DscIPV [
)[ \
;\ ]
cmd 
. 

Parameters &
.& '
Add' *
(* +
VariablesGlobales+ <
.< =
ParametroSql= I
(I J
$strJ `
,` a
ParameterDirectionb t
.t u
InputOutput	u Ä
,
Ä Å
	SqlDbType
Ç ã
.
ã å
Int
å è
,
è ê
$num
ë í
,
í ì$
pMdsynReservalogerrorE
î ™
.
™ ´ 
IdeReservalogerror
´ Ω
.
Ω æ
ToString
æ ∆
(
∆ «
)
« »
)
» …
)
…  
;
  À
cnn 
. 
Open  
(  !
)! "
;" #
if 
( 
cmd 
.  
ExecuteNonQuery  /
(/ 0
)0 1
>=2 4
$num5 6
)6 7
{ "
pMdsynReservalogerrorE 2
.2 3
IdeReservalogerror3 E
=F G
(H I
intI L
)L M
cmdM P
.P Q

ParametersQ [
[[ \
$str\ r
]r s
.s t
Valuet y
;y z
return   "
true  # '
;  ' (
}!! 
else"" 
return## "
false### (
;##( )
cnn$$ 
.$$ 
Close$$ !
($$! "
)$$" #
;$$# $
cmd%% 
.%% 
Dispose%% #
(%%# $
)%%$ %
;%%% &
}&& 
}'' 
}(( 
catch)) 
()) 
	Exception)) 
ex)) 
)))  
{** 
throw++ 
new++ 
	Exception++ #
(++# $
ex++$ &
.++& '
Message++' .
)++. /
;++/ 0
},, 
}-- 	
}.. 
}// Õ¡
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedisynAD\MdsynPagosPaymeAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
	MedisynAD

 %
{ 
public 

class 
MdsynPagosPaymeAD "
{ 
private 
MdsynPagosPaymeE  
LlenarEntidad! .
(. /
IDataReader/ :
dr; =
,= >
MdsynPagosPaymeE? O
pMdsynPagospaymeEP a
)a b
{ 	
MdsynPagosPaymeE 
oMdsynPagospaymeE .
=/ 0
new1 4
MdsynPagosPaymeE5 E
(E F
)F G
;G H
switch 
( 
pMdsynPagospaymeE %
.% &
Orden& +
)+ ,
{ 
case 
$num 
: 
{ 
oMdsynPagospaymeE )
.) *
Idecorrelreserva* :
=; <
(= >
long> B
)B C
drD F
[F G
$strG Y
]Y Z
;Z [
oMdsynPagospaymeE )
.) *
Authorizationcode* ;
=< =
(> ?
string? E
)E F
drG I
[I J
$strJ ]
]] ^
;^ _
oMdsynPagospaymeE )
.) *
Bin* -
=. /
(0 1
string1 7
)7 8
dr9 ;
[; <
$str< A
]A B
;B C
oMdsynPagospaymeE )
.) *
Shippingcountry* 9
=: ;
(< =
string= C
)C D
drE G
[G H
$strH Y
]Y Z
;Z [
oMdsynPagospaymeE )
.) *
	Reserved1* 3
=4 5
(6 7
string7 =
)= >
dr? A
[A B
$strB M
]M N
;N O
oMdsynPagospaymeE )
.) *
	Reserved2* 3
=4 5
(6 7
string7 =
)= >
dr? A
[A B
$strB M
]M N
;N O
oMdsynPagospaymeE )
.) *
Shippinglastname* :
=; <
(= >
string> D
)D E
drF H
[H I
$strI [
][ \
;\ ]
oMdsynPagospaymeE )
.) *
	Errorcode* 3
=4 5
(6 7
string7 =
)= >
dr? A
[A B
$strB M
]M N
;N O
oMdsynPagospaymeE )
.) *

Idcommerce* 4
=5 6
(7 8
string8 >
)> ?
dr@ B
[B C
$strC O
]O P
;P Q
oMdsynPagospaymeE )
.) *
Shippingcity* 6
=7 8
(9 :
string: @
)@ A
drB D
[D E
$strE S
]S T
;T U
oMdsynPagospaymeE )
.) *

Txdatetime* 4
=5 6
(7 8
string8 >
)> ?
dr@ B
[B C
$strC O
]O P
;P Q
oMdsynPagospaymeE   )
.  ) * 
Purchasecurrencycode  * >
=  ? @
(  A B
string  B H
)  H I
dr  J L
[  L M
$str  M c
]  c d
;  d e
oMdsynPagospaymeE!! )
.!!) *
Commerceassociated!!* <
=!!= >
(!!? @
string!!@ F
)!!F G
dr!!H J
[!!J K
$str!!K _
]!!_ `
;!!` a
oMdsynPagospaymeE"" )
."") *
Shippingfirstname""* ;
=""< =
(""> ?
string""? E
)""E F
dr""G I
[""I J
$str""J ]
]""] ^
;""^ _
oMdsynPagospaymeE## )
.##) *#
Purchaseoperationnumber##* A
=##B C
(##D E
string##E K
)##K L
dr##M O
[##O P
$str##P i
]##i j
;##j k
oMdsynPagospaymeE$$ )
.$$) *
Shippingphone$$* 7
=$$8 9
($$: ;
string$$; A
)$$A B
dr$$C E
[$$E F
$str$$F U
]$$U V
;$$V W
oMdsynPagospaymeE%% )
.%%) *
Shippingaddress%%* 9
=%%: ;
(%%< =
string%%= C
)%%C D
dr%%E G
[%%G H
$str%%H Y
]%%Y Z
;%%Z [
oMdsynPagospaymeE&& )
.&&) *

Reserved22&&* 4
=&&5 6
(&&7 8
string&&8 >
)&&> ?
dr&&@ B
[&&B C
$str&&C O
]&&O P
;&&P Q
oMdsynPagospaymeE'' )
.'') *
Answermessage''* 7
=''8 9
('': ;
string''; A
)''A B
dr''C E
[''E F
$str''F U
]''U V
;''V W
oMdsynPagospaymeE(( )
.(() *
Cuota((* /
=((0 1
(((2 3
string((3 9
)((9 :
dr((; =
[((= >
$str((> E
]((E F
;((F G
oMdsynPagospaymeE)) )
.))) * 
Paymentreferencecode))* >
=))? @
())A B
string))B H
)))H I
dr))J L
[))L M
$str))M c
]))c d
;))d e
oMdsynPagospaymeE** )
.**) *
Shippingstate*** 7
=**8 9
(**: ;
string**; A
)**A B
dr**C E
[**E F
$str**F U
]**U V
;**V W
oMdsynPagospaymeE++ )
.++) *
Brand++* /
=++0 1
(++2 3
string++3 9
)++9 :
dr++; =
[++= >
$str++> E
]++E F
;++F G
oMdsynPagospaymeE,, )
.,,) *
Mcc,,* -
=,,. /
(,,0 1
string,,1 7
),,7 8
dr,,9 ;
[,,; <
$str,,< A
],,A B
;,,B C
oMdsynPagospaymeE-- )
.--) *
Shippingemail--* 7
=--8 9
(--: ;
string--; A
)--A B
dr--C E
[--E F
$str--F U
]--U V
;--V W
oMdsynPagospaymeE.. )
...) *
Shippingzip..* 5
=..6 7
(..8 9
string..9 ?
)..? @
dr..A C
[..C D
$str..D Q
]..Q R
;..R S
oMdsynPagospaymeE// )
.//) *

Acquirerid//* 4
=//5 6
(//7 8
string//8 >
)//> ?
dr//@ B
[//B C
$str//C O
]//O P
;//P Q
oMdsynPagospaymeE00 )
.00) *
Purchaseamount00* 8
=009 :
(00; <
string00< B
)00B C
dr00D F
[00F G
$str00G W
]00W X
;00X Y
oMdsynPagospaymeE11 )
.11) * 
Purchaseverification11* >
=11? @
(11A B
string11B H
)11H I
dr11J L
[11L M
$str11M c
]11c d
;11d e
oMdsynPagospaymeE22 )
.22) *
Idtransaction22* 7
=228 9
(22: ;
string22; A
)22A B
dr22C E
[22E F
$str22F U
]22U V
;22V W
oMdsynPagospaymeE33 )
.33) *

Answercode33* 4
=335 6
(337 8
string338 >
)33> ?
dr33@ B
[33B C
$str33C O
]33O P
;33P Q
oMdsynPagospaymeE44 )
.44) *
Errormessage44* 6
=447 8
(449 :
string44: @
)44@ A
dr44B D
[44D E
$str44E S
]44S T
;44T U
oMdsynPagospaymeE55 )
.55) *
Authorizationresult55* =
=55> ?
(55@ A
string55A G
)55G H
dr55I K
[55K L
$str55L a
]55a b
;55b c
oMdsynPagospaymeE66 )
.66) *

Reserved2366* 4
=665 6
(667 8
string668 >
)66> ?
dr66@ B
[66B C
$str66C O
]66O P
;66P Q
oMdsynPagospaymeE77 )
.77) *
FecRegistro77* 5
=776 7
(778 9
DateTime779 A
)77A B
dr77C E
[77E F
$str77F T
]77T U
;77U V
oMdsynPagospaymeE88 )
.88) *
UsrRegistro88* 5
=886 7
(888 9
int889 <
)88< =
dr88> @
[88@ A
$str88A O
]88O P
;88P Q
oMdsynPagospaymeE99 )
.99) *
IdeDagosPayme99* 7
=998 9
(99: ;
int99; >
)99> ?
dr99@ B
[99B C
$str99C S
]99S T
;99T U
break:: 
;:: 
};; 
}<< 
return== 
oMdsynPagospaymeE== $
;==$ %
}>> 	
public@@ 
List@@ 
<@@ 
MdsynPagosPaymeE@@ $
>@@$ %'
Sp_MdsynPagospayme_Consulta@@& A
(@@A B
MdsynPagosPaymeE@@B R
pMdsynPagospaymeE@@S d
)@@d e
{AA 	
IDataReaderBB 
drBB 
;BB 
MdsynPagosPaymeECC 
oMdsynPagospaymeECC .
=CC/ 0
nullCC1 5
;CCt u
ListDD 
<DD 
MdsynPagosPaymeEDD !
>DD! "
oListarDD# *
=DD+ ,
newDD- 0
ListDD1 5
<DD5 6
MdsynPagosPaymeEDD6 F
>DDF G
(DDG H
)DDH I
;DDI J
tryEE 
{FF 
usingGG 
(GG 
SqlConnectionGG $
cnnGG% (
=GG) *
newGG+ .
SqlConnectionGG/ <
(GG< =
VariablesGlobalesGG= N
.GGN O

CnnClinicaGGO Y
)GGY Z
)GGZ [
{HH 
usingII 
(II 

SqlCommandII %
cmdII& )
=II* +
newII, /

SqlCommandII0 :
(II: ;
$strII; X
,IIX Y
cnnIIZ ]
)II] ^
)II^ _
{JJ 
cmdKK 
.KK 
CommandTypeKK '
=KK( )
CommandTypeKK* 5
.KK5 6
StoredProcedureKK6 E
;KKE F
cmdMM 
.MM 

ParametersMM &
.MM& '
AddWithValueMM' 3
(MM3 4
$strMM4 E
,MME F
pMdsynPagospaymeEMMG X
.MMX Y
IdeDagosPaymeMMY f
)MMf g
;MMg h
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 <
,NN< =
pMdsynPagospaymeENN> O
.NNO P
OrdenNNP U
)NNU V
;NNV W
cnnOO 
.OO 
OpenOO  
(OO  !
)OO! "
;OO" #
drPP 
=PP 
cmdPP  
.PP  !
ExecuteReaderPP! .
(PP. /
)PP/ 0
;PP0 1
whileQQ 
(QQ 
drQQ !
.QQ! "
ReadQQ" &
(QQ& '
)QQ' (
)QQ( )
{RR 
oMdsynPagospaymeESS -
=SS. /
LlenarEntidadSS0 =
(SS= >
drSS> @
,SS@ A
pMdsynPagospaymeESSB S
)SSS T
;SST U
oListarTT #
.TT# $
AddTT$ '
(TT' (
oMdsynPagospaymeETT( 9
)TT9 :
;TT: ;
}UU 
drVV 
.VV 
CloseVV  
(VV  !
)VV! "
;VV" #
drWW 
.WW 
DisposeWW "
(WW" #
)WW# $
;WW$ %
cmdXX 
.XX 
DisposeXX #
(XX# $
)XX$ %
;XX% &
cnnYY 
.YY 
CloseYY !
(YY! "
)YY" #
;YY# $
cnnZZ 
.ZZ 
DisposeZZ #
(ZZ# $
)ZZ$ %
;ZZ% &
return\\ 
oListar\\ &
;\\& '
}]] 
}^^ 
}__ 
catch`` 
(`` 
	Exception`` 
ex`` 
)``  
{aa 
throwbb 
newbb 
	Exceptionbb #
(bb# $
exbb$ &
.bb& '
Messagebb' .
)bb. /
;bb/ 0
}cc 
}dd 	
publicff 
boolff %
Sp_MdsynPagosPayme_Insertff -
(ff- .
MdsynPagosPaymeEff. >
pMdsynPagospaymeEff? P
)ffP Q
{gg 	
tryhh 
{ii 
usingjj 
(jj 
SqlConnectionjj $
cnnjj% (
=jj) *
newjj+ .
SqlConnectionjj/ <
(jj< =
VariablesGlobalesjj= N
.jjN O

CnnClinicajjO Y
)jjY Z
)jjZ [
{kk 
usingll 
(ll 

SqlCommandll %
cmdll& )
=ll* +
newll, /

SqlCommandll0 :
(ll: ;
$strll; V
,llV W
cnnllX [
)ll[ \
)ll\ ]
{mm 
cmdnn 
.nn 
CommandTypenn '
=nn( )
CommandTypenn* 5
.nn5 6
StoredProcedurenn6 E
;nnE F
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 G
,ppG H
pMdsynPagospaymeEppI Z
.ppZ [
Idecorrelreservapp[ k
)ppk l
;ppl m
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 H
,qqH I
pMdsynPagospaymeEqqJ [
.qq[ \
Authorizationcodeqq\ m
)qqm n
;qqn o
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 :
,rr: ;
pMdsynPagospaymeErr< M
.rrM N
BinrrN Q
)rrQ R
;rrR S
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 F
,ssF G
pMdsynPagospaymeEssH Y
.ssY Z
ShippingcountryssZ i
)ssi j
;ssj k
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 @
,tt@ A
pMdsynPagospaymeEttB S
.ttS T
	Reserved1ttT ]
)tt] ^
;tt^ _
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 @
,uu@ A
pMdsynPagospaymeEuuB S
.uuS T
	Reserved2uuT ]
)uu] ^
;uu^ _
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 G
,vvG H
pMdsynPagospaymeEvvI Z
.vvZ [
Shippinglastnamevv[ k
)vvk l
;vvl m
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 @
,ww@ A
pMdsynPagospaymeEwwB S
.wwS T
	ErrorcodewwT ]
)ww] ^
;ww^ _
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 A
,xxA B
pMdsynPagospaymeExxC T
.xxT U

IdcommercexxU _
)xx_ `
;xx` a
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 C
,yyC D
pMdsynPagospaymeEyyE V
.yyV W
ShippingcityyyW c
)yyc d
;yyd e
cmdzz 
.zz 

Parameterszz &
.zz& '
AddWithValuezz' 3
(zz3 4
$strzz4 A
,zzA B
pMdsynPagospaymeEzzC T
.zzT U

TxdatetimezzU _
)zz_ `
;zz` a
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 K
,{{K L
pMdsynPagospaymeE{{M ^
.{{^ _ 
Purchasecurrencycode{{_ s
){{s t
;{{t u
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 I
,||I J
pMdsynPagospaymeE||K \
.||\ ]
Commerceassociated||] o
)||o p
;||p q
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 H
,}}H I
pMdsynPagospaymeE}}J [
.}}[ \
Shippingfirstname}}\ m
)}}m n
;}}n o
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 N
,~~N O
pMdsynPagospaymeE~~P a
.~~a b#
Purchaseoperationnumber~~b y
)~~y z
;~~z {
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 D
,D E
pMdsynPagospaymeEF W
.W X
ShippingphoneX e
)e f
;f g
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 F
,
ÄÄF G
pMdsynPagospaymeE
ÄÄH Y
.
ÄÄY Z
Shippingaddress
ÄÄZ i
)
ÄÄi j
;
ÄÄj k
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 A
,
ÅÅA B
pMdsynPagospaymeE
ÅÅC T
.
ÅÅT U

Reserved22
ÅÅU _
)
ÅÅ_ `
;
ÅÅ` a
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 D
,
ÇÇD E
pMdsynPagospaymeE
ÇÇF W
.
ÇÇW X
Answermessage
ÇÇX e
)
ÇÇe f
;
ÇÇf g
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 <
,
ÉÉ< =
pMdsynPagospaymeE
ÉÉ> O
.
ÉÉO P
Cuota
ÉÉP U
)
ÉÉU V
;
ÉÉV W
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 K
,
ÑÑK L
pMdsynPagospaymeE
ÑÑM ^
.
ÑÑ^ _"
Paymentreferencecode
ÑÑ_ s
)
ÑÑs t
;
ÑÑt u
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 D
,
ÖÖD E
pMdsynPagospaymeE
ÖÖF W
.
ÖÖW X
Shippingstate
ÖÖX e
)
ÖÖe f
;
ÖÖf g
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 <
,
ÜÜ< =
pMdsynPagospaymeE
ÜÜ> O
.
ÜÜO P
Brand
ÜÜP U
)
ÜÜU V
;
ÜÜV W
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 :
,
áá: ;
pMdsynPagospaymeE
áá< M
.
ááM N
Mcc
ááN Q
)
ááQ R
;
ááR S
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 D
,
ààD E
pMdsynPagospaymeE
ààF W
.
ààW X
Shippingemail
ààX e
)
ààe f
;
ààf g
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 B
,
ââB C
pMdsynPagospaymeE
ââD U
.
ââU V
Shippingzip
ââV a
)
ââa b
;
ââb c
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 A
,
ääA B
pMdsynPagospaymeE
ääC T
.
ääT U

Acquirerid
ääU _
)
ää_ `
;
ää` a
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 E
,
ããE F
pMdsynPagospaymeE
ããG X
.
ããX Y
Purchaseamount
ããY g
)
ããg h
;
ããh i
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 K
,
ååK L
pMdsynPagospaymeE
ååM ^
.
åå^ _"
Purchaseverification
åå_ s
)
åås t
;
ååt u
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 D
,
ççD E
pMdsynPagospaymeE
ççF W
.
ççW X
Idtransaction
ççX e
)
ççe f
;
ççf g
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 A
,
ééA B
pMdsynPagospaymeE
ééC T
.
ééT U

Answercode
ééU _
)
éé_ `
;
éé` a
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 C
,
èèC D
pMdsynPagospaymeE
èèE V
.
èèV W
Errormessage
èèW c
)
èèc d
;
èèd e
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 J
,
êêJ K
pMdsynPagospaymeE
êêL ]
.
êê] ^!
Authorizationresult
êê^ q
)
êêq r
;
êêr s
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 A
,
ëëA B
pMdsynPagospaymeE
ëëC T
.
ëëT U

Reserved23
ëëU _
)
ëë_ `
;
ëë` a
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 C
,
ííC D
pMdsynPagospaymeE
ííE V
.
ííV W
UsrRegistro
ííW b
)
ííb c
;
ííc d
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
Add
ìì' *
(
ìì* +
VariablesGlobales
ìì+ <
.
ìì< =
ParametroSql
ìì= I
(
ììI J
$str
ììJ [
,
ìì[ \ 
ParameterDirection
ìì] o
.
ììo p
InputOutput
ììp {
,
ìì{ |
	SqlDbTypeìì} Ü
.ììÜ á
Intììá ä
,ììä ã
$numììå ç
,ììç é!
pMdsynPagospaymeEììè †
.ìì† °
IdeDagosPaymeìì° Æ
.ììÆ Ø
ToStringììØ ∑
(ìì∑ ∏
)ìì∏ π
)ììπ ∫
)ìì∫ ª
;ììª º
cnn
îî 
.
îî 
Open
îî  
(
îî  !
)
îî! "
;
îî" #
if
ïï 
(
ïï 
cmd
ïï 
.
ïï  
ExecuteNonQuery
ïï  /
(
ïï/ 0
)
ïï0 1
>=
ïï2 4
$num
ïï5 6
)
ïï6 7
{
ññ 
pMdsynPagospaymeE
óó -
.
óó- .
IdeDagosPayme
óó. ;
=
óó< =
(
óó> ?
int
óó? B
)
óóB C
cmd
óóC F
.
óóF G

Parameters
óóG Q
[
óóQ R
$str
óóR c
]
óóc d
.
óód e
Value
óóe j
;
óój k
return
òò "
true
òò# '
;
òò' (
}
ôô 
else
öö 
return
õõ "
false
õõ# (
;
õõ( )
cmd
úú 
.
úú 
Dispose
úú #
(
úú# $
)
úú$ %
;
úú% &
cnn
ùù 
.
ùù 
Close
ùù !
(
ùù! "
)
ùù" #
;
ùù# $
cnn
ûû 
.
ûû 
Dispose
ûû #
(
ûû# $
)
ûû$ %
;
ûû% &
}
üü 
}
†† 
}
°° 
catch
¢¢ 
(
¢¢ 
	Exception
¢¢ 
ex
¢¢ 
)
¢¢  
{
££ 
throw
§§ 
new
§§ 
	Exception
§§ #
(
§§# $
ex
§§$ &
.
§§& '
Message
§§' .
)
§§. /
;
§§/ 0
}
•• 
}
¶¶ 	
}
ßß 
}®® Á”
\D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedisynAD\MdsynPagosAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
	MedisynAD

 %
{ 
public 

class 
MdsynPagosAD 
{ 
private 
MdsynPagosE 
LlenarEntidad )
() *
IDataReader* 5
dr6 8
,8 9
MdsynPagosE: E
pMdsynPagosEF R
)R S
{ 	
MdsynPagosE 
oMdsynPagosE $
=% &
new' *
MdsynPagosE+ 6
(6 7
)7 8
;8 9
switch 
( 
pMdsynPagosE  
.  !
Orden! &
)& '
{ 
case 
$str 
: 
{ 
oMdsynPagosE $
.$ %
IdCita% +
=, -
(. /
int/ 2
)2 3
dr3 5
[5 6
$str6 @
]@ A
;A B
oMdsynPagosE $
.$ %"
objSynapsisOrderApiBot% ;
.; <
number< B
=C D
drE G
[G H
$strH P
]P Q
.Q R
ToStringR Z
(Z [
)[ \
;\ ]
oMdsynPagosE $
.$ %"
objSynapsisOrderApiBot% ;
.; <
amount< B
=C D
drE G
[G H
$strH P
]P Q
.Q R
ToStringR Z
(Z [
)[ \
;\ ]
;^ _
oMdsynPagosE $
.$ %"
objSynapsisOrderApiBot% ;
.; <
	cust_name< E
=F G
(H I
stringI O
)O P
drP R
[R S
$strS ^
]^ _
;_ `
oMdsynPagosE $
.$ %"
objSynapsisOrderApiBot% ;
.; <
cust_lastname< I
=J K
(L M
stringM S
)S T
drT V
[V W
$strW f
]f g
;g h
oMdsynPagosE $
.$ %"
objSynapsisOrderApiBot% ;
.; <

cust_phone< F
=G H
(I J
stringJ P
)P Q
drQ S
[S T
$strT `
]` a
;a b
oMdsynPagosE $
.$ %"
objSynapsisOrderApiBot% ;
.; <

cust_email< F
=G H
(I J
stringJ P
)P Q
drQ S
[S T
$strT `
]` a
;a b
oMdsynPagosE $
.$ %"
objSynapsisOrderApiBot% ;
.; <
cust_doc_type< I
=J K
(L M
stringM S
)S T
drT V
[V W
$strW f
]f g
;g h
oMdsynPagosE   $
.  $ %"
objSynapsisOrderApiBot  % ;
.  ; <
cust_doc_number  < K
=  L M
(  N O
string  O U
)  U V
dr  V X
[  X Y
$str  Y j
]  j k
;  k l
oMdsynPagosE!! $
.!!$ %"
objSynapsisOrderApiBot!!% ;
.!!; <
cust_adress_country!!< O
=!!P Q
(!!R S
string!!S Y
)!!Y Z
dr!!Z \
[!!\ ]
$str!!] r
]!!r s
;!!s t
oMdsynPagosE"" $
.""$ %"
objSynapsisOrderApiBot""% ;
.""; <
cust_adress_levels""< N
=""O P
(""Q R
string""R X
)""X Y
dr""Y [
[""[ \
$str""\ p
]""p q
;""q r
oMdsynPagosE## $
.##$ %"
objSynapsisOrderApiBot##% ;
.##; <
cust_adress_line1##< M
=##N O
(##P Q
string##Q W
)##W X
dr##X Z
[##Z [
$str##[ n
]##n o
;##o p
oMdsynPagosE$$ $
.$$$ %"
objSynapsisOrderApiBot$$% ;
.$$; <
cust_adress_zip$$< K
=$$L M
($$N O
string$$O U
)$$U V
dr$$V X
[$$X Y
$str$$Y j
]$$j k
;$$k l
oMdsynPagosE%% $
.%%$ %"
objSynapsisOrderApiBot%%% ;
.%%; <
currency_code%%< I
=%%J K
(%%L M
string%%M S
)%%S T
dr%%T V
[%%V W
$str%%W f
]%%f g
;%%g h
oMdsynPagosE&& $
.&&$ %"
objSynapsisOrderApiBot&&% ;
.&&; <
country_code&&< H
=&&I J
(&&K L
string&&L R
)&&R S
dr&&S U
[&&U V
$str&&V d
]&&d e
;&&e f
oMdsynPagosE(( $
.(($ %"
objSynapsisOrderApiBot((% ;
.((; <
products_name((< I
=((J K
(((L M
string((M S
)((S T
dr((T V
[((V W
$str((W f
]((f g
;((g h
oMdsynPagosE)) $
.))$ %"
objSynapsisOrderApiBot))% ;
.)); <
products_quantity))< M
=))N O
dr))P R
[))R S
$str))S f
]))f g
.))g h
ToString))h p
())p q
)))q r
;))r s
oMdsynPagosE** $
.**$ %"
objSynapsisOrderApiBot**% ;
.**; <
products_unitAmount**< O
=**P Q
dr**R T
[**T U
$str**U j
]**j k
.**k l
ToString**l t
(**t u
)**u v
;**v w
oMdsynPagosE++ $
.++$ %"
objSynapsisOrderApiBot++% ;
.++; <
products_amount++< K
=++L M
dr++N P
[++P Q
$str++Q b
]++b c
.++c d
ToString++d l
(++l m
)++m n
;++n o
oMdsynPagosE-- $
.--$ %"
objSynapsisOrderApiBot--% ;
.--; <
ordTyp_code--< G
=--H I
(--J K
string--K Q
)--Q R
dr--R T
[--T U
$str--U b
]--b c
;--c d
oMdsynPagosE.. $
...$ %"
objSynapsisOrderApiBot..% ;
...; <
targTyp_code..< H
=..I J
(..K L
string..L R
)..R S
dr..S U
[..U V
$str..V d
]..d e
;..e f
oMdsynPagosE00 $
.00$ %"
objSynapsisOrderApiBot00% ;
.00; <#
setting_expiration_date00< S
=00T U
(00V W
DateTime00W _
)00_ `
dr00` b
[00b c
$str00c |
]00| }
;00} ~
oMdsynPagosE22 $
.22$ %"
objSynapsisOrderApiBot22% ;
.22; <
header_ApiKey22< I
=22J K
(22L M
string22M S
)22S T
dr22T V
[22V W
$str22W f
]22f g
;22g h
oMdsynPagosE33 $
.33$ %"
objSynapsisOrderApiBot33% ;
.33; <
header_SecretKey33< L
=33M N
(33O P
string33P V
)33V W
dr33W Y
[33Y Z
$str33Z l
]33l m
;33m n
break44 
;44 
}55 
case77 
$str77 
:77 
{88 
oMdsynPagosE99 $
.99$ %"
objSynapsisOrderApiBot99% ;
.99; <
number99< B
=99C D
(99E F
string99F L
)99L M
dr99M O
[99O P
$str99P X
]99X Y
;99Y Z
oMdsynPagosE:: $
.::$ %"
objSynapsisOrderApiBot::% ;
.::; <
amount::< B
=::C D
(::E F
string::F L
)::L M
dr::M O
[::O P
$str::P X
]::X Y
;::Y Z
oMdsynPagosE<< $
.<<$ %"
objSynapsisOrderApiBot<<% ;
.<<; <
	cust_name<<< E
=<<F G
(<<H I
string<<I O
)<<O P
dr<<P R
[<<R S
$str<<S ^
]<<^ _
;<<_ `
oMdsynPagosE== $
.==$ %"
objSynapsisOrderApiBot==% ;
.==; <
cust_lastname==< I
===J K
(==L M
string==M S
)==S T
dr==T V
[==V W
$str==W f
]==f g
;==g h
oMdsynPagosE>> $
.>>$ %"
objSynapsisOrderApiBot>>% ;
.>>; <

cust_phone>>< F
=>>G H
(>>I J
string>>J P
)>>P Q
dr>>Q S
[>>S T
$str>>T `
]>>` a
;>>a b
oMdsynPagosE?? $
.??$ %"
objSynapsisOrderApiBot??% ;
.??; <

cust_email??< F
=??G H
(??I J
string??J P
)??P Q
dr??Q S
[??S T
$str??T `
]??` a
;??a b
oMdsynPagosE@@ $
.@@$ %"
objSynapsisOrderApiBot@@% ;
.@@; <
cust_doc_type@@< I
=@@J K
(@@L M
string@@M S
)@@S T
dr@@T V
[@@V W
$str@@W f
]@@f g
;@@g h
oMdsynPagosEAA $
.AA$ %"
objSynapsisOrderApiBotAA% ;
.AA; <
cust_doc_numberAA< K
=AAL M
(AAN O
stringAAO U
)AAU V
drAAV X
[AAX Y
$strAAY j
]AAj k
;AAk l
oMdsynPagosEBB $
.BB$ %"
objSynapsisOrderApiBotBB% ;
.BB; <
cust_adress_countryBB< O
=BBP Q
(BBR S
stringBBS Y
)BBY Z
drBBZ \
[BB\ ]
$strBB] r
]BBr s
;BBs t
oMdsynPagosECC $
.CC$ %"
objSynapsisOrderApiBotCC% ;
.CC; <
cust_adress_levelsCC< N
=CCO P
(CCQ R
stringCCR X
)CCX Y
drCCY [
[CC[ \
$strCC\ p
]CCp q
;CCq r
oMdsynPagosEDD $
.DD$ %"
objSynapsisOrderApiBotDD% ;
.DD; <
cust_adress_line1DD< M
=DDN O
(DDP Q
stringDDQ W
)DDW X
drDDX Z
[DDZ [
$strDD[ n
]DDn o
;DDo p
oMdsynPagosEEE $
.EE$ %"
objSynapsisOrderApiBotEE% ;
.EE; <
cust_adress_zipEE< K
=EEL M
(EEN O
stringEEO U
)EEU V
drEEV X
[EEX Y
$strEEY j
]EEj k
;EEk l
oMdsynPagosEFF $
.FF$ %"
objSynapsisOrderApiBotFF% ;
.FF; <
currency_codeFF< I
=FFJ K
(FFL M
stringFFM S
)FFS T
drFFT V
[FFV W
$strFFW f
]FFf g
;FFg h
oMdsynPagosEGG $
.GG$ %"
objSynapsisOrderApiBotGG% ;
.GG; <
country_codeGG< H
=GGI J
(GGK L
stringGGL R
)GGR S
drGGS U
[GGU V
$strGGV d
]GGd e
;GGe f
oMdsynPagosEII $
.II$ %"
objSynapsisOrderApiBotII% ;
.II; <
products_nameII< I
=IIJ K
(IIL M
stringIIM S
)IIS T
drIIT V
[IIV W
$strIIW f
]IIf g
;IIg h
oMdsynPagosEJJ $
.JJ$ %"
objSynapsisOrderApiBotJJ% ;
.JJ; <
products_quantityJJ< M
=JJN O
(JJP Q
stringJJQ W
)JJW X
drJJX Z
[JJZ [
$strJJ[ n
]JJn o
;JJo p
oMdsynPagosEKK $
.KK$ %"
objSynapsisOrderApiBotKK% ;
.KK; <
products_unitAmountKK< O
=KKP Q
(KKR S
stringKKS Y
)KKY Z
drKKZ \
[KK\ ]
$strKK] r
]KKr s
;KKs t
oMdsynPagosELL $
.LL$ %"
objSynapsisOrderApiBotLL% ;
.LL; <
products_amountLL< K
=LLL M
(LLN O
stringLLO U
)LLU V
drLLV X
[LLX Y
$strLLY j
]LLj k
;LLk l
oMdsynPagosENN $
.NN$ %"
objSynapsisOrderApiBotNN% ;
.NN; <
ordTyp_codeNN< G
=NNH I
(NNJ K
stringNNK Q
)NNQ R
drNNR T
[NNT U
$strNNU b
]NNb c
;NNc d
oMdsynPagosEOO $
.OO$ %"
objSynapsisOrderApiBotOO% ;
.OO; <
targTyp_codeOO< H
=OOI J
(OOK L
stringOOL R
)OOR S
drOOS U
[OOU V
$strOOV d
]OOd e
;OOe f
oMdsynPagosEQQ $
.QQ$ %"
objSynapsisOrderApiBotQQ% ;
.QQ; <#
setting_expiration_dateQQ< S
=QQT U
(QQV W
DateTimeQQW _
)QQ_ `
drQQ` b
[QQb c
$strQQc |
]QQ| }
;QQ} ~
breakRR 
;RR 
}SS 
caseTT 
$strTT 
:TT 
{UU 
oMdsynPagosEVV $
.VV$ %"
objSynapsisOrderApiBotVV% ;
.VV; <
numberVV< B
=VVC D
drVVE G
[VVG H
$strVVH P
]VVP Q
.VVQ R
ToStringVVR Z
(VVZ [
)VV[ \
;VV\ ]
oMdsynPagosEWW $
.WW$ %"
objSynapsisOrderApiBotWW% ;
.WW; <
amountWW< B
=WWC D
drWWE G
[WWG H
$strWWH P
]WWP Q
.WWQ R
ToStringWWR Z
(WWZ [
)WW[ \
;WW\ ]
;WW^ _
oMdsynPagosEYY $
.YY$ %"
objSynapsisOrderApiBotYY% ;
.YY; <
	cust_nameYY< E
=YYF G
(YYH I
stringYYI O
)YYO P
drYYP R
[YYR S
$strYYS ^
]YY^ _
;YY_ `
oMdsynPagosEZZ $
.ZZ$ %"
objSynapsisOrderApiBotZZ% ;
.ZZ; <
cust_lastnameZZ< I
=ZZJ K
(ZZL M
stringZZM S
)ZZS T
drZZT V
[ZZV W
$strZZW f
]ZZf g
;ZZg h
oMdsynPagosE[[ $
.[[$ %"
objSynapsisOrderApiBot[[% ;
.[[; <

cust_phone[[< F
=[[G H
([[I J
string[[J P
)[[P Q
dr[[Q S
[[[S T
$str[[T `
][[` a
;[[a b
oMdsynPagosE\\ $
.\\$ %"
objSynapsisOrderApiBot\\% ;
.\\; <

cust_email\\< F
=\\G H
(\\I J
string\\J P
)\\P Q
dr\\Q S
[\\S T
$str\\T `
]\\` a
;\\a b
oMdsynPagosE]] $
.]]$ %"
objSynapsisOrderApiBot]]% ;
.]]; <
cust_doc_type]]< I
=]]J K
(]]L M
string]]M S
)]]S T
dr]]T V
[]]V W
$str]]W f
]]]f g
;]]g h
oMdsynPagosE^^ $
.^^$ %"
objSynapsisOrderApiBot^^% ;
.^^; <
cust_doc_number^^< K
=^^L M
(^^N O
string^^O U
)^^U V
dr^^V X
[^^X Y
$str^^Y j
]^^j k
;^^k l
oMdsynPagosE__ $
.__$ %"
objSynapsisOrderApiBot__% ;
.__; <
cust_adress_country__< O
=__P Q
(__R S
string__S Y
)__Y Z
dr__Z \
[__\ ]
$str__] r
]__r s
;__s t
oMdsynPagosE`` $
.``$ %"
objSynapsisOrderApiBot``% ;
.``; <
cust_adress_levels``< N
=``O P
(``Q R
string``R X
)``X Y
dr``Y [
[``[ \
$str``\ p
]``p q
;``q r
oMdsynPagosEaa $
.aa$ %"
objSynapsisOrderApiBotaa% ;
.aa; <
cust_adress_line1aa< M
=aaN O
(aaP Q
stringaaQ W
)aaW X
draaX Z
[aaZ [
$straa[ n
]aan o
;aao p
oMdsynPagosEbb $
.bb$ %"
objSynapsisOrderApiBotbb% ;
.bb; <
cust_adress_zipbb< K
=bbL M
(bbN O
stringbbO U
)bbU V
drbbV X
[bbX Y
$strbbY j
]bbj k
;bbk l
oMdsynPagosEcc $
.cc$ %"
objSynapsisOrderApiBotcc% ;
.cc; <
currency_codecc< I
=ccJ K
(ccL M
stringccM S
)ccS T
drccT V
[ccV W
$strccW f
]ccf g
;ccg h
oMdsynPagosEdd $
.dd$ %"
objSynapsisOrderApiBotdd% ;
.dd; <
country_codedd< H
=ddI J
(ddK L
stringddL R
)ddR S
drddS U
[ddU V
$strddV d
]ddd e
;dde f
oMdsynPagosEff $
.ff$ %"
objSynapsisOrderApiBotff% ;
.ff; <
products_nameff< I
=ffJ K
(ffL M
stringffM S
)ffS T
drffT V
[ffV W
$strffW f
]fff g
;ffg h
oMdsynPagosEgg $
.gg$ %"
objSynapsisOrderApiBotgg% ;
.gg; <
products_quantitygg< M
=ggN O
drggP R
[ggR S
$strggS f
]ggf g
.ggg h
ToStringggh p
(ggp q
)ggq r
;ggr s
oMdsynPagosEhh $
.hh$ %"
objSynapsisOrderApiBothh% ;
.hh; <
products_unitAmounthh< O
=hhP Q
drhhR T
[hhT U
$strhhU j
]hhj k
.hhk l
ToStringhhl t
(hht u
)hhu v
;hhv w
oMdsynPagosEii $
.ii$ %"
objSynapsisOrderApiBotii% ;
.ii; <
products_amountii< K
=iiL M
driiN P
[iiP Q
$striiQ b
]iib c
.iic d
ToStringiid l
(iil m
)iim n
;iin o
oMdsynPagosEkk $
.kk$ %"
objSynapsisOrderApiBotkk% ;
.kk; <
ordTyp_codekk< G
=kkH I
(kkJ K
stringkkK Q
)kkQ R
drkkR T
[kkT U
$strkkU b
]kkb c
;kkc d
oMdsynPagosEll $
.ll$ %"
objSynapsisOrderApiBotll% ;
.ll; <
targTyp_codell< H
=llI J
(llK L
stringllL R
)llR S
drllS U
[llU V
$strllV d
]lld e
;lle f
oMdsynPagosEnn $
.nn$ %"
objSynapsisOrderApiBotnn% ;
.nn; <#
setting_expiration_datenn< S
=nnT U
(nnV W
DateTimennW _
)nn_ `
drnn` b
[nnb c
$strnnc |
]nn| }
;nn} ~
oMdsynPagosEpp $
.pp$ %"
objSynapsisOrderApiBotpp% ;
.pp; <
header_ApiKeypp< I
=ppJ K
(ppL M
stringppM S
)ppS T
drppT V
[ppV W
$strppW f
]ppf g
;ppg h
oMdsynPagosEqq $
.qq$ %"
objSynapsisOrderApiBotqq% ;
.qq; <
header_SecretKeyqq< L
=qqM N
(qqO P
stringqqP V
)qqV W
drqqW Y
[qqY Z
$strqqZ l
]qql m
;qqm n
breakrr 
;rr 
}ss 
defaultuu 
:uu 
{vv 
oMdsynPagosEww $
.ww$ %
CodTipoww% ,
=ww- .
(ww/ 0
stringww0 6
)ww6 7
drww7 9
[ww9 :
$strww: D
]wwD E
;wwE F
oMdsynPagosExx $
.xx$ %
IdeCorrelReservaxx% 5
=xx6 7
(xx8 9
intxx9 <
)xx< =
drxx= ?
[xx? @
$strxx@ T
]xxT U
;xxU V
oMdsynPagosEyy $
.yy$ %
CodVentayy% -
=yy. /
(yy0 1
stringyy1 7
)yy7 8
dryy8 :
[yy: ;
$stryy; F
]yyF G
;yyG H
oMdsynPagosEzz $
.zz$ %
CntMontoPagozz% 1
=zz2 3
(zz4 5
decimalzz5 <
)zz< =
drzz= ?
[zz? @
$strzz@ P
]zzP Q
;zzQ R
oMdsynPagosE{{ $
.{{$ %
IdeUniqueIdentifier{{% 8
={{9 :
({{; <
string{{< B
){{B C
dr{{C E
[{{E F
$str{{F ]
]{{] ^
;{{^ _
oMdsynPagosE|| $
.||$ %
CodRptaSynapsis||% 4
=||5 6
(||7 8
string||8 >
)||> ?
dr||? A
[||A B
$str||B U
]||U V
;||V W
oMdsynPagosE}} $
.}}$ %
UsrRegOrdenSynapsis}}% 8
=}}9 :
(}}; <
int}}< ?
)}}? @
dr}}@ B
[}}B C
$str}}C [
]}}[ \
;}}\ ]
oMdsynPagosE~~ $
.~~$ %
FecRegOrdenSynapsis~~% 8
=~~9 :
(~~; <
DateTime~~< D
)~~D E
dr~~E G
[~~G H
$str~~H `
]~~` a
;~~a b
oMdsynPagosE $
.$ %
TxtJsonOrden% 1
=2 3
(4 5
string5 ;
); <
dr< >
[> ?
$str? O
]O P
;P Q
oMdsynPagosE
ÄÄ $
.
ÄÄ$ %
	EstPagado
ÄÄ% .
=
ÄÄ/ 0
(
ÄÄ1 2
string
ÄÄ2 8
)
ÄÄ8 9
dr
ÄÄ9 ;
[
ÄÄ; <
$str
ÄÄ< H
]
ÄÄH I
;
ÄÄI J
oMdsynPagosE
ÅÅ $
.
ÅÅ$ %
NroOperacion
ÅÅ% 1
=
ÅÅ2 3
(
ÅÅ4 5
string
ÅÅ5 ;
)
ÅÅ; <
dr
ÅÅ< >
[
ÅÅ> ?
$str
ÅÅ? N
]
ÅÅN O
;
ÅÅO P
oMdsynPagosE
ÇÇ $
.
ÇÇ$ %

TipTarjeta
ÇÇ% /
=
ÇÇ0 1
(
ÇÇ2 3
string
ÇÇ3 9
)
ÇÇ9 :
dr
ÇÇ: <
[
ÇÇ< =
$str
ÇÇ= J
]
ÇÇJ K
;
ÇÇK L
oMdsynPagosE
ÉÉ $
.
ÉÉ$ %

NumTarjeta
ÉÉ% /
=
ÉÉ0 1
(
ÉÉ2 3
string
ÉÉ3 9
)
ÉÉ9 :
dr
ÉÉ: <
[
ÉÉ< =
$str
ÉÉ= J
]
ÉÉJ K
;
ÉÉK L
oMdsynPagosE
ÑÑ $
.
ÑÑ$ %
TxtJsonRpta
ÑÑ% 0
=
ÑÑ1 2
(
ÑÑ3 4
string
ÑÑ4 :
)
ÑÑ: ;
dr
ÑÑ; =
[
ÑÑ= >
$str
ÑÑ> M
]
ÑÑM N
;
ÑÑN O
oMdsynPagosE
ÖÖ $
.
ÖÖ$ %
FecRecepcionPago
ÖÖ% 5
=
ÖÖ6 7
(
ÖÖ8 9
DateTime
ÖÖ9 A
)
ÖÖA B
dr
ÖÖB D
[
ÖÖD E
$str
ÖÖE Y
]
ÖÖY Z
;
ÖÖZ [
oMdsynPagosE
ÜÜ $
.
ÜÜ$ %
IdePagosBot
ÜÜ% 0
=
ÜÜ1 2
(
ÜÜ3 4
int
ÜÜ4 7
)
ÜÜ7 8
dr
ÜÜ8 :
[
ÜÜ: ;
$str
ÜÜ; J
]
ÜÜJ K
;
ÜÜK L
break
áá 
;
áá 
}
àà 
}
ââ 
return
ää 
oMdsynPagosE
ää 
;
ää  
}
ãã 	
public
çç 
List
çç 
<
çç 
MdsynPagosE
çç 
>
çç  $
Sp_MdsynPagos_Consulta
çç! 7
(
çç7 8
MdsynPagosE
çç8 C
pMdsynPagosE
ççD P
)
ççP Q
{
éé 	
IDataReader
èè 
dr
èè 
;
èè 
MdsynPagosE
êê 
oMdsynPagosE
êê $
=
êê% &
null
êê' +
;
êêj k
List
ëë 
<
ëë 
MdsynPagosE
ëë 
>
ëë 
oListar
ëë %
=
ëë& '
new
ëë( +
List
ëë, 0
<
ëë0 1
MdsynPagosE
ëë1 <
>
ëë< =
(
ëë= >
)
ëë> ?
;
ëë? @
try
íí 
{
ìì 
using
îî 
(
îî 
SqlConnection
îî $
cnn
îî% (
=
îî) *
new
îî+ .
SqlConnection
îî/ <
(
îî< =
VariablesGlobales
îî= N
.
îîN O

CnnClinica
îîO Y
)
îîY Z
)
îîZ [
{
ïï 
using
ññ 
(
ññ 

SqlCommand
ññ %
cmd
ññ& )
=
ññ* +
new
ññ, /

SqlCommand
ññ0 :
(
ññ: ;
$str
ññ; S
,
ññS T
cnn
ññU X
)
ññX Y
)
ññY Z
{
óó 
cmd
òò 
.
òò 
CommandType
òò '
=
òò( )
CommandType
òò* 5
.
òò5 6
StoredProcedure
òò6 E
;
òòE F
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 D
,
ööD E
pMdsynPagosE
ööF R
.
ööR S
IdePagosBot
ööS ^
)
öö^ _
;
öö_ `
cmd
õõ 
.
õõ 

Parameters
õõ &
.
õõ& '
AddWithValue
õõ' 3
(
õõ3 4
$str
õõ4 H
,
õõH I
pMdsynPagosE
õõJ V
.
õõV W
IdeMdsynReserva
õõW f
)
õõf g
;
õõg h
cmd
úú 
.
úú 

Parameters
úú &
.
úú& '
AddWithValue
úú' 3
(
úú3 4
$str
úú4 I
,
úúI J
pMdsynPagosE
úúK W
.
úúW X
IdeCorrelReserva
úúX h
)
úúh i
;
úúi j
cmd
ùù 
.
ùù 

Parameters
ùù &
.
ùù& '
AddWithValue
ùù' 3
(
ùù3 4
$str
ùù4 F
,
ùùF G
pMdsynPagosE
ùùH T
.
ùùT U
CodLiquidacion
ùùU c
)
ùùc d
;
ùùd e
cmd
ûû 
.
ûû 

Parameters
ûû &
.
ûû& '
AddWithValue
ûû' 3
(
ûû3 4
$str
ûû4 @
,
ûû@ A
pMdsynPagosE
ûûB N
.
ûûN O
CodVenta
ûûO W
)
ûûW X
;
ûûX Y
cmd
üü 
.
üü 

Parameters
üü &
.
üü& '
AddWithValue
üü' 3
(
üü3 4
$str
üü4 <
,
üü< =
pMdsynPagosE
üü> J
.
üüJ K
Orden
üüK P
)
üüP Q
;
üüQ R
cnn
†† 
.
†† 
Open
††  
(
††  !
)
††! "
;
††" #
dr
°° 
=
°° 
cmd
°°  
.
°°  !
ExecuteReader
°°! .
(
°°. /
)
°°/ 0
;
°°0 1
while
¢¢ 
(
¢¢ 
dr
¢¢ !
.
¢¢! "
Read
¢¢" &
(
¢¢& '
)
¢¢' (
)
¢¢( )
{
££ 
oMdsynPagosE
§§ (
=
§§) *
LlenarEntidad
§§+ 8
(
§§8 9
dr
§§9 ;
,
§§; <
pMdsynPagosE
§§= I
)
§§I J
;
§§J K
oListar
•• #
.
••# $
Add
••$ '
(
••' (
oMdsynPagosE
••( 4
)
••4 5
;
••5 6
}
¶¶ 
dr
ßß 
.
ßß 
Close
ßß  
(
ßß  !
)
ßß! "
;
ßß" #
dr
®® 
.
®® 
Dispose
®® "
(
®®" #
)
®®# $
;
®®$ %
cmd
©© 
.
©© 
Dispose
©© #
(
©©# $
)
©©$ %
;
©©% &
cnn
™™ 
.
™™ 
Close
™™ !
(
™™! "
)
™™" #
;
™™# $
cnn
´´ 
.
´´ 
Dispose
´´ #
(
´´# $
)
´´$ %
;
´´% &
return
≠≠ 
oListar
≠≠ &
;
≠≠& '
}
ÆÆ 
}
ØØ 
}
∞∞ 
catch
±± 
(
±± 
	Exception
±± 
ex
±± 
)
±±  
{
≤≤ 
throw
≥≥ 
new
≥≥ 
	Exception
≥≥ #
(
≥≥# $
ex
≥≥$ &
.
≥≥& '
Message
≥≥' .
)
≥≥. /
;
≥≥/ 0
}
¥¥ 
}
µµ 	
public
∑∑ 
bool
∑∑ "
Sp_MdsynPagos_Insert
∑∑ (
(
∑∑( )
MdsynPagosE
∑∑) 4
pMdsynPagosE
∑∑5 A
)
∑∑A B
{
∏∏ 	
try
ππ 
{
∫∫ 
using
ªª 
(
ªª 
SqlConnection
ªª $
cnn
ªª% (
=
ªª) *
new
ªª+ .
SqlConnection
ªª/ <
(
ªª< =
VariablesGlobales
ªª= N
.
ªªN O

CnnClinica
ªªO Y
)
ªªY Z
)
ªªZ [
{
ºº 
using
ΩΩ 
(
ΩΩ 

SqlCommand
ΩΩ %
cmd
ΩΩ& )
=
ΩΩ* +
new
ΩΩ, /

SqlCommand
ΩΩ0 :
(
ΩΩ: ;
$str
ΩΩ; Q
,
ΩΩQ R
cnn
ΩΩS V
)
ΩΩV W
)
ΩΩW X
{
ææ 
cmd
øø 
.
øø 
CommandType
øø '
=
øø( )
CommandType
øø* 5
.
øø5 6
StoredProcedure
øø6 E
;
øøE F
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 ?
,
¡¡? @
pMdsynPagosE
¡¡A M
.
¡¡M N
CodTipo
¡¡N U
)
¡¡U V
;
¡¡V W
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ &
.
¬¬& '
AddWithValue
¬¬' 3
(
¬¬3 4
$str
¬¬4 H
,
¬¬H I
pMdsynPagosE
¬¬J V
.
¬¬V W
IdeMdsynReserva
¬¬W f
)
¬¬f g
;
¬¬g h
cmd
√√ 
.
√√ 

Parameters
√√ &
.
√√& '
AddWithValue
√√' 3
(
√√3 4
$str
√√4 I
,
√√I J
pMdsynPagosE
√√K W
.
√√W X
IdeCorrelReserva
√√X h
)
√√h i
;
√√i j
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ &
.
ƒƒ& '
AddWithValue
ƒƒ' 3
(
ƒƒ3 4
$str
ƒƒ4 F
,
ƒƒF G
pMdsynPagosE
ƒƒH T
.
ƒƒT U
CodLiquidacion
ƒƒU c
)
ƒƒc d
;
ƒƒd e
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ &
.
≈≈& '
AddWithValue
≈≈' 3
(
≈≈3 4
$str
≈≈4 @
,
≈≈@ A
pMdsynPagosE
≈≈B N
.
≈≈N O
CodVenta
≈≈O W
)
≈≈W X
;
≈≈X Y
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ &
.
∆∆& '
AddWithValue
∆∆' 3
(
∆∆3 4
$str
∆∆4 E
,
∆∆E F
pMdsynPagosE
∆∆G S
.
∆∆S T
CntMontoPago
∆∆T `
)
∆∆` a
;
∆∆a b
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ &
.
ÀÀ& '
Add
ÀÀ' *
(
ÀÀ* +
VariablesGlobales
ÀÀ+ <
.
ÀÀ< =
ParametroSql
ÀÀ= I
(
ÀÀI J
$str
ÀÀJ Z
,
ÀÀZ [ 
ParameterDirection
ÀÀ\ n
.
ÀÀn o
InputOutput
ÀÀo z
,
ÀÀz {
	SqlDbTypeÀÀ| Ö
.ÀÀÖ Ü
BigIntÀÀÜ å
,ÀÀå ç
$numÀÀé è
,ÀÀè ê
pMdsynPagosEÀÀë ù
.ÀÀù û
IdePagosBotÀÀû ©
.ÀÀ© ™
ToStringÀÀ™ ≤
(ÀÀ≤ ≥
)ÀÀ≥ ¥
)ÀÀ¥ µ
)ÀÀµ ∂
;ÀÀ∂ ∑
cnn
ÃÃ 
.
ÃÃ 
Open
ÃÃ  
(
ÃÃ  !
)
ÃÃ! "
;
ÃÃ" #
if
ÕÕ 
(
ÕÕ 
cmd
ÕÕ 
.
ÕÕ  
ExecuteNonQuery
ÕÕ  /
(
ÕÕ/ 0
)
ÕÕ0 1
>=
ÕÕ2 4
$num
ÕÕ5 6
)
ÕÕ6 7
{
ŒŒ 
pMdsynPagosE
œœ (
.
œœ( )
IdePagosBot
œœ) 4
=
œœ5 6
(
œœ7 8
long
œœ8 <
)
œœ< =
cmd
œœ= @
.
œœ@ A

Parameters
œœA K
[
œœK L
$str
œœL \
]
œœ\ ]
.
œœ] ^
Value
œœ^ c
;
œœc d
return
–– "
true
––# '
;
––' (
}
—— 
else
““ 
return
”” "
false
””# (
;
””( )
cmd
‘‘ 
.
‘‘ 
Dispose
‘‘ #
(
‘‘# $
)
‘‘$ %
;
‘‘% &
cnn
’’ 
.
’’ 
Close
’’ !
(
’’! "
)
’’" #
;
’’# $
cnn
÷÷ 
.
÷÷ 
Dispose
÷÷ #
(
÷÷# $
)
÷÷$ %
;
÷÷% &
}
◊◊ 
}
ÿÿ 
}
ŸŸ 
catch
⁄⁄ 
(
⁄⁄ 
	Exception
⁄⁄ 
ex
⁄⁄ 
)
⁄⁄  
{
€€ 
throw
‹‹ 
new
‹‹ 
	Exception
‹‹ #
(
‹‹# $
ex
‹‹$ &
.
‹‹& '
Message
‹‹' .
)
‹‹. /
;
‹‹/ 0
}
›› 
}
ﬁﬁ 	
public
‡‡ 
bool
‡‡ "
Sp_MdsynPagos_Update
‡‡ (
(
‡‡( )
MdsynPagosE
‡‡) 4
pMdsynPagosE
‡‡5 A
)
‡‡A B
{
·· 	
try
‚‚ 
{
„„ 
using
‰‰ 
(
‰‰ 
SqlConnection
‰‰ $
cnn
‰‰% (
=
‰‰) *
new
‰‰+ .
SqlConnection
‰‰/ <
(
‰‰< =
VariablesGlobales
‰‰= N
.
‰‰N O

CnnClinica
‰‰O Y
)
‰‰Y Z
)
‰‰Z [
{
ÂÂ 
using
ÊÊ 
(
ÊÊ 

SqlCommand
ÊÊ %
cmd
ÊÊ& )
=
ÊÊ* +
new
ÊÊ, /

SqlCommand
ÊÊ0 :
(
ÊÊ: ;
$str
ÊÊ; Q
,
ÊÊQ R
cnn
ÊÊS V
)
ÊÊV W
)
ÊÊW X
{
ÁÁ 
cmd
ËË 
.
ËË 
CommandType
ËË '
=
ËË( )
CommandType
ËË* 5
.
ËË5 6
StoredProcedure
ËË6 E
;
ËËE F
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ &
.
ÍÍ& '
AddWithValue
ÍÍ' 3
(
ÍÍ3 4
$str
ÍÍ4 ?
,
ÍÍ? @
pMdsynPagosE
ÍÍA M
.
ÍÍM N
CodTipo
ÍÍN U
)
ÍÍU V
;
ÍÍV W
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ &
.
ÎÎ& '
AddWithValue
ÎÎ' 3
(
ÎÎ3 4
$str
ÎÎ4 H
,
ÎÎH I
pMdsynPagosE
ÎÎJ V
.
ÎÎV W
IdeMdsynReserva
ÎÎW f
)
ÎÎf g
;
ÎÎg h
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ &
.
ÏÏ& '
AddWithValue
ÏÏ' 3
(
ÏÏ3 4
$str
ÏÏ4 I
,
ÏÏI J
pMdsynPagosE
ÏÏK W
.
ÏÏW X
IdeCorrelReserva
ÏÏX h
)
ÏÏh i
;
ÏÏi j
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ &
.
ÌÌ& '
AddWithValue
ÌÌ' 3
(
ÌÌ3 4
$str
ÌÌ4 F
,
ÌÌF G
pMdsynPagosE
ÌÌH T
.
ÌÌT U
CodLiquidacion
ÌÌU c
)
ÌÌc d
;
ÌÌd e
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ &
.
ÓÓ& '
AddWithValue
ÓÓ' 3
(
ÓÓ3 4
$str
ÓÓ4 @
,
ÓÓ@ A
pMdsynPagosE
ÓÓB N
.
ÓÓN O
CodVenta
ÓÓO W
)
ÓÓW X
;
ÓÓX Y
cmd
 
.
 

Parameters
 &
.
& '
AddWithValue
' 3
(
3 4
$str
4 E
,
E F
pMdsynPagosE
G S
.
S T
CntMontoPago
T `
)
` a
;
a b
cmd
ÒÒ 
.
ÒÒ 

Parameters
ÒÒ &
.
ÒÒ& '
AddWithValue
ÒÒ' 3
(
ÒÒ3 4
$str
ÒÒ4 L
,
ÒÒL M
pMdsynPagosE
ÒÒN Z
.
ÒÒZ [!
IdeUniqueIdentifier
ÒÒ[ n
)
ÒÒn o
;
ÒÒo p
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ &
.
ÚÚ& '
AddWithValue
ÚÚ' 3
(
ÚÚ3 4
$str
ÚÚ4 H
,
ÚÚH I
pMdsynPagosE
ÚÚJ V
.
ÚÚV W
CodRptaSynapsis
ÚÚW f
)
ÚÚf g
;
ÚÚg h
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ &
.
ÛÛ& '
AddWithValue
ÛÛ' 3
(
ÛÛ3 4
$str
ÛÛ4 M
,
ÛÛM N
pMdsynPagosE
ÛÛO [
.
ÛÛ[ \!
UsrRegOrdenSynapsis
ÛÛ\ o
)
ÛÛo p
;
ÛÛp q
cmd
ÙÙ 
.
ÙÙ 

Parameters
ÙÙ &
.
ÙÙ& '
AddWithValue
ÙÙ' 3
(
ÙÙ3 4
$str
ÙÙ4 E
,
ÙÙE F
pMdsynPagosE
ÙÙG S
.
ÙÙS T
TxtJsonOrden
ÙÙT `
)
ÙÙ` a
;
ÙÙa b
cmd
ˆˆ 
.
ˆˆ 

Parameters
ˆˆ &
.
ˆˆ& '
AddWithValue
ˆˆ' 3
(
ˆˆ3 4
$str
ˆˆ4 A
,
ˆˆA B
pMdsynPagosE
ˆˆC O
.
ˆˆO P
	EstPagado
ˆˆP Y
)
ˆˆY Z
;
ˆˆZ [
cmd
˜˜ 
.
˜˜ 

Parameters
˜˜ &
.
˜˜& '
AddWithValue
˜˜' 3
(
˜˜3 4
$str
˜˜4 D
,
˜˜D E
pMdsynPagosE
˜˜F R
.
˜˜R S
NroOperacion
˜˜S _
)
˜˜_ `
;
˜˜` a
cmd
¯¯ 
.
¯¯ 

Parameters
¯¯ &
.
¯¯& '
AddWithValue
¯¯' 3
(
¯¯3 4
$str
¯¯4 B
,
¯¯B C
pMdsynPagosE
¯¯D P
.
¯¯P Q

TipTarjeta
¯¯Q [
)
¯¯[ \
;
¯¯\ ]
cmd
˘˘ 
.
˘˘ 

Parameters
˘˘ &
.
˘˘& '
AddWithValue
˘˘' 3
(
˘˘3 4
$str
˘˘4 B
,
˘˘B C
pMdsynPagosE
˘˘D P
.
˘˘P Q

NumTarjeta
˘˘Q [
)
˘˘[ \
;
˘˘\ ]
cmd
˙˙ 
.
˙˙ 

Parameters
˙˙ &
.
˙˙& '
AddWithValue
˙˙' 3
(
˙˙3 4
$str
˙˙4 D
,
˙˙D E
pMdsynPagosE
˙˙F R
.
˙˙R S
TxtJsonRpta
˙˙S ^
)
˙˙^ _
;
˙˙_ `
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ &
.
¸¸& '
AddWithValue
¸¸' 3
(
¸¸3 4
$str
¸¸4 D
,
¸¸D E
pMdsynPagosE
¸¸F R
.
¸¸R S
IdePagosBot
¸¸S ^
)
¸¸^ _
;
¸¸_ `
cmd
˝˝ 
.
˝˝ 

Parameters
˝˝ &
.
˝˝& '
AddWithValue
˝˝' 3
(
˝˝3 4
$str
˝˝4 <
,
˝˝< =
pMdsynPagosE
˝˝> J
.
˝˝J K
Orden
˝˝K P
)
˝˝P Q
;
˝˝Q R
cnn
˛˛ 
.
˛˛ 
Open
˛˛  
(
˛˛  !
)
˛˛! "
;
˛˛" #
if
ˇˇ 
(
ˇˇ 
cmd
ˇˇ 
.
ˇˇ  
ExecuteNonQuery
ˇˇ  /
(
ˇˇ/ 0
)
ˇˇ0 1
>=
ˇˇ2 4
$num
ˇˇ5 6
)
ˇˇ6 7
return
ÄÄ "
true
ÄÄ# '
;
ÄÄ' (
else
ÅÅ 
return
ÇÇ "
false
ÇÇ# (
;
ÇÇ( )
cmd
ÉÉ 
.
ÉÉ 
Dispose
ÉÉ #
(
ÉÉ# $
)
ÉÉ$ %
;
ÉÉ% &
cnn
ÑÑ 
.
ÑÑ 
Close
ÑÑ !
(
ÑÑ! "
)
ÑÑ" #
;
ÑÑ# $
cnn
ÖÖ 
.
ÖÖ 
Dispose
ÖÖ #
(
ÖÖ# $
)
ÖÖ$ %
;
ÖÖ% &
}
ÜÜ 
}
áá 
}
àà 
catch
ââ 
(
ââ 
	Exception
ââ 
ex
ââ 
)
ââ  
{
ää 
throw
ãã 
new
ãã 
	Exception
ãã #
(
ãã# $
ex
ãã$ &
.
ãã& '
Message
ãã' .
)
ãã. /
;
ãã/ 0
}
åå 
}
çç 	
public
èè 
bool
èè (
Sp_MdsynPagos_UpdatexCampo
èè .
(
èè. /
MdsynPagosE
èè/ :
pMdsynPagosE
èè; G
)
èèG H
{
êê 	
try
ëë 
{
íí 
using
ìì 
(
ìì 
SqlConnection
ìì $
cnn
ìì% (
=
ìì) *
new
ìì+ .
SqlConnection
ìì/ <
(
ìì< =
VariablesGlobales
ìì= N
.
ììN O

CnnClinica
ììO Y
)
ììY Z
)
ììZ [
{
îî 
using
ïï 
(
ïï 

SqlCommand
ïï %
cmd
ïï& )
=
ïï* +
new
ïï, /

SqlCommand
ïï0 :
(
ïï: ;
$str
ïï; W
,
ïïW X
cnn
ïïY \
)
ïï\ ]
)
ïï] ^
{
ññ 
cmd
óó 
.
óó 
CommandType
óó '
=
óó( )
CommandType
óó* 5
.
óó5 6
StoredProcedure
óó6 E
;
óóE F
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 D
,
ôôD E
pMdsynPagosE
ôôF R
.
ôôR S
IdePagosBot
ôôS ^
)
ôô^ _
;
ôô_ `
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 B
,
ööB C
pMdsynPagosE
ööD P
.
ööP Q

NuevoValor
ööQ [
)
öö[ \
;
öö\ ]
cmd
õõ 
.
õõ 

Parameters
õõ &
.
õõ& '
AddWithValue
õõ' 3
(
õõ3 4
$str
õõ4 <
,
õõ< =
pMdsynPagosE
õõ> J
.
õõJ K
Campo
õõK P
)
õõP Q
;
õõQ R
cnn
úú 
.
úú 
Open
úú  
(
úú  !
)
úú! "
;
úú" #
if
ùù 
(
ùù 
cmd
ùù 
.
ùù  
ExecuteNonQuery
ùù  /
(
ùù/ 0
)
ùù0 1
>=
ùù2 4
$num
ùù5 6
)
ùù6 7
return
ûû "
true
ûû# '
;
ûû' (
else
üü 
return
†† "
false
††# (
;
††( )
cmd
°° 
.
°° 
Dispose
°° #
(
°°# $
)
°°$ %
;
°°% &
cnn
¢¢ 
.
¢¢ 
Close
¢¢ !
(
¢¢! "
)
¢¢" #
;
¢¢# $
cnn
££ 
.
££ 
Dispose
££ #
(
££# $
)
££$ %
;
££% &
}
§§ 
}
•• 
}
¶¶ 
catch
ßß 
(
ßß 
	Exception
ßß 
ex
ßß 
)
ßß  
{
®® 
throw
©© 
new
©© 
	Exception
©© #
(
©©# $
ex
©©$ &
.
©©& '
Message
©©' .
)
©©. /
;
©©/ 0
}
™™ 
}
´´ 	
public
≠≠ 
bool
≠≠ "
Sp_MdsynPagos_Delete
≠≠ (
(
≠≠( )
MdsynPagosE
≠≠) 4
pMdsynPagosE
≠≠5 A
)
≠≠A B
{
ÆÆ 	
try
ØØ 
{
∞∞ 
using
±± 
(
±± 
SqlConnection
±± $
cnn
±±% (
=
±±) *
new
±±+ .
SqlConnection
±±/ <
(
±±< =
VariablesGlobales
±±= N
.
±±N O

CnnClinica
±±O Y
)
±±Y Z
)
±±Z [
{
≤≤ 
using
≥≥ 
(
≥≥ 

SqlCommand
≥≥ %
cmd
≥≥& )
=
≥≥* +
new
≥≥, /

SqlCommand
≥≥0 :
(
≥≥: ;
$str
≥≥; Q
,
≥≥Q R
cnn
≥≥S V
)
≥≥V W
)
≥≥W X
{
¥¥ 
cmd
µµ 
.
µµ 
CommandType
µµ '
=
µµ( )
CommandType
µµ* 5
.
µµ5 6
StoredProcedure
µµ6 E
;
µµE F
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ &
.
∑∑& '
AddWithValue
∑∑' 3
(
∑∑3 4
$str
∑∑4 D
,
∑∑D E
pMdsynPagosE
∑∑F R
.
∑∑R S
IdePagosBot
∑∑S ^
)
∑∑^ _
;
∑∑_ `
cnn
∏∏ 
.
∏∏ 
Open
∏∏  
(
∏∏  !
)
∏∏! "
;
∏∏" #
if
ππ 
(
ππ 
cmd
ππ 
.
ππ  
ExecuteNonQuery
ππ  /
(
ππ/ 0
)
ππ0 1
>=
ππ2 4
$num
ππ5 6
)
ππ6 7
return
∫∫ "
true
∫∫# '
;
∫∫' (
else
ªª 
return
ºº "
false
ºº# (
;
ºº( )
cmd
ΩΩ 
.
ΩΩ 
Dispose
ΩΩ #
(
ΩΩ# $
)
ΩΩ$ %
;
ΩΩ% &
cnn
ææ 
.
ææ 
Close
ææ !
(
ææ! "
)
ææ" #
;
ææ# $
cnn
øø 
.
øø 
Dispose
øø #
(
øø# $
)
øø$ %
;
øø% &
}
¿¿ 
}
¡¡ 
}
¬¬ 
catch
√√ 
(
√√ 
	Exception
√√ 
ex
√√ 
)
√√  
{
ƒƒ 
throw
≈≈ 
new
≈≈ 
	Exception
≈≈ #
(
≈≈# $
ex
≈≈$ &
.
≈≈& '
Message
≈≈' .
)
≈≈. /
;
≈≈/ 0
}
∆∆ 
}
«« 	
public
œœ 
List
œœ 
<
œœ 
MdsynPagosE
œœ 
>
œœ  )
Sp_MdsynPagos_Cita_Consulta
œœ! <
(
œœ< =
MdsynPagosE
œœ= H
pMdsynPagosE
œœI U
)
œœU V
{
–– 	
IDataReader
—— 
dr
—— 
;
—— 
MdsynPagosE
““ 
oMdsynPagosE
““ $
=
““% &
null
““' +
;
““j k
List
”” 
<
”” 
MdsynPagosE
”” 
>
”” 
oListar
”” %
=
””& '
new
””( +
List
””, 0
<
””0 1
MdsynPagosE
””1 <
>
””< =
(
””= >
)
””> ?
;
””? @
try
‘‘ 
{
’’ 
using
÷÷ 
(
÷÷ 
SqlConnection
÷÷ $
cnn
÷÷% (
=
÷÷) *
new
÷÷+ .
SqlConnection
÷÷/ <
(
÷÷< =
VariablesGlobales
÷÷= N
.
÷÷N O

CnnClinica
÷÷O Y
)
÷÷Y Z
)
÷÷Z [
{
◊◊ 
using
ÿÿ 
(
ÿÿ 

SqlCommand
ÿÿ %
cmd
ÿÿ& )
=
ÿÿ* +
new
ÿÿ, /

SqlCommand
ÿÿ0 :
(
ÿÿ: ;
$str
ÿÿ; X
,
ÿÿX Y
cnn
ÿÿZ ]
)
ÿÿ] ^
)
ÿÿ^ _
{
ŸŸ 
cmd
⁄⁄ 
.
⁄⁄ 
CommandType
⁄⁄ '
=
⁄⁄( )
CommandType
⁄⁄* 5
.
⁄⁄5 6
StoredProcedure
⁄⁄6 E
;
⁄⁄E F
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ &
.
‹‹& '
AddWithValue
‹‹' 3
(
‹‹3 4
$str
‹‹4 D
,
‹‹D E
pMdsynPagosE
‹‹F R
.
‹‹R S
IdePagosBot
‹‹S ^
)
‹‹^ _
;
‹‹_ `
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 ?
,
››? @
pMdsynPagosE
››A M
.
››M N
IdCita
››N T
)
››T U
;
››U V
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ &
.
‡‡& '
AddWithValue
‡‡' 3
(
‡‡3 4
$str
‡‡4 F
,
‡‡F G
pMdsynPagosE
‡‡H T
.
‡‡T U
CodLiquidacion
‡‡U c
)
‡‡c d
;
‡‡d e
cmd
·· 
.
·· 

Parameters
·· &
.
··& '
AddWithValue
··' 3
(
··3 4
$str
··4 @
,
··@ A
pMdsynPagosE
··B N
.
··N O
CodVenta
··O W
)
··W X
;
··X Y
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ &
.
‚‚& '
AddWithValue
‚‚' 3
(
‚‚3 4
$str
‚‚4 <
,
‚‚< =
pMdsynPagosE
‚‚> J
.
‚‚J K
Orden
‚‚K P
)
‚‚P Q
;
‚‚Q R
cnn
„„ 
.
„„ 
Open
„„  
(
„„  !
)
„„! "
;
„„" #
dr
‰‰ 
=
‰‰ 
cmd
‰‰  
.
‰‰  !
ExecuteReader
‰‰! .
(
‰‰. /
)
‰‰/ 0
;
‰‰0 1
while
ÂÂ 
(
ÂÂ 
dr
ÂÂ !
.
ÂÂ! "
Read
ÂÂ" &
(
ÂÂ& '
)
ÂÂ' (
)
ÂÂ( )
{
ÊÊ 
oMdsynPagosE
ÁÁ (
=
ÁÁ) *
LlenarEntidad
ÁÁ+ 8
(
ÁÁ8 9
dr
ÁÁ9 ;
,
ÁÁ; <
pMdsynPagosE
ÁÁ= I
)
ÁÁI J
;
ÁÁJ K
oListar
ËË #
.
ËË# $
Add
ËË$ '
(
ËË' (
oMdsynPagosE
ËË( 4
)
ËË4 5
;
ËË5 6
}
ÈÈ 
dr
ÍÍ 
.
ÍÍ 
Close
ÍÍ  
(
ÍÍ  !
)
ÍÍ! "
;
ÍÍ" #
dr
ÎÎ 
.
ÎÎ 
Dispose
ÎÎ "
(
ÎÎ" #
)
ÎÎ# $
;
ÎÎ$ %
cmd
ÏÏ 
.
ÏÏ 
Dispose
ÏÏ #
(
ÏÏ# $
)
ÏÏ$ %
;
ÏÏ% &
cnn
ÌÌ 
.
ÌÌ 
Close
ÌÌ !
(
ÌÌ! "
)
ÌÌ" #
;
ÌÌ# $
cnn
ÓÓ 
.
ÓÓ 
Dispose
ÓÓ #
(
ÓÓ# $
)
ÓÓ$ %
;
ÓÓ% &
return
 
oListar
 &
;
& '
}
ÒÒ 
}
ÚÚ 
}
ÛÛ 
catch
ÙÙ 
(
ÙÙ 
	Exception
ÙÙ 
ex
ÙÙ 
)
ÙÙ  
{
ıı 
throw
ˆˆ 
new
ˆˆ 
	Exception
ˆˆ #
(
ˆˆ# $
ex
ˆˆ$ &
.
ˆˆ& '
Message
ˆˆ' .
)
ˆˆ. /
;
ˆˆ/ 0
}
˜˜ 
}
¯¯ 	
public
˙˙ 
bool
˙˙ '
Sp_MdsynPagos_Cita_Insert
˙˙ -
(
˙˙- .
MdsynPagosE
˙˙. 9
pMdsynPagosE
˙˙: F
)
˙˙F G
{
˚˚ 	
try
¸¸ 
{
˝˝ 
using
˛˛ 
(
˛˛ 
SqlConnection
˛˛ $
cnn
˛˛% (
=
˛˛) *
new
˛˛+ .
SqlConnection
˛˛/ <
(
˛˛< =
VariablesGlobales
˛˛= N
.
˛˛N O

CnnClinica
˛˛O Y
)
˛˛Y Z
)
˛˛Z [
{
ˇˇ 
using
ÄÄ 
(
ÄÄ 

SqlCommand
ÄÄ %
cmd
ÄÄ& )
=
ÄÄ* +
new
ÄÄ, /

SqlCommand
ÄÄ0 :
(
ÄÄ: ;
$str
ÄÄ; V
,
ÄÄV W
cnn
ÄÄX [
)
ÄÄ[ \
)
ÄÄ\ ]
{
ÅÅ 
cmd
ÇÇ 
.
ÇÇ 
CommandType
ÇÇ '
=
ÇÇ( )
CommandType
ÇÇ* 5
.
ÇÇ5 6
StoredProcedure
ÇÇ6 E
;
ÇÇE F
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 ?
,
ÑÑ? @
pMdsynPagosE
ÑÑA M
.
ÑÑM N
CodTipo
ÑÑN U
)
ÑÑU V
;
ÑÑV W
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 ?
,
ÖÖ? @
pMdsynPagosE
ÖÖA M
.
ÖÖM N
IdCita
ÖÖN T
)
ÖÖT U
;
ÖÖU V
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 F
,
ààF G
pMdsynPagosE
ààH T
.
ààT U
CodLiquidacion
ààU c
)
ààc d
;
ààd e
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 @
,
ââ@ A
pMdsynPagosE
ââB N
.
ââN O
CodVenta
ââO W
)
ââW X
;
ââX Y
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 E
,
ääE F
pMdsynPagosE
ääG S
.
ääS T
CntMontoPago
ääT `
)
ää` a
;
ääa b
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
Add
èè' *
(
èè* +
VariablesGlobales
èè+ <
.
èè< =
ParametroSql
èè= I
(
èèI J
$str
èèJ Z
,
èèZ [ 
ParameterDirection
èè\ n
.
èèn o
InputOutput
èèo z
,
èèz {
	SqlDbTypeèè| Ö
.èèÖ Ü
BigIntèèÜ å
,èèå ç
$numèèé è
,èèè ê
pMdsynPagosEèèë ù
.èèù û
IdePagosBotèèû ©
.èè© ™
ToStringèè™ ≤
(èè≤ ≥
)èè≥ ¥
)èè¥ µ
)èèµ ∂
;èè∂ ∑
cnn
êê 
.
êê 
Open
êê  
(
êê  !
)
êê! "
;
êê" #
if
ëë 
(
ëë 
cmd
ëë 
.
ëë  
ExecuteNonQuery
ëë  /
(
ëë/ 0
)
ëë0 1
>=
ëë2 4
$num
ëë5 6
)
ëë6 7
{
íí 
pMdsynPagosE
ìì (
.
ìì( )
IdePagosBot
ìì) 4
=
ìì5 6
(
ìì7 8
long
ìì8 <
)
ìì< =
cmd
ìì= @
.
ìì@ A

Parameters
ììA K
[
ììK L
$str
ììL \
]
ìì\ ]
.
ìì] ^
Value
ìì^ c
;
ììc d
return
îî "
true
îî# '
;
îî' (
}
ïï 
else
ññ 
return
óó "
false
óó# (
;
óó( )
cmd
òò 
.
òò 
Dispose
òò #
(
òò# $
)
òò$ %
;
òò% &
cnn
ôô 
.
ôô 
Close
ôô !
(
ôô! "
)
ôô" #
;
ôô# $
cnn
öö 
.
öö 
Dispose
öö #
(
öö# $
)
öö$ %
;
öö% &
}
õõ 
}
úú 
}
ùù 
catch
ûû 
(
ûû 
	Exception
ûû 
ex
ûû 
)
ûû  
{
üü 
throw
†† 
new
†† 
	Exception
†† #
(
††# $
ex
††$ &
.
††& '
Message
††' .
)
††. /
;
††/ 0
}
°° 
}
¢¢ 	
public
§§ 
bool
§§ '
Sp_MdsynPagos_Cita_Update
§§ -
(
§§- .
MdsynPagosE
§§. 9
pMdsynPagosE
§§: F
)
§§F G
{
•• 	
try
¶¶ 
{
ßß 
using
®® 
(
®® 
SqlConnection
®® $
cnn
®®% (
=
®®) *
new
®®+ .
SqlConnection
®®/ <
(
®®< =
VariablesGlobales
®®= N
.
®®N O

CnnClinica
®®O Y
)
®®Y Z
)
®®Z [
{
©© 
using
™™ 
(
™™ 

SqlCommand
™™ %
cmd
™™& )
=
™™* +
new
™™, /

SqlCommand
™™0 :
(
™™: ;
$str
™™; V
,
™™V W
cnn
™™X [
)
™™[ \
)
™™\ ]
{
´´ 
cmd
¨¨ 
.
¨¨ 
CommandType
¨¨ '
=
¨¨( )
CommandType
¨¨* 5
.
¨¨5 6
StoredProcedure
¨¨6 E
;
¨¨E F
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 ?
,
ÆÆ? @
pMdsynPagosE
ÆÆA M
.
ÆÆM N
CodTipo
ÆÆN U
)
ÆÆU V
;
ÆÆV W
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
AddWithValue
±±' 3
(
±±3 4
$str
±±4 ?
,
±±? @
pMdsynPagosE
±±A M
.
±±M N
IdCita
±±N T
)
±±T U
;
±±U V
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ &
.
≤≤& '
AddWithValue
≤≤' 3
(
≤≤3 4
$str
≤≤4 F
,
≤≤F G
pMdsynPagosE
≤≤H T
.
≤≤T U
CodLiquidacion
≤≤U c
)
≤≤c d
;
≤≤d e
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ &
.
≥≥& '
AddWithValue
≥≥' 3
(
≥≥3 4
$str
≥≥4 @
,
≥≥@ A
pMdsynPagosE
≥≥B N
.
≥≥N O
CodVenta
≥≥O W
)
≥≥W X
;
≥≥X Y
cmd
µµ 
.
µµ 

Parameters
µµ &
.
µµ& '
AddWithValue
µµ' 3
(
µµ3 4
$str
µµ4 E
,
µµE F
pMdsynPagosE
µµG S
.
µµS T
CntMontoPago
µµT `
)
µµ` a
;
µµa b
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ &
.
∂∂& '
AddWithValue
∂∂' 3
(
∂∂3 4
$str
∂∂4 L
,
∂∂L M
pMdsynPagosE
∂∂N Z
.
∂∂Z [!
IdeUniqueIdentifier
∂∂[ n
)
∂∂n o
;
∂∂o p
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ &
.
∑∑& '
AddWithValue
∑∑' 3
(
∑∑3 4
$str
∑∑4 H
,
∑∑H I
pMdsynPagosE
∑∑J V
.
∑∑V W
CodRptaSynapsis
∑∑W f
)
∑∑f g
;
∑∑g h
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ &
.
∏∏& '
AddWithValue
∏∏' 3
(
∏∏3 4
$str
∏∏4 M
,
∏∏M N
pMdsynPagosE
∏∏O [
.
∏∏[ \!
UsrRegOrdenSynapsis
∏∏\ o
)
∏∏o p
;
∏∏p q
cmd
ππ 
.
ππ 

Parameters
ππ &
.
ππ& '
AddWithValue
ππ' 3
(
ππ3 4
$str
ππ4 E
,
ππE F
pMdsynPagosE
ππG S
.
ππS T
TxtJsonOrden
ππT `
)
ππ` a
;
ππa b
cmd
ªª 
.
ªª 

Parameters
ªª &
.
ªª& '
AddWithValue
ªª' 3
(
ªª3 4
$str
ªª4 A
,
ªªA B
pMdsynPagosE
ªªC O
.
ªªO P
	EstPagado
ªªP Y
)
ªªY Z
;
ªªZ [
cmd
ºº 
.
ºº 

Parameters
ºº &
.
ºº& '
AddWithValue
ºº' 3
(
ºº3 4
$str
ºº4 D
,
ººD E
pMdsynPagosE
ººF R
.
ººR S
NroOperacion
ººS _
)
ºº_ `
;
ºº` a
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ &
.
ΩΩ& '
AddWithValue
ΩΩ' 3
(
ΩΩ3 4
$str
ΩΩ4 B
,
ΩΩB C
pMdsynPagosE
ΩΩD P
.
ΩΩP Q

TipTarjeta
ΩΩQ [
)
ΩΩ[ \
;
ΩΩ\ ]
cmd
ææ 
.
ææ 

Parameters
ææ &
.
ææ& '
AddWithValue
ææ' 3
(
ææ3 4
$str
ææ4 B
,
ææB C
pMdsynPagosE
ææD P
.
ææP Q

NumTarjeta
ææQ [
)
ææ[ \
;
ææ\ ]
cmd
øø 
.
øø 

Parameters
øø &
.
øø& '
AddWithValue
øø' 3
(
øø3 4
$str
øø4 D
,
øøD E
pMdsynPagosE
øøF R
.
øøR S
TxtJsonRpta
øøS ^
)
øø^ _
;
øø_ `
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 D
,
¡¡D E
pMdsynPagosE
¡¡F R
.
¡¡R S
IdePagosBot
¡¡S ^
)
¡¡^ _
;
¡¡_ `
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ &
.
¬¬& '
AddWithValue
¬¬' 3
(
¬¬3 4
$str
¬¬4 <
,
¬¬< =
pMdsynPagosE
¬¬> J
.
¬¬J K
Orden
¬¬K P
)
¬¬P Q
;
¬¬Q R
cnn
√√ 
.
√√ 
Open
√√  
(
√√  !
)
√√! "
;
√√" #
if
ƒƒ 
(
ƒƒ 
cmd
ƒƒ 
.
ƒƒ  
ExecuteNonQuery
ƒƒ  /
(
ƒƒ/ 0
)
ƒƒ0 1
>=
ƒƒ2 4
$num
ƒƒ5 6
)
ƒƒ6 7
return
≈≈ "
true
≈≈# '
;
≈≈' (
else
∆∆ 
return
«« "
false
««# (
;
««( )
cmd
»» 
.
»» 
Dispose
»» #
(
»»# $
)
»»$ %
;
»»% &
cnn
…… 
.
…… 
Close
…… !
(
……! "
)
……" #
;
……# $
cnn
   
.
   
Dispose
   #
(
  # $
)
  $ %
;
  % &
}
ÀÀ 
}
ÃÃ 
}
ÕÕ 
catch
ŒŒ 
(
ŒŒ 
	Exception
ŒŒ 
ex
ŒŒ 
)
ŒŒ  
{
œœ 
throw
–– 
new
–– 
	Exception
–– #
(
––# $
ex
––$ &
.
––& '
Message
––' .
)
––. /
;
––/ 0
}
—— 
}
““ 	
}
’’ 
}÷÷ πç
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedisynAD\MdsynDatosPagosAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
	MedisynAD

 %
{ 
public 

class 
MdsynDatosPagosAD "
{ 

Utilitario 
util 
= 
new 

Utilitario (
(( )
)) *
;* +
public 
List 
< 
MdsynDatosPagosE $
>$ %,
 Sp_MdsynDatosPagos_Cita_Consulta& F
(F G
MdsynDatosPagosEG W
pMdsynDatosPagosEX i
)i j
{ 	
IDataReader 
dr 
; 
MdsynDatosPagosE 
oMdsynDatospagosE .
=/ 0
null1 5
;t u
List 
< 
MdsynDatosPagosE !
>! "
oListar# *
=+ ,
new- 0
List1 5
<5 6
MdsynDatosPagosE6 F
>F G
(G H
)H I
;I J
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; ]
,] ^
cnn_ b
)b c
)c d
{ 
cmd 
. 
CommandType '
=( )
CommandType* 5
.5 6
StoredProcedure6 E
;E F
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 D
,D E
pMdsynDatosPagosEF W
.W X
CodAseguradoX d
)d e
;e f
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 C
,C D
pMdsynDatosPagosEE V
.V W
CodPacienteW b
)b c
;c d
cmd   
.   

Parameters   &
.  & '
AddWithValue  ' 3
(  3 4
$str  4 J
,  J K
pMdsynDatosPagosE  L ]
.  ] ^
CodPacienteTitular  ^ p
)  p q
;  q r
cmd!! 
.!! 

Parameters!! &
.!!& '
AddWithValue!!' 3
(!!3 4
$str!!4 ?
,!!? @
pMdsynDatosPagosE!!A R
.!!R S
IdeCita!!S Z
)!!Z [
;!![ \
cmd"" 
."" 

Parameters"" &
.""& '
AddWithValue""' 3
(""3 4
$str""4 <
,""< =
pMdsynDatosPagosE""> O
.""O P
Orden""P U
)""U V
;""V W
cmd## 
.## 

Parameters## &
.##& '
AddWithValue##' 3
(##3 4
$str##4 ?
,##? @
pMdsynDatosPagosE##A R
.##R S
CodSede##S Z
)##Z [
;##[ \
cmd$$ 
.$$ 

Parameters$$ &
.$$& '
AddWithValue$$' 3
($$3 4
$str$$4 I
,$$I J
pMdsynDatosPagosE$$K \
.$$\ ]
NombresPacientes$$] m
)$$m n
;$$n o
cmd%% 
.%% 

Parameters%% &
.%%& '
AddWithValue%%' 3
(%%3 4
$str%%4 A
,%%A B
$str%%C E
)%%E F
;%%F G
cmd&& 
.&& 

Parameters&& &
.&&& '
AddWithValue&&' 3
(&&3 4
$str&&4 >
,&&> ?
$str&&@ B
)&&B C
;&&C D
cmd'' 
.'' 

Parameters'' &
.''& '
AddWithValue''' 3
(''3 4
$str''4 G
,''G H
pMdsynDatosPagosE''I Z
.''Z [
CodProfMedico''[ h
)''h i
;''i j
cnn)) 
.)) 
Open))  
())  !
)))! "
;))" #
dr** 
=** 
cmd**  
.**  !
ExecuteReader**! .
(**. /
)**/ 0
;**0 1
while++ 
(++ 
dr++ !
.++! "
Read++" &
(++& '
)++' (
)++( )
{,, 
oMdsynDatospagosE-- -
=--. /
LlenarEntidad--0 =
(--= >
dr--> @
,--@ A
pMdsynDatosPagosE--B S
)--S T
;--T U
oListar.. #
...# $
Add..$ '
(..' (
oMdsynDatospagosE..( 9
)..9 :
;..: ;
}// 
dr00 
.00 
Close00  
(00  !
)00! "
;00" #
dr11 
.11 
Dispose11 "
(11" #
)11# $
;11$ %
cmd22 
.22 
Dispose22 #
(22# $
)22$ %
;22% &
cnn33 
.33 
Close33 !
(33! "
)33" #
;33# $
cnn44 
.44 
Dispose44 #
(44# $
)44$ %
;44% &
return66 
oListar66 &
;66& '
}77 
}88 
}99 
catch:: 
(:: 
	Exception:: 
ex:: 
)::  
{;; 
throw<< 
new<< 
	Exception<< #
(<<# $
ex<<$ &
.<<& '
Message<<' .
)<<. /
;<</ 0
}== 
}>> 	
publicBB 
MdsynDatosPagosEBB 0
$Sp_MdsynDatosPagos_Cita_ConsultaBaseBB  D
(BBD E
intBBE H
ide_citaBBI Q
,BBQ R
intBBS V
ordenBBW \
)BB\ ]
{CC 	
IDataReaderDD 
drDD 
;DD 
MdsynDatosPagosEEE 
oMdsynDatospagosEEE .
=EE/ 0
newEE1 4
MdsynDatosPagosEEE5 E
(EEE F
)EEF G
;EEG H
oMdsynDatospagosEFF 
.FF 
OrdenFF #
=FF$ %
ordenFF& +
;FF+ ,
tryHH 
{II 
usingJJ 
(JJ 
SqlConnectionJJ $
cnnJJ% (
=JJ) *
newJJ+ .
SqlConnectionJJ/ <
(JJ< =
VariablesGlobalesJJ= N
.JJN O

CnnClinicaJJO Y
)JJY Z
)JJZ [
{KK 
usingLL 
(LL 

SqlCommandLL %
cmdLL& )
=LL* +
newLL, /

SqlCommandLL0 :
(LL: ;
$strLL; a
,LLa b
cnnLLc f
)LLf g
)LLg h
{MM 
cmdNN 
.NN 
CommandTypeNN '
=NN( )
CommandTypeNN* 5
.NN5 6
StoredProcedureNN6 E
;NNE F
cmdPP 
.PP 

ParametersPP &
.PP& '
AddWithValuePP' 3
(PP3 4
$strPP4 ?
,PP? @
ide_citaPPA I
)PPI J
;PPJ K
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddWithValueQQ' 3
(QQ3 4
$strQQ4 <
,QQ< =
ordenQQ> C
)QQC D
;QQD E
cnnRR 
.RR 
OpenRR  
(RR  !
)RR! "
;RR" #
drSS 
=SS 
cmdSS  
.SS  !
ExecuteReaderSS! .
(SS. /
)SS/ 0
;SS0 1
whileTT 
(TT 
drTT !
.TT! "
ReadTT" &
(TT& '
)TT' (
)TT( )
{UU 
oMdsynDatospagosEVV -
=VV. /
LlenarEntidadVV0 =
(VV= >
drVV> @
,VV@ A
oMdsynDatospagosEVVB S
)VVS T
;VVT U
}WW 
drXX 
.XX 
CloseXX  
(XX  !
)XX! "
;XX" #
drYY 
.YY 
DisposeYY "
(YY" #
)YY# $
;YY$ %
cmdZZ 
.ZZ 
DisposeZZ #
(ZZ# $
)ZZ$ %
;ZZ% &
cnn[[ 
.[[ 
Close[[ !
([[! "
)[[" #
;[[# $
cnn\\ 
.\\ 
Dispose\\ #
(\\# $
)\\$ %
;\\% &
return^^ 
oMdsynDatospagosE^^ 0
;^^0 1
}__ 
}`` 
}aa 
catchbb 
(bb 
	Exceptionbb 
exbb 
)bb  
{cc 
throwdd 
newdd 
	Exceptiondd #
(dd# $
exdd$ &
.dd& '
Messagedd' .
)dd. /
;dd/ 0
}ee 
}ff 	
privatekk 
MdsynDatosPagosEkk  
LlenarEntidadkk! .
(kk. /
IDataReaderkk/ :
drkk; =
,kk= >
MdsynDatosPagosEkk? O
pMdsynDatospagosEkkP a
)kka b
{ll 	
MdsynDatosPagosEmm 
oMdsynDatospagosEmm .
=mm/ 0
newmm1 4
MdsynDatosPagosEmm5 E
(mmE F
)mmF G
;mmG H
{nn 
varoo 
	withBlockoo 
=oo 
oMdsynDatospagosEoo  1
;oo1 2
switchpp 
(pp 
pMdsynDatospagosEpp )
.pp) *
Ordenpp* /
)pp/ 0
{qq 
caserr 
$numrr 
:rr 
{ss 
	withBlocktt %
.tt% &
IdeCorrelreservatt& 6
=tt7 8
(tt9 :
inttt: =
)tt= >
drtt> @
[tt@ A
$strttA T
]ttT U
;ttU V
breakuu !
;uu! "
}vv 
casexx 
$numxx 
:xx 
caseyy 
$numyy 
:yy 
{zz 
	withBlock{{ %
.{{% &
IdeDatospagos{{& 3
={{4 5
({{6 7
int{{7 :
){{: ;
dr{{; =
[{{= >
$str{{> N
]{{N O
;{{O P
	withBlock|| %
.||% &
CodAsegurado||& 2
=||3 4
(||5 6
string||6 <
)||< =
dr||= ?
[||? @
$str||@ O
]||O P
;||P Q
	withBlock}} %
.}}% &
TipDocumento}}& 2
=}}3 4
(}}5 6
string}}6 <
)}}< =
dr}}= ?
[}}? @
$str}}@ O
]}}O P
;}}P Q
	withBlock~~ %
.~~% &
NumDocumento~~& 2
=~~3 4
(~~5 6
string~~6 <
)~~< =
dr~~= ?
[~~? @
$str~~@ O
]~~O P
;~~P Q
	withBlock %
.% &
TipPrt& ,
=- .
(/ 0
string0 6
)6 7
dr7 9
[9 :
$str: C
]C D
;D E
	withBlock
ÄÄ %
.
ÄÄ% &
TipParentesco
ÄÄ& 3
=
ÄÄ4 5
(
ÄÄ6 7
string
ÄÄ7 =
)
ÄÄ= >
dr
ÄÄ> @
[
ÄÄ@ A
$str
ÄÄA Q
]
ÄÄQ R
;
ÄÄR S
	withBlock
ÅÅ %
.
ÅÅ% &
NroPlan
ÅÅ& -
=
ÅÅ. /
(
ÅÅ0 1
string
ÅÅ1 7
)
ÅÅ7 8
dr
ÅÅ8 :
[
ÅÅ: ;
$str
ÅÅ; E
]
ÅÅE F
;
ÅÅF G
	withBlock
ÇÇ %
.
ÇÇ% &
TipDocempresa
ÇÇ& 3
=
ÇÇ4 5
(
ÇÇ6 7
string
ÇÇ7 =
)
ÇÇ= >
dr
ÇÇ> @
[
ÇÇ@ A
$str
ÇÇA Q
]
ÇÇQ R
;
ÇÇR S
	withBlock
ÉÉ %
.
ÉÉ% &
NumDocempresa
ÉÉ& 3
=
ÉÉ4 5
(
ÉÉ6 7
string
ÉÉ7 =
)
ÉÉ= >
dr
ÉÉ> @
[
ÉÉ@ A
$str
ÉÉA Q
]
ÉÉQ R
;
ÉÉR S
	withBlock
ÑÑ %
.
ÑÑ% &
FecNacimiento
ÑÑ& 3
=
ÑÑ4 5
util
ÑÑ6 :
.
ÑÑ: ;
ValFecha
ÑÑ; C
(
ÑÑC D
dr
ÑÑD F
[
ÑÑF G
$str
ÑÑG W
]
ÑÑW X
.
ÑÑX Y
ToString
ÑÑY a
(
ÑÑa b
)
ÑÑb c
)
ÑÑc d
;
ÑÑd e
	withBlock
ÖÖ %
.
ÖÖ% &
FecIniciovigencia
ÖÖ& 7
=
ÖÖ8 9
util
ÖÖ: >
.
ÖÖ> ?
ValFecha
ÖÖ? G
(
ÖÖG H
dr
ÖÖH J
[
ÖÖJ K
$str
ÖÖK _
]
ÖÖ_ `
.
ÖÖ` a
ToString
ÖÖa i
(
ÖÖi j
)
ÖÖj k
)
ÖÖk l
;
ÖÖl m
	withBlock
ÜÜ %
.
ÜÜ% &
FecAfilicacion
ÜÜ& 4
=
ÜÜ5 6
util
ÜÜ7 ;
.
ÜÜ; <
ValFecha
ÜÜ< D
(
ÜÜD E
dr
ÜÜE G
[
ÜÜG H
$str
ÜÜH Y
]
ÜÜY Z
.
ÜÜZ [
ToString
ÜÜ[ c
(
ÜÜc d
)
ÜÜd e
)
ÜÜe f
;
ÜÜf g
	withBlock
áá %
.
áá% &
CodCobertura
áá& 2
=
áá3 4
(
áá5 6
string
áá6 <
)
áá< =
dr
áá= ?
[
áá? @
$str
áá@ O
]
ááO P
;
ááP Q
	withBlock
àà %
.
àà% &

CoPagofijo
àà& 0
=
àà1 2
(
àà3 4
decimal
àà4 ;
)
àà; <
dr
àà< >
[
àà> ?
$str
àà? L
]
ààL M
;
ààM N
	withBlock
ââ %
.
ââ% &
CoPagovariable
ââ& 4
=
ââ5 6
(
ââ7 8
decimal
ââ8 ?
)
ââ? @
dr
ââ@ B
[
ââB C
$str
ââC T
]
ââT U
;
ââU V
	withBlock
ää %
.
ää% &
	TipMoneda
ää& /
=
ää0 1
(
ää2 3
string
ää3 9
)
ää9 :
dr
ää: <
[
ää< =
$str
ää= I
]
ääI J
;
ääJ K
	withBlock
ãã %
.
ãã% &
IdeCita
ãã& -
=
ãã. /
(
ãã0 1
int
ãã1 4
)
ãã4 5
dr
ãã5 7
[
ãã7 8
$str
ãã8 B
]
ããB C
;
ããC D
	withBlock
åå %
.
åå% &
CodPaciente
åå& 1
=
åå2 3
(
åå4 5
string
åå5 ;
)
åå; <
dr
åå< >
[
åå> ?
$str
åå? M
]
ååM N
;
ååN O
	withBlock
çç %
.
çç% & 
CodPacienteTitular
çç& 8
=
çç9 :
(
çç; <
string
çç< B
)
ççB C
dr
ççC E
[
ççE F
$str
ççF \
]
çç\ ]
;
çç] ^
	withBlock
éé %
.
éé% &
TipAtencion
éé& 1
=
éé2 3
(
éé4 5
string
éé5 ;
)
éé; <
dr
éé< >
[
éé> ?
$str
éé? M
]
ééM N
;
ééN O
	withBlock
èè %
.
èè% &
CodAseguradora
èè& 4
=
èè5 6
(
èè7 8
string
èè8 >
)
èè> ?
dr
èè? A
[
èèA B
$str
èèB S
]
èèS T
;
èèT U
	withBlock
êê %
.
êê% &
NombresPacientes
êê& 6
=
êê7 8
(
êê9 :
string
êê: @
)
êê@ A
dr
êêA C
[
êêC D
$str
êêD N
]
êêN O
+
êêP Q
$str
êêR T
;
êêT U
	withBlock
ëë %
.
ëë% &$
NombresPacienteTitular
ëë& <
=
ëë= >
(
ëë? @
string
ëë@ F
)
ëëF G
dr
ëëG I
[
ëëI J
$str
ëëJ \
]
ëë\ ]
+
ëë^ _
$str
ëë` b
;
ëëb c
	withBlock
íí %
.
íí% &
DscAseguradora
íí& 4
=
íí5 6
(
íí7 8
string
íí8 >
)
íí> ?
dr
íí? A
[
ííA B
$str
ííB S
]
ííS T
+
ííU V
$str
ííW Y
;
ííY Z
	withBlock
ìì %
.
ìì% &
Sexo
ìì& *
=
ìì+ ,
(
ìì- .
string
ìì. 4
)
ìì4 5
dr
ìì5 7
[
ìì7 8
$str
ìì8 >
]
ìì> ?
+
ìì@ A
$str
ììB D
;
ììD E
	withBlock
îî %
.
îî% &
CardCode
îî& .
=
îî/ 0
(
îî1 2
string
îî2 8
)
îî8 9
dr
îî9 ;
[
îî; <
$str
îî< F
]
îîF G
+
îîH I
$str
îîJ L
;
îîL M
	withBlock
ïï %
.
ïï% &
	DscCorreo
ïï& /
=
ïï0 1
(
ïï2 3
string
ïï3 9
)
ïï9 :
dr
ïï: <
[
ïï< =
$str
ïï= D
]
ïïD E
+
ïïF G
$str
ïïH J
;
ïïJ K
	withBlock
ññ %
.
ññ% &
CodCia
ññ& ,
=
ññ- .
(
ññ/ 0
string
ññ0 6
)
ññ6 7
dr
ññ7 9
[
ññ9 :
$str
ññ: C
]
ññC D
+
ññE F
$str
ññG I
;
ññI J
	withBlock
óó %
.
óó% &
CodSede
óó& -
=
óó. /
(
óó0 1
string
óó1 7
)
óó7 8
dr
óó8 :
[
óó: ;
$str
óó; E
]
óóE F
+
óóG H
$str
óóI K
;
óóK L
	withBlock
òò %
.
òò% &
	CodSunasa
òò& /
=
òò0 1
(
òò2 3
string
òò3 9
)
òò9 :
dr
òò: <
[
òò< =
$str
òò= N
]
òòN O
+
òòP Q
$str
òòR T
;
òòT U
	withBlock
ôô %
.
ôô% &
CodIAFAS
ôô& .
=
ôô/ 0
(
ôô1 2
string
ôô2 8
)
ôô8 9
dr
ôô9 ;
[
ôô; <
$str
ôô< G
]
ôôG H
+
ôôI J
$str
ôôK M
;
ôôM N
	withBlock
öö %
.
öö% &
DscObservaciones
öö& 6
=
öö7 8
(
öö9 :
string
öö: @
)
öö@ A
dr
ööA C
[
ööC D
$str
ööD W
]
ööW X
+
ööY Z
$str
öö[ ]
;
öö] ^
	withBlock
úú %
.
úú% &
CodProfMedico
úú& 3
=
úú4 5
(
úú6 7
string
úú7 =
)
úú= >
dr
úú> @
[
úú@ A
$str
úúA Q
]
úúQ R
+
úúS T
$str
úúU W
;
úúW X
	withBlock
ùù %
.
ùù% &
	CodMedico
ùù& /
=
ùù0 1
(
ùù2 3
string
ùù3 9
)
ùù9 :
dr
ùù: <
[
ùù< =
$str
ùù= I
]
ùùI J
+
ùùK L
$str
ùùM O
;
ùùO P
	withBlock
üü %
.
üü% &
	Direccion
üü& /
=
üü0 1
(
üü2 3
string
üü3 9
)
üü9 :
dr
üü: <
[
üü< =
$str
üü= H
]
üüH I
+
üüJ K
$str
üüL N
;
üüN O
	withBlock
†† %
.
††% &
NroOperacion
††& 2
=
††3 4
(
††5 6
string
††6 <
)
††< =
dr
††= ?
[
††? @
$str
††@ O
]
††O P
+
††Q R
$str
††S U
;
††U V
	withBlock
°° %
.
°°% &

CodEntidad
°°& 0
=
°°1 2
(
°°3 4
string
°°4 :
)
°°: ;
dr
°°; =
[
°°= >
$str
°°> K
]
°°K L
+
°°M N
$str
°°O Q
;
°°Q R
	withBlock
¢¢ %
.
¢¢% &
FecCita
¢¢& -
=
¢¢. /
util
¢¢0 4
.
¢¢4 5
ValFecha
¢¢5 =
(
¢¢= >
dr
¢¢> @
[
¢¢@ A
$str
¢¢A K
]
¢¢K L
.
¢¢L M
ToString
¢¢M U
(
¢¢U V
)
¢¢V W
)
¢¢W X
;
¢¢X Y
	withBlock
££ %
.
££% &
CodEspecialidad
££& 5
=
££6 7
(
££8 9
string
££9 ?
)
££? @
dr
££@ B
[
££B C
$str
££C U
]
££U V
+
££W X
$str
££Y [
;
££[ \
	withBlock
§§ %
.
§§% & 
EstProcesoAtencion
§§& 8
=
§§9 :
int
§§; >
.
§§> ?
Parse
§§? D
(
§§D E
dr
§§E G
[
§§G H
$str
§§H ^
]
§§^ _
.
§§_ `
ToString
§§` h
(
§§h i
)
§§i j
)
§§j k
;
§§k l
	withBlock
•• %
.
••% &
CodAtencion
••& 1
=
••2 3
(
••4 5
string
••5 ;
)
••; <
dr
••< >
[
••> ?
$str
••? M
]
••M N
;
••N O
	withBlock
¶¶ %
.
¶¶% &
CodLiquidacion
¶¶& 4
=
¶¶5 6
(
¶¶7 8
string
¶¶8 >
)
¶¶> ?
dr
¶¶? A
[
¶¶A B
$str
¶¶B S
]
¶¶S T
;
¶¶T U
	withBlock
ßß %
.
ßß% &
CodComprobante
ßß& 4
=
ßß5 6
(
ßß7 8
string
ßß8 >
)
ßß> ?
dr
ßß? A
[
ßßA B
$str
ßßB S
]
ßßS T
;
ßßT U
	withBlock
®® %
.
®®% &
EstConsultaMedica
®®& 7
=
®®8 9
(
®®: ;
string
®®; A
)
®®A B
dr
®®B D
[
®®D E
$str
®®E Z
]
®®Z [
;
®®[ \
	withBlock
™™ %
.
™™% &
ApPaternoPaciente
™™& 7
=
™™8 9
(
™™: ;
string
™™; A
)
™™A B
dr
™™B D
[
™™D E
$str
™™E P
]
™™P Q
;
™™Q R
	withBlock
´´ %
.
´´% &
ApMaternoPaciente
´´& 7
=
´´8 9
(
´´: ;
string
´´; A
)
´´A B
dr
´´B D
[
´´D E
$str
´´E P
]
´´P Q
;
´´Q R
	withBlock
¨¨ %
.
¨¨% &
NombrePaciente
¨¨& 4
=
¨¨5 6
(
¨¨7 8
string
¨¨8 >
)
¨¨> ?
dr
¨¨? A
[
¨¨A B
$str
¨¨B J
]
¨¨J K
;
¨¨K L
	withBlock
ÆÆ %
.
ÆÆ% &"
Comp_TipoComprobante
ÆÆ& :
=
ÆÆ; <
(
ÆÆ= >
string
ÆÆ> D
)
ÆÆD E
dr
ÆÆE G
[
ÆÆG H
$str
ÆÆH ^
]
ÆÆ^ _
;
ÆÆ_ `
	withBlock
ØØ %
.
ØØ% &"
Comp_TipDocIdentidad
ØØ& :
=
ØØ; <
(
ØØ= >
string
ØØ> D
)
ØØD E
dr
ØØE G
[
ØØG H
$str
ØØH [
]
ØØ[ \
;
ØØ\ ]
	withBlock
∞∞ %
.
∞∞% &"
Comp_RutDocIdentidad
∞∞& :
=
∞∞; <
(
∞∞= >
string
∞∞> D
)
∞∞D E
dr
∞∞E G
[
∞∞G H
$str
∞∞H W
]
∞∞W X
;
∞∞X Y
	withBlock
±± %
.
±±% &
Comp_DscTabla
±±& 3
=
±±4 5
(
±±6 7
string
±±7 =
)
±±= >
dr
±±> @
[
±±@ A
$str
±±A L
]
±±L M
;
±±M N
	withBlock
≤≤ %
.
≤≤% &
Comp_Correo
≤≤& 1
=
≤≤2 3
(
≤≤4 5
string
≤≤5 ;
)
≤≤; <
dr
≤≤< >
[
≤≤> ?
$str
≤≤? W
]
≤≤W X
;
≤≤X Y
	withBlock
≥≥ %
.
≥≥% & 
NombresComprobante
≥≥& 8
=
≥≥9 :
(
≥≥; <
string
≥≥< B
)
≥≥B C
dr
≥≥C E
[
≥≥E F
$str
≥≥F [
]
≥≥[ \
;
≥≥\ ]
	withBlock
¥¥ %
.
¥¥% &#
CodTipoConsultaMedica
¥¥& ;
=
¥¥< =
(
¥¥> ?
string
¥¥? E
)
¥¥E F
dr
¥¥F H
[
¥¥H I
$str
¥¥I c
]
¥¥c d
;
¥¥d e
break
µµ !
;
µµ! "
}
∂∂ 
case
∏∏ 
$num
∏∏ 
:
∏∏ 
{
ππ 
	withBlock
∫∫ %
.
∫∫% &
CodAtencion
∫∫& 1
=
∫∫2 3
(
∫∫4 5
string
∫∫5 ;
)
∫∫; <
(
∫∫< =
dr
∫∫= ?
[
∫∫? @
$str
∫∫@ N
]
∫∫N O
+
∫∫P Q
$str
∫∫R T
)
∫∫T U
.
∫∫U V
Trim
∫∫V Z
(
∫∫Z [
)
∫∫[ \
;
∫∫\ ]
	withBlock
ªª %
.
ªª% &
NombresPacientes
ªª& 6
=
ªª7 8
(
ªª9 :
string
ªª: @
)
ªª@ A
(
ªªA B
dr
ªªB D
[
ªªD E
$str
ªªE O
]
ªªO P
+
ªªQ R
$str
ªªS U
)
ªªU V
.
ªªV W
Trim
ªªW [
(
ªª[ \
)
ªª\ ]
;
ªª] ^
	withBlock
ºº %
.
ºº% &
CodComprobante
ºº& 4
=
ºº5 6
(
ºº7 8
string
ºº8 >
)
ºº> ?
(
ºº? @
dr
ºº@ B
[
ººB C
$str
ººC S
]
ººS T
+
ººU V
$str
ººW Y
)
ººY Z
.
ººZ [
Trim
ºº[ _
(
ºº_ `
)
ºº` a
;
ººa b
	withBlock
ΩΩ %
.
ΩΩ% &
FechaQR
ΩΩ& -
=
ΩΩ. /
(
ΩΩ0 1
string
ΩΩ1 7
)
ΩΩ7 8
dr
ΩΩ8 :
[
ΩΩ: ;
$str
ΩΩ; D
]
ΩΩD E
;
ΩΩE F
break
ææ !
;
ææ! "
}
øø 
case
¡¡ 
$num
¡¡ 
:
¡¡ 
{
¬¬ 
	withBlock
√√ %
.
√√% &
IdeDatospagos
√√& 3
=
√√4 5
(
√√6 7
int
√√7 :
)
√√: ;
dr
√√; =
[
√√= >
$str
√√> N
]
√√N O
;
√√O P
	withBlock
ƒƒ %
.
ƒƒ% &
IdeCorrelreserva
ƒƒ& 6
=
ƒƒ7 8
(
ƒƒ9 :
int
ƒƒ: =
)
ƒƒ= >
dr
ƒƒ> @
[
ƒƒ@ A
$str
ƒƒA T
]
ƒƒT U
;
ƒƒU V
	withBlock
≈≈ %
.
≈≈% &
CodComprobante
≈≈& 4
=
≈≈5 6
(
≈≈7 8
string
≈≈8 >
)
≈≈> ?
(
≈≈? @
dr
≈≈@ B
[
≈≈B C
$str
≈≈C T
]
≈≈T U
+
≈≈V W
$str
≈≈X Z
)
≈≈Z [
.
≈≈[ \
Trim
≈≈\ `
(
≈≈` a
)
≈≈a b
;
≈≈b c
	withBlock
∆∆ %
.
∆∆% &
CodAtencion
∆∆& 1
=
∆∆2 3
(
∆∆4 5
string
∆∆5 ;
)
∆∆; <
(
∆∆< =
dr
∆∆= ?
[
∆∆? @
$str
∆∆@ N
]
∆∆N O
+
∆∆P Q
$str
∆∆R T
)
∆∆T U
.
∆∆U V
Trim
∆∆V Z
(
∆∆Z [
)
∆∆[ \
;
∆∆\ ]
	withBlock
«« %
.
««% &
CodLiquidacion
««& 4
=
««5 6
(
««7 8
string
««8 >
)
««> ?
(
««? @
dr
««@ B
[
««B C
$str
««C T
]
««T U
+
««V W
$str
««X Z
)
««Z [
.
««[ \
Trim
««\ `
(
««` a
)
««a b
;
««b c
	withBlock
»» %
.
»»% &

CoPagofijo
»»& 0
=
»»1 2
(
»»3 4
decimal
»»4 ;
)
»»; <
dr
»»< >
[
»»> ?
$str
»»? L
]
»»L M
;
»»M N
break
…… !
;
……! "
}
   
case
ÃÃ 
$num
ÃÃ 
:
ÃÃ 
{
ÕÕ 
	withBlock
ŒŒ %
.
ŒŒ% &
IdeDatospagos
ŒŒ& 3
=
ŒŒ4 5
(
ŒŒ6 7
int
ŒŒ7 :
)
ŒŒ: ;
dr
ŒŒ; =
[
ŒŒ= >
$str
ŒŒ> N
]
ŒŒN O
;
ŒŒO P
	withBlock
œœ %
.
œœ% &
IdeCorrelreserva
œœ& 6
=
œœ7 8
(
œœ9 :
int
œœ: =
)
œœ= >
dr
œœ> @
[
œœ@ A
$str
œœA T
]
œœT U
;
œœU V
	withBlock
–– %
.
––% &
FlgRecepcion
––& 2
=
––3 4
(
––5 6
string
––6 <
)
––< =
dr
––= ?
[
––? @
$str
––@ O
]
––O P
;
––P Q
break
—— !
;
——! "
}
““ 
case
‘‘ 
$num
‘‘ 
:
‘‘ 
{
’’ 
	withBlock
ÿÿ %
.
ÿÿ% &
	CodMedico
ÿÿ& /
=
ÿÿ0 1
(
ÿÿ2 3
string
ÿÿ3 9
)
ÿÿ9 :
dr
ÿÿ: <
[
ÿÿ< =
$str
ÿÿ= H
]
ÿÿH I
;
ÿÿI J
	withBlock
ŸŸ %
.
ŸŸ% &
EstPagoExitoso
ŸŸ& 4
=
ŸŸ5 6
(
ŸŸ7 8
string
ŸŸ8 >
)
ŸŸ> ?
dr
ŸŸ? A
[
ŸŸA B
$str
ŸŸB S
]
ŸŸS T
;
ŸŸT U
	withBlock
€€ %
.
€€% &#
CodTipoConsultaMedica
€€& ;
=
€€< =
(
€€> ?
string
€€? E
)
€€E F
dr
€€F H
[
€€H I
$str
€€I c
]
€€c d
;
€€d e
	withBlock
‹‹ %
.
‹‹% &
PuedePagarCita
‹‹& 4
=
‹‹5 6
(
‹‹7 8
string
‹‹8 >
)
‹‹> ?
dr
‹‹? A
[
‹‹A B
$str
‹‹B T
]
‹‹T U
;
‹‹U V
	withBlock
ﬁﬁ %
.
ﬁﬁ% &

SedeFisica
ﬁﬁ& 0
=
ﬁﬁ1 2
(
ﬁﬁ3 4
string
ﬁﬁ4 :
)
ﬁﬁ: ;
dr
ﬁﬁ; =
[
ﬁﬁ= >
$str
ﬁﬁ> O
]
ﬁﬁO P
;
ﬁﬁP Q
	withBlock
ﬂﬂ %
.
ﬂﬂ% &
TipoAtencion
ﬂﬂ& 2
=
ﬂﬂ3 4
(
ﬂﬂ5 6
string
ﬂﬂ6 <
)
ﬂﬂ< =
dr
ﬂﬂ= ?
[
ﬂﬂ? @
$str
ﬂﬂ@ O
]
ﬂﬂO P
;
ﬂﬂP Q
	withBlock
‡‡ %
.
‡‡% &
DscSede
‡‡& -
=
‡‡. /
(
‡‡0 1
string
‡‡1 7
)
‡‡7 8
dr
‡‡8 :
[
‡‡: ;
$str
‡‡; E
]
‡‡E F
;
‡‡F G
	withBlock
·· %
.
··% &
Reprogramar
··& 1
=
··2 3
(
··4 5
string
··5 ;
)
··; <
dr
··< >
[
··> ?
$str
··? P
]
··P Q
;
··Q R
break
‚‚ !
;
‚‚! "
}
„„ 
case
ÂÂ 
$num
ÂÂ 
:
ÂÂ 
{
ÊÊ 
	withBlock
ÁÁ %
.
ÁÁ% &
IdeDatospagos
ÁÁ& 3
=
ÁÁ4 5
(
ÁÁ6 7
int
ÁÁ7 :
)
ÁÁ: ;
dr
ÁÁ; =
[
ÁÁ= >
$str
ÁÁ> N
]
ÁÁN O
;
ÁÁO P
	withBlock
ËË %
.
ËË% &
CodAsegurado
ËË& 2
=
ËË3 4
(
ËË5 6
string
ËË6 <
)
ËË< =
dr
ËË= ?
[
ËË? @
$str
ËË@ O
]
ËËO P
;
ËËP Q
	withBlock
ÈÈ %
.
ÈÈ% &
TipDocumento
ÈÈ& 2
=
ÈÈ3 4
(
ÈÈ5 6
string
ÈÈ6 <
)
ÈÈ< =
dr
ÈÈ= ?
[
ÈÈ? @
$str
ÈÈ@ O
]
ÈÈO P
;
ÈÈP Q
	withBlock
ÍÍ %
.
ÍÍ% &
NumDocumento
ÍÍ& 2
=
ÍÍ3 4
(
ÍÍ5 6
string
ÍÍ6 <
)
ÍÍ< =
dr
ÍÍ= ?
[
ÍÍ? @
$str
ÍÍ@ O
]
ÍÍO P
;
ÍÍP Q
	withBlock
ÎÎ %
.
ÎÎ% &
TipPrt
ÎÎ& ,
=
ÎÎ- .
(
ÎÎ/ 0
string
ÎÎ0 6
)
ÎÎ6 7
dr
ÎÎ7 9
[
ÎÎ9 :
$str
ÎÎ: C
]
ÎÎC D
;
ÎÎD E
	withBlock
ÏÏ %
.
ÏÏ% &
TipParentesco
ÏÏ& 3
=
ÏÏ4 5
(
ÏÏ6 7
string
ÏÏ7 =
)
ÏÏ= >
dr
ÏÏ> @
[
ÏÏ@ A
$str
ÏÏA Q
]
ÏÏQ R
;
ÏÏR S
	withBlock
ÌÌ %
.
ÌÌ% &
NroPlan
ÌÌ& -
=
ÌÌ. /
(
ÌÌ0 1
string
ÌÌ1 7
)
ÌÌ7 8
dr
ÌÌ8 :
[
ÌÌ: ;
$str
ÌÌ; E
]
ÌÌE F
;
ÌÌF G
	withBlock
ÓÓ %
.
ÓÓ% &
TipDocempresa
ÓÓ& 3
=
ÓÓ4 5
(
ÓÓ6 7
string
ÓÓ7 =
)
ÓÓ= >
dr
ÓÓ> @
[
ÓÓ@ A
$str
ÓÓA Q
]
ÓÓQ R
;
ÓÓR S
	withBlock
ÔÔ %
.
ÔÔ% &
NumDocempresa
ÔÔ& 3
=
ÔÔ4 5
(
ÔÔ6 7
string
ÔÔ7 =
)
ÔÔ= >
dr
ÔÔ> @
[
ÔÔ@ A
$str
ÔÔA Q
]
ÔÔQ R
;
ÔÔR S
	withBlock
 %
.
% &
FecNacimiento
& 3
=
4 5
util
6 :
.
: ;
ValFecha
; C
(
C D
(
D E
string
E K
)
K L
dr
L N
[
N O
$str
O _
]
_ `
)
` a
;
a b
	withBlock
ÒÒ %
.
ÒÒ% &
FecIniciovigencia
ÒÒ& 7
=
ÒÒ8 9
util
ÒÒ: >
.
ÒÒ> ?
ValFecha
ÒÒ? G
(
ÒÒG H
(
ÒÒH I
string
ÒÒI O
)
ÒÒO P
dr
ÒÒP R
[
ÒÒR S
$str
ÒÒS g
]
ÒÒg h
)
ÒÒh i
;
ÒÒi j
	withBlock
ÚÚ %
.
ÚÚ% &
FecAfilicacion
ÚÚ& 4
=
ÚÚ5 6
util
ÚÚ7 ;
.
ÚÚ; <
ValFecha
ÚÚ< D
(
ÚÚD E
(
ÚÚE F
string
ÚÚF L
)
ÚÚL M
dr
ÚÚM O
[
ÚÚO P
$str
ÚÚP a
]
ÚÚa b
)
ÚÚb c
;
ÚÚc d
	withBlock
ÛÛ %
.
ÛÛ% &
CodCobertura
ÛÛ& 2
=
ÛÛ3 4
(
ÛÛ5 6
string
ÛÛ6 <
)
ÛÛ< =
dr
ÛÛ= ?
[
ÛÛ? @
$str
ÛÛ@ O
]
ÛÛO P
;
ÛÛP Q
	withBlock
ÙÙ %
.
ÙÙ% &

CoPagofijo
ÙÙ& 0
=
ÙÙ1 2
(
ÙÙ3 4
decimal
ÙÙ4 ;
)
ÙÙ; <
dr
ÙÙ< >
[
ÙÙ> ?
$str
ÙÙ? L
]
ÙÙL M
;
ÙÙM N
	withBlock
ıı %
.
ıı% &
CoPagovariable
ıı& 4
=
ıı5 6
(
ıı7 8
decimal
ıı8 ?
)
ıı? @
dr
ıı@ B
[
ııB C
$str
ııC T
]
ııT U
;
ııU V
	withBlock
ˆˆ %
.
ˆˆ% &
	TipMoneda
ˆˆ& /
=
ˆˆ0 1
(
ˆˆ2 3
string
ˆˆ3 9
)
ˆˆ9 :
dr
ˆˆ: <
[
ˆˆ< =
$str
ˆˆ= I
]
ˆˆI J
;
ˆˆJ K
	withBlock
˜˜ %
.
˜˜% &
IdeCorrelreserva
˜˜& 6
=
˜˜7 8
(
˜˜9 :
int
˜˜: =
)
˜˜= >
dr
˜˜> @
[
˜˜@ A
$str
˜˜A T
]
˜˜T U
;
˜˜U V
	withBlock
¯¯ %
.
¯¯% &
CodPaciente
¯¯& 1
=
¯¯2 3
(
¯¯4 5
string
¯¯5 ;
)
¯¯; <
dr
¯¯< >
[
¯¯> ?
$str
¯¯? M
]
¯¯M N
;
¯¯N O
	withBlock
˘˘ %
.
˘˘% & 
CodPacienteTitular
˘˘& 8
=
˘˘9 :
(
˘˘; <
string
˘˘< B
)
˘˘B C
dr
˘˘C E
[
˘˘E F
$str
˘˘F \
]
˘˘\ ]
;
˘˘] ^
	withBlock
˙˙ %
.
˙˙% &
TipAtencion
˙˙& 1
=
˙˙2 3
(
˙˙4 5
string
˙˙5 ;
)
˙˙; <
dr
˙˙< >
[
˙˙> ?
$str
˙˙? M
]
˙˙M N
;
˙˙N O
	withBlock
˚˚ %
.
˚˚% &
CodAseguradora
˚˚& 4
=
˚˚5 6
(
˚˚7 8
string
˚˚8 >
)
˚˚> ?
dr
˚˚? A
[
˚˚A B
$str
˚˚B S
]
˚˚S T
;
˚˚T U
	withBlock
¸¸ %
.
¸¸% &
NombresPacientes
¸¸& 6
=
¸¸7 8
(
¸¸9 :
string
¸¸: @
)
¸¸@ A
dr
¸¸A C
[
¸¸C D
$str
¸¸D N
]
¸¸N O
+
¸¸P Q
$str
¸¸R T
;
¸¸T U
	withBlock
˝˝ %
.
˝˝% &$
NombresPacienteTitular
˝˝& <
=
˝˝= >
(
˝˝? @
string
˝˝@ F
)
˝˝F G
dr
˝˝G I
[
˝˝I J
$str
˝˝J \
]
˝˝\ ]
+
˝˝^ _
$str
˝˝` b
;
˝˝b c
	withBlock
˛˛ %
.
˛˛% &
DscAseguradora
˛˛& 4
=
˛˛5 6
(
˛˛7 8
string
˛˛8 >
)
˛˛> ?
dr
˛˛? A
[
˛˛A B
$str
˛˛B S
]
˛˛S T
+
˛˛U V
$str
˛˛W Y
;
˛˛Y Z
	withBlock
ˇˇ %
.
ˇˇ% &
Sexo
ˇˇ& *
=
ˇˇ+ ,
(
ˇˇ- .
string
ˇˇ. 4
)
ˇˇ4 5
dr
ˇˇ5 7
[
ˇˇ7 8
$str
ˇˇ8 >
]
ˇˇ> ?
+
ˇˇ@ A
$str
ˇˇB D
;
ˇˇD E
	withBlock
ÄÄ %
.
ÄÄ% &
CardCode
ÄÄ& .
=
ÄÄ/ 0
(
ÄÄ1 2
string
ÄÄ2 8
)
ÄÄ8 9
dr
ÄÄ9 ;
[
ÄÄ; <
$str
ÄÄ< F
]
ÄÄF G
+
ÄÄH I
$str
ÄÄJ L
;
ÄÄL M
	withBlock
ÅÅ %
.
ÅÅ% &
	DscCorreo
ÅÅ& /
=
ÅÅ0 1
(
ÅÅ2 3
string
ÅÅ3 9
)
ÅÅ9 :
dr
ÅÅ: <
[
ÅÅ< =
$str
ÅÅ= D
]
ÅÅD E
+
ÅÅF G
$str
ÅÅH J
;
ÅÅJ K
	withBlock
ÇÇ %
.
ÇÇ% &
CodCia
ÇÇ& ,
=
ÇÇ- .
(
ÇÇ/ 0
string
ÇÇ0 6
)
ÇÇ6 7
dr
ÇÇ7 9
[
ÇÇ9 :
$str
ÇÇ: C
]
ÇÇC D
+
ÇÇE F
$str
ÇÇG I
;
ÇÇI J
	withBlock
ÉÉ %
.
ÉÉ% &
CodSede
ÉÉ& -
=
ÉÉ. /
(
ÉÉ0 1
string
ÉÉ1 7
)
ÉÉ7 8
dr
ÉÉ8 :
[
ÉÉ: ;
$str
ÉÉ; E
]
ÉÉE F
+
ÉÉG H
$str
ÉÉI K
;
ÉÉK L
	withBlock
ÑÑ %
.
ÑÑ% &
	CodSunasa
ÑÑ& /
=
ÑÑ0 1
(
ÑÑ2 3
string
ÑÑ3 9
)
ÑÑ9 :
dr
ÑÑ: <
[
ÑÑ< =
$str
ÑÑ= N
]
ÑÑN O
+
ÑÑP Q
$str
ÑÑR T
;
ÑÑT U
	withBlock
ÖÖ %
.
ÖÖ% &
CodIAFAS
ÖÖ& .
=
ÖÖ/ 0
(
ÖÖ1 2
string
ÖÖ2 8
)
ÖÖ8 9
dr
ÖÖ9 ;
[
ÖÖ; <
$str
ÖÖ< G
]
ÖÖG H
+
ÖÖI J
$str
ÖÖK M
;
ÖÖM N
	withBlock
ÜÜ %
.
ÜÜ% &
DscObservaciones
ÜÜ& 6
=
ÜÜ7 8
(
ÜÜ9 :
string
ÜÜ: @
)
ÜÜ@ A
dr
ÜÜA C
[
ÜÜC D
$str
ÜÜD W
]
ÜÜW X
+
ÜÜY Z
$str
ÜÜ[ ]
;
ÜÜ] ^
	withBlock
àà %
.
àà% &
CodProfMedico
àà& 3
=
àà4 5
(
àà6 7
string
àà7 =
)
àà= >
dr
àà> @
[
àà@ A
$str
ààA Q
]
ààQ R
+
ààS T
$str
ààU W
;
ààW X
	withBlock
ââ %
.
ââ% &
	CodMedico
ââ& /
=
ââ0 1
(
ââ2 3
string
ââ3 9
)
ââ9 :
dr
ââ: <
[
ââ< =
$str
ââ= I
]
ââI J
+
ââK L
$str
ââM O
;
ââO P
	withBlock
ãã %
.
ãã% &
	Direccion
ãã& /
=
ãã0 1
(
ãã2 3
string
ãã3 9
)
ãã9 :
dr
ãã: <
[
ãã< =
$str
ãã= H
]
ããH I
+
ããJ K
$str
ããL N
;
ããN O
	withBlock
åå %
.
åå% &
NroOperacion
åå& 2
=
åå3 4
(
åå5 6
string
åå6 <
)
åå< =
dr
åå= ?
[
åå? @
$str
åå@ O
]
ååO P
+
ååQ R
$str
ååS U
;
ååU V
	withBlock
çç %
.
çç% &

CodEntidad
çç& 0
=
çç1 2
(
çç3 4
string
çç4 :
)
çç: ;
dr
çç; =
[
çç= >
$str
çç> K
]
ççK L
+
ççM N
$str
ççO Q
;
ççQ R
	withBlock
éé %
.
éé% &
FecCita
éé& -
=
éé. /
util
éé0 4
.
éé4 5
ValFecha
éé5 =
(
éé= >
(
éé> ?
string
éé? E
)
ééE F
dr
ééF H
[
ééH I
$str
ééI S
]
ééS T
)
ééT U
;
ééU V
	withBlock
èè %
.
èè% &
CodEspecialidad
èè& 5
=
èè6 7
(
èè8 9
string
èè9 ?
)
èè? @
dr
èè@ B
[
èèB C
$str
èèC U
]
èèU V
+
èèW X
$str
èèY [
;
èè[ \
	withBlock
êê %
.
êê% & 
EstProcesoAtencion
êê& 8
=
êê9 :
(
êê; <
int
êê< ?
)
êê? @
dr
êê@ B
[
êêB C
$str
êêC Y
]
êêY Z
;
êêZ [
	withBlock
ëë %
.
ëë% &
CodAtencion
ëë& 1
=
ëë2 3
(
ëë4 5
string
ëë5 ;
)
ëë; <
dr
ëë< >
[
ëë> ?
$str
ëë? M
]
ëëM N
;
ëëN O
	withBlock
íí %
.
íí% &
CodLiquidacion
íí& 4
=
íí5 6
(
íí7 8
string
íí8 >
)
íí> ?
dr
íí? A
[
ííA B
$str
ííB S
]
ííS T
;
ííT U
	withBlock
ìì %
.
ìì% &
CodComprobante
ìì& 4
=
ìì5 6
(
ìì7 8
string
ìì8 >
)
ìì> ?
dr
ìì? A
[
ììA B
$str
ììB S
]
ììS T
;
ììT U
	withBlock
îî %
.
îî% &
EstConsultaMedica
îî& 7
=
îî8 9
(
îî: ;
string
îî; A
)
îîA B
dr
îîB D
[
îîD E
$str
îîE Z
]
îîZ [
;
îî[ \
	withBlock
ññ %
.
ññ% &#
NumAutorizacionSiteds
ññ& ;
=
ññ< =
(
ññ> ?
string
ññ? E
)
ññE F
dr
ññF H
[
ññH I
$str
ññI a
]
ñña b
;
ññb c
	withBlock
óó %
.
óó% &
	fAutoDate
óó& /
=
óó0 1
(
óó2 3
string
óó3 9
)
óó9 :
dr
óó: <
[
óó< =
$str
óó= H
]
óóH I
;
óóI J
	withBlock
òò %
.
òò% &
	dAutotime
òò& /
=
òò0 1
(
òò2 3
string
òò3 9
)
òò9 :
dr
òò: <
[
òò< =
$str
òò= H
]
òòH I
;
òòI J
break
ôô !
;
ôô! "
}
öö 
case
úú 
$num
úú 
:
ùù 
{
ûû 
	withBlock
üü %
.
üü% &
NroOperacion
üü& 2
=
üü3 4
(
üü5 6
string
üü6 <
)
üü< =
dr
üü= ?
[
üü? @
$str
üü@ O
]
üüO P
;
üüP Q
	withBlock
†† %
.
††% &
IdeDatospagos
††& 3
=
††4 5
(
††6 7
int
††7 :
)
††: ;
dr
††; =
[
††= >
$str
††> N
]
††N O
;
††O P
	withBlock
°° %
.
°°% &
	TipoEnvio
°°& /
=
°°0 1
(
°°2 3
string
°°3 9
)
°°9 :
dr
°°: <
[
°°< =
$str
°°= I
]
°°I J
;
°°J K
break
¢¢ !
;
¢¢! "
}
££ 
case
•• 
$num
•• 
:
¶¶ 
{
ßß 
	withBlock
®® %
.
®®% &
NroOperacion
®®& 2
=
®®3 4
(
®®5 6
string
®®6 <
)
®®< =
dr
®®= ?
[
®®? @
$str
®®@ O
]
®®O P
;
®®P Q
	withBlock
©© %
.
©©% &
IdeDatospagos
©©& 3
=
©©4 5
(
©©6 7
int
©©7 :
)
©©: ;
dr
©©; =
[
©©= >
$str
©©> N
]
©©N O
;
©©O P
	withBlock
™™ %
.
™™% &
	TipoEnvio
™™& /
=
™™0 1
(
™™2 3
string
™™3 9
)
™™9 :
dr
™™: <
[
™™< =
$str
™™= I
]
™™I J
;
™™J K
break
´´ !
;
´´! "
}
¨¨ 
case
ÆÆ 
$num
ÆÆ 
:
ÆÆ 
{
ØØ 
	withBlock
∞∞ %
.
∞∞% &
IdeDatospagos
∞∞& 3
=
∞∞4 5
(
∞∞6 7
int
∞∞7 :
)
∞∞: ;
dr
∞∞; =
[
∞∞= >
$str
∞∞> N
]
∞∞N O
;
∞∞O P
	withBlock
±± %
.
±±% &
CodAtencion
±±& 1
=
±±2 3
(
±±4 5
string
±±5 ;
)
±±; <
dr
±±< >
[
±±> ?
$str
±±? M
]
±±M N
;
±±N O
	withBlock
≤≤ %
.
≤≤% &
TipDocumento
≤≤& 2
=
≤≤3 4
(
≤≤5 6
string
≤≤6 <
)
≤≤< =
dr
≤≤= ?
[
≤≤? @
$str
≤≤@ O
]
≤≤O P
;
≤≤P Q
	withBlock
≥≥ %
.
≥≥% &
NumDocumento
≥≥& 2
=
≥≥3 4
(
≥≥5 6
string
≥≥6 <
)
≥≥< =
dr
≥≥= ?
[
≥≥? @
$str
≥≥@ O
]
≥≥O P
;
≥≥P Q
	withBlock
¥¥ %
.
¥¥% &
ApPaternoPaciente
¥¥& 7
=
¥¥8 9
(
¥¥: ;
string
¥¥; A
)
¥¥A B
dr
¥¥B D
[
¥¥D E
$str
¥¥E P
]
¥¥P Q
;
¥¥Q R
	withBlock
µµ %
.
µµ% &
ApMaternoPaciente
µµ& 7
=
µµ8 9
(
µµ: ;
string
µµ; A
)
µµA B
dr
µµB D
[
µµD E
$str
µµE P
]
µµP Q
;
µµQ R
	withBlock
∂∂ %
.
∂∂% &
NombrePaciente
∂∂& 4
=
∂∂5 6
(
∂∂7 8
string
∂∂8 >
)
∂∂> ?
dr
∂∂? A
[
∂∂A B
$str
∂∂B J
]
∂∂J K
;
∂∂K L
	withBlock
∑∑ %
.
∑∑% &
TipPrt
∑∑& ,
=
∑∑- .
(
∑∑/ 0
string
∑∑0 6
)
∑∑6 7
dr
∑∑7 9
[
∑∑9 :
$str
∑∑: C
]
∑∑C D
;
∑∑D E
	withBlock
∏∏ %
.
∏∏% &
CodIAFAS
∏∏& .
=
∏∏/ 0
(
∏∏1 2
string
∏∏2 8
)
∏∏8 9
dr
∏∏9 ;
[
∏∏; <
$str
∏∏< G
]
∏∏G H
;
∏∏H I
	withBlock
∫∫ %
.
∫∫% &
	CodSunasa
∫∫& /
=
∫∫0 1
(
∫∫2 3
string
∫∫3 9
)
∫∫9 :
dr
∫∫: <
[
∫∫< =
$str
∫∫= N
]
∫∫N O
;
∫∫O P
	withBlock
ªª %
.
ªª% &
CodIAFAS
ªª& .
=
ªª/ 0
(
ªª1 2
string
ªª2 8
)
ªª8 9
dr
ªª9 ;
[
ªª; <
$str
ªª< G
]
ªªG H
;
ªªH I
	withBlock
ΩΩ %
.
ΩΩ% &
CodAsegurado
ΩΩ& 2
=
ΩΩ3 4
(
ΩΩ5 6
string
ΩΩ6 <
)
ΩΩ< =
dr
ΩΩ= ?
[
ΩΩ? @
$str
ΩΩ@ O
]
ΩΩO P
;
ΩΩP Q
	withBlock
ææ %
.
ææ% &
NumDocempresa
ææ& 3
=
ææ4 5
(
ææ6 7
string
ææ7 =
)
ææ= >
dr
ææ> @
[
ææ@ A
$str
ææA Q
]
ææQ R
;
ææR S
	withBlock
¿¿ %
.
¿¿% &
CodAseguradora
¿¿& 4
=
¿¿5 6
(
¿¿7 8
string
¿¿8 >
)
¿¿> ?
dr
¿¿? A
[
¿¿A B
$str
¿¿B S
]
¿¿S T
;
¿¿T U
	withBlock
¡¡ %
.
¡¡% &
Comp_DscTabla
¡¡& 3
=
¡¡4 5
(
¡¡6 7
string
¡¡7 =
)
¡¡= >
dr
¡¡> @
[
¡¡@ A
$str
¡¡A P
]
¡¡P Q
;
¡¡Q R
break
¬¬ !
;
¬¬! "
}
√√ 
case
ƒƒ 
$num
ƒƒ 
:
ƒƒ 
{
≈≈ 
	withBlock
∆∆ %
.
∆∆% &
IdeCita
∆∆& -
=
∆∆. /
(
∆∆0 1
int
∆∆1 4
)
∆∆4 5
dr
∆∆5 7
[
∆∆7 8
$str
∆∆8 B
]
∆∆B C
;
∆∆C D
	withBlock
»» %
.
»»% &
IdeDatospagos
»»& 3
=
»»4 5
(
»»6 7
int
»»7 :
)
»»: ;
dr
»»; =
[
»»= >
$str
»»> N
]
»»N O
;
»»O P
	withBlock
…… %
.
……% &
CodAsegurado
……& 2
=
……3 4
(
……5 6
string
……6 <
)
……< =
dr
……= ?
[
……? @
$str
……@ O
]
……O P
;
……P Q
	withBlock
   %
.
  % &
TipDocumento
  & 2
=
  3 4
dr
  5 7
[
  7 8
$str
  8 H
]
  H I
.
  I J
ToString
  J R
(
  R S
)
  S T
;
  T U
	withBlock
ÀÀ %
.
ÀÀ% &
NumDocumento
ÀÀ& 2
=
ÀÀ3 4
(
ÀÀ5 6
string
ÀÀ6 <
)
ÀÀ< =
dr
ÀÀ= ?
[
ÀÀ? @
$str
ÀÀ@ O
]
ÀÀO P
;
ÀÀP Q
	withBlock
‘‘ %
.
‘‘% &
CodCobertura
‘‘& 2
=
‘‘3 4
(
‘‘5 6
string
‘‘6 <
)
‘‘< =
dr
‘‘= ?
[
‘‘? @
$str
‘‘@ O
]
‘‘O P
;
‘‘P Q
	withBlock
’’ %
.
’’% &

CoPagofijo
’’& 0
=
’’1 2
(
’’3 4
decimal
’’4 ;
)
’’; <
dr
’’< >
[
’’> ?
$str
’’? L
]
’’L M
;
’’M N
	withBlock
ÿÿ %
.
ÿÿ% &
IdeCita
ÿÿ& -
=
ÿÿ. /
(
ÿÿ0 1
int
ÿÿ1 4
)
ÿÿ4 5
dr
ÿÿ5 7
[
ÿÿ7 8
$str
ÿÿ8 B
]
ÿÿB C
;
ÿÿC D
	withBlock
ŸŸ %
.
ŸŸ% &
CodPaciente
ŸŸ& 1
=
ŸŸ2 3
(
ŸŸ4 5
string
ŸŸ5 ;
)
ŸŸ; <
dr
ŸŸ< >
[
ŸŸ> ?
$str
ŸŸ? M
]
ŸŸM N
;
ŸŸN O
	withBlock
⁄⁄ %
.
⁄⁄% & 
CodPacienteTitular
⁄⁄& 8
=
⁄⁄9 :
(
⁄⁄; <
string
⁄⁄< B
)
⁄⁄B C
dr
⁄⁄C E
[
⁄⁄E F
$str
⁄⁄F \
]
⁄⁄\ ]
;
⁄⁄] ^
	withBlock
€€ %
.
€€% &
TipAtencion
€€& 1
=
€€2 3
(
€€4 5
string
€€5 ;
)
€€; <
dr
€€< >
[
€€> ?
$str
€€? M
]
€€M N
;
€€N O
	withBlock
‹‹ %
.
‹‹% &
CodAseguradora
‹‹& 4
=
‹‹5 6
(
‹‹7 8
string
‹‹8 >
)
‹‹> ?
dr
‹‹? A
[
‹‹A B
$str
‹‹B S
]
‹‹S T
;
‹‹T U
	withBlock
‰‰ %
.
‰‰% &
CodSede
‰‰& -
=
‰‰. /
(
‰‰0 1
string
‰‰1 7
)
‰‰7 8
dr
‰‰8 :
[
‰‰: ;
$str
‰‰; E
]
‰‰E F
+
‰‰G H
$str
‰‰I K
;
‰‰K L
	withBlock
ÂÂ %
.
ÂÂ% &
	CodSunasa
ÂÂ& /
=
ÂÂ0 1
(
ÂÂ2 3
string
ÂÂ3 9
)
ÂÂ9 :
dr
ÂÂ: <
[
ÂÂ< =
$str
ÂÂ= N
]
ÂÂN O
+
ÂÂP Q
$str
ÂÂR T
;
ÂÂT U
	withBlock
ÊÊ %
.
ÊÊ% &
CodIAFAS
ÊÊ& .
=
ÊÊ/ 0
(
ÊÊ1 2
string
ÊÊ2 8
)
ÊÊ8 9
dr
ÊÊ9 ;
[
ÊÊ; <
$str
ÊÊ< G
]
ÊÊG H
+
ÊÊI J
$str
ÊÊK M
;
ÊÊM N
	withBlock
ÍÍ %
.
ÍÍ% &
	CodMedico
ÍÍ& /
=
ÍÍ0 1
(
ÍÍ2 3
string
ÍÍ3 9
)
ÍÍ9 :
dr
ÍÍ: <
[
ÍÍ< =
$str
ÍÍ= I
]
ÍÍI J
+
ÍÍK L
$str
ÍÍM O
;
ÍÍO P
	withBlock
ÔÔ %
.
ÔÔ% &
FecCita
ÔÔ& -
=
ÔÔ. /
util
ÔÔ0 4
.
ÔÔ4 5
ValFecha
ÔÔ5 =
(
ÔÔ= >
dr
ÔÔ> @
[
ÔÔ@ A
$str
ÔÔA K
]
ÔÔK L
.
ÔÔL M
ToString
ÔÔM U
(
ÔÔU V
)
ÔÔV W
)
ÔÔW X
;
ÔÔX Y
	withBlock
 %
.
% &
CodEspecialidad
& 5
=
6 7
(
8 9
string
9 ?
)
? @
dr
@ B
[
B C
$str
C U
]
U V
+
W X
$str
Y [
;
[ \
	withBlock
ÇÇ %
.
ÇÇ% &
	RucSunasa
ÇÇ& /
=
ÇÇ0 1
(
ÇÇ2 3
string
ÇÇ3 9
)
ÇÇ9 :
dr
ÇÇ: <
[
ÇÇ< =
$str
ÇÇ= I
]
ÇÇI J
;
ÇÇJ K
	withBlock
ÉÉ %
.
ÉÉ% &
	TipoEnvio
ÉÉ& /
=
ÉÉ0 1
(
ÉÉ2 3
string
ÉÉ3 9
)
ÉÉ9 :
dr
ÉÉ: <
[
ÉÉ< =
$str
ÉÉ= I
]
ÉÉI J
;
ÉÉJ K
	withBlock
ÑÑ %
.
ÑÑ% &
Error
ÑÑ& +
=
ÑÑ, -
(
ÑÑ. /
string
ÑÑ/ 5
)
ÑÑ5 6
dr
ÑÑ6 8
[
ÑÑ8 9
$str
ÑÑ9 @
]
ÑÑ@ A
;
ÑÑA B
break
ÖÖ !
;
ÖÖ! "
}
ÜÜ 
case
áá 
$num
áá 
:
áá 
case
àà 
$num
àà 
:
àà 
{
ââ 
	withBlock
ää %
.
ää% &
IdeCita
ää& -
=
ää. /
(
ää0 1
int
ää1 4
)
ää4 5
dr
ää5 7
[
ää7 8
$str
ää8 B
]
ääB C
;
ääC D
break
ãã !
;
ãã! "
}
åå 
case
çç 
$num
çç 
:
çç 
{
éé 
	withBlock
èè %
.
èè% &
IdeCita
èè& -
=
èè. /
(
èè0 1
int
èè1 4
)
èè4 5
dr
èè5 7
[
èè7 8
$str
èè8 B
]
èèB C
;
èèC D
	withBlock
êê %
.
êê% &
CodCobertura
êê& 2
=
êê3 4
(
êê5 6
string
êê6 <
)
êê< =
dr
êê= ?
[
êê? @
$str
êê@ O
]
êêO P
;
êêP Q
	withBlock
ëë %
.
ëë% &!
DscMensajeRespuesta
ëë& 9
=
ëë: ;
(
ëë< =
string
ëë= C
)
ëëC D
dr
ëëD F
[
ëëF G
$str
ëëG ^
]
ëë^ _
;
ëë_ `
	withBlock
íí %
.
íí% &
EstPagoExitoso
íí& 4
=
íí5 6
(
íí7 8
string
íí8 >
)
íí> ?
dr
íí? A
[
ííA B
$str
ííB T
]
ííT U
;
ííU V
	withBlock
ìì %
.
ìì% &

TipTarjeta
ìì& 0
=
ìì1 2
(
ìì3 4
string
ìì4 :
)
ìì: ;
dr
ìì; =
[
ìì= >
$str
ìì> K
]
ììK L
;
ììL M
	withBlock
îî %
.
îî% &

NumTarjeta
îî& 0
=
îî1 2
(
îî3 4
string
îî4 :
)
îî: ;
dr
îî; =
[
îî= >
$str
îî> K
]
îîK L
;
îîL M
	withBlock
ïï %
.
ïï% &"
Comp_TipoComprobante
ïï& :
=
ïï; <
(
ïï= >
string
ïï> D
)
ïïD E
dr
ïïE G
[
ïïG H
$str
ïïH _
]
ïï_ `
;
ïï` a
	withBlock
ññ %
.
ññ% &"
Comp_TipDocIdentidad
ññ& :
=
ññ; <
(
ññ= >
string
ññ> D
)
ññD E
dr
ññE G
[
ññG H
$str
ññH _
]
ññ_ `
;
ññ` a
	withBlock
óó %
.
óó% &"
Comp_RutDocIdentidad
óó& :
=
óó; <
(
óó= >
string
óó> D
)
óóD E
dr
óóE G
[
óóG H
$str
óóH ^
]
óó^ _
;
óó_ `
	withBlock
òò %
.
òò% &
Comp_Correo
òò& 1
=
òò2 3
(
òò4 5
string
òò5 ;
)
òò; <
dr
òò< >
[
òò> ?
$str
òò? L
]
òòL M
;
òòM N
	withBlock
ôô %
.
ôô% &!
TransaccionIdNiubiz
ôô& 9
=
ôô: ;
(
ôô< =
string
ôô= C
)
ôôC D
dr
ôôD F
[
ôôF G
$str
ôôG \
]
ôô\ ]
;
ôô] ^
	withBlock
öö %
.
öö% &
Comp_DscTabla
öö& 3
=
öö4 5
(
öö6 7
string
öö7 =
)
öö= >
dr
öö> @
[
öö@ A
$str
ööA P
]
ööP Q
;
ööQ R
	withBlock
õõ %
.
õõ% &
Error
õõ& +
=
õõ, -
(
õõ. /
string
õõ/ 5
)
õõ5 6
dr
õõ6 8
[
õõ8 9
$str
õõ9 @
]
õõ@ A
;
õõA B
	withBlock
ûû %
.
ûû% &
CodAsegurado
ûû& 2
=
ûû3 4
(
ûû5 6
string
ûû6 <
)
ûû< =
dr
ûû= ?
[
ûû? @
$str
ûû@ O
]
ûûO P
;
ûûP Q
	withBlock
üü %
.
üü% &
TipDocumento
üü& 2
=
üü3 4
(
üü5 6
dr
üü6 8
[
üü8 9
$str
üü9 I
]
üüI J
.
üüJ K
ToString
üüK S
(
üüS T
)
üüT U
)
üüU V
;
üüV W
	withBlock
†† %
.
††% &
NumDocumento
††& 2
=
††3 4
(
††5 6
string
††6 <
)
††< =
dr
††= ?
[
††? @
$str
††@ O
]
††O P
;
††P Q
	withBlock
°° %
.
°°% &
	TipMoneda
°°& /
=
°°0 1
(
°°2 3
string
°°3 9
)
°°9 :
dr
°°: <
[
°°< =
$str
°°= I
]
°°I J
;
°°J K
	withBlock
¢¢ %
.
¢¢% &
TipPrt
¢¢& ,
=
¢¢- .
(
¢¢/ 0
string
¢¢0 6
)
¢¢6 7
dr
¢¢7 9
[
¢¢9 :
$str
¢¢: C
]
¢¢C D
;
¢¢D E
	withBlock
££ %
.
££% &
TipParentesco
££& 3
=
££4 5
(
££6 7
string
££7 =
)
££= >
dr
££> @
[
££@ A
$str
££A Q
]
££Q R
;
££R S
	withBlock
§§ %
.
§§% &
NroPlan
§§& -
=
§§. /
(
§§0 1
string
§§1 7
)
§§7 8
dr
§§8 :
[
§§: ;
$str
§§; E
]
§§E F
;
§§F G
	withBlock
•• %
.
••% &
TipDocempresa
••& 3
=
••4 5
(
••6 7
string
••7 =
)
••= >
dr
••> @
[
••@ A
$str
••A Q
]
••Q R
;
••R S
	withBlock
¶¶ %
.
¶¶% &
NumDocempresa
¶¶& 3
=
¶¶4 5
(
¶¶6 7
string
¶¶7 =
)
¶¶= >
dr
¶¶> @
[
¶¶@ A
$str
¶¶A Q
]
¶¶Q R
;
¶¶R S
	withBlock
®® %
.
®®% &
FecNacimiento
®®& 3
=
®®4 5
util
®®6 :
.
®®: ;
ValFecha
®®; C
(
®®C D
dr
®®D F
[
®®F G
$str
®®G W
]
®®W X
.
®®X Y
ToString
®®Y a
(
®®a b
)
®®b c
)
®®c d
;
®®d e
	withBlock
©© %
.
©©% &
FecIniciovigencia
©©& 7
=
©©8 9
util
©©: >
.
©©> ?
ValFecha
©©? G
(
©©G H
dr
©©H J
[
©©J K
$str
©©K _
]
©©_ `
.
©©` a
ToString
©©a i
(
©©i j
)
©©j k
)
©©k l
;
©©l m
	withBlock
™™ %
.
™™% &
FecAfilicacion
™™& 4
=
™™5 6
util
™™7 ;
.
™™; <
ValFecha
™™< D
(
™™D E
dr
™™E G
[
™™G H
$str
™™H Y
]
™™Y Z
.
™™Z [
ToString
™™[ c
(
™™c d
)
™™d e
)
™™e f
;
™™f g
	withBlock
¨¨ %
.
¨¨% &
	RucSunasa
¨¨& /
=
¨¨0 1
(
¨¨2 3
string
¨¨3 9
)
¨¨9 :
dr
¨¨: <
[
¨¨< =
$str
¨¨= I
]
¨¨I J
;
¨¨J K
	withBlock
≠≠ %
.
≠≠% &
	CodSunasa
≠≠& /
=
≠≠0 1
(
≠≠2 3
string
≠≠3 9
)
≠≠9 :
dr
≠≠: <
[
≠≠< =
$str
≠≠= N
]
≠≠N O
+
≠≠P Q
$str
≠≠R T
;
≠≠T U
	withBlock
ÆÆ %
.
ÆÆ% &
CodIAFAS
ÆÆ& .
=
ÆÆ/ 0
(
ÆÆ1 2
string
ÆÆ2 8
)
ÆÆ8 9
dr
ÆÆ9 ;
[
ÆÆ; <
$str
ÆÆ< G
]
ÆÆG H
+
ÆÆI J
$str
ÆÆK M
;
ÆÆM N
	withBlock
∞∞ %
.
∞∞% &#
NumAutorizacionSiteds
∞∞& ;
=
∞∞< =
(
∞∞> ?
string
∞∞? E
)
∞∞E F
dr
∞∞F H
[
∞∞H I
$str
∞∞I a
]
∞∞a b
+
∞∞c d
$str
∞∞e g
;
∞∞g h
break
≤≤ !
;
≤≤! "
}
≥≥ 
}
¥¥ 
}
µµ 
return
∑∑ 
oMdsynDatospagosE
∑∑ $
;
∑∑$ %
}
∏∏ 	
public
ºº 
List
ºº 
<
ºº 
MdsynDatosPagosE
ºº $
>
ºº$ %)
Sp_MdsynDatosPagos_Consulta
ºº& A
(
ººA B
MdsynDatosPagosE
ººB R
pMdsynDatosPagosE
ººS d
)
ººd e
{
ΩΩ 	
IDataReader
ææ 
dr
ææ 
;
ææ 
MdsynDatosPagosE
øø 
oMdsynDatospagosE
øø .
=
øø/ 0
null
øø1 5
;
øøt u
List
¿¿ 
<
¿¿ 
MdsynDatosPagosE
¿¿ !
>
¿¿! "
oListar
¿¿# *
=
¿¿+ ,
new
¿¿- 0
List
¿¿1 5
<
¿¿5 6
MdsynDatosPagosE
¿¿6 F
>
¿¿F G
(
¿¿G H
)
¿¿H I
;
¿¿I J
try
¡¡ 
{
¬¬ 
using
√√ 
(
√√ 
SqlConnection
√√ $
cnn
√√% (
=
√√) *
new
√√+ .
SqlConnection
√√/ <
(
√√< =
VariablesGlobales
√√= N
.
√√N O

CnnClinica
√√O Y
)
√√Y Z
)
√√Z [
{
ƒƒ 
using
≈≈ 
(
≈≈ 

SqlCommand
≈≈ %
cmd
≈≈& )
=
≈≈* +
new
≈≈, /

SqlCommand
≈≈0 :
(
≈≈: ;
$str
≈≈; X
,
≈≈X Y
cnn
≈≈Z ]
)
≈≈] ^
)
≈≈^ _
{
∆∆ 
cmd
«« 
.
«« 
CommandType
«« '
=
««( )
CommandType
««* 5
.
««5 6
StoredProcedure
««6 E
;
««E F
cmd
…… 
.
…… 

Parameters
…… &
.
……& '
AddWithValue
……' 3
(
……3 4
$str
……4 D
,
……D E
pMdsynDatosPagosE
……F W
.
……W X
CodAsegurado
……X d
)
……d e
;
……e f
cmd
   
.
   

Parameters
   &
.
  & '
AddWithValue
  ' 3
(
  3 4
$str
  4 C
,
  C D
pMdsynDatosPagosE
  E V
.
  V W
CodPaciente
  W b
)
  b c
;
  c d
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ &
.
ÀÀ& '
AddWithValue
ÀÀ' 3
(
ÀÀ3 4
$str
ÀÀ4 J
,
ÀÀJ K
pMdsynDatosPagosE
ÀÀL ]
.
ÀÀ] ^ 
CodPacienteTitular
ÀÀ^ p
)
ÀÀp q
;
ÀÀq r
cmd
ÃÃ 
.
ÃÃ 

Parameters
ÃÃ &
.
ÃÃ& '
AddWithValue
ÃÃ' 3
(
ÃÃ3 4
$str
ÃÃ4 H
,
ÃÃH I
pMdsynDatosPagosE
ÃÃJ [
.
ÃÃ[ \
IdeCorrelreserva
ÃÃ\ l
)
ÃÃl m
;
ÃÃm n
cmd
ÕÕ 
.
ÕÕ 

Parameters
ÕÕ &
.
ÕÕ& '
AddWithValue
ÕÕ' 3
(
ÕÕ3 4
$str
ÕÕ4 <
,
ÕÕ< =
pMdsynDatosPagosE
ÕÕ> O
.
ÕÕO P
Orden
ÕÕP U
)
ÕÕU V
;
ÕÕV W
cmd
ŒŒ 
.
ŒŒ 

Parameters
ŒŒ &
.
ŒŒ& '
AddWithValue
ŒŒ' 3
(
ŒŒ3 4
$str
ŒŒ4 ?
,
ŒŒ? @
pMdsynDatosPagosE
ŒŒA R
.
ŒŒR S
CodSede
ŒŒS Z
)
ŒŒZ [
;
ŒŒ[ \
cmd
œœ 
.
œœ 

Parameters
œœ &
.
œœ& '
AddWithValue
œœ' 3
(
œœ3 4
$str
œœ4 I
,
œœI J
pMdsynDatosPagosE
œœK \
.
œœ\ ]
NombresPacientes
œœ] m
)
œœm n
;
œœn o
cmd
–– 
.
–– 

Parameters
–– &
.
––& '
AddWithValue
––' 3
(
––3 4
$str
––4 A
,
––A B
$str
––C E
)
––E F
;
––F G
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 >
,
——> ?
$str
——@ B
)
——B C
;
——C D
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 G
,
““G H
pMdsynDatosPagosE
““I Z
.
““Z [
CodProfMedico
““[ h
)
““h i
;
““i j
cnn
‘‘ 
.
‘‘ 
Open
‘‘  
(
‘‘  !
)
‘‘! "
;
‘‘" #
dr
’’ 
=
’’ 
cmd
’’  
.
’’  !
ExecuteReader
’’! .
(
’’. /
)
’’/ 0
;
’’0 1
while
÷÷ 
(
÷÷ 
dr
÷÷ !
.
÷÷! "
Read
÷÷" &
(
÷÷& '
)
÷÷' (
)
÷÷( )
{
◊◊ 
oMdsynDatospagosE
ÿÿ -
=
ÿÿ. /
LlenarEntidad
ÿÿ0 =
(
ÿÿ= >
dr
ÿÿ> @
,
ÿÿ@ A
pMdsynDatosPagosE
ÿÿB S
)
ÿÿS T
;
ÿÿT U
oListar
ŸŸ #
.
ŸŸ# $
Add
ŸŸ$ '
(
ŸŸ' (
oMdsynDatospagosE
ŸŸ( 9
)
ŸŸ9 :
;
ŸŸ: ;
}
⁄⁄ 
dr
€€ 
.
€€ 
Close
€€  
(
€€  !
)
€€! "
;
€€" #
dr
‹‹ 
.
‹‹ 
Dispose
‹‹ "
(
‹‹" #
)
‹‹# $
;
‹‹$ %
cmd
›› 
.
›› 
Dispose
›› #
(
››# $
)
››$ %
;
››% &
cnn
ﬁﬁ 
.
ﬁﬁ 
Close
ﬁﬁ !
(
ﬁﬁ! "
)
ﬁﬁ" #
;
ﬁﬁ# $
cnn
ﬂﬂ 
.
ﬂﬂ 
Dispose
ﬂﬂ #
(
ﬂﬂ# $
)
ﬂﬂ$ %
;
ﬂﬂ% &
return
·· 
oListar
·· &
;
··& '
}
‚‚ 
}
„„ 
}
‰‰ 
catch
ÂÂ 
(
ÂÂ 
	Exception
ÂÂ 
ex
ÂÂ 
)
ÂÂ  
{
ÊÊ 
throw
ÁÁ 
new
ÁÁ 
	Exception
ÁÁ #
(
ÁÁ# $
ex
ÁÁ$ &
.
ÁÁ& '
Message
ÁÁ' .
)
ÁÁ. /
;
ÁÁ/ 0
}
ËË 
}
ÈÈ 	
public
ÎÎ 
bool
ÎÎ '
Sp_MdsynDatosPagos_Insert
ÎÎ -
(
ÎÎ- .
MdsynDatosPagosE
ÎÎ. >
pMdsynDatospagosE
ÎÎ? P
)
ÎÎP Q
{
ÏÏ 	
try
ÌÌ 
{
ÓÓ 
using
ÔÔ 
(
ÔÔ 
SqlConnection
ÔÔ $
cnn
ÔÔ% (
=
ÔÔ) *
new
ÔÔ+ .
SqlConnection
ÔÔ/ <
(
ÔÔ< =
VariablesGlobales
ÔÔ= N
.
ÔÔN O

CnnClinica
ÔÔO Y
)
ÔÔY Z
)
ÔÔZ [
{
 
using
ÒÒ 
(
ÒÒ 

SqlCommand
ÒÒ %
cmd
ÒÒ& )
=
ÒÒ* +
new
ÒÒ, /

SqlCommand
ÒÒ0 :
(
ÒÒ: ;
$str
ÒÒ; V
,
ÒÒV W
cnn
ÒÒX [
)
ÒÒ[ \
)
ÒÒ\ ]
{
ÚÚ 
cmd
ÛÛ 
.
ÛÛ 
CommandType
ÛÛ '
=
ÛÛ( )
CommandType
ÛÛ* 5
.
ÛÛ5 6
StoredProcedure
ÛÛ6 E
;
ÛÛE F
cmd
ıı 
.
ıı 

Parameters
ıı &
.
ıı& '
AddWithValue
ıı' 3
(
ıı3 4
$str
ıı4 D
,
ııD E
pMdsynDatospagosE
ııF W
.
ııW X
CodAsegurado
ııX d
)
ııd e
;
ııe f
cmd
ˆˆ 
.
ˆˆ 

Parameters
ˆˆ &
.
ˆˆ& '
AddWithValue
ˆˆ' 3
(
ˆˆ3 4
$str
ˆˆ4 D
,
ˆˆD E
pMdsynDatospagosE
ˆˆF W
.
ˆˆW X
TipDocumento
ˆˆX d
)
ˆˆd e
;
ˆˆe f
cmd
˜˜ 
.
˜˜ 

Parameters
˜˜ &
.
˜˜& '
AddWithValue
˜˜' 3
(
˜˜3 4
$str
˜˜4 D
,
˜˜D E
pMdsynDatospagosE
˜˜F W
.
˜˜W X
NumDocumento
˜˜X d
)
˜˜d e
;
˜˜e f
cmd
¯¯ 
.
¯¯ 

Parameters
¯¯ &
.
¯¯& '
AddWithValue
¯¯' 3
(
¯¯3 4
$str
¯¯4 >
,
¯¯> ?
pMdsynDatospagosE
¯¯@ Q
.
¯¯Q R
TipPrt
¯¯R X
)
¯¯X Y
;
¯¯Y Z
cmd
˘˘ 
.
˘˘ 

Parameters
˘˘ &
.
˘˘& '
AddWithValue
˘˘' 3
(
˘˘3 4
$str
˘˘4 E
,
˘˘E F
pMdsynDatospagosE
˘˘G X
.
˘˘X Y
TipParentesco
˘˘Y f
)
˘˘f g
;
˘˘g h
cmd
˙˙ 
.
˙˙ 

Parameters
˙˙ &
.
˙˙& '
AddWithValue
˙˙' 3
(
˙˙3 4
$str
˙˙4 ?
,
˙˙? @
pMdsynDatospagosE
˙˙A R
.
˙˙R S
NroPlan
˙˙S Z
)
˙˙Z [
;
˙˙[ \
cmd
˚˚ 
.
˚˚ 

Parameters
˚˚ &
.
˚˚& '
AddWithValue
˚˚' 3
(
˚˚3 4
$str
˚˚4 E
,
˚˚E F
pMdsynDatospagosE
˚˚G X
.
˚˚X Y
TipDocempresa
˚˚Y f
)
˚˚f g
;
˚˚g h
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ &
.
¸¸& '
AddWithValue
¸¸' 3
(
¸¸3 4
$str
¸¸4 E
,
¸¸E F
pMdsynDatospagosE
¸¸G X
.
¸¸X Y
NumDocempresa
¸¸Y f
)
¸¸f g
;
¸¸g h
cmd
˝˝ 
.
˝˝ 

Parameters
˝˝ &
.
˝˝& '
AddWithValue
˝˝' 3
(
˝˝3 4
$str
˝˝4 E
,
˝˝E F
pMdsynDatospagosE
˝˝G X
.
˝˝X Y
FecNacimiento
˝˝Y f
)
˝˝f g
;
˝˝g h
cmd
˛˛ 
.
˛˛ 

Parameters
˛˛ &
.
˛˛& '
AddWithValue
˛˛' 3
(
˛˛3 4
$str
˛˛4 I
,
˛˛I J
pMdsynDatospagosE
˛˛K \
.
˛˛\ ]
FecIniciovigencia
˛˛] n
)
˛˛n o
;
˛˛o p
cmd
ˇˇ 
.
ˇˇ 

Parameters
ˇˇ &
.
ˇˇ& '
AddWithValue
ˇˇ' 3
(
ˇˇ3 4
$str
ˇˇ4 F
,
ˇˇF G
pMdsynDatospagosE
ˇˇH Y
.
ˇˇY Z
FecAfilicacion
ˇˇZ h
)
ˇˇh i
;
ˇˇi j
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 D
,
ÄÄD E
pMdsynDatospagosE
ÄÄF W
.
ÄÄW X
CodCobertura
ÄÄX d
)
ÄÄd e
;
ÄÄe f
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 B
,
ÅÅB C
pMdsynDatospagosE
ÅÅD U
.
ÅÅU V

CoPagofijo
ÅÅV `
)
ÅÅ` a
;
ÅÅa b
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 F
,
ÇÇF G
pMdsynDatospagosE
ÇÇH Y
.
ÇÇY Z
CoPagovariable
ÇÇZ h
)
ÇÇh i
;
ÇÇi j
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 A
,
ÉÉA B
pMdsynDatospagosE
ÉÉC T
.
ÉÉT U
	TipMoneda
ÉÉU ^
)
ÉÉ^ _
;
ÉÉ_ `
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 H
,
ÖÖH I
pMdsynDatospagosE
ÖÖJ [
.
ÖÖ[ \
IdeCorrelreserva
ÖÖ\ l
)
ÖÖl m
;
ÖÖm n
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 C
,
ÜÜC D
pMdsynDatospagosE
ÜÜE V
.
ÜÜV W
TipAtencion
ÜÜW b
)
ÜÜb c
;
ÜÜc d
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 C
,
ááC D
pMdsynDatospagosE
ááE V
.
ááV W
CodPaciente
ááW b
)
ááb c
;
áác d
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 J
,
ààJ K
pMdsynDatospagosE
ààL ]
.
àà] ^ 
CodPacienteTitular
àà^ p
)
ààp q
;
ààq r
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 @
,
ââ@ A
pMdsynDatospagosE
ââB S
.
ââS T
CodIAFAS
ââT \
)
ââ\ ]
;
ââ] ^
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 ?
,
ää? @
pMdsynDatospagosE
ääA R
.
ääR S
CodSede
ääS Z
)
ääZ [
;
ää[ \
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 D
,
ããD E
pMdsynDatospagosE
ããF W
.
ããW X
NroOperacion
ããX d
)
ããd e
;
ããe f
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 K
,
ååK L
pMdsynDatospagosE
ååM ^
.
åå^ _!
DscMensajeRespuesta
åå_ r
)
åår s
;
åås t
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 F
,
ççF G
pMdsynDatospagosE
ççH Y
.
ççY Z
EstPagoExitoso
ççZ h
)
ççh i
;
ççi j
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 E
,
ééE F
pMdsynDatospagosE
ééG X
.
ééX Y
CodProfMedico
ééY f
)
ééf g
;
éég h
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 F
,
èèF G
pMdsynDatospagosE
èèH Y
.
èèY Z$
CodEspecialidadMedisyn
èèZ p
)
èèp q
;
èèq r
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 ?
,
ëë? @
pMdsynDatospagosE
ëëA R
.
ëëR S
FecCita
ëëS Z
)
ëëZ [
;
ëë[ \
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 B
,
ííB C
pMdsynDatospagosE
ííD U
.
ííU V

TipTarjeta
ííV `
)
íí` a
;
íía b
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 B
,
ììB C
pMdsynDatospagosE
ììD U
.
ììU V

NumTarjeta
ììV `
)
ìì` a
;
ììa b
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
Add
ïï' *
(
ïï* +
VariablesGlobales
ïï+ <
.
ïï< =
ParametroSql
ïï= I
(
ïïI J
$str
ïïJ [
,
ïï[ \ 
ParameterDirection
ïï] o
.
ïïo p
InputOutput
ïïp {
,
ïï{ |
	SqlDbTypeïï} Ü
.ïïÜ á
Intïïá ä
,ïïä ã
$numïïå ç
,ïïç é!
pMdsynDatospagosEïïè †
.ïï† °
IdeDatospagosïï° Æ
)ïïÆ Ø
)ïïØ ∞
;ïï∞ ±
cnn
ññ 
.
ññ 
Open
ññ  
(
ññ  !
)
ññ! "
;
ññ" #
if
óó 
(
óó 
cmd
óó 
.
óó  
ExecuteNonQuery
óó  /
(
óó/ 0
)
óó0 1
>=
óó2 4
$num
óó5 6
)
óó6 7
{
òò 
pMdsynDatospagosE
ôô -
.
ôô- .
IdeDatospagos
ôô. ;
=
ôô< =
(
ôô> ?
int
ôô? B
)
ôôB C
cmd
ôôC F
.
ôôF G

Parameters
ôôG Q
[
ôôQ R
$str
ôôR c
]
ôôc d
.
ôôd e
Value
ôôe j
;
ôôj k
return
öö "
true
öö# '
;
öö' (
}
õõ 
else
úú 
return
ùù "
false
ùù# (
;
ùù( )
cmd
ûû 
.
ûû 
Dispose
ûû #
(
ûû# $
)
ûû$ %
;
ûû% &
cnn
üü 
.
üü 
Close
üü !
(
üü! "
)
üü" #
;
üü# $
cnn
†† 
.
†† 
Dispose
†† #
(
††# $
)
††$ %
;
††% &
}
°° 
}
¢¢ 
}
££ 
catch
§§ 
(
§§ 
	Exception
§§ 
ex
§§ 
)
§§  
{
•• 
throw
¶¶ 
new
¶¶ 
	Exception
¶¶ #
(
¶¶# $
ex
¶¶$ &
.
¶¶& '
Message
¶¶' .
)
¶¶. /
;
¶¶/ 0
}
ßß 
}
®® 	
public
™™ 
bool
™™ *
Sp_MdsynDatosPagos_Insert_V2
™™ 0
(
™™0 1
MdsynDatosPagosE
™™1 A
pMdsynDatospagosE
™™B S
)
™™S T
{
´´ 	
try
¨¨ 
{
≠≠ 
using
ÆÆ 
(
ÆÆ 
SqlConnection
ÆÆ $
cnn
ÆÆ% (
=
ÆÆ) *
new
ÆÆ+ .
SqlConnection
ÆÆ/ <
(
ÆÆ< =
VariablesGlobales
ÆÆ= N
.
ÆÆN O

CnnClinica
ÆÆO Y
)
ÆÆY Z
)
ÆÆZ [
{
ØØ 
using
∞∞ 
(
∞∞ 

SqlCommand
∞∞ %
cmd
∞∞& )
=
∞∞* +
new
∞∞, /

SqlCommand
∞∞0 :
(
∞∞: ;
$str
∞∞; Y
,
∞∞Y Z
cnn
∞∞[ ^
)
∞∞^ _
)
∞∞_ `
{
±± 
cmd
≤≤ 
.
≤≤ 
CommandType
≤≤ '
=
≤≤( )
CommandType
≤≤* 5
.
≤≤5 6
StoredProcedure
≤≤6 E
;
≤≤E F
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ &
.
¥¥& '
AddWithValue
¥¥' 3
(
¥¥3 4
$str
¥¥4 D
,
¥¥D E
pMdsynDatospagosE
¥¥F W
.
¥¥W X
CodAsegurado
¥¥X d
)
¥¥d e
;
¥¥e f
cmd
µµ 
.
µµ 

Parameters
µµ &
.
µµ& '
AddWithValue
µµ' 3
(
µµ3 4
$str
µµ4 D
,
µµD E
pMdsynDatospagosE
µµF W
.
µµW X
TipDocumento
µµX d
)
µµd e
;
µµe f
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ &
.
∂∂& '
AddWithValue
∂∂' 3
(
∂∂3 4
$str
∂∂4 D
,
∂∂D E
pMdsynDatospagosE
∂∂F W
.
∂∂W X
NumDocumento
∂∂X d
)
∂∂d e
;
∂∂e f
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ &
.
∑∑& '
AddWithValue
∑∑' 3
(
∑∑3 4
$str
∑∑4 >
,
∑∑> ?
pMdsynDatospagosE
∑∑@ Q
.
∑∑Q R
TipPrt
∑∑R X
)
∑∑X Y
;
∑∑Y Z
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ &
.
∏∏& '
AddWithValue
∏∏' 3
(
∏∏3 4
$str
∏∏4 E
,
∏∏E F
pMdsynDatospagosE
∏∏G X
.
∏∏X Y
TipParentesco
∏∏Y f
)
∏∏f g
;
∏∏g h
cmd
ππ 
.
ππ 

Parameters
ππ &
.
ππ& '
AddWithValue
ππ' 3
(
ππ3 4
$str
ππ4 ?
,
ππ? @
pMdsynDatospagosE
ππA R
.
ππR S
NroPlan
ππS Z
)
ππZ [
;
ππ[ \
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ &
.
∫∫& '
AddWithValue
∫∫' 3
(
∫∫3 4
$str
∫∫4 E
,
∫∫E F
pMdsynDatospagosE
∫∫G X
.
∫∫X Y
TipDocempresa
∫∫Y f
)
∫∫f g
;
∫∫g h
cmd
ªª 
.
ªª 

Parameters
ªª &
.
ªª& '
AddWithValue
ªª' 3
(
ªª3 4
$str
ªª4 E
,
ªªE F
pMdsynDatospagosE
ªªG X
.
ªªX Y
NumDocempresa
ªªY f
)
ªªf g
;
ªªg h
cmd
ºº 
.
ºº 

Parameters
ºº &
.
ºº& '
AddWithValue
ºº' 3
(
ºº3 4
$str
ºº4 E
,
ººE F
pMdsynDatospagosE
ººG X
.
ººX Y
FecNacimiento
ººY f
)
ººf g
;
ººg h
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ &
.
ΩΩ& '
AddWithValue
ΩΩ' 3
(
ΩΩ3 4
$str
ΩΩ4 I
,
ΩΩI J
pMdsynDatospagosE
ΩΩK \
.
ΩΩ\ ]
FecIniciovigencia
ΩΩ] n
)
ΩΩn o
;
ΩΩo p
cmd
ææ 
.
ææ 

Parameters
ææ &
.
ææ& '
AddWithValue
ææ' 3
(
ææ3 4
$str
ææ4 F
,
ææF G
pMdsynDatospagosE
ææH Y
.
ææY Z
FecAfilicacion
ææZ h
)
ææh i
;
ææi j
cmd
øø 
.
øø 

Parameters
øø &
.
øø& '
AddWithValue
øø' 3
(
øø3 4
$str
øø4 D
,
øøD E
pMdsynDatospagosE
øøF W
.
øøW X
CodCobertura
øøX d
)
øød e
;
øøe f
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
.
¿¿& '
AddWithValue
¿¿' 3
(
¿¿3 4
$str
¿¿4 B
,
¿¿B C
pMdsynDatospagosE
¿¿D U
.
¿¿U V

CoPagofijo
¿¿V `
)
¿¿` a
;
¿¿a b
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 F
,
¡¡F G
pMdsynDatospagosE
¡¡H Y
.
¡¡Y Z
CoPagovariable
¡¡Z h
)
¡¡h i
;
¡¡i j
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ &
.
¬¬& '
AddWithValue
¬¬' 3
(
¬¬3 4
$str
¬¬4 A
,
¬¬A B
pMdsynDatospagosE
¬¬C T
.
¬¬T U
	TipMoneda
¬¬U ^
)
¬¬^ _
;
¬¬_ `
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ &
.
ƒƒ& '
AddWithValue
ƒƒ' 3
(
ƒƒ3 4
$str
ƒƒ4 H
,
ƒƒH I
pMdsynDatospagosE
ƒƒJ [
.
ƒƒ[ \
IdeCorrelreserva
ƒƒ\ l
)
ƒƒl m
;
ƒƒm n
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ &
.
≈≈& '
AddWithValue
≈≈' 3
(
≈≈3 4
$str
≈≈4 C
,
≈≈C D
pMdsynDatospagosE
≈≈E V
.
≈≈V W
TipAtencion
≈≈W b
)
≈≈b c
;
≈≈c d
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ &
.
∆∆& '
AddWithValue
∆∆' 3
(
∆∆3 4
$str
∆∆4 C
,
∆∆C D
pMdsynDatospagosE
∆∆E V
.
∆∆V W
CodPaciente
∆∆W b
)
∆∆b c
;
∆∆c d
cmd
«« 
.
«« 

Parameters
«« &
.
««& '
AddWithValue
««' 3
(
««3 4
$str
««4 J
,
««J K
pMdsynDatospagosE
««L ]
.
««] ^ 
CodPacienteTitular
««^ p
)
««p q
;
««q r
cmd
»» 
.
»» 

Parameters
»» &
.
»»& '
AddWithValue
»»' 3
(
»»3 4
$str
»»4 @
,
»»@ A
pMdsynDatospagosE
»»B S
.
»»S T
CodIAFAS
»»T \
)
»»\ ]
;
»»] ^
cmd
…… 
.
…… 

Parameters
…… &
.
……& '
AddWithValue
……' 3
(
……3 4
$str
……4 ?
,
……? @
pMdsynDatospagosE
……A R
.
……R S
CodSede
……S Z
)
……Z [
;
……[ \
cmd
   
.
   

Parameters
   &
.
  & '
AddWithValue
  ' 3
(
  3 4
$str
  4 D
,
  D E
pMdsynDatospagosE
  F W
.
  W X
NroOperacion
  X d
)
  d e
;
  e f
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ &
.
ÀÀ& '
AddWithValue
ÀÀ' 3
(
ÀÀ3 4
$str
ÀÀ4 K
,
ÀÀK L
pMdsynDatospagosE
ÀÀM ^
.
ÀÀ^ _!
DscMensajeRespuesta
ÀÀ_ r
)
ÀÀr s
;
ÀÀs t
cmd
ÃÃ 
.
ÃÃ 

Parameters
ÃÃ &
.
ÃÃ& '
AddWithValue
ÃÃ' 3
(
ÃÃ3 4
$str
ÃÃ4 F
,
ÃÃF G
pMdsynDatospagosE
ÃÃH Y
.
ÃÃY Z
EstPagoExitoso
ÃÃZ h
)
ÃÃh i
;
ÃÃi j
cmd
ÕÕ 
.
ÕÕ 

Parameters
ÕÕ &
.
ÕÕ& '
AddWithValue
ÕÕ' 3
(
ÕÕ3 4
$str
ÕÕ4 E
,
ÕÕE F
pMdsynDatospagosE
ÕÕG X
.
ÕÕX Y
CodProfMedico
ÕÕY f
)
ÕÕf g
;
ÕÕg h
cmd
ŒŒ 
.
ŒŒ 

Parameters
ŒŒ &
.
ŒŒ& '
AddWithValue
ŒŒ' 3
(
ŒŒ3 4
$str
ŒŒ4 F
,
ŒŒF G
pMdsynDatospagosE
ŒŒH Y
.
ŒŒY Z$
CodEspecialidadMedisyn
ŒŒZ p
)
ŒŒp q
;
ŒŒq r
cmd
–– 
.
–– 

Parameters
–– &
.
––& '
AddWithValue
––' 3
(
––3 4
$str
––4 ?
,
––? @
pMdsynDatospagosE
––A R
.
––R S
FecCita
––S Z
)
––Z [
;
––[ \
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 B
,
——B C
pMdsynDatospagosE
——D U
.
——U V

TipTarjeta
——V `
)
——` a
;
——a b
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 B
,
““B C
pMdsynDatospagosE
““D U
.
““U V

NumTarjeta
““V `
)
““` a
;
““a b
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ &
.
‘‘& '
AddWithValue
‘‘' 3
(
‘‘3 4
$str
‘‘4 O
,
‘‘O P
pMdsynDatospagosE
‘‘Q b
.
‘‘b c"
Comp_TipoComprobante
‘‘c w
)
‘‘w x
;
‘‘x y
cmd
’’ 
.
’’ 

Parameters
’’ &
.
’’& '
AddWithValue
’’' 3
(
’’3 4
$str
’’4 M
,
’’M N
pMdsynDatospagosE
’’O `
.
’’` a"
Comp_TipDocIdentidad
’’a u
)
’’u v
;
’’v w
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
AddWithValue
÷÷' 3
(
÷÷3 4
$str
÷÷4 I
,
÷÷I J
pMdsynDatospagosE
÷÷K \
.
÷÷\ ]"
Comp_RutDocIdentidad
÷÷] q
)
÷÷q r
;
÷÷r s
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ &
.
◊◊& '
AddWithValue
◊◊' 3
(
◊◊3 4
$str
◊◊4 E
,
◊◊E F
pMdsynDatospagosE
◊◊G X
.
◊◊X Y
Comp_DscTabla
◊◊Y f
)
◊◊f g
;
◊◊g h
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ &
.
ÿÿ& '
AddWithValue
ÿÿ' 3
(
ÿÿ3 4
$str
ÿÿ4 M
,
ÿÿM N
pMdsynDatospagosE
ÿÿO `
.
ÿÿ` a
Comp_Correo
ÿÿa l
)
ÿÿl m
;
ÿÿm n
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ &
.
⁄⁄& '
AddWithValue
⁄⁄' 3
(
⁄⁄3 4
$str
⁄⁄4 A
,
⁄⁄A B
pMdsynDatospagosE
⁄⁄C T
.
⁄⁄T U
	TipoEnvio
⁄⁄U ^
)
⁄⁄^ _
;
⁄⁄_ `
cmd
€€ 
.
€€ 

Parameters
€€ &
.
€€& '
AddWithValue
€€' 3
(
€€3 4
$str
€€4 H
,
€€H I
pMdsynDatospagosE
€€J [
.
€€[ \
ResponsableEnvio
€€\ l
)
€€l m
;
€€m n
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
Add
››' *
(
››* +
VariablesGlobales
››+ <
.
››< =
ParametroSql
››= I
(
››I J
$str
››J [
,
››[ \ 
ParameterDirection
››] o
.
››o p
InputOutput
››p {
,
››{ |
	SqlDbType››} Ü
.››Ü á
Int››á ä
,››ä ã
$num››å ç
,››ç é!
pMdsynDatospagosE››è †
.››† °
IdeDatospagos››° Æ
)››Æ Ø
)››Ø ∞
;››∞ ±
cnn
ﬁﬁ 
.
ﬁﬁ 
Open
ﬁﬁ  
(
ﬁﬁ  !
)
ﬁﬁ! "
;
ﬁﬁ" #
if
ﬂﬂ 
(
ﬂﬂ 
cmd
ﬂﬂ 
.
ﬂﬂ  
ExecuteNonQuery
ﬂﬂ  /
(
ﬂﬂ/ 0
)
ﬂﬂ0 1
>=
ﬂﬂ2 4
$num
ﬂﬂ5 6
)
ﬂﬂ6 7
{
‡‡ 
pMdsynDatospagosE
·· -
.
··- .
IdeDatospagos
··. ;
=
··< =
(
··> ?
int
··? B
)
··B C
cmd
··C F
.
··F G

Parameters
··G Q
[
··Q R
$str
··R c
]
··c d
.
··d e
Value
··e j
;
··j k
return
‚‚ "
true
‚‚# '
;
‚‚' (
}
„„ 
else
‰‰ 
return
ÂÂ "
false
ÂÂ# (
;
ÂÂ( )
cmd
ÊÊ 
.
ÊÊ 
Dispose
ÊÊ #
(
ÊÊ# $
)
ÊÊ$ %
;
ÊÊ% &
cnn
ÁÁ 
.
ÁÁ 
Close
ÁÁ !
(
ÁÁ! "
)
ÁÁ" #
;
ÁÁ# $
cnn
ËË 
.
ËË 
Dispose
ËË #
(
ËË# $
)
ËË$ %
;
ËË% &
}
ÈÈ 
}
ÍÍ 
}
ÎÎ 
catch
ÏÏ 
(
ÏÏ 
	Exception
ÏÏ 
ex
ÏÏ 
)
ÏÏ  
{
ÌÌ 
throw
ÓÓ 
new
ÓÓ 
	Exception
ÓÓ #
(
ÓÓ# $
ex
ÓÓ$ &
.
ÓÓ& '
Message
ÓÓ' .
)
ÓÓ. /
;
ÓÓ/ 0
}
ÔÔ 
}
 	
public
ÚÚ 
bool
ÚÚ *
Sp_MdsynDatosPagos_Insert_V3
ÚÚ 0
(
ÚÚ0 1
MdsynDatosPagosE
ÚÚ1 A
pMdsynDatospagosE
ÚÚB S
)
ÚÚS T
{
ÛÛ 	
try
ÙÙ 
{
ıı 
using
ˆˆ 
(
ˆˆ 
SqlConnection
ˆˆ $
cnn
ˆˆ% (
=
ˆˆ) *
new
ˆˆ+ .
SqlConnection
ˆˆ/ <
(
ˆˆ< =
VariablesGlobales
ˆˆ= N
.
ˆˆN O

CnnClinica
ˆˆO Y
)
ˆˆY Z
)
ˆˆZ [
{
˜˜ 
using
¯¯ 
(
¯¯ 

SqlCommand
¯¯ %
cmd
¯¯& )
=
¯¯* +
new
¯¯, /

SqlCommand
¯¯0 :
(
¯¯: ;
$str
¯¯; Y
,
¯¯Y Z
cnn
¯¯[ ^
)
¯¯^ _
)
¯¯_ `
{
˘˘ 
cmd
˙˙ 
.
˙˙ 
CommandType
˙˙ '
=
˙˙( )
CommandType
˙˙* 5
.
˙˙5 6
StoredProcedure
˙˙6 E
;
˙˙E F
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ &
.
¸¸& '
AddWithValue
¸¸' 3
(
¸¸3 4
$str
¸¸4 D
,
¸¸D E
pMdsynDatospagosE
¸¸F W
.
¸¸W X
CodAsegurado
¸¸X d
)
¸¸d e
;
¸¸e f
cmd
˝˝ 
.
˝˝ 

Parameters
˝˝ &
.
˝˝& '
AddWithValue
˝˝' 3
(
˝˝3 4
$str
˝˝4 D
,
˝˝D E
pMdsynDatospagosE
˝˝F W
.
˝˝W X
TipDocumento
˝˝X d
)
˝˝d e
;
˝˝e f
cmd
˛˛ 
.
˛˛ 

Parameters
˛˛ &
.
˛˛& '
AddWithValue
˛˛' 3
(
˛˛3 4
$str
˛˛4 D
,
˛˛D E
pMdsynDatospagosE
˛˛F W
.
˛˛W X
NumDocumento
˛˛X d
)
˛˛d e
;
˛˛e f
cmd
ˇˇ 
.
ˇˇ 

Parameters
ˇˇ &
.
ˇˇ& '
AddWithValue
ˇˇ' 3
(
ˇˇ3 4
$str
ˇˇ4 >
,
ˇˇ> ?
pMdsynDatospagosE
ˇˇ@ Q
.
ˇˇQ R
TipPrt
ˇˇR X
)
ˇˇX Y
;
ˇˇY Z
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 E
,
ÄÄE F
pMdsynDatospagosE
ÄÄG X
.
ÄÄX Y
TipParentesco
ÄÄY f
)
ÄÄf g
;
ÄÄg h
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 ?
,
ÅÅ? @
pMdsynDatospagosE
ÅÅA R
.
ÅÅR S
NroPlan
ÅÅS Z
)
ÅÅZ [
;
ÅÅ[ \
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 E
,
ÇÇE F
pMdsynDatospagosE
ÇÇG X
.
ÇÇX Y
TipDocempresa
ÇÇY f
)
ÇÇf g
;
ÇÇg h
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 E
,
ÉÉE F
pMdsynDatospagosE
ÉÉG X
.
ÉÉX Y
NumDocempresa
ÉÉY f
)
ÉÉf g
;
ÉÉg h
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 E
,
ÑÑE F
pMdsynDatospagosE
ÑÑG X
.
ÑÑX Y
FecNacimiento
ÑÑY f
)
ÑÑf g
;
ÑÑg h
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 I
,
ÖÖI J
pMdsynDatospagosE
ÖÖK \
.
ÖÖ\ ]
FecIniciovigencia
ÖÖ] n
)
ÖÖn o
;
ÖÖo p
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 F
,
ÜÜF G
pMdsynDatospagosE
ÜÜH Y
.
ÜÜY Z
FecAfilicacion
ÜÜZ h
)
ÜÜh i
;
ÜÜi j
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 D
,
ááD E
pMdsynDatospagosE
ááF W
.
ááW X
CodCobertura
ááX d
)
áád e
;
ááe f
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 B
,
ààB C
pMdsynDatospagosE
ààD U
.
ààU V

CoPagofijo
ààV `
)
àà` a
;
ààa b
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 F
,
ââF G
pMdsynDatospagosE
ââH Y
.
ââY Z
CoPagovariable
ââZ h
)
ââh i
;
ââi j
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 A
,
ääA B
pMdsynDatospagosE
ääC T
.
ääT U
	TipMoneda
ääU ^
)
ää^ _
;
ää_ `
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 H
,
ååH I
pMdsynDatospagosE
ååJ [
.
åå[ \
IdeCorrelreserva
åå\ l
)
åål m
;
ååm n
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 C
,
ççC D
pMdsynDatospagosE
ççE V
.
ççV W
TipAtencion
ççW b
)
ççb c
;
ççc d
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 C
,
ééC D
pMdsynDatospagosE
ééE V
.
ééV W
CodPaciente
ééW b
)
ééb c
;
ééc d
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 J
,
èèJ K
pMdsynDatospagosE
èèL ]
.
èè] ^ 
CodPacienteTitular
èè^ p
)
èèp q
;
èèq r
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 @
,
êê@ A
pMdsynDatospagosE
êêB S
.
êêS T
CodIAFAS
êêT \
)
êê\ ]
;
êê] ^
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 ?
,
ëë? @
pMdsynDatospagosE
ëëA R
.
ëëR S
CodSede
ëëS Z
)
ëëZ [
;
ëë[ \
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 D
,
ííD E
pMdsynDatospagosE
ííF W
.
ííW X
NroOperacion
ííX d
)
ííd e
;
ííe f
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 K
,
ììK L
pMdsynDatospagosE
ììM ^
.
ìì^ _!
DscMensajeRespuesta
ìì_ r
)
ììr s
;
ììs t
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 F
,
îîF G
pMdsynDatospagosE
îîH Y
.
îîY Z
EstPagoExitoso
îîZ h
)
îîh i
;
îîi j
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 E
,
ïïE F
pMdsynDatospagosE
ïïG X
.
ïïX Y
CodProfMedico
ïïY f
)
ïïf g
;
ïïg h
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 F
,
ññF G
pMdsynDatospagosE
ññH Y
.
ññY Z$
CodEspecialidadMedisyn
ññZ p
)
ññp q
;
ññq r
cmd
òò 
.
òò 

Parameters
òò &
.
òò& '
AddWithValue
òò' 3
(
òò3 4
$str
òò4 ?
,
òò? @
pMdsynDatospagosE
òòA R
.
òòR S
FecCita
òòS Z
)
òòZ [
;
òò[ \
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 B
,
ôôB C
pMdsynDatospagosE
ôôD U
.
ôôU V

TipTarjeta
ôôV `
)
ôô` a
;
ôôa b
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 B
,
ööB C
pMdsynDatospagosE
ööD U
.
ööU V

NumTarjeta
ööV `
)
öö` a
;
ööa b
cmd
úú 
.
úú 

Parameters
úú &
.
úú& '
AddWithValue
úú' 3
(
úú3 4
$str
úú4 O
,
úúO P
pMdsynDatospagosE
úúQ b
.
úúb c"
Comp_TipoComprobante
úúc w
)
úúw x
;
úúx y
cmd
ùù 
.
ùù 

Parameters
ùù &
.
ùù& '
AddWithValue
ùù' 3
(
ùù3 4
$str
ùù4 M
,
ùùM N
pMdsynDatospagosE
ùùO `
.
ùù` a"
Comp_TipDocIdentidad
ùùa u
)
ùùu v
;
ùùv w
cmd
ûû 
.
ûû 

Parameters
ûû &
.
ûû& '
AddWithValue
ûû' 3
(
ûû3 4
$str
ûû4 I
,
ûûI J
pMdsynDatospagosE
ûûK \
.
ûû\ ]"
Comp_RutDocIdentidad
ûû] q
)
ûûq r
;
ûûr s
cmd
üü 
.
üü 

Parameters
üü &
.
üü& '
AddWithValue
üü' 3
(
üü3 4
$str
üü4 E
,
üüE F
pMdsynDatospagosE
üüG X
.
üüX Y
Comp_DscTabla
üüY f
)
üüf g
;
üüg h
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
AddWithValue
††' 3
(
††3 4
$str
††4 M
,
††M N
pMdsynDatospagosE
††O `
.
††` a
Comp_Correo
††a l
)
††l m
;
††m n
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ &
.
¢¢& '
AddWithValue
¢¢' 3
(
¢¢3 4
$str
¢¢4 A
,
¢¢A B
pMdsynDatospagosE
¢¢C T
.
¢¢T U
	TipoEnvio
¢¢U ^
)
¢¢^ _
;
¢¢_ `
cmd
££ 
.
££ 

Parameters
££ &
.
££& '
AddWithValue
££' 3
(
££3 4
$str
££4 H
,
££H I
pMdsynDatospagosE
££J [
.
££[ \
ResponsableEnvio
££\ l
)
££l m
;
££m n
cmd
§§ 
.
§§ 

Parameters
§§ &
.
§§& '
AddWithValue
§§' 3
(
§§3 4
$str
§§4 K
,
§§K L
pMdsynDatospagosE
§§M ^
.
§§^ _#
CodTipoConsultaMedica
§§_ t
)
§§t u
;
§§u v
cmd
•• 
.
•• 

Parameters
•• &
.
••& '
AddWithValue
••' 3
(
••3 4
$str
••4 E
,
••E F
pMdsynDatospagosE
••G X
.
••X Y!
TransaccionIdNiubiz
••Y l
)
••l m
;
••m n
cmd
ßß 
.
ßß 

Parameters
ßß &
.
ßß& '
Add
ßß' *
(
ßß* +
VariablesGlobales
ßß+ <
.
ßß< =
ParametroSql
ßß= I
(
ßßI J
$str
ßßJ [
,
ßß[ \ 
ParameterDirection
ßß] o
.
ßßo p
InputOutput
ßßp {
,
ßß{ |
	SqlDbTypeßß} Ü
.ßßÜ á
Intßßá ä
,ßßä ã
$numßßå ç
,ßßç é!
pMdsynDatospagosEßßè †
.ßß† °
IdeDatospagosßß° Æ
)ßßÆ Ø
)ßßØ ∞
;ßß∞ ±
cnn
®® 
.
®® 
Open
®®  
(
®®  !
)
®®! "
;
®®" #
if
©© 
(
©© 
cmd
©© 
.
©©  
ExecuteNonQuery
©©  /
(
©©/ 0
)
©©0 1
>=
©©2 4
$num
©©5 6
)
©©6 7
{
™™ 
pMdsynDatospagosE
´´ -
.
´´- .
IdeDatospagos
´´. ;
=
´´< =
(
´´> ?
int
´´? B
)
´´B C
cmd
´´C F
.
´´F G

Parameters
´´G Q
[
´´Q R
$str
´´R c
]
´´c d
.
´´d e
Value
´´e j
;
´´j k
return
¨¨ "
true
¨¨# '
;
¨¨' (
}
≠≠ 
else
ÆÆ 
return
ØØ "
false
ØØ# (
;
ØØ( )
cmd
∞∞ 
.
∞∞ 
Dispose
∞∞ #
(
∞∞# $
)
∞∞$ %
;
∞∞% &
cnn
±± 
.
±± 
Close
±± !
(
±±! "
)
±±" #
;
±±# $
cnn
≤≤ 
.
≤≤ 
Dispose
≤≤ #
(
≤≤# $
)
≤≤$ %
;
≤≤% &
}
≥≥ 
}
¥¥ 
}
µµ 
catch
∂∂ 
(
∂∂ 
	Exception
∂∂ 
ex
∂∂ 
)
∂∂  
{
∑∑ 
throw
∏∏ 
new
∏∏ 
	Exception
∏∏ #
(
∏∏# $
ex
∏∏$ &
.
∏∏& '
Message
∏∏' .
)
∏∏. /
;
∏∏/ 0
}
ππ 
}
∫∫ 	
public
ºº 
bool
ºº ,
Sp_MdsynDatosPagos_Cita_Insert
ºº 2
(
ºº2 3
MdsynDatosPagosE
ºº3 C
pMdsynDatospagosE
ººD U
)
ººU V
{
ΩΩ 	
try
ææ 
{
øø 
using
¿¿ 
(
¿¿ 
SqlConnection
¿¿ $
cnn
¿¿% (
=
¿¿) *
new
¿¿+ .
SqlConnection
¿¿/ <
(
¿¿< =
VariablesGlobales
¿¿= N
.
¿¿N O

CnnClinica
¿¿O Y
)
¿¿Y Z
)
¿¿Z [
{
¡¡ 
using
¬¬ 
(
¬¬ 

SqlCommand
¬¬ %
cmd
¬¬& )
=
¬¬* +
new
¬¬, /

SqlCommand
¬¬0 :
(
¬¬: ;
$str
¬¬; [
,
¬¬[ \
cnn
¬¬] `
)
¬¬` a
)
¬¬a b
{
√√ 
cmd
ƒƒ 
.
ƒƒ 
CommandType
ƒƒ '
=
ƒƒ( )
CommandType
ƒƒ* 5
.
ƒƒ5 6
StoredProcedure
ƒƒ6 E
;
ƒƒE F
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ &
.
∆∆& '
AddWithValue
∆∆' 3
(
∆∆3 4
$str
∆∆4 D
,
∆∆D E
pMdsynDatospagosE
∆∆F W
.
∆∆W X
CodAsegurado
∆∆X d
)
∆∆d e
;
∆∆e f
cmd
«« 
.
«« 

Parameters
«« &
.
««& '
AddWithValue
««' 3
(
««3 4
$str
««4 D
,
««D E
pMdsynDatospagosE
««F W
.
««W X
TipDocumento
««X d
)
««d e
;
««e f
cmd
»» 
.
»» 

Parameters
»» &
.
»»& '
AddWithValue
»»' 3
(
»»3 4
$str
»»4 D
,
»»D E
pMdsynDatospagosE
»»F W
.
»»W X
NumDocumento
»»X d
)
»»d e
;
»»e f
cmd
…… 
.
…… 

Parameters
…… &
.
……& '
AddWithValue
……' 3
(
……3 4
$str
……4 >
,
……> ?
pMdsynDatospagosE
……@ Q
.
……Q R
TipPrt
……R X
)
……X Y
;
……Y Z
cmd
   
.
   

Parameters
   &
.
  & '
AddWithValue
  ' 3
(
  3 4
$str
  4 E
,
  E F
pMdsynDatospagosE
  G X
.
  X Y
TipParentesco
  Y f
)
  f g
;
  g h
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ &
.
ÀÀ& '
AddWithValue
ÀÀ' 3
(
ÀÀ3 4
$str
ÀÀ4 ?
,
ÀÀ? @
pMdsynDatospagosE
ÀÀA R
.
ÀÀR S
NroPlan
ÀÀS Z
)
ÀÀZ [
;
ÀÀ[ \
cmd
ÃÃ 
.
ÃÃ 

Parameters
ÃÃ &
.
ÃÃ& '
AddWithValue
ÃÃ' 3
(
ÃÃ3 4
$str
ÃÃ4 E
,
ÃÃE F
pMdsynDatospagosE
ÃÃG X
.
ÃÃX Y
TipDocempresa
ÃÃY f
)
ÃÃf g
;
ÃÃg h
cmd
ÕÕ 
.
ÕÕ 

Parameters
ÕÕ &
.
ÕÕ& '
AddWithValue
ÕÕ' 3
(
ÕÕ3 4
$str
ÕÕ4 E
,
ÕÕE F
pMdsynDatospagosE
ÕÕG X
.
ÕÕX Y
NumDocempresa
ÕÕY f
)
ÕÕf g
;
ÕÕg h
cmd
ŒŒ 
.
ŒŒ 

Parameters
ŒŒ &
.
ŒŒ& '
AddWithValue
ŒŒ' 3
(
ŒŒ3 4
$str
ŒŒ4 E
,
ŒŒE F
pMdsynDatospagosE
ŒŒG X
.
ŒŒX Y
FecNacimiento
ŒŒY f
)
ŒŒf g
;
ŒŒg h
cmd
œœ 
.
œœ 

Parameters
œœ &
.
œœ& '
AddWithValue
œœ' 3
(
œœ3 4
$str
œœ4 I
,
œœI J
pMdsynDatospagosE
œœK \
.
œœ\ ]
FecIniciovigencia
œœ] n
)
œœn o
;
œœo p
cmd
–– 
.
–– 

Parameters
–– &
.
––& '
AddWithValue
––' 3
(
––3 4
$str
––4 F
,
––F G
pMdsynDatospagosE
––H Y
.
––Y Z
FecAfilicacion
––Z h
)
––h i
;
––i j
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 D
,
——D E
pMdsynDatospagosE
——F W
.
——W X
CodCobertura
——X d
)
——d e
;
——e f
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 B
,
““B C
pMdsynDatospagosE
““D U
.
““U V

CoPagofijo
““V `
)
““` a
;
““a b
cmd
”” 
.
”” 

Parameters
”” &
.
””& '
AddWithValue
””' 3
(
””3 4
$str
””4 F
,
””F G
pMdsynDatospagosE
””H Y
.
””Y Z
CoPagovariable
””Z h
)
””h i
;
””i j
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ &
.
‘‘& '
AddWithValue
‘‘' 3
(
‘‘3 4
$str
‘‘4 A
,
‘‘A B
pMdsynDatospagosE
‘‘C T
.
‘‘T U
	TipMoneda
‘‘U ^
)
‘‘^ _
;
‘‘_ `
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
AddWithValue
÷÷' 3
(
÷÷3 4
$str
÷÷4 ?
,
÷÷? @
pMdsynDatospagosE
÷÷A R
.
÷÷R S
IdeCita
÷÷S Z
)
÷÷Z [
;
÷÷[ \
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ &
.
◊◊& '
AddWithValue
◊◊' 3
(
◊◊3 4
$str
◊◊4 C
,
◊◊C D
pMdsynDatospagosE
◊◊E V
.
◊◊V W
TipAtencion
◊◊W b
)
◊◊b c
;
◊◊c d
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ &
.
ÿÿ& '
AddWithValue
ÿÿ' 3
(
ÿÿ3 4
$str
ÿÿ4 C
,
ÿÿC D
pMdsynDatospagosE
ÿÿE V
.
ÿÿV W
CodPaciente
ÿÿW b
)
ÿÿb c
;
ÿÿc d
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ &
.
ŸŸ& '
AddWithValue
ŸŸ' 3
(
ŸŸ3 4
$str
ŸŸ4 J
,
ŸŸJ K
pMdsynDatospagosE
ŸŸL ]
.
ŸŸ] ^ 
CodPacienteTitular
ŸŸ^ p
)
ŸŸp q
;
ŸŸq r
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ &
.
⁄⁄& '
AddWithValue
⁄⁄' 3
(
⁄⁄3 4
$str
⁄⁄4 @
,
⁄⁄@ A
pMdsynDatospagosE
⁄⁄B S
.
⁄⁄S T
CodIAFAS
⁄⁄T \
)
⁄⁄\ ]
;
⁄⁄] ^
cmd
€€ 
.
€€ 

Parameters
€€ &
.
€€& '
AddWithValue
€€' 3
(
€€3 4
$str
€€4 ?
,
€€? @
pMdsynDatospagosE
€€A R
.
€€R S
CodSede
€€S Z
)
€€Z [
;
€€[ \
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ &
.
‹‹& '
AddWithValue
‹‹' 3
(
‹‹3 4
$str
‹‹4 D
,
‹‹D E
pMdsynDatospagosE
‹‹F W
.
‹‹W X
NroOperacion
‹‹X d
)
‹‹d e
;
‹‹e f
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 K
,
››K L
pMdsynDatospagosE
››M ^
.
››^ _!
DscMensajeRespuesta
››_ r
)
››r s
;
››s t
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ &
.
ﬁﬁ& '
AddWithValue
ﬁﬁ' 3
(
ﬁﬁ3 4
$str
ﬁﬁ4 F
,
ﬁﬁF G
pMdsynDatospagosE
ﬁﬁH Y
.
ﬁﬁY Z
EstPagoExitoso
ﬁﬁZ h
)
ﬁﬁh i
;
ﬁﬁi j
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ &
.
ﬂﬂ& '
AddWithValue
ﬂﬂ' 3
(
ﬂﬂ3 4
$str
ﬂﬂ4 E
,
ﬂﬂE F
pMdsynDatospagosE
ﬂﬂG X
.
ﬂﬂX Y
CodProfMedico
ﬂﬂY f
)
ﬂﬂf g
;
ﬂﬂg h
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ &
.
‡‡& '
AddWithValue
‡‡' 3
(
‡‡3 4
$str
‡‡4 F
,
‡‡F G
pMdsynDatospagosE
‡‡H Y
.
‡‡Y Z$
CodEspecialidadMedisyn
‡‡Z p
)
‡‡p q
;
‡‡q r
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ &
.
‚‚& '
AddWithValue
‚‚' 3
(
‚‚3 4
$str
‚‚4 ?
,
‚‚? @
pMdsynDatospagosE
‚‚A R
.
‚‚R S
FecCita
‚‚S Z
)
‚‚Z [
;
‚‚[ \
cmd
„„ 
.
„„ 

Parameters
„„ &
.
„„& '
AddWithValue
„„' 3
(
„„3 4
$str
„„4 B
,
„„B C
pMdsynDatospagosE
„„D U
.
„„U V

TipTarjeta
„„V `
)
„„` a
;
„„a b
cmd
‰‰ 
.
‰‰ 

Parameters
‰‰ &
.
‰‰& '
AddWithValue
‰‰' 3
(
‰‰3 4
$str
‰‰4 B
,
‰‰B C
pMdsynDatospagosE
‰‰D U
.
‰‰U V

NumTarjeta
‰‰V `
)
‰‰` a
;
‰‰a b
cmd
ÊÊ 
.
ÊÊ 

Parameters
ÊÊ &
.
ÊÊ& '
AddWithValue
ÊÊ' 3
(
ÊÊ3 4
$str
ÊÊ4 O
,
ÊÊO P
pMdsynDatospagosE
ÊÊQ b
.
ÊÊb c"
Comp_TipoComprobante
ÊÊc w
)
ÊÊw x
;
ÊÊx y
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ &
.
ÁÁ& '
AddWithValue
ÁÁ' 3
(
ÁÁ3 4
$str
ÁÁ4 M
,
ÁÁM N
pMdsynDatospagosE
ÁÁO `
.
ÁÁ` a"
Comp_TipDocIdentidad
ÁÁa u
)
ÁÁu v
;
ÁÁv w
cmd
ËË 
.
ËË 

Parameters
ËË &
.
ËË& '
AddWithValue
ËË' 3
(
ËË3 4
$str
ËË4 I
,
ËËI J
pMdsynDatospagosE
ËËK \
.
ËË\ ]"
Comp_RutDocIdentidad
ËË] q
)
ËËq r
;
ËËr s
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ &
.
ÈÈ& '
AddWithValue
ÈÈ' 3
(
ÈÈ3 4
$str
ÈÈ4 E
,
ÈÈE F
pMdsynDatospagosE
ÈÈG X
.
ÈÈX Y
Comp_DscTabla
ÈÈY f
)
ÈÈf g
;
ÈÈg h
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ &
.
ÍÍ& '
AddWithValue
ÍÍ' 3
(
ÍÍ3 4
$str
ÍÍ4 M
,
ÍÍM N
pMdsynDatospagosE
ÍÍO `
.
ÍÍ` a
Comp_Correo
ÍÍa l
)
ÍÍl m
;
ÍÍm n
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ &
.
ÏÏ& '
AddWithValue
ÏÏ' 3
(
ÏÏ3 4
$str
ÏÏ4 A
,
ÏÏA B
pMdsynDatospagosE
ÏÏC T
.
ÏÏT U
	TipoEnvio
ÏÏU ^
)
ÏÏ^ _
;
ÏÏ_ `
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ &
.
ÌÌ& '
AddWithValue
ÌÌ' 3
(
ÌÌ3 4
$str
ÌÌ4 H
,
ÌÌH I
pMdsynDatospagosE
ÌÌJ [
.
ÌÌ[ \
ResponsableEnvio
ÌÌ\ l
)
ÌÌl m
;
ÌÌm n
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ &
.
ÓÓ& '
AddWithValue
ÓÓ' 3
(
ÓÓ3 4
$str
ÓÓ4 K
,
ÓÓK L
pMdsynDatospagosE
ÓÓM ^
.
ÓÓ^ _#
CodTipoConsultaMedica
ÓÓ_ t
)
ÓÓt u
;
ÓÓu v
cmd
ÔÔ 
.
ÔÔ 

Parameters
ÔÔ &
.
ÔÔ& '
AddWithValue
ÔÔ' 3
(
ÔÔ3 4
$str
ÔÔ4 E
,
ÔÔE F
pMdsynDatospagosE
ÔÔG X
.
ÔÔX Y!
TransaccionIdNiubiz
ÔÔY l
)
ÔÔl m
;
ÔÔm n
cmd
ÒÒ 
.
ÒÒ 

Parameters
ÒÒ &
.
ÒÒ& '
AddWithValue
ÒÒ' 3
(
ÒÒ3 4
$str
ÒÒ4 F
,
ÒÒF G
pMdsynDatospagosE
ÒÒH Y
.
ÒÒY Z
CodAseguradora
ÒÒZ h
)
ÒÒh i
;
ÒÒi j
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ &
.
ÚÚ& '
AddWithValue
ÚÚ' 3
(
ÚÚ3 4
$str
ÚÚ4 D
,
ÚÚD E
pMdsynDatospagosE
ÚÚF W
.
ÚÚW X
	CodSunasa
ÚÚX a
)
ÚÚa b
;
ÚÚb c
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ &
.
ÛÛ& '
AddWithValue
ÛÛ' 3
(
ÛÛ3 4
$str
ÛÛ4 A
,
ÛÛA B
pMdsynDatospagosE
ÛÛC T
.
ÛÛT U
	CodMedico
ÛÛU ^
)
ÛÛ^ _
;
ÛÛ_ `
cmd
ÙÙ 
.
ÙÙ 

Parameters
ÙÙ &
.
ÙÙ& '
AddWithValue
ÙÙ' 3
(
ÙÙ3 4
$str
ÙÙ4 G
,
ÙÙG H
pMdsynDatospagosE
ÙÙI Z
.
ÙÙZ [
CodEspecialidad
ÙÙ[ j
)
ÙÙj k
;
ÙÙk l
cmd
ˆˆ 
.
ˆˆ 

Parameters
ˆˆ &
.
ˆˆ& '
AddWithValue
ˆˆ' 3
(
ˆˆ3 4
$str
ˆˆ4 M
,
ˆˆM N
pMdsynDatospagosE
ˆˆO `
.
ˆˆ` a#
NumAutorizacionSiteds
ˆˆa v
)
ˆˆv w
;
ˆˆw x
cmd
¯¯ 
.
¯¯ 

Parameters
¯¯ &
.
¯¯& '
Add
¯¯' *
(
¯¯* +
VariablesGlobales
¯¯+ <
.
¯¯< =
ParametroSql
¯¯= I
(
¯¯I J
$str
¯¯J [
,
¯¯[ \ 
ParameterDirection
¯¯] o
.
¯¯o p
InputOutput
¯¯p {
,
¯¯{ |
	SqlDbType¯¯} Ü
.¯¯Ü á
Int¯¯á ä
,¯¯ä ã
$num¯¯å ç
,¯¯ç é!
pMdsynDatospagosE¯¯è †
.¯¯† °
IdeDatospagos¯¯° Æ
)¯¯Æ Ø
)¯¯Ø ∞
;¯¯∞ ±
cnn
˘˘ 
.
˘˘ 
Open
˘˘  
(
˘˘  !
)
˘˘! "
;
˘˘" #
if
˙˙ 
(
˙˙ 
cmd
˙˙ 
.
˙˙  
ExecuteNonQuery
˙˙  /
(
˙˙/ 0
)
˙˙0 1
>=
˙˙2 4
$num
˙˙5 6
)
˙˙6 7
{
˚˚ 
pMdsynDatospagosE
¸¸ -
.
¸¸- .
IdeDatospagos
¸¸. ;
=
¸¸< =
(
¸¸> ?
int
¸¸? B
)
¸¸B C
cmd
¸¸C F
.
¸¸F G

Parameters
¸¸G Q
[
¸¸Q R
$str
¸¸R c
]
¸¸c d
.
¸¸d e
Value
¸¸e j
;
¸¸j k
return
˝˝ "
true
˝˝# '
;
˝˝' (
}
˛˛ 
else
ˇˇ 
return
ÄÄ "
false
ÄÄ# (
;
ÄÄ( )
cmd
ÅÅ 
.
ÅÅ 
Dispose
ÅÅ #
(
ÅÅ# $
)
ÅÅ$ %
;
ÅÅ% &
cnn
ÇÇ 
.
ÇÇ 
Close
ÇÇ !
(
ÇÇ! "
)
ÇÇ" #
;
ÇÇ# $
cnn
ÉÉ 
.
ÉÉ 
Dispose
ÉÉ #
(
ÉÉ# $
)
ÉÉ$ %
;
ÉÉ% &
}
ÑÑ 
}
ÖÖ 
}
ÜÜ 
catch
áá 
(
áá 
	Exception
áá 
ex
áá 
)
áá  
{
àà 
throw
ââ 
new
ââ 
	Exception
ââ #
(
ââ# $
ex
ââ$ &
.
ââ& '
Message
ââ' .
)
ââ. /
;
ââ/ 0
}
ää 
}
ãã 	
public
èè 
bool
èè '
Sp_MdsynDatosPagos_Update
èè -
(
èè- .
MdsynDatosPagosE
èè. >
pMdsynDatospagosE
èè? P
)
èèP Q
{
êê 	
try
ëë 
{
íí 
using
ìì 
(
ìì 
SqlConnection
ìì $
cnn
ìì% (
=
ìì) *
new
ìì+ .
SqlConnection
ìì/ <
(
ìì< =
VariablesGlobales
ìì= N
.
ììN O

CnnClinica
ììO Y
)
ììY Z
)
ììZ [
{
îî 
using
ïï 
(
ïï 

SqlCommand
ïï %
cmd
ïï& )
=
ïï* +
new
ïï, /

SqlCommand
ïï0 :
(
ïï: ;
$str
ïï; V
,
ïïV W
cnn
ïïX [
)
ïï[ \
)
ïï\ ]
{
ññ 
cmd
óó 
.
óó 
CommandType
óó '
=
óó( )
CommandType
óó* 5
.
óó5 6
StoredProcedure
óó6 E
;
óóE F
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 E
,
ôôE F
pMdsynDatospagosE
ôôG X
.
ôôX Y
IdeDatospagos
ôôY f
)
ôôf g
;
ôôg h
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 C
,
ööC D
pMdsynDatospagosE
ööE V
.
ööV W
CodAtencion
ööW b
)
ööb c
;
ööc d
cmd
õõ 
.
õõ 

Parameters
õõ &
.
õõ& '
AddWithValue
õõ' 3
(
õõ3 4
$str
õõ4 F
,
õõF G
pMdsynDatospagosE
õõH Y
.
õõY Z
CodComprobante
õõZ h
)
õõh i
;
õõi j
cmd
úú 
.
úú 

Parameters
úú &
.
úú& '
AddWithValue
úú' 3
(
úú3 4
$str
úú4 F
,
úúF G
pMdsynDatospagosE
úúH Y
.
úúY Z
CodLiquidacion
úúZ h
)
úúh i
;
úúi j
cmd
ùù 
.
ùù 

Parameters
ùù &
.
ùù& '
AddWithValue
ùù' 3
(
ùù3 4
$str
ùù4 M
,
ùùM N
pMdsynDatospagosE
ùùO `
.
ùù` a 
CodigoAutorizacion
ùùa s
)
ùùs t
;
ùùt u
cnn
ûû 
.
ûû 
Open
ûû  
(
ûû  !
)
ûû! "
;
ûû" #
if
üü 
(
üü 
cmd
üü 
.
üü  
ExecuteNonQuery
üü  /
(
üü/ 0
)
üü0 1
>=
üü2 4
$num
üü5 6
)
üü6 7
return
†† "
true
††# '
;
††' (
else
°° 
return
¢¢ "
false
¢¢# (
;
¢¢( )
cmd
££ 
.
££ 
Dispose
££ #
(
££# $
)
££$ %
;
££% &
cnn
§§ 
.
§§ 
Close
§§ !
(
§§! "
)
§§" #
;
§§# $
cnn
•• 
.
•• 
Dispose
•• #
(
••# $
)
••$ %
;
••% &
}
¶¶ 
}
ßß 
}
®® 
catch
©© 
(
©© 
	Exception
©© 
ex
©© 
)
©©  
{
™™ 
throw
´´ 
new
´´ 
	Exception
´´ #
(
´´# $
ex
´´$ &
.
´´& '
Message
´´' .
)
´´. /
;
´´/ 0
}
¨¨ 
}
≠≠ 	
public
ØØ 
bool
ØØ *
Sp_MdsynDatosPagos_Update_V2
ØØ 0
(
ØØ0 1
MdsynDatosPagosE
ØØ1 A
pMdsynDatospagosE
ØØB S
)
ØØS T
{
∞∞ 	
try
±± 
{
≤≤ 
using
≥≥ 
(
≥≥ 
SqlConnection
≥≥ $
cnn
≥≥% (
=
≥≥) *
new
≥≥+ .
SqlConnection
≥≥/ <
(
≥≥< =
VariablesGlobales
≥≥= N
.
≥≥N O

CnnClinica
≥≥O Y
)
≥≥Y Z
)
≥≥Z [
{
¥¥ 
using
µµ 
(
µµ 

SqlCommand
µµ %
cmd
µµ& )
=
µµ* +
new
µµ, /

SqlCommand
µµ0 :
(
µµ: ;
$str
µµ; Y
,
µµY Z
cnn
µµ[ ^
)
µµ^ _
)
µµ_ `
{
∂∂ 
cmd
∑∑ 
.
∑∑ 
CommandType
∑∑ '
=
∑∑( )
CommandType
∑∑* 5
.
∑∑5 6
StoredProcedure
∑∑6 E
;
∑∑E F
cmd
ππ 
.
ππ 

Parameters
ππ &
.
ππ& '
AddWithValue
ππ' 3
(
ππ3 4
$str
ππ4 E
,
ππE F
pMdsynDatospagosE
ππG X
.
ππX Y
IdeDatospagos
ππY f
)
ππf g
;
ππg h
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ &
.
∫∫& '
AddWithValue
∫∫' 3
(
∫∫3 4
$str
∫∫4 C
,
∫∫C D
pMdsynDatospagosE
∫∫E V
.
∫∫V W
CodAtencion
∫∫W b
)
∫∫b c
;
∫∫c d
cmd
ªª 
.
ªª 

Parameters
ªª &
.
ªª& '
AddWithValue
ªª' 3
(
ªª3 4
$str
ªª4 F
,
ªªF G
pMdsynDatospagosE
ªªH Y
.
ªªY Z
CodComprobante
ªªZ h
)
ªªh i
;
ªªi j
cmd
ºº 
.
ºº 

Parameters
ºº &
.
ºº& '
AddWithValue
ºº' 3
(
ºº3 4
$str
ºº4 F
,
ººF G
pMdsynDatospagosE
ººH Y
.
ººY Z
CodLiquidacion
ººZ h
)
ººh i
;
ººi j
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ &
.
ΩΩ& '
AddWithValue
ΩΩ' 3
(
ΩΩ3 4
$str
ΩΩ4 M
,
ΩΩM N
pMdsynDatospagosE
ΩΩO `
.
ΩΩ` a 
CodigoAutorizacion
ΩΩa s
)
ΩΩs t
;
ΩΩt u
cmd
øø 
.
øø 

Parameters
øø &
.
øø& '
AddWithValue
øø' 3
(
øø3 4
$str
øø4 <
,
øø< =
pMdsynDatospagosE
øø> O
.
øøO P
Orden
øøP U
)
øøU V
;
øøV W
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
.
¿¿& '
AddWithValue
¿¿' 3
(
¿¿3 4
$str
¿¿4 K
,
¿¿K L
pMdsynDatospagosE
¿¿M ^
.
¿¿^ _!
DscMensajeRespuesta
¿¿_ r
)
¿¿r s
;
¿¿s t
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 F
,
¡¡F G
pMdsynDatospagosE
¡¡H Y
.
¡¡Y Z
EstPagoExitoso
¡¡Z h
)
¡¡h i
;
¡¡i j
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ &
.
¬¬& '
AddWithValue
¬¬' 3
(
¬¬3 4
$str
¬¬4 B
,
¬¬B C
pMdsynDatospagosE
¬¬D U
.
¬¬U V

TipTarjeta
¬¬V `
)
¬¬` a
;
¬¬a b
cmd
√√ 
.
√√ 

Parameters
√√ &
.
√√& '
AddWithValue
√√' 3
(
√√3 4
$str
√√4 B
,
√√B C
pMdsynDatospagosE
√√D U
.
√√U V

NumTarjeta
√√V `
)
√√` a
;
√√a b
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ &
.
≈≈& '
AddWithValue
≈≈' 3
(
≈≈3 4
$str
≈≈4 D
,
≈≈D E
pMdsynDatospagosE
≈≈F W
.
≈≈W X
NroOperacion
≈≈X d
)
≈≈d e
;
≈≈e f
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ &
.
∆∆& '
AddWithValue
∆∆' 3
(
∆∆3 4
$str
∆∆4 E
,
∆∆E F
pMdsynDatospagosE
∆∆G X
.
∆∆X Y
JsonRptaVisa
∆∆Y e
)
∆∆e f
;
∆∆f g
cnn
‘‘ 
.
‘‘ 
Open
‘‘  
(
‘‘  !
)
‘‘! "
;
‘‘" #
if
’’ 
(
’’ 
cmd
’’ 
.
’’  
ExecuteNonQuery
’’  /
(
’’/ 0
)
’’0 1
>=
’’2 4
$num
’’5 6
)
’’6 7
return
÷÷ "
true
÷÷# '
;
÷÷' (
else
◊◊ 
return
ÿÿ "
false
ÿÿ# (
;
ÿÿ( )
cmd
ŸŸ 
.
ŸŸ 
Dispose
ŸŸ #
(
ŸŸ# $
)
ŸŸ$ %
;
ŸŸ% &
cnn
⁄⁄ 
.
⁄⁄ 
Close
⁄⁄ !
(
⁄⁄! "
)
⁄⁄" #
;
⁄⁄# $
cnn
€€ 
.
€€ 
Dispose
€€ #
(
€€# $
)
€€$ %
;
€€% &
}
‹‹ 
}
›› 
}
ﬁﬁ 
catch
ﬂﬂ 
(
ﬂﬂ 
	Exception
ﬂﬂ 
ex
ﬂﬂ 
)
ﬂﬂ  
{
‡‡ 
throw
·· 
new
·· 
	Exception
·· #
(
··# $
ex
··$ &
.
··& '
Message
··' .
)
··. /
;
··/ 0
}
‚‚ 
}
„„ 	
public
ÂÂ 
bool
ÂÂ -
Sp_MdsynDatosPagos_UpdatexCampo
ÂÂ 3
(
ÂÂ3 4
MdsynDatosPagosE
ÂÂ4 D
pMdsynDatospagosE
ÂÂE V
)
ÂÂV W
{
ÊÊ 	
try
ÁÁ 
{
ËË 
using
ÈÈ 
(
ÈÈ 
SqlConnection
ÈÈ $
cnn
ÈÈ% (
=
ÈÈ) *
new
ÈÈ+ .
SqlConnection
ÈÈ/ <
(
ÈÈ< =
VariablesGlobales
ÈÈ= N
.
ÈÈN O

CnnClinica
ÈÈO Y
)
ÈÈY Z
)
ÈÈZ [
{
ÍÍ 
using
ÎÎ 
(
ÎÎ 

SqlCommand
ÎÎ %
cmd
ÎÎ& )
=
ÎÎ* +
new
ÎÎ, /

SqlCommand
ÎÎ0 :
(
ÎÎ: ;
$str
ÎÎ; ^
,
ÎÎ^ _
cnn
ÎÎ` c
)
ÎÎc d
)
ÎÎd e
{
ÏÏ 
cmd
ÌÌ 
.
ÌÌ 
CommandType
ÌÌ '
=
ÌÌ( )
CommandType
ÌÌ* 5
.
ÌÌ5 6
StoredProcedure
ÌÌ6 E
;
ÌÌE F
cmd
ÔÔ 
.
ÔÔ 

Parameters
ÔÔ &
.
ÔÔ& '
AddWithValue
ÔÔ' 3
(
ÔÔ3 4
$str
ÔÔ4 E
,
ÔÔE F
pMdsynDatospagosE
ÔÔG X
.
ÔÔX Y
IdeDatospagos
ÔÔY f
)
ÔÔf g
;
ÔÔg h
cmd
 
.
 

Parameters
 &
.
& '
AddWithValue
' 3
(
3 4
$str
4 B
,
B C
pMdsynDatospagosE
D U
.
U V

NuevoValor
V `
)
` a
;
a b
cmd
ÒÒ 
.
ÒÒ 

Parameters
ÒÒ &
.
ÒÒ& '
AddWithValue
ÒÒ' 3
(
ÒÒ3 4
$str
ÒÒ4 <
,
ÒÒ< =
pMdsynDatospagosE
ÒÒ> O
.
ÒÒO P
Campo
ÒÒP U
)
ÒÒU V
;
ÒÒV W
cnn
ÚÚ 
.
ÚÚ 
Open
ÚÚ  
(
ÚÚ  !
)
ÚÚ! "
;
ÚÚ" #
if
ÛÛ 
(
ÛÛ 
cmd
ÛÛ 
.
ÛÛ  
ExecuteNonQuery
ÛÛ  /
(
ÛÛ/ 0
)
ÛÛ0 1
>=
ÛÛ2 4
$num
ÛÛ5 6
)
ÛÛ6 7
return
ÙÙ "
true
ÙÙ# '
;
ÙÙ' (
else
ıı 
return
ˆˆ "
false
ˆˆ# (
;
ˆˆ( )
cmd
˜˜ 
.
˜˜ 
Dispose
˜˜ #
(
˜˜# $
)
˜˜$ %
;
˜˜% &
cnn
¯¯ 
.
¯¯ 
Close
¯¯ !
(
¯¯! "
)
¯¯" #
;
¯¯# $
cnn
˘˘ 
.
˘˘ 
Dispose
˘˘ #
(
˘˘# $
)
˘˘$ %
;
˘˘% &
}
˙˙ 
}
˚˚ 
}
¸¸ 
catch
˝˝ 
(
˝˝ 
	Exception
˝˝ 
ex
˝˝ 
)
˝˝  
{
˛˛ 
throw
ˇˇ 
new
ˇˇ 
	Exception
ˇˇ #
(
ˇˇ# $
ex
ˇˇ$ &
.
ˇˇ& '
Message
ˇˇ' .
)
ˇˇ. /
;
ˇˇ/ 0
}
ÄÄ 
}
ÅÅ 	
public
ÉÉ 
bool
ÉÉ '
Sp_MdsynDatosPagos_Delete
ÉÉ -
(
ÉÉ- .
MdsynDatosPagosE
ÉÉ. >
pMdsynDatospagosE
ÉÉ? P
)
ÉÉP Q
{
ÑÑ 	
try
ÖÖ 
{
ÜÜ 
using
áá 
(
áá 
SqlConnection
áá $
cnn
áá% (
=
áá) *
new
áá+ .
SqlConnection
áá/ <
(
áá< =
VariablesGlobales
áá= N
.
ááN O

CnnClinica
ááO Y
)
ááY Z
)
ááZ [
{
àà 
using
ââ 
(
ââ 

SqlCommand
ââ %
cmd
ââ& )
=
ââ* +
new
ââ, /

SqlCommand
ââ0 :
(
ââ: ;
$str
ââ; V
,
ââV W
cnn
ââX [
)
ââ[ \
)
ââ\ ]
{
ää 
cmd
ãã 
.
ãã 
CommandType
ãã '
=
ãã( )
CommandType
ãã* 5
.
ãã5 6
StoredProcedure
ãã6 E
;
ããE F
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 E
,
ççE F
pMdsynDatospagosE
ççG X
.
ççX Y
IdeDatospagos
ççY f
)
ççf g
;
ççg h
cnn
éé 
.
éé 
Open
éé  
(
éé  !
)
éé! "
;
éé" #
if
èè 
(
èè 
cmd
èè 
.
èè  
ExecuteNonQuery
èè  /
(
èè/ 0
)
èè0 1
>=
èè2 4
$num
èè5 6
)
èè6 7
return
êê "
true
êê# '
;
êê' (
else
ëë 
return
íí "
false
íí# (
;
íí( )
cmd
ìì 
.
ìì 
Dispose
ìì #
(
ìì# $
)
ìì$ %
;
ìì% &
cnn
îî 
.
îî 
Close
îî !
(
îî! "
)
îî" #
;
îî# $
cnn
ïï 
.
ïï 
Dispose
ïï #
(
ïï# $
)
ïï$ %
;
ïï% &
}
ññ 
}
óó 
}
òò 
catch
ôô 
(
ôô 
	Exception
ôô 
ex
ôô 
)
ôô  
{
öö 
throw
õõ 
new
õõ 
	Exception
õõ #
(
õõ# $
ex
õõ$ &
.
õõ& '
Message
õõ' .
)
õõ. /
;
õõ/ 0
}
úú 
}
ùù 	
}
ûû 
}üü Ôó
sD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedisynAD\MdsynAutorizacionCuestionariosDetAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
	MedisynAD

 %
{ 
public 

class /
#MdsynAutorizacionCuestionariosDetAD 5
{ 
private .
"MdsynAutorizacionCuestionariosDetE 2
LlenarEntidad3 @
(@ A
IDataReaderA L
drM O
,O P.
"MdsynAutorizacionCuestionariosDetEQ s0
#pMdsynAutorizacionCuestionariosDetE	t ó
)
ó ò
{ 	.
"MdsynAutorizacionCuestionariosDetE ./
#oMdsynAutorizacionCuestionariosDetE/ R
=S T
newU X.
"MdsynAutorizacionCuestionariosDetEY {
({ |
)| }
;} ~
switch 
( /
#pMdsynAutorizacionCuestionariosDetE 7
.7 8
Orden8 =
)= >
{ 
case 
$num 
: 
{ /
#oMdsynAutorizacionCuestionariosDetE ;
.; <
IdeAutorizacionCab< N
=O P
(Q R
intR U
)U V
drW Y
[Y Z
$strZ p
]p q
;q r/
#oMdsynAutorizacionCuestionariosDetE ;
.; < 
DscTextoAutorizacion< P
=Q R
(S T
stringT Z
)Z [
dr\ ^
[^ _
$str_ w
]w x
;x y/
#oMdsynAutorizacionCuestionariosDetE ;
.; <
DscRespuesta< H
=I J
(K L
stringL R
)R S
drT V
[V W
$strW f
]f g
;g h/
#oMdsynAutorizacionCuestionariosDetE ;
.; <
FecRegistro< G
=H I
(J K
DateTimeK S
)S T
drU W
[W X
$strX f
]f g
;g h/
#oMdsynAutorizacionCuestionariosDetE ;
.; <
IdeAutorizacionDet< N
=O P
(Q R
intR U
)U V
drW Y
[Y Z
$strZ p
]p q
;q r
break 
; 
} 
} 
return /
#oMdsynAutorizacionCuestionariosDetE 6
;6 7
} 	
public   
List   
<   .
"MdsynAutorizacionCuestionariosDetE   6
>  6 79
-Sp_MdsynAutorizacionCuestionariosDet_Consulta  8 e
(  e f/
"MdsynAutorizacionCuestionariosDetE	  f à1
#pMdsynAutorizacionCuestionariosDetE
  â ¨
)
  ¨ ≠
{!! 	
IDataReader"" 
dr"" 
;"" .
"MdsynAutorizacionCuestionariosDetE## ./
#oMdsynAutorizacionCuestionariosDetE##/ R
=##S T
null##U Y
;
##ò ô
List$$ 
<$$ .
"MdsynAutorizacionCuestionariosDetE$$ 3
>$$3 4
oListar$$5 <
=$$= >
new$$? B
List$$C G
<$$G H.
"MdsynAutorizacionCuestionariosDetE$$H j
>$$j k
($$k l
)$$l m
;$$m n
try%% 
{&& 
using'' 
('' 
SqlConnection'' $
cnn''% (
='') *
new''+ .
SqlConnection''/ <
(''< =
VariablesGlobales''= N
.''N O

CnnClinica''O Y
)''Y Z
)''Z [
{(( 
using)) 
()) 

SqlCommand)) %
cmd))& )
=))* +
new)), /

SqlCommand))0 :
()): ;
$str)); j
,))j k
cnn))l o
)))o p
)))p q
{** 
cmd++ 
.++ 
CommandType++ '
=++( )
CommandType++* 5
.++5 6
StoredProcedure++6 E
;++E F
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 K
,--K L/
#pMdsynAutorizacionCuestionariosDetE--M p
.--p q
IdeAutorizacionDet	--q É
)
--É Ñ
;
--Ñ Ö
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 <
,..< =/
#pMdsynAutorizacionCuestionariosDetE..> a
...a b
Orden..b g
)..g h
;..h i
cnn// 
.// 
Open//  
(//  !
)//! "
;//" #
dr00 
=00 
cmd00  
.00  !
ExecuteReader00! .
(00. /
)00/ 0
;000 1
while11 
(11 
dr11 !
.11! "
Read11" &
(11& '
)11' (
)11( )
{22 /
#oMdsynAutorizacionCuestionariosDetE33 ?
=33@ A
LlenarEntidad33B O
(33O P
dr33P R
,33R S/
#pMdsynAutorizacionCuestionariosDetE33T w
)33w x
;33x y
oListar44 #
.44# $
Add44$ '
(44' (/
#oMdsynAutorizacionCuestionariosDetE44( K
)44K L
;44L M
}55 
dr66 
.66 
Close66  
(66  !
)66! "
;66" #
dr77 
.77 
Dispose77 "
(77" #
)77# $
;77$ %
cmd88 
.88 
Dispose88 #
(88# $
)88$ %
;88% &
cnn99 
.99 
Close99 !
(99! "
)99" #
;99# $
cnn:: 
.:: 
Dispose:: #
(::# $
)::$ %
;::% &
return<< 
oListar<< &
;<<& '
}== 
}>> 
}?? 
catch@@ 
(@@ 
	Exception@@ 
ex@@ 
)@@  
{AA 
throwBB 
newBB 
	ExceptionBB #
(BB# $
exBB$ &
.BB& '
MessageBB' .
)BB. /
;BB/ 0
}CC 
}DD 	
publicFF 
boolFF 7
+Sp_MdsynAutorizacionCuestionariosDet_InsertFF ?
(FF? @.
"MdsynAutorizacionCuestionariosDetEFF@ b0
#pMdsynAutorizacionCuestionariosDetE	FFc Ü
)
FFÜ á
{GG 	
tryHH 
{II 
usingJJ 
(JJ 
SqlConnectionJJ $
cnnJJ% (
=JJ) *
newJJ+ .
SqlConnectionJJ/ <
(JJ< =
VariablesGlobalesJJ= N
.JJN O

CnnClinicaJJO Y
)JJY Z
)JJZ [
{KK 
usingLL 
(LL 

SqlCommandLL %
cmdLL& )
=LL* +
newLL, /

SqlCommandLL0 :
(LL: ;
$strLL; h
,LLh i
cnnLLj m
)LLm n
)LLn o
{MM 
cmdNN 
.NN 
CommandTypeNN '
=NN( )
CommandTypeNN* 5
.NN5 6
StoredProcedureNN6 E
;NNE F
cmdPP 
.PP 

ParametersPP &
.PP& '
AddWithValuePP' 3
(PP3 4
$strPP4 K
,PPK L/
#pMdsynAutorizacionCuestionariosDetEPPM p
.PPp q
IdeAutorizacionCab	PPq É
)
PPÉ Ñ
;
PPÑ Ö
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddWithValueQQ' 3
(QQ3 4
$strQQ4 M
,QQM N/
#pMdsynAutorizacionCuestionariosDetEQQO r
.QQr s!
DscTextoAutorizacion	QQs á
)
QQá à
;
QQà â
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 D
,RRD E/
#pMdsynAutorizacionCuestionariosDetERRF i
.RRi j
DscRespuestaRRj v
)RRv w
;RRw x
cmdSS 
.SS 

ParametersSS &
.SS& '
AddSS' *
(SS* +
VariablesGlobalesSS+ <
.SS< =
ParametroSqlSS= I
(SSI J
$strSSJ a
,SSa b
ParameterDirectionSSc u
.SSu v
InputOutput	SSv Å
,
SSÅ Ç
	SqlDbType
SSÉ å
.
SSå ç
Int
SSç ê
,
SSê ë
$num
SSí ì
,
SSì î1
#pMdsynAutorizacionCuestionariosDetE
SSï ∏
.
SS∏ π 
IdeAutorizacionDet
SSπ À
.
SSÀ Ã
ToString
SSÃ ‘
(
SS‘ ’
)
SS’ ÷
)
SS÷ ◊
)
SS◊ ÿ
;
SSÿ Ÿ
cmdTT 
.TT 

ParametersTT &
.TT& '
AddWithValueTT' 3
(TT3 4
$strTT4 8
,TT8 9/
#pMdsynAutorizacionCuestionariosDetETT: ]
.TT] ^
iTT^ _
)TT_ `
;TT` a
cmdUU 
.UU 

ParametersUU &
.UU& '
AddWithValueUU' 3
(UU3 4
$strUU4 L
,UUL M/
#pMdsynAutorizacionCuestionariosDetEUUN q
.UUq r 
CodTipoCuestionario	UUr Ö
)
UUÖ Ü
;
UUÜ á
cnnWW 
.WW 
OpenWW  
(WW  !
)WW! "
;WW" #
cmdXX 
.XX 
ExecuteNonQueryXX +
(XX+ ,
)XX, -
;XX- ./
#pMdsynAutorizacionCuestionariosDetEYY ;
.YY; <
IdeAutorizacionDetYY< N
=YYO P
(YYQ R
intYYR U
)YYU V
cmdYYW Z
.YYZ [

ParametersYY[ e
[YYe f
$strYYf }
]YY} ~
.YY~ 
Value	YY Ñ
;
YYÑ Ö
if[[ 
([[ /
#pMdsynAutorizacionCuestionariosDetE[[ ?
.[[? @
IdeAutorizacionDet[[@ R
==[[S U
$num[[V W
)[[W X
return\\ "
false\\# (
;\\( )
else]] 
return^^ "
true^^# '
;^^' (
cmd__ 
.__ 
Dispose__ #
(__# $
)__$ %
;__% &
cnn`` 
.`` 
Close`` !
(``! "
)``" #
;``# $
cnnaa 
.aa 
Disposeaa #
(aa# $
)aa$ %
;aa% &
}bb 
}cc 
}dd 
catchee 
(ee 
	Exceptionee 
exee 
)ee  
{ff 
throwgg 
newgg 
	Exceptiongg #
(gg# $
exgg$ &
.gg& '
Messagegg' .
)gg. /
;gg/ 0
}hh 
}ii 	
publickk 
boolkk 7
+Sp_MdsynAutorizacionCuestionariosDet_Updatekk ?
(kk? @.
"MdsynAutorizacionCuestionariosDetEkk@ b0
#pMdsynAutorizacionCuestionariosDetE	kkc Ü
)
kkÜ á
{ll 	
trymm 
{nn 
usingoo 
(oo 
SqlConnectionoo $
cnnoo% (
=oo) *
newoo+ .
SqlConnectionoo/ <
(oo< =
VariablesGlobalesoo= N
.ooN O

CnnClinicaooO Y
)ooY Z
)ooZ [
{pp 
usingqq 
(qq 

SqlCommandqq %
cmdqq& )
=qq* +
newqq, /

SqlCommandqq0 :
(qq: ;
$strqq; h
,qqh i
cnnqqj m
)qqm n
)qqn o
{rr 
cmdss 
.ss 
CommandTypess '
=ss( )
CommandTypess* 5
.ss5 6
StoredProceduress6 E
;ssE F
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 K
,uuK L/
#pMdsynAutorizacionCuestionariosDetEuuM p
.uup q
IdeAutorizacionCab	uuq É
)
uuÉ Ñ
;
uuÑ Ö
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 M
,vvM N/
#pMdsynAutorizacionCuestionariosDetEvvO r
.vvr s!
DscTextoAutorizacion	vvs á
)
vvá à
;
vvà â
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 D
,wwD E/
#pMdsynAutorizacionCuestionariosDetEwwF i
.wwi j
DscRespuestawwj v
)wwv w
;www x
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 C
,xxC D/
#pMdsynAutorizacionCuestionariosDetExxE h
.xxh i
FecRegistroxxi t
)xxt u
;xxu v
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 K
,yyK L/
#pMdsynAutorizacionCuestionariosDetEyyM p
.yyp q
IdeAutorizacionDet	yyq É
)
yyÉ Ñ
;
yyÑ Ö
cnnzz 
.zz 
Openzz  
(zz  !
)zz! "
;zz" #
if{{ 
({{ 
cmd{{ 
.{{  
ExecuteNonQuery{{  /
({{/ 0
){{0 1
>={{2 4
$num{{5 6
){{6 7
return|| "
true||# '
;||' (
else}} 
return~~ "
false~~# (
;~~( )
cmd 
. 
Dispose #
(# $
)$ %
;% &
cnn
ÄÄ 
.
ÄÄ 
Close
ÄÄ !
(
ÄÄ! "
)
ÄÄ" #
;
ÄÄ# $
cnn
ÅÅ 
.
ÅÅ 
Dispose
ÅÅ #
(
ÅÅ# $
)
ÅÅ$ %
;
ÅÅ% &
}
ÇÇ 
}
ÉÉ 
}
ÑÑ 
catch
ÖÖ 
(
ÖÖ 
	Exception
ÖÖ 
ex
ÖÖ 
)
ÖÖ  
{
ÜÜ 
throw
áá 
new
áá 
	Exception
áá #
(
áá# $
ex
áá$ &
.
áá& '
Message
áá' .
)
áá. /
;
áá/ 0
}
àà 
}
ââ 	
public
ãã 
bool
ãã ?
1Sp_MdsynAutorizacionCuestionariosDet_UpdatexCampo
ãã E
(
ããE F0
"MdsynAutorizacionCuestionariosDetE
ããF h2
#pMdsynAutorizacionCuestionariosDetEããi å
)ããå ç
{
åå 	
try
çç 
{
éé 
using
èè 
(
èè 
SqlConnection
èè $
cnn
èè% (
=
èè) *
new
èè+ .
SqlConnection
èè/ <
(
èè< =
VariablesGlobales
èè= N
.
èèN O

CnnClinica
èèO Y
)
èèY Z
)
èèZ [
{
êê 
using
ëë 
(
ëë 

SqlCommand
ëë %
cmd
ëë& )
=
ëë* +
new
ëë, /

SqlCommand
ëë0 :
(
ëë: ;
$str
ëë; n
,
ëën o
cnn
ëëp s
)
ëës t
)
ëët u
{
íí 
cmd
ìì 
.
ìì 
CommandType
ìì '
=
ìì( )
CommandType
ìì* 5
.
ìì5 6
StoredProcedure
ìì6 E
;
ììE F
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 K
,
ïïK L1
#pMdsynAutorizacionCuestionariosDetE
ïïM p
.
ïïp q!
IdeAutorizacionDetïïq É
)ïïÉ Ñ
;ïïÑ Ö
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 B
,
ññB C1
#pMdsynAutorizacionCuestionariosDetE
ññD g
.
ññg h

NuevoValor
ññh r
)
ññr s
;
ññs t
cmd
óó 
.
óó 

Parameters
óó &
.
óó& '
AddWithValue
óó' 3
(
óó3 4
$str
óó4 <
,
óó< =1
#pMdsynAutorizacionCuestionariosDetE
óó> a
.
óóa b
Campo
óób g
)
óóg h
;
óóh i
cnn
òò 
.
òò 
Open
òò  
(
òò  !
)
òò! "
;
òò" #
if
ôô 
(
ôô 
cmd
ôô 
.
ôô  
ExecuteNonQuery
ôô  /
(
ôô/ 0
)
ôô0 1
>=
ôô2 4
$num
ôô5 6
)
ôô6 7
return
öö "
true
öö# '
;
öö' (
else
õõ 
return
úú "
false
úú# (
;
úú( )
cmd
ùù 
.
ùù 
Dispose
ùù #
(
ùù# $
)
ùù$ %
;
ùù% &
cnn
ûû 
.
ûû 
Close
ûû !
(
ûû! "
)
ûû" #
;
ûû# $
cnn
üü 
.
üü 
Dispose
üü #
(
üü# $
)
üü$ %
;
üü% &
}
†† 
}
°° 
}
¢¢ 
catch
££ 
(
££ 
	Exception
££ 
ex
££ 
)
££  
{
§§ 
throw
•• 
new
•• 
	Exception
•• #
(
••# $
ex
••$ &
.
••& '
Message
••' .
)
••. /
;
••/ 0
}
¶¶ 
}
ßß 	
public
©© 
bool
©© 9
+Sp_MdsynAutorizacionCuestionariosDet_Delete
©© ?
(
©©? @0
"MdsynAutorizacionCuestionariosDetE
©©@ b2
#pMdsynAutorizacionCuestionariosDetE©©c Ü
)©©Ü á
{
™™ 	
try
´´ 
{
¨¨ 
using
≠≠ 
(
≠≠ 
SqlConnection
≠≠ $
cnn
≠≠% (
=
≠≠) *
new
≠≠+ .
SqlConnection
≠≠/ <
(
≠≠< =
VariablesGlobales
≠≠= N
.
≠≠N O

CnnClinica
≠≠O Y
)
≠≠Y Z
)
≠≠Z [
{
ÆÆ 
using
ØØ 
(
ØØ 

SqlCommand
ØØ %
cmd
ØØ& )
=
ØØ* +
new
ØØ, /

SqlCommand
ØØ0 :
(
ØØ: ;
$str
ØØ; h
,
ØØh i
cnn
ØØj m
)
ØØm n
)
ØØn o
{
∞∞ 
cmd
±± 
.
±± 
CommandType
±± '
=
±±( )
CommandType
±±* 5
.
±±5 6
StoredProcedure
±±6 E
;
±±E F
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ &
.
≥≥& '
AddWithValue
≥≥' 3
(
≥≥3 4
$str
≥≥4 K
,
≥≥K L1
#pMdsynAutorizacionCuestionariosDetE
≥≥M p
.
≥≥p q!
IdeAutorizacionDet≥≥q É
)≥≥É Ñ
;≥≥Ñ Ö
cnn
¥¥ 
.
¥¥ 
Open
¥¥  
(
¥¥  !
)
¥¥! "
;
¥¥" #
if
µµ 
(
µµ 
cmd
µµ 
.
µµ  
ExecuteNonQuery
µµ  /
(
µµ/ 0
)
µµ0 1
>=
µµ2 4
$num
µµ5 6
)
µµ6 7
return
∂∂ "
true
∂∂# '
;
∂∂' (
else
∑∑ 
return
∏∏ "
false
∏∏# (
;
∏∏( )
cmd
ππ 
.
ππ 
Dispose
ππ #
(
ππ# $
)
ππ$ %
;
ππ% &
cnn
∫∫ 
.
∫∫ 
Close
∫∫ !
(
∫∫! "
)
∫∫" #
;
∫∫# $
cnn
ªª 
.
ªª 
Dispose
ªª #
(
ªª# $
)
ªª$ %
;
ªª% &
}
ºº 
}
ΩΩ 
}
ææ 
catch
øø 
(
øø 
	Exception
øø 
ex
øø 
)
øø  
{
¿¿ 
throw
¡¡ 
new
¡¡ 
	Exception
¡¡ #
(
¡¡# $
ex
¡¡$ &
.
¡¡& '
Message
¡¡' .
)
¡¡. /
;
¡¡/ 0
}
¬¬ 
}
√√ 	
}
ƒƒ 
}≈≈ é†
sD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedisynAD\MdsynAutorizacionCuestionariosCabAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
	MedisynAD

 %
{ 
public 

class /
#MdsynAutorizacionCuestionariosCabAD 4
{ 
private .
"MdsynAutorizacionCuestionariosCabE 2
LlenarEntidad3 @
(@ A
IDataReaderA L
drM O
,O P.
"MdsynAutorizacionCuestionariosCabEQ s0
#pMdsynAutorizacionCuestionariosCabE	t ó
)
ó ò
{ 	.
"MdsynAutorizacionCuestionariosCabE ./
#oMdsynAutorizacionCuestionariosCabE/ R
=S T
newU X.
"MdsynAutorizacionCuestionariosCabEY {
({ |
)| }
;} ~
switch 
( /
#pMdsynAutorizacionCuestionariosCabE 7
.7 8
Orden8 =
)= >
{ 
case 
$num 
: 
{ /
#oMdsynAutorizacionCuestionariosCabE ;
.; <
IdeCorrelReserva< L
=M N
(O P
intP S
)S T
drU W
[W X
$strX l
]l m
;m n/
#oMdsynAutorizacionCuestionariosCabE ;
.; <
CodTipoCuestionario< O
=P Q
(R S
stringS Y
)Y Z
dr[ ]
[] ^
$str^ u
]u v
;v w/
#oMdsynAutorizacionCuestionariosCabE ;
.; <
CodPaciente< G
=H I
(J K
stringK Q
)Q R
drS U
[U V
$strV d
]d e
;e f/
#oMdsynAutorizacionCuestionariosCabE ;
.; <
CodPacienteTitular< N
=O P
(Q R
stringR X
)X Y
drZ \
[\ ]
$str] s
]s t
;t u/
#oMdsynAutorizacionCuestionariosCabE ;
.; <
DscIpCliente< H
=I J
(K L
stringL R
)R S
drT V
[V W
$strW g
]g h
;h i/
#oMdsynAutorizacionCuestionariosCabE ;
.; <
FecRegistro< G
=H I
(J K
DateTimeK S
)S T
drU W
[W X
$strX f
]f g
;g h/
#oMdsynAutorizacionCuestionariosCabE ;
.; <
IdeAutorizacionCab< N
=O P
(Q R
intR U
)U V
drW Y
[Y Z
$strZ p
]p q
;q r
break 
; 
} 
} 
return /
#oMdsynAutorizacionCuestionariosCabE 6
;6 7
}   	
public"" 
List"" 
<"" .
"MdsynAutorizacionCuestionariosCabE"" 6
>""6 79
-Sp_MdsynAutorizacionCuestionariosCab_Consulta""8 e
(""e f/
"MdsynAutorizacionCuestionariosCabE	""f à1
#pMdsynAutorizacionCuestionariosCabE
""â ¨
)
""¨ ≠
{## 	
IDataReader$$ 
dr$$ 
;$$ .
"MdsynAutorizacionCuestionariosCabE%% ./
#oMdsynAutorizacionCuestionariosCabE%%/ R
=%%S T
null%%U Y
;
%%ò ô
List&& 
<&& .
"MdsynAutorizacionCuestionariosCabE&& 3
>&&3 4
oListar&&5 <
=&&= >
new&&? B
List&&C G
<&&G H.
"MdsynAutorizacionCuestionariosCabE&&H j
>&&j k
(&&k l
)&&l m
;&&m n
try'' 
{(( 
using)) 
()) 
SqlConnection)) $
cnn))% (
=))) *
new))+ .
SqlConnection))/ <
())< =
VariablesGlobales))= N
.))N O

CnnClinica))O Y
)))Y Z
)))Z [
{** 
using++ 
(++ 

SqlCommand++ %
cmd++& )
=++* +
new++, /

SqlCommand++0 :
(++: ;
$str++; j
,++j k
cnn++l o
)++o p
)++p q
{,, 
cmd-- 
.-- 
CommandType-- '
=--( )
CommandType--* 5
.--5 6
StoredProcedure--6 E
;--E F
cmd// 
.// 

Parameters// &
.//& '
AddWithValue//' 3
(//3 4
$str//4 K
,//K L/
#pMdsynAutorizacionCuestionariosCabE//M p
.//p q
IdeAutorizacionCab	//q É
)
//É Ñ
;
//Ñ Ö
cmd00 
.00 

Parameters00 &
.00& '
AddWithValue00' 3
(003 4
$str004 <
,00< =/
#pMdsynAutorizacionCuestionariosCabE00> a
.00a b
Orden00b g
)00g h
;00h i
cnn11 
.11 
Open11  
(11  !
)11! "
;11" #
dr22 
=22 
cmd22  
.22  !
ExecuteReader22! .
(22. /
)22/ 0
;220 1
while33 
(33 
dr33 !
.33! "
Read33" &
(33& '
)33' (
)33( )
{44 /
#oMdsynAutorizacionCuestionariosCabE55 ?
=55@ A
LlenarEntidad55B O
(55O P
dr55P R
,55R S/
#pMdsynAutorizacionCuestionariosCabE55T w
)55w x
;55x y
oListar66 #
.66# $
Add66$ '
(66' (/
#oMdsynAutorizacionCuestionariosCabE66( K
)66K L
;66L M
}77 
dr88 
.88 
Close88  
(88  !
)88! "
;88" #
dr99 
.99 
Dispose99 "
(99" #
)99# $
;99$ %
cmd:: 
.:: 
Dispose:: #
(::# $
)::$ %
;::% &
cnn;; 
.;; 
Close;; !
(;;! "
);;" #
;;;# $
cnn<< 
.<< 
Dispose<< #
(<<# $
)<<$ %
;<<% &
return>> 
oListar>> &
;>>& '
}?? 
}@@ 
}AA 
catchBB 
(BB 
	ExceptionBB 
exBB 
)BB  
{CC 
throwDD 
newDD 
	ExceptionDD #
(DD# $
exDD$ &
.DD& '
MessageDD' .
)DD. /
;DD/ 0
}EE 
}FF 	
publicHH 
boolHH 7
+Sp_MdsynAutorizacionCuestionariosCab_InsertHH ?
(HH? @.
"MdsynAutorizacionCuestionariosCabEHH@ b0
#pMdsynAutorizacionCuestionariosCabE	HHc Ü
)
HHÜ á
{II 	
tryJJ 
{KK 
usingLL 
(LL 
SqlConnectionLL $
cnnLL% (
=LL) *
newLL+ .
SqlConnectionLL/ <
(LL< =
VariablesGlobalesLL= N
.LLN O

CnnClinicaLLO Y
)LLY Z
)LLZ [
{MM 
usingNN 
(NN 

SqlCommandNN %
cmdNN& )
=NN* +
newNN, /

SqlCommandNN0 :
(NN: ;
$strNN; h
,NNh i
cnnNNj m
)NNm n
)NNn o
{OO 
cmdPP 
.PP 
CommandTypePP '
=PP( )
CommandTypePP* 5
.PP5 6
StoredProcedurePP6 E
;PPE F
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 I
,RRI J/
#pMdsynAutorizacionCuestionariosCabERRK n
.RRn o
IdeCorrelReservaRRo 
)	RR Ä
;
RRÄ Å
cmdSS 
.SS 

ParametersSS &
.SS& '
AddWithValueSS' 3
(SS3 4
$strSS4 L
,SSL M/
#pMdsynAutorizacionCuestionariosCabESSN q
.SSq r 
CodTipoCuestionario	SSr Ö
)
SSÖ Ü
;
SSÜ á
cmdTT 
.TT 

ParametersTT &
.TT& '
AddWithValueTT' 3
(TT3 4
$strTT4 C
,TTC D/
#pMdsynAutorizacionCuestionariosCabETTE h
.TTh i
CodPacienteTTi t
)TTt u
;TTu v
cmdUU 
.UU 

ParametersUU &
.UU& '
AddWithValueUU' 3
(UU3 4
$strUU4 K
,UUK L/
#pMdsynAutorizacionCuestionariosCabEUUM p
.UUp q
CodPacienteTitular	UUq É
)
UUÉ Ñ
;
UUÑ Ö
cmdVV 
.VV 

ParametersVV &
.VV& '
AddWithValueVV' 3
(VV3 4
$strVV4 E
,VVE F/
#pMdsynAutorizacionCuestionariosCabEVVG j
.VVj k
DscIpClienteVVk w
)VVw x
;VVx y
cmdWW 
.WW 

ParametersWW &
.WW& '
AddWW' *
(WW* +
VariablesGlobalesWW+ <
.WW< =
ParametroSqlWW= I
(WWI J
$strWWJ a
,WWa b
ParameterDirectionWWc u
.WWu v
InputOutput	WWv Å
,
WWÅ Ç
	SqlDbType
WWÉ å
.
WWå ç
Int
WWç ê
,
WWê ë
$num
WWí ì
,
WWì î1
#pMdsynAutorizacionCuestionariosCabE
WWï ∏
.
WW∏ π 
IdeAutorizacionCab
WWπ À
.
WWÀ Ã
ToString
WWÃ ‘
(
WW‘ ’
)
WW’ ÷
)
WW÷ ◊
)
WW◊ ÿ
;
WWÿ Ÿ
cnnYY 
.YY 
OpenYY  
(YY  !
)YY! "
;YY" #
cmdZZ 
.ZZ 
ExecuteNonQueryZZ +
(ZZ+ ,
)ZZ, -
;ZZ- ./
#pMdsynAutorizacionCuestionariosCabE[[ ;
.[[; <
IdeAutorizacionCab[[< N
=[[O P
([[Q R
int[[R U
)[[U V
cmd[[V Y
.[[Y Z

Parameters[[Z d
[[[d e
$str[[e |
][[| }
.[[} ~
Value	[[~ É
;
[[É Ñ
if]] 
(]] /
#pMdsynAutorizacionCuestionariosCabE]] ?
.]]? @
IdeAutorizacionCab]]@ R
!=]]S U
$num]]V W
)]]W X
return^^ "
true^^# '
;^^' (
else__ 
return`` "
false``# (
;``( )
cmdbb 
.bb 
Disposebb #
(bb# $
)bb$ %
;bb% &
cnncc 
.cc 
Closecc !
(cc! "
)cc" #
;cc# $
cnndd 
.dd 
Disposedd #
(dd# $
)dd$ %
;dd% &
}ee 
}ff 
}gg 
catchhh 
(hh 
	Exceptionhh 
exhh 
)hh  
{ii 
throwjj 
newjj 
	Exceptionjj #
(jj# $
exjj$ &
.jj& '
Messagejj' .
)jj. /
;jj/ 0
}kk 
}ll 	
publicnn 
boolnn 7
+Sp_MdsynAutorizacionCuestionariosCab_Updatenn ?
(nn? @.
"MdsynAutorizacionCuestionariosCabEnn@ b0
#pMdsynAutorizacionCuestionariosCabE	nnc Ü
)
nnÜ á
{oo 	
trypp 
{qq 
usingrr 
(rr 
SqlConnectionrr $
cnnrr% (
=rr) *
newrr+ .
SqlConnectionrr/ <
(rr< =
VariablesGlobalesrr= N
.rrN O

CnnClinicarrO Y
)rrY Z
)rrZ [
{ss 
usingtt 
(tt 

SqlCommandtt %
cmdtt& )
=tt* +
newtt, /

SqlCommandtt0 :
(tt: ;
$strtt; h
,tth i
cnnttj m
)ttm n
)ttn o
{uu 
cmdvv 
.vv 
CommandTypevv '
=vv( )
CommandTypevv* 5
.vv5 6
StoredProcedurevv6 E
;vvE F
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 I
,xxI J/
#pMdsynAutorizacionCuestionariosCabExxK n
.xxn o
IdeCorrelReservaxxo 
)	xx Ä
;
xxÄ Å
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 L
,yyL M/
#pMdsynAutorizacionCuestionariosCabEyyN q
.yyq r 
CodTipoCuestionario	yyr Ö
)
yyÖ Ü
;
yyÜ á
cmdzz 
.zz 

Parameterszz &
.zz& '
AddWithValuezz' 3
(zz3 4
$strzz4 C
,zzC D/
#pMdsynAutorizacionCuestionariosCabEzzE h
.zzh i
CodPacientezzi t
)zzt u
;zzu v
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 K
,{{K L/
#pMdsynAutorizacionCuestionariosCabE{{M p
.{{p q
CodPacienteTitular	{{q É
)
{{É Ñ
;
{{Ñ Ö
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 E
,||E F/
#pMdsynAutorizacionCuestionariosCabE||G j
.||j k
DscIpCliente||k w
)||w x
;||x y
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 C
,}}C D/
#pMdsynAutorizacionCuestionariosCabE}}E h
.}}h i
FecRegistro}}i t
)}}t u
;}}u v
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 K
,~~K L/
#pMdsynAutorizacionCuestionariosCabE~~M p
.~~p q
IdeAutorizacionCab	~~q É
)
~~É Ñ
;
~~Ñ Ö
cnn 
. 
Open  
(  !
)! "
;" #
if
ÄÄ 
(
ÄÄ 
cmd
ÄÄ 
.
ÄÄ  
ExecuteNonQuery
ÄÄ  /
(
ÄÄ/ 0
)
ÄÄ0 1
>=
ÄÄ2 4
$num
ÄÄ5 6
)
ÄÄ6 7
return
ÅÅ "
true
ÅÅ# '
;
ÅÅ' (
else
ÇÇ 
return
ÉÉ "
false
ÉÉ# (
;
ÉÉ( )
cmd
ÑÑ 
.
ÑÑ 
Dispose
ÑÑ #
(
ÑÑ# $
)
ÑÑ$ %
;
ÑÑ% &
cnn
ÖÖ 
.
ÖÖ 
Close
ÖÖ !
(
ÖÖ! "
)
ÖÖ" #
;
ÖÖ# $
cnn
ÜÜ 
.
ÜÜ 
Dispose
ÜÜ #
(
ÜÜ# $
)
ÜÜ$ %
;
ÜÜ% &
}
áá 
}
àà 
}
ââ 
catch
ää 
(
ää 
	Exception
ää 
ex
ää 
)
ää  
{
ãã 
throw
åå 
new
åå 
	Exception
åå #
(
åå# $
ex
åå$ &
.
åå& '
Message
åå' .
)
åå. /
;
åå/ 0
}
çç 
}
éé 	
public
êê 
bool
êê ?
1Sp_MdsynAutorizacionCuestionariosCab_UpdatexCampo
êê E
(
êêE F0
"MdsynAutorizacionCuestionariosCabE
êêF h2
#pMdsynAutorizacionCuestionariosCabEêêi å
)êêå ç
{
ëë 	
try
íí 
{
ìì 
using
îî 
(
îî 
SqlConnection
îî $
cnn
îî% (
=
îî) *
new
îî+ .
SqlConnection
îî/ <
(
îî< =
VariablesGlobales
îî= N
.
îîN O

CnnClinica
îîO Y
)
îîY Z
)
îîZ [
{
ïï 
using
ññ 
(
ññ 

SqlCommand
ññ %
cmd
ññ& )
=
ññ* +
new
ññ, /

SqlCommand
ññ0 :
(
ññ: ;
$str
ññ; n
,
ññn o
cnn
ññp s
)
ññs t
)
ññt u
{
óó 
cmd
òò 
.
òò 
CommandType
òò '
=
òò( )
CommandType
òò* 5
.
òò5 6
StoredProcedure
òò6 E
;
òòE F
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 K
,
ööK L1
#pMdsynAutorizacionCuestionariosCabE
ööM p
.
ööp q!
IdeAutorizacionCabööq É
)ööÉ Ñ
;ööÑ Ö
cmd
õõ 
.
õõ 

Parameters
õõ &
.
õõ& '
AddWithValue
õõ' 3
(
õõ3 4
$str
õõ4 B
,
õõB C1
#pMdsynAutorizacionCuestionariosCabE
õõD g
.
õõg h

NuevoValor
õõh r
)
õõr s
;
õõs t
cmd
úú 
.
úú 

Parameters
úú &
.
úú& '
AddWithValue
úú' 3
(
úú3 4
$str
úú4 <
,
úú< =1
#pMdsynAutorizacionCuestionariosCabE
úú> a
.
úúa b
Campo
úúb g
)
úúg h
;
úúh i
cnn
ùù 
.
ùù 
Open
ùù  
(
ùù  !
)
ùù! "
;
ùù" #
if
ûû 
(
ûû 
cmd
ûû 
.
ûû  
ExecuteNonQuery
ûû  /
(
ûû/ 0
)
ûû0 1
>=
ûû2 4
$num
ûû5 6
)
ûû6 7
return
üü "
true
üü# '
;
üü' (
else
†† 
return
°° "
false
°°# (
;
°°( )
cmd
¢¢ 
.
¢¢ 
Dispose
¢¢ #
(
¢¢# $
)
¢¢$ %
;
¢¢% &
cnn
££ 
.
££ 
Close
££ !
(
££! "
)
££" #
;
££# $
cnn
§§ 
.
§§ 
Dispose
§§ #
(
§§# $
)
§§$ %
;
§§% &
}
•• 
}
¶¶ 
}
ßß 
catch
®® 
(
®® 
	Exception
®® 
ex
®® 
)
®®  
{
©© 
throw
™™ 
new
™™ 
	Exception
™™ #
(
™™# $
ex
™™$ &
.
™™& '
Message
™™' .
)
™™. /
;
™™/ 0
}
´´ 
}
¨¨ 	
public
ÆÆ 
bool
ÆÆ 9
+Sp_MdsynAutorizacionCuestionariosCab_Delete
ÆÆ ?
(
ÆÆ? @0
"MdsynAutorizacionCuestionariosCabE
ÆÆ@ b2
#pMdsynAutorizacionCuestionariosCabEÆÆc Ü
)ÆÆÜ á
{
ØØ 	
try
∞∞ 
{
±± 
using
≤≤ 
(
≤≤ 
SqlConnection
≤≤ $
cnn
≤≤% (
=
≤≤) *
new
≤≤+ .
SqlConnection
≤≤/ <
(
≤≤< =
VariablesGlobales
≤≤= N
.
≤≤N O

CnnClinica
≤≤O Y
)
≤≤Y Z
)
≤≤Z [
{
≥≥ 
using
¥¥ 
(
¥¥ 

SqlCommand
¥¥ %
cmd
¥¥& )
=
¥¥* +
new
¥¥, /

SqlCommand
¥¥0 :
(
¥¥: ;
$str
¥¥; h
,
¥¥h i
cnn
¥¥j m
)
¥¥m n
)
¥¥n o
{
µµ 
cmd
∂∂ 
.
∂∂ 
CommandType
∂∂ '
=
∂∂( )
CommandType
∂∂* 5
.
∂∂5 6
StoredProcedure
∂∂6 E
;
∂∂E F
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ &
.
∏∏& '
AddWithValue
∏∏' 3
(
∏∏3 4
$str
∏∏4 K
,
∏∏K L1
#pMdsynAutorizacionCuestionariosCabE
∏∏M p
.
∏∏p q!
IdeAutorizacionCab∏∏q É
)∏∏É Ñ
;∏∏Ñ Ö
cnn
ππ 
.
ππ 
Open
ππ  
(
ππ  !
)
ππ! "
;
ππ" #
if
∫∫ 
(
∫∫ 
cmd
∫∫ 
.
∫∫  
ExecuteNonQuery
∫∫  /
(
∫∫/ 0
)
∫∫0 1
>=
∫∫2 4
$num
∫∫5 6
)
∫∫6 7
return
ªª "
true
ªª# '
;
ªª' (
else
ºº 
return
ΩΩ "
false
ΩΩ# (
;
ΩΩ( )
cmd
ææ 
.
ææ 
Dispose
ææ #
(
ææ# $
)
ææ$ %
;
ææ% &
cnn
øø 
.
øø 
Close
øø !
(
øø! "
)
øø" #
;
øø# $
cnn
¿¿ 
.
¿¿ 
Dispose
¿¿ #
(
¿¿# $
)
¿¿$ %
;
¿¿% &
}
¡¡ 
}
¬¬ 
}
√√ 
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ 
ex
ƒƒ 
)
ƒƒ  
{
≈≈ 
throw
∆∆ 
new
∆∆ 
	Exception
∆∆ #
(
∆∆# $
ex
∆∆$ &
.
∆∆& '
Message
∆∆' .
)
∆∆. /
;
∆∆/ 0
}
«« 
}
»» 	
}
…… 
}   ÆÃ
`D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedisynAD\MdsynAmReservaAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
	MedisynAD

 %
{ 
public 

class 
MdsynAmReservaAD !
{ 
private 
MdsynAmReservaE 
LlenarEntidad  -
(- .
IDataReader. 9
dr: <
,< =
MdsynAmReservaE> M
pMdsynAmReservaEN ^
)^ _
{ 	
MdsynAmReservaE 
oMdsynAmReservaE ,
=- .
new/ 2
MdsynAmReservaE3 B
(B C
)C D
;D E
switch 
( 
pMdsynAmReservaE $
.$ %
Orden% *
)* +
{ 
case 
$str 
: 
{ 
break 
; 
} 
case 
$str 
: 
{ 
oMdsynAmReservaE (
.( )
IdePagosBot) 4
=5 6
int7 :
.: ;
Parse; @
(@ A
drA C
[C D
$strD S
]S T
.T U
ToStringU ]
(] ^
)^ _
)_ `
;` a
oMdsynAmReservaE (
.( )
IDCita) /
=0 1
int2 5
.5 6
Parse6 ;
(; <
dr< >
[> ?
$str? I
]I J
.J K
ToStringK S
(S T
)T U
)U V
;V W
oMdsynAmReservaE   (
.  ( )
IdeCorrelReserva  ) 9
=  : ;
(  < =
int  = @
)  @ A
dr  A C
[  C D
$str  D X
]  X Y
;  Y Z
oMdsynAmReservaE"" (
.""( )
FecRegistro"") 4
=""5 6
(""7 8
DateTime""8 @
)""@ A
dr""A C
[""C D
$str""D R
]""R S
;""S T
oMdsynAmReservaE## (
.##( )
RutPaciente##) 4
=##5 6
(##7 8
string##8 >
)##> ?
dr##? A
[##A B
$str##B P
]##P Q
;##Q R
oMdsynAmReservaE%% (
.%%( )
NombresPaciente%%) 8
=%%9 :
(%%; <
string%%< B
)%%B C
dr%%C E
[%%E F
$str%%F P
]%%P Q
;%%Q R
oMdsynAmReservaE&& (
.&&( )
NombresMedico&&) 6
=&&7 8
(&&9 :
string&&: @
)&&@ A
dr&&A C
[&&C D
$str&&D L
]&&L M
;&&M N
oMdsynAmReservaE'' (
.''( )
Telefono'') 1
=''2 3
(''4 5
string''5 ;
)''; <
dr''< >
[''> ?
$str''? I
]''I J
;''J K
oMdsynAmReservaE(( (
.((( )
	Telefono2(() 2
=((3 4
(((5 6
string((6 <
)((< =
dr((= ?
[((? @
$str((@ K
]((K L
;((L M
oMdsynAmReservaE)) (
.))( )
DscSede))) 0
=))1 2
())3 4
string))4 :
))): ;
dr)); =
[))= >
$str))> H
]))H I
;))I J
oMdsynAmReservaE++ (
.++( )
FecCita++) 0
=++1 2
(++3 4
DateTime++4 <
)++< =
dr++= ?
[++? @
$str++@ J
]++J K
;++K L
oMdsynAmReservaE-- (
.--( )
DscEspecialidad--) 8
=--9 :
(--; <
string--< B
)--B C
dr--C E
[--E F
$str--F X
]--X Y
;--Y Z
oMdsynAmReservaE.. (
...( )!
DscTipoConsultaMedica..) >
=..? @
(..A B
string..B H
)..H I
dr..I K
[..K L
$str..L f
]..f g
;..g h
oMdsynAmReservaE00 (
.00( )!
UsrRegistroPlataforma00) >
=00? @
(00A B
string00B H
)00H I
dr00I K
[00K L
$str00L e
]00e f
;00f g
break11 
;11 
}22 
case44 
$str44 
:44 
{55 
oMdsynAmReservaE77 (
.77( )
IDCita77) /
=770 1
int772 5
.775 6
Parse776 ;
(77; <
dr77< >
[77> ?
$str77? I
]77I J
.77J K
ToString77K S
(77S T
)77T U
)77U V
;77V W
oMdsynAmReservaE88 (
.88( )
CodAtencion88) 4
=885 6
(887 8
string888 >
)88> ?
dr88? A
[88A B
$str88B O
]88O P
;88P Q
oMdsynAmReservaE99 (
.99( )
IdeCorrelReserva99) 9
=99: ;
(99< =
int99= @
)99@ A
dr99A C
[99C D
$str99D X
]99X Y
;99Y Z
oMdsynAmReservaE:: (
.::( )
FecCita::) 0
=::1 2
(::3 4
DateTime::4 <
)::< =
dr::= ?
[::? @
$str::@ J
]::J K
;::K L
break;; 
;;; 
}<< 
case>> 
$str>> 
:>> 
{?? 
oMdsynAmReservaEBB (
.BB( )
IDCitaBB) /
=BB0 1
intBB2 5
.BB5 6
ParseBB6 ;
(BB; <
drBB< >
[BB> ?
$strBB? I
]BBI J
.BBJ K
ToStringBBK S
(BBS T
)BBT U
)BBU V
;BBV W
oMdsynAmReservaECC (
.CC( )
IdeCorrelReservaCC) 9
=CC: ;
(CC< =
intCC= @
)CC@ A
drCCA C
[CCC D
$strCCD X
]CCX Y
;CCY Z
oMdsynAmReservaEFF (
.FF( )
CodPacienteFF) 4
=FF5 6
(FF7 8
stringFF8 >
)FF> ?
drFF? A
[FFA B
$strFFB P
]FFP Q
;FFQ R
oMdsynAmReservaEGG (
.GG( )
RutPacienteGG) 4
=GG5 6
(GG7 8
stringGG8 >
)GG> ?
drGG? A
[GGA B
$strGGB P
]GGP Q
;GGQ R
oMdsynAmReservaEII (
.II( )
NombresPacienteII) 8
=II9 :
(II; <
stringII< B
)IIB C
drIIC E
[IIE F
$strIIF P
]IIP Q
;IIQ R
oMdsynAmReservaEJJ (
.JJ( )
NombresMedicoJJ) 6
=JJ7 8
(JJ9 :
stringJJ: @
)JJ@ A
drJJA C
[JJC D
$strJJD P
]JJP Q
;JJQ R
oMdsynAmReservaELL (
.LL( )
DscSedeLL) 0
=LL1 2
(LL3 4
stringLL4 :
)LL: ;
drLL; =
[LL= >
$strLL> D
]LLD E
;LLE F
oMdsynAmReservaEMM (
.MM( )
FecCitaMM) 0
=MM1 2
(MM3 4
DateTimeMM4 <
)MM< =
drMM= ?
[MM? @
$strMM@ J
]MMJ K
;MMK L
oMdsynAmReservaENN (
.NN( )
CodAtencionNN) 4
=NN5 6
(NN7 8
stringNN8 >
)NN> ?
drNN? A
[NNA B
$strNNB P
]NNP Q
;NNQ R
oMdsynAmReservaEPP (
.PP( )
DscEspecialidadPP) 8
=PP9 :
(PP; <
stringPP< B
)PPB C
drPPC E
[PPE F
$strPPF X
]PPX Y
;PPY Z
oMdsynAmReservaEQQ (
.QQ( )!
DscTipoConsultaMedicaQQ) >
=QQ? @
(QQA B
stringQQB H
)QQH I
drQQI K
[QQK L
$strQQL f
]QQf g
;QQg h
oMdsynAmReservaERR (
.RR( )
CodTipoPagoRR) 4
=RR5 6
(RR7 8
stringRR8 >
)RR> ?
drRR? A
[RRA B
$strRRB Q
]RRQ R
;RRR S
breakSS 
;SS 
}TT 
caseVV 
$strVV 
:VV 
{WW 
oMdsynAmReservaEZZ (
.ZZ( )
IDCitaZZ) /
=ZZ0 1
intZZ2 5
.ZZ5 6
ParseZZ6 ;
(ZZ; <
drZZ< >
[ZZ> ?
$strZZ? I
]ZZI J
.ZZJ K
ToStringZZK S
(ZZS T
)ZZT U
)ZZU V
;ZZV W
oMdsynAmReservaE[[ (
.[[( )
IdeCorrelReserva[[) 9
=[[: ;
([[< =
int[[= @
)[[@ A
dr[[A C
[[[C D
$str[[D X
][[X Y
;[[Y Z
oMdsynAmReservaE^^ (
.^^( )
CodPaciente^^) 4
=^^5 6
(^^7 8
string^^8 >
)^^> ?
dr^^? A
[^^A B
$str^^B P
]^^P Q
;^^Q R
oMdsynAmReservaE__ (
.__( )
RutPaciente__) 4
=__5 6
(__7 8
string__8 >
)__> ?
dr__? A
[__A B
$str__B P
]__P Q
;__Q R
oMdsynAmReservaEaa (
.aa( )
NombresPacienteaa) 8
=aa9 :
(aa; <
stringaa< B
)aaB C
draaC E
[aaE F
$straaF P
]aaP Q
;aaQ R
oMdsynAmReservaEbb (
.bb( )
NombresMedicobb) 6
=bb7 8
(bb9 :
stringbb: @
)bb@ A
drbbA C
[bbC D
$strbbD P
]bbP Q
;bbQ R
oMdsynAmReservaEdd (
.dd( )
DscSededd) 0
=dd1 2
(dd3 4
stringdd4 :
)dd: ;
drdd; =
[dd= >
$strdd> D
]ddD E
;ddE F
oMdsynAmReservaEff (
.ff( )
FecCitaff) 0
=ff1 2
(ff3 4
DateTimeff4 <
)ff< =
drff= ?
[ff? @
$strff@ J
]ffJ K
;ffK L
oMdsynAmReservaEii (
.ii( )!
DscTipoConsultaMedicaii) >
=ii? @
(iiA B
stringiiB H
)iiH I
driiI K
[iiK L
$striiL f
]iif g
;iig h
breakjj 
;jj 
}kk 
casemm 
$strmm 
:mm 
{nn 
oMdsynAmReservaEpp (
.pp( )
IDCitapp) /
=pp0 1
intpp2 5
.pp5 6
Parsepp6 ;
(pp; <
drpp< >
[pp> ?
$strpp? I
]ppI J
.ppJ K
ToStringppK S
(ppS T
)ppT U
)ppU V
;ppV W
oMdsynAmReservaEqq (
.qq( )
CodAtencionqq) 4
=qq5 6
(qq7 8
stringqq8 >
)qq> ?
drqq? A
[qqA B
$strqqB P
]qqP Q
;qqQ R
oMdsynAmReservaExx (
.xx( )
DscSedexx) 0
=xx1 2
(xx3 4
stringxx4 :
)xx: ;
drxx; =
[xx= >
$strxx> H
]xxH I
;xxI J
oMdsynAmReservaEyy (
.yy( )
FecCitayy) 0
=yy1 2
(yy3 4
DateTimeyy4 <
)yy< =
dryy= ?
[yy? @
$stryy@ J
]yyJ K
;yyK L
oMdsynAmReservaEzz (
.zz( )
FecRegistrozz) 4
=zz5 6
(zz7 8
DateTimezz8 @
)zz@ A
drzzA C
[zzC D
$strzzD R
]zzR S
;zzS T
oMdsynAmReservaE
ÜÜ (
.
ÜÜ( )
EstConsultaMedica
ÜÜ) :
=
ÜÜ; <
(
ÜÜ= >
string
ÜÜ> D
)
ÜÜD E
dr
ÜÜE G
[
ÜÜG H
$str
ÜÜH ]
]
ÜÜ] ^
;
ÜÜ^ _
oMdsynAmReservaE
áá (
.
áá( )
CodTipoPago
áá) 4
=
áá5 6
(
áá7 8
string
áá8 >
)
áá> ?
dr
áá? A
[
ááA B
$str
ááB Q
]
ááQ R
;
ááR S
break
àà 
;
àà 
}
ââ 
case
ãã 
$str
ãã 
:
ãã 
{
åå 
oMdsynAmReservaE
éé (
.
éé( )
IDCita
éé) /
=
éé0 1
int
éé2 5
.
éé5 6
Parse
éé6 ;
(
éé; <
dr
éé< >
[
éé> ?
$str
éé? I
]
ééI J
.
ééJ K
ToString
ééK S
(
ééS T
)
ééT U
)
ééU V
;
ééV W
oMdsynAmReservaE
èè (
.
èè( )
FecRegistro
èè) 4
=
èè5 6
(
èè7 8
DateTime
èè8 @
)
èè@ A
dr
èèA C
[
èèC D
$str
èèD R
]
èèR S
;
èèS T
oMdsynAmReservaE
êê (
.
êê( )
RutPaciente
êê) 4
=
êê5 6
(
êê7 8
string
êê8 >
)
êê> ?
dr
êê? A
[
êêA B
$str
êêB P
]
êêP Q
;
êêQ R
oMdsynAmReservaE
íí (
.
íí( )
NombresPaciente
íí) 8
=
íí9 :
(
íí; <
string
íí< B
)
ííB C
dr
ííC E
[
ííE F
$str
ííF P
]
ííP Q
;
ííQ R
oMdsynAmReservaE
ìì (
.
ìì( )
NombresMedico
ìì) 6
=
ìì7 8
(
ìì9 :
string
ìì: @
)
ìì@ A
dr
ììA C
[
ììC D
$str
ììD L
]
ììL M
;
ììM N
oMdsynAmReservaE
îî (
.
îî( )
	CodMedico
îî) 2
=
îî3 4
(
îî6 7
string
îî7 =
)
îî= >
dr
îî> @
[
îî@ A
$str
îîA M
]
îîM N
;
îîN O
oMdsynAmReservaE
ïï (
.
ïï( )
CodAtencion
ïï) 4
=
ïï5 6
(
ïï7 8
string
ïï8 >
)
ïï> ?
dr
ïï? A
[
ïïA B
$str
ïïB P
]
ïïP Q
;
ïïQ R
oMdsynAmReservaE
óó (
.
óó( )
FecCita
óó) 0
=
óó1 2
(
óó3 4
DateTime
óó4 <
)
óó< =
dr
óó= ?
[
óó? @
$str
óó@ J
]
óóJ K
;
óóK L
oMdsynAmReservaE
òò (
.
òò( )
DscSede
òò) 0
=
òò1 2
(
òò3 4
string
òò4 :
)
òò: ;
dr
òò; =
[
òò= >
$str
òò> H
]
òòH I
;
òòI J
oMdsynAmReservaE
ôô (
.
ôô( )#
DscTipoConsultaMedica
ôô) >
=
ôô? @
(
ôôA B
string
ôôB H
)
ôôH I
dr
ôôI K
[
ôôK L
$str
ôôL f
]
ôôf g
;
ôôg h
oMdsynAmReservaE
õõ (
.
õõ( )
DscEspecialidad
õõ) 8
=
õõ9 :
(
õõ; <
string
õõ< B
)
õõB C
dr
õõC E
[
õõE F
$str
õõF X
]
õõX Y
;
õõY Z
oMdsynAmReservaE
ùù (
.
ùù( )
CodEspecialidad
ùù) 8
=
ùù9 :
dr
ùù; =
[
ùù= >
$str
ùù> P
]
ùùP Q
.
ùùQ R
ToString
ùùR Z
(
ùùZ [
)
ùù[ \
;
ùù\ ]
oMdsynAmReservaE
ûû (
.
ûû( )
CodTipoPago
ûû) 4
=
ûû5 6
(
ûû7 8
string
ûû8 >
)
ûû> ?
dr
ûû? A
[
ûûA B
$str
ûûB Q
]
ûûQ R
;
ûûR S
oMdsynAmReservaE
üü (
.
üü( )
DscTipoPago
üü) 4
=
üü5 6
(
üü7 8
string
üü8 >
)
üü> ?
dr
üü? A
[
üüA B
$str
üüB Q
]
üüQ R
;
üüR S
oMdsynAmReservaE
†† (
.
††( )#
UsrRegistroPlataforma
††) >
=
††? @
(
††A B
string
††B H
)
††H I
dr
††I K
[
††K L
$str
††L e
]
††e f
;
††f g
oMdsynAmReservaE
¢¢ (
.
¢¢( )
Telefono
¢¢) 1
=
¢¢2 3
(
¢¢4 5
string
¢¢5 ;
)
¢¢; <
dr
¢¢< >
[
¢¢> ?
$str
¢¢? I
]
¢¢I J
;
¢¢J K
oMdsynAmReservaE
££ (
.
££( )
Email
££) .
=
££/ 0
(
££1 2
string
££2 8
)
££8 9
dr
££9 ;
[
££; <
$str
££< C
]
££C D
;
££D E
oMdsynAmReservaE
•• (
.
••( )
FecAnulacion
••) 5
=
••6 7
(
••8 9
string
••9 ?
)
••? @
dr
••@ B
[
••B C
$str
••C X
]
••X Y
;
••Y Z
oMdsynAmReservaE
¶¶ (
.
¶¶( )
Moneda
¶¶) /
=
¶¶0 1
(
¶¶2 3
string
¶¶3 9
)
¶¶9 :
dr
¶¶: <
[
¶¶< =
$str
¶¶= E
]
¶¶E F
;
¶¶F G
oMdsynAmReservaE
ßß (
.
ßß( )
Monto
ßß) .
=
ßß/ 0
(
ßß1 2
string
ßß2 8
)
ßß8 9
dr
ßß9 ;
[
ßß; <
$str
ßß< K
]
ßßK L
;
ßßL M
oMdsynAmReservaE
®® (
.
®®( )
NroOperacion
®®) 5
=
®®6 7
(
®®8 9
string
®®9 ?
)
®®? @
dr
®®@ B
[
®®B C
$str
®®C R
]
®®R S
;
®®S T
oMdsynAmReservaE
©© (
.
©©( )
Estado
©©) /
=
©©0 1
int
©©2 5
.
©©5 6
Parse
©©6 ;
(
©©; <
dr
©©= ?
[
©©? @
$str
©©@ H
]
©©H I
.
©©I J
ToString
©©J R
(
©©R S
)
©©S T
)
©©T U
;
©©U V
oMdsynAmReservaE
™™ (
.
™™( )

TotalPages
™™) 3
=
™™4 5
int
™™6 9
.
™™9 :
Parse
™™: ?
(
™™? @
dr
™™@ B
[
™™B C
$str
™™C O
]
™™O P
.
™™P Q
ToString
™™Q Y
(
™™Y Z
)
™™Z [
)
™™[ \
;
™™\ ]
oMdsynAmReservaE
´´ (
.
´´( )
Sec
´´) ,
=
´´- .
int
´´/ 2
.
´´2 3
Parse
´´3 8
(
´´8 9
dr
´´9 ;
[
´´; <
$str
´´< A
]
´´A B
.
´´B C
ToString
´´C K
(
´´K L
)
´´L M
)
´´M N
;
´´N O
oMdsynAmReservaE
¨¨ (
.
¨¨( )
Edad
¨¨) -
=
¨¨. /
int
¨¨0 3
.
¨¨3 4
Parse
¨¨4 9
(
¨¨9 :
dr
¨¨: <
[
¨¨< =
$str
¨¨= C
]
¨¨C D
.
¨¨D E
ToString
¨¨E M
(
¨¨M N
)
¨¨N O
)
¨¨O P
;
¨¨P Q
oMdsynAmReservaE
≠≠ (
.
≠≠( )
	DscEstado
≠≠) 2
=
≠≠3 4
(
≠≠5 6
string
≠≠6 <
)
≠≠< =
(
≠≠= >
dr
≠≠> @
[
≠≠@ A
$str
≠≠A M
]
≠≠M N
.
≠≠N O
ToString
≠≠O W
(
≠≠W X
)
≠≠X Y
)
≠≠Y Z
;
≠≠Z [
oMdsynAmReservaE
ÆÆ (
.
ÆÆ( )
DscPago
ÆÆ) 0
=
ÆÆ1 2
(
ÆÆ3 4
string
ÆÆ4 :
)
ÆÆ: ;
(
ÆÆ; <
dr
ÆÆ< >
[
ÆÆ> ?
$str
ÆÆ? I
]
ÆÆI J
.
ÆÆJ K
ToString
ÆÆK S
(
ÆÆS T
)
ÆÆT U
)
ÆÆU V
;
ÆÆV W
oMdsynAmReservaE
ØØ (
.
ØØ( )
CntMontopago
ØØ) 5
=
ØØ6 7
decimal
ØØ8 ?
.
ØØ? @
Parse
ØØ@ E
(
ØØE F
dr
ØØF H
[
ØØH I
$str
ØØI X
]
ØØX Y
.
ØØY Z
ToString
ØØZ b
(
ØØb c
)
ØØc d
)
ØØd e
;
ØØe f
break
∞∞ 
;
∞∞ 
}
±± 
case
≥≥ 
$str
≥≥ 
:
≥≥ 
{
¥¥ 
oMdsynAmReservaE
∂∂ (
.
∂∂( )
IDCita
∂∂) /
=
∂∂0 1
int
∂∂2 5
.
∂∂5 6
Parse
∂∂6 ;
(
∂∂; <
dr
∂∂< >
[
∂∂> ?
$str
∂∂? I
]
∂∂I J
.
∂∂J K
ToString
∂∂K S
(
∂∂S T
)
∂∂T U
)
∂∂U V
;
∂∂V W
oMdsynAmReservaE
∑∑ (
.
∑∑( )
CodAtencion
∑∑) 4
=
∑∑5 6
(
∑∑7 8
string
∑∑8 >
)
∑∑> ?
dr
∑∑? A
[
∑∑A B
$str
∑∑B P
]
∑∑P Q
;
∑∑Q R
oMdsynAmReservaE
∏∏ (
.
∏∏( )
CodTipoPago
∏∏) 4
=
∏∏5 6
(
∏∏7 8
string
∏∏8 >
)
∏∏> ?
dr
∏∏? A
[
∏∏A B
$str
∏∏B Q
]
∏∏Q R
;
∏∏R S
oMdsynAmReservaE
ππ (
.
ππ( )
FlgReprogramar
ππ) 7
=
ππ8 9
(
ππ: ;
string
ππ; A
)
ππA B
dr
ππB D
[
ππD E
$str
ππE V
]
ππV W
;
ππW X
break
∫∫ 
;
∫∫ 
}
ªª 
case
ΩΩ 
$str
ΩΩ 
:
ΩΩ 
{
ææ 
oMdsynAmReservaE
¿¿ (
.
¿¿( )
IDCita
¿¿) /
=
¿¿0 1
int
¿¿2 5
.
¿¿5 6
Parse
¿¿6 ;
(
¿¿; <
dr
¿¿< >
[
¿¿> ?
$str
¿¿? I
]
¿¿I J
.
¿¿J K
ToString
¿¿K S
(
¿¿S T
)
¿¿T U
)
¿¿U V
;
¿¿V W
oMdsynAmReservaE
¡¡ (
.
¡¡( )
EstPago
¡¡) 0
=
¡¡1 2
(
¡¡3 4
string
¡¡4 :
)
¡¡: ;
dr
¡¡; =
[
¡¡= >
$str
¡¡> H
]
¡¡H I
;
¡¡I J
break
¬¬ 
;
¬¬ 
}
√√ 
case
ƒƒ 
$str
ƒƒ 
:
ƒƒ 
{
≈≈ 
oMdsynAmReservaE
∆∆ (
.
∆∆( )
CodAtencion
∆∆) 4
=
∆∆5 6
(
∆∆7 8
string
∆∆8 >
)
∆∆> ?
dr
∆∆? A
[
∆∆A B
$str
∆∆B P
]
∆∆P Q
;
∆∆Q R
oMdsynAmReservaE
«« (
.
««( )
DscQr
««) .
=
««/ 0
(
««1 2
string
««2 8
)
««8 9
dr
««9 ;
[
««; <
$str
««< D
]
««D E
;
««E F
oMdsynAmReservaE
»» (
.
»»( )
IDCita
»») /
=
»»0 1
int
»»2 5
.
»»5 6
Parse
»»6 ;
(
»»; <
dr
»»< >
[
»»> ?
$str
»»? I
]
»»I J
.
»»J K
ToString
»»K S
(
»»S T
)
»»T U
)
»»U V
;
»»V W
break
…… 
;
…… 
}
   
}
ÀÀ 
return
ÃÃ 
oMdsynAmReservaE
ÃÃ #
;
ÃÃ# $
}
ÕÕ 	
public
œœ 
List
œœ 
<
œœ 
MdsynAmReservaE
œœ #
>
œœ# $(
Sp_MdsynAmReserva_Consulta
œœ% ?
(
œœ? @
MdsynAmReservaE
œœ@ O
pMdsynAmReservaE
œœP `
)
œœ` a
{
–– 	
IDataReader
—— 
dr
—— 
;
—— 
MdsynAmReservaE
““ 
oMdsynAmReservaE
““ ,
=
““- .
null
““/ 3
;
““r s
List
”” 
<
”” 
MdsynAmReservaE
””  
>
””  !
oListar
””" )
=
””* +
new
””, /
List
””0 4
<
””4 5
MdsynAmReservaE
””5 D
>
””D E
(
””E F
)
””F G
;
””G H
try
‘‘ 
{
’’ 
using
÷÷ 
(
÷÷ 
SqlConnection
÷÷ $
cnn
÷÷% (
=
÷÷) *
new
÷÷+ .
SqlConnection
÷÷/ <
(
÷÷< =
VariablesGlobales
÷÷= N
.
÷÷N O

CnnClinica
÷÷O Y
)
÷÷Y Z
)
÷÷Z [
{
◊◊ 
using
ÿÿ 
(
ÿÿ 

SqlCommand
ÿÿ %
cmd
ÿÿ& )
=
ÿÿ* +
new
ÿÿ, /

SqlCommand
ÿÿ0 :
(
ÿÿ: ;
$str
ÿÿ; Z
,
ÿÿZ [
cnn
ÿÿ\ _
)
ÿÿ_ `
)
ÿÿ` a
{
ŸŸ 
cmd
⁄⁄ 
.
⁄⁄ 
CommandType
⁄⁄ '
=
⁄⁄( )
CommandType
⁄⁄* 5
.
⁄⁄5 6
StoredProcedure
⁄⁄6 E
;
⁄⁄E F
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ &
.
‹‹& '
AddWithValue
‹‹' 3
(
‹‹3 4
$str
‹‹4 B
,
‹‹B C
pMdsynAmReservaE
‹‹D T
.
‹‹T U

IdeReserva
‹‹U _
)
‹‹_ `
;
‹‹` a
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 =
,
››= >
pMdsynAmReservaE
››? O
.
››O P
IDCita
››P V
)
››V W
;
››W X
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ &
.
ﬁﬁ& '
AddWithValue
ﬁﬁ' 3
(
ﬁﬁ3 4
$str
ﬁﬁ4 A
,
ﬁﬁA B
pMdsynAmReservaE
ﬁﬁC S
.
ﬁﬁS T
	FecInicio
ﬁﬁT ]
)
ﬁﬁ] ^
;
ﬁﬁ^ _
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ &
.
ﬂﬂ& '
AddWithValue
ﬂﬂ' 3
(
ﬂﬂ3 4
$str
ﬂﬂ4 >
,
ﬂﬂ> ?
pMdsynAmReservaE
ﬂﬂ@ P
.
ﬂﬂP Q
FecFin
ﬂﬂQ W
)
ﬂﬂW X
;
ﬂﬂX Y
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ &
.
‡‡& '
AddWithValue
‡‡' 3
(
‡‡3 4
$str
‡‡4 ?
,
‡‡? @
pMdsynAmReservaE
‡‡A Q
.
‡‡Q R
CodSede
‡‡R Y
)
‡‡Y Z
;
‡‡Z [
cmd
·· 
.
·· 

Parameters
·· &
.
··& '
AddWithValue
··' 3
(
··3 4
$str
··4 F
,
··F G
pMdsynAmReservaE
··H X
.
··X Y
NombresPaciente
··Y h
)
··h i
;
··i j
cmd
„„ 
.
„„ 

Parameters
„„ &
.
„„& '
AddWithValue
„„' 3
(
„„3 4
$str
„„4 D
,
„„D E
pMdsynAmReservaE
„„F V
.
„„V W
RutPaciente
„„W b
)
„„b c
;
„„c d
cmd
‰‰ 
.
‰‰ 

Parameters
‰‰ &
.
‰‰& '
AddWithValue
‰‰' 3
(
‰‰3 4
$str
‰‰4 C
,
‰‰C D
pMdsynAmReservaE
‰‰E U
.
‰‰U V
CodPaciente
‰‰V a
)
‰‰a b
;
‰‰b c
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ &
.
ÂÂ& '
AddWithValue
ÂÂ' 3
(
ÂÂ3 4
$str
ÂÂ4 <
,
ÂÂ< =
pMdsynAmReservaE
ÂÂ> N
.
ÂÂN O
Orden
ÂÂO T
)
ÂÂT U
;
ÂÂU V
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ &
.
ÁÁ& '
AddWithValue
ÁÁ' 3
(
ÁÁ3 4
$str
ÁÁ4 O
,
ÁÁO P
pMdsynAmReservaE
ÁÁQ a
.
ÁÁa b#
CodTipoConsultaMedica
ÁÁb w
)
ÁÁw x
;
ÁÁx y
cmd
ËË 
.
ËË 

Parameters
ËË &
.
ËË& '
AddWithValue
ËË' 3
(
ËË3 4
$str
ËË4 D
,
ËËD E
pMdsynAmReservaE
ËËF V
.
ËËV W
CodTipoPago
ËËW b
)
ËËb c
;
ËËc d
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ &
.
ÈÈ& '
AddWithValue
ÈÈ' 3
(
ÈÈ3 4
$str
ÈÈ4 C
,
ÈÈC D
pMdsynAmReservaE
ÈÈE U
.
ÈÈU V
CodAtencion
ÈÈV a
)
ÈÈa b
;
ÈÈb c
cnn
ÍÍ 
.
ÍÍ 
Open
ÍÍ  
(
ÍÍ  !
)
ÍÍ! "
;
ÍÍ" #
dr
ÎÎ 
=
ÎÎ 
cmd
ÎÎ  
.
ÎÎ  !
ExecuteReader
ÎÎ! .
(
ÎÎ. /
)
ÎÎ/ 0
;
ÎÎ0 1
while
ÏÏ 
(
ÏÏ 
dr
ÏÏ !
.
ÏÏ! "
Read
ÏÏ" &
(
ÏÏ& '
)
ÏÏ' (
)
ÏÏ( )
{
ÌÌ 
oMdsynAmReservaE
ÓÓ ,
=
ÓÓ- .
LlenarEntidad
ÓÓ/ <
(
ÓÓ< =
dr
ÓÓ= ?
,
ÓÓ? @
pMdsynAmReservaE
ÓÓA Q
)
ÓÓQ R
;
ÓÓR S
oListar
ÔÔ #
.
ÔÔ# $
Add
ÔÔ$ '
(
ÔÔ' (
oMdsynAmReservaE
ÔÔ( 8
)
ÔÔ8 9
;
ÔÔ9 :
}
 
dr
ÒÒ 
.
ÒÒ 
Close
ÒÒ  
(
ÒÒ  !
)
ÒÒ! "
;
ÒÒ" #
dr
ÚÚ 
.
ÚÚ 
Dispose
ÚÚ "
(
ÚÚ" #
)
ÚÚ# $
;
ÚÚ$ %
cmd
ÛÛ 
.
ÛÛ 
Dispose
ÛÛ #
(
ÛÛ# $
)
ÛÛ$ %
;
ÛÛ% &
cnn
ÙÙ 
.
ÙÙ 
Close
ÙÙ !
(
ÙÙ! "
)
ÙÙ" #
;
ÙÙ# $
cnn
ıı 
.
ıı 
Dispose
ıı #
(
ıı# $
)
ıı$ %
;
ıı% &
return
˜˜ 
oListar
˜˜ &
;
˜˜& '
}
¯¯ 
}
˘˘ 
}
˙˙ 
catch
˚˚ 
(
˚˚ 
	Exception
˚˚ 
ex
˚˚ 
)
˚˚  
{
¸¸ 
throw
˝˝ 
new
˝˝ 
	Exception
˝˝ #
(
˝˝# $
ex
˝˝$ &
.
˝˝& '
Message
˝˝' .
)
˝˝. /
;
˝˝/ 0
}
˛˛ 
}
ˇˇ 	
public
ÅÅ 
List
ÅÅ 
<
ÅÅ 
MdsynAmReservaE
ÅÅ #
>
ÅÅ# $$
Sp_Mdsyn_Cita_Consulta
ÅÅ% ;
(
ÅÅ; <
MdsynAmReservaE
ÅÅ< K
pMdsynAmReservaE
ÅÅL \
)
ÅÅ\ ]
{
ÇÇ 	
IDataReader
ÉÉ 
dr
ÉÉ 
;
ÉÉ 
MdsynAmReservaE
ÑÑ 
oMdsynAmReservaE
ÑÑ ,
=
ÑÑ- .
null
ÑÑ/ 3
;
ÑÑr s
List
ÖÖ 
<
ÖÖ 
MdsynAmReservaE
ÖÖ  
>
ÖÖ  !
oListar
ÖÖ" )
=
ÖÖ* +
new
ÖÖ, /
List
ÖÖ0 4
<
ÖÖ4 5
MdsynAmReservaE
ÖÖ5 D
>
ÖÖD E
(
ÖÖE F
)
ÖÖF G
;
ÖÖG H
try
ÜÜ 
{
áá 
using
àà 
(
àà 
SqlConnection
àà $
cnn
àà% (
=
àà) *
new
àà+ .
SqlConnection
àà/ <
(
àà< =
VariablesGlobales
àà= N
.
ààN O

CnnClinica
ààO Y
)
ààY Z
)
ààZ [
{
ââ 
using
ää 
(
ää 

SqlCommand
ää %
cmd
ää& )
=
ää* +
new
ää, /

SqlCommand
ää0 :
(
ää: ;
$str
ää; S
,
ääS T
cnn
ääU X
)
ääX Y
)
ääY Z
{
ãã 
cmd
åå 
.
åå 
CommandType
åå '
=
åå( )
CommandType
åå* 5
.
åå5 6
StoredProcedure
åå6 E
;
ååE F
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 B
,
ééB C
pMdsynAmReservaE
ééD T
.
ééT U

IdeReserva
ééU _
)
éé_ `
;
éé` a
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 ?
,
èè? @
pMdsynAmReservaE
èèA Q
.
èèQ R
IDCita
èèR X
)
èèX Y
;
èèY Z
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 A
,
êêA B
pMdsynAmReservaE
êêC S
.
êêS T
	FecInicio
êêT ]
)
êê] ^
;
êê^ _
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 >
,
ëë> ?
pMdsynAmReservaE
ëë@ P
.
ëëP Q
FecFin
ëëQ W
)
ëëW X
;
ëëX Y
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 ?
,
íí? @
pMdsynAmReservaE
ííA Q
.
ííQ R
CodSede
ííR Y
)
ííY Z
;
ííZ [
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 F
,
ììF G
pMdsynAmReservaE
ììH X
.
ììX Y
NombresPaciente
ììY h
)
ììh i
;
ììi j
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 D
,
ïïD E
pMdsynAmReservaE
ïïF V
.
ïïV W
RutPaciente
ïïW b
)
ïïb c
;
ïïc d
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 C
,
ññC D
pMdsynAmReservaE
ññE U
.
ññU V
CodPaciente
ññV a
)
ñña b
;
ññb c
cmd
óó 
.
óó 

Parameters
óó &
.
óó& '
AddWithValue
óó' 3
(
óó3 4
$str
óó4 <
,
óó< =
pMdsynAmReservaE
óó> N
.
óóN O
Orden
óóO T
)
óóT U
;
óóU V
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 O
,
ôôO P
pMdsynAmReservaE
ôôQ a
.
ôôa b#
CodTipoConsultaMedica
ôôb w
)
ôôw x
;
ôôx y
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 D
,
ööD E
pMdsynAmReservaE
ööF V
.
ööV W
CodTipoPago
ööW b
)
ööb c
;
ööc d
cmd
õõ 
.
õõ 

Parameters
õõ &
.
õõ& '
AddWithValue
õõ' 3
(
õõ3 4
$str
õõ4 C
,
õõC D
pMdsynAmReservaE
õõE U
.
õõU V
CodAtencion
õõV a
)
õõa b
;
õõb c
cmd
úú 
.
úú 

Parameters
úú &
.
úú& '
AddWithValue
úú' 3
(
úú3 4
$str
úú4 =
,
úú= >
pMdsynAmReservaE
úú? O
.
úúO P
ParXML
úúP V
)
úúV W
;
úúW X
cnn
ùù 
.
ùù 
Open
ùù  
(
ùù  !
)
ùù! "
;
ùù" #
dr
ûû 
=
ûû 
cmd
ûû  
.
ûû  !
ExecuteReader
ûû! .
(
ûû. /
)
ûû/ 0
;
ûû0 1
while
üü 
(
üü 
dr
üü !
.
üü! "
Read
üü" &
(
üü& '
)
üü' (
)
üü( )
{
†† 
oMdsynAmReservaE
°° ,
=
°°- .
LlenarEntidad
°°/ <
(
°°< =
dr
°°= ?
,
°°? @
pMdsynAmReservaE
°°A Q
)
°°Q R
;
°°R S
oListar
¢¢ #
.
¢¢# $
Add
¢¢$ '
(
¢¢' (
oMdsynAmReservaE
¢¢( 8
)
¢¢8 9
;
¢¢9 :
}
££ 
dr
§§ 
.
§§ 
Close
§§  
(
§§  !
)
§§! "
;
§§" #
dr
•• 
.
•• 
Dispose
•• "
(
••" #
)
••# $
;
••$ %
cmd
¶¶ 
.
¶¶ 
Dispose
¶¶ #
(
¶¶# $
)
¶¶$ %
;
¶¶% &
cnn
ßß 
.
ßß 
Close
ßß !
(
ßß! "
)
ßß" #
;
ßß# $
cnn
®® 
.
®® 
Dispose
®® #
(
®®# $
)
®®$ %
;
®®% &
return
™™ 
oListar
™™ &
;
™™& '
}
´´ 
}
¨¨ 
}
≠≠ 
catch
ÆÆ 
(
ÆÆ 
	Exception
ÆÆ 
ex
ÆÆ 
)
ÆÆ  
{
ØØ 
throw
∞∞ 
new
∞∞ 
	Exception
∞∞ #
(
∞∞# $
ex
∞∞$ &
.
∞∞& '
Message
∞∞' .
)
∞∞. /
;
∞∞/ 0
}
±± 
}
≤≤ 	
public
µµ 
	DataTable
µµ 2
$Sp_MdsynAmReserva_Consulta_DataTable
µµ =
(
µµ= >
MdsynAmReservaE
µµ> M
pMdsynAmReservaE
µµN ^
)
µµ^ _
{
∂∂ 	
	DataTable
∑∑ 
dt
∑∑ 
=
∑∑ 
new
∑∑ 
	DataTable
∑∑ (
(
∑∑( )
)
∑∑) *
;
∑∑* +
try
∏∏ 
{
ππ 
using
∫∫ 
(
∫∫ 
SqlConnection
∫∫ $
cnn
∫∫% (
=
∫∫) *
new
∫∫+ .
SqlConnection
∫∫/ <
(
∫∫< =
VariablesGlobales
∫∫= N
.
∫∫N O

CnnClinica
∫∫O Y
)
∫∫Y Z
)
∫∫Z [
{
ªª 
using
ºº 
(
ºº 

SqlCommand
ºº %
cmd
ºº& )
=
ºº* +
new
ºº, /

SqlCommand
ºº0 :
(
ºº: ;
$str
ºº; W
,
ººW X
cnn
ººY \
)
ºº\ ]
)
ºº] ^
{
ΩΩ 
cmd
ææ 
.
ææ 
CommandType
ææ '
=
ææ( )
CommandType
ææ* 5
.
ææ5 6
StoredProcedure
ææ6 E
;
ææE F
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
.
¿¿& '
AddWithValue
¿¿' 3
(
¿¿3 4
$str
¿¿4 B
,
¿¿B C
pMdsynAmReservaE
¿¿D T
.
¿¿T U

IdeReserva
¿¿U _
)
¿¿_ `
;
¿¿` a
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 I
,
¡¡I J
pMdsynAmReservaE
¡¡K [
.
¡¡[ \
IdeCorrelReserva
¡¡\ l
)
¡¡l m
;
¡¡m n
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ &
.
¬¬& '
AddWithValue
¬¬' 3
(
¬¬3 4
$str
¬¬4 A
,
¬¬A B
pMdsynAmReservaE
¬¬C S
.
¬¬S T
	FecInicio
¬¬T ]
)
¬¬] ^
;
¬¬^ _
cmd
√√ 
.
√√ 

Parameters
√√ &
.
√√& '
AddWithValue
√√' 3
(
√√3 4
$str
√√4 >
,
√√> ?
pMdsynAmReservaE
√√@ P
.
√√P Q
FecFin
√√Q W
)
√√W X
;
√√X Y
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ &
.
ƒƒ& '
AddWithValue
ƒƒ' 3
(
ƒƒ3 4
$str
ƒƒ4 ?
,
ƒƒ? @
pMdsynAmReservaE
ƒƒA Q
.
ƒƒQ R
CodSede
ƒƒR Y
)
ƒƒY Z
;
ƒƒZ [
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ &
.
≈≈& '
AddWithValue
≈≈' 3
(
≈≈3 4
$str
≈≈4 F
,
≈≈F G
pMdsynAmReservaE
≈≈H X
.
≈≈X Y
NombresPaciente
≈≈Y h
)
≈≈h i
;
≈≈i j
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ &
.
∆∆& '
AddWithValue
∆∆' 3
(
∆∆3 4
$str
∆∆4 <
,
∆∆< =
pMdsynAmReservaE
∆∆> N
.
∆∆N O
Orden
∆∆O T
)
∆∆T U
;
∆∆U V
cnn
«« 
.
«« 
Open
««  
(
««  !
)
««! "
;
««" #
SqlDataAdapter
»» &
ad
»»' )
=
»»* +
new
»», /
SqlDataAdapter
»»0 >
(
»»> ?
cmd
»»? B
)
»»B C
;
»»C D
ad
…… 
.
…… 
Fill
…… 
(
……  
dt
……  "
)
……" #
;
……# $
ad
ÀÀ 
.
ÀÀ 
Dispose
ÀÀ "
(
ÀÀ" #
)
ÀÀ# $
;
ÀÀ$ %
cmd
ÃÃ 
.
ÃÃ 
Dispose
ÃÃ #
(
ÃÃ# $
)
ÃÃ$ %
;
ÃÃ% &
cnn
ÕÕ 
.
ÕÕ 
Close
ÕÕ !
(
ÕÕ! "
)
ÕÕ" #
;
ÕÕ# $
cnn
ŒŒ 
.
ŒŒ 
Dispose
ŒŒ #
(
ŒŒ# $
)
ŒŒ$ %
;
ŒŒ% &
return
–– 
dt
–– !
;
––! "
}
—— 
}
““ 
}
”” 
catch
‘‘ 
(
‘‘ 
	Exception
‘‘ 
ex
‘‘ 
)
‘‘  
{
’’ 
throw
÷÷ 
new
÷÷ 
	Exception
÷÷ #
(
÷÷# $
ex
÷÷$ &
.
÷÷& '
Message
÷÷' .
)
÷÷. /
;
÷÷/ 0
}
◊◊ 
}
ÿÿ 	
public
⁄⁄ 
bool
⁄⁄ &
Sp_MdsynAmReserva_Insert
⁄⁄ ,
(
⁄⁄, -
MdsynAmReservaE
⁄⁄- <
pMdsynAmReservaE
⁄⁄= M
)
⁄⁄M N
{
€€ 	
try
‹‹ 
{
›› 
using
ﬁﬁ 
(
ﬁﬁ 
SqlConnection
ﬁﬁ $
cnn
ﬁﬁ% (
=
ﬁﬁ) *
new
ﬁﬁ+ .
SqlConnection
ﬁﬁ/ <
(
ﬁﬁ< =
VariablesGlobales
ﬁﬁ= N
.
ﬁﬁN O

CnnClinica
ﬁﬁO Y
)
ﬁﬁY Z
)
ﬁﬁZ [
{
ﬂﬂ 
using
‡‡ 
(
‡‡ 

SqlCommand
‡‡ %
cmd
‡‡& )
=
‡‡* +
new
‡‡, /

SqlCommand
‡‡0 :
(
‡‡: ;
$str
‡‡; U
,
‡‡U V
cnn
‡‡W Z
)
‡‡Z [
)
‡‡[ \
{
·· 
cmd
‚‚ 
.
‚‚ 
CommandType
‚‚ '
=
‚‚( )
CommandType
‚‚* 5
.
‚‚5 6
StoredProcedure
‚‚6 E
;
‚‚E F
cmd
‰‰ 
.
‰‰ 

Parameters
‰‰ &
.
‰‰& '
AddWithValue
‰‰' 3
(
‰‰3 4
$str
‰‰4 I
,
‰‰I J
pMdsynAmReservaE
‰‰K [
.
‰‰[ \
IdeCorrelReserva
‰‰\ l
)
‰‰l m
;
‰‰m n
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ &
.
ÂÂ& '
AddWithValue
ÂÂ' 3
(
ÂÂ3 4
$str
ÂÂ4 ?
,
ÂÂ? @
pMdsynAmReservaE
ÂÂA Q
.
ÂÂQ R
CodSede
ÂÂR Y
)
ÂÂY Z
;
ÂÂZ [
cmd
ÊÊ 
.
ÊÊ 

Parameters
ÊÊ &
.
ÊÊ& '
AddWithValue
ÊÊ' 3
(
ÊÊ3 4
$str
ÊÊ4 C
,
ÊÊC D
pMdsynAmReservaE
ÊÊE U
.
ÊÊU V
CodPaciente
ÊÊV a
)
ÊÊa b
;
ÊÊb c
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ &
.
ÁÁ& '
AddWithValue
ÁÁ' 3
(
ÁÁ3 4
$str
ÁÁ4 C
,
ÁÁC D
pMdsynAmReservaE
ÁÁE U
.
ÁÁU V
RutPaciente
ÁÁV a
)
ÁÁa b
;
ÁÁb c
cmd
ËË 
.
ËË 

Parameters
ËË &
.
ËË& '
AddWithValue
ËË' 3
(
ËË3 4
$str
ËË4 A
,
ËËA B
pMdsynAmReservaE
ËËC S
.
ËËS T
	CodMedico
ËËT ]
)
ËË] ^
;
ËË^ _
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ &
.
ÈÈ& '
AddWithValue
ÈÈ' 3
(
ÈÈ3 4
$str
ÈÈ4 F
,
ÈÈF G
pMdsynAmReservaE
ÈÈH X
.
ÈÈX Y
CodProfMedico
ÈÈY f
)
ÈÈf g
;
ÈÈg h
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ &
.
ÍÍ& '
AddWithValue
ÍÍ' 3
(
ÍÍ3 4
$str
ÍÍ4 G
,
ÍÍG H
pMdsynAmReservaE
ÍÍI Y
.
ÍÍY Z
CodEspecialidad
ÍÍZ i
)
ÍÍi j
;
ÍÍj k
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ &
.
ÎÎ& '
AddWithValue
ÎÎ' 3
(
ÎÎ3 4
$str
ÎÎ4 ?
,
ÎÎ? @
pMdsynAmReservaE
ÎÎA Q
.
ÎÎQ R
FecCita
ÎÎR Y
)
ÎÎY Z
;
ÎÎZ [
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ &
.
ÏÏ& '
AddWithValue
ÏÏ' 3
(
ÏÏ3 4
$str
ÏÏ4 N
,
ÏÏN O
pMdsynAmReservaE
ÏÏP `
.
ÏÏ` a#
UsrRegistroPlataforma
ÏÏa v
)
ÏÏv w
;
ÏÏw x
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ &
.
ÌÌ& '
AddWithValue
ÌÌ' 3
(
ÌÌ3 4
$str
ÌÌ4 J
,
ÌÌJ K
pMdsynAmReservaE
ÌÌL \
.
ÌÌ\ ]
EstConsultaMedica
ÌÌ] n
)
ÌÌn o
;
ÌÌo p
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ &
.
ÓÓ& '
Add
ÓÓ' *
(
ÓÓ* +
VariablesGlobales
ÓÓ+ <
.
ÓÓ< =
ParametroSql
ÓÓ= I
(
ÓÓI J
$str
ÓÓJ X
,
ÓÓX Y 
ParameterDirection
ÓÓZ l
.
ÓÓl m
InputOutput
ÓÓm x
,
ÓÓx y
	SqlDbTypeÓÓz É
.ÓÓÉ Ñ
IntÓÓÑ á
,ÓÓá à
$numÓÓâ ä
,ÓÓä ã 
pMdsynAmReservaEÓÓå ú
.ÓÓú ù

IdeReservaÓÓù ß
.ÓÓß ®
ToStringÓÓ® ∞
(ÓÓ∞ ±
)ÓÓ± ≤
)ÓÓ≤ ≥
)ÓÓ≥ ¥
;ÓÓ¥ µ
cnn
ÔÔ 
.
ÔÔ 
Open
ÔÔ  
(
ÔÔ  !
)
ÔÔ! "
;
ÔÔ" #
if
 
(
 
cmd
 
.
  
ExecuteNonQuery
  /
(
/ 0
)
0 1
>=
2 4
$num
5 6
)
6 7
{
ÒÒ 
pMdsynAmReservaE
ÚÚ ,
.
ÚÚ, -

IdeReserva
ÚÚ- 7
=
ÚÚ8 9
(
ÚÚ: ;
long
ÚÚ; ?
)
ÚÚ? @
cmd
ÚÚ@ C
.
ÚÚC D

Parameters
ÚÚD N
[
ÚÚN O
$str
ÚÚO ]
]
ÚÚ] ^
.
ÚÚ^ _
Value
ÚÚ_ d
;
ÚÚd e
return
ÛÛ "
true
ÛÛ# '
;
ÛÛ' (
}
ÙÙ 
else
ıı 
return
ˆˆ "
false
ˆˆ# (
;
ˆˆ( )
cmd
˜˜ 
.
˜˜ 
Dispose
˜˜ #
(
˜˜# $
)
˜˜$ %
;
˜˜% &
cnn
¯¯ 
.
¯¯ 
Close
¯¯ !
(
¯¯! "
)
¯¯" #
;
¯¯# $
cnn
˘˘ 
.
˘˘ 
Dispose
˘˘ #
(
˘˘# $
)
˘˘$ %
;
˘˘% &
}
˙˙ 
}
˚˚ 
}
¸¸ 
catch
˝˝ 
(
˝˝ 
	Exception
˝˝ 
ex
˝˝ 
)
˝˝  
{
˛˛ 
throw
ˇˇ 
new
ˇˇ 
	Exception
ˇˇ #
(
ˇˇ# $
ex
ˇˇ$ &
.
ˇˇ& '
Message
ˇˇ' .
)
ˇˇ. /
;
ˇˇ/ 0
}
ÄÄ 
}
ÅÅ 	
public
ÉÉ 
bool
ÉÉ &
Sp_MdsynAmReserva_Update
ÉÉ ,
(
ÉÉ, -
MdsynAmReservaE
ÉÉ- <
pMdsynAmReservaE
ÉÉ= M
)
ÉÉM N
{
ÑÑ 	
try
ÖÖ 
{
ÜÜ 
using
áá 
(
áá 
SqlConnection
áá $
cnn
áá% (
=
áá) *
new
áá+ .
SqlConnection
áá/ <
(
áá< =
VariablesGlobales
áá= N
.
ááN O

CnnClinica
ááO Y
)
ááY Z
)
ááZ [
{
àà 
using
ââ 
(
ââ 

SqlCommand
ââ %
cmd
ââ& )
=
ââ* +
new
ââ, /

SqlCommand
ââ0 :
(
ââ: ;
$str
ââ; U
,
ââU V
cnn
ââW Z
)
ââZ [
)
ââ[ \
{
ää 
cmd
ãã 
.
ãã 
CommandType
ãã '
=
ãã( )
CommandType
ãã* 5
.
ãã5 6
StoredProcedure
ãã6 E
;
ããE F
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 I
,
ççI J
pMdsynAmReservaE
ççK [
.
çç[ \
IdeCorrelReserva
çç\ l
)
ççl m
;
ççm n
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 ?
,
éé? @
pMdsynAmReservaE
ééA Q
.
ééQ R
CodSede
ééR Y
)
ééY Z
;
ééZ [
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 C
,
èèC D
pMdsynAmReservaE
èèE U
.
èèU V
CodPaciente
èèV a
)
èèa b
;
èèb c
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 C
,
êêC D
pMdsynAmReservaE
êêE U
.
êêU V
RutPaciente
êêV a
)
êêa b
;
êêb c
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 A
,
ëëA B
pMdsynAmReservaE
ëëC S
.
ëëS T
	CodMedico
ëëT ]
)
ëë] ^
;
ëë^ _
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 F
,
ììF G
pMdsynAmReservaE
ììH X
.
ììX Y
CodProfMedico
ììY f
)
ììf g
;
ììg h
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 G
,
îîG H
pMdsynAmReservaE
îîI Y
.
îîY Z
CodEspecialidad
îîZ i
)
îîi j
;
îîj k
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 ?
,
ïï? @
pMdsynAmReservaE
ïïA Q
.
ïïQ R
FecCita
ïïR Y
)
ïïY Z
;
ïïZ [
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 N
,
ññN O
pMdsynAmReservaE
ññP `
.
ññ` a#
UsrRegistroPlataforma
ñña v
)
ññv w
;
ññw x
cmd
òò 
.
òò 

Parameters
òò &
.
òò& '
AddWithValue
òò' 3
(
òò3 4
$str
òò4 D
,
òòD E
pMdsynAmReservaE
òòF V
.
òòV W
CntMontopago
òòW c
)
òòc d
;
òòd e
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 D
,
ôôD E
pMdsynAmReservaE
ôôF V
.
ôôV W
CodTipoPago
ôôW b
)
ôôb c
;
ôôc d
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 B
,
ööB C
pMdsynAmReservaE
ööD T
.
ööT U

IdeReserva
ööU _
)
öö_ `
;
öö` a
cmd
úú 
.
úú 

Parameters
úú &
.
úú& '
AddWithValue
úú' 3
(
úú3 4
$str
úú4 J
,
úúJ K
pMdsynAmReservaE
úúL \
.
úú\ ]
UsrReservaAnulada
úú] n
)
úún o
;
úúo p
cmd
ùù 
.
ùù 

Parameters
ùù &
.
ùù& '
AddWithValue
ùù' 3
(
ùù3 4
$str
ùù4 J
,
ùùJ K
pMdsynAmReservaE
ùùL \
.
ùù\ ]
FlgReservaAnulada
ùù] n
)
ùùn o
;
ùùo p
cmd
ûû 
.
ûû 

Parameters
ûû &
.
ûû& '
AddWithValue
ûû' 3
(
ûû3 4
$str
ûû4 <
,
ûû< =
pMdsynAmReservaE
ûû> N
.
ûûN O
Orden
ûûO T
)
ûûT U
;
ûûU V
cnn
üü 
.
üü 
Open
üü  
(
üü  !
)
üü! "
;
üü" #
if
†† 
(
†† 
cmd
†† 
.
††  
ExecuteNonQuery
††  /
(
††/ 0
)
††0 1
>=
††2 4
$num
††5 6
)
††6 7
return
°° "
true
°°# '
;
°°' (
else
¢¢ 
return
££ "
false
££# (
;
££( )
cmd
§§ 
.
§§ 
Dispose
§§ #
(
§§# $
)
§§$ %
;
§§% &
cnn
•• 
.
•• 
Close
•• !
(
••! "
)
••" #
;
••# $
cnn
¶¶ 
.
¶¶ 
Dispose
¶¶ #
(
¶¶# $
)
¶¶$ %
;
¶¶% &
}
ßß 
}
®® 
}
©© 
catch
™™ 
(
™™ 
	Exception
™™ 
ex
™™ 
)
™™  
{
´´ 
throw
¨¨ 
new
¨¨ 
	Exception
¨¨ #
(
¨¨# $
ex
¨¨$ &
.
¨¨& '
Message
¨¨' .
)
¨¨. /
;
¨¨/ 0
}
≠≠ 
}
ÆÆ 	
public
∞∞ 
bool
∞∞ "
Sp_Mdsyn_Cita_Update
∞∞ (
(
∞∞( )
MdsynAmReservaE
∞∞) 8
pMdsynAmReservaE
∞∞9 I
)
∞∞I J
{
±± 	
try
≤≤ 
{
≥≥ 
using
¥¥ 
(
¥¥ 
SqlConnection
¥¥ $
cnn
¥¥% (
=
¥¥) *
new
¥¥+ .
SqlConnection
¥¥/ <
(
¥¥< =
VariablesGlobales
¥¥= N
.
¥¥N O

CnnClinica
¥¥O Y
)
¥¥Y Z
)
¥¥Z [
{
µµ 
using
∂∂ 
(
∂∂ 

SqlCommand
∂∂ %
cmd
∂∂& )
=
∂∂* +
new
∂∂, /

SqlCommand
∂∂0 :
(
∂∂: ;
$str
∂∂; Q
,
∂∂Q R
cnn
∂∂S V
)
∂∂V W
)
∂∂W X
{
∑∑ 
cmd
∏∏ 
.
∏∏ 
CommandType
∏∏ '
=
∏∏( )
CommandType
∏∏* 5
.
∏∏5 6
StoredProcedure
∏∏6 E
;
∏∏E F
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ &
.
∫∫& '
AddWithValue
∫∫' 3
(
∫∫3 4
$str
∫∫4 ?
,
∫∫? @
pMdsynAmReservaE
∫∫A Q
.
∫∫Q R
IDCita
∫∫R X
)
∫∫X Y
;
∫∫Y Z
cmd
ªª 
.
ªª 

Parameters
ªª &
.
ªª& '
AddWithValue
ªª' 3
(
ªª3 4
$str
ªª4 ?
,
ªª? @
pMdsynAmReservaE
ªªA Q
.
ªªQ R
CodSede
ªªR Y
)
ªªY Z
;
ªªZ [
cmd
ºº 
.
ºº 

Parameters
ºº &
.
ºº& '
AddWithValue
ºº' 3
(
ºº3 4
$str
ºº4 C
,
ººC D
pMdsynAmReservaE
ººE U
.
ººU V
CodPaciente
ººV a
)
ººa b
;
ººb c
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ &
.
ΩΩ& '
AddWithValue
ΩΩ' 3
(
ΩΩ3 4
$str
ΩΩ4 C
,
ΩΩC D
pMdsynAmReservaE
ΩΩE U
.
ΩΩU V
RutPaciente
ΩΩV a
)
ΩΩa b
;
ΩΩb c
cmd
ææ 
.
ææ 

Parameters
ææ &
.
ææ& '
AddWithValue
ææ' 3
(
ææ3 4
$str
ææ4 A
,
ææA B
pMdsynAmReservaE
ææC S
.
ææS T
	CodMedico
ææT ]
)
ææ] ^
;
ææ^ _
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
.
¿¿& '
AddWithValue
¿¿' 3
(
¿¿3 4
$str
¿¿4 F
,
¿¿F G
pMdsynAmReservaE
¿¿H X
.
¿¿X Y
CodProfMedico
¿¿Y f
)
¿¿f g
;
¿¿g h
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 G
,
¡¡G H
pMdsynAmReservaE
¡¡I Y
.
¡¡Y Z
CodEspecialidad
¡¡Z i
)
¡¡i j
;
¡¡j k
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ &
.
¬¬& '
AddWithValue
¬¬' 3
(
¬¬3 4
$str
¬¬4 ?
,
¬¬? @
pMdsynAmReservaE
¬¬A Q
.
¬¬Q R
FecCita
¬¬R Y
)
¬¬Y Z
;
¬¬Z [
cmd
√√ 
.
√√ 

Parameters
√√ &
.
√√& '
AddWithValue
√√' 3
(
√√3 4
$str
√√4 N
,
√√N O
pMdsynAmReservaE
√√P `
.
√√` a#
UsrRegistroPlataforma
√√a v
)
√√v w
;
√√w x
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ &
.
≈≈& '
AddWithValue
≈≈' 3
(
≈≈3 4
$str
≈≈4 D
,
≈≈D E
pMdsynAmReservaE
≈≈F V
.
≈≈V W
CntMontopago
≈≈W c
)
≈≈c d
;
≈≈d e
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ &
.
∆∆& '
AddWithValue
∆∆' 3
(
∆∆3 4
$str
∆∆4 D
,
∆∆D E
pMdsynAmReservaE
∆∆F V
.
∆∆V W
CodTipoPago
∆∆W b
)
∆∆b c
;
∆∆c d
cmd
«« 
.
«« 

Parameters
«« &
.
««& '
AddWithValue
««' 3
(
««3 4
$str
««4 B
,
««B C
pMdsynAmReservaE
««D T
.
««T U

IdeReserva
««U _
)
««_ `
;
««` a
cmd
…… 
.
…… 

Parameters
…… &
.
……& '
AddWithValue
……' 3
(
……3 4
$str
……4 J
,
……J K
pMdsynAmReservaE
……L \
.
……\ ]
UsrReservaAnulada
……] n
)
……n o
;
……o p
cmd
   
.
   

Parameters
   &
.
  & '
AddWithValue
  ' 3
(
  3 4
$str
  4 J
,
  J K
pMdsynAmReservaE
  L \
.
  \ ]
FlgReservaAnulada
  ] n
)
  n o
;
  o p
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ &
.
ÀÀ& '
AddWithValue
ÀÀ' 3
(
ÀÀ3 4
$str
ÀÀ4 <
,
ÀÀ< =
pMdsynAmReservaE
ÀÀ> N
.
ÀÀN O
Orden
ÀÀO T
)
ÀÀT U
;
ÀÀU V
cnn
ÃÃ 
.
ÃÃ 
Open
ÃÃ  
(
ÃÃ  !
)
ÃÃ! "
;
ÃÃ" #
if
ÕÕ 
(
ÕÕ 
cmd
ÕÕ 
.
ÕÕ  
ExecuteNonQuery
ÕÕ  /
(
ÕÕ/ 0
)
ÕÕ0 1
>=
ÕÕ2 4
$num
ÕÕ5 6
)
ÕÕ6 7
return
ŒŒ "
true
ŒŒ# '
;
ŒŒ' (
else
œœ 
return
–– "
false
––# (
;
––( )
cmd
—— 
.
—— 
Dispose
—— #
(
——# $
)
——$ %
;
——% &
cnn
““ 
.
““ 
Close
““ !
(
““! "
)
““" #
;
““# $
cnn
”” 
.
”” 
Dispose
”” #
(
””# $
)
””$ %
;
””% &
}
‘‘ 
}
’’ 
}
÷÷ 
catch
◊◊ 
(
◊◊ 
	Exception
◊◊ 
ex
◊◊ 
)
◊◊  
{
ÿÿ 
throw
ŸŸ 
new
ŸŸ 
	Exception
ŸŸ #
(
ŸŸ# $
ex
ŸŸ$ &
.
ŸŸ& '
Message
ŸŸ' .
)
ŸŸ. /
;
ŸŸ/ 0
}
⁄⁄ 
}
€€ 	
public
›› 
bool
›› ,
Sp_MdsynAmReserva_UpdatexCampo
›› 2
(
››2 3
MdsynAmReservaE
››3 B
pMdsynAmReservaE
››C S
)
››S T
{
ﬁﬁ 	
try
ﬂﬂ 
{
‡‡ 
using
·· 
(
·· 
SqlConnection
·· $
cnn
··% (
=
··) *
new
··+ .
SqlConnection
··/ <
(
··< =
VariablesGlobales
··= N
.
··N O

CnnClinica
··O Y
)
··Y Z
)
··Z [
{
‚‚ 
using
„„ 
(
„„ 

SqlCommand
„„ %
cmd
„„& )
=
„„* +
new
„„, /

SqlCommand
„„0 :
(
„„: ;
$str
„„; [
,
„„[ \
cnn
„„] `
)
„„` a
)
„„a b
{
‰‰ 
cmd
ÂÂ 
.
ÂÂ 
CommandType
ÂÂ '
=
ÂÂ( )
CommandType
ÂÂ* 5
.
ÂÂ5 6
StoredProcedure
ÂÂ6 E
;
ÂÂE F
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ &
.
ÁÁ& '
AddWithValue
ÁÁ' 3
(
ÁÁ3 4
$str
ÁÁ4 B
,
ÁÁB C
pMdsynAmReservaE
ÁÁD T
.
ÁÁT U

IdeReserva
ÁÁU _
)
ÁÁ_ `
;
ÁÁ` a
cmd
ËË 
.
ËË 

Parameters
ËË &
.
ËË& '
AddWithValue
ËË' 3
(
ËË3 4
$str
ËË4 B
,
ËËB C
pMdsynAmReservaE
ËËD T
.
ËËT U

NuevoValor
ËËU _
)
ËË_ `
;
ËË` a
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ &
.
ÈÈ& '
AddWithValue
ÈÈ' 3
(
ÈÈ3 4
$str
ÈÈ4 <
,
ÈÈ< =
pMdsynAmReservaE
ÈÈ> N
.
ÈÈN O
Campo
ÈÈO T
)
ÈÈT U
;
ÈÈU V
cnn
ÍÍ 
.
ÍÍ 
Open
ÍÍ  
(
ÍÍ  !
)
ÍÍ! "
;
ÍÍ" #
if
ÎÎ 
(
ÎÎ 
cmd
ÎÎ 
.
ÎÎ  
ExecuteNonQuery
ÎÎ  /
(
ÎÎ/ 0
)
ÎÎ0 1
>=
ÎÎ2 4
$num
ÎÎ5 6
)
ÎÎ6 7
return
ÏÏ "
true
ÏÏ# '
;
ÏÏ' (
else
ÌÌ 
return
ÓÓ "
false
ÓÓ# (
;
ÓÓ( )
cmd
ÔÔ 
.
ÔÔ 
Dispose
ÔÔ #
(
ÔÔ# $
)
ÔÔ$ %
;
ÔÔ% &
cnn
 
.
 
Close
 !
(
! "
)
" #
;
# $
cnn
ÒÒ 
.
ÒÒ 
Dispose
ÒÒ #
(
ÒÒ# $
)
ÒÒ$ %
;
ÒÒ% &
}
ÚÚ 
}
ÛÛ 
}
ÙÙ 
catch
ıı 
(
ıı 
	Exception
ıı 
ex
ıı 
)
ıı  
{
ˆˆ 
throw
˜˜ 
new
˜˜ 
	Exception
˜˜ #
(
˜˜# $
ex
˜˜$ &
.
˜˜& '
Message
˜˜' .
)
˜˜. /
;
˜˜/ 0
}
¯¯ 
}
˘˘ 	
public
˚˚ 
bool
˚˚ (
Sp_Mdsyn_Cita_UpdatexCampo
˚˚ .
(
˚˚. /
MdsynAmReservaE
˚˚/ >
pMdsynAmReservaE
˚˚? O
)
˚˚O P
{
¸¸ 	
try
˝˝ 
{
˛˛ 
using
ˇˇ 
(
ˇˇ 
SqlConnection
ˇˇ $
cnn
ˇˇ% (
=
ˇˇ) *
new
ˇˇ+ .
SqlConnection
ˇˇ/ <
(
ˇˇ< =
VariablesGlobales
ˇˇ= N
.
ˇˇN O

CnnClinica
ˇˇO Y
)
ˇˇY Z
)
ˇˇZ [
{
ÄÄ 
using
ÅÅ 
(
ÅÅ 

SqlCommand
ÅÅ %
cmd
ÅÅ& )
=
ÅÅ* +
new
ÅÅ, /

SqlCommand
ÅÅ0 :
(
ÅÅ: ;
$str
ÅÅ; W
,
ÅÅW X
cnn
ÅÅY \
)
ÅÅ\ ]
)
ÅÅ] ^
{
ÇÇ 
cmd
ÉÉ 
.
ÉÉ 
CommandType
ÉÉ '
=
ÉÉ( )
CommandType
ÉÉ* 5
.
ÉÉ5 6
StoredProcedure
ÉÉ6 E
;
ÉÉE F
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 ?
,
ÖÖ? @
pMdsynAmReservaE
ÖÖA Q
.
ÖÖQ R
IDCita
ÖÖR X
)
ÖÖX Y
;
ÖÖY Z
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 B
,
ÜÜB C
pMdsynAmReservaE
ÜÜD T
.
ÜÜT U

NuevoValor
ÜÜU _
)
ÜÜ_ `
;
ÜÜ` a
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 <
,
áá< =
pMdsynAmReservaE
áá> N
.
ááN O
Campo
ááO T
)
ááT U
;
ááU V
cnn
àà 
.
àà 
Open
àà  
(
àà  !
)
àà! "
;
àà" #
if
ââ 
(
ââ 
cmd
ââ 
.
ââ  
ExecuteNonQuery
ââ  /
(
ââ/ 0
)
ââ0 1
>=
ââ2 4
$num
ââ5 6
)
ââ6 7
return
ää "
true
ää# '
;
ää' (
else
ãã 
return
åå "
false
åå# (
;
åå( )
cmd
çç 
.
çç 
Dispose
çç #
(
çç# $
)
çç$ %
;
çç% &
cnn
éé 
.
éé 
Close
éé !
(
éé! "
)
éé" #
;
éé# $
cnn
èè 
.
èè 
Dispose
èè #
(
èè# $
)
èè$ %
;
èè% &
}
êê 
}
ëë 
}
íí 
catch
ìì 
(
ìì 
	Exception
ìì 
ex
ìì 
)
ìì  
{
îî 
throw
ïï 
new
ïï 
	Exception
ïï #
(
ïï# $
ex
ïï$ &
.
ïï& '
Message
ïï' .
)
ïï. /
;
ïï/ 0
}
ññ 
}
óó 	
public
öö 
bool
öö &
Sp_MdsynAmReserva_Delete
öö ,
(
öö, -
MdsynAmReservaE
öö- <
pMdsynAmReservaE
öö= M
)
ööM N
{
õõ 	
try
úú 
{
ùù 
using
ûû 
(
ûû 
SqlConnection
ûû $
cnn
ûû% (
=
ûû) *
new
ûû+ .
SqlConnection
ûû/ <
(
ûû< =
VariablesGlobales
ûû= N
.
ûûN O

CnnClinica
ûûO Y
)
ûûY Z
)
ûûZ [
{
üü 
using
†† 
(
†† 

SqlCommand
†† %
cmd
††& )
=
††* +
new
††, /

SqlCommand
††0 :
(
††: ;
$str
††; U
,
††U V
cnn
††W Z
)
††Z [
)
††[ \
{
°° 
cmd
¢¢ 
.
¢¢ 
CommandType
¢¢ '
=
¢¢( )
CommandType
¢¢* 5
.
¢¢5 6
StoredProcedure
¢¢6 E
;
¢¢E F
cmd
§§ 
.
§§ 

Parameters
§§ &
.
§§& '
AddWithValue
§§' 3
(
§§3 4
$str
§§4 B
,
§§B C
pMdsynAmReservaE
§§D T
.
§§T U

IdeReserva
§§U _
)
§§_ `
;
§§` a
cnn
•• 
.
•• 
Open
••  
(
••  !
)
••! "
;
••" #
if
¶¶ 
(
¶¶ 
cmd
¶¶ 
.
¶¶  
ExecuteNonQuery
¶¶  /
(
¶¶/ 0
)
¶¶0 1
>=
¶¶2 4
$num
¶¶5 6
)
¶¶6 7
return
ßß "
true
ßß# '
;
ßß' (
else
®® 
return
©© "
false
©©# (
;
©©( )
cmd
™™ 
.
™™ 
Dispose
™™ #
(
™™# $
)
™™$ %
;
™™% &
cnn
´´ 
.
´´ 
Close
´´ !
(
´´! "
)
´´" #
;
´´# $
cnn
¨¨ 
.
¨¨ 
Dispose
¨¨ #
(
¨¨# $
)
¨¨$ %
;
¨¨% &
}
≠≠ 
}
ÆÆ 
}
ØØ 
catch
∞∞ 
(
∞∞ 
	Exception
∞∞ 
ex
∞∞ 
)
∞∞  
{
±± 
throw
≤≤ 
new
≤≤ 
	Exception
≤≤ #
(
≤≤# $
ex
≤≤$ &
.
≤≤& '
Message
≤≤' .
)
≤≤. /
;
≤≤/ 0
}
≥≥ 
}
¥¥ 	
public
∂∂ 
bool
∂∂ &
Sp_Mdsyn_Cita_Monto_Cero
∂∂ ,
(
∂∂, -
MdsynAmReservaE
∂∂- <
pMdsynAmReservaE
∂∂= M
)
∂∂M N
{
∑∑ 	
try
∏∏ 
{
ππ 
using
∫∫ 
(
∫∫ 
SqlConnection
∫∫ $
cnn
∫∫% (
=
∫∫) *
new
∫∫+ .
SqlConnection
∫∫/ <
(
∫∫< =
VariablesGlobales
∫∫= N
.
∫∫N O

CnnClinica
∫∫O Y
)
∫∫Y Z
)
∫∫Z [
{
ªª 
using
ºº 
(
ºº 

SqlCommand
ºº %
cmd
ºº& )
=
ºº* +
new
ºº, /

SqlCommand
ºº0 :
(
ºº: ;
$str
ºº; U
,
ººU V
cnn
ººW Z
)
ººZ [
)
ºº[ \
{
ΩΩ 
cmd
ææ 
.
ææ 
CommandType
ææ '
=
ææ( )
CommandType
ææ* 5
.
ææ5 6
StoredProcedure
ææ6 E
;
ææE F
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
.
¿¿& '
AddWithValue
¿¿' 3
(
¿¿3 4
$str
¿¿4 I
,
¿¿I J
pMdsynAmReservaE
¿¿K [
.
¿¿[ \
IdeCorrelReserva
¿¿\ l
)
¿¿l m
;
¿¿m n
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 C
,
¡¡C D
pMdsynAmReservaE
¡¡E U
.
¡¡U V
CodAtencion
¡¡V a
)
¡¡a b
;
¡¡b c
cnn
¬¬ 
.
¬¬ 
Open
¬¬  
(
¬¬  !
)
¬¬! "
;
¬¬" #
if
√√ 
(
√√ 
cmd
√√ 
.
√√  
ExecuteNonQuery
√√  /
(
√√/ 0
)
√√0 1
>=
√√2 4
$num
√√5 6
)
√√6 7
return
ƒƒ "
true
ƒƒ# '
;
ƒƒ' (
else
≈≈ 
return
∆∆ "
false
∆∆# (
;
∆∆( )
cmd
«« 
.
«« 
Dispose
«« #
(
««# $
)
««$ %
;
««% &
cnn
»» 
.
»» 
Close
»» !
(
»»! "
)
»»" #
;
»»# $
cnn
…… 
.
…… 
Dispose
…… #
(
……# $
)
……$ %
;
……% &
}
   
}
ÀÀ 
}
ÃÃ 
catch
ÕÕ 
(
ÕÕ 
	Exception
ÕÕ 
ex
ÕÕ 
)
ÕÕ  
{
ŒŒ 
throw
œœ 
new
œœ 
	Exception
œœ #
(
œœ# $
ex
œœ$ &
.
œœ& '
Message
œœ' .
)
œœ. /
;
œœ/ 0
}
–– 
}
—— 	
public
”” 
bool
”” (
Sp_Mdsyn_Reprogramar_Citas
”” .
(
””. /
MdsynAmReservaE
””/ >
pMdsynAmReservaE
””? O
)
””O P
{
‘‘ 	
try
’’ 
{
÷÷ 
using
◊◊ 
(
◊◊ 
SqlConnection
◊◊ $
cnn
◊◊% (
=
◊◊) *
new
◊◊+ .
SqlConnection
◊◊/ <
(
◊◊< =
VariablesGlobales
◊◊= N
.
◊◊N O

CnnClinica
◊◊O Y
)
◊◊Y Z
)
◊◊Z [
{
ÿÿ 
using
ŸŸ 
(
ŸŸ 

SqlCommand
ŸŸ %
cmd
ŸŸ& )
=
ŸŸ* +
new
ŸŸ, /

SqlCommand
ŸŸ0 :
(
ŸŸ: ;
$str
ŸŸ; W
,
ŸŸW X
cnn
ŸŸY \
)
ŸŸ\ ]
)
ŸŸ] ^
{
⁄⁄ 
cmd
€€ 
.
€€ 
CommandType
€€ '
=
€€( )
CommandType
€€* 5
.
€€5 6
StoredProcedure
€€6 E
;
€€E F
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 R
,
››R S
pMdsynAmReservaE
››T d
.
››d e"
IdeCorrelReservaBack
››e y
)
››y z
;
››z {
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ &
.
ﬁﬁ& '
AddWithValue
ﬁﬁ' 3
(
ﬁﬁ3 4
$str
ﬁﬁ4 O
,
ﬁﬁO P
pMdsynAmReservaE
ﬁﬁQ a
.
ﬁﬁa b!
IdeCorrelReservaNew
ﬁﬁb u
)
ﬁﬁu v
;
ﬁﬁv w
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ &
.
ﬂﬂ& '
AddWithValue
ﬂﬂ' 3
(
ﬂﬂ3 4
$str
ﬂﬂ4 E
,
ﬂﬂE F
pMdsynAmReservaE
ﬂﬂG W
.
ﬂﬂW X
UsrReprograma
ﬂﬂX e
)
ﬂﬂe f
;
ﬂﬂf g
cnn
‡‡ 
.
‡‡ 
Open
‡‡  
(
‡‡  !
)
‡‡! "
;
‡‡" #
if
·· 
(
·· 
cmd
·· 
.
··  
ExecuteNonQuery
··  /
(
··/ 0
)
··0 1
>=
··2 4
$num
··5 6
)
··6 7
return
‚‚ "
true
‚‚# '
;
‚‚' (
else
„„ 
return
‰‰ "
false
‰‰# (
;
‰‰( )
cmd
ÂÂ 
.
ÂÂ 
Dispose
ÂÂ #
(
ÂÂ# $
)
ÂÂ$ %
;
ÂÂ% &
cnn
ÊÊ 
.
ÊÊ 
Close
ÊÊ !
(
ÊÊ! "
)
ÊÊ" #
;
ÊÊ# $
cnn
ÁÁ 
.
ÁÁ 
Dispose
ÁÁ #
(
ÁÁ# $
)
ÁÁ$ %
;
ÁÁ% &
}
ËË 
}
ÈÈ 
}
ÍÍ 
catch
ÎÎ 
(
ÎÎ 
	Exception
ÎÎ 
ex
ÎÎ 
)
ÎÎ  
{
ÏÏ 
throw
ÌÌ 
new
ÌÌ 
	Exception
ÌÌ #
(
ÌÌ# $
ex
ÌÌ$ &
.
ÌÌ& '
Message
ÌÌ' .
)
ÌÌ. /
;
ÌÌ/ 0
}
ÓÓ 
}
ÔÔ 	
public
ÒÒ 
bool
ÒÒ +
Sp_PresotorAmbulatorio_Insert
ÒÒ 1
(
ÒÒ1 2
MdsynAmReservaE
ÒÒ2 A
pMdsynAmReservaE
ÒÒB R
)
ÒÒR S
{
ÚÚ 	
try
ÛÛ 
{
ÙÙ 
using
ıı 
(
ıı 
SqlConnection
ıı $
cnn
ıı% (
=
ıı) *
new
ıı+ .
SqlConnection
ıı/ <
(
ıı< =
VariablesGlobales
ıı= N
.
ııN O

CnnClinica
ııO Y
)
ııY Z
)
ııZ [
{
ˆˆ 
using
˜˜ 
(
˜˜ 

SqlCommand
˜˜ %
cmd
˜˜& )
=
˜˜* +
new
˜˜, /

SqlCommand
˜˜0 :
(
˜˜: ;
$str
˜˜; Z
,
˜˜Z [
cnn
˜˜\ _
)
˜˜_ `
)
˜˜` a
{
¯¯ 
cmd
˘˘ 
.
˘˘ 
CommandType
˘˘ '
=
˘˘( )
CommandType
˘˘* 5
.
˘˘5 6
StoredProcedure
˘˘6 E
;
˘˘E F
cmd
˚˚ 
.
˚˚ 

Parameters
˚˚ &
.
˚˚& '
AddWithValue
˚˚' 3
(
˚˚3 4
$str
˚˚4 B
,
˚˚B C
pMdsynAmReservaE
˚˚D T
.
˚˚T U
CodAtencion
˚˚U `
)
˚˚` a
;
˚˚a b
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ &
.
¸¸& '
Add
¸¸' *
(
¸¸* +
VariablesGlobales
¸¸+ <
.
¸¸< =
ParametroSql
¸¸= I
(
¸¸I J
$str
¸¸J X
,
¸¸X Y 
ParameterDirection
¸¸Z l
.
¸¸l m
InputOutput
¸¸m x
,
¸¸x y
	SqlDbType¸¸z É
.¸¸É Ñ
VarChar¸¸Ñ ã
,¸¸ã å
$num¸¸ç è
,¸¸è ê 
pMdsynAmReservaE¸¸ë °
.¸¸° ¢
CodPresotor¸¸¢ ≠
)¸¸≠ Æ
)¸¸Æ Ø
;¸¸Ø ∞
cnn
˝˝ 
.
˝˝ 
Open
˝˝  
(
˝˝  !
)
˝˝! "
;
˝˝" #
if
˛˛ 
(
˛˛ 
cmd
˛˛ 
.
˛˛  
ExecuteNonQuery
˛˛  /
(
˛˛/ 0
)
˛˛0 1
>=
˛˛2 4
$num
˛˛5 6
)
˛˛6 7
return
ˇˇ "
true
ˇˇ# '
;
ˇˇ' (
else
ÄÄ 
return
ÅÅ "
false
ÅÅ# (
;
ÅÅ( )
cmd
ÇÇ 
.
ÇÇ 
Dispose
ÇÇ #
(
ÇÇ# $
)
ÇÇ$ %
;
ÇÇ% &
cnn
ÉÉ 
.
ÉÉ 
Close
ÉÉ !
(
ÉÉ! "
)
ÉÉ" #
;
ÉÉ# $
cnn
ÑÑ 
.
ÑÑ 
Dispose
ÑÑ #
(
ÑÑ# $
)
ÑÑ$ %
;
ÑÑ% &
}
ÖÖ 
}
ÜÜ 
}
áá 
catch
àà 
(
àà 
	Exception
àà 
ex
àà 
)
àà  
{
ââ 
throw
ää 
new
ää 
	Exception
ää #
(
ää# $
ex
ää$ &
.
ää& '
Message
ää' .
)
ää. /
;
ää/ 0
}
ãã 
}
åå 	
}
çç 
}éé §â
cD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedicosAD\PrestacionxmedicoAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
	MedicosAD %
{ 
public 

class 
PrestacionxmedicoAD $
{ 
private 
PrestacionxMedicoE "
LlenarEntidad# 0
(0 1
IDataReader1 <
dr= ?
,? @
PrestacionxMedicoE' 9
pPrestacionxmedicoE: M
)M N
{ 	
PrestacionxMedicoE 
oPrestacionxmedicoE 2
=3 4
new5 8
PrestacionxMedicoE9 K
(K L
)L M
;M N
switch 
( 
pPrestacionxmedicoE '
.' (
Orden( -
)- .
{ 
case 
- 
$num 
: 
oPrestacionxmedicoE '
.' (
	CodMedico( 1
=2 3
Convert4 ;
.; <
ToString< D
(D E
drE G
[G H
$strH S
]S T
)T U
;U V
oPrestacionxmedicoE '
.' (
CodPrestacion( 5
=6 7
Convert8 ?
.? @
ToString@ H
(H I
drI K
[K L
$strL [
][ \
)\ ]
;] ^
oPrestacionxmedicoE '
.' ( 
PorcentajeRetencion1( <
== >
Convert? F
.F G
ToDoubleG O
(O P
drP R
[R S
$strS i
]i j
)j k
;k l
oPrestacionxmedicoE '
.' ( 
PorcentajeRetencion2( <
== >
Convert? F
.F G
ToDoubleG O
(O P
drP R
[R S
$strS i
]i j
)j k
;k l
oPrestacionxmedicoE '
.' (
NomPrestacion( 5
=6 7
Convert8 ?
.? @
ToString@ H
(H I
drI K
[K L
$strL ^
]^ _
)_ `
;` a
break 
; 
} 
return   
oPrestacionxmedicoE   &
;  & '
}!! 	
public## 
List## 
<## 
PrestacionxMedicoE## &
>##& ')
Sp_Prestacionxmedico_Consulta##( E
(##E F
PrestacionxMedicoE##F X
pPrestacionxMedicoE##Y l
)##l m
{$$ 	
List%% 
<%% 
PrestacionxMedicoE%% #
>%%# $
oListar%%% ,
=%%- .
new%%/ 2
List%%3 7
<%%7 8
PrestacionxMedicoE%%8 J
>%%J K
(%%K L
)%%L M
;%%M N
PrestacionxMedicoE&& 
oPrestacionxmedicoE&& 2
=&&3 4
null&&5 9
;&&9 :
using'' 
('' 
SqlConnection''  
cnn''! $
=''% &
new''' *
SqlConnection''+ 8
(''8 9
VariablesGlobales''9 J
.''J K

CnnClinica''K U
)''U V
)''V W
{(( 
using)) 
()) 

SqlCommand)) !
cmd))" %
=))& '
new))( +

SqlCommand)), 6
())6 7
$str))7 V
,))V W
cnn))X [
)))[ \
)))\ ]
{** 
cmd++ 
.++ 
CommandType++ #
=++$ %
System++& ,
.++, -
Data++- 1
.++1 2
CommandType++2 =
.++= >
StoredProcedure++> M
;++M N
cmd-- 
.-- 

Parameters-- "
.--" #
AddWithValue--# /
(--/ 0
$str--0 9
,--9 :
pPrestacionxMedicoE--; N
.--N O
	CodMedico--O X
)--X Y
;--Y Z
cmd.. 
... 

Parameters.. "
..." #
AddWithValue..# /
(../ 0
$str..0 6
,..6 7
pPrestacionxMedicoE..8 K
...K L
Key..L O
)..O P
;..P Q
cmd// 
.// 

Parameters// "
.//" #
AddWithValue//# /
(/// 0
$str//0 ?
,//? @
pPrestacionxMedicoE//A T
.//T U
NroFilas//U ]
)//] ^
;//^ _
cmd00 
.00 

Parameters00 "
.00" #
AddWithValue00# /
(00/ 0
$str000 8
,008 9
pPrestacionxMedicoE00: M
.00M N
Orden00N S
)00S T
;00T U
cnn11 
.11 
Open11 
(11 
)11 
;11 
IDataReader22 
dr22  "
=22# $
cmd22% (
.22( )
ExecuteReader22) 6
(226 7
)227 8
;228 9
while33 
(33 
dr33 
.33 
Read33 "
(33" #
)33# $
)33$ %
{44 
oPrestacionxmedicoE55 +
=55, -
LlenarEntidad55. ;
(55; <
dr55< >
,55> ?
pPrestacionxMedicoE55@ S
)55S T
;55T U
oListar66 
.66  
Add66  #
(66# $
oPrestacionxmedicoE66$ 7
)667 8
;668 9
}77 
dr88 
.88 
Close88 
(88 
)88 
;88 
cnn99 
.99 
Close99 
(99 
)99 
;99  
}:: 
};; 
return<< 
oListar<< 
;<< 
}== 	
public@@ 
bool@@ '
Sp_PrestacionxMedico_Insert@@ /
(@@/ 0
PrestacionxMedicoE@@0 B
pPrestacionxmedicoE@@C V
)@@V W
{AA 	
tryBB 
{CC 
usingDD 
(DD 
SqlConnectionDD $
cnnDD% (
=DD) *
newDD+ .
SqlConnectionDD/ <
(DD< =
VariablesGlobalesDD= N
.DDN O

CnnClinicaDDO Y
)DDY Z
)DDZ [
{EE 
usingFF 
(FF 

SqlCommandFF %
cmdFF& )
=FF* +
newFF, /

SqlCommandFF0 :
(FF: ;
$strFF; X
,FFX Y
cnnFFZ ]
)FF] ^
)FF^ _
{GG 
cmdHH 
.HH 
CommandTypeHH '
=HH( )
SystemHH* 0
.HH0 1
DataHH1 5
.HH5 6
CommandTypeHH6 A
.HHA B
StoredProcedureHHB Q
;HHQ R
cmdJJ 
.JJ 

ParametersJJ &
.JJ& '
AddWithValueJJ' 3
(JJ3 4
$strJJ4 @
,JJ@ A
pPrestacionxmedicoEJJB U
.JJU V
	CodMedicoJJV _
)JJ_ `
;JJ` a
cmdKK 
.KK 

ParametersKK &
.KK& '
AddWithValueKK' 3
(KK3 4
$strKK4 D
,KKD E
pPrestacionxmedicoEKKF Y
.KKY Z
CodPrestacionKKZ g
)KKg h
;KKh i
cmdLL 
.LL 

ParametersLL &
.LL& '
AddWithValueLL' 3
(LL3 4
$strLL4 E
,LLE F
pPrestacionxmedicoELLG Z
.LLZ [ 
PorcentajeRetencion1LL[ o
)LLo p
;LLp q
cmdMM 
.MM 

ParametersMM &
.MM& '
AddWithValueMM' 3
(MM3 4
$strMM4 E
,MME F
pPrestacionxmedicoEMMG Z
.MMZ [ 
PorcentajeRetencion2MM[ o
)MMo p
;MMp q
cnnOO 
.OO 
OpenOO  
(OO  !
)OO! "
;OO" #
intQQ 
exitoQQ !
=QQ" #
cmdQQ$ '
.QQ' (
ExecuteNonQueryQQ( 7
(QQ7 8
)QQ8 9
;QQ9 :
cnnRR 
.RR 
CloseRR !
(RR! "
)RR" #
;RR# $
cmdSS 
.SS 
DisposeSS #
(SS# $
)SS$ %
;SS% &
ifTT 
(TT 
exitoTT !
>=TT" $
$numTT% &
)TT& '
{UU 
returnVV "
trueVV# '
;VV' (
}WW 
elseXX 
{YY 
returnZZ "
falseZZ# (
;ZZ( )
}[[ 
}\\ 
}]] 
}^^ 
catch__ 
(__ 
	Exception__ 
e__ 
)__ 
{`` 
throwaa 
eaa 
=aa 
newaa 
	Exceptionaa '
(aa' (
eaa( )
.aa) *
Messageaa* 1
)aa1 2
;aa2 3
}bb 
}cc 	
publicff 
boolff '
Sp_PrestacionxMedico_Updateff /
(ff/ 0
PrestacionxMedicoEff0 B
pPrestacionxmedicoEffC V
)ffV W
{gg 	
tryhh 
{ii 
usingjj 
(jj 
SqlConnectionjj $
cnnjj% (
=jj) *
newjj+ .
SqlConnectionjj/ <
(jj< =
VariablesGlobalesjj= N
.jjN O

CnnClinicajjO Y
)jjY Z
)jjZ [
{kk 
usingll 
(ll 

SqlCommandll %
cmdll& )
=ll* +
newll, /

SqlCommandll0 :
(ll: ;
$strll; X
,llX Y
cnnllZ ]
)ll] ^
)ll^ _
{mm 
cmdnn 
.nn 
CommandTypenn '
=nn( )
Systemnn* 0
.nn0 1
Datann1 5
.nn5 6
CommandTypenn6 A
.nnA B
StoredProcedurennB Q
;nnQ R
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 @
,pp@ A
pPrestacionxmedicoEppB U
.ppU V
	CodMedicoppV _
)pp_ `
;pp` a
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 D
,qqD E
pPrestacionxmedicoEqqF Y
.qqY Z
CodPrestacionqqZ g
)qqg h
;qqh i
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 E
,rrE F
pPrestacionxmedicoErrG Z
.rrZ [ 
PorcentajeRetencion1rr[ o
)rro p
;rrp q
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 E
,ssE F
pPrestacionxmedicoEssG Z
.ssZ [ 
PorcentajeRetencion2ss[ o
)sso p
;ssp q
cnnuu 
.uu 
Openuu  
(uu  !
)uu! "
;uu" #
intww 
exitoww !
=ww" #
cmdww$ '
.ww' (
ExecuteNonQueryww( 7
(ww7 8
)ww8 9
;ww9 :
cnnxx 
.xx 
Closexx !
(xx! "
)xx" #
;xx# $
cmdyy 
.yy 
Disposeyy #
(yy# $
)yy$ %
;yy% &
ifzz 
(zz 
exitozz !
>=zz" $
$numzz% &
)zz& '
{{{ 
return{{  
true{{! %
;{{% &
}{{' (
else|| 
{}} 
return}}  
false}}! &
;}}& '
}}}( )
}~~ 
} 
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ 
	Exception
ÅÅ 
e
ÅÅ 
)
ÅÅ 
{
ÇÇ 
throw
ÇÇ 
e
ÇÇ 
=
ÇÇ 
new
ÇÇ 
	Exception
ÇÇ %
(
ÇÇ% &
e
ÇÇ& '
.
ÇÇ' (
Message
ÇÇ( /
)
ÇÇ/ 0
;
ÇÇ0 1
}
ÇÇ2 3
}
ÉÉ 	
public
ÜÜ 
bool
ÜÜ /
!Sp_Prestacionxmedico_UpdatexCampo
ÜÜ 5
(
ÜÜ5 6 
PrestacionxMedicoE
ÜÜ6 H!
pPrestacionxmedicoE
ÜÜI \
)
ÜÜ\ ]
{
áá 	
try
àà 
{
ââ 
using
ää 
(
ää 
SqlConnection
ää $
cnn
ää% (
=
ää) *
new
ää+ .
SqlConnection
ää/ <
(
ää< =
VariablesGlobales
ää= N
.
ääN O

CnnClinica
ääO Y
)
ääY Z
)
ääZ [
{
ãã 
using
åå 
(
åå 

SqlCommand
åå %
cmd
åå& )
=
åå* +
new
åå, /

SqlCommand
åå0 :
(
åå: ;
$str
åå; ^
,
åå^ _
cnn
åå` c
)
ååc d
)
ååd e
{
çç 
cmd
éé 
.
éé 
CommandType
éé '
=
éé( )
System
éé* 0
.
éé0 1
Data
éé1 5
.
éé5 6
CommandType
éé6 A
.
ééA B
StoredProcedure
ééB Q
;
ééQ R
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 B
,
êêB C!
pPrestacionxmedicoE
êêD W
.
êêW X

NuevoValor
êêX b
)
êêb c
;
êêc d
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 <
,
ëë< =!
pPrestacionxmedicoE
ëë> Q
.
ëëQ R
Campo
ëëR W
)
ëëW X
;
ëëX Y
cnn
ìì 
.
ìì 
Open
ìì  
(
ìì  !
)
ìì! "
;
ìì" #
int
ïï 
exito
ïï !
=
ïï" #
cmd
ïï$ '
.
ïï' (
ExecuteNonQuery
ïï( 7
(
ïï7 8
)
ïï8 9
;
ïï9 :
cnn
ññ 
.
ññ 
Close
ññ !
(
ññ! "
)
ññ" #
;
ññ# $
cmd
óó 
.
óó 
Dispose
óó #
(
óó# $
)
óó$ %
;
óó% &
if
òò 
(
òò 
exito
òò !
>=
òò" $
$num
òò% &
)
òò& '
{
ôô 
return
ôô  
true
ôô! %
;
ôô% &
}
ôô' (
else
öö 
{
õõ 
return
õõ  
false
õõ! &
;
õõ& '
}
õõ( )
}
úú 
}
ùù 
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
e
üü 
)
üü 
{
†† 
throw
†† 
e
†† 
=
†† 
new
†† 
	Exception
†† %
(
††% &
e
††& '
.
††' (
Message
††( /
)
††/ 0
;
††0 1
}
††2 3
}
°° 	
public
§§ 
bool
§§ )
Sp_Prestacionxmedico_Delete
§§ /
(
§§/ 0 
PrestacionxMedicoE
§§0 B!
pPrestacionxmedicoE
§§C V
)
§§V W
{
•• 	
try
¶¶ 
{
ßß 
using
®® 
(
®® 
SqlConnection
®® $
cnn
®®% (
=
®®) *
new
®®+ .
SqlConnection
®®/ <
(
®®< =
VariablesGlobales
®®= N
.
®®N O

CnnClinica
®®O Y
)
®®Y Z
)
®®Z [
{
©© 
using
™™ 
(
™™ 

SqlCommand
™™ %
cmd
™™& )
=
™™* +
new
™™, /

SqlCommand
™™0 :
(
™™: ;
$str
™™; X
,
™™X Y
cnn
™™Z ]
)
™™] ^
)
™™^ _
{
´´ 
cmd
¨¨ 
.
¨¨ 
CommandType
¨¨ '
=
¨¨( )
System
¨¨* 0
.
¨¨0 1
Data
¨¨1 5
.
¨¨5 6
CommandType
¨¨6 A
.
¨¨A B
StoredProcedure
¨¨B Q
;
¨¨Q R
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 @
,
ÆÆ@ A!
pPrestacionxmedicoE
ÆÆB U
.
ÆÆU V
	CodMedico
ÆÆV _
)
ÆÆ_ `
;
ÆÆ` a
cmd
ØØ 
.
ØØ 

Parameters
ØØ &
.
ØØ& '
AddWithValue
ØØ' 3
(
ØØ3 4
$str
ØØ4 D
,
ØØD E!
pPrestacionxmedicoE
ØØF Y
.
ØØY Z
CodPrestacion
ØØZ g
)
ØØg h
;
ØØh i
cnn
≤≤ 
.
≤≤ 
Open
≤≤  
(
≤≤  !
)
≤≤! "
;
≤≤" #
int
¥¥ 
exito
¥¥ !
=
¥¥" #
cmd
¥¥$ '
.
¥¥' (
ExecuteNonQuery
¥¥( 7
(
¥¥7 8
)
¥¥8 9
;
¥¥9 :
cnn
µµ 
.
µµ 
Close
µµ !
(
µµ! "
)
µµ" #
;
µµ# $
cmd
∂∂ 
.
∂∂ 
Dispose
∂∂ #
(
∂∂# $
)
∂∂$ %
;
∂∂% &
if
∑∑ 
(
∑∑ 
exito
∑∑ !
>=
∑∑" $
$num
∑∑% &
)
∑∑& '
{
∏∏ 
return
∏∏  
true
∏∏! %
;
∏∏% &
}
∏∏' (
else
ππ 
{
∫∫ 
return
∫∫  
false
∫∫! &
;
∫∫& '
}
∫∫( )
}
ªª 
}
ºº 
}
ΩΩ 
catch
ææ 
(
ææ 
	Exception
ææ 
e
ææ 
)
ææ 
{
øø 
throw
øø 
e
øø 
=
øø 
new
øø 
	Exception
øø %
(
øø% &
e
øø& '
.
øø' (
Message
øø( /
)
øø/ 0
;
øø0 1
}
øø2 3
}
¿¿ 	
}
¬¬ 
}√√ §Å
`D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedicosAD\MedicoxEmpresaAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
	MedicosAD %
{ 
public 

class 
MedicoxEmpresaAD !
{ 
private 
MedicoxEmpresaE 
LlenarEntidad  -
(- .
IDataReader. 9
dr: <
,< =
MedicoxEmpresaE' 6
pMedicoxEmpresaE7 G
)G H
{ 	
MedicoxEmpresaE 
oMedicoxEmpresaE ,
=- .
new/ 2
MedicoxEmpresaE3 B
(B C
)C D
;D E
switch 
( 
pMedicoxEmpresaE $
.$ %
Orden% *
)* +
{ 
case 
$num 
: 
oMedicoxEmpresaE $
.$ %
	CodMedico% .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE P
]P Q
)Q R
;R S
oMedicoxEmpresaE $
.$ %

CodEmpresa% /
=0 1
Convert2 9
.9 :
ToString: B
(B C
drC E
[E F
$strF R
]R S
)S T
;T U
oMedicoxEmpresaE $
.$ %
FlgFacturar% 0
=1 2
Convert3 :
.: ;
	ToBoolean; D
(D E
drE G
[G H
$strH R
]R S
)S T
;T U
oMedicoxEmpresaE $
.$ %
NombreEmpresa% 2
=3 4
Convert5 <
.< =
ToString= E
(E F
drF H
[H I
$strI X
]X Y
)Y Z
;Z [
break 
; 
} 
return 
oMedicoxEmpresaE #
;# $
} 	
public!! 
List!! 
<!! 
MedicoxEmpresaE!! #
>!!# $&
Sp_MedicoxEmpresa_Consulta!!% ?
(!!? @
MedicoxEmpresaE!!@ O
pMedicoxEmpresaE!!P `
)!!` a
{"" 	
List## 
<## 
MedicoxEmpresaE##  
>##  !
oListar##" )
=##* +
new##, /
List##0 4
<##4 5
MedicoxEmpresaE##5 D
>##D E
(##E F
)##F G
;##G H
MedicoxEmpresaE$$ 
oMedicoxEmpresaE$$ ,
=$$- .
null$$/ 3
;$$3 4
using%% 
(%% 
SqlConnection%%  
cnn%%! $
=%%% &
new%%' *
SqlConnection%%+ 8
(%%8 9
VariablesGlobales%%9 J
.%%J K

CnnClinica%%K U
)%%U V
)%%V W
{&& 
using'' 
('' 

SqlCommand'' !
cmd''" %
=''& '
new''( +

SqlCommand'', 6
(''6 7
$str''7 S
,''S T
cnn''U X
)''X Y
)''Y Z
{(( 
cmd)) 
.)) 
CommandType)) #
=))$ %
System))& ,
.)), -
Data))- 1
.))1 2
CommandType))2 =
.))= >
StoredProcedure))> M
;))M N
cmd++ 
.++ 

Parameters++ "
.++" #
AddWithValue++# /
(++/ 0
$str++0 9
,++9 :
pMedicoxEmpresaE++; K
.++K L
	CodMedico++L U
)++U V
;++V W
cmd,, 
.,, 

Parameters,, "
.,," #
AddWithValue,,# /
(,,/ 0
$str,,0 6
,,,6 7
pMedicoxEmpresaE,,8 H
.,,H I
Key,,I L
),,L M
;,,M N
cmd-- 
.-- 

Parameters-- "
.--" #
AddWithValue--# /
(--/ 0
$str--0 ?
,--? @
pMedicoxEmpresaE--A Q
.--Q R
NroFilas--R Z
)--Z [
;--[ \
cmd.. 
... 

Parameters.. "
..." #
AddWithValue..# /
(../ 0
$str..0 8
,..8 9
pMedicoxEmpresaE..: J
...J K
Orden..K P
)..P Q
;..Q R
cnn// 
.// 
Open// 
(// 
)// 
;// 
IDataReader00 
dr00  "
=00# $
cmd00% (
.00( )
ExecuteReader00) 6
(006 7
)007 8
;008 9
while11 
(11 
dr11 
.11 
Read11 "
(11" #
)11# $
)11$ %
{22 
oMedicoxEmpresaE33 (
=33) *
LlenarEntidad33+ 8
(338 9
dr339 ;
,33; <
pMedicoxEmpresaE33= M
)33M N
;33N O
oListar44 
.44  
Add44  #
(44# $
oMedicoxEmpresaE44$ 4
)444 5
;445 6
}55 
dr66 
.66 
Close66 
(66 
)66 
;66 
cnn77 
.77 
Close77 
(77 
)77 
;77  
}88 
}99 
return:: 
oListar:: 
;:: 
};; 	
public>> 
bool>> $
Sp_MedicoxEmpresa_Insert>> ,
(>>, -
MedicoxEmpresaE>>- <
pMedicoxEmpresaE>>= M
)>>M N
{?? 	
try@@ 
{AA 
usingBB 
(BB 
SqlConnectionBB $
cnnBB% (
=BB) *
newBB+ .
SqlConnectionBB/ <
(BB< =
VariablesGlobalesBB= N
.BBN O

CnnClinicaBBO Y
)BBY Z
)BBZ [
{CC 
usingDD 
(DD 

SqlCommandDD %
cmdDD& )
=DD* +
newDD, /

SqlCommandDD0 :
(DD: ;
$strDD; U
,DDU V
cnnDDW Z
)DDZ [
)DD[ \
{EE 
cmdFF 
.FF 
CommandTypeFF '
=FF( )
SystemFF* 0
.FF0 1
DataFF1 5
.FF5 6
CommandTypeFF6 A
.FFA B
StoredProcedureFFB Q
;FFQ R
cmdHH 
.HH 

ParametersHH &
.HH& '
AddWithValueHH' 3
(HH3 4
$strHH4 @
,HH@ A
pMedicoxEmpresaEHHB R
.HHR S
	CodMedicoHHS \
)HH\ ]
;HH] ^
cmdII 
.II 

ParametersII &
.II& '
AddWithValueII' 3
(II3 4
$strII4 A
,IIA B
pMedicoxEmpresaEIIC S
.IIS T

CodEmpresaIIT ^
)II^ _
;II_ `
cmdJJ 
.JJ 

ParametersJJ &
.JJ& '
AddWithValueJJ' 3
(JJ3 4
$strJJ4 ?
,JJ? @
pMedicoxEmpresaEJJA Q
.JJQ R
FlgFacturarJJR ]
)JJ] ^
;JJ^ _
cnnLL 
.LL 
OpenLL  
(LL  !
)LL! "
;LL" #
intNN 
exitoNN !
=NN" #
cmdNN$ '
.NN' (
ExecuteNonQueryNN( 7
(NN7 8
)NN8 9
;NN9 :
cnnOO 
.OO 
CloseOO !
(OO! "
)OO" #
;OO# $
cmdPP 
.PP 
DisposePP #
(PP# $
)PP$ %
;PP% &
ifQQ 
(QQ 
exitoQQ !
>=QQ" $
$numQQ% &
)QQ& '
{RR 
returnSS "
trueSS# '
;SS' (
}TT 
elseUU 
{VV 
returnWW "
falseWW# (
;WW( )
}XX 
}YY 
}ZZ 
}[[ 
catch\\ 
(\\ 
	Exception\\ 
e\\ 
)\\ 
{]] 
throw]] 
e]] 
=]] 
new]] 
	Exception]] %
(]]% &
e]]& '
.]]' (
Message]]( /
)]]/ 0
;]]0 1
}]]2 3
}^^ 	
publicaa 
boolaa $
Sp_MedicoxEmpresa_Updateaa ,
(aa, -
MedicoxEmpresaEaa- <
pMedicoxEmpresaEaa= M
)aaM N
{bb 	
trycc 
{dd 
usingee 
(ee 
SqlConnectionee $
cnnee% (
=ee) *
newee+ .
SqlConnectionee/ <
(ee< =
VariablesGlobalesee= N
.eeN O

CnnClinicaeeO Y
)eeY Z
)eeZ [
{ff 
usinggg 
(gg 

SqlCommandgg %
cmdgg& )
=gg* +
newgg, /

SqlCommandgg0 :
(gg: ;
$strgg; U
,ggU V
cnnggW Z
)ggZ [
)gg[ \
{hh 
cmdii 
.ii 
CommandTypeii '
=ii( )
Systemii* 0
.ii0 1
Dataii1 5
.ii5 6
CommandTypeii6 A
.iiA B
StoredProcedureiiB Q
;iiQ R
cmdkk 
.kk 

Parameterskk &
.kk& '
AddWithValuekk' 3
(kk3 4
$strkk4 @
,kk@ A
pMedicoxEmpresaEkkB R
.kkR S
	CodMedicokkS \
)kk\ ]
;kk] ^
cmdll 
.ll 

Parametersll &
.ll& '
AddWithValuell' 3
(ll3 4
$strll4 A
,llA B
pMedicoxEmpresaEllC S
.llS T

CodEmpresallT ^
)ll^ _
;ll_ `
cmdmm 
.mm 

Parametersmm &
.mm& '
AddWithValuemm' 3
(mm3 4
$strmm4 ?
,mm? @
pMedicoxEmpresaEmmA Q
.mmQ R
FlgFacturarmmR ]
)mm] ^
;mm^ _
cnnoo 
.oo 
Openoo  
(oo  !
)oo! "
;oo" #
intqq 
exitoqq !
=qq" #
cmdqq$ '
.qq' (
ExecuteNonQueryqq( 7
(qq7 8
)qq8 9
;qq9 :
cnnrr 
.rr 
Closerr !
(rr! "
)rr" #
;rr# $
cmdss 
.ss 
Disposess #
(ss# $
)ss$ %
;ss% &
iftt 
(tt 
exitott !
>=tt" $
$numtt% &
)tt& '
{uu 
returnuu  
trueuu! %
;uu% &
}uu' (
elsevv 
{ww 
returnww  
falseww! &
;ww& '
}ww( )
}xx 
}yy 
}zz 
catch{{ 
({{ 
	Exception{{ 
e{{ 
){{ 
{|| 
throw|| 
e|| 
=|| 
new|| 
	Exception|| %
(||% &
e||& '
.||' (
Message||( /
)||/ 0
;||0 1
}||2 3
}}} 	
public
ÄÄ 
bool
ÄÄ ,
Sp_MedicoxEmpresa_UpdatexCampo
ÄÄ 2
(
ÄÄ2 3
MedicoxEmpresaE
ÄÄ3 B
pMedicoxEmpresaE
ÄÄC S
)
ÄÄS T
{
ÅÅ 	
try
ÇÇ 
{
ÉÉ 
using
ÑÑ 
(
ÑÑ 
SqlConnection
ÑÑ $
cnn
ÑÑ% (
=
ÑÑ) *
new
ÑÑ+ .
SqlConnection
ÑÑ/ <
(
ÑÑ< =
VariablesGlobales
ÑÑ= N
.
ÑÑN O

CnnClinica
ÑÑO Y
)
ÑÑY Z
)
ÑÑZ [
{
ÖÖ 
using
ÜÜ 
(
ÜÜ 

SqlCommand
ÜÜ %
cmd
ÜÜ& )
=
ÜÜ* +
new
ÜÜ, /

SqlCommand
ÜÜ0 :
(
ÜÜ: ;
$str
ÜÜ; [
,
ÜÜ[ \
cnn
ÜÜ] `
)
ÜÜ` a
)
ÜÜa b
{
áá 
cmd
àà 
.
àà 
CommandType
àà '
=
àà( )
System
àà* 0
.
àà0 1
Data
àà1 5
.
àà5 6
CommandType
àà6 A
.
ààA B
StoredProcedure
ààB Q
;
ààQ R
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 B
,
ääB C
pMedicoxEmpresaE
ääD T
.
ääT U

NuevoValor
ääU _
)
ää_ `
;
ää` a
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 <
,
ãã< =
pMedicoxEmpresaE
ãã> N
.
ããN O
Campo
ããO T
)
ããT U
;
ããU V
cnn
çç 
.
çç 
Open
çç  
(
çç  !
)
çç! "
;
çç" #
int
èè 
exito
èè !
=
èè" #
cmd
èè$ '
.
èè' (
ExecuteNonQuery
èè( 7
(
èè7 8
)
èè8 9
;
èè9 :
cnn
êê 
.
êê 
Close
êê !
(
êê! "
)
êê" #
;
êê# $
cmd
ëë 
.
ëë 
Dispose
ëë #
(
ëë# $
)
ëë$ %
;
ëë% &
if
íí 
(
íí 
exito
íí !
>=
íí" $
$num
íí% &
)
íí& '
{
ìì 
return
ìì  
true
ìì! %
;
ìì% &
}
ìì' (
else
îî 
{
ïï 
return
ïï  
false
ïï! &
;
ïï& '
}
ïï( )
}
ññ 
}
óó 
}
òò 
catch
ôô 
(
ôô 
	Exception
ôô 
e
ôô 
)
ôô 
{
öö 
throw
öö 
e
öö 
=
öö 
new
öö 
	Exception
öö %
(
öö% &
e
öö& '
.
öö' (
Message
öö( /
)
öö/ 0
;
öö0 1
}
öö2 3
}
õõ 	
public
ûû 
bool
ûû &
Sp_MedicoxEmpresa_Delete
ûû ,
(
ûû, -
MedicoxEmpresaE
ûû- <
pMedicoxEmpresaE
ûû= M
)
ûûM N
{
üü 	
try
†† 
{
°° 
using
¢¢ 
(
¢¢ 
SqlConnection
¢¢ $
cnn
¢¢% (
=
¢¢) *
new
¢¢+ .
SqlConnection
¢¢/ <
(
¢¢< =
VariablesGlobales
¢¢= N
.
¢¢N O

CnnClinica
¢¢O Y
)
¢¢Y Z
)
¢¢Z [
{
££ 
using
§§ 
(
§§ 

SqlCommand
§§ %
cmd
§§& )
=
§§* +
new
§§, /

SqlCommand
§§0 :
(
§§: ;
$str
§§; U
,
§§U V
cnn
§§W Z
)
§§Z [
)
§§[ \
{
•• 
cmd
¶¶ 
.
¶¶ 
CommandType
¶¶ '
=
¶¶( )
System
¶¶* 0
.
¶¶0 1
Data
¶¶1 5
.
¶¶5 6
CommandType
¶¶6 A
.
¶¶A B
StoredProcedure
¶¶B Q
;
¶¶Q R
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
AddWithValue
®®' 3
(
®®3 4
$str
®®4 @
,
®®@ A
pMedicoxEmpresaE
®®B R
.
®®R S
	CodMedico
®®S \
)
®®\ ]
;
®®] ^
cmd
©© 
.
©© 

Parameters
©© &
.
©©& '
AddWithValue
©©' 3
(
©©3 4
$str
©©4 A
,
©©A B
pMedicoxEmpresaE
©©C S
.
©©S T

CodEmpresa
©©T ^
)
©©^ _
;
©©_ `
cnn
´´ 
.
´´ 
Open
´´  
(
´´  !
)
´´! "
;
´´" #
int
≠≠ 
exito
≠≠ !
=
≠≠" #
cmd
≠≠$ '
.
≠≠' (
ExecuteNonQuery
≠≠( 7
(
≠≠7 8
)
≠≠8 9
;
≠≠9 :
cnn
ÆÆ 
.
ÆÆ 
Close
ÆÆ !
(
ÆÆ! "
)
ÆÆ" #
;
ÆÆ# $
cmd
ØØ 
.
ØØ 
Dispose
ØØ #
(
ØØ# $
)
ØØ$ %
;
ØØ% &
if
∞∞ 
(
∞∞ 
exito
∞∞ !
>=
∞∞" $
$num
∞∞% &
)
∞∞& '
{
±± 
return
±±  
true
±±! %
;
±±% &
}
±±' (
else
≤≤ 
{
≥≥ 
return
≥≥  
false
≥≥! &
;
≥≥& '
}
≥≥( )
}
¥¥ 
}
µµ 
}
∂∂ 
catch
∑∑ 
(
∑∑ 
	Exception
∑∑ 
e
∑∑ 
)
∑∑ 
{
∏∏ 
throw
∏∏ 
e
∏∏ 
=
∏∏ 
new
∏∏ 
	Exception
∏∏ %
(
∏∏% &
e
∏∏& '
.
∏∏' (
Message
∏∏( /
)
∏∏/ 0
;
∏∏0 1
}
∏∏2 3
}
ππ 	
}
ªª 
}ºº éﬂ
eD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedicosAD\MedicosEspecialidadAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
	MedicosAD %
{ 
public 

class !
MedicosEspecialidadAD &
{ 
private  
MedicosEspecialidadE $
LlenarEntidad% 2
(2 3
IDataReader3 >
dr? A
,A B 
MedicosEspecialidadE' ;!
pMedicosEspecialidadE< Q
)Q R
{ 	 
MedicosEspecialidadE  !
oMedicosespecialidadE! 6
=7 8
new9 < 
MedicosEspecialidadE= Q
(Q R
)R S
;S T
switch 
( !
pMedicosEspecialidadE )
.) *
Orden* /
)/ 0
{ 
case 
$num 
: !
oMedicosespecialidadE )
.) *
	CodMedico* 3
=4 5
Convert6 =
.= >
ToString> F
(F G
drG I
[I J
$strJ V
]V W
)W X
;X Y!
oMedicosespecialidadE )
.) *
CodSede* 1
=2 3
Convert4 ;
.; <
ToInt32< C
(C D
drD F
[F G
$strG Q
]Q R
)R S
;S T!
oMedicosespecialidadE )
.) *
CodEspecialidad* 9
=: ;
Convert< C
.C D
ToStringD L
(L M
drM O
[O P
$strP b
]b c
)c d
;d e!
oMedicosespecialidadE )
.) *
TipAtencion* 5
=6 7
Convert8 ?
.? @
ToString@ H
(H I
drI K
[K L
$strL Z
]Z [
)[ \
;\ ]!
oMedicosespecialidadE )
.) *
TipPaciente* 5
=6 7
Convert8 ?
.? @
ToString@ H
(H I
drI K
[K L
$strL Z
]Z [
)[ \
;\ ]!
oMedicosespecialidadE )
.) *
Moneda* 0
=1 2
Convert3 :
.: ;
ToInt32; B
(B C
drC E
[E F
$strF N
]N O
)O P
;P Q!
oMedicosespecialidadE )
.) *
ImporteTarifa* 7
=8 9
Convert: A
.A B
	ToDecimalB K
(K L
drL N
[N O
$strO _
]_ `
)` a
;a b!
oMedicosespecialidadE )
.) *
Rne* -
=. /
Convert0 7
.7 8
ToString8 @
(@ A
drA C
[C D
$strD I
]I J
)J K
;K L!
oMedicosespecialidadE!! )
.!!) *
DscSede!!* 1
=!!2 3
Convert!!4 ;
.!!; <
ToString!!< D
(!!D E
dr!!E G
[!!G H
$str!!H R
]!!R S
)!!S T
;!!T U!
oMedicosespecialidadE"" )
."") *
DscEspecialidad""* 9
="": ;
Convert""< C
.""C D
ToString""D L
(""L M
dr""M O
[""O P
$str""P b
]""b c
)""c d
;""d e!
oMedicosespecialidadE## )
.##) *
DscTipAtencion##* 8
=##9 :
Convert##; B
.##B C
ToString##C K
(##K L
dr##L N
[##N O
$str##O a
]##a b
)##b c
;##c d!
oMedicosespecialidadE$$ )
.$$) *
DscTipPaciente$$* 8
=$$9 :
Convert$$; B
.$$B C
ToString$$C K
($$K L
dr$$L N
[$$N O
$str$$O a
]$$a b
)$$b c
;$$c d!
oMedicosespecialidadE%% )
.%%) *
	DscMoneda%%* 3
=%%4 5
Convert%%6 =
.%%= >
ToString%%> F
(%%F G
dr%%G I
[%%I J
$str%%J V
]%%V W
)%%W X
;%%X Y!
oMedicosespecialidadE'' )
.'') *
TipAgendaCallCenter''* =
=''> ?
bool''@ D
.''D E
Parse''E J
(''J K
dr''K M
[''M N
$str''N e
]''e f
.''f g
ToString''g o
(''o p
)''p q
)''q r
;''r s!
oMedicosespecialidadE(( )
.(() *
TipAgendaSecretaria((* =
=((> ?
bool((@ D
.((D E
Parse((E J
(((J K
dr((K M
[((M N
$str((N e
]((e f
.((f g
ToString((g o
(((o p
)((p q
)((q r
;((r s!
oMedicosespecialidadE)) )
.))) *
TipAgendaInternet))* ;
=))< =
bool))> B
.))B C
Parse))C H
())H I
dr))I K
[))K L
$str))L a
]))a b
.))b c
ToString))c k
())k l
)))l m
)))m n
;))n o!
oMedicosespecialidadE++ )
.++) *
FlgPrivilegio++* 7
=++8 9
bool++: >
.++> ?
Parse++? D
(++D E
dr++E G
[++G H
$str++H X
]++X Y
.++Y Z
ToString++Z b
(++b c
)++c d
)++d e
;++e f!
oMedicosespecialidadE,, )
.,,) *
flg_ambulatorio,,* 9
=,,: ;
bool,,< @
.,,@ A
Parse,,A F
(,,F G
dr,,G I
[,,I J
$str,,J [
],,[ \
.,,\ ]
ToString,,] e
(,,e f
),,f g
),,g h
;,,h i!
oMedicosespecialidadE-- )
.--) *
flg_hospitalario--* :
=--; <
bool--= A
.--A B
Parse--B G
(--G H
dr--H J
[--J K
$str--K ]
]--] ^
.--^ _
ToString--_ g
(--g h
)--h i
)--i j
;--j k!
oMedicosespecialidadE.. )
...) *
flg_emergencia..* 8
=..9 :
bool..; ?
...? @
Parse..@ E
(..E F
dr..F H
[..H I
$str..I Y
]..Y Z
...Z [
ToString..[ c
(..c d
)..d e
)..e f
;..f g
break00 
;00 
}11 
return33 !
oMedicosespecialidadE33 (
;33( )
}44 	
public66 
List66 
<66  
MedicosEspecialidadE66 (
>66( )+
Sp_MedicosEspecialidad_Consulta66* I
(66I J 
MedicosEspecialidadE66J ^!
pMedicosEspecialidadE66_ t
)66t u
{77 	
List88 
<88  
MedicosEspecialidadE88 %
>88% &
oListar88' .
=88/ 0
new881 4
List885 9
<889 : 
MedicosEspecialidadE88: N
>88N O
(88O P
)88P Q
;88Q R 
MedicosEspecialidadE99  !
oMedicosespecialidadE99! 6
=997 8
null999 =
;99= >
using:: 
(:: 
SqlConnection::  
cnn::! $
=::% &
new::' *
SqlConnection::+ 8
(::8 9
VariablesGlobales::9 J
.::J K

CnnClinica::K U
)::U V
)::V W
{;; 
using<< 
(<< 

SqlCommand<< !
cmd<<" %
=<<& '
new<<( +

SqlCommand<<, 6
(<<6 7
$str<<7 X
,<<X Y
cnn<<Z ]
)<<] ^
)<<^ _
{== 
cmd>> 
.>> 
CommandType>> #
=>>$ %
System>>& ,
.>>, -
Data>>- 1
.>>1 2
CommandType>>2 =
.>>= >
StoredProcedure>>> M
;>>M N
cmd@@ 
.@@ 

Parameters@@ "
.@@" #
AddWithValue@@# /
(@@/ 0
$str@@0 9
,@@9 :!
pMedicosEspecialidadE@@; P
.@@P Q
	CodMedico@@Q Z
)@@Z [
;@@[ \
cmdAA 
.AA 

ParametersAA "
.AA" #
AddWithValueAA# /
(AA/ 0
$strAA0 6
,AA6 7!
pMedicosEspecialidadEAA8 M
.AAM N
KeyAAN Q
)AAQ R
;AAR S
cmdBB 
.BB 

ParametersBB "
.BB" #
AddWithValueBB# /
(BB/ 0
$strBB0 ?
,BB? @!
pMedicosEspecialidadEBBA V
.BBV W
NroFilasBBW _
)BB_ `
;BB` a
cmdCC 
.CC 

ParametersCC "
.CC" #
AddWithValueCC# /
(CC/ 0
$strCC0 8
,CC8 9!
pMedicosEspecialidadECC: O
.CCO P
OrdenCCP U
)CCU V
;CCV W
cnnDD 
.DD 
OpenDD 
(DD 
)DD 
;DD 
IDataReaderEE 
drEE  "
=EE# $
cmdEE% (
.EE( )
ExecuteReaderEE) 6
(EE6 7
)EE7 8
;EE8 9
whileFF 
(FF 
drFF 
.FF 
ReadFF "
(FF" #
)FF# $
)FF$ %
{GG !
oMedicosespecialidadEHH -
=HH. /
LlenarEntidadHH0 =
(HH= >
drHH> @
,HH@ A!
pMedicosEspecialidadEHHB W
)HHW X
;HHX Y
oListarII 
.II  
AddII  #
(II# $!
oMedicosespecialidadEII$ 9
)II9 :
;II: ;
}JJ 
drKK 
.KK 
CloseKK 
(KK 
)KK 
;KK 
cnnLL 
.LL 
CloseLL 
(LL 
)LL 
;LL  
}MM 
}NN 
returnOO 
oListarOO 
;OO 
}PP 	
publicSS 
boolSS )
Sp_MedicosEspecialidad_InsertSS 1
(SS1 2 
MedicosEspecialidadESS2 F!
pMedicosEspecialidadESSG \
)SS\ ]
{TT 	
tryUU 
{VV 
usingWW 
(WW 
SqlConnectionWW $
cnnWW% (
=WW) *
newWW+ .
SqlConnectionWW/ <
(WW< =
VariablesGlobalesWW= N
.WWN O

CnnClinicaWWO Y
)WWY Z
)WWZ [
{XX 
usingYY 
(YY 

SqlCommandYY %
cmdYY& )
=YY* +
newYY, /

SqlCommandYY0 :
(YY: ;
$strYY; Z
,YYZ [
cnnYY\ _
)YY_ `
)YY` a
{ZZ 
cmd[[ 
.[[ 
CommandType[[ '
=[[( )
System[[* 0
.[[0 1
Data[[1 5
.[[5 6
CommandType[[6 A
.[[A B
StoredProcedure[[B Q
;[[Q R
cmd]] 
.]] 

Parameters]] &
.]]& '
AddWithValue]]' 3
(]]3 4
$str]]4 A
,]]A B!
pMedicosEspecialidadE]]C X
.]]X Y
	CodMedico]]Y b
)]]b c
;]]c d
cmd^^ 
.^^ 

Parameters^^ &
.^^& '
AddWithValue^^' 3
(^^3 4
$str^^4 G
,^^G H!
pMedicosEspecialidadE^^I ^
.^^^ _
CodEspecialidad^^_ n
)^^n o
;^^o p
cmd`` 
.`` 

Parameters`` &
.``& '
AddWithValue``' 3
(``3 4
$str``4 :
,``: ;!
pMedicosEspecialidadE``< Q
.``Q R
Rne``R U
)``U V
;``V W
cmdaa 
.aa 

Parametersaa &
.aa& '
AddWithValueaa' 3
(aa3 4
$straa4 E
,aaE F!
pMedicosEspecialidadEaaG \
.aa\ ]
FlgPrivilegioaa] j
)aaj k
;aak l
cmdbb 
.bb 

Parametersbb &
.bb& '
AddWithValuebb' 3
(bb3 4
$strbb4 F
,bbF G!
pMedicosEspecialidadEbbH ]
.bb] ^
flg_ambulatoriobb^ m
)bbm n
;bbn o
cmdcc 
.cc 

Parameterscc &
.cc& '
AddWithValuecc' 3
(cc3 4
$strcc4 G
,ccG H!
pMedicosEspecialidadEccI ^
.cc^ _
flg_hospitalariocc_ o
)cco p
;ccp q
cmddd 
.dd 

Parametersdd &
.dd& '
AddWithValuedd' 3
(dd3 4
$strdd4 E
,ddE F!
pMedicosEspecialidadEddG \
.dd\ ]
flg_emergenciadd] k
)ddk l
;ddl m
cnnff 
.ff 
Openff  
(ff  !
)ff! "
;ff" #
inthh 
exitohh !
=hh" #
cmdhh$ '
.hh' (
ExecuteNonQueryhh( 7
(hh7 8
)hh8 9
;hh9 :
cnnii 
.ii 
Closeii !
(ii! "
)ii" #
;ii# $
cmdjj 
.jj 
Disposejj #
(jj# $
)jj$ %
;jj% &
ifkk 
(kk 
exitokk !
>=kk" $
$numkk% &
)kk& '
{ll 
returnmm "
truemm# '
;mm' (
}nn 
elseoo 
{pp 
returnqq "
falseqq# (
;qq( )
}rr 
}ss 
}tt 
}uu 
catchvv 
(vv 
	Exceptionvv 
evv 
)vv 
{ww 
throwww 
eww 
=ww 
newww 
	Exceptionww %
(ww% &
eww& '
.ww' (
Messageww( /
)ww/ 0
;ww0 1
}ww2 3
}xx 	
public{{ 
bool{{ )
Sp_MedicosEspecialidad_Update{{ 1
({{1 2 
MedicosEspecialidadE{{2 F!
pMedicosEspecialidadE{{G \
){{\ ]
{|| 	
try}} 
{~~ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{
ÄÄ 
using
ÅÅ 
(
ÅÅ 

SqlCommand
ÅÅ %
cmd
ÅÅ& )
=
ÅÅ* +
new
ÅÅ, /

SqlCommand
ÅÅ0 :
(
ÅÅ: ;
$str
ÅÅ; Z
,
ÅÅZ [
cnn
ÅÅ\ _
)
ÅÅ_ `
)
ÅÅ` a
{
ÇÇ 
cmd
ÉÉ 
.
ÉÉ 
CommandType
ÉÉ '
=
ÉÉ( )
System
ÉÉ* 0
.
ÉÉ0 1
Data
ÉÉ1 5
.
ÉÉ5 6
CommandType
ÉÉ6 A
.
ÉÉA B
StoredProcedure
ÉÉB Q
;
ÉÉQ R
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 A
,
ÖÖA B#
pMedicosEspecialidadE
ÖÖC X
.
ÖÖX Y
	CodMedico
ÖÖY b
)
ÖÖb c
;
ÖÖc d
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 G
,
ÜÜG H#
pMedicosEspecialidadE
ÜÜI ^
.
ÜÜ^ _
CodEspecialidad
ÜÜ_ n
)
ÜÜn o
;
ÜÜo p
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 :
,
àà: ;#
pMedicosEspecialidadE
àà< Q
.
ààQ R
Rne
ààR U
)
ààU V
;
ààV W
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 E
,
ââE F#
pMedicosEspecialidadE
ââG \
.
ââ\ ]
FlgPrivilegio
ââ] j
)
ââj k
;
ââk l
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 F
,
ääF G#
pMedicosEspecialidadE
ääH ]
.
ää] ^
flg_ambulatorio
ää^ m
)
ääm n
;
ään o
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 G
,
ããG H#
pMedicosEspecialidadE
ããI ^
.
ãã^ _
flg_hospitalario
ãã_ o
)
ãão p
;
ããp q
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 E
,
ååE F#
pMedicosEspecialidadE
ååG \
.
åå\ ]
flg_emergencia
åå] k
)
ååk l
;
åål m
cnn
éé 
.
éé 
Open
éé  
(
éé  !
)
éé! "
;
éé" #
int
êê 
exito
êê !
=
êê" #
cmd
êê$ '
.
êê' (
ExecuteNonQuery
êê( 7
(
êê7 8
)
êê8 9
;
êê9 :
cnn
ëë 
.
ëë 
Close
ëë !
(
ëë! "
)
ëë" #
;
ëë# $
cmd
íí 
.
íí 
Dispose
íí #
(
íí# $
)
íí$ %
;
íí% &
if
ìì 
(
ìì 
exito
ìì !
>=
ìì" $
$num
ìì% &
)
ìì& '
{
îî 
return
îî  
true
îî! %
;
îî% &
}
îî' (
else
ïï 
{
ññ 
return
ññ  
false
ññ! &
;
ññ& '
}
ññ( )
}
óó 
}
òò 
}
ôô 
catch
öö 
(
öö 
	Exception
öö 
e
öö 
)
öö 
{
õõ 
throw
õõ 
e
õõ 
=
õõ 
new
õõ 
	Exception
õõ %
(
õõ% &
e
õõ& '
.
õõ' (
Message
õõ( /
)
õõ/ 0
;
õõ0 1
}
õõ2 3
}
úú 	
public
ûû 
bool
ûû 2
$Sp_MedicosEspecialidadDetalle_Update
ûû 8
(
ûû8 9"
MedicosEspecialidadE
ûû9 M#
pMedicosEspecialidadE
ûûN c
)
ûûc d
{
üü 	
try
†† 
{
°° 
using
¢¢ 
(
¢¢ 
SqlConnection
¢¢ $
cnn
¢¢% (
=
¢¢) *
new
¢¢+ .
SqlConnection
¢¢/ <
(
¢¢< =
VariablesGlobales
¢¢= N
.
¢¢N O

CnnClinica
¢¢O Y
)
¢¢Y Z
)
¢¢Z [
{
££ 
using
§§ 
(
§§ 

SqlCommand
§§ %
cmd
§§& )
=
§§* +
new
§§, /

SqlCommand
§§0 :
(
§§: ;
$str
§§; a
,
§§a b
cnn
§§c f
)
§§f g
)
§§g h
{
•• 
cmd
¶¶ 
.
¶¶ 
CommandType
¶¶ '
=
¶¶( )
System
¶¶* 0
.
¶¶0 1
Data
¶¶1 5
.
¶¶5 6
CommandType
¶¶6 A
.
¶¶A B
StoredProcedure
¶¶B Q
;
¶¶Q R
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
AddWithValue
®®' 3
(
®®3 4
$str
®®4 A
,
®®A B#
pMedicosEspecialidadE
®®C X
.
®®X Y
	CodMedico
®®Y b
)
®®b c
;
®®c d
cmd
©© 
.
©© 

Parameters
©© &
.
©©& '
AddWithValue
©©' 3
(
©©3 4
$str
©©4 G
,
©©G H#
pMedicosEspecialidadE
©©I ^
.
©©^ _
CodEspecialidad
©©_ n
)
©©n o
;
©©o p
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 C
,
´´C D#
pMedicosEspecialidadE
´´E Z
.
´´Z [
TipAtencion
´´[ f
)
´´f g
;
´´g h
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ &
.
¨¨& '
AddWithValue
¨¨' 3
(
¨¨3 4
$str
¨¨4 C
,
¨¨C D#
pMedicosEspecialidadE
¨¨E Z
.
¨¨Z [
TipPaciente
¨¨[ f
)
¨¨f g
;
¨¨g h
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ &
.
≠≠& '
AddWithValue
≠≠' 3
(
≠≠3 4
$str
≠≠4 =
,
≠≠= >#
pMedicosEspecialidadE
≠≠? T
.
≠≠T U
Moneda
≠≠U [
)
≠≠[ \
;
≠≠\ ]
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 E
,
ÆÆE F#
pMedicosEspecialidadE
ÆÆG \
.
ÆÆ\ ]
ImporteTarifa
ÆÆ] j
)
ÆÆj k
;
ÆÆk l
cmd
∞∞ 
.
∞∞ 

Parameters
∞∞ &
.
∞∞& '
AddWithValue
∞∞' 3
(
∞∞3 4
$str
∞∞4 L
,
∞∞L M#
pMedicosEspecialidadE
∞∞N c
.
∞∞c d!
TipAgendaCallCenter
∞∞d w
)
∞∞w x
;
∞∞x y
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
AddWithValue
±±' 3
(
±±3 4
$str
±±4 L
,
±±L M#
pMedicosEspecialidadE
±±N c
.
±±c d!
TipAgendaSecretaria
±±d w
)
±±w x
;
±±x y
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ &
.
≤≤& '
AddWithValue
≤≤' 3
(
≤≤3 4
$str
≤≤4 J
,
≤≤J K#
pMedicosEspecialidadE
≤≤L a
.
≤≤a b
TipAgendaInternet
≤≤b s
)
≤≤s t
;
≤≤t u
cnn
¥¥ 
.
¥¥ 
Open
¥¥  
(
¥¥  !
)
¥¥! "
;
¥¥" #
int
∂∂ 
exito
∂∂ !
=
∂∂" #
cmd
∂∂$ '
.
∂∂' (
ExecuteNonQuery
∂∂( 7
(
∂∂7 8
)
∂∂8 9
;
∂∂9 :
cnn
∑∑ 
.
∑∑ 
Close
∑∑ !
(
∑∑! "
)
∑∑" #
;
∑∑# $
cmd
∏∏ 
.
∏∏ 
Dispose
∏∏ #
(
∏∏# $
)
∏∏$ %
;
∏∏% &
if
ππ 
(
ππ 
exito
ππ !
>=
ππ" $
$num
ππ% &
)
ππ& '
{
∫∫ 
return
∫∫  
true
∫∫! %
;
∫∫% &
}
∫∫' (
else
ªª 
{
ºº 
return
ºº  
false
ºº! &
;
ºº& '
}
ºº( )
}
ΩΩ 
}
ææ 
}
øø 
catch
¿¿ 
(
¿¿ 
	Exception
¿¿ 
e
¿¿ 
)
¿¿ 
{
¡¡ 
throw
¡¡ 
e
¡¡ 
=
¡¡ 
new
¡¡ 
	Exception
¡¡ %
(
¡¡% &
e
¡¡& '
.
¡¡' (
Message
¡¡( /
)
¡¡/ 0
;
¡¡0 1
}
¡¡2 3
}
¬¬ 	
public
∆∆ 
bool
∆∆ 1
#Sp_MedicosEspecialidad_UpdatexCampo
∆∆ 7
(
∆∆7 8"
MedicosEspecialidadE
∆∆8 L#
pMedicosEspecialidadE
∆∆M b
)
∆∆b c
{
«« 	
try
»» 
{
…… 
using
   
(
   
SqlConnection
   $
cnn
  % (
=
  ) *
new
  + .
SqlConnection
  / <
(
  < =
VariablesGlobales
  = N
.
  N O

CnnClinica
  O Y
)
  Y Z
)
  Z [
{
ÀÀ 
using
ÃÃ 
(
ÃÃ 

SqlCommand
ÃÃ %
cmd
ÃÃ& )
=
ÃÃ* +
new
ÃÃ, /

SqlCommand
ÃÃ0 :
(
ÃÃ: ;
$str
ÃÃ; `
,
ÃÃ` a
cnn
ÃÃb e
)
ÃÃe f
)
ÃÃf g
{
ÕÕ 
cmd
ŒŒ 
.
ŒŒ 
CommandType
ŒŒ '
=
ŒŒ( )
System
ŒŒ* 0
.
ŒŒ0 1
Data
ŒŒ1 5
.
ŒŒ5 6
CommandType
ŒŒ6 A
.
ŒŒA B
StoredProcedure
ŒŒB Q
;
ŒŒQ R
cmd
–– 
.
–– 

Parameters
–– &
.
––& '
AddWithValue
––' 3
(
––3 4
$str
––4 B
,
––B C#
pMedicosEspecialidadE
––D Y
.
––Y Z

NuevoValor
––Z d
)
––d e
;
––e f
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 <
,
——< =#
pMedicosEspecialidadE
——> S
.
——S T
Campo
——T Y
)
——Y Z
;
——Z [
cnn
”” 
.
”” 
Open
””  
(
””  !
)
””! "
;
””" #
int
’’ 
exito
’’ !
=
’’" #
cmd
’’$ '
.
’’' (
ExecuteNonQuery
’’( 7
(
’’7 8
)
’’8 9
;
’’9 :
cnn
÷÷ 
.
÷÷ 
Close
÷÷ !
(
÷÷! "
)
÷÷" #
;
÷÷# $
cmd
◊◊ 
.
◊◊ 
Dispose
◊◊ #
(
◊◊# $
)
◊◊$ %
;
◊◊% &
if
ÿÿ 
(
ÿÿ 
exito
ÿÿ !
>=
ÿÿ" $
$num
ÿÿ% &
)
ÿÿ& '
{
ŸŸ 
return
ŸŸ  
true
ŸŸ! %
;
ŸŸ% &
}
ŸŸ' (
else
⁄⁄ 
{
€€ 
return
€€  
false
€€! &
;
€€& '
}
€€( )
}
‹‹ 
}
›› 
}
ﬁﬁ 
catch
ﬂﬂ 
(
ﬂﬂ 
	Exception
ﬂﬂ 
e
ﬂﬂ 
)
ﬂﬂ 
{
‡‡ 
throw
‡‡ 
e
‡‡ 
=
‡‡ 
new
‡‡ 
	Exception
‡‡ %
(
‡‡% &
e
‡‡& '
.
‡‡' (
Message
‡‡( /
)
‡‡/ 0
;
‡‡0 1
}
‡‡2 3
}
·· 	
public
‰‰ 
bool
‰‰ +
Sp_MedicosEspecialidad_Delete
‰‰ 1
(
‰‰1 2"
MedicosEspecialidadE
‰‰2 F#
pMedicosEspecialidadE
‰‰G \
)
‰‰\ ]
{
ÂÂ 	
try
ÊÊ 
{
ÁÁ 
using
ËË 
(
ËË 
SqlConnection
ËË $
cnn
ËË% (
=
ËË) *
new
ËË+ .
SqlConnection
ËË/ <
(
ËË< =
VariablesGlobales
ËË= N
.
ËËN O

CnnClinica
ËËO Y
)
ËËY Z
)
ËËZ [
{
ÈÈ 
using
ÍÍ 
(
ÍÍ 

SqlCommand
ÍÍ %
cmd
ÍÍ& )
=
ÍÍ* +
new
ÍÍ, /

SqlCommand
ÍÍ0 :
(
ÍÍ: ;
$str
ÍÍ; Z
,
ÍÍZ [
cnn
ÍÍ\ _
)
ÍÍ_ `
)
ÍÍ` a
{
ÎÎ 
cmd
ÏÏ 
.
ÏÏ 
CommandType
ÏÏ '
=
ÏÏ( )
System
ÏÏ* 0
.
ÏÏ0 1
Data
ÏÏ1 5
.
ÏÏ5 6
CommandType
ÏÏ6 A
.
ÏÏA B
StoredProcedure
ÏÏB Q
;
ÏÏQ R
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ &
.
ÓÓ& '
AddWithValue
ÓÓ' 3
(
ÓÓ3 4
$str
ÓÓ4 A
,
ÓÓA B#
pMedicosEspecialidadE
ÓÓC X
.
ÓÓX Y
	CodMedico
ÓÓY b
)
ÓÓb c
;
ÓÓc d
cmd
ÔÔ 
.
ÔÔ 

Parameters
ÔÔ &
.
ÔÔ& '
AddWithValue
ÔÔ' 3
(
ÔÔ3 4
$str
ÔÔ4 G
,
ÔÔG H#
pMedicosEspecialidadE
ÔÔI ^
.
ÔÔ^ _
CodEspecialidad
ÔÔ_ n
)
ÔÔn o
;
ÔÔo p
cnn
ÛÛ 
.
ÛÛ 
Open
ÛÛ  
(
ÛÛ  !
)
ÛÛ! "
;
ÛÛ" #
int
ıı 
exito
ıı !
=
ıı" #
cmd
ıı$ '
.
ıı' (
ExecuteNonQuery
ıı( 7
(
ıı7 8
)
ıı8 9
;
ıı9 :
cnn
ˆˆ 
.
ˆˆ 
Close
ˆˆ !
(
ˆˆ! "
)
ˆˆ" #
;
ˆˆ# $
cmd
˜˜ 
.
˜˜ 
Dispose
˜˜ #
(
˜˜# $
)
˜˜$ %
;
˜˜% &
if
¯¯ 
(
¯¯ 
exito
¯¯ !
>=
¯¯" $
$num
¯¯% &
)
¯¯& '
{
˘˘ 
return
˘˘  
true
˘˘! %
;
˘˘% &
}
˘˘' (
else
˙˙ 
{
˚˚ 
return
˚˚  
false
˚˚! &
;
˚˚& '
}
˚˚( )
}
¸¸ 
}
˝˝ 
}
˛˛ 
catch
ˇˇ 
(
ˇˇ 
	Exception
ˇˇ 
e
ˇˇ 
)
ˇˇ 
{
ÄÄ 
throw
ÄÄ 
e
ÄÄ 
=
ÄÄ 
new
ÄÄ 
	Exception
ÄÄ %
(
ÄÄ% &
e
ÄÄ& '
.
ÄÄ' (
Message
ÄÄ( /
)
ÄÄ/ 0
;
ÄÄ0 1
}
ÄÄ2 3
}
ÅÅ 	
}
ÉÉ 
}ÑÑ øà
^D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedicosAD\MedicosDatosAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
	MedicosAD %
{ 
public 

class 
MedicosDatosAD 
{ 
private 
MedicosDatosE 
LlenarEntidad *
(* +
IDataReader+ 6
dr7 9
,9 :
MedicosDatosE& 3
pMedicosDatosE4 B
)B C
{ 
MedicosDatosE 
oMedicosDatosE '
=( )
new* -
MedicosDatosE. ;
(; <
)< =
;= >
switch 
( 
pMedicosDatosE  
.  !
Orden! &
)& '
{ 
case 
$num 
: 
oMedicosDatosE "
." #
	CodMedico# ,
=- .
Convert/ 6
.6 7
ToString7 ?
(? @
dr@ B
[B C
$strC O
]O P
)P Q
;Q R
oMedicosDatosE "
." #
TipDatomedico# 0
=1 2
Convert3 :
.: ;
ToString; C
(C D
drD F
[F G
$strG W
]W X
)X Y
;Y Z
oMedicosDatosE "
." #
IdeMedicosDatos# 2
=3 4
Convert5 <
.< =
ToInt32= D
(D E
drE G
[G H
$strH Z
]Z [
)[ \
;\ ]
oMedicosDatosE "
." #
Valor# (
=) *
Convert+ 2
.2 3
ToString3 ;
(; <
dr< >
[> ?
$str? F
]F G
)G H
;H I
break 
; 
} 
return 
oMedicosDatosE  
;  !
} 
public!! 
List!! 
<!! 
MedicosDatosE!!  
>!!  !$
Sp_MedicosDatos_Consulta!!" :
(!!: ;
MedicosDatosE!!; H
pMedicosDatosE!!I W
)!!W X
{"" 
List## 
<## 
MedicosDatosE## 
>## 
oListar## &
=##' (
new##) ,
List##- 1
<##1 2
MedicosDatosE##2 ?
>##? @
(##@ A
)##A B
;##B C
MedicosDatosE$$ 
oMedicosDatosE$$ '
=$$( )
null$$* .
;$$. /
using%% 
(%% 
SqlConnection%% 
cnn%%  #
=%%$ %
new%%& )
SqlConnection%%* 7
(%%7 8
VariablesGlobales%%8 I
.%%I J

CnnClinica%%J T
)%%T U
)%%U V
{&& 
using'' 
('' 

SqlCommand''  
cmd''! $
=''% &
new''' *

SqlCommand''+ 5
(''5 6
$str''6 P
,''P Q
cnn''R U
)''U V
)''V W
{(( 
cmd)) 
.)) 
CommandType)) "
=))# $
System))% +
.))+ ,
Data)), 0
.))0 1
CommandType))1 <
.))< =
StoredProcedure))= L
;))L M
cmd++ 
.++ 

Parameters++ "
.++" #
AddWithValue++# /
(++/ 0
$str++0 9
,++9 :
pMedicosDatosE++; I
.++I J
Buscar++J P
)++P Q
;++Q R
cmd,, 
.,, 

Parameters,, "
.,," #
AddWithValue,,# /
(,,/ 0
$str,,0 6
,,,6 7
pMedicosDatosE,,8 F
.,,F G
Key,,G J
),,J K
;,,K L
cmd-- 
.-- 

Parameters-- "
.--" #
AddWithValue--# /
(--/ 0
$str--0 ?
,--? @
pMedicosDatosE--A O
.--O P
NumeroLineas--P \
)--\ ]
;--] ^
cmd.. 
... 

Parameters.. "
..." #
AddWithValue..# /
(../ 0
$str..0 8
,..8 9
pMedicosDatosE..: H
...H I
Orden..I N
)..N O
;..O P
cnn// 
.// 
Open// 
(// 
)// 
;// 
IDataReader00 
dr00 !
=00" #
cmd00$ '
.00' (
ExecuteReader00( 5
(005 6
)006 7
;007 8
while11 
(11 
dr11 
.11 
Read11 !
(11! "
)11" #
)11# $
{22 
oMedicosDatosE33 %
=33& '
LlenarEntidad33( 5
(335 6
dr336 8
,338 9
pMedicosDatosE33: H
)33H I
;33I J
oListar44 
.44 
Add44 "
(44" #
oMedicosDatosE44# 1
)441 2
;442 3
}55 
dr66 
.66 
Close66 
(66 
)66 
;66 
cnn77 
.77 
Close77 
(77 
)77 
;77 
}88 
}99 
return:: 
oListar:: 
;:: 
};; 
public>> 
bool>> "
Sp_MedicosDatos_Insert>> )
(>>) *
MedicosDatosE>>* 7
pMedicosDatosE>>8 F
)>>F G
{?? 
try@@ 
{AA 
usingBB 
(BB 
SqlConnectionBB #
cnnBB$ '
=BB( )
newBB* -
SqlConnectionBB. ;
(BB; <
VariablesGlobalesBB< M
.BBM N

CnnClinicaBBN X
)BBX Y
)BBY Z
{CC 
usingDD 
(DD 

SqlCommandDD $
cmdDD% (
=DD) *
newDD+ .

SqlCommandDD/ 9
(DD9 :
$strDD: R
,DDR S
cnnDDT W
)DDW X
)DDX Y
{EE 
cmdFF 
.FF 
CommandTypeFF &
=FF' (
SystemFF) /
.FF/ 0
DataFF0 4
.FF4 5
CommandTypeFF5 @
.FF@ A
StoredProcedureFFA P
;FFP Q
cmdHH 
.HH 

ParametersHH %
.HH% &
AddWithValueHH& 2
(HH2 3
$strHH3 @
,HH@ A
pMedicosDatosEHHB P
.HHP Q
	CodMedicoHHQ Z
)HHZ [
;HH[ \
cmdII 
.II 

ParametersII %
.II% &
AddWithValueII& 2
(II2 3
$strII3 D
,IID E
pMedicosDatosEIIF T
.IIT U
TipDatomedicoIIU b
)IIb c
;IIc d
cmdJJ 
.JJ 

ParametersJJ %
.JJ% &
AddWithValueJJ& 2
(JJ2 3
$strJJ3 F
,JJF G
pMedicosDatosEJJH V
.JJV W
IdeMedicosDatosJJW f
)JJf g
;JJg h
cmdKK 
.KK 

ParametersKK %
.KK% &
AddWithValueKK& 2
(KK2 3
$strKK3 ;
,KK; <
pMedicosDatosEKK= K
.KKK L
ValorKKL Q
)KKQ R
;KKR S
cnnMM 
.MM 
OpenMM 
(MM  
)MM  !
;MM! "
intOO 
exitoOO  
=OO! "
cmdOO# &
.OO& '
ExecuteNonQueryOO' 6
(OO6 7
)OO7 8
;OO8 9
cnnPP 
.PP 
ClosePP  
(PP  !
)PP! "
;PP" #
cmdQQ 
.QQ 
DisposeQQ "
(QQ" #
)QQ# $
;QQ$ %
ifRR 
(RR 
exitoRR  
>=RR! #
$numRR$ %
)RR% &
{SS 
returnTT !
trueTT" &
;TT& '
}UU 
elseVV 
{WW 
returnXX !
falseXX" '
;XX' (
}YY 
}ZZ 
}[[ 
}\\ 
catch]] 
(]] 
	Exception]] 
e]] 
)]] 
{^^ 
throw^^ 
e^^ 
=^^ 
new^^ 
	Exception^^ $
(^^$ %
e^^% &
.^^& '
Message^^' .
)^^. /
;^^/ 0
}^^1 2
}__ 
publicbb 
boolbb "
Sp_MedicosDatos_Updatebb )
(bb) *
MedicosDatosEbb* 7
pMedicosDatosEbb8 F
)bbF G
{cc 
trydd 
{ee 
usingff 
(ff 
SqlConnectionff #
cnnff$ '
=ff( )
newff* -
SqlConnectionff. ;
(ff; <
VariablesGlobalesff< M
.ffM N

CnnClinicaffN X
)ffX Y
)ffY Z
{gg 
usinghh 
(hh 

SqlCommandhh $
cmdhh% (
=hh) *
newhh+ .

SqlCommandhh/ 9
(hh9 :
$strhh: R
,hhR S
cnnhhT W
)hhW X
)hhX Y
{ii 
cmdjj 
.jj 
CommandTypejj &
=jj' (
Systemjj) /
.jj/ 0
Datajj0 4
.jj4 5
CommandTypejj5 @
.jj@ A
StoredProcedurejjA P
;jjP Q
cmdll 
.ll 

Parametersll %
.ll% &
AddWithValuell& 2
(ll2 3
$strll3 @
,ll@ A
pMedicosDatosEllB P
.llP Q
	CodMedicollQ Z
)llZ [
;ll[ \
cmdmm 
.mm 

Parametersmm %
.mm% &
AddWithValuemm& 2
(mm2 3
$strmm3 D
,mmD E
pMedicosDatosEmmF T
.mmT U
TipDatomedicommU b
)mmb c
;mmc d
cmdnn 
.nn 

Parametersnn %
.nn% &
AddWithValuenn& 2
(nn2 3
$strnn3 F
,nnF G
pMedicosDatosEnnH V
.nnV W
IdeMedicosDatosnnW f
)nnf g
;nng h
cmdoo 
.oo 

Parametersoo %
.oo% &
AddWithValueoo& 2
(oo2 3
$stroo3 ;
,oo; <
pMedicosDatosEoo= K
.ooK L
ValorooL Q
)ooQ R
;ooR S
cnnqq 
.qq 
Openqq 
(qq  
)qq  !
;qq! "
intss 
exitoss  
=ss! "
cmdss# &
.ss& '
ExecuteNonQueryss' 6
(ss6 7
)ss7 8
;ss8 9
cnntt 
.tt 
Closett  
(tt  !
)tt! "
;tt" #
cmduu 
.uu 
Disposeuu "
(uu" #
)uu# $
;uu$ %
ifvv 
(vv 
exitovv  
>=vv! #
$numvv$ %
)vv% &
{ww 
returnww 
trueww  $
;ww$ %
}ww& '
elsexx 
{yy 
returnyy 
falseyy  %
;yy% &
}yy' (
}zz 
}{{ 
}|| 
catch}} 
(}} 
	Exception}} 
e}} 
)}} 
{~~ 
throw~~ 
e~~ 
=~~ 
new~~ 
	Exception~~ $
(~~$ %
e~~% &
.~~& '
Message~~' .
)~~. /
;~~/ 0
}~~1 2
} 
public
ÇÇ 
bool
ÇÇ *
Sp_MedicosDatos_UpdatexCampo
ÇÇ /
(
ÇÇ/ 0
MedicosDatosE
ÇÇ0 =
pMedicosDatosE
ÇÇ> L
)
ÇÇL M
{
ÉÉ 
try
ÑÑ 
{
ÖÖ 
using
ÜÜ 
(
ÜÜ 
SqlConnection
ÜÜ #
cnn
ÜÜ$ '
=
ÜÜ( )
new
ÜÜ* -
SqlConnection
ÜÜ. ;
(
ÜÜ; <
VariablesGlobales
ÜÜ< M
.
ÜÜM N

CnnClinica
ÜÜN X
)
ÜÜX Y
)
ÜÜY Z
{
áá 
using
àà 
(
àà 

SqlCommand
àà $
cmd
àà% (
=
àà) *
new
àà+ .

SqlCommand
àà/ 9
(
àà9 :
$str
àà: X
,
ààX Y
cnn
ààZ ]
)
àà] ^
)
àà^ _
{
ââ 
cmd
ää 
.
ää 
CommandType
ää &
=
ää' (
System
ää) /
.
ää/ 0
Data
ää0 4
.
ää4 5
CommandType
ää5 @
.
ää@ A
StoredProcedure
ääA P
;
ääP Q
cmd
åå 
.
åå 

Parameters
åå %
.
åå% &
AddWithValue
åå& 2
(
åå2 3
$str
åå3 A
,
ååA B
pMedicosDatosE
ååC Q
.
ååQ R

NuevoValor
ååR \
)
åå\ ]
;
åå] ^
cmd
çç 
.
çç 

Parameters
çç %
.
çç% &
AddWithValue
çç& 2
(
çç2 3
$str
çç3 ;
,
çç; <
pMedicosDatosE
çç= K
.
ççK L
Campo
ççL Q
)
ççQ R
;
ççR S
cnn
èè 
.
èè 
Open
èè 
(
èè  
)
èè  !
;
èè! "
int
ëë 
exito
ëë  
=
ëë! "
cmd
ëë# &
.
ëë& '
ExecuteNonQuery
ëë' 6
(
ëë6 7
)
ëë7 8
;
ëë8 9
cnn
íí 
.
íí 
Close
íí  
(
íí  !
)
íí! "
;
íí" #
cmd
ìì 
.
ìì 
Dispose
ìì "
(
ìì" #
)
ìì# $
;
ìì$ %
if
îî 
(
îî 
exito
îî  
>=
îî! #
$num
îî$ %
)
îî% &
{
ïï 
return
ïï 
true
ïï  $
;
ïï$ %
}
ïï& '
else
ññ 
{
óó 
return
óó 
false
óó  %
;
óó% &
}
óó' (
}
òò 
}
ôô 
}
öö 
catch
õõ 
(
õõ 
	Exception
õõ 
e
õõ 
)
õõ 
{
úú 
throw
úú 
e
úú 
=
úú 
new
úú 
	Exception
úú $
(
úú$ %
e
úú% &
.
úú& '
Message
úú' .
)
úú. /
;
úú/ 0
}
úú1 2
}
ùù 
public
†† 
bool
†† $
Sp_MedicosDatos_Delete
†† )
(
††) *
MedicosDatosE
††* 7
pMedicosDatosE
††8 F
)
††F G
{
°° 
try
¢¢ 
{
££ 
using
§§ 
(
§§ 
SqlConnection
§§ #
cnn
§§$ '
=
§§( )
new
§§* -
SqlConnection
§§. ;
(
§§; <
VariablesGlobales
§§< M
.
§§M N

CnnClinica
§§N X
)
§§X Y
)
§§Y Z
{
•• 
using
¶¶ 
(
¶¶ 

SqlCommand
¶¶ $
cmd
¶¶% (
=
¶¶) *
new
¶¶+ .

SqlCommand
¶¶/ 9
(
¶¶9 :
$str
¶¶: R
,
¶¶R S
cnn
¶¶T W
)
¶¶W X
)
¶¶X Y
{
ßß 
cmd
®® 
.
®® 
CommandType
®® &
=
®®' (
System
®®) /
.
®®/ 0
Data
®®0 4
.
®®4 5
CommandType
®®5 @
.
®®@ A
StoredProcedure
®®A P
;
®®P Q
cmd
™™ 
.
™™ 

Parameters
™™ &
.
™™& '
AddWithValue
™™' 3
(
™™3 4
$str
™™4 A
,
™™A B
pMedicosDatosE
™™C Q
.
™™Q R
	CodMedico
™™R [
)
™™[ \
;
™™\ ]
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 E
,
´´E F
pMedicosDatosE
´´G U
.
´´U V
TipDatomedico
´´V c
)
´´c d
;
´´d e
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ &
.
¨¨& '
AddWithValue
¨¨' 3
(
¨¨3 4
$str
¨¨4 G
,
¨¨G H
pMedicosDatosE
¨¨I W
.
¨¨W X
IdeMedicosDatos
¨¨X g
)
¨¨g h
;
¨¨h i
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ &
.
≠≠& '
AddWithValue
≠≠' 3
(
≠≠3 4
$str
≠≠4 <
,
≠≠< =
pMedicosDatosE
≠≠> L
.
≠≠L M
Valor
≠≠M R
)
≠≠R S
;
≠≠S T
cnn
ØØ 
.
ØØ 
Open
ØØ  
(
ØØ  !
)
ØØ! "
;
ØØ" #
int
±± 
exito
±±  
=
±±! "
cmd
±±# &
.
±±& '
ExecuteNonQuery
±±' 6
(
±±6 7
)
±±7 8
;
±±8 9
cnn
≤≤ 
.
≤≤ 
Close
≤≤  
(
≤≤  !
)
≤≤! "
;
≤≤" #
cmd
≥≥ 
.
≥≥ 
Dispose
≥≥ "
(
≥≥" #
)
≥≥# $
;
≥≥$ %
if
¥¥ 
(
¥¥ 
exito
¥¥  
>=
¥¥! #
$num
¥¥$ %
)
¥¥% &
{
µµ 
return
µµ 
true
µµ  $
;
µµ$ %
}
µµ& '
else
∂∂ 
{
∑∑ 
return
∑∑ 
false
∑∑  %
;
∑∑% &
}
∑∑' (
}
∏∏ 
}
ππ 
}
∫∫ 
catch
ªª 
(
ªª 
	Exception
ªª 
e
ªª 
)
ªª 
{
ºº 
throw
ºº 
e
ºº 
=
ºº 
new
ºº 
	Exception
ºº $
(
ºº$ %
e
ºº% &
.
ºº& '
Message
ºº' .
)
ºº. /
;
ºº/ 0
}
ºº1 2
}
ΩΩ 
}
øø 
}¿¿ —æ
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedicosAD\MedicosCtaBancoAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
	MedicosAD %
{ 
public 

class 
MedicosCtaBancoAD "
{ 
private 
MedicosCtaBancoE  
LlenarEntidad! .
(. /
IDataReader/ :
dr; =
,= >
MedicosCtaBancoE' 7
pMedicosCtaBancoE8 I
)I J
{ 	
MedicosCtaBancoE 
oMedicosCtaBancoE .
=/ 0
new1 4
MedicosCtaBancoE5 E
(E F
)F G
;G H
switch 
( 
pMedicosCtaBancoE %
.% &
Orden& +
)+ ,
{ 
case 
$num 
: 
oMedicosCtaBancoE %
.% &
	CodMedico& /
=0 1
Convert2 9
.9 :
ToString: B
(B C
drC E
[E F
$strF R
]R S
)S T
;T U
oMedicosCtaBancoE %
.% &
IdeMedicosCtaBanco& 8
=9 :
Convert; B
.B C
ToInt32C J
(J K
drK M
[M N
$strN c
]c d
)d e
;e f
oMedicosCtaBancoE %
.% &
CodBanco& .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE P
]P Q
)Q R
;R S
oMedicosCtaBancoE %
.% &
Moneda& ,
=- .
Convert/ 6
.6 7
ToInt327 >
(> ?
dr? A
[A B
$strB J
]J K
)K L
;L M
oMedicosCtaBancoE %
.% &
CodCtaBanco& 1
=2 3
Convert4 ;
.; <
ToString< D
(D E
drE G
[G H
$strH W
]W X
)X Y
;Y Z
oMedicosCtaBancoE %
.% &
CodCciBanco& 1
=2 3
Convert4 ;
.; <
ToString< D
(D E
drE G
[G H
$strH W
]W X
)X Y
;Y Z
oMedicosCtaBancoE %
.% &
DscBanco& .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE P
]P Q
)Q R
;R S
oMedicosCtaBancoE %
.% &
	DscMoneda& /
=0 1
Convert2 9
.9 :
ToString: B
(B C
drC E
[E F
$strF R
]R S
)S T
;T U
break   
;   
}!! 
return## 
oMedicosCtaBancoE## $
;##$ %
}$$ 	
public&& 
List&& 
<&& 
MedicosCtaBancoE&& $
>&&$ %'
Sp_MedicosCtaBanco_Consulta&&& A
(&&A B
MedicosCtaBancoE&&B R
pMedicosCtaBancoE&&S d
)&&d e
{'' 	
List(( 
<(( 
MedicosCtaBancoE(( !
>((! "
oListar((# *
=((+ ,
new((- 0
List((1 5
<((5 6
MedicosCtaBancoE((6 F
>((F G
(((G H
)((H I
;((I J
MedicosCtaBancoE)) 
oMedicosCtaBancoE)) .
=))/ 0
null))1 5
;))5 6
using** 
(** 
SqlConnection**  
cnn**! $
=**% &
new**' *
SqlConnection**+ 8
(**8 9
VariablesGlobales**9 J
.**J K

CnnClinica**K U
)**U V
)**V W
{++ 
using,, 
(,, 

SqlCommand,, !
cmd,," %
=,,& '
new,,( +

SqlCommand,,, 6
(,,6 7
$str,,7 T
,,,T U
cnn,,V Y
),,Y Z
),,Z [
{-- 
cmd.. 
... 
CommandType.. #
=..$ %
System..& ,
..., -
Data..- 1
...1 2
CommandType..2 =
...= >
StoredProcedure..> M
;..M N
cmd00 
.00 

Parameters00 "
.00" #
AddWithValue00# /
(00/ 0
$str000 8
,008 9
pMedicosCtaBancoE00: K
.00K L
Orden00L Q
)00Q R
;00R S
cmd11 
.11 

Parameters11 "
.11" #
AddWithValue11# /
(11/ 0
$str110 9
,119 :
pMedicosCtaBancoE11; L
.11L M
	CodMedico11M V
)11V W
;11W X
cmd22 
.22 

Parameters22 "
.22" #
AddWithValue22# /
(22/ 0
$str220 6
,226 7
pMedicosCtaBancoE228 I
.22I J
Key22J M
)22M N
;22N O
cmd33 
.33 

Parameters33 "
.33" #
AddWithValue33# /
(33/ 0
$str330 ?
,33? @
pMedicosCtaBancoE33A R
.33R S
NroFilas33S [
)33[ \
;33\ ]
cnn55 
.55 
Open55 
(55 
)55 
;55 
IDataReader66 
dr66  "
=66# $
cmd66% (
.66( )
ExecuteReader66) 6
(666 7
)667 8
;668 9
while77 
(77 
dr77 
.77 
Read77 "
(77" #
)77# $
)77$ %
{88 
oMedicosCtaBancoE99 )
=99* +
LlenarEntidad99, 9
(999 :
dr99: <
,99< =
pMedicosCtaBancoE99> O
)99O P
;99P Q
oListar:: 
.::  
Add::  #
(::# $
oMedicosCtaBancoE::$ 5
)::5 6
;::6 7
};; 
dr<< 
.<< 
Close<< 
(<< 
)<< 
;<< 
cnn== 
.== 
Close== 
(== 
)== 
;==  
}>> 
}?? 
return@@ 
oListar@@ 
;@@ 
}AA 	
publicDD 
boolDD %
Sp_MedicosCtaBanco_InsertDD -
(DD- .
MedicosCtaBancoEDD. >
pMedicosCtaBancoEDD? P
)DDP Q
{EE 	
tryFF 
{GG 
usingHH 
(HH 
SqlConnectionHH $
cnnHH% (
=HH) *
newHH+ .
SqlConnectionHH/ <
(HH< =
VariablesGlobalesHH= N
.HHN O

CnnClinicaHHO Y
)HHY Z
)HHZ [
{II 
usingJJ 
(JJ 

SqlCommandJJ %
cmdJJ& )
=JJ* +
newJJ, /

SqlCommandJJ0 :
(JJ: ;
$strJJ; V
,JJV W
cnnJJX [
)JJ[ \
)JJ\ ]
{KK 
cmdLL 
.LL 
CommandTypeLL '
=LL( )
SystemLL* 0
.LL0 1
DataLL1 5
.LL5 6
CommandTypeLL6 A
.LLA B
StoredProcedureLLB Q
;LLQ R
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 A
,NNA B
pMedicosCtaBancoENNC T
.NNT U
	CodMedicoNNU ^
)NN^ _
;NN_ `
cmdOO 
.OO 

ParametersOO &
.OO& '
AddWithValueOO' 3
(OO3 4
$strOO4 J
,OOJ K
pMedicosCtaBancoEOOL ]
.OO] ^
IdeMedicosCtaBancoOO^ p
)OOp q
;OOq r
cmdPP 
.PP 

ParametersPP &
.PP& '
AddWithValuePP' 3
(PP3 4
$strPP4 @
,PP@ A
pMedicosCtaBancoEPPB S
.PPS T
CodBancoPPT \
)PP\ ]
;PP] ^
cmdQQ 
.QQ 

ParametersQQ &
.QQ& '
AddWithValueQQ' 3
(QQ3 4
$strQQ4 =
,QQ= >
pMedicosCtaBancoEQQ? P
.QQP Q
MonedaQQQ W
)QQW X
;QQX Y
cmdRR 
.RR 

ParametersRR &
.RR& '
AddWithValueRR' 3
(RR3 4
$strRR4 D
,RRD E
pMedicosCtaBancoERRF W
.RRW X
CodCtaBancoRRX c
)RRc d
;RRd e
cmdSS 
.SS 

ParametersSS &
.SS& '
AddWithValueSS' 3
(SS3 4
$strSS4 D
,SSD E
pMedicosCtaBancoESSF W
.SSW X
CodCciBancoSSX c
)SSc d
;SSd e
cnnUU 
.UU 
OpenUU  
(UU  !
)UU! "
;UU" #
intWW 
exitoWW !
=WW" #
cmdWW$ '
.WW' (
ExecuteNonQueryWW( 7
(WW7 8
)WW8 9
;WW9 :
cnnXX 
.XX 
CloseXX !
(XX! "
)XX" #
;XX# $
cmdYY 
.YY 
DisposeYY #
(YY# $
)YY$ %
;YY% &
ifZZ 
(ZZ 
exitoZZ !
>=ZZ" $
$numZZ% &
)ZZ& '
{[[ 
return\\ "
true\\# '
;\\' (
}]] 
else^^ 
{__ 
return`` "
false``# (
;``( )
}aa 
}bb 
}cc 
}dd 
catchee 
(ee 
	Exceptionee 
eee 
)ee 
{ff 
throwff 
eff 
=ff 
newff 
	Exceptionff %
(ff% &
eff& '
.ff' (
Messageff( /
)ff/ 0
;ff0 1
}ff2 3
}gg 	
publicjj 
booljj %
Sp_MedicosCtaBanco_Updatejj -
(jj- .
MedicosCtaBancoEjj. >
pMedicosCtaBancoEjj? P
)jjP Q
{kk 	
tryll 
{mm 
usingnn 
(nn 
SqlConnectionnn $
cnnnn% (
=nn) *
newnn+ .
SqlConnectionnn/ <
(nn< =
VariablesGlobalesnn= N
.nnN O

CnnClinicannO Y
)nnY Z
)nnZ [
{oo 
usingpp 
(pp 

SqlCommandpp %
cmdpp& )
=pp* +
newpp, /

SqlCommandpp0 :
(pp: ;
$strpp; V
,ppV W
cnnppX [
)pp[ \
)pp\ ]
{qq 
cmdrr 
.rr 
CommandTyperr '
=rr( )
Systemrr* 0
.rr0 1
Datarr1 5
.rr5 6
CommandTyperr6 A
.rrA B
StoredProcedurerrB Q
;rrQ R
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 A
,ttA B
pMedicosCtaBancoEttC T
.ttT U
	CodMedicottU ^
)tt^ _
;tt_ `
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 J
,uuJ K
pMedicosCtaBancoEuuL ]
.uu] ^
IdeMedicosCtaBancouu^ p
)uup q
;uuq r
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 @
,vv@ A
pMedicosCtaBancoEvvB S
.vvS T
CodBancovvT \
)vv\ ]
;vv] ^
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 =
,ww= >
pMedicosCtaBancoEww? P
.wwP Q
MonedawwQ W
)wwW X
;wwX Y
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 D
,xxD E
pMedicosCtaBancoExxF W
.xxW X
CodCtaBancoxxX c
)xxc d
;xxd e
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 D
,yyD E
pMedicosCtaBancoEyyF W
.yyW X
CodCciBancoyyX c
)yyc d
;yyd e
cnn{{ 
.{{ 
Open{{  
({{  !
){{! "
;{{" #
int}} 
exito}} !
=}}" #
cmd}}$ '
.}}' (
ExecuteNonQuery}}( 7
(}}7 8
)}}8 9
;}}9 :
cnn~~ 
.~~ 
Close~~ !
(~~! "
)~~" #
;~~# $
cmd 
. 
Dispose #
(# $
)$ %
;% &
if
ÄÄ 
(
ÄÄ 
exito
ÄÄ !
>=
ÄÄ" $
$num
ÄÄ% &
)
ÄÄ& '
{
ÅÅ 
return
ÅÅ  
true
ÅÅ! %
;
ÅÅ% &
}
ÅÅ' (
else
ÇÇ 
{
ÉÉ 
return
ÉÉ  
false
ÉÉ! &
;
ÉÉ& '
}
ÉÉ( )
}
ÑÑ 
}
ÖÖ 
}
ÜÜ 
catch
áá 
(
áá 
	Exception
áá 
e
áá 
)
áá 
{
àà 
throw
àà 
e
àà 
=
àà 
new
àà 
	Exception
àà %
(
àà% &
e
àà& '
.
àà' (
Message
àà( /
)
àà/ 0
;
àà0 1
}
àà2 3
}
ââ 	
public
åå 
string
åå ,
Sp_MedicosCtaBanco_ValidaGraba
åå 4
(
åå4 5
MedicosCtaBancoE
åå5 E
pMedicosCtaBancoE
ååF W
)
ååW X
{
çç 	
string
éé 
	resultado
éé 
=
éé 
$str
éé !
;
éé! "
try
èè 
{
êê 
using
ëë 
(
ëë 
SqlConnection
ëë $
cnn
ëë% (
=
ëë) *
new
ëë+ .
SqlConnection
ëë/ <
(
ëë< =
VariablesGlobales
ëë= N
.
ëëN O

CnnClinica
ëëO Y
)
ëëY Z
)
ëëZ [
{
íí 
using
ìì 
(
ìì 

SqlCommand
ìì %
cmd
ìì& )
=
ìì* +
new
ìì, /

SqlCommand
ìì0 :
(
ìì: ;
$str
ìì; [
,
ìì[ \
cnn
ìì] `
)
ìì` a
)
ììa b
{
îî 
cmd
ïï 
.
ïï 
CommandType
ïï '
=
ïï( )
System
ïï* 0
.
ïï0 1
Data
ïï1 5
.
ïï5 6
CommandType
ïï6 A
.
ïïA B
StoredProcedure
ïïB Q
;
ïïQ R
cmd
óó 
.
óó 

Parameters
óó &
.
óó& '
AddWithValue
óó' 3
(
óó3 4
$str
óó4 A
,
óóA B
pMedicosCtaBancoE
óóC T
.
óóT U
	CodMedico
óóU ^
)
óó^ _
;
óó_ `
cmd
òò 
.
òò 

Parameters
òò &
.
òò& '
AddWithValue
òò' 3
(
òò3 4
$str
òò4 J
,
òòJ K
pMedicosCtaBancoE
òòL ]
.
òò] ^ 
IdeMedicosCtaBanco
òò^ p
)
òòp q
;
òòq r
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 @
,
ôô@ A
pMedicosCtaBancoE
ôôB S
.
ôôS T
CodBanco
ôôT \
)
ôô\ ]
;
ôô] ^
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 =
,
öö= >
pMedicosCtaBancoE
öö? P
.
ööP Q
Moneda
ööQ W
)
ööW X
;
ööX Y
cmd
õõ 
.
õõ 

Parameters
õõ &
.
õõ& '
AddWithValue
õõ' 3
(
õõ3 4
$str
õõ4 D
,
õõD E
pMedicosCtaBancoE
õõF W
.
õõW X
CodCtaBanco
õõX c
)
õõc d
;
õõd e
cmd
úú 
.
úú 

Parameters
úú &
.
úú& '
AddWithValue
úú' 3
(
úú3 4
$str
úú4 D
,
úúD E
pMedicosCtaBancoE
úúF W
.
úúW X
CodCciBanco
úúX c
)
úúc d
;
úúd e
cnn
ûû 
.
ûû 
Open
ûû  
(
ûû  !
)
ûû! "
;
ûû" #
IDataReader
üü #
dr
üü$ &
=
üü' (
cmd
üü) ,
.
üü, -
ExecuteReader
üü- :
(
üü: ;
)
üü; <
;
üü< =
if
†† 
(
†† 
dr
†† 
.
†† 
Read
†† #
(
††# $
)
††$ %
)
††% &
{
°° 
	resultado
¢¢ %
=
¢¢& '
Convert
¢¢( /
.
¢¢/ 0
ToString
¢¢0 8
(
¢¢8 9
dr
¢¢9 ;
[
¢¢; <
$str
¢¢< G
]
¢¢G H
)
¢¢H I
;
¢¢I J
}
££ 
dr
§§ 
.
§§ 
Close
§§  
(
§§  !
)
§§! "
;
§§" #
cnn
•• 
.
•• 
Close
•• !
(
••! "
)
••" #
;
••# $
}
¶¶ 
}
ßß 
return
®® 
	resultado
®®  
;
®®  !
}
™™ 
catch
´´ 
(
´´ 
	Exception
´´ 
e
´´ 
)
´´ 
{
¨¨ 
throw
¨¨ 
e
¨¨ 
=
¨¨ 
new
¨¨ 
	Exception
¨¨ %
(
¨¨% &
e
¨¨& '
.
¨¨' (
Message
¨¨( /
)
¨¨/ 0
;
¨¨0 1
}
¨¨2 3
}
≠≠ 	
public
∞∞ 
bool
∞∞ -
Sp_MedicosCtaBanco_UpdatexCampo
∞∞ 3
(
∞∞3 4
MedicosCtaBancoE
∞∞4 D
pMedicosCtaBancoE
∞∞E V
)
∞∞V W
{
±± 	
try
≤≤ 
{
≥≥ 
using
¥¥ 
(
¥¥ 
SqlConnection
¥¥ $
cnn
¥¥% (
=
¥¥) *
new
¥¥+ .
SqlConnection
¥¥/ <
(
¥¥< =
VariablesGlobales
¥¥= N
.
¥¥N O

CnnClinica
¥¥O Y
)
¥¥Y Z
)
¥¥Z [
{
µµ 
using
∂∂ 
(
∂∂ 

SqlCommand
∂∂ %
cmd
∂∂& )
=
∂∂* +
new
∂∂, /

SqlCommand
∂∂0 :
(
∂∂: ;
$str
∂∂; \
,
∂∂\ ]
cnn
∂∂^ a
)
∂∂a b
)
∂∂b c
{
∑∑ 
cmd
∏∏ 
.
∏∏ 
CommandType
∏∏ '
=
∏∏( )
System
∏∏* 0
.
∏∏0 1
Data
∏∏1 5
.
∏∏5 6
CommandType
∏∏6 A
.
∏∏A B
StoredProcedure
∏∏B Q
;
∏∏Q R
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ &
.
∫∫& '
AddWithValue
∫∫' 3
(
∫∫3 4
$str
∫∫4 B
,
∫∫B C
pMedicosCtaBancoE
∫∫D U
.
∫∫U V

NuevoValor
∫∫V `
)
∫∫` a
;
∫∫a b
cmd
ªª 
.
ªª 

Parameters
ªª &
.
ªª& '
AddWithValue
ªª' 3
(
ªª3 4
$str
ªª4 <
,
ªª< =
pMedicosCtaBancoE
ªª> O
.
ªªO P
Campo
ªªP U
)
ªªU V
;
ªªV W
cnn
ΩΩ 
.
ΩΩ 
Open
ΩΩ  
(
ΩΩ  !
)
ΩΩ! "
;
ΩΩ" #
int
øø 
exito
øø !
=
øø" #
cmd
øø$ '
.
øø' (
ExecuteNonQuery
øø( 7
(
øø7 8
)
øø8 9
;
øø9 :
cnn
¿¿ 
.
¿¿ 
Close
¿¿ !
(
¿¿! "
)
¿¿" #
;
¿¿# $
cmd
¡¡ 
.
¡¡ 
Dispose
¡¡ #
(
¡¡# $
)
¡¡$ %
;
¡¡% &
if
¬¬ 
(
¬¬ 
exito
¬¬ !
>=
¬¬" $
$num
¬¬% &
)
¬¬& '
{
√√ 
return
√√  
true
√√! %
;
√√% &
}
√√' (
else
ƒƒ 
{
≈≈ 
return
≈≈  
false
≈≈! &
;
≈≈& '
}
≈≈( )
}
∆∆ 
}
«« 
}
»» 
catch
…… 
(
…… 
	Exception
…… 
e
…… 
)
…… 
{
   
throw
   
e
   
=
   
new
   
	Exception
   %
(
  % &
e
  & '
.
  ' (
Message
  ( /
)
  / 0
;
  0 1
}
  2 3
}
ÀÀ 	
public
ŒŒ 
bool
ŒŒ '
Sp_MedicosCtaBanco_Delete
ŒŒ -
(
ŒŒ- .
MedicosCtaBancoE
ŒŒ. >
pMedicosCtaBancoE
ŒŒ? P
)
ŒŒP Q
{
œœ 	
try
–– 
{
—— 
using
““ 
(
““ 
SqlConnection
““ $
cnn
““% (
=
““) *
new
““+ .
SqlConnection
““/ <
(
““< =
VariablesGlobales
““= N
.
““N O

CnnClinica
““O Y
)
““Y Z
)
““Z [
{
”” 
using
‘‘ 
(
‘‘ 

SqlCommand
‘‘ %
cmd
‘‘& )
=
‘‘* +
new
‘‘, /

SqlCommand
‘‘0 :
(
‘‘: ;
$str
‘‘; V
,
‘‘V W
cnn
‘‘X [
)
‘‘[ \
)
‘‘\ ]
{
’’ 
cmd
÷÷ 
.
÷÷ 
CommandType
÷÷ '
=
÷÷( )
System
÷÷* 0
.
÷÷0 1
Data
÷÷1 5
.
÷÷5 6
CommandType
÷÷6 A
.
÷÷A B
StoredProcedure
÷÷B Q
;
÷÷Q R
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ &
.
ÿÿ& '
AddWithValue
ÿÿ' 3
(
ÿÿ3 4
$str
ÿÿ4 A
,
ÿÿA B
pMedicosCtaBancoE
ÿÿC T
.
ÿÿT U
	CodMedico
ÿÿU ^
)
ÿÿ^ _
;
ÿÿ_ `
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ &
.
ŸŸ& '
AddWithValue
ŸŸ' 3
(
ŸŸ3 4
$str
ŸŸ4 J
,
ŸŸJ K
pMedicosCtaBancoE
ŸŸL ]
.
ŸŸ] ^ 
IdeMedicosCtaBanco
ŸŸ^ p
)
ŸŸp q
;
ŸŸq r
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ &
.
⁄⁄& '
AddWithValue
⁄⁄' 3
(
⁄⁄3 4
$str
⁄⁄4 @
,
⁄⁄@ A
pMedicosCtaBancoE
⁄⁄B S
.
⁄⁄S T
CodBanco
⁄⁄T \
)
⁄⁄\ ]
;
⁄⁄] ^
cmd
€€ 
.
€€ 

Parameters
€€ &
.
€€& '
AddWithValue
€€' 3
(
€€3 4
$str
€€4 =
,
€€= >
pMedicosCtaBancoE
€€? P
.
€€P Q
Moneda
€€Q W
)
€€W X
;
€€X Y
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ &
.
‹‹& '
AddWithValue
‹‹' 3
(
‹‹3 4
$str
‹‹4 D
,
‹‹D E
pMedicosCtaBancoE
‹‹F W
.
‹‹W X
CodCtaBanco
‹‹X c
)
‹‹c d
;
‹‹d e
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 D
,
››D E
pMedicosCtaBancoE
››F W
.
››W X
CodCciBanco
››X c
)
››c d
;
››d e
cnn
ﬂﬂ 
.
ﬂﬂ 
Open
ﬂﬂ  
(
ﬂﬂ  !
)
ﬂﬂ! "
;
ﬂﬂ" #
int
·· 
exito
·· !
=
··" #
cmd
··$ '
.
··' (
ExecuteNonQuery
··( 7
(
··7 8
)
··8 9
;
··9 :
cnn
‚‚ 
.
‚‚ 
Close
‚‚ !
(
‚‚! "
)
‚‚" #
;
‚‚# $
cmd
„„ 
.
„„ 
Dispose
„„ #
(
„„# $
)
„„$ %
;
„„% &
if
‰‰ 
(
‰‰ 
exito
‰‰ !
>=
‰‰" $
$num
‰‰% &
)
‰‰& '
{
ÂÂ 
return
ÂÂ  
true
ÂÂ! %
;
ÂÂ% &
}
ÂÂ' (
else
ÊÊ 
{
ÁÁ 
return
ÁÁ  
false
ÁÁ! &
;
ÁÁ& '
}
ÁÁ( )
}
ËË 
}
ÈÈ 
}
ÍÍ 
catch
ÎÎ 
(
ÎÎ 
	Exception
ÎÎ 
e
ÎÎ 
)
ÎÎ 
{
ÏÏ 
throw
ÏÏ 
e
ÏÏ 
=
ÏÏ 
new
ÏÏ 
	Exception
ÏÏ %
(
ÏÏ% &
e
ÏÏ& '
.
ÏÏ' (
Message
ÏÏ( /
)
ÏÏ/ 0
;
ÏÏ0 1
}
ÏÏ2 3
}
ÌÌ 	
}
ÔÔ 
}ÛÛ öÅ	
YD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedicosAD\MedicosAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
	MedicosAD %
{ 
public 

class 
	MedicosAD 
{ 

Utilitario 
util 
= 
new 

Utilitario (
(( )
)) *
;* +
private 
MedicoE 
LlenarEntidadMedico +
(+ ,
IDataReader, 7
dr8 :
): ;
{ 	
MedicoE 
ms 
= 
new 
MedicoE $
($ %
)% &
;& '
ms!! 
.!! 
Anexo!! 
=!! 
dr!! 
[!! 
$str!! !
]!!! "
.!!" #
ToString!!# +
(!!+ ,
)!!, -
.!!- .
Trim!!. 2
(!!2 3
)!!3 4
;!!4 5
ms"" 
."" 
	ApMaterno"" 
="" 
dr"" 
["" 
$str"" )
]"") *
.""* +
ToString""+ 3
(""3 4
)""4 5
;""5 6
ms## 
.## 
	ApPaterno## 
=## 
dr## 
[## 
$str## )
]##) *
.##* +
ToString##+ 3
(##3 4
)##4 5
;##5 6
ms$$ 
.$$ 
Area$$ 
=$$ 
dr$$ 
[$$ 
$str$$ 
]$$  
.$$  !
ToString$$! )
($$) *
)$$* +
.$$+ ,
Trim$$, 0
($$0 1
)$$1 2
;$$2 3
ms%% 
.%% 
Beeper%% 
=%% 
dr%% 
[%% 
$str%% #
]%%# $
.%%$ %
ToString%%% -
(%%- .
)%%. /
.%%/ 0
Trim%%0 4
(%%4 5
)%%5 6
;%%6 7
ms&& 
.&& 
CardCode&& 
=&& 
dr&& 
[&& 
$str&& '
]&&' (
.&&( )
ToString&&) 1
(&&1 2
)&&2 3
;&&3 4
ms'' 
.'' 
CodAfp'' 
='' 
dr'' 
['' 
$str'' #
]''# $
.''$ %
ToString''% -
(''- .
)''. /
.''/ 0
Trim''0 4
(''4 5
)''5 6
;''6 7
ms(( 
.(( 
CodCivil(( 
=(( 
dr(( 
[(( 
$str(( '
]((' (
.((( )
ToString(() 1
(((1 2
)((2 3
.((3 4
Trim((4 8
(((8 9
)((9 :
;((: ;
ms)) 
.)) 
CodDistrito)) 
=)) 
dr)) 
[))  
$str))  -
]))- .
.)). /
ToString))/ 7
())7 8
)))8 9
.))9 :
Trim)): >
())> ?
)))? @
;))@ A
ms** 
.** 
	CodMedico** 
=** 
dr** 
[** 
$str** )
]**) *
.*** +
ToString**+ 3
(**3 4
)**4 5
.**5 6
Trim**6 :
(**: ;
)**; <
;**< =
ms++ 
.++ 
CodProfMedisyn++ 
=++ 
dr++  "
[++" #
$str++# 5
]++5 6
.++6 7
ToString++7 ?
(++? @
)++@ A
;++A B
ms,, 
.,, 
CodProvincia,, 
=,, 
dr,,  
[,,  !
$str,,! /
],,/ 0
.,,0 1
ToString,,1 9
(,,9 :
),,: ;
.,,; <
Trim,,< @
(,,@ A
),,A B
;,,B C
ms-- 
.-- 
CodTipoConsulta-- 
=--  
dr--! #
[--# $
$str--$ 7
]--7 8
.--8 9
ToString--9 A
(--A B
)--B C
;--C D
ms.. 
... 
	CodUbigeo.. 
=.. 
dr.. 
[.. 
$str.. *
]..* +
...+ ,
ToString.., 4
(..4 5
)..5 6
;..6 7
ms// 
.// 
CodUbigeoId// 
=// 
dr// 
[//  
$str//  +
]//+ ,
.//, -
ToString//- 5
(//5 6
)//6 7
;//7 8
ms00 
.00 
	ColMedico00 
=00 
dr00 
[00 
$str00 )
]00) *
.00* +
ToString00+ 3
(003 4
)004 5
.005 6
Trim006 :
(00: ;
)00; <
;00< =
ms11 
.11 
Consultorio11 
=11 
dr11 
[11  
$str11  -
]11- .
.11. /
ToString11/ 7
(117 8
)118 9
.119 :
Trim11: >
(11> ?
)11? @
;11@ A
ms22 
.22 
Cuspp22 
=22 
dr22 
[22 
$str22 !
]22! "
.22" #
ToString22# +
(22+ ,
)22, -
.22- .
Trim22. 2
(222 3
)223 4
;224 5
ms33 
.33 
	Direccion33 
=33 
dr33 
[33 
$str33 )
]33) *
.33* +
ToString33+ 3
(333 4
)334 5
.335 6
Trim336 :
(33: ;
)33; <
;33< =
ms44 
.44 
DocIdentidad44 
=44 
dr44  
[44  !
$str44! /
]44/ 0
.440 1
ToString441 9
(449 :
)44: ;
.44; <
Trim44< @
(44@ A
)44A B
;44B C
ms55 
.55 )
DscObservacionSubEspecialidad55 ,
=55- .
dr55/ 1
[551 2
$str552 T
]55T U
.55U V
ToString55V ^
(55^ _
)55_ `
;55` a
ms66 
.66 
NombreComercial66 
=66  
dr66! #
[66# $
$str66$ 6
]666 7
.667 8
ToString668 @
(66@ A
)66A B
;66B C
ms77 
.77 
CampoClinico77 
=77 
dr77  
[77  !
$str77! 0
]770 1
.771 2
ToString772 :
(77: ;
)77; <
;77< =
ms99 
.99 
Email99 
=99 
dr99 
[99 
$str99 !
]99! "
.99" #
ToString99# +
(99+ ,
)99, -
;99- .
ms:: 
.:: 
FechaCuarta:: 
=:: 
util:: !
.::! "
ValFecha::" *
(::* +
dr::+ -
[::- .
$str::. ;
]::; <
.::< =
ToString::= E
(::E F
)::F G
)::G H
;::H I
ms<< 
.<< 
FechaPagorrhh<< 
=<< 
util<< #
.<<# $
ValFecha<<$ ,
(<<, -
dr<<- /
[<</ 0
$str<<0 >
]<<> ?
.<<? @
ToString<<@ H
(<<H I
)<<I J
)<<J K
;<<K L
ms>> 
.>> 
FechaDocentrySap>> 
=>>  !
util>>" &
.>>& '
ValFecha>>' /
(>>/ 0
dr>>0 2
[>>2 3
$str>>3 D
]>>D E
.>>E F
ToString>>F N
(>>N O
)>>O P
)>>P Q
;>>Q R
ms?? 
.?? 
FechaEnvioSap?? 
=?? 
util?? #
.??# $
ValFecha??$ ,
(??, -
dr??- /
[??/ 0
$str??0 >
]??> ?
.??? @
ToString??@ H
(??H I
)??I J
)??J K
;??K L
ms@@ 
.@@ 
FechaFin@@ 
=@@ 
util@@ 
.@@ 
ValFecha@@ '
(@@' (
dr@@( *
[@@* +
$str@@+ 5
]@@5 6
.@@6 7
ToString@@7 ?
(@@? @
)@@@ A
)@@A B
;@@B C
msAA 
.AA 
FechaFonaviAA 
=AA 
utilAA !
.AA! "
ValFechaAA" *
(AA* +
drAA+ -
[AA- .
$strAA. ;
]AA; <
.AA< =
ToStringAA= E
(AAE F
)AAF G
)AAG H
;AAH I
msBB 
.BB 
FechaIngresoBB 
=BB 
utilBB "
.BB" #
ValFechaBB# +
(BB+ ,
drBB, .
[BB. /
$strBB/ =
]BB= >
.BB> ?
ToStringBB? G
(BBG H
)BBH I
)BBI J
;BBJ K
msCC 
.CC 
FechaNacimientoCC 
=CC  
utilCC! %
.CC% &
ValFechaCC& .
(CC. /
drCC/ 1
[CC1 2
$strCC2 C
]CCC D
.CCD E
ToStringCCE M
(CCM N
)CCN O
)CCO P
;CCP Q
msDD 
.DD 
FechaProntoPagoDD 
=DD  
utilDD! %
.DD% &
ValFechaDD& .
(DD. /
drDD/ 1
[DD1 2
$strDD2 C
]DDC D
.DDD E
ToStringDDE M
(DDM N
)DDN O
)DDO P
;DDP Q
msEE 
.EE 
FechaRecepcionSapEE  
=EE! "
utilEE# '
.EE' (
ValFechaEE( 0
(EE0 1
drEE1 3
[EE3 4
$strEE4 F
]EEF G
.EEG H
ToStringEEH P
(EEP Q
)EEQ R
)EER S
;EES T
msFF 
.FF 
FechaRegistroFF 
=FF 
utilFF #
.FF# $
ValFechaFF$ ,
(FF, -
drFF- /
[FF/ 0
$strFF0 ?
]FF? @
.FF@ A
ToStringFFA I
(FFI J
)FFJ K
)FFK L
;FFL M
msGG 
.GG 
FechaSnpGG 
=GG 
utilGG 
.GG 
ValFechaGG '
(GG' (
drGG( *
[GG* +
$strGG+ 5
]GG5 6
.GG6 7
ToStringGG7 ?
(GG? @
)GG@ A
)GGA B
;GGB C
msHH 
.HH 
FechaSppHH 
=HH 
utilHH 
.HH 
ValFechaHH '
(HH' (
drHH( *
[HH* +
$strHH+ 5
]HH5 6
.HH6 7
ToStringHH7 ?
(HH? @
)HH@ A
)HHA B
;HHB C
msII 
.II 
FlagActivoInternetII !
=II" #
drII$ &
[II& '
$strII' 7
]II7 8
.II8 9
ToStringII9 A
(IIA B
)IIB C
==IID F
$strIIG J
?IIK L
trueIIM Q
:IIR S
falseIIT Y
;IIY Z
msJJ 
.JJ 
FlagAfectoCuartaJJ 
=JJ  !
boolJJ" &
.JJ& '
ParseJJ' ,
(JJ, -
drJJ- /
[JJ/ 0
$strJJ0 >
]JJ> ?
.JJ? @
ToStringJJ@ H
(JJH I
)JJI J
)JJJ K
;JJK L
msKK 
.KK 
FlagAfectoFonaviKK 
=KK  !
boolKK" &
.KK& '
ParseKK' ,
(KK, -
drKK- /
[KK/ 0
$strKK0 >
]KK> ?
.KK? @
ToStringKK@ H
(KKH I
)KKI J
)KKJ K
;KKK L
msLL 
.LL  
FlagAfectoProntoPagoLL #
=LL$ %
boolLL& *
.LL* +
ParseLL+ 0
(LL0 1
drLL1 3
[LL3 4
$strLL4 F
]LLF G
.LLG H
ToStringLLH P
(LLP Q
)LLQ R
)LLR S
;LLS T
msMM 
.MM 
FlagAfectoSnpMM 
=MM 
boolMM #
.MM# $
ParseMM$ )
(MM) *
drMM* ,
[MM, -
$strMM- 8
]MM8 9
.MM9 :
ToStringMM: B
(MMB C
)MMC D
)MMD E
;MME F
msNN 
.NN 
FlagAfectoSppNN 
=NN 
boolNN #
.NN# $
ParseNN$ )
(NN) *
drNN* ,
[NN, -
$strNN- 8
]NN8 9
.NN9 :
ToStringNN: B
(NNB C
)NNC D
)NND E
;NNE F
msOO 
.OO 
FlagAmbulatorioOO 
=OO  
boolOO! %
.OO% &
ParseOO& +
(OO+ ,
drOO, .
[OO. /
$strOO/ <
]OO< =
.OO= >
ToStringOO> F
(OOF G
)OOG H
)OOH I
;OOI J
msPP 
.PP 
FlagCortesiaPP 
=PP 
boolPP "
.PP" #
ParsePP# (
(PP( )
drPP) +
[PP+ ,
$strPP, 6
]PP6 7
.PP7 8
ToStringPP8 @
(PP@ A
)PPA B
)PPB C
;PPC D
msQQ 
.QQ 
FlagEmergenciaQQ 
=QQ 
boolQQ  $
.QQ$ %
ParseQQ% *
(QQ* +
drQQ+ -
[QQ- .
$strQQ. :
]QQ: ;
.QQ; <
ToStringQQ< D
(QQD E
)QQE F
)QQF G
;QQG H
msRR 
.RR 

FlagEstadoRR 
=RR 
boolRR  
.RR  !
ParseRR! &
(RR& '
drRR' )
[RR) *
$strRR* 2
]RR2 3
.RR3 4
ToStringRR4 <
(RR< =
)RR= >
)RR> ?
;RR? @
msSS 
.SS 
FlgAsistenteSS 
=SS 
boolSS "
.SS" #
ParseSS# (
(SS( )
drSS) +
[SS+ ,
$strSS, ;
]SS; <
.SS< =
ToStringSS= E
(SSE F
)SSF G
)SSG H
;SSH I
msTT 
.TT 
FlgCiaTT 
=TT 
boolTT 
.TT 
ParseTT "
(TT" #
drTT# %
[TT% &
$strTT& /
]TT/ 0
.TT0 1
ToStringTT1 9
(TT9 :
)TT: ;
)TT; <
;TT< =
msUU 
.UU 
FlgEnvioSapUU 
=UU 
boolUU !
.UU! "
ParseUU" '
(UU' (
drUU( *
[UU* +
$strUU+ 9
]UU9 :
.UU: ;
ToStringUU; C
(UUC D
)UUD E
)UUE F
;UUF G
msVV 
.VV 
FlgHospitalVV 
=VV 
boolVV !
.VV! "
ParseVV" '
(VV' (
drVV( *
[VV* +
$strVV+ 5
]VV5 6
.VV6 7
ToStringVV7 ?
(VV? @
)VV@ A
)VVA B
;VVB C
msWW 
.WW 
FlgHospitalarioWW 
=WW  
boolWW! %
.WW% &
ParseWW& +
(WW+ ,
drWW, .
[WW. /
$strWW/ A
]WWA B
.WWB C
ToStringWWC K
(WWK L
)WWL M
)WWM N
;WWN O
msXX 
.XX 
FlgMfXX 
=XX 
boolXX 
.XX 
ParseXX !
(XX! "
drXX" $
[XX$ %
$strXX% .
]XX. /
.XX/ 0
ToStringXX0 8
(XX8 9
)XX9 :
)XX: ;
;XX; <
msYY 
.YY 
FlgPlanillaYY 
=YY 
boolYY !
.YY! "
ParseYY" '
(YY' (
drYY( *
[YY* +
$strYY+ 9
]YY9 :
.YY: ;
ToStringYY; C
(YYC D
)YYD E
)YYE F
;YYF G
msZZ 
.ZZ 
FlgPresencialCmZZ 
=ZZ  
boolZZ! %
.ZZ% &
ParseZZ& +
(ZZ+ ,
drZZ, .
[ZZ. /
$strZZ/ B
]ZZB C
.ZZC D
ToStringZZD L
(ZZL M
)ZZM N
)ZZN O
;ZZO P
ms[[ 
.[[ 
FlgPresencialJm[[ 
=[[  
bool[[! %
.[[% &
Parse[[& +
([[+ ,
dr[[, .
[[[. /
$str[[/ B
][[B C
.[[C D
ToString[[D L
([[L M
)[[M N
)[[N O
;[[O P
ms\\ 
.\\ 
FlgPresencialLm\\ 
=\\  
bool\\! %
.\\% &
Parse\\& +
(\\+ ,
dr\\, .
[\\. /
$str\\/ B
]\\B C
.\\C D
ToString\\D L
(\\L M
)\\M N
)\\N O
;\\O P
ms^^ 
.^^ 
FlgPrestacion^^ 
=^^ 
bool^^ #
.^^# $
Parse^^$ )
(^^) *
dr^^* ,
[^^, -
$str^^- >
]^^> ?
.^^? @
ToString^^@ H
(^^H I
)^^I J
)^^J K
;^^K L
ms__ 
.__ 
FlgRetencion__ 
=__ 
dr__  
[__  !
$str__! 0
]__0 1
.__1 2
ToString__2 :
(__: ;
)__; <
==__= ?
$str__@ C
?__D E
true__F J
:__K L
false__M R
;__R S
ms`` 
.`` 
TipoServicio`` 
=`` 
dr``  
[``  !
$str``! 0
]``0 1
.``1 2
ToString``2 :
(``: ;
)``; <
;``< =
msaa 
.aa 
FlgTeleConsultaaa 
=aa  
boolaa! %
.aa% &
Parseaa& +
(aa+ ,
draa, .
[aa. /
$straa/ A
]aaA B
.aaB C
ToStringaaC K
(aaK L
)aaL M
)aaM N
;aaN O
msbb 
.bb 
IdeDocEntrySapbb 
=bb 
utilbb  $
.bb$ %
ValIntbb% +
(bb+ ,
drbb, .
[bb. /
$strbb/ @
]bb@ A
.bbA B
ToStringbbB J
(bbJ K
)bbK L
)bbL M
;bbM N
mscc 
.cc 
	Inicialescc 
=cc 
drcc 
[cc 
$strcc )
]cc) *
.cc* +
ToStringcc+ 3
(cc3 4
)cc4 5
.cc5 6
Trimcc6 :
(cc: ;
)cc; <
;cc< =
msdd 
.dd 
Logindd 
=dd 
drdd 
[dd 
$strdd !
]dd! "
.dd" #
ToStringdd# +
(dd+ ,
)dd, -
.dd- .
Trimdd. 2
(dd2 3
)dd3 4
;dd4 5
msee 
.ee 
Nombreee 
=ee 
dree 
[ee 
$stree #
]ee# $
.ee$ %
ToStringee% -
(ee- .
)ee. /
;ee/ 0
msff 
.ff 

NombreAreaff 
=ff 
drff 
[ff 
$strff +
]ff+ ,
.ff, -
ToStringff- 5
(ff5 6
)ff6 7
;ff7 8
msgg 
.gg 
NombreCivilgg 
=gg 
drgg 
[gg  
$strgg  -
]gg- .
.gg. /
ToStringgg/ 7
(gg7 8
)gg8 9
;gg9 :
mshh 
.hh 

NombrePaishh 
=hh 
drhh 
[hh 
$strhh +
]hh+ ,
.hh, -
ToStringhh- 5
(hh5 6
)hh6 7
.hh7 8
Trimhh8 <
(hh< =
)hh= >
;hh> ?
msii 
.ii 
NombreDepartamentoii !
=ii" #
drii$ &
[ii& '
$strii' ;
]ii; <
.ii< =
ToStringii= E
(iiE F
)iiF G
.iiG H
TrimiiH L
(iiL M
)iiM N
;iiN O
msjj 
.jj 
NombreDistritojj 
=jj 
drjj  "
[jj" #
$strjj# 3
]jj3 4
.jj4 5
ToStringjj5 =
(jj= >
)jj> ?
.jj? @
Trimjj@ D
(jjD E
)jjE F
;jjF G
mskk 
.kk 
NombreProvinciakk 
=kk  
drkk! #
[kk# $
$strkk$ 5
]kk5 6
.kk6 7
ToStringkk7 ?
(kk? @
)kk@ A
.kkA B
TrimkkB F
(kkF G
)kkG H
;kkH I
msll 
.ll 

NombreSexoll 
=ll 
drll 
[ll 
$strll +
]ll+ ,
.ll, -
ToStringll- 5
(ll5 6
)ll6 7
;ll7 8
msmm 
.mm !
NombreTipDocIdentidadmm $
=mm% &
drmm' )
[mm) *
$strmm* A
]mmA B
.mmB C
ToStringmmC K
(mmK L
)mmL M
;mmM N
msnn 
.nn 

Nombre_Afpnn 
=nn 
drnn 
[nn 
$strnn *
]nn* +
.nn+ ,
ToStringnn, 4
(nn4 5
)nn5 6
;nn6 7
msoo 
.oo 
Nombresoo 
=oo 
droo 
[oo 
$stroo %
]oo% &
.oo& '
ToStringoo' /
(oo/ 0
)oo0 1
.oo1 2
Trimoo2 6
(oo6 7
)oo7 8
;oo8 9
mspp 
.pp 
Observacionespp 
=pp 
drpp !
[pp! "
$strpp" 1
]pp1 2
.pp2 3
ToStringpp3 ;
(pp; <
)pp< =
;pp= >
msqq 
.qq 
Passwordqq 
=qq 
drqq 
[qq 
$strqq '
]qq' (
.qq( )
ToStringqq) 1
(qq1 2
)qq2 3
.qq3 4
Trimqq4 8
(qq8 9
)qq9 :
;qq: ;
msrr 
.rr  
PorcentajeProntoPagorr #
=rr$ %
utilrr& *
.rr* +

ValDecimalrr+ 5
(rr5 6
drrr6 8
[rr8 9
$strrr9 O
]rrO P
.rrP Q
ToStringrrQ Y
(rrY Z
)rrZ [
)rr[ \
;rr\ ]
msss 
.ss 
PorcentajeRetencionss "
=ss# $
utilss% )
.ss) *

ValDecimalss* 4
(ss4 5
drss5 7
[ss7 8
$strss8 M
]ssM N
.ssN O
ToStringssO W
(ssW X
)ssX Y
)ssY Z
;ssZ [
mstt 
.tt 
PorcentajeSnptt 
=tt 
utiltt #
.tt# $

ValDecimaltt$ .
(tt. /
drtt/ 1
[tt1 2
$strtt2 A
]ttA B
.ttB C
ToStringttC K
(ttK L
)ttL M
)ttM N
;ttN O
msuu 
.uu 
PorcentajeSppuu 
=uu 
utiluu #
.uu# $

ValDecimaluu$ .
(uu. /
druu/ 1
[uu1 2
$struu2 A
]uuA B
.uuB C
ToStringuuC K
(uuK L
)uuL M
)uuM N
;uuN O
msvv 
.vv 
Rucvv 
=vv 
drvv 
[vv 
$strvv 
]vv 
.vv 
ToStringvv '
(vv' (
)vv( )
.vv) *
Trimvv* .
(vv. /
)vv/ 0
;vv0 1
msww 
.ww 
Sexoww 
=ww 
drww 
[ww 
$strww 
]ww  
.ww  !
ToStringww! )
(ww) *
)ww* +
.ww+ ,
Trimww, 0
(ww0 1
)ww1 2
;ww2 3
msxx 
.xx 
Telefonoxx 
=xx 
drxx 
[xx 
$strxx '
]xx' (
.xx( )
ToStringxx) 1
(xx1 2
)xx2 3
.xx3 4
Trimxx4 8
(xx8 9
)xx9 :
;xx: ;
msyy 
.yy 

TipColegioyy 
=yy 
dryy 
[yy 
$stryy ,
]yy, -
.yy- .
ToStringyy. 6
(yy6 7
)yy7 8
.yy8 9
Trimyy9 =
(yy= >
)yy> ?
;yy? @
mszz 
.zz 
TipDocEmitezz 
=zz 
drzz 
[zz  
$strzz  .
]zz. /
.zz/ 0
ToStringzz0 8
(zz8 9
)zz9 :
.zz: ;
Trimzz; ?
(zz? @
)zz@ A
;zzA B
ms{{ 
.{{ 
TipDocIdentidad{{ 
={{  
dr{{! #
[{{# $
$str{{$ 5
]{{5 6
.{{6 7
ToString{{7 ?
({{? @
){{@ A
.{{A B
Trim{{B F
({{F G
){{G H
;{{H I
ms|| 
.|| 
Urlweb|| 
=|| 
dr|| 
[|| 
$str|| #
]||# $
.||$ %
ToString||% -
(||- .
)||. /
;||/ 0
ms}} 
.}} 
FlagBaja}} 
=}} 
bool}} 
.}} 
Parse}} $
(}}$ %
dr}}% '
[}}' (
$str}}( 2
]}}2 3
.}}3 4
ToString}}4 <
(}}< =
)}}= >
)}}> ?
;}}? @
ms~~ 
.~~ 
FlgTieneHorario~~ 
=~~  
bool~~! %
.~~% &
Parse~~& +
(~~+ ,
dr~~, .
[~~. /
$str~~/ B
]~~B C
.~~C D
ToString~~D L
(~~L M
)~~M N
)~~N O
;~~O P
ms 
.  
MensajePersonalizado #
=$ %
dr& (
[( )
$str) ?
]? @
.@ A
ToStringA I
(I J
)J K
.K L
TrimL P
(P Q
)Q R
;R S
ms
ÄÄ 
.
ÄÄ  
TelefonoSecretaria
ÄÄ !
=
ÄÄ" #
dr
ÄÄ$ &
[
ÄÄ& '
$str
ÄÄ' ;
]
ÄÄ; <
.
ÄÄ< =
ToString
ÄÄ= E
(
ÄÄE F
)
ÄÄF G
.
ÄÄG H
Trim
ÄÄH L
(
ÄÄL M
)
ÄÄM N
;
ÄÄN O
ms
ÅÅ 
.
ÅÅ 
PalabraClave
ÅÅ 
=
ÅÅ 
dr
ÅÅ  
[
ÅÅ  !
$str
ÅÅ! /
]
ÅÅ/ 0
.
ÅÅ0 1
ToString
ÅÅ1 9
(
ÅÅ9 :
)
ÅÅ: ;
.
ÅÅ; <
Trim
ÅÅ< @
(
ÅÅ@ A
)
ÅÅA B
;
ÅÅB C
return
ÇÇ 
ms
ÇÇ 
;
ÇÇ 
}
ÉÉ 	
public
áá 
MedicoE
áá ,
Sp_Medico_ConsultaPorCodMedico
áá 5
(
áá5 6
string
áá6 <

_codmedico
áá= G
)
ááG H
{
àà 	
IDataReader
ââ 
dr
ââ 
;
ââ 
MedicoE
ää 
oMedicoE
ää 
=
ää 
new
ää "
MedicoE
ää# *
(
ää* +
)
ää+ ,
;
ää, -
oMedicoE
ãã 
.
ãã 
FechaIngreso
ãã !
=
ãã" #
DateTime
ãã$ ,
.
ãã, -
Now
ãã- 0
;
ãã0 1
List
çç 
<
çç 
MedicosE
çç 
>
çç 
oListar
çç "
=
çç# $
new
çç% (
List
çç) -
<
çç- .
MedicosE
çç. 6
>
çç6 7
(
çç7 8
)
çç8 9
;
çç9 :
try
éé 
{
èè 
using
êê 
(
êê 
SqlConnection
êê $
cnn
êê% (
=
êê) *
new
êê+ .
SqlConnection
êê/ <
(
êê< =
VariablesGlobales
êê= N
.
êêN O

CnnClinica
êêO Y
)
êêY Z
)
êêZ [
{
ëë 
using
íí 
(
íí 

SqlCommand
íí %
cmd
íí& )
=
íí* +
new
íí, /

SqlCommand
íí0 :
(
íí: ;
$str
íí; [
,
íí[ \
cnn
íí] `
)
íí` a
)
íía b
{
ìì 
cmd
îî 
.
îî 
CommandType
îî '
=
îî( )
CommandType
îî* 5
.
îî5 6
StoredProcedure
îî6 E
;
îîE F
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 @
,
ññ@ A

_codmedico
ññB L
)
ññL M
;
ññM N
cnn
óó 
.
óó 
Open
óó  
(
óó  !
)
óó! "
;
óó" #
dr
òò 
=
òò 
cmd
òò  
.
òò  !
ExecuteReader
òò! .
(
òò. /
)
òò/ 0
;
òò0 1
if
ôô 
(
ôô 
dr
ôô 
.
ôô 
Read
ôô #
(
ôô# $
)
ôô$ %
)
ôô% &
{
öö 
oMedicoE
õõ $
=
õõ% &!
LlenarEntidadMedico
õõ' :
(
õõ: ;
dr
õõ; =
)
õõ= >
;
õõ> ?
}
úú 
dr
ùù 
.
ùù 
Close
ùù  
(
ùù  !
)
ùù! "
;
ùù" #
dr
ûû 
.
ûû 
Dispose
ûû "
(
ûû" #
)
ûû# $
;
ûû$ %
cmd
üü 
.
üü 
Dispose
üü #
(
üü# $
)
üü$ %
;
üü% &
cnn
†† 
.
†† 
Close
†† !
(
††! "
)
††" #
;
††# $
cnn
°° 
.
°° 
Dispose
°° #
(
°°# $
)
°°$ %
;
°°% &
return
££ 
oMedicoE
££ '
;
££' (
}
§§ 
}
•• 
}
¶¶ 
catch
ßß 
(
ßß 
	Exception
ßß 
ex
ßß 
)
ßß  
{
®® 
throw
©© 
new
©© 
	Exception
©© #
(
©©# $
ex
©©$ &
.
©©& '
Message
©©' .
)
©©. /
;
©©/ 0
}
™™ 
}
´´ 	
private
≠≠ 
MedicosE
≠≠ 
LlenarEntidad
≠≠ &
(
≠≠& '
IDataReader
≠≠' 2
dr
≠≠3 5
,
≠≠5 6
int
≠≠7 :
pOrden
≠≠; A
)
≠≠A B
{
ÆÆ 	
MedicosE
ØØ 
	oMedicosE
ØØ 
=
ØØ  
new
ØØ! $
MedicosE
ØØ% -
(
ØØ- .
)
ØØ. /
;
ØØ/ 0
switch
±± 
(
±± 
pOrden
±± 
)
±± 
{
≤≤ 
case
≥≥ 
-
≥≥ 
$num
≥≥ 
:
≥≥ 
{
¥¥ 
	oMedicosE
µµ !
.
µµ! "
	CodMedico
µµ" +
=
µµ, -
(
µµ. /
string
µµ/ 5
)
µµ5 6
dr
µµ6 8
[
µµ8 9
$str
µµ9 D
]
µµD E
+
µµF G
$str
µµH J
;
µµJ K
	oMedicosE
∂∂ !
.
∂∂! "
NombresMedico
∂∂" /
=
∂∂0 1
(
∂∂2 3
string
∂∂3 9
)
∂∂9 :
(
∂∂: ;
dr
∂∂; =
[
∂∂= >
$str
∂∂> G
]
∂∂G H
+
∂∂I J
$str
∂∂K M
)
∂∂M N
.
∂∂N O
Trim
∂∂O S
(
∂∂S T
)
∂∂T U
;
∂∂U V
	oMedicosE
∏∏ !
.
∏∏! "
FlgTeleConsulta
∏∏" 1
=
∏∏2 3
(
∏∏4 5
string
∏∏5 ;
)
∏∏; <
dr
∏∏< >
[
∏∏> ?
$str
∏∏? Q
]
∏∏Q R
+
∏∏S T
$str
∏∏U W
;
∏∏W X
	oMedicosE
ππ !
.
ππ! "
FlgTeleConsulta
ππ" 1
=
ππ2 3
(
ππ4 5
string
ππ5 ;
)
ππ; <
(
ππ< =
	oMedicosE
ππ= F
.
ππF G
FlgTeleConsulta
ππG V
==
ππW Y
$str
ππZ \
?
ππ] ^
$str
ππ_ f
:
ππg h
$str
ππi o
)
ππo p
;
ππp q
	oMedicosE
∫∫ !
.
∫∫! "
FlgPresencialJM
∫∫" 1
=
∫∫2 3
(
∫∫4 5
string
∫∫5 ;
)
∫∫; <
dr
∫∫< >
[
∫∫> ?
$str
∫∫? R
]
∫∫R S
+
∫∫T U
$str
∫∫V X
;
∫∫X Y
	oMedicosE
ªª !
.
ªª! "
FlgPresencialJM
ªª" 1
=
ªª2 3
(
ªª4 5
string
ªª5 ;
)
ªª; <
(
ªª< =
	oMedicosE
ªª= F
.
ªªF G
FlgPresencialJM
ªªG V
==
ªªW Y
$str
ªªZ \
?
ªª] ^
$str
ªª_ f
:
ªªg h
$str
ªªi o
)
ªªo p
;
ªªp q
	oMedicosE
ºº !
.
ºº! "
FlgPresencialCM
ºº" 1
=
ºº2 3
(
ºº4 5
string
ºº5 ;
)
ºº; <
dr
ºº< >
[
ºº> ?
$str
ºº? R
]
ººR S
+
ººT U
$str
ººV X
;
ººX Y
	oMedicosE
ΩΩ !
.
ΩΩ! "
FlgPresencialCM
ΩΩ" 1
=
ΩΩ2 3
(
ΩΩ4 5
string
ΩΩ5 ;
)
ΩΩ; <
(
ΩΩ< =
	oMedicosE
ΩΩ= F
.
ΩΩF G
FlgPresencialCM
ΩΩG V
==
ΩΩW Y
$str
ΩΩZ \
?
ΩΩ] ^
$str
ΩΩ_ f
:
ΩΩg h
$str
ΩΩi o
)
ΩΩo p
;
ΩΩp q
	oMedicosE
ææ !
.
ææ! "
FlgPresencialLM
ææ" 1
=
ææ2 3
(
ææ4 5
string
ææ5 ;
)
ææ; <
dr
ææ< >
[
ææ> ?
$str
ææ? R
]
ææR S
+
ææT U
$str
ææV X
;
ææX Y
	oMedicosE
øø !
.
øø! "
FlgPresencialLM
øø" 1
=
øø2 3
(
øø4 5
string
øø5 ;
)
øø; <
(
øø< =
	oMedicosE
øø= F
.
øøF G
FlgPresencialLM
øøG V
==
øøW Y
$str
øøZ \
?
øø] ^
$str
øø_ f
:
øøg h
$str
øøi o
)
øøo p
;
øøp q
	oMedicosE
¡¡ !
.
¡¡! "
CodTipoConsulta
¡¡" 1
=
¡¡2 3
(
¡¡4 5
string
¡¡5 ;
)
¡¡; <
dr
¡¡< >
[
¡¡> ?
$str
¡¡? R
]
¡¡R S
+
¡¡T U
$str
¡¡V X
;
¡¡X Y
	oMedicosE
√√ !
.
√√! "
CodProfMedisyn
√√" 0
=
√√1 2
(
√√3 4
string
√√4 :
)
√√: ;
dr
√√; =
[
√√= >
$str
√√> P
]
√√P Q
+
√√R S
$str
√√T V
;
√√V W
	oMedicosE
ƒƒ !
.
ƒƒ! "
	ColMedico
ƒƒ" +
=
ƒƒ, -
(
ƒƒ. /
string
ƒƒ/ 5
)
ƒƒ5 6
dr
ƒƒ6 8
[
ƒƒ8 9
$str
ƒƒ9 D
]
ƒƒD E
+
ƒƒF G
$str
ƒƒH J
;
ƒƒJ K
break
≈≈ 
;
≈≈ 
}
∆∆ 
case
»» 
$num
»» 
:
»» 
{
…… 
	oMedicosE
   !
.
  ! "
	CodMedico
  " +
=
  , -
(
  . /
string
  / 5
)
  5 6
dr
  6 8
[
  8 9
$str
  9 D
]
  D E
+
  F G
$str
  H J
;
  J K
	oMedicosE
ÀÀ !
.
ÀÀ! "
NombresMedico
ÀÀ" /
=
ÀÀ0 1
(
ÀÀ2 3
string
ÀÀ3 9
)
ÀÀ9 :
(
ÀÀ: ;
dr
ÀÀ; =
[
ÀÀ= >
$str
ÀÀ> G
]
ÀÀG H
+
ÀÀI J
$str
ÀÀK M
)
ÀÀM N
.
ÀÀN O
Trim
ÀÀO S
(
ÀÀS T
)
ÀÀT U
;
ÀÀU V
	oMedicosE
ÕÕ !
.
ÕÕ! "
FlgTeleConsulta
ÕÕ" 1
=
ÕÕ2 3
(
ÕÕ4 5
string
ÕÕ5 ;
)
ÕÕ; <
dr
ÕÕ< >
[
ÕÕ> ?
$str
ÕÕ? Q
]
ÕÕQ R
+
ÕÕS T
$str
ÕÕU W
;
ÕÕW X
	oMedicosE
ŒŒ !
.
ŒŒ! "
FlgTeleConsulta
ŒŒ" 1
=
ŒŒ2 3
(
ŒŒ4 5
string
ŒŒ5 ;
)
ŒŒ; <
(
ŒŒ< =
	oMedicosE
ŒŒ= F
.
ŒŒF G
FlgTeleConsulta
ŒŒG V
==
ŒŒW Y
$str
ŒŒZ \
?
ŒŒ] ^
$str
ŒŒ_ f
:
ŒŒg h
$str
ŒŒi o
)
ŒŒo p
;
ŒŒp q
	oMedicosE
–– !
.
––! "
FlgPresencialJM
––" 1
=
––2 3
(
––4 5
string
––5 ;
)
––; <
dr
––< >
[
––> ?
$str
––? R
]
––R S
+
––T U
$str
––V X
;
––X Y
	oMedicosE
—— !
.
——! "
FlgPresencialJM
——" 1
=
——2 3
(
——4 5
string
——5 ;
)
——; <
(
——< =
	oMedicosE
——= F
.
——F G
FlgPresencialJM
——G V
==
——W Y
$str
——Z \
?
——] ^
$str
——_ f
:
——g h
$str
——i o
)
——o p
;
——p q
	oMedicosE
”” !
.
””! "
FlgPresencialCM
””" 1
=
””2 3
(
””4 5
string
””5 ;
)
””; <
dr
””< >
[
””> ?
$str
””? R
]
””R S
+
””T U
$str
””V X
;
””X Y
	oMedicosE
‘‘ !
.
‘‘! "
FlgPresencialCM
‘‘" 1
=
‘‘2 3
(
‘‘4 5
string
‘‘5 ;
)
‘‘; <
(
‘‘< =
	oMedicosE
‘‘= F
.
‘‘F G
FlgPresencialCM
‘‘G V
==
‘‘W Y
$str
‘‘Z \
?
‘‘] ^
$str
‘‘_ f
:
‘‘g h
$str
‘‘i o
)
‘‘o p
;
‘‘p q
	oMedicosE
÷÷ !
.
÷÷! "
FlgPresencialLM
÷÷" 1
=
÷÷2 3
(
÷÷4 5
string
÷÷5 ;
)
÷÷; <
dr
÷÷< >
[
÷÷> ?
$str
÷÷? R
]
÷÷R S
+
÷÷T U
$str
÷÷V X
;
÷÷X Y
	oMedicosE
◊◊ !
.
◊◊! "
FlgPresencialLM
◊◊" 1
=
◊◊2 3
(
◊◊4 5
string
◊◊5 ;
)
◊◊; <
(
◊◊< =
	oMedicosE
◊◊= F
.
◊◊F G
FlgPresencialLM
◊◊G V
==
◊◊W Y
$str
◊◊Z \
?
◊◊] ^
$str
◊◊_ f
:
◊◊g h
$str
◊◊i o
)
◊◊o p
;
◊◊p q
	oMedicosE
ŸŸ !
.
ŸŸ! "
CodTipoConsulta
ŸŸ" 1
=
ŸŸ2 3
(
ŸŸ4 5
string
ŸŸ5 ;
)
ŸŸ; <
dr
ŸŸ< >
[
ŸŸ> ?
$str
ŸŸ? R
]
ŸŸR S
+
ŸŸT U
$str
ŸŸV X
;
ŸŸX Y
	oMedicosE
€€ !
.
€€! "
CodProfMedisyn
€€" 0
=
€€1 2
(
€€3 4
string
€€4 :
)
€€: ;
dr
€€; =
[
€€= >
$str
€€> P
]
€€P Q
+
€€R S
$str
€€T V
;
€€V W
	oMedicosE
‹‹ !
.
‹‹! "
	ColMedico
‹‹" +
=
‹‹, -
(
‹‹. /
string
‹‹/ 5
)
‹‹5 6
dr
‹‹6 8
[
‹‹8 9
$str
‹‹9 D
]
‹‹D E
+
‹‹F G
$str
‹‹H J
;
‹‹J K
	oMedicosE
ﬁﬁ !
.
ﬁﬁ! "!
MntTarifaParticular
ﬁﬁ" 5
=
ﬁﬁ6 7
(
ﬁﬁ8 9
string
ﬁﬁ9 ?
)
ﬁﬁ? @
dr
ﬁﬁ@ B
[
ﬁﬁB C
$str
ﬁﬁC Z
]
ﬁﬁZ [
;
ﬁﬁ[ \
	oMedicosE
ﬂﬂ !
.
ﬂﬂ! "+
DscObservacionSubEspecialidad
ﬂﬂ" ?
=
ﬂﬂ@ A
(
ﬂﬂB C
string
ﬂﬂC I
)
ﬂﬂI J
dr
ﬂﬂJ L
[
ﬂﬂL M
$str
ﬂﬂM o
]
ﬂﬂo p
+
ﬂﬂq r
$str
ﬂﬂs u
;
ﬂﬂu v
	oMedicosE
‡‡ !
.
‡‡! "
DscEmail
‡‡" *
=
‡‡+ ,
(
‡‡- .
string
‡‡. 4
)
‡‡4 5
(
‡‡5 6
dr
‡‡6 8
[
‡‡8 9
$str
‡‡9 @
]
‡‡@ A
+
‡‡B C
$str
‡‡D F
)
‡‡F G
.
‡‡G H
Trim
‡‡H L
(
‡‡L M
)
‡‡M N
;
‡‡N O
break
·· 
;
·· 
}
‚‚ 
case
‰‰ 
$num
‰‰ 
:
‰‰ 
{
ÂÂ 
	oMedicosE
ÊÊ !
.
ÊÊ! "
	CodMedico
ÊÊ" +
=
ÊÊ, -
(
ÊÊ. /
string
ÊÊ/ 5
)
ÊÊ5 6
dr
ÊÊ6 8
[
ÊÊ8 9
$str
ÊÊ9 D
]
ÊÊD E
+
ÊÊF G
$str
ÊÊH J
;
ÊÊJ K
	oMedicosE
ÁÁ !
.
ÁÁ! "
NombresMedico
ÁÁ" /
=
ÁÁ0 1
(
ÁÁ2 3
string
ÁÁ3 9
)
ÁÁ9 :
(
ÁÁ: ;
dr
ÁÁ; =
[
ÁÁ= >
$str
ÁÁ> G
]
ÁÁG H
+
ÁÁI J
$str
ÁÁK M
)
ÁÁM N
.
ÁÁN O
Trim
ÁÁO S
(
ÁÁS T
)
ÁÁT U
;
ÁÁU V
break
˜˜ 
;
˜˜ 
}
¯¯ 
case
˙˙ 
$num
˙˙ 
:
˙˙ 
{
˚˚ 
	oMedicosE
¸¸ !
.
¸¸! "
	CodMedico
¸¸" +
=
¸¸, -
(
¸¸. /
string
¸¸/ 5
)
¸¸5 6
dr
¸¸6 8
[
¸¸8 9
$str
¸¸9 D
]
¸¸D E
+
¸¸F G
$str
¸¸H J
;
¸¸J K
	oMedicosE
˝˝ !
.
˝˝! "
CodProfMedisyn
˝˝" 0
=
˝˝1 2
(
˝˝3 4
string
˝˝4 :
)
˝˝: ;
dr
˝˝; =
[
˝˝= >
$str
˝˝> P
]
˝˝P Q
+
˝˝R S
$str
˝˝T V
;
˝˝V W
	oMedicosE
˛˛ !
.
˛˛! "
CodTipoConsulta
˛˛" 1
=
˛˛2 3
(
˛˛4 5
string
˛˛5 ;
)
˛˛; <
dr
˛˛< >
[
˛˛> ?
$str
˛˛? R
]
˛˛R S
+
˛˛T U
$str
˛˛V X
;
˛˛X Y
	oMedicosE
ˇˇ !
.
ˇˇ! "+
DscObservacionSubEspecialidad
ˇˇ" ?
=
ˇˇ@ A
dr
ˇˇB D
[
ˇˇD E
$str
ˇˇE g
]
ˇˇg h
+
ˇˇi j
$str
ˇˇk m
;
ˇˇm n
	oMedicosE
ÄÄ !
.
ÄÄ! "
DscTituloTarifa
ÄÄ" 1
=
ÄÄ2 3
(
ÄÄ4 5
string
ÄÄ5 ;
)
ÄÄ; <
dr
ÄÄ< >
[
ÄÄ> ?
$str
ÄÄ? R
]
ÄÄR S
+
ÄÄT U
$str
ÄÄV X
;
ÄÄX Y
	oMedicosE
ÅÅ !
.
ÅÅ! "!
MntTarifaParticular
ÅÅ" 5
=
ÅÅ6 7
dr
ÅÅ8 :
[
ÅÅ: ;
$str
ÅÅ; R
]
ÅÅR S
.
ÅÅS T
ToString
ÅÅT \
(
ÅÅ\ ]
)
ÅÅ] ^
;
ÅÅ^ _
	oMedicosE
ÇÇ !
.
ÇÇ! "
	TipMoneda
ÇÇ" +
=
ÇÇ, -
(
ÇÇ. /
string
ÇÇ/ 5
)
ÇÇ5 6
dr
ÇÇ6 8
[
ÇÇ8 9
$str
ÇÇ9 E
]
ÇÇE F
+
ÇÇG H
$str
ÇÇI K
;
ÇÇK L
	oMedicosE
ÉÉ !
.
ÉÉ! " 
TipoConsultaMedica
ÉÉ" 4
=
ÉÉ5 6
(
ÉÉ7 8
string
ÉÉ8 >
)
ÉÉ> ?
dr
ÉÉ? A
[
ÉÉA B
$str
ÉÉB U
]
ÉÉU V
+
ÉÉW X
$str
ÉÉY [
;
ÉÉ[ \
break
ÑÑ 
;
ÑÑ 
}
ÖÖ 
case
áá 
$num
áá 
:
áá 
{
àà 
	oMedicosE
ââ !
.
ââ! "
	CodMedico
ââ" +
=
ââ, -
(
ââ. /
string
ââ/ 5
)
ââ5 6
dr
ââ6 8
[
ââ8 9
$str
ââ9 D
]
ââD E
+
ââF G
$str
ââH J
;
ââJ K
	oMedicosE
ää !
.
ää! "
CodProfMedisyn
ää" 0
=
ää1 2
(
ää3 4
string
ää4 :
)
ää: ;
dr
ää; =
[
ää= >
$str
ää> P
]
ääP Q
+
ääR S
$str
ääT V
;
ääV W
break
ãã 
;
ãã 
}
åå 
case
éé 
$num
éé 
:
éé 
{
èè 
	oMedicosE
êê !
.
êê! "
	CodMedico
êê" +
=
êê, -
(
êê. /
string
êê/ 5
)
êê5 6
dr
êê6 8
[
êê8 9
$str
êê9 D
]
êêD E
+
êêF G
$str
êêH J
;
êêJ K
	oMedicosE
ëë !
.
ëë! "
NombreComercial
ëë" 1
=
ëë2 3
dr
ëë4 6
[
ëë6 7
$str
ëë7 I
]
ëëI J
!=
ëëK M
DBNull
ëëN T
.
ëëT U
Value
ëëU Z
?
ëë[ \
(
ëë] ^
string
ëë^ d
)
ëëd e
dr
ëëe g
[
ëëg h
$str
ëëh z
]
ëëz {
:
ëë| }
$strëë~ Ä
;ëëÄ Å
	oMedicosE
íí !
.
íí! "
NombresMedico
íí" /
=
íí0 1
(
íí2 3
string
íí3 9
)
íí9 :
dr
íí: <
[
íí< =
$str
íí= F
]
ííF G
+
ííH I
$str
ííJ L
;
ííL M
	oMedicosE
ìì !
.
ìì! "
	ColMedico
ìì" +
=
ìì, -
(
ìì. /
string
ìì/ 5
)
ìì5 6
dr
ìì6 8
[
ìì8 9
$str
ìì9 >
]
ìì> ?
+
ìì@ A
$str
ììB D
;
ììD E
break
ïï 
;
ïï 
}
ññ 
case
òò 
$num
òò 
:
òò 
{
ôô 
	oMedicosE
öö !
.
öö! "
	CodMedico
öö" +
=
öö, -
(
öö. /
string
öö/ 5
)
öö5 6
dr
öö6 8
[
öö8 9
$str
öö9 D
]
ööD E
+
ööF G
$str
ööH J
;
ööJ K
	oMedicosE
õõ !
.
õõ! "
CodProfMedisyn
õõ" 0
=
õõ1 2
(
õõ3 4
string
õõ4 :
)
õõ: ;
dr
õõ; =
[
õõ= >
$str
õõ> P
]
õõP Q
+
õõR S
$str
õõT V
;
õõV W
break
úú 
;
úú 
}
ùù 
case
üü 
$num
üü 
:
üü 
{
†† 
	oMedicosE
°° !
.
°°! "
	CodMedico
°°" +
=
°°, -
(
°°. /
string
°°/ 5
)
°°5 6
dr
°°6 8
[
°°8 9
$str
°°9 D
]
°°D E
+
°°F G
$str
°°H J
;
°°J K
	oMedicosE
¢¢ !
.
¢¢! "
CodProfMedisyn
¢¢" 0
=
¢¢1 2
(
¢¢3 4
string
¢¢4 :
)
¢¢: ;
dr
¢¢; =
[
¢¢= >
$str
¢¢> P
]
¢¢P Q
+
¢¢R S
$str
¢¢T V
;
¢¢V W
break
££ 
;
££ 
}
§§ 
case
¶¶ 
$num
¶¶ 
:
¶¶ 
{
ßß 
	oMedicosE
®® !
.
®®! "
	CodMedico
®®" +
=
®®, -
(
®®. /
string
®®/ 5
)
®®5 6
dr
®®6 8
[
®®8 9
$str
®®9 D
]
®®D E
+
®®F G
$str
®®H J
;
®®J K
	oMedicosE
©© !
.
©©! "
NombresMedico
©©" /
=
©©0 1
(
©©2 3
string
©©3 9
)
©©9 :
(
©©: ;
dr
©©; =
[
©©= >
$str
©©> G
]
©©G H
+
©©I J
$str
©©K M
)
©©M N
.
©©N O
Trim
©©O S
(
©©S T
)
©©T U
;
©©U V
	oMedicosE
™™ !
.
™™! "
DocIdentidad
™™" .
=
™™/ 0
(
™™1 2
string
™™2 8
)
™™8 9
(
™™9 :
dr
™™: <
[
™™< =
$str
™™= K
]
™™K L
+
™™M N
$str
™™O Q
)
™™Q R
.
™™R S
Trim
™™S W
(
™™W X
)
™™X Y
;
™™Y Z
break
´´ 
;
´´ 
}
¨¨ 
case
ÆÆ 
$num
ÆÆ 
:
ÆÆ 
{
ØØ 
	oMedicosE
∞∞ !
.
∞∞! "
	CodMedico
∞∞" +
=
∞∞, -
(
∞∞. /
string
∞∞/ 5
)
∞∞5 6
dr
∞∞6 8
[
∞∞8 9
$str
∞∞9 D
]
∞∞D E
+
∞∞F G
$str
∞∞H J
;
∞∞J K
break
±± 
;
±± 
}
≤≤ 
case
≥≥ 
$num
≥≥ 
:
≥≥ 
{
¥¥ 
	oMedicosE
µµ !
.
µµ! "
	CodMedico
µµ" +
=
µµ, -
Convert
µµ. 5
.
µµ5 6
ToString
µµ6 >
(
µµ> ?
dr
µµ? A
[
µµA B
$str
µµB M
]
µµM N
)
µµN O
;
µµO P
	oMedicosE
∂∂ !
.
∂∂! "
NombresMedico
∂∂" /
=
∂∂0 1
Convert
∂∂2 9
.
∂∂9 :
ToString
∂∂: B
(
∂∂B C
dr
∂∂C E
[
∂∂E F
$str
∂∂F O
]
∂∂O P
)
∂∂P Q
;
∂∂Q R
	oMedicosE
∑∑ !
.
∑∑! "
	ColMedico
∑∑" +
=
∑∑, -
Convert
∑∑. 5
.
∑∑5 6
ToString
∑∑6 >
(
∑∑> ?
dr
∑∑? A
[
∑∑A B
$str
∑∑B M
]
∑∑M N
)
∑∑N O
;
∑∑O P
	oMedicosE
∏∏ !
.
∏∏! "
DocIdentidad
∏∏" .
=
∏∏/ 0
Convert
∏∏1 8
.
∏∏8 9
ToString
∏∏9 A
(
∏∏A B
dr
∏∏B D
[
∏∏D E
$str
∏∏E S
]
∏∏S T
)
∏∏T U
;
∏∏U V
	oMedicosE
ππ !
.
ππ! "
Ruc
ππ" %
=
ππ& '
Convert
ππ( /
.
ππ/ 0
ToString
ππ0 8
(
ππ8 9
dr
ππ9 ;
[
ππ; <
$str
ππ< A
]
ππA B
)
ππB C
;
ππC D
	oMedicosE
∫∫ !
.
∫∫! "
DscEmail
∫∫" *
=
∫∫+ ,
Convert
∫∫- 4
.
∫∫4 5
ToString
∫∫5 =
(
∫∫= >
dr
∫∫> @
[
∫∫@ A
$str
∫∫A H
]
∫∫H I
)
∫∫I J
;
∫∫J K
	oMedicosE
ªª !
.
ªª! "+
DscObservacionSubEspecialidad
ªª" ?
=
ªª@ A
Convert
ªªB I
.
ªªI J
ToString
ªªJ R
(
ªªR S
dr
ªªS U
[
ªªU V
$str
ªªV x
]
ªªx y
)
ªªy z
;
ªªz {
	oMedicosE
ΩΩ !
.
ΩΩ! "
FlgTeleConsulta
ΩΩ" 1
=
ΩΩ2 3
Convert
ΩΩ4 ;
.
ΩΩ; <
ToString
ΩΩ< D
(
ΩΩD E
dr
ΩΩE G
[
ΩΩG H
$str
ΩΩH Z
]
ΩΩZ [
)
ΩΩ[ \
;
ΩΩ\ ]
	oMedicosE
ææ !
.
ææ! "
FlgTeleConsulta
ææ" 1
=
ææ2 3
(
ææ4 5
string
ææ5 ;
)
ææ; <
(
ææ< =
	oMedicosE
ææ= F
.
ææF G
FlgTeleConsulta
ææG V
==
ææW Y
$str
ææZ \
?
ææ] ^
$str
ææ_ f
:
ææg h
$str
ææi o
)
ææo p
;
ææp q
	oMedicosE
¿¿ !
.
¿¿! "
FlgPresencialJM
¿¿" 1
=
¿¿2 3
Convert
¿¿4 ;
.
¿¿; <
ToString
¿¿< D
(
¿¿D E
dr
¿¿E G
[
¿¿G H
$str
¿¿H [
]
¿¿[ \
)
¿¿\ ]
;
¿¿] ^
	oMedicosE
¡¡ !
.
¡¡! "
FlgPresencialJM
¡¡" 1
=
¡¡2 3
(
¡¡4 5
string
¡¡5 ;
)
¡¡; <
(
¡¡< =
	oMedicosE
¡¡= F
.
¡¡F G
FlgPresencialJM
¡¡G V
==
¡¡W Y
$str
¡¡Z \
?
¡¡] ^
$str
¡¡_ f
:
¡¡g h
$str
¡¡i o
)
¡¡o p
;
¡¡p q
	oMedicosE
√√ !
.
√√! "
FlgPresencialCM
√√" 1
=
√√2 3
Convert
√√4 ;
.
√√; <
ToString
√√< D
(
√√D E
dr
√√E G
[
√√G H
$str
√√H [
]
√√[ \
)
√√\ ]
;
√√] ^
	oMedicosE
ƒƒ !
.
ƒƒ! "
FlgPresencialCM
ƒƒ" 1
=
ƒƒ2 3
(
ƒƒ4 5
string
ƒƒ5 ;
)
ƒƒ; <
(
ƒƒ< =
	oMedicosE
ƒƒ= F
.
ƒƒF G
FlgPresencialCM
ƒƒG V
==
ƒƒW Y
$str
ƒƒZ \
?
ƒƒ] ^
$str
ƒƒ_ f
:
ƒƒg h
$str
ƒƒi o
)
ƒƒo p
;
ƒƒp q
	oMedicosE
∆∆ !
.
∆∆! "
FlgPresencialLM
∆∆" 1
=
∆∆2 3
Convert
∆∆4 ;
.
∆∆; <
ToString
∆∆< D
(
∆∆D E
dr
∆∆E G
[
∆∆G H
$str
∆∆H [
]
∆∆[ \
)
∆∆\ ]
;
∆∆] ^
	oMedicosE
«« !
.
««! "
FlgPresencialLM
««" 1
=
««2 3
(
««4 5
string
««5 ;
)
««; <
(
««< =
	oMedicosE
««= F
.
««F G
FlgPresencialLM
««G V
==
««W Y
$str
««Z \
?
««] ^
$str
««_ f
:
««g h
$str
««i o
)
««o p
;
««p q
	oMedicosE
…… !
.
……! "!
MntTarifaParticular
……" 5
=
……6 7
Convert
……8 ?
.
……? @
ToString
……@ H
(
……H I
dr
……I K
[
……K L
$str
……L c
]
……c d
)
……d e
;
……e f
	oMedicosE
   !
.
  ! "
CodProfMedisyn
  " 0
=
  1 2
Convert
  3 :
.
  : ;
ToString
  ; C
(
  C D
dr
  D F
[
  F G
$str
  G Y
]
  Y Z
)
  Z [
;
  [ \
	oMedicosE
ÀÀ !
.
ÀÀ! "
CodTipoConsulta
ÀÀ" 1
=
ÀÀ2 3
Convert
ÀÀ4 ;
.
ÀÀ; <
ToString
ÀÀ< D
(
ÀÀD E
dr
ÀÀE G
[
ÀÀG H
$str
ÀÀH [
]
ÀÀ[ \
)
ÀÀ\ ]
;
ÀÀ] ^
	oMedicosE
ÃÃ !
.
ÃÃ! "
TipDocIdentidad
ÃÃ" 1
=
ÃÃ2 3
Convert
ÃÃ4 ;
.
ÃÃ; <
ToString
ÃÃ< D
(
ÃÃD E
dr
ÃÃE G
[
ÃÃG H
$str
ÃÃH Y
]
ÃÃY Z
)
ÃÃZ [
;
ÃÃ[ \
	oMedicosE
ÕÕ !
.
ÕÕ! "
DscDocIdentidad
ÕÕ" 1
=
ÕÕ2 3
Convert
ÕÕ4 ;
.
ÕÕ; <
ToString
ÕÕ< D
(
ÕÕD E
dr
ÕÕE G
[
ÕÕG H
$str
ÕÕH Z
]
ÕÕZ [
)
ÕÕ[ \
;
ÕÕ\ ]
	oMedicosE
ŒŒ !
.
ŒŒ! "
TipoColegio
ŒŒ" -
=
ŒŒ. /
Convert
ŒŒ0 7
.
ŒŒ7 8
ToString
ŒŒ8 @
(
ŒŒ@ A
dr
ŒŒA C
[
ŒŒC D
$str
ŒŒD Q
]
ŒŒQ R
)
ŒŒR S
;
ŒŒS T
	oMedicosE
œœ !
.
œœ! "
FechaNacimiento
œœ" 1
=
œœ2 3
util
œœ4 8
.
œœ8 9
ValFecha
œœ9 A
(
œœA B
dr
œœB D
[
œœD E
$str
œœE V
]
œœV W
.
œœW X
ToString
œœX `
(
œœ` a
)
œœa b
)
œœb c
;
œœc d
	oMedicosE
–– !
.
––! "
Telefono
––" *
=
––+ ,
Convert
––- 4
.
––4 5
ToString
––5 =
(
––= >
dr
––> @
[
––@ A
$str
––A K
]
––K L
)
––L M
;
––M N
break
”” 
;
”” 
}
‘‘ 
case
’’ 
$num
’’ 
:
’’ 
{
÷÷ 
	oMedicosE
◊◊ !
.
◊◊! "
	CodMedico
◊◊" +
=
◊◊, -
Convert
◊◊. 5
.
◊◊5 6
ToString
◊◊6 >
(
◊◊> ?
dr
◊◊? A
[
◊◊A B
$str
◊◊B M
]
◊◊M N
)
◊◊N O
;
◊◊O P
	oMedicosE
ÿÿ !
.
ÿÿ! "
NombresMedico
ÿÿ" /
=
ÿÿ0 1
Convert
ÿÿ2 9
.
ÿÿ9 :
ToString
ÿÿ: B
(
ÿÿB C
dr
ÿÿC E
[
ÿÿE F
$str
ÿÿF O
]
ÿÿO P
)
ÿÿP Q
;
ÿÿQ R
	oMedicosE
ŸŸ !
.
ŸŸ! "
	ColMedico
ŸŸ" +
=
ŸŸ, -
Convert
ŸŸ. 5
.
ŸŸ5 6
ToString
ŸŸ6 >
(
ŸŸ> ?
dr
ŸŸ? A
[
ŸŸA B
$str
ŸŸB M
]
ŸŸM N
)
ŸŸN O
;
ŸŸO P
	oMedicosE
⁄⁄ !
.
⁄⁄! "
DocIdentidad
⁄⁄" .
=
⁄⁄/ 0
Convert
⁄⁄1 8
.
⁄⁄8 9
ToString
⁄⁄9 A
(
⁄⁄A B
dr
⁄⁄B D
[
⁄⁄D E
$str
⁄⁄E S
]
⁄⁄S T
)
⁄⁄T U
;
⁄⁄U V
	oMedicosE
€€ !
.
€€! "
Ruc
€€" %
=
€€& '
Convert
€€( /
.
€€/ 0
ToString
€€0 8
(
€€8 9
dr
€€9 ;
[
€€; <
$str
€€< A
]
€€A B
)
€€B C
;
€€C D
	oMedicosE
‹‹ !
.
‹‹! "
DscEmail
‹‹" *
=
‹‹+ ,
Convert
‹‹- 4
.
‹‹4 5
ToString
‹‹5 =
(
‹‹= >
dr
‹‹> @
[
‹‹@ A
$str
‹‹A H
]
‹‹H I
)
‹‹I J
;
‹‹J K
	oMedicosE
›› !
.
››! "+
DscObservacionSubEspecialidad
››" ?
=
››@ A
Convert
››B I
.
››I J
ToString
››J R
(
››R S
dr
››S U
[
››U V
$str
››V x
]
››x y
)
››y z
;
››z {
	oMedicosE
ﬂﬂ !
.
ﬂﬂ! "
FlgTeleConsulta
ﬂﬂ" 1
=
ﬂﬂ2 3
Convert
ﬂﬂ4 ;
.
ﬂﬂ; <
ToString
ﬂﬂ< D
(
ﬂﬂD E
dr
ﬂﬂE G
[
ﬂﬂG H
$str
ﬂﬂH Z
]
ﬂﬂZ [
)
ﬂﬂ[ \
;
ﬂﬂ\ ]
	oMedicosE
‡‡ !
.
‡‡! "
FlgTeleConsulta
‡‡" 1
=
‡‡2 3
(
‡‡4 5
string
‡‡5 ;
)
‡‡; <
(
‡‡< =
	oMedicosE
‡‡= F
.
‡‡F G
FlgTeleConsulta
‡‡G V
==
‡‡W Y
$str
‡‡Z \
?
‡‡] ^
$str
‡‡_ f
:
‡‡g h
$str
‡‡i o
)
‡‡o p
;
‡‡p q
	oMedicosE
‚‚ !
.
‚‚! "
FlgPresencialJM
‚‚" 1
=
‚‚2 3
Convert
‚‚4 ;
.
‚‚; <
ToString
‚‚< D
(
‚‚D E
dr
‚‚E G
[
‚‚G H
$str
‚‚H [
]
‚‚[ \
)
‚‚\ ]
;
‚‚] ^
	oMedicosE
„„ !
.
„„! "
FlgPresencialJM
„„" 1
=
„„2 3
(
„„4 5
string
„„5 ;
)
„„; <
(
„„< =
	oMedicosE
„„= F
.
„„F G
FlgPresencialJM
„„G V
==
„„W Y
$str
„„Z \
?
„„] ^
$str
„„_ f
:
„„g h
$str
„„i o
)
„„o p
;
„„p q
	oMedicosE
ÂÂ !
.
ÂÂ! "
FlgPresencialCM
ÂÂ" 1
=
ÂÂ2 3
Convert
ÂÂ4 ;
.
ÂÂ; <
ToString
ÂÂ< D
(
ÂÂD E
dr
ÂÂE G
[
ÂÂG H
$str
ÂÂH [
]
ÂÂ[ \
)
ÂÂ\ ]
;
ÂÂ] ^
	oMedicosE
ÊÊ !
.
ÊÊ! "
FlgPresencialCM
ÊÊ" 1
=
ÊÊ2 3
(
ÊÊ4 5
string
ÊÊ5 ;
)
ÊÊ; <
(
ÊÊ< =
	oMedicosE
ÊÊ= F
.
ÊÊF G
FlgPresencialCM
ÊÊG V
==
ÊÊW Y
$str
ÊÊZ \
?
ÊÊ] ^
$str
ÊÊ_ f
:
ÊÊg h
$str
ÊÊi o
)
ÊÊo p
;
ÊÊp q
	oMedicosE
ËË !
.
ËË! "
FlgPresencialLM
ËË" 1
=
ËË2 3
Convert
ËË4 ;
.
ËË; <
ToString
ËË< D
(
ËËD E
dr
ËËE G
[
ËËG H
$str
ËËH [
]
ËË[ \
)
ËË\ ]
;
ËË] ^
	oMedicosE
ÈÈ !
.
ÈÈ! "
FlgPresencialLM
ÈÈ" 1
=
ÈÈ2 3
(
ÈÈ4 5
string
ÈÈ5 ;
)
ÈÈ; <
(
ÈÈ< =
	oMedicosE
ÈÈ= F
.
ÈÈF G
FlgPresencialLM
ÈÈG V
==
ÈÈW Y
$str
ÈÈZ \
?
ÈÈ] ^
$str
ÈÈ_ f
:
ÈÈg h
$str
ÈÈi o
)
ÈÈo p
;
ÈÈp q
	oMedicosE
ÎÎ !
.
ÎÎ! "!
MntTarifaParticular
ÎÎ" 5
=
ÎÎ6 7
Convert
ÎÎ8 ?
.
ÎÎ? @
ToString
ÎÎ@ H
(
ÎÎH I
dr
ÎÎI K
[
ÎÎK L
$str
ÎÎL c
]
ÎÎc d
)
ÎÎd e
;
ÎÎe f
	oMedicosE
ÏÏ !
.
ÏÏ! "
CodProfMedisyn
ÏÏ" 0
=
ÏÏ1 2
Convert
ÏÏ3 :
.
ÏÏ: ;
ToString
ÏÏ; C
(
ÏÏC D
dr
ÏÏD F
[
ÏÏF G
$str
ÏÏG Y
]
ÏÏY Z
)
ÏÏZ [
;
ÏÏ[ \
	oMedicosE
ÌÌ !
.
ÌÌ! "
CodTipoConsulta
ÌÌ" 1
=
ÌÌ2 3
Convert
ÌÌ4 ;
.
ÌÌ; <
ToString
ÌÌ< D
(
ÌÌD E
dr
ÌÌE G
[
ÌÌG H
$str
ÌÌH [
]
ÌÌ[ \
)
ÌÌ\ ]
;
ÌÌ] ^
	oMedicosE
ÓÓ !
.
ÓÓ! "
TipDocIdentidad
ÓÓ" 1
=
ÓÓ2 3
Convert
ÓÓ4 ;
.
ÓÓ; <
ToString
ÓÓ< D
(
ÓÓD E
dr
ÓÓE G
[
ÓÓG H
$str
ÓÓH Y
]
ÓÓY Z
)
ÓÓZ [
;
ÓÓ[ \
	oMedicosE
ÔÔ !
.
ÔÔ! "
DscDocIdentidad
ÔÔ" 1
=
ÔÔ2 3
Convert
ÔÔ4 ;
.
ÔÔ; <
ToString
ÔÔ< D
(
ÔÔD E
dr
ÔÔE G
[
ÔÔG H
$str
ÔÔH Z
]
ÔÔZ [
)
ÔÔ[ \
;
ÔÔ\ ]
	oMedicosE
 !
.
! "
TipoColegio
" -
=
. /
Convert
0 7
.
7 8
ToString
8 @
(
@ A
dr
A C
[
C D
$str
D Q
]
Q R
)
R S
;
S T
	oMedicosE
ÒÒ !
.
ÒÒ! "
FechaNacimiento
ÒÒ" 1
=
ÒÒ2 3
util
ÒÒ4 8
.
ÒÒ8 9
ValFecha
ÒÒ9 A
(
ÒÒA B
dr
ÒÒB D
[
ÒÒD E
$str
ÒÒE V
]
ÒÒV W
.
ÒÒW X
ToString
ÒÒX `
(
ÒÒ` a
)
ÒÒa b
)
ÒÒb c
;
ÒÒc d
	oMedicosE
ÚÚ !
.
ÚÚ! "
Telefono
ÚÚ" *
=
ÚÚ+ ,
Convert
ÚÚ- 4
.
ÚÚ4 5
ToString
ÚÚ5 =
(
ÚÚ= >
dr
ÚÚ> @
[
ÚÚ@ A
$str
ÚÚA K
]
ÚÚK L
)
ÚÚL M
;
ÚÚM N
	oMedicosE
ÙÙ !
.
ÙÙ! "

TotalPages
ÙÙ" ,
=
ÙÙ- .
util
ÙÙ/ 3
.
ÙÙ3 4
ValInt
ÙÙ4 :
(
ÙÙ: ;
dr
ÙÙ; =
[
ÙÙ= >
$str
ÙÙ> J
]
ÙÙJ K
.
ÙÙK L
ToString
ÙÙL T
(
ÙÙT U
)
ÙÙU V
)
ÙÙV W
;
ÙÙW X
	oMedicosE
ıı !
.
ıı! "
Sec
ıı" %
=
ıı& '
util
ıı( ,
.
ıı, -
ValInt
ıı- 3
(
ıı3 4
dr
ıı4 6
[
ıı6 7
$str
ıı7 <
]
ıı< =
.
ıı= >
ToString
ıı> F
(
ııF G
)
ııG H
)
ııH I
;
ııI J
	oMedicosE
˜˜ !
.
˜˜! "
DscSede
˜˜" )
=
˜˜* +
Convert
˜˜, 3
.
˜˜3 4
ToString
˜˜4 <
(
˜˜< =
dr
˜˜= ?
[
˜˜? @
$str
˜˜@ J
]
˜˜J K
)
˜˜K L
;
˜˜L M
	oMedicosE
¯¯ !
.
¯¯! "
DscEspecialidad
¯¯" 1
=
¯¯2 3
Convert
¯¯4 ;
.
¯¯; <
ToString
¯¯< D
(
¯¯D E
dr
¯¯E G
[
¯¯G H
$str
¯¯H Z
]
¯¯Z [
)
¯¯[ \
;
¯¯\ ]
	oMedicosE
˙˙ !
.
˙˙! "
Estado
˙˙" (
=
˙˙) *
util
˙˙+ /
.
˙˙/ 0
ValInt
˙˙0 6
(
˙˙6 7
dr
˙˙7 9
[
˙˙9 :
$str
˙˙: B
]
˙˙B C
.
˙˙C D
ToString
˙˙D L
(
˙˙L M
)
˙˙M N
)
˙˙N O
;
˙˙O P
	oMedicosE
¸¸ !
.
¸¸! "
NombreComercial
¸¸" 1
=
¸¸2 3
Convert
¸¸4 ;
.
¸¸; <
ToString
¸¸< D
(
¸¸D E
dr
¸¸E G
[
¸¸G H
$str
¸¸H Z
]
¸¸Z [
)
¸¸[ \
;
¸¸\ ]
	oMedicosE
˝˝ !
.
˝˝! "
CampoClinico
˝˝" .
=
˝˝/ 0
Convert
˝˝1 8
.
˝˝8 9
ToString
˝˝9 A
(
˝˝A B
dr
˝˝B D
[
˝˝D E
$str
˝˝E T
]
˝˝T U
)
˝˝U V
;
˝˝V W
break
ˇˇ 
;
ˇˇ 
}
ÄÄ 
case
ÅÅ 
$num
ÅÅ 
:
ÅÅ 
{
ÇÇ 
	oMedicosE
ÉÉ !
.
ÉÉ! "
	CodMedico
ÉÉ" +
=
ÉÉ, -
Convert
ÉÉ. 5
.
ÉÉ5 6
ToString
ÉÉ6 >
(
ÉÉ> ?
dr
ÉÉ? A
[
ÉÉA B
$str
ÉÉB M
]
ÉÉM N
)
ÉÉN O
;
ÉÉO P
	oMedicosE
ÑÑ !
.
ÑÑ! "
NombresMedico
ÑÑ" /
=
ÑÑ0 1
Convert
ÑÑ2 9
.
ÑÑ9 :
ToString
ÑÑ: B
(
ÑÑB C
dr
ÑÑC E
[
ÑÑE F
$str
ÑÑF O
]
ÑÑO P
)
ÑÑP Q
;
ÑÑQ R
	oMedicosE
ÖÖ !
.
ÖÖ! "
NombreMedico
ÖÖ" .
=
ÖÖ/ 0
Convert
ÖÖ1 8
.
ÖÖ8 9
ToString
ÖÖ9 A
(
ÖÖA B
dr
ÖÖB D
[
ÖÖD E
$str
ÖÖE M
]
ÖÖM N
)
ÖÖN O
;
ÖÖO P
	oMedicosE
ÜÜ !
.
ÜÜ! "#
ApellidoPaternoMedico
ÜÜ" 7
=
ÜÜ7 8
Convert
ÜÜ9 @
.
ÜÜ@ A
ToString
ÜÜA I
(
ÜÜI J
dr
ÜÜJ L
[
ÜÜL M
$str
ÜÜM X
]
ÜÜX Y
)
ÜÜY Z
;
ÜÜZ [
	oMedicosE
áá !
.
áá! "#
ApellidoMaternoMedico
áá" 7
=
áá8 9
Convert
áá: A
.
ááA B
ToString
ááB J
(
ááJ K
dr
ááK M
[
ááM N
$str
ááN Y
]
ááY Z
)
ááZ [
;
áá[ \
	oMedicosE
àà !
.
àà! "
Ruc
àà" %
=
àà& '
Convert
àà( /
.
àà/ 0
ToString
àà0 8
(
àà8 9
dr
àà9 ;
[
àà; <
$str
àà< A
]
ààA B
)
ààB C
;
ààC D
	oMedicosE
ââ !
.
ââ! "
TipoColegio
ââ" -
=
ââ. /
Convert
ââ0 7
.
ââ7 8
ToString
ââ8 @
(
ââ@ A
dr
ââA C
[
ââC D
$str
ââD Q
]
ââQ R
)
ââR S
;
ââS T
	oMedicosE
ää !
.
ää! "
	ColMedico
ää" +
=
ää, -
Convert
ää. 5
.
ää5 6
ToString
ää6 >
(
ää> ?
dr
ää? A
[
ääA B
$str
ääB M
]
ääM N
)
ääN O
;
ääO P
	oMedicosE
ãã !
.
ãã! "
CMP
ãã" %
=
ãã& '
Convert
ãã( /
.
ãã/ 0
ToString
ãã0 8
(
ãã8 9
dr
ãã9 ;
[
ãã; <
$str
ãã< A
]
ããA B
)
ããB C
;
ããC D
	oMedicosE
åå !
.
åå! "
DscEmail
åå" *
=
åå* +
Convert
åå, 3
.
åå3 4
ToString
åå4 <
(
åå< =
dr
åå= ?
[
åå? @
$str
åå@ G
]
ååG H
)
ååH I
;
ååI J
	oMedicosE
çç !
.
çç! "
DscDireccion
çç" .
=
çç/ 0
Convert
çç1 8
.
çç8 9
ToString
çç9 A
(
ççA B
dr
ççB D
[
ççD E
$str
ççE P
]
ççP Q
)
ççQ R
;
ççR S
	oMedicosE
éé !
.
éé! "
TipDocIdentidad
éé" 1
=
éé2 3
Convert
éé4 ;
.
éé; <
ToString
éé< D
(
ééD E
dr
ééE G
[
ééG H
$str
ééH Y
]
ééY Z
)
ééZ [
;
éé[ \
	oMedicosE
èè !
.
èè! "
DocIdentidad
èè" .
=
èè/ 0
Convert
èè1 8
.
èè8 9
ToString
èè9 A
(
èèA B
dr
èèB D
[
èèD E
$str
èèE S
]
èèS T
)
èèT U
;
èèU V
	oMedicosE
êê !
.
êê! "
RNE
êê" %
=
êê& '
Convert
êê( /
.
êê/ 0
ToString
êê0 8
(
êê8 9
dr
êê9 ;
[
êê; <
$str
êê< A
]
êêA B
)
êêB C
;
êêC D
	oMedicosE
ëë !
.
ëë! "
Telefono
ëë" *
=
ëë+ ,
Convert
ëë- 4
.
ëë4 5
ToString
ëë5 =
(
ëë= >
dr
ëë> @
[
ëë@ A
$str
ëëA K
]
ëëK L
)
ëëL M
;
ëëM N
	oMedicosE
íí !
.
íí! "
Facturar
íí" *
=
íí+ ,
Convert
íí- 4
.
íí4 5
ToInt32
íí5 <
(
íí< =
dr
íí= ?
[
íí? @
$str
íí@ J
]
ííJ K
)
ííK L
;
ííL M
break
îî 
;
îî 
}
ïï 
}
ññ 
return
óó 
	oMedicosE
óó 
;
óó 
}
òò 	
public
õõ 
List
õõ 
<
õõ 
MedicosE
õõ 
>
õõ 5
'Sp_Medicos_ConsultaContratoConsultorios
õõ E
(
õõE F
MedicosE
õõF N
	pMedicosE
õõO X
)
õõX Y
{
úú 	
IDataReader
ùù 
dr
ùù 
;
ùù 
MedicosE
ûû 
	oMedicosE
ûû 
=
ûû  
null
ûû! %
;
ûûd e
List
üü 
<
üü 
MedicosE
üü 
>
üü 
oListar
üü "
=
üü# $
new
üü% (
List
üü) -
<
üü- .
MedicosE
üü. 6
>
üü6 7
(
üü7 8
)
üü8 9
;
üü9 :
try
†† 
{
°° 
using
¢¢ 
(
¢¢ 
SqlConnection
¢¢ $
cnn
¢¢% (
=
¢¢) *
new
¢¢+ .
SqlConnection
¢¢/ <
(
¢¢< =
VariablesGlobales
¢¢= N
.
¢¢N O

CnnClinica
¢¢O Y
)
¢¢Y Z
)
¢¢Z [
{
££ 
using
§§ 
(
§§ 

SqlCommand
§§ %
cmd
§§& )
=
§§* +
new
§§, /

SqlCommand
§§0 :
(
§§: ;
$str
§§; d
,
§§d e
cnn
§§f i
)
§§i j
)
§§j k
{
•• 
cmd
¶¶ 
.
¶¶ 
CommandType
¶¶ '
=
¶¶( )
CommandType
¶¶* 5
.
¶¶5 6
StoredProcedure
¶¶6 E
;
¶¶E F
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
AddWithValue
®®' 3
(
®®3 4
$str
®®4 =
,
®®= >
	pMedicosE
®®? H
.
®®H I
Buscar
®®I O
)
®®O P
;
®®P Q
cnn
©© 
.
©© 
Open
©©  
(
©©  !
)
©©! "
;
©©" #
dr
™™ 
=
™™ 
cmd
™™  
.
™™  !
ExecuteReader
™™! .
(
™™. /
)
™™/ 0
;
™™0 1
while
´´ 
(
´´ 
dr
´´ !
.
´´! "
Read
´´" &
(
´´& '
)
´´' (
)
´´( )
{
¨¨ 
	oMedicosE
≠≠ %
=
≠≠& '
LlenarEntidad
≠≠( 5
(
≠≠5 6
dr
≠≠6 8
,
≠≠8 9
	pMedicosE
≠≠: C
.
≠≠C D
Orden
≠≠D I
)
≠≠I J
;
≠≠J K
oListar
ÆÆ #
.
ÆÆ# $
Add
ÆÆ$ '
(
ÆÆ' (
	oMedicosE
ÆÆ( 1
)
ÆÆ1 2
;
ÆÆ2 3
}
ØØ 
dr
∞∞ 
.
∞∞ 
Close
∞∞  
(
∞∞  !
)
∞∞! "
;
∞∞" #
dr
±± 
.
±± 
Dispose
±± "
(
±±" #
)
±±# $
;
±±$ %
cmd
≤≤ 
.
≤≤ 
Dispose
≤≤ #
(
≤≤# $
)
≤≤$ %
;
≤≤% &
cnn
≥≥ 
.
≥≥ 
Close
≥≥ !
(
≥≥! "
)
≥≥" #
;
≥≥# $
cnn
¥¥ 
.
¥¥ 
Dispose
¥¥ #
(
¥¥# $
)
¥¥$ %
;
¥¥% &
return
∂∂ 
oListar
∂∂ &
;
∂∂& '
}
∑∑ 
}
∏∏ 
}
ππ 
catch
∫∫ 
(
∫∫ 
	Exception
∫∫ 
ex
∫∫ 
)
∫∫  
{
ªª 
throw
ºº 
new
ºº 
	Exception
ºº #
(
ºº# $
ex
ºº$ &
.
ºº& '
Message
ºº' .
)
ºº. /
;
ºº/ 0
}
ΩΩ 
}
ææ 	
public
√√ 
List
√√ 
<
√√ 
MedicosE
√√ 
>
√√ !
Sp_Medicos_Consulta
√√ 1
(
√√1 2
MedicosE
√√2 :
	pMedicosE
√√; D
)
√√D E
{
ƒƒ 	
IDataReader
≈≈ 
dr
≈≈ 
;
≈≈ 
MedicosE
∆∆ 
	oMedicosE
∆∆ 
=
∆∆  
null
∆∆! %
;
∆∆d e
List
«« 
<
«« 
MedicosE
«« 
>
«« 
oListar
«« "
=
««# $
new
««% (
List
««) -
<
««- .
MedicosE
««. 6
>
««6 7
(
««7 8
)
««8 9
;
««9 :
try
»» 
{
…… 
using
   
(
   
SqlConnection
   $
cnn
  % (
=
  ) *
new
  + .
SqlConnection
  / <
(
  < =
VariablesGlobales
  = N
.
  N O

CnnClinica
  O Y
)
  Y Z
)
  Z [
{
ÀÀ 
using
ÃÃ 
(
ÃÃ 

SqlCommand
ÃÃ %
cmd
ÃÃ& )
=
ÃÃ* +
new
ÃÃ, /

SqlCommand
ÃÃ0 :
(
ÃÃ: ;
$str
ÃÃ; P
,
ÃÃP Q
cnn
ÃÃR U
)
ÃÃU V
)
ÃÃV W
{
ÕÕ 
cmd
ŒŒ 
.
ŒŒ 
CommandType
ŒŒ '
=
ŒŒ( )
CommandType
ŒŒ* 5
.
ŒŒ5 6
StoredProcedure
ŒŒ6 E
;
ŒŒE F
cmd
–– 
.
–– 

Parameters
–– &
.
––& '
AddWithValue
––' 3
(
––3 4
$str
––4 =
,
––= >
	pMedicosE
––? H
.
––H I
Buscar
––I O
)
––O P
;
––P Q
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 :
,
——: ;
	pMedicosE
——< E
.
——E F
Key
——F I
)
——I J
;
——J K
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 C
,
““C D
	pMedicosE
““E N
.
““N O
NumeroLineas
““O [
)
““[ \
;
““\ ]
cmd
”” 
.
”” 

Parameters
”” &
.
””& '
AddWithValue
””' 3
(
””3 4
$str
””4 <
,
””< =
	pMedicosE
””> G
.
””G H
Orden
””H M
)
””M N
;
””N O
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ &
.
‘‘& '
AddWithValue
‘‘' 3
(
‘‘3 4
$str
‘‘4 =
,
‘‘= >
	pMedicosE
‘‘? H
.
‘‘H I
ParXML
‘‘I O
)
‘‘O P
;
‘‘P Q
cnn
÷÷ 
.
÷÷ 
Open
÷÷  
(
÷÷  !
)
÷÷! "
;
÷÷" #
dr
◊◊ 
=
◊◊ 
cmd
◊◊  
.
◊◊  !
ExecuteReader
◊◊! .
(
◊◊. /
)
◊◊/ 0
;
◊◊0 1
while
ÿÿ 
(
ÿÿ 
dr
ÿÿ !
.
ÿÿ! "
Read
ÿÿ" &
(
ÿÿ& '
)
ÿÿ' (
)
ÿÿ( )
{
ŸŸ 
	oMedicosE
⁄⁄ %
=
⁄⁄& '
LlenarEntidad
⁄⁄( 5
(
⁄⁄5 6
dr
⁄⁄6 8
,
⁄⁄8 9
	pMedicosE
⁄⁄: C
.
⁄⁄C D
Orden
⁄⁄D I
)
⁄⁄I J
;
⁄⁄J K
oListar
€€ #
.
€€# $
Add
€€$ '
(
€€' (
	oMedicosE
€€( 1
)
€€1 2
;
€€2 3
}
‹‹ 
dr
›› 
.
›› 
Close
››  
(
››  !
)
››! "
;
››" #
dr
ﬁﬁ 
.
ﬁﬁ 
Dispose
ﬁﬁ "
(
ﬁﬁ" #
)
ﬁﬁ# $
;
ﬁﬁ$ %
cmd
ﬂﬂ 
.
ﬂﬂ 
Dispose
ﬂﬂ #
(
ﬂﬂ# $
)
ﬂﬂ$ %
;
ﬂﬂ% &
cnn
‡‡ 
.
‡‡ 
Close
‡‡ !
(
‡‡! "
)
‡‡" #
;
‡‡# $
cnn
·· 
.
·· 
Dispose
·· #
(
··# $
)
··$ %
;
··% &
return
„„ 
oListar
„„ &
;
„„& '
}
‰‰ 
}
ÂÂ 
}
ÊÊ 
catch
ÁÁ 
(
ÁÁ 
	Exception
ÁÁ 
ex
ÁÁ 
)
ÁÁ  
{
ËË 
throw
ÈÈ 
new
ÈÈ 
	Exception
ÈÈ #
(
ÈÈ# $
ex
ÈÈ$ &
.
ÈÈ& '
Message
ÈÈ' .
)
ÈÈ. /
;
ÈÈ/ 0
}
ÍÍ 
}
ÎÎ 	
public
ÌÌ 
List
ÌÌ 
<
ÌÌ 
string
ÌÌ 
>
ÌÌ %
Sp_Medicos_ValidaInsert
ÌÌ 3
(
ÌÌ3 4
string
ÌÌ4 :
parXML
ÌÌ; A
)
ÌÌA B
{
ÓÓ 	
IDataReader
ÔÔ 
dr
ÔÔ 
;
ÔÔ 
List
ÒÒ 
<
ÒÒ 
string
ÒÒ 
>
ÒÒ 

oListError
ÒÒ #
=
ÒÒ$ %
new
ÒÒ& )
List
ÒÒ* .
<
ÒÒ. /
string
ÒÒ/ 5
>
ÒÒ5 6
(
ÒÒ6 7
)
ÒÒ7 8
;
ÒÒ8 9
try
ÛÛ 
{
ÙÙ 
using
ıı 
(
ıı 
SqlConnection
ıı $
cnn
ıı% (
=
ıı) *
new
ıı+ .
SqlConnection
ıı/ <
(
ıı< =
VariablesGlobales
ıı= N
.
ııN O

CnnClinica
ııO Y
)
ııY Z
)
ııZ [
{
ˆˆ 
using
˜˜ 
(
˜˜ 

SqlCommand
˜˜ %
cmd
˜˜& )
=
˜˜* +
new
˜˜, /

SqlCommand
˜˜0 :
(
˜˜: ;
$str
˜˜; T
,
˜˜T U
cnn
˜˜V Y
)
˜˜Y Z
)
˜˜Z [
{
¯¯ 
cmd
˘˘ 
.
˘˘ 
CommandType
˘˘ '
=
˘˘( )
CommandType
˘˘* 5
.
˘˘5 6
StoredProcedure
˘˘6 E
;
˘˘E F
cmd
˚˚ 
.
˚˚ 

Parameters
˚˚ &
.
˚˚& '
AddWithValue
˚˚' 3
(
˚˚3 4
$str
˚˚4 =
,
˚˚= >
parXML
˚˚? E
)
˚˚E F
;
˚˚F G
cnn
˝˝ 
.
˝˝ 
Open
˝˝  
(
˝˝  !
)
˝˝! "
;
˝˝" #
dr
˛˛ 
=
˛˛ 
cmd
˛˛  
.
˛˛  !
ExecuteReader
˛˛! .
(
˛˛. /
)
˛˛/ 0
;
˛˛0 1
while
ˇˇ 
(
ˇˇ 
dr
ˇˇ !
.
ˇˇ! "
Read
ˇˇ" &
(
ˇˇ& '
)
ˇˇ' (
)
ˇˇ( )
{
ÄÄ 

oListError
ÅÅ &
.
ÅÅ& '
Add
ÅÅ' *
(
ÅÅ* +
dr
ÅÅ+ -
[
ÅÅ- .
$str
ÅÅ. 8
]
ÅÅ8 9
.
ÅÅ9 :
ToString
ÅÅ: B
(
ÅÅB C
)
ÅÅC D
)
ÅÅD E
;
ÅÅE F
}
ÇÇ 
dr
ÉÉ 
.
ÉÉ 
Close
ÉÉ  
(
ÉÉ  !
)
ÉÉ! "
;
ÉÉ" #
dr
ÑÑ 
.
ÑÑ 
Dispose
ÑÑ "
(
ÑÑ" #
)
ÑÑ# $
;
ÑÑ$ %
cmd
ÖÖ 
.
ÖÖ 
Dispose
ÖÖ #
(
ÖÖ# $
)
ÖÖ$ %
;
ÖÖ% &
cnn
ÜÜ 
.
ÜÜ 
Close
ÜÜ !
(
ÜÜ! "
)
ÜÜ" #
;
ÜÜ# $
cnn
áá 
.
áá 
Dispose
áá #
(
áá# $
)
áá$ %
;
áá% &
return
ââ 

oListError
ââ )
;
ââ) *
}
ää 
}
ãã 
}
åå 
catch
çç 
(
çç 
	Exception
çç 
ex
çç 
)
çç  
{
éé 
throw
èè 
new
èè 
	Exception
èè #
(
èè# $
ex
èè$ &
.
èè& '
Message
èè' .
)
èè. /
;
èè/ 0
}
êê 
}
ëë 	
public
ìì 
bool
ìì 
Sp_Medicos_Update
ìì %
(
ìì% &
MedicosE
ìì& .
objMedicosE
ìì/ :
)
ìì: ;
{
îî 	
try
ïï 
{
ññ 
using
óó 
(
óó 
SqlConnection
óó $
cnn
óó% (
=
óó) *
new
óó+ .
SqlConnection
óó/ <
(
óó< =
VariablesGlobales
óó= N
.
óóN O

CnnClinica
óóO Y
)
óóY Z
)
óóZ [
{
òò 
using
ôô 
(
ôô 

SqlCommand
ôô %
cmd
ôô& )
=
ôô* +
new
ôô, /

SqlCommand
ôô0 :
(
ôô: ;
$str
ôô; N
,
ôôN O
cnn
ôôP S
)
ôôS T
)
ôôT U
{
öö 
cmd
õõ 
.
õõ 
CommandType
õõ '
=
õõ( )
CommandType
õõ* 5
.
õõ5 6
StoredProcedure
õõ6 E
;
õõE F
cmd
ùù 
.
ùù 

Parameters
ùù &
.
ùù& '
AddWithValue
ùù' 3
(
ùù3 4
$str
ùù4 <
,
ùù< =
objMedicosE
ùù> I
.
ùùI J
Campo
ùùJ O
)
ùùO P
;
ùùP Q
cmd
ûû 
.
ûû 

Parameters
ûû &
.
ûû& '
AddWithValue
ûû' 3
(
ûû3 4
$str
ûû4 =
,
ûû= >
objMedicosE
ûû? J
.
ûûJ K
	CodMedico
ûûK T
)
ûûT U
;
ûûU V
cmd
üü 
.
üü 

Parameters
üü &
.
üü& '
AddWithValue
üü' 3
(
üü3 4
$str
üü4 A
,
üüA B
objMedicosE
üüC N
.
üüN O

NuevoValor
üüO Y
)
üüY Z
;
üüZ [
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
AddWithValue
††' 3
(
††3 4
$str
††4 C
,
††C D
objMedicosE
††E P
.
††P Q
UsrModifica
††Q \
)
††\ ]
;
††] ^
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 C
,
°°C D
objMedicosE
°°E P
.
°°P Q
AppModifica
°°Q \
)
°°\ ]
;
°°] ^
cnn
¢¢ 
.
¢¢ 
Open
¢¢  
(
¢¢  !
)
¢¢! "
;
¢¢" #
if
££ 
(
££ 
cmd
££ 
.
££  
ExecuteNonQuery
££  /
(
££/ 0
)
££0 1
>=
££2 4
$num
££5 6
)
££6 7
return
§§ "
true
§§# '
;
§§' (
else
•• 
return
¶¶ "
false
¶¶# (
;
¶¶( )
cnn
ßß 
.
ßß 
Close
ßß !
(
ßß! "
)
ßß" #
;
ßß# $
cmd
®® 
.
®® 
Dispose
®® #
(
®®# $
)
®®$ %
;
®®% &
}
©© 
}
™™ 
}
´´ 
catch
¨¨ 
(
¨¨ 
	Exception
¨¨ 
ex
¨¨ 
)
¨¨  
{
≠≠ 
throw
ÆÆ 
new
ÆÆ 
	Exception
ÆÆ #
(
ÆÆ# $
ex
ÆÆ$ &
.
ÆÆ& '
Message
ÆÆ' .
)
ÆÆ. /
;
ÆÆ/ 0
}
ØØ 
}
∞∞ 	
public
≤≤ 
bool
≤≤ (
Sp_Medico_Update_Desde_SIC
≤≤ .
(
≤≤. /
string
≤≤/ 5

pCodMedico
≤≤6 @
)
≤≤@ A
{
≥≥ 	
try
¥¥ 
{
µµ 
using
∂∂ 
(
∂∂ 
SqlConnection
∂∂ $
cnn
∂∂% (
=
∂∂) *
new
∂∂+ .
SqlConnection
∂∂/ <
(
∂∂< =
VariablesGlobales
∂∂= N
.
∂∂N O

CnnClinica
∂∂O Y
)
∂∂Y Z
)
∂∂Z [
{
∑∑ 
using
∏∏ 
(
∏∏ 

SqlCommand
∏∏ %
cmd
∏∏& )
=
∏∏* +
new
∏∏, /

SqlCommand
∏∏0 :
(
∏∏: ;
$str
∏∏; W
,
∏∏W X
cnn
∏∏Y \
)
∏∏\ ]
)
∏∏] ^
{
ππ 
cmd
∫∫ 
.
∫∫ 
CommandType
∫∫ '
=
∫∫( )
CommandType
∫∫* 5
.
∫∫5 6
StoredProcedure
∫∫6 E
;
∫∫E F
cmd
ºº 
.
ºº 

Parameters
ºº &
.
ºº& '
AddWithValue
ºº' 3
(
ºº3 4
$str
ºº4 A
,
ººA B

pCodMedico
ººC M
)
ººM N
;
ººN O
cnn
ΩΩ 
.
ΩΩ 
Open
ΩΩ  
(
ΩΩ  !
)
ΩΩ! "
;
ΩΩ" #
if
ææ 
(
ææ 
cmd
ææ 
.
ææ  
ExecuteNonQuery
ææ  /
(
ææ/ 0
)
ææ0 1
>=
ææ2 4
$num
ææ5 6
)
ææ6 7
return
øø "
true
øø# '
;
øø' (
else
¿¿ 
return
¡¡ "
false
¡¡# (
;
¡¡( )
cnn
¬¬ 
.
¬¬ 
Close
¬¬ !
(
¬¬! "
)
¬¬" #
;
¬¬# $
cmd
√√ 
.
√√ 
Dispose
√√ #
(
√√# $
)
√√$ %
;
√√% &
}
ƒƒ 
}
≈≈ 
}
∆∆ 
catch
«« 
(
«« 
	Exception
«« 
ex
«« 
)
««  
{
»» 
throw
…… 
new
…… 
	Exception
…… #
(
……# $
ex
……$ &
.
……& '
Message
……' .
)
……. /
;
……/ 0
}
   
}
ÀÀ 	
public
ÕÕ 
bool
ÕÕ ,
Sp_MedicoPago_Update_Desde_SIC
ÕÕ 2
(
ÕÕ2 3
string
ÕÕ3 9

pCodMedico
ÕÕ: D
)
ÕÕD E
{
ŒŒ 	
try
œœ 
{
–– 
using
—— 
(
—— 
SqlConnection
—— $
cnn
——% (
=
——) *
new
——+ .
SqlConnection
——/ <
(
——< =
VariablesGlobales
——= N
.
——N O

CnnClinica
——O Y
)
——Y Z
)
——Z [
{
““ 
using
”” 
(
”” 

SqlCommand
”” %
cmd
””& )
=
””* +
new
””, /

SqlCommand
””0 :
(
””: ;
$str
””; [
,
””[ \
cnn
””] `
)
””` a
)
””a b
{
‘‘ 
cmd
’’ 
.
’’ 
CommandType
’’ '
=
’’( )
CommandType
’’* 5
.
’’5 6
StoredProcedure
’’6 E
;
’’E F
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ &
.
◊◊& '
AddWithValue
◊◊' 3
(
◊◊3 4
$str
◊◊4 A
,
◊◊A B

pCodMedico
◊◊C M
)
◊◊M N
;
◊◊N O
cnn
ÿÿ 
.
ÿÿ 
Open
ÿÿ  
(
ÿÿ  !
)
ÿÿ! "
;
ÿÿ" #
if
ŸŸ 
(
ŸŸ 
cmd
ŸŸ 
.
ŸŸ  
ExecuteNonQuery
ŸŸ  /
(
ŸŸ/ 0
)
ŸŸ0 1
>=
ŸŸ2 4
$num
ŸŸ5 6
)
ŸŸ6 7
return
⁄⁄ "
true
⁄⁄# '
;
⁄⁄' (
else
€€ 
return
‹‹ "
false
‹‹# (
;
‹‹( )
cnn
›› 
.
›› 
Close
›› !
(
››! "
)
››" #
;
››# $
cmd
ﬁﬁ 
.
ﬁﬁ 
Dispose
ﬁﬁ #
(
ﬁﬁ# $
)
ﬁﬁ$ %
;
ﬁﬁ% &
}
ﬂﬂ 
}
‡‡ 
}
·· 
catch
‚‚ 
(
‚‚ 
	Exception
‚‚ 
ex
‚‚ 
)
‚‚  
{
„„ 
throw
‰‰ 
new
‰‰ 
	Exception
‰‰ #
(
‰‰# $
ex
‰‰$ &
.
‰‰& '
Message
‰‰' .
)
‰‰. /
;
‰‰/ 0
}
ÂÂ 
}
ÊÊ 	
public
ËË 
bool
ËË 7
)Sp_MedicoSubEspecialidad_Update_Desde_SIC
ËË =
(
ËË= >
string
ËË> D

pCodMedico
ËËE O
)
ËËO P
{
ÈÈ 	
try
ÍÍ 
{
ÎÎ 
using
ÏÏ 
(
ÏÏ 
SqlConnection
ÏÏ $
cnn
ÏÏ% (
=
ÏÏ) *
new
ÏÏ+ .
SqlConnection
ÏÏ/ <
(
ÏÏ< =
VariablesGlobales
ÏÏ= N
.
ÏÏN O

CnnClinica
ÏÏO Y
)
ÏÏY Z
)
ÏÏZ [
{
ÌÌ 
using
ÓÓ 
(
ÓÓ 

SqlCommand
ÓÓ %
cmd
ÓÓ& )
=
ÓÓ* +
new
ÓÓ, /

SqlCommand
ÓÓ0 :
(
ÓÓ: ;
$str
ÓÓ; f
,
ÓÓf g
cnn
ÓÓh k
)
ÓÓk l
)
ÓÓl m
{
ÔÔ 
cmd
 
.
 
CommandType
 '
=
( )
CommandType
* 5
.
5 6
StoredProcedure
6 E
;
E F
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ &
.
ÚÚ& '
AddWithValue
ÚÚ' 3
(
ÚÚ3 4
$str
ÚÚ4 A
,
ÚÚA B

pCodMedico
ÚÚC M
)
ÚÚM N
;
ÚÚN O
cnn
ÛÛ 
.
ÛÛ 
Open
ÛÛ  
(
ÛÛ  !
)
ÛÛ! "
;
ÛÛ" #
if
ÙÙ 
(
ÙÙ 
cmd
ÙÙ 
.
ÙÙ  
ExecuteNonQuery
ÙÙ  /
(
ÙÙ/ 0
)
ÙÙ0 1
>=
ÙÙ2 4
$num
ÙÙ5 6
)
ÙÙ6 7
return
ıı "
true
ıı# '
;
ıı' (
else
ˆˆ 
return
˜˜ "
false
˜˜# (
;
˜˜( )
cnn
¯¯ 
.
¯¯ 
Close
¯¯ !
(
¯¯! "
)
¯¯" #
;
¯¯# $
cmd
˘˘ 
.
˘˘ 
Dispose
˘˘ #
(
˘˘# $
)
˘˘$ %
;
˘˘% &
}
˙˙ 
}
˚˚ 
}
¸¸ 
catch
˝˝ 
(
˝˝ 
	Exception
˝˝ 
ex
˝˝ 
)
˝˝  
{
˛˛ 
throw
ˇˇ 
new
ˇˇ 
	Exception
ˇˇ #
(
ˇˇ# $
ex
ˇˇ$ &
.
ˇˇ& '
Message
ˇˇ' .
)
ˇˇ. /
;
ˇˇ/ 0
}
ÄÄ 
}
ÅÅ 	
public
ÉÉ 
string
ÉÉ 
Sp_Medicos_Insert
ÉÉ '
(
ÉÉ' (
)
ÉÉ( )
{
ÑÑ 	
try
ÖÖ 
{
ÜÜ 
using
áá 
(
áá 
SqlConnection
áá $
cnn
áá% (
=
áá) *
new
áá+ .
SqlConnection
áá/ <
(
áá< =
VariablesGlobales
áá= N
.
ááN O

CnnClinica
ááO Y
)
ááY Z
)
ááZ [
{
àà 
using
ââ 
(
ââ 

SqlCommand
ââ %
cmd
ââ& )
=
ââ* +
new
ââ, /

SqlCommand
ââ0 :
(
ââ: ;
$str
ââ; N
,
ââN O
cnn
ââP S
)
ââS T
)
ââT U
{
ää 
cmd
ãã 
.
ãã 
CommandType
ãã '
=
ãã( )
CommandType
ãã* 5
.
ãã5 6
StoredProcedure
ãã6 E
;
ããE F
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
Add
çç' *
(
çç* +
$str
çç+ 4
,
çç4 5
	SqlDbType
çç6 ?
.
çç? @
VarChar
çç@ G
,
ççG H
$num
ççI J
)
ççJ K
.
ççK L
	Direction
ççL U
=
ççV W 
ParameterDirection
ççX j
.
ççj k
Output
ççk q
;
ççq r
cnn
éé 
.
éé 
Open
éé  
(
éé  !
)
éé! "
;
éé" #
if
èè 
(
èè 
cmd
èè 
.
èè  
ExecuteNonQuery
èè  /
(
èè/ 0
)
èè0 1
>=
èè2 4
$num
èè5 6
)
èè6 7
{
êê 
return
ëë "
cmd
ëë# &
.
ëë& '

Parameters
ëë' 1
[
ëë1 2
$str
ëë2 ;
]
ëë; <
.
ëë< =
Value
ëë= B
.
ëëB C
ToString
ëëC K
(
ëëK L
)
ëëL M
;
ëëM N
}
íí 
cnn
ìì 
.
ìì 
Close
ìì !
(
ìì! "
)
ìì" #
;
ìì# $
cmd
îî 
.
îî 
Dispose
îî #
(
îî# $
)
îî$ %
;
îî% &
return
ïï 
$str
ïï !
;
ïï! "
}
ññ 
}
óó 
}
òò 
catch
ôô 
(
ôô 
	Exception
ôô 
ex
ôô 
)
ôô  
{
öö 
throw
õõ 
new
õõ 
	Exception
õõ #
(
õõ# $
ex
õõ$ &
.
õõ& '
Message
õõ' .
)
õõ. /
;
õõ/ 0
}
úú 
}
ùù 	
public
üü 
bool
üü 
Sp_Medicos_Delete
üü %
(
üü% &
string
üü& ,

pCodMedico
üü- 7
)
üü7 8
{
†† 	
try
°° 
{
¢¢ 
using
££ 
(
££ 
SqlConnection
££ $
cnn
££% (
=
££) *
new
££+ .
SqlConnection
££/ <
(
££< =
VariablesGlobales
££= N
.
££N O

CnnClinica
££O Y
)
££Y Z
)
££Z [
{
§§ 
using
•• 
(
•• 

SqlCommand
•• %
cmd
••& )
=
••* +
new
••, /

SqlCommand
••0 :
(
••: ;
$str
••; N
,
••N O
cnn
••P S
)
••S T
)
••T U
{
¶¶ 
cmd
ßß 
.
ßß 
CommandType
ßß '
=
ßß( )
CommandType
ßß* 5
.
ßß5 6
StoredProcedure
ßß6 E
;
ßßE F
cmd
©© 
.
©© 

Parameters
©© &
.
©©& '
AddWithValue
©©' 3
(
©©3 4
$str
©©4 =
,
©©= >

pCodMedico
©©? I
)
©©I J
;
©©J K
cnn
™™ 
.
™™ 
Open
™™  
(
™™  !
)
™™! "
;
™™" #
if
´´ 
(
´´ 
cmd
´´ 
.
´´  
ExecuteNonQuery
´´  /
(
´´/ 0
)
´´0 1
>=
´´2 4
$num
´´5 6
)
´´6 7
{
¨¨ 
return
≠≠ "
true
≠≠# '
;
≠≠' (
}
ÆÆ 
cnn
∞∞ 
.
∞∞ 
Close
∞∞ !
(
∞∞! "
)
∞∞" #
;
∞∞# $
cmd
±± 
.
±± 
Dispose
±± #
(
±±# $
)
±±$ %
;
±±% &
return
≤≤ 
false
≤≤ $
;
≤≤$ %
}
≥≥ 
}
¥¥ 
}
µµ 
catch
∂∂ 
(
∂∂ 
	Exception
∂∂ 
ex
∂∂ 
)
∂∂  
{
∑∑ 
throw
∏∏ 
new
∏∏ 
	Exception
∏∏ #
(
∏∏# $
ex
∏∏$ &
.
∏∏& '
Message
∏∏' .
)
∏∏. /
;
∏∏/ 0
}
ππ 
}
∫∫ 	
public
ºº 
RespuestaJsonE
ºº $
Sp_Medicoxfirma_Update
ºº 4
(
ºº4 5
string
ºº5 ;

pCodMedico
ºº< F
)
ººF G
{
ΩΩ 	
RespuestaJsonE
ææ 

_respuesta
ææ %
=
ææ& '
new
ææ( +
RespuestaJsonE
ææ, :
(
ææ: ;
)
ææ; <
;
ææ< =

SqlCommand
øø 
cmd
øø 
=
øø 
null
øø !
;
øø! "
SqlConnection
¿¿ 
con
¿¿ 
=
¿¿ 
null
¿¿  $
;
¿¿$ %
SqlDataReader
¡¡ 
dr
¡¡ 
=
¡¡ 
null
¡¡ #
;
¡¡# $
try
¬¬ 
{
√√ 
con
ƒƒ 
=
ƒƒ 
new
ƒƒ 
SqlConnection
ƒƒ '
(
ƒƒ' (
VariablesGlobales
ƒƒ( 9
.
ƒƒ9 :

CnnClinica
ƒƒ: D
)
ƒƒD E
;
ƒƒE F
cmd
≈≈ 
=
≈≈ 
new
≈≈ 

SqlCommand
≈≈ $
(
≈≈$ %
$str
≈≈% =
,
≈≈= >
con
≈≈? B
)
≈≈B C
;
≈≈C D
cmd
∆∆ 
.
∆∆ 
CommandType
∆∆ 
=
∆∆  !
CommandType
∆∆" -
.
∆∆- .
StoredProcedure
∆∆. =
;
∆∆= >
cmd
«« 
.
«« 

Parameters
«« 
.
«« 
AddWithValue
«« +
(
««+ ,
$str
««, 8
,
««8 9

pCodMedico
««: D
)
««D E
;
««E F
cmd
»» 
.
»» 

Parameters
»» 
.
»» 
Add
»» "
(
»»" #
$str
»»# ,
,
»», -
	SqlDbType
»». 7
.
»»7 8
Int
»»8 ;
,
»»; <
$num
»»= >
)
»»> ?
.
»»? @
	Direction
»»@ I
=
»»J K 
ParameterDirection
»»L ^
.
»»^ _
Output
»»_ e
;
»»e f
cmd
…… 
.
…… 

Parameters
…… 
.
…… 
Add
…… "
(
……" #
$str
……# -
,
……- .
	SqlDbType
……/ 8
.
……8 9
VarChar
……9 @
,
……@ A
$num
……B E
)
……E F
.
……F G
	Direction
……G P
=
……Q R 
ParameterDirection
……S e
.
……e f
Output
……f l
;
……l m
con
ÀÀ 
.
ÀÀ 
Open
ÀÀ 
(
ÀÀ 
)
ÀÀ 
;
ÀÀ 
dr
ÃÃ 
=
ÃÃ 
cmd
ÃÃ 
.
ÃÃ 
ExecuteReader
ÃÃ &
(
ÃÃ& '
)
ÃÃ' (
;
ÃÃ( )
int
ÕÕ 
_status
ÕÕ 
=
ÕÕ 
int
ÕÕ !
.
ÕÕ! "
Parse
ÕÕ" '
(
ÕÕ' (
cmd
ÕÕ( +
.
ÕÕ+ ,

Parameters
ÕÕ, 6
[
ÕÕ6 7
$str
ÕÕ7 @
]
ÕÕ@ A
.
ÕÕA B
Value
ÕÕB G
.
ÕÕG H
ToString
ÕÕH P
(
ÕÕP Q
)
ÕÕQ R
)
ÕÕR S
;
ÕÕS T
if
ŒŒ 
(
ŒŒ 
_status
ŒŒ 
==
ŒŒ 
$num
ŒŒ  
)
ŒŒ  !
{
œœ 

_respuesta
–– 
.
–– 
exito
–– $
=
––% &
true
––' +
;
––+ ,

_respuesta
—— 
.
—— 
message
—— &
=
——' (
cmd
——) ,
.
——, -

Parameters
——- 7
[
——7 8
$str
——8 B
]
——B C
.
——C D
Value
——D I
.
——I J
ToString
——J R
(
——R S
)
——S T
;
——T U
}
““ 
else
”” 
{
‘‘ 

_respuesta
’’ 
.
’’ 
exito
’’ $
=
’’% &
false
’’' ,
;
’’, -

_respuesta
÷÷ 
.
÷÷ 
message
÷÷ &
=
÷÷' (
$str
÷÷) O
+
÷÷P Q
cmd
÷÷R U
.
÷÷U V

Parameters
÷÷V `
[
÷÷` a
$str
÷÷a k
]
÷÷k l
.
÷÷l m
Value
÷÷m r
.
÷÷r s
ToString
÷÷s {
(
÷÷{ |
)
÷÷| }
;
÷÷} ~
}
◊◊ 
}
ÿÿ 
catch
ŸŸ 
(
ŸŸ 
	Exception
ŸŸ 
ex
ŸŸ 
)
ŸŸ  
{
⁄⁄ 

_respuesta
€€ 
.
€€ 
exito
€€  
=
€€! "
false
€€# (
;
€€( )

_respuesta
‹‹ 
.
‹‹ 
message
‹‹ "
=
‹‹# $
$str
‹‹% K
+
‹‹L M
ex
‹‹N P
.
‹‹P Q
Message
‹‹Q X
;
‹‹X Y
}
›› 
finally
ﬁﬁ 
{
ﬂﬂ 
con
‡‡ 
.
‡‡ 
Close
‡‡ 
(
‡‡ 
)
‡‡ 
;
‡‡ 
}
·· 
return
‚‚ 

_respuesta
‚‚ 
;
‚‚ 
}
„„ 	
public
ÂÂ 
bool
ÂÂ "
Sp_Medicos_GrabaFoto
ÂÂ (
(
ÂÂ( )
string
ÂÂ) /

pCodMedico
ÂÂ0 :
,
ÂÂ: ;
string
ÂÂ< B
pFoto
ÂÂC H
,
ÂÂH I
string
ÂÂJ P
pNombreFoto
ÂÂQ \
)
ÂÂ\ ]
{
ÊÊ 	
try
ÁÁ 
{
ËË 
using
ÈÈ 
(
ÈÈ 
SqlConnection
ÈÈ $
cnn
ÈÈ% (
=
ÈÈ) *
new
ÈÈ+ .
SqlConnection
ÈÈ/ <
(
ÈÈ< =
VariablesGlobales
ÈÈ= N
.
ÈÈN O

CnnClinica
ÈÈO Y
)
ÈÈY Z
)
ÈÈZ [
{
ÍÍ 
using
ÎÎ 
(
ÎÎ 

SqlCommand
ÎÎ %
cmd
ÎÎ& )
=
ÎÎ* +
new
ÎÎ, /

SqlCommand
ÎÎ0 :
(
ÎÎ: ;
$str
ÎÎ; Q
,
ÎÎQ R
cnn
ÎÎS V
)
ÎÎV W
)
ÎÎW X
{
ÏÏ 
cmd
ÌÌ 
.
ÌÌ 
CommandType
ÌÌ '
=
ÌÌ( )
CommandType
ÌÌ* 5
.
ÌÌ5 6
StoredProcedure
ÌÌ6 E
;
ÌÌE F
cmd
ÔÔ 
.
ÔÔ 

Parameters
ÔÔ &
.
ÔÔ& '
AddWithValue
ÔÔ' 3
(
ÔÔ3 4
$str
ÔÔ4 @
,
ÔÔ@ A

pCodMedico
ÔÔB L
)
ÔÔL M
;
ÔÔM N
cmd
 
.
 

Parameters
 &
.
& '
AddWithValue
' 3
(
3 4
$str
4 A
,
A B
pFoto
C H
)
H I
;
I J
cmd
ÒÒ 
.
ÒÒ 

Parameters
ÒÒ &
.
ÒÒ& '
AddWithValue
ÒÒ' 3
(
ÒÒ3 4
$str
ÒÒ4 A
,
ÒÒA B
pNombreFoto
ÒÒC N
)
ÒÒN O
;
ÒÒO P
cnn
ÚÚ 
.
ÚÚ 
Open
ÚÚ  
(
ÚÚ  !
)
ÚÚ! "
;
ÚÚ" #
if
ÛÛ 
(
ÛÛ 
cmd
ÛÛ 
.
ÛÛ  
ExecuteNonQuery
ÛÛ  /
(
ÛÛ/ 0
)
ÛÛ0 1
>=
ÛÛ2 4
$num
ÛÛ5 6
)
ÛÛ6 7
return
ÙÙ "
true
ÙÙ# '
;
ÙÙ' (
cnn
ıı 
.
ıı 
Close
ıı !
(
ıı! "
)
ıı" #
;
ıı# $
cmd
ˆˆ 
.
ˆˆ 
Dispose
ˆˆ #
(
ˆˆ# $
)
ˆˆ$ %
;
ˆˆ% &
return
˜˜ 
false
˜˜ $
;
˜˜$ %
}
¯¯ 
}
˘˘ 
}
˙˙ 
catch
˚˚ 
(
˚˚ 
	Exception
˚˚ 
ex
˚˚ 
)
˚˚  
{
¸¸ 
throw
˝˝ 
new
˝˝ 
	Exception
˝˝ #
(
˝˝# $
ex
˝˝$ &
.
˝˝& '
Message
˝˝' .
)
˝˝. /
;
˝˝/ 0
}
˛˛ 
}
ˇˇ 	
public
ÅÅ 
bool
ÅÅ ,
Sp_Medicos_Update_Agendamiento
ÅÅ 2
(
ÅÅ2 3
MedicosE
ÅÅ3 ;
	pMedicosE
ÅÅ< E
)
ÅÅE F
{
ÇÇ 	
try
ÉÉ 
{
ÑÑ 
using
ÖÖ 
(
ÖÖ 
SqlConnection
ÖÖ $
cnn
ÖÖ% (
=
ÖÖ) *
new
ÖÖ+ .
SqlConnection
ÖÖ/ <
(
ÖÖ< =
VariablesGlobales
ÖÖ= N
.
ÖÖN O

CnnClinica
ÖÖO Y
)
ÖÖY Z
)
ÖÖZ [
{
ÜÜ 
using
áá 
(
áá 

SqlCommand
áá %
cmd
áá& )
=
áá* +
new
áá, /

SqlCommand
áá0 :
(
áá: ;
$str
áá; [
,
áá[ \
cnn
áá] `
)
áá` a
)
ááa b
{
àà 
cmd
ââ 
.
ââ 
CommandType
ââ '
=
ââ( )
CommandType
ââ* 5
.
ââ5 6
StoredProcedure
ââ6 E
;
ââE F
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 @
,
ãã@ A
	pMedicosE
ããB K
.
ããK L
	CodMedico
ããL U
)
ããU V
;
ããV W
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 G
,
ççG H
	pMedicosE
ççI R
.
ççR S
CodProfMedisyn
ççS a
)
çça b
;
ççb c
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 H
,
ééH I
	pMedicosE
ééJ S
.
ééS T
CodTipoConsulta
ééT c
)
ééc d
;
ééd e
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 G
,
èèG H
	pMedicosE
èèI R
.
èèR S
FlgTeleConsulta
èèS b
)
èèb c
;
èèc d
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 H
,
êêH I
	pMedicosE
êêJ S
.
êêS T
FlgPresencialJM
êêT c
)
êêc d
;
êêd e
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 H
,
ëëH I
	pMedicosE
ëëJ S
.
ëëS T
FlgPresencialCM
ëëT c
)
ëëc d
;
ëëd e
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 H
,
ííH I
	pMedicosE
ííJ S
.
ííS T
FlgPresencialLM
ííT c
)
ííc d
;
ííd e
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 L
,
ììL M
	pMedicosE
ììN W
.
ììW X!
MntTarifaParticular
ììX k
)
ììk l
;
ììl m
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 W
,
îîW X
	pMedicosE
îîY b
.
îîb c,
DscObservacionSubEspecialidadîîc Ä
)îîÄ Å
;îîÅ Ç
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 <
,
ïï< =
	pMedicosE
ïï> G
.
ïïG H
DscEmail
ïïH P
)
ïïP Q
;
ïïQ R
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 =
,
ññ= >
	pMedicosE
ññ? H
.
ññH I
UrlWeb
ññI O
)
ññO P
;
ññP Q
cnn
óó 
.
óó 
Open
óó  
(
óó  !
)
óó! "
;
óó" #
if
òò 
(
òò 
cmd
òò 
.
òò  
ExecuteNonQuery
òò  /
(
òò/ 0
)
òò0 1
>=
òò2 4
$num
òò5 6
)
òò6 7
return
ôô "
true
ôô# '
;
ôô' (
else
öö 
return
õõ "
false
õõ# (
;
õõ( )
cmd
úú 
.
úú 
Dispose
úú #
(
úú# $
)
úú$ %
;
úú% &
cnn
ùù 
.
ùù 
Close
ùù !
(
ùù! "
)
ùù" #
;
ùù# $
cnn
ûû 
.
ûû 
Dispose
ûû #
(
ûû# $
)
ûû$ %
;
ûû% &
}
üü 
}
†† 
}
°° 
catch
¢¢ 
(
¢¢ 
	Exception
¢¢ 
ex
¢¢ 
)
¢¢  
{
££ 
throw
§§ 
new
§§ 
	Exception
§§ #
(
§§# $
ex
§§$ &
.
§§& '
Message
§§' .
)
§§. /
;
§§/ 0
}
•• 
}
¶¶ 	
public
ßß 
bool
ßß )
GuardarMedicosMantenimiento
ßß /
(
ßß/ 0$
MedicoContratoRequestE
ßß0 F
	pMedicosE
ßßG P
)
ßßP Q
{
®® 	
try
©© 
{
™™ 
using
´´ 
(
´´ 
SqlConnection
´´ $
cnn
´´% (
=
´´) *
new
´´+ .
SqlConnection
´´/ <
(
´´< =
VariablesGlobales
´´= N
.
´´N O

CnnClinica
´´O Y
)
´´Y Z
)
´´Z [
{
¨¨ 
using
≠≠ 
(
≠≠ 

SqlCommand
≠≠ %
cmd
≠≠& )
=
≠≠* +
new
≠≠, /

SqlCommand
≠≠0 :
(
≠≠: ;
$str
≠≠; \
,
≠≠\ ]
cnn
≠≠^ a
)
≠≠a b
)
≠≠b c
{
ÆÆ 
cmd
ØØ 
.
ØØ 
CommandType
ØØ '
=
ØØ( )
CommandType
ØØ* 5
.
ØØ5 6
StoredProcedure
ØØ6 E
;
ØØE F
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
AddWithValue
±±' 3
(
±±3 4
$str
±±4 C
,
±±C D
	pMedicosE
±±E N
.
±±N O
ide_contrato
±±O [
)
±±[ \
;
±±\ ]
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ &
.
≤≤& '
AddWithValue
≤≤' 3
(
≤≤3 4
$str
≤≤4 A
,
≤≤A B
	pMedicosE
≤≤C L
.
≤≤L M

cod_medico
≤≤M W
)
≤≤W X
;
≤≤X Y
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ &
.
≥≥& '
AddWithValue
≥≥' 3
(
≥≥3 4
$str
≥≥4 ?
,
≥≥? @
	pMedicosE
≥≥A J
.
≥≥J K
cod_sede
≥≥K S
)
≥≥S T
;
≥≥T U
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ &
.
¥¥& '
AddWithValue
¥¥' 3
(
¥¥3 4
$str
¥¥4 E
,
¥¥E F
	pMedicosE
¥¥G P
.
¥¥P Q
flg_forma_pago
¥¥Q _
)
¥¥_ `
;
¥¥` a
cmd
µµ 
.
µµ 

Parameters
µµ &
.
µµ& '
AddWithValue
µµ' 3
(
µµ3 4
$str
µµ4 B
,
µµB C
	pMedicosE
µµD M
.
µµM N
mnt_mensual
µµN Y
)
µµY Z
;
µµZ [
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ &
.
∂∂& '
AddWithValue
∂∂' 3
(
∂∂3 4
$str
∂∂4 A
,
∂∂A B
	pMedicosE
∂∂C L
.
∂∂L M

fec_inicio
∂∂M W
)
∂∂W X
;
∂∂X Y
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ &
.
∑∑& '
AddWithValue
∑∑' 3
(
∑∑3 4
$str
∑∑4 >
,
∑∑> ?
	pMedicosE
∑∑@ I
.
∑∑I J
fec_fin
∑∑J Q
)
∑∑Q R
;
∑∑R S
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ &
.
∏∏& '
AddWithValue
∏∏' 3
(
∏∏3 4
$str
∏∏4 C
,
∏∏C D
	pMedicosE
∏∏E N
.
∏∏N O
fec_registro
∏∏O [
)
∏∏[ \
;
∏∏\ ]
cmd
ππ 
.
ππ 

Parameters
ππ &
.
ππ& '
AddWithValue
ππ' 3
(
ππ3 4
$str
ππ4 C
,
ππC D
	pMedicosE
ππE N
.
ππN O
usr_registro
ππO [
)
ππ[ \
;
ππ\ ]
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ &
.
∫∫& '
AddWithValue
∫∫' 3
(
∫∫3 4
$str
∫∫4 A
,
∫∫A B
	pMedicosE
∫∫C L
.
∫∫L M

flg_estado
∫∫M W
)
∫∫W X
;
∫∫X Y
cnn
ªª 
.
ªª 
Open
ªª  
(
ªª  !
)
ªª! "
;
ªª" #
if
ºº 
(
ºº 
cmd
ºº 
.
ºº  
ExecuteNonQuery
ºº  /
(
ºº/ 0
)
ºº0 1
>=
ºº2 4
$num
ºº5 6
)
ºº6 7
return
ΩΩ "
true
ΩΩ# '
;
ΩΩ' (
else
ææ 
return
øø "
false
øø# (
;
øø( )
cmd
¿¿ 
.
¿¿ 
Dispose
¿¿ #
(
¿¿# $
)
¿¿$ %
;
¿¿% &
cnn
¡¡ 
.
¡¡ 
Close
¡¡ !
(
¡¡! "
)
¡¡" #
;
¡¡# $
cnn
¬¬ 
.
¬¬ 
Dispose
¬¬ #
(
¬¬# $
)
¬¬$ %
;
¬¬% &
}
√√ 
}
ƒƒ 
}
≈≈ 
catch
∆∆ 
(
∆∆ 
	Exception
∆∆ 
ex
∆∆ 
)
∆∆  
{
«« 
throw
»» 
new
»» 
	Exception
»» #
(
»»# $
ex
»»$ &
.
»»& '
Message
»»' .
)
»». /
;
»»/ 0
}
…… 
}
   	
public
ÃÃ 
string
ÃÃ %
Sp_Medicos_ConsultaFoto
ÃÃ -
(
ÃÃ- .
string
ÃÃ. 4

pcodmedico
ÃÃ5 ?
)
ÃÃ? @
{
ÕÕ 	
IDataReader
ŒŒ 
dr
ŒŒ 
;
ŒŒ 
string
—— 

fotomedico
—— 
=
—— 
$str
——  "
;
——" #
try
““ 
{
”” 
using
‘‘ 
(
‘‘ 
SqlConnection
‘‘ $
cnn
‘‘% (
=
‘‘) *
new
‘‘+ .
SqlConnection
‘‘/ <
(
‘‘< =
VariablesGlobales
‘‘= N
.
‘‘N O

CnnClinica
‘‘O Y
)
‘‘Y Z
)
‘‘Z [
{
’’ 
using
÷÷ 
(
÷÷ 

SqlCommand
÷÷ %
cmd
÷÷& )
=
÷÷* +
new
÷÷, /

SqlCommand
÷÷0 :
(
÷÷: ;
$str
÷÷; T
,
÷÷T U
cnn
÷÷V Y
)
÷÷Y Z
)
÷÷Z [
{
◊◊ 
cmd
ÿÿ 
.
ÿÿ 
CommandType
ÿÿ '
=
ÿÿ( )
CommandType
ÿÿ* 5
.
ÿÿ5 6
StoredProcedure
ÿÿ6 E
;
ÿÿE F
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ &
.
⁄⁄& '
AddWithValue
⁄⁄' 3
(
⁄⁄3 4
$str
⁄⁄4 @
,
⁄⁄@ A

pcodmedico
⁄⁄B L
)
⁄⁄L M
;
⁄⁄M N
cnn
€€ 
.
€€ 
Open
€€  
(
€€  !
)
€€! "
;
€€" #
dr
‹‹ 
=
‹‹ 
cmd
‹‹  
.
‹‹  !
ExecuteReader
‹‹! .
(
‹‹. /
)
‹‹/ 0
;
‹‹0 1
if
›› 
(
›› 
dr
›› 
.
›› 
Read
›› #
(
››# $
)
››$ %
)
››% &
{
ﬁﬁ 

fotomedico
ﬂﬂ &
=
ﬂﬂ' (
dr
ﬂﬂ) +
[
ﬂﬂ+ ,
$str
ﬂﬂ, 8
]
ﬂﬂ8 9
.
ﬂﬂ9 :
ToString
ﬂﬂ: B
(
ﬂﬂB C
)
ﬂﬂC D
;
ﬂﬂD E
}
‡‡ 
dr
·· 
.
·· 
Close
··  
(
··  !
)
··! "
;
··" #
dr
‚‚ 
.
‚‚ 
Dispose
‚‚ "
(
‚‚" #
)
‚‚# $
;
‚‚$ %
cmd
„„ 
.
„„ 
Dispose
„„ #
(
„„# $
)
„„$ %
;
„„% &
cnn
‰‰ 
.
‰‰ 
Close
‰‰ !
(
‰‰! "
)
‰‰" #
;
‰‰# $
cnn
ÂÂ 
.
ÂÂ 
Dispose
ÂÂ #
(
ÂÂ# $
)
ÂÂ$ %
;
ÂÂ% &
return
ÁÁ 

fotomedico
ÁÁ )
;
ÁÁ) *
}
ËË 
}
ÈÈ 
}
ÍÍ 
catch
ÎÎ 
(
ÎÎ 
	Exception
ÎÎ 
ex
ÎÎ 
)
ÎÎ  
{
ÏÏ 
throw
ÌÌ 
new
ÌÌ 
	Exception
ÌÌ #
(
ÌÌ# $
ex
ÌÌ$ &
.
ÌÌ& '
Message
ÌÌ' .
)
ÌÌ. /
;
ÌÌ/ 0
}
ÓÓ 
}
ÔÔ 	
public
ÒÒ 
List
ÒÒ 
<
ÒÒ 
MedicosE
ÒÒ 
>
ÒÒ '
Sp_EmpresaMedico_Consulta
ÒÒ 7
(
ÒÒ7 8
MedicosE
ÒÒ8 @
	pMedicosE
ÒÒA J
)
ÒÒJ K
{
ÚÚ 	
IDataReader
ÛÛ 
dr
ÛÛ 
;
ÛÛ 
MedicosE
ÙÙ 
	oMedicosE
ÙÙ 
=
ÙÙ  
null
ÙÙ! %
;
ÙÙd e
List
ıı 
<
ıı 
MedicosE
ıı 
>
ıı 
oListar
ıı "
=
ıı# $
new
ıı% (
List
ıı) -
<
ıı- .
MedicosE
ıı. 6
>
ıı6 7
(
ıı7 8
)
ıı8 9
;
ıı9 :
try
ˆˆ 
{
˜˜ 
using
¯¯ 
(
¯¯ 
SqlConnection
¯¯ $
cnn
¯¯% (
=
¯¯) *
new
¯¯+ .
SqlConnection
¯¯/ <
(
¯¯< =
VariablesGlobales
¯¯= N
.
¯¯N O

CnnClinica
¯¯O Y
)
¯¯Y Z
)
¯¯Z [
{
˘˘ 
using
˙˙ 
(
˙˙ 

SqlCommand
˙˙ %
cmd
˙˙& )
=
˙˙* +
new
˙˙, /

SqlCommand
˙˙0 :
(
˙˙: ;
$str
˙˙; V
,
˙˙V W
cnn
˙˙X [
)
˙˙[ \
)
˙˙\ ]
{
˚˚ 
cmd
¸¸ 
.
¸¸ 
CommandType
¸¸ '
=
¸¸( )
CommandType
¸¸* 5
.
¸¸5 6
StoredProcedure
¸¸6 E
;
¸¸E F
cmd
˛˛ 
.
˛˛ 

Parameters
˛˛ &
.
˛˛& '
AddWithValue
˛˛' 3
(
˛˛3 4
$str
˛˛4 =
,
˛˛= >
	pMedicosE
˛˛? H
.
˛˛H I
Buscar
˛˛I O
)
˛˛O P
;
˛˛P Q
cmd
ˇˇ 
.
ˇˇ 

Parameters
ˇˇ &
.
ˇˇ& '
AddWithValue
ˇˇ' 3
(
ˇˇ3 4
$str
ˇˇ4 :
,
ˇˇ: ;
	pMedicosE
ˇˇ< E
.
ˇˇE F
Key
ˇˇF I
)
ˇˇI J
;
ˇˇJ K
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 C
,
ÄÄC D
	pMedicosE
ÄÄE N
.
ÄÄN O
NumeroLineas
ÄÄO [
)
ÄÄ[ \
;
ÄÄ\ ]
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 <
,
ÅÅ< =
	pMedicosE
ÅÅ> G
.
ÅÅG H
Orden
ÅÅH M
)
ÅÅM N
;
ÅÅN O
cnn
ÇÇ 
.
ÇÇ 
Open
ÇÇ  
(
ÇÇ  !
)
ÇÇ! "
;
ÇÇ" #
dr
ÉÉ 
=
ÉÉ 
cmd
ÉÉ  
.
ÉÉ  !
ExecuteReader
ÉÉ! .
(
ÉÉ. /
)
ÉÉ/ 0
;
ÉÉ0 1
while
ÑÑ 
(
ÑÑ 
dr
ÑÑ !
.
ÑÑ! "
Read
ÑÑ" &
(
ÑÑ& '
)
ÑÑ' (
)
ÑÑ( )
{
ÖÖ 
	oMedicosE
ÜÜ %
=
ÜÜ& '
LlenarEntidad
ÜÜ( 5
(
ÜÜ5 6
dr
ÜÜ6 8
,
ÜÜ8 9
$num
ÜÜ: ;
)
ÜÜ; <
;
ÜÜ< =
oListar
áá #
.
áá# $
Add
áá$ '
(
áá' (
	oMedicosE
áá( 1
)
áá1 2
;
áá2 3
}
àà 
dr
ââ 
.
ââ 
Close
ââ  
(
ââ  !
)
ââ! "
;
ââ" #
dr
ää 
.
ää 
Dispose
ää "
(
ää" #
)
ää# $
;
ää$ %
cmd
ãã 
.
ãã 
Dispose
ãã #
(
ãã# $
)
ãã$ %
;
ãã% &
cnn
åå 
.
åå 
Close
åå !
(
åå! "
)
åå" #
;
åå# $
cnn
çç 
.
çç 
Dispose
çç #
(
çç# $
)
çç$ %
;
çç% &
return
èè 
oListar
èè &
;
èè& '
}
êê 
}
ëë 
}
íí 
catch
ìì 
(
ìì 
	Exception
ìì 
ex
ìì 
)
ìì  
{
îî 
throw
ïï 
new
ïï 
	Exception
ïï #
(
ïï# $
ex
ïï$ &
.
ïï& '
Message
ïï' .
)
ïï. /
;
ïï/ 0
}
ññ 
}
óó 	
public
ôô 
List
ôô 
<
ôô 

MedicoWebE
ôô 
>
ôô $
Sp_MedicosWeb_Consulta
ôô  6
(
ôô6 7
)
ôô7 8
{
öö 	
IDataReader
õõ 
dr
õõ 
;
õõ 
List
úú 
<
úú 

MedicoWebE
úú 
>
úú 
oListMedicoWebE
úú ,
=
úú- .
new
úú/ 2
List
úú3 7
<
úú7 8

MedicoWebE
úú8 B
>
úúB C
(
úúC D
)
úúD E
;
úúE F
try
ùù 
{
ûû 
using
üü 
(
üü 
SqlConnection
üü $
cnn
üü% (
=
üü) *
new
üü+ .
SqlConnection
üü/ <
(
üü< =
VariablesGlobales
üü= N
.
üüN O

CnnClinica
üüO Y
)
üüY Z
)
üüZ [
{
†† 
using
°° 
(
°° 

SqlCommand
°° %
cmd
°°& )
=
°°* +
new
°°, /

SqlCommand
°°0 :
(
°°: ;
$str
°°; R
,
°°R S
cnn
°°T W
)
°°W X
)
°°X Y
{
¢¢ 
cmd
££ 
.
££ 
CommandType
££ '
=
££( )
CommandType
££* 5
.
££5 6
StoredProcedure
££6 E
;
££E F
cnn
§§ 
.
§§ 
Open
§§  
(
§§  !
)
§§! "
;
§§" #
dr
•• 
=
•• 
cmd
••  
.
••  !
ExecuteReader
••! .
(
••. /
)
••/ 0
;
••0 1
while
¶¶ 
(
¶¶ 
dr
¶¶ !
.
¶¶! "
Read
¶¶" &
(
¶¶& '
)
¶¶' (
)
¶¶( )
{
ßß 

MedicoWebE
®® &
oMedicoWebE
®®' 2
=
®®3 4
new
®®5 8

MedicoWebE
®®9 C
(
®®C D
)
®®D E
;
®®E F
oMedicoWebE
©© '
.
©©' (
idm
©©( +
=
©©, -
(
©©. /
int
©©/ 2
)
©©2 3
dr
©©3 5
[
©©5 6
$str
©©6 ;
]
©©; <
;
©©= >
oMedicoWebE
™™ '
.
™™' (
nombres_apellidos
™™( 9
=
™™: ;
(
™™< =
string
™™= C
)
™™C D
dr
™™D F
[
™™F G
$str
™™G Z
]
™™Z [
+
™™\ ]
$str
™™^ `
;
™™` a
oMedicoWebE
´´ '
.
´´' (
especialidad
´´( 4
=
´´5 6
(
´´7 8
string
´´8 >
)
´´> ?
dr
´´? A
[
´´A B
$str
´´B P
]
´´P Q
+
´´R S
$str
´´T V
;
´´V W
oMedicoWebE
¨¨ '
.
¨¨' (
subespecialidad
¨¨( 7
=
¨¨8 9
(
¨¨: ;
string
¨¨; A
)
¨¨A B
dr
¨¨B D
[
¨¨D E
$str
¨¨E V
]
¨¨V W
+
¨¨X Y
$str
¨¨Z \
;
¨¨\ ]
oMedicoWebE
≠≠ '
.
≠≠' (

img_medico
≠≠( 2
=
≠≠3 4
(
≠≠5 6
string
≠≠6 <
)
≠≠< =
dr
≠≠= ?
[
≠≠? @
$str
≠≠@ L
]
≠≠L M
+
≠≠N O
$str
≠≠P R
;
≠≠R S
oMedicoWebE
ÆÆ '
.
ÆÆ' (
online
ÆÆ( .
=
ÆÆ/ 0
(
ÆÆ1 2
int
ÆÆ2 5
)
ÆÆ5 6
dr
ÆÆ6 8
[
ÆÆ8 9
$str
ÆÆ9 A
]
ÆÆA B
;
ÆÆC D
oMedicoWebE
ØØ '
.
ØØ' (
sedes_atencion
ØØ( 6
=
ØØ7 8
(
ØØ9 :
string
ØØ: @
)
ØØ@ A
dr
ØØA C
[
ØØC D
$str
ØØD T
]
ØØT U
+
ØØV W
$str
ØØX Z
;
ØØZ [
oMedicoWebE
∞∞ '
.
∞∞' (
palabra_clave
∞∞( 5
=
∞∞6 7
(
∞∞8 9
string
∞∞9 ?
)
∞∞? @
dr
∞∞@ B
[
∞∞B C
$str
∞∞C R
]
∞∞R S
+
∞∞T U
$str
∞∞V X
;
∞∞X Y
oMedicoWebE
±± '
.
±±' (

url_medico
±±( 2
=
±±3 4
(
±±5 6
string
±±6 <
)
±±< =
dr
±±= ?
[
±±? @
$str
±±@ L
]
±±L M
+
±±N O
$str
±±P R
;
±±R S
oListMedicoWebE
≤≤ +
.
≤≤+ ,
Add
≤≤, /
(
≤≤/ 0
oMedicoWebE
≤≤0 ;
)
≤≤; <
;
≤≤< =
}
≥≥ 
dr
¥¥ 
.
¥¥ 
Close
¥¥  
(
¥¥  !
)
¥¥! "
;
¥¥" #
dr
µµ 
.
µµ 
Dispose
µµ "
(
µµ" #
)
µµ# $
;
µµ$ %
cmd
∂∂ 
.
∂∂ 
Dispose
∂∂ #
(
∂∂# $
)
∂∂$ %
;
∂∂% &
cnn
∑∑ 
.
∑∑ 
Close
∑∑ !
(
∑∑! "
)
∑∑" #
;
∑∑# $
cnn
∏∏ 
.
∏∏ 
Dispose
∏∏ #
(
∏∏# $
)
∏∏$ %
;
∏∏% &
return
∫∫ 
oListMedicoWebE
∫∫ .
;
∫∫. /
}
ªª 
}
ºº 
}
ΩΩ 
catch
ææ 
(
ææ 
	Exception
ææ 
ex
ææ 
)
ææ  
{
øø 
throw
¿¿ 
new
¿¿ 
	Exception
¿¿ #
(
¿¿# $
ex
¿¿$ &
.
¿¿& '
Message
¿¿' .
)
¿¿. /
;
¿¿/ 0
}
¡¡ 
}
¬¬ 	
public
≈≈ 
MedicoDetalleWebE
≈≈  +
Sp_MedicoWeb_Detalle_Consulta
≈≈! >
(
≈≈> ?
int
≈≈? B
pidm
≈≈C G
)
≈≈G H
{
∆∆ 	
IDataReader
«« 
dr
«« 
;
«« 
MedicoDetalleWebE
»»  
oMedicoDetalleWebE
»» 0
=
»»1 2
new
»»3 6
MedicoDetalleWebE
»»7 H
(
»»H I
)
»»I J
;
»»J K
try
…… 
{
   
using
ÀÀ 
(
ÀÀ 
SqlConnection
ÀÀ $
cnn
ÀÀ% (
=
ÀÀ) *
new
ÀÀ+ .
SqlConnection
ÀÀ/ <
(
ÀÀ< =
VariablesGlobales
ÀÀ= N
.
ÀÀN O

CnnClinica
ÀÀO Y
)
ÀÀY Z
)
ÀÀZ [
{
ÃÃ 
using
ÕÕ 
(
ÕÕ 

SqlCommand
ÕÕ %
cmd
ÕÕ& )
=
ÕÕ* +
new
ÕÕ, /

SqlCommand
ÕÕ0 :
(
ÕÕ: ;
$str
ÕÕ; Z
,
ÕÕZ [
cnn
ÕÕ\ _
)
ÕÕ_ `
)
ÕÕ` a
{
ŒŒ 
cmd
œœ 
.
œœ 
CommandType
œœ '
=
œœ( )
CommandType
œœ* 5
.
œœ5 6
StoredProcedure
œœ6 E
;
œœE F
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 :
,
——: ;
pidm
——< @
)
——@ A
;
——A B
cnn
”” 
.
”” 
Open
””  
(
””  !
)
””! "
;
””" #
dr
‘‘ 
=
‘‘ 
cmd
‘‘  
.
‘‘  !
ExecuteReader
‘‘! .
(
‘‘. /
)
‘‘/ 0
;
‘‘0 1
while
’’ 
(
’’ 
dr
’’ !
.
’’! "
Read
’’" &
(
’’& '
)
’’' (
)
’’( )
{
÷÷  
oMedicoDetalleWebE
◊◊ .
.
◊◊. /
idm
◊◊/ 2
=
◊◊3 4
(
◊◊5 6
int
◊◊6 9
)
◊◊9 :
dr
◊◊: <
[
◊◊< =
$str
◊◊= B
]
◊◊B C
;
◊◊C D 
oMedicoDetalleWebE
ÿÿ .
.
ÿÿ. /
nombres
ÿÿ/ 6
=
ÿÿ7 8
(
ÿÿ9 :
string
ÿÿ: @
)
ÿÿ@ A
dr
ÿÿA C
[
ÿÿC D
$str
ÿÿD M
]
ÿÿM N
+
ÿÿO P
$str
ÿÿQ S
;
ÿÿS T 
oMedicoDetalleWebE
ŸŸ .
.
ŸŸ. /
	apellidos
ŸŸ/ 8
=
ŸŸ9 :
(
ŸŸ; <
string
ŸŸ< B
)
ŸŸB C
dr
ŸŸC E
[
ŸŸE F
$str
ŸŸF Q
]
ŸŸQ R
+
ŸŸS T
$str
ŸŸU W
;
ŸŸW X 
oMedicoDetalleWebE
⁄⁄ .
.
⁄⁄. /
especialidad
⁄⁄/ ;
=
⁄⁄< =
(
⁄⁄> ?
string
⁄⁄? E
)
⁄⁄E F
dr
⁄⁄F H
[
⁄⁄H I
$str
⁄⁄I W
]
⁄⁄W X
+
⁄⁄Y Z
$str
⁄⁄[ ]
;
⁄⁄] ^ 
oMedicoDetalleWebE
€€ .
.
€€. /
subespecialidad
€€/ >
=
€€? @
(
€€A B
string
€€B H
)
€€H I
dr
€€I K
[
€€K L
$str
€€L ]
]
€€] ^
+
€€_ `
$str
€€a c
;
€€c d 
oMedicoDetalleWebE
‹‹ .
.
‹‹. /
tipo_atencion
‹‹/ <
=
‹‹= >
(
‹‹? @
string
‹‹@ F
)
‹‹F G
dr
‹‹G I
[
‹‹I J
$str
‹‹J Y
]
‹‹Y Z
+
‹‹[ \
$str
‹‹] _
;
‹‹_ ` 
oMedicoDetalleWebE
›› .
.
››. /
sedes_atencion
››/ =
=
››> ?
(
››@ A
string
››A G
)
››G H
dr
››H J
[
››J K
$str
››K [
]
››[ \
+
››] ^
$str
››_ a
;
››a b 
oMedicoDetalleWebE
ﬁﬁ .
.
ﬁﬁ. /

img_medico
ﬁﬁ/ 9
=
ﬁﬁ: ;
(
ﬁﬁ< =
string
ﬁﬁ= C
)
ﬁﬁC D
dr
ﬁﬁD F
[
ﬁﬁF G
$str
ﬁﬁG S
]
ﬁﬁS T
+
ﬁﬁU V
$str
ﬁﬁW Y
;
ﬁﬁY Z 
oMedicoDetalleWebE
ﬂﬂ .
.
ﬂﬂ. /
mas_informacion
ﬂﬂ/ >
=
ﬂﬂ? @
(
ﬂﬂA B
string
ﬂﬂB H
)
ﬂﬂH I
dr
ﬂﬂI K
[
ﬂﬂK L
$str
ﬂﬂL ]
]
ﬂﬂ] ^
+
ﬂﬂ_ `
$str
ﬂﬂa c
;
ﬂﬂc d 
oMedicoDetalleWebE
‡‡ .
.
‡‡. /#
trayectoria_formacion
‡‡/ D
=
‡‡E F
(
‡‡G H
string
‡‡H N
)
‡‡N O
dr
‡‡O Q
[
‡‡Q R
$str
‡‡R i
]
‡‡i j
+
‡‡k l
$str
‡‡m o
;
‡‡o p 
oMedicoDetalleWebE
·· .
.
··. /
areas_interes
··/ <
=
··= >
(
··? @
string
··@ F
)
··F G
dr
··G I
[
··I J
$str
··J Y
]
··Y Z
+
··[ \
$str
··] _
;
··_ ` 
oMedicoDetalleWebE
‚‚ .
.
‚‚. /
online
‚‚/ 5
=
‚‚6 7
(
‚‚8 9
int
‚‚9 <
)
‚‚< =
dr
‚‚= ?
[
‚‚? @
$str
‚‚@ H
]
‚‚H I
;
‚‚I J
}
„„ 
dr
‰‰ 
.
‰‰ 
Close
‰‰  
(
‰‰  !
)
‰‰! "
;
‰‰" #
dr
ÂÂ 
.
ÂÂ 
Dispose
ÂÂ "
(
ÂÂ" #
)
ÂÂ# $
;
ÂÂ$ %
cmd
ÊÊ 
.
ÊÊ 
Dispose
ÊÊ #
(
ÊÊ# $
)
ÊÊ$ %
;
ÊÊ% &
cnn
ÁÁ 
.
ÁÁ 
Close
ÁÁ !
(
ÁÁ! "
)
ÁÁ" #
;
ÁÁ# $
cnn
ËË 
.
ËË 
Dispose
ËË #
(
ËË# $
)
ËË$ %
;
ËË% &
return
ÍÍ  
oMedicoDetalleWebE
ÍÍ 1
;
ÍÍ1 2
}
ÎÎ 
}
ÏÏ 
}
ÌÌ 
catch
ÓÓ 
(
ÓÓ 
	Exception
ÓÓ 
ex
ÓÓ 
)
ÓÓ  
{
ÔÔ 
throw
 
new
 
	Exception
 #
(
# $
ex
$ &
.
& '
Message
' .
)
. /
;
/ 0
}
ÒÒ 
}
ÚÚ 	
public
ÙÙ 
MedicoDetalleWebE
ÙÙ  -
Sp_MedicoWeb_Detalle_ConsultaV2
ÙÙ! @
(
ÙÙ@ A
string
ÙÙA G

url_medico
ÙÙH R
)
ÙÙR S
{
ıı 	
IDataReader
ˆˆ 
dr
ˆˆ 
;
ˆˆ 
MedicoDetalleWebE
˜˜  
oMedicoDetalleWebE
˜˜ 0
=
˜˜1 2
new
˜˜3 6
MedicoDetalleWebE
˜˜7 H
(
˜˜H I
)
˜˜I J
;
˜˜J K
try
¯¯ 
{
˘˘ 
using
˙˙ 
(
˙˙ 
SqlConnection
˙˙ $
cnn
˙˙% (
=
˙˙) *
new
˙˙+ .
SqlConnection
˙˙/ <
(
˙˙< =
VariablesGlobales
˙˙= N
.
˙˙N O

CnnClinica
˙˙O Y
)
˙˙Y Z
)
˙˙Z [
{
˚˚ 
using
¸¸ 
(
¸¸ 

SqlCommand
¸¸ %
cmd
¸¸& )
=
¸¸* +
new
¸¸, /

SqlCommand
¸¸0 :
(
¸¸: ;
$str
¸¸; \
,
¸¸\ ]
cnn
¸¸^ a
)
¸¸a b
)
¸¸b c
{
˝˝ 
cmd
˛˛ 
.
˛˛ 
CommandType
˛˛ '
=
˛˛( )
CommandType
˛˛* 5
.
˛˛5 6
StoredProcedure
˛˛6 E
;
˛˛E F
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 A
,
ÄÄA B

url_medico
ÄÄC M
)
ÄÄM N
;
ÄÄN O
cnn
ÇÇ 
.
ÇÇ 
Open
ÇÇ  
(
ÇÇ  !
)
ÇÇ! "
;
ÇÇ" #
dr
ÉÉ 
=
ÉÉ 
cmd
ÉÉ  
.
ÉÉ  !
ExecuteReader
ÉÉ! .
(
ÉÉ. /
)
ÉÉ/ 0
;
ÉÉ0 1
while
ÑÑ 
(
ÑÑ 
dr
ÑÑ !
.
ÑÑ! "
Read
ÑÑ" &
(
ÑÑ& '
)
ÑÑ' (
)
ÑÑ( )
{
ÖÖ  
oMedicoDetalleWebE
ÜÜ .
.
ÜÜ. /
idm
ÜÜ/ 2
=
ÜÜ3 4
(
ÜÜ5 6
int
ÜÜ6 9
)
ÜÜ9 :
dr
ÜÜ: <
[
ÜÜ< =
$str
ÜÜ= B
]
ÜÜB C
;
ÜÜC D 
oMedicoDetalleWebE
áá .
.
áá. /
nombres
áá/ 6
=
áá7 8
(
áá9 :
string
áá: @
)
áá@ A
dr
ááA C
[
ááC D
$str
ááD M
]
ááM N
+
ááO P
$str
ááQ S
;
ááS T 
oMedicoDetalleWebE
àà .
.
àà. /
	apellidos
àà/ 8
=
àà9 :
(
àà; <
string
àà< B
)
ààB C
dr
ààC E
[
ààE F
$str
ààF Q
]
ààQ R
+
ààS T
$str
ààU W
;
ààW X 
oMedicoDetalleWebE
ââ .
.
ââ. /
especialidad
ââ/ ;
=
ââ< =
(
ââ> ?
string
ââ? E
)
ââE F
dr
ââF H
[
ââH I
$str
ââI W
]
ââW X
+
ââY Z
$str
ââ[ ]
;
ââ] ^ 
oMedicoDetalleWebE
ää .
.
ää. /
subespecialidad
ää/ >
=
ää? @
(
ääA B
string
ääB H
)
ääH I
dr
ääI K
[
ääK L
$str
ääL ]
]
ää] ^
+
ää_ `
$str
ääa c
;
ääc d 
oMedicoDetalleWebE
ãã .
.
ãã. /
tipo_atencion
ãã/ <
=
ãã= >
(
ãã? @
string
ãã@ F
)
ããF G
dr
ããG I
[
ããI J
$str
ããJ Y
]
ããY Z
+
ãã[ \
$str
ãã] _
;
ãã_ ` 
oMedicoDetalleWebE
åå .
.
åå. /
sedes_atencion
åå/ =
=
åå> ?
(
åå@ A
string
ååA G
)
ååG H
dr
ååH J
[
ååJ K
$str
ååK [
]
åå[ \
+
åå] ^
$str
åå_ a
;
ååa b 
oMedicoDetalleWebE
çç .
.
çç. /

img_medico
çç/ 9
=
çç: ;
(
çç< =
string
çç= C
)
ççC D
dr
ççD F
[
ççF G
$str
ççG S
]
ççS T
+
ççU V
$str
ççW Y
;
ççY Z 
oMedicoDetalleWebE
éé .
.
éé. /
mas_informacion
éé/ >
=
éé? @
(
ééA B
string
ééB H
)
ééH I
dr
ééI K
[
ééK L
$str
ééL ]
]
éé] ^
+
éé_ `
$str
ééa c
;
ééc d 
oMedicoDetalleWebE
èè .
.
èè. /#
trayectoria_formacion
èè/ D
=
èèE F
(
èèG H
string
èèH N
)
èèN O
dr
èèO Q
[
èèQ R
$str
èèR i
]
èèi j
+
èèk l
$str
èèm o
;
èèo p 
oMedicoDetalleWebE
êê .
.
êê. /
areas_interes
êê/ <
=
êê= >
(
êê? @
string
êê@ F
)
êêF G
dr
êêG I
[
êêI J
$str
êêJ Y
]
êêY Z
+
êê[ \
$str
êê] _
;
êê_ ` 
oMedicoDetalleWebE
ëë .
.
ëë. /
online
ëë/ 5
=
ëë6 7
(
ëë8 9
int
ëë9 <
)
ëë< =
dr
ëë= ?
[
ëë? @
$str
ëë@ H
]
ëëH I
;
ëëI J
}
íí 
dr
ìì 
.
ìì 
Close
ìì  
(
ìì  !
)
ìì! "
;
ìì" #
dr
îî 
.
îî 
Dispose
îî "
(
îî" #
)
îî# $
;
îî$ %
cmd
ïï 
.
ïï 
Dispose
ïï #
(
ïï# $
)
ïï$ %
;
ïï% &
cnn
ññ 
.
ññ 
Close
ññ !
(
ññ! "
)
ññ" #
;
ññ# $
cnn
óó 
.
óó 
Dispose
óó #
(
óó# $
)
óó$ %
;
óó% &
return
ôô  
oMedicoDetalleWebE
ôô 1
;
ôô1 2
}
öö 
}
õõ 
}
úú 
catch
ùù 
(
ùù 
	Exception
ùù 
ex
ùù 
)
ùù  
{
ûû 
throw
üü 
new
üü 
	Exception
üü #
(
üü# $
ex
üü$ &
.
üü& '
Message
üü' .
)
üü. /
;
üü/ 0
}
†† 
}
°° 	
public
££ 
List
££ 
<
££ 
EspecialidadWebE
££ $
>
££$ %)
Sp_EspecialidadWeb_Consulta
££& A
(
££A B
)
££B C
{
§§ 	
IDataReader
•• 
dr
•• 
;
•• 
List
¶¶ 
<
¶¶ 
EspecialidadWebE
¶¶ !
>
¶¶! "!
lstEspecialidadWebE
¶¶# 6
=
¶¶7 8
new
¶¶9 <
List
¶¶= A
<
¶¶A B
EspecialidadWebE
¶¶B R
>
¶¶R S
(
¶¶S T
)
¶¶T U
;
¶¶U V
try
ßß 
{
®® 
using
©© 
(
©© 
SqlConnection
©© $
cnn
©©% (
=
©©) *
new
©©+ .
SqlConnection
©©/ <
(
©©< =
VariablesGlobales
©©= N
.
©©N O

CnnClinica
©©O Y
)
©©Y Z
)
©©Z [
{
™™ 
using
´´ 
(
´´ 

SqlCommand
´´ %
cmd
´´& )
=
´´* +
new
´´, /

SqlCommand
´´0 :
(
´´: ;
$str
´´; X
,
´´X Y
cnn
´´Z ]
)
´´] ^
)
´´^ _
{
¨¨ 
cmd
≠≠ 
.
≠≠ 
CommandType
≠≠ '
=
≠≠( )
CommandType
≠≠* 5
.
≠≠5 6
StoredProcedure
≠≠6 E
;
≠≠E F
cnn
ÆÆ 
.
ÆÆ 
Open
ÆÆ  
(
ÆÆ  !
)
ÆÆ! "
;
ÆÆ" #
dr
ØØ 
=
ØØ 
cmd
ØØ  
.
ØØ  !
ExecuteReader
ØØ! .
(
ØØ. /
)
ØØ/ 0
;
ØØ0 1
while
∞∞ 
(
∞∞ 
dr
∞∞ !
.
∞∞! "
Read
∞∞" &
(
∞∞& '
)
∞∞' (
)
∞∞( )
{
±± 
EspecialidadWebE
≤≤ ,
oEspecialidadWebE
≤≤- >
=
≤≤? @
new
≤≤A D
EspecialidadWebE
≤≤E U
(
≤≤U V
)
≤≤V W
;
≤≤W X
oEspecialidadWebE
≥≥ -
.
≥≥- .
idesp
≥≥. 3
=
≥≥4 5
(
≥≥6 7
int
≥≥7 :
)
≥≥: ;
dr
≥≥; =
[
≥≥= >
$str
≥≥> E
]
≥≥E F
;
≥≥F G
oEspecialidadWebE
¥¥ -
.
¥¥- .
especialidad
¥¥. :
=
¥¥; <
(
¥¥= >
string
¥¥> D
)
¥¥D E
dr
¥¥E G
[
¥¥G H
$str
¥¥H V
]
¥¥V W
+
¥¥X Y
$str
¥¥Z \
;
¥¥\ ]
oEspecialidadWebE
µµ -
.
µµ- .
subespecialidad
µµ. =
=
µµ> ?
(
µµ@ A
string
µµA G
)
µµG H
dr
µµH J
[
µµJ K
$str
µµK \
]
µµ\ ]
+
µµ^ _
$str
µµ` b
;
µµb c!
lstEspecialidadWebE
∂∂ /
.
∂∂/ 0
Add
∂∂0 3
(
∂∂3 4
oEspecialidadWebE
∂∂4 E
)
∂∂E F
;
∂∂F G
}
∑∑ 
dr
∏∏ 
.
∏∏ 
Close
∏∏  
(
∏∏  !
)
∏∏! "
;
∏∏" #
dr
ππ 
.
ππ 
Dispose
ππ "
(
ππ" #
)
ππ# $
;
ππ$ %
cmd
∫∫ 
.
∫∫ 
Dispose
∫∫ #
(
∫∫# $
)
∫∫$ %
;
∫∫% &
cnn
ªª 
.
ªª 
Close
ªª !
(
ªª! "
)
ªª" #
;
ªª# $
cnn
ºº 
.
ºº 
Dispose
ºº #
(
ºº# $
)
ºº$ %
;
ºº% &
return
ææ !
lstEspecialidadWebE
ææ 2
;
ææ2 3
}
øø 
}
¿¿ 
}
¡¡ 
catch
¬¬ 
(
¬¬ 
	Exception
¬¬ 
ex
¬¬ 
)
¬¬  
{
√√ 
throw
ƒƒ 
new
ƒƒ 
	Exception
ƒƒ #
(
ƒƒ# $
ex
ƒƒ$ &
.
ƒƒ& '
Message
ƒƒ' .
)
ƒƒ. /
;
ƒƒ/ 0
}
≈≈ 
}
∆∆ 	
public
»» 
List
»» 
<
»» %
EspecialidadDetalleWebE
»» +
>
»»+ ,0
"Sp_EspecialidadDetalleWeb_Consulta
»»- O
(
»»O P
int
»»P S
pesp
»»T X
)
»»X Y
{
…… 	
IDataReader
   
dr
   
;
   
List
ÀÀ 
<
ÀÀ %
EspecialidadDetalleWebE
ÀÀ (
>
ÀÀ( )(
lstEspecialidadDetalleWebE
ÀÀ* D
=
ÀÀE F
new
ÀÀG J
List
ÀÀK O
<
ÀÀO P%
EspecialidadDetalleWebE
ÀÀP g
>
ÀÀg h
(
ÀÀh i
)
ÀÀi j
;
ÀÀj k
try
ÃÃ 
{
ÕÕ 
using
ŒŒ 
(
ŒŒ 
SqlConnection
ŒŒ $
cnn
ŒŒ% (
=
ŒŒ) *
new
ŒŒ+ .
SqlConnection
ŒŒ/ <
(
ŒŒ< =
VariablesGlobales
ŒŒ= N
.
ŒŒN O

CnnClinica
ŒŒO Y
)
ŒŒY Z
)
ŒŒZ [
{
œœ 
using
–– 
(
–– 

SqlCommand
–– %
cmd
––& )
=
––* +
new
––, /

SqlCommand
––0 :
(
––: ;
$str
––; _
,
––_ `
cnn
––a d
)
––d e
)
––e f
{
—— 
cmd
““ 
.
““ 
CommandType
““ '
=
““( )
CommandType
““* 5
.
““5 6
StoredProcedure
““6 E
;
““E F
cmd
”” 
.
”” 

Parameters
”” &
.
””& '
AddWithValue
””' 3
(
””3 4
$str
””4 ;
,
””; <
pesp
””= A
)
””A B
;
””B C
cnn
‘‘ 
.
‘‘ 
Open
‘‘  
(
‘‘  !
)
‘‘! "
;
‘‘" #
dr
’’ 
=
’’ 
cmd
’’  
.
’’  !
ExecuteReader
’’! .
(
’’. /
)
’’/ 0
;
’’0 1
while
÷÷ 
(
÷÷ 
dr
÷÷ !
.
÷÷! "
Read
÷÷" &
(
÷÷& '
)
÷÷' (
)
÷÷( )
{
◊◊ %
EspecialidadDetalleWebE
ÿÿ 3
oEspecialidadWebE
ÿÿ4 E
=
ÿÿF G
new
ÿÿH K%
EspecialidadDetalleWebE
ÿÿL c
(
ÿÿc d
)
ÿÿd e
;
ÿÿe f
oEspecialidadWebE
ŸŸ -
.
ŸŸ- .
especialidad
ŸŸ. :
=
ŸŸ; <
(
ŸŸ= >
string
ŸŸ> D
)
ŸŸD E
dr
ŸŸE G
[
ŸŸG H
$str
ŸŸH V
]
ŸŸV W
+
ŸŸX Y
$str
ŸŸZ \
;
ŸŸ\ ]
oEspecialidadWebE
⁄⁄ -
.
⁄⁄- .
sede_atencion
⁄⁄. ;
=
⁄⁄< =
(
⁄⁄> ?
string
⁄⁄? E
)
⁄⁄E F
dr
⁄⁄F H
[
⁄⁄H I
$str
⁄⁄I X
]
⁄⁄X Y
+
⁄⁄Z [
$str
⁄⁄\ ^
;
⁄⁄^ _(
lstEspecialidadDetalleWebE
€€ 6
.
€€6 7
Add
€€7 :
(
€€: ;
oEspecialidadWebE
€€; L
)
€€L M
;
€€M N
}
‹‹ 
dr
›› 
.
›› 
Close
››  
(
››  !
)
››! "
;
››" #
dr
ﬁﬁ 
.
ﬁﬁ 
Dispose
ﬁﬁ "
(
ﬁﬁ" #
)
ﬁﬁ# $
;
ﬁﬁ$ %
cmd
ﬂﬂ 
.
ﬂﬂ 
Dispose
ﬂﬂ #
(
ﬂﬂ# $
)
ﬂﬂ$ %
;
ﬂﬂ% &
cnn
‡‡ 
.
‡‡ 
Close
‡‡ !
(
‡‡! "
)
‡‡" #
;
‡‡# $
cnn
·· 
.
·· 
Dispose
·· #
(
··# $
)
··$ %
;
··% &
return
„„ (
lstEspecialidadDetalleWebE
„„ 9
;
„„9 :
}
‰‰ 
}
ÂÂ 
}
ÊÊ 
catch
ÁÁ 
(
ÁÁ 
	Exception
ÁÁ 
ex
ÁÁ 
)
ÁÁ  
{
ËË 
throw
ÈÈ 
new
ÈÈ 
	Exception
ÈÈ #
(
ÈÈ# $
ex
ÈÈ$ &
.
ÈÈ& '
Message
ÈÈ' .
)
ÈÈ. /
;
ÈÈ/ 0
}
ÍÍ 
}
ÎÎ 	
public
ÓÓ 
string
ÓÓ "
Sp_MedicoWeb_Usuario
ÓÓ *
(
ÓÓ* +
string
ÓÓ+ 1
usuario
ÓÓ2 9
,
ÓÓ9 :
string
ÓÓ; A
password
ÓÓB J
)
ÓÓJ K
{
ÔÔ 	
IDataReader
 
dr
 
;
 
string
ÒÒ 
	resultado
ÒÒ 
=
ÒÒ 
$str
ÒÒ !
;
ÒÒ! "
try
ÚÚ 
{
ÛÛ 
using
ÙÙ 
(
ÙÙ 
SqlConnection
ÙÙ $
cnn
ÙÙ% (
=
ÙÙ) *
new
ÙÙ+ .
SqlConnection
ÙÙ/ <
(
ÙÙ< =
VariablesGlobales
ÙÙ= N
.
ÙÙN O

CnnClinica
ÙÙO Y
)
ÙÙY Z
)
ÙÙZ [
{
ıı 
using
ˆˆ 
(
ˆˆ 

SqlCommand
ˆˆ %
cmd
ˆˆ& )
=
ˆˆ* +
new
ˆˆ, /

SqlCommand
ˆˆ0 :
(
ˆˆ: ;
$str
ˆˆ; Q
,
ˆˆQ R
cnn
ˆˆS V
)
ˆˆV W
)
ˆˆW X
{
˜˜ 
cmd
¯¯ 
.
¯¯ 
CommandType
¯¯ '
=
¯¯( )
CommandType
¯¯* 5
.
¯¯5 6
StoredProcedure
¯¯6 E
;
¯¯E F
cmd
˙˙ 
.
˙˙ 

Parameters
˙˙ &
.
˙˙& '
AddWithValue
˙˙' 3
(
˙˙3 4
$str
˙˙4 >
,
˙˙> ?
usuario
˙˙@ G
)
˙˙G H
;
˙˙H I
cmd
˚˚ 
.
˚˚ 

Parameters
˚˚ &
.
˚˚& '
AddWithValue
˚˚' 3
(
˚˚3 4
$str
˚˚4 ?
,
˚˚? @
password
˚˚A I
)
˚˚I J
;
˚˚J K
cnn
˝˝ 
.
˝˝ 
Open
˝˝  
(
˝˝  !
)
˝˝! "
;
˝˝" #
dr
˛˛ 
=
˛˛ 
cmd
˛˛  
.
˛˛  !
ExecuteReader
˛˛! .
(
˛˛. /
)
˛˛/ 0
;
˛˛0 1
while
ˇˇ 
(
ˇˇ 
dr
ˇˇ !
.
ˇˇ! "
Read
ˇˇ" &
(
ˇˇ& '
)
ˇˇ' (
)
ˇˇ( )
{
Ä	Ä	 
	resultado
Å	Å	 %
=
Å	Å	& '
(
Å	Å	( )
string
Å	Å	) /
)
Å	Å	/ 0
dr
Å	Å	0 2
[
Å	Å	2 3
$str
Å	Å	3 >
]
Å	Å	> ?
+
Å	Å	@ A
$str
Å	Å	B D
;
Å	Å	D E
}
Ç	Ç	 
dr
É	É	 
.
É	É	 
Close
É	É	  
(
É	É	  !
)
É	É	! "
;
É	É	" #
dr
Ñ	Ñ	 
.
Ñ	Ñ	 
Dispose
Ñ	Ñ	 "
(
Ñ	Ñ	" #
)
Ñ	Ñ	# $
;
Ñ	Ñ	$ %
cmd
Ö	Ö	 
.
Ö	Ö	 
Dispose
Ö	Ö	 #
(
Ö	Ö	# $
)
Ö	Ö	$ %
;
Ö	Ö	% &
cnn
Ü	Ü	 
.
Ü	Ü	 
Close
Ü	Ü	 !
(
Ü	Ü	! "
)
Ü	Ü	" #
;
Ü	Ü	# $
cnn
á	á	 
.
á	á	 
Dispose
á	á	 #
(
á	á	# $
)
á	á	$ %
;
á	á	% &
return
â	â	 
	resultado
â	â	 (
;
â	â	( )
}
ä	ä	 
}
ã	ã	 
}
å	å	 
catch
ç	ç	 
(
ç	ç	 
	Exception
ç	ç	 
ex
ç	ç	 
)
ç	ç	  
{
é	é	 
throw
è	è	 
new
è	è	 
	Exception
è	è	 #
(
è	è	# $
ex
è	è	$ &
.
è	è	& '
Message
è	è	' .
)
è	è	. /
;
è	è	/ 0
}
ê	ê	 
}
ë	ë	 	
}
ì	ì	 
}î	î	 ÆÅ
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedicosAD\MedicoReporteAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
	MedicosAD %
{ 
public 

class 
MedicoReporteAD  
{ 
private 
MedicoReporteE 
LlenarEntidad ,
(, -
IDataReader- 8
dr9 ;
,; <
MedicoReporteE= K
pMedicoReporteEL [
)[ \
{ 	
MedicoReporteE 
oMedicoReporteE *
=+ ,
new- 0
MedicoReporteE1 ?
(? @
)@ A
;A B
oMedicoReporteE 
. 
CMP 
=  !
Convert" )
.) *
ToString* 2
(2 3
dr3 5
[5 6
$str6 ;
]; <
)< =
;= >
oMedicoReporteE 
. 
Nombres #
=$ %
Convert& -
.- .
ToString. 6
(6 7
dr7 9
[9 :
$str: C
]C D
)D E
;E F
oMedicoReporteE 
. 
	Documento %
=& '
Convert( /
./ 0
ToString0 8
(8 9
dr9 ;
[; <
$str< G
]G H
)H I
;I J
oMedicoReporteE 
. 
Celular #
=$ %
Convert& -
.- .
ToString. 6
(6 7
dr7 9
[9 :
$str: C
]C D
)D E
;E F
oMedicoReporteE 
. 
Email !
=" #
Convert$ +
.+ ,
ToString, 4
(4 5
dr5 7
[7 8
$str8 ?
]? @
)@ A
;A B
oMedicoReporteE 
. 
	Servicios %
=& '
Convert( /
./ 0
ToString0 8
(8 9
dr9 ;
[; <
$str< G
]G H
)H I
;I J
oMedicoReporteE   
.   
Especialidad   (
=  ) *
Convert  + 2
.  2 3
ToString  3 ;
(  ; <
dr  < >
[  > ?
$str  ? M
]  M N
)  N O
;  O P
return!! 
oMedicoReporteE!! "
;!!" #
}"" 	
public$$ 
List$$ 
<$$ 
MedicoReporteE$$ "
>$$" #
Rp_RceMedicos$$$ 1
($$1 2
MedicoReporteE$$2 @
pMedicoReporteE$$A P
)$$P Q
{%% 	
List&& 
<&& 
MedicoReporteE&& 
>&&  
oListar&&! (
=&&) *
new&&+ .
List&&/ 3
<&&3 4
MedicoReporteE&&4 B
>&&B C
(&&C D
)&&D E
;&&E F
MedicoReporteE'' 
oMedicoReporteE'' *
=''+ ,
new''- 0
MedicoReporteE''1 ?
(''? @
)''@ A
;''A B
using(( 
((( 
SqlConnection((  
cnn((! $
=((% &
new((' *
SqlConnection((+ 8
(((8 9
VariablesGlobales((9 J
.((J K

CnnClinica((K U
)((U V
)((V W
{)) 
using** 
(** 

SqlCommand** !
cmd**" %
=**& '
new**( +

SqlCommand**, 6
(**6 7
$str**7 F
,**F G
cnn**H K
)**K L
)**L M
{++ 
var,, 
dt,, 
=,, 
new,,  
	DataTable,,! *
(,,* +
),,+ ,
;,,, -
cmd-- 
.-- 
CommandType-- #
=--$ %
System--& ,
.--, -
Data--- 1
.--1 2
CommandType--2 =
.--= >
StoredProcedure--> M
;--M N
cmd.. 
... 

Parameters.. "
..." #
AddWithValue..# /
(../ 0
$str..0 6
,..6 7
pMedicoReporteE..8 G
...G H
CMP..H K
)..K L
;..L M
cmd00 
.00 

Parameters00 "
.00" #
AddWithValue00# /
(00/ 0
$str000 8
,008 9
$num00: ;
)00; <
;00< =
cnn22 
.22 
Open22 
(22 
)22 
;22 
IDataReader33 
dr33  "
=33# $
cmd33% (
.33( )
ExecuteReader33) 6
(336 7
)337 8
;338 9
while44 
(44 
dr44 
.44 
Read44 "
(44" #
)44# $
)44$ %
{55 
oMedicoReporteE66 '
=66( )
LlenarEntidad66* 7
(667 8
dr668 :
,66: ;
pMedicoReporteE66< K
)66K L
;66L M
oListar77 
.77  
Add77  #
(77# $
oMedicoReporteE77$ 3
)773 4
;774 5
}88 
dr99 
.99 
Close99 
(99 
)99 
;99 
cnn:: 
.:: 
Close:: 
(:: 
):: 
;::  
};; 
}<< 
return== 
oListar== 
;== 
}>> 	
public@@ 
List@@ 
<@@ "
MedicoReporteCompletoE@@ *
>@@* +!
Rp_RceMedicosCompleto@@, A
(@@A B"
MedicoReporteCompletoE@@B X#
pMedicoReporteCompletoE@@Y p
)@@p q
{AA 	
ListBB 
<BB "
MedicoReporteCompletoEBB '
>BB' (
oListarBB) 0
=BB1 2
newBB3 6
ListBB7 ;
<BB; <"
MedicoReporteCompletoEBB< R
>BBR S
(BBS T
)BBT U
;BBU V"
MedicoReporteCompletoECC "#
oMedicoReporteCompletoECC# :
=CC; <
newCC= @"
MedicoReporteCompletoECCA W
(CCW X
)CCX Y
;CCY Z
usingDD 
(DD 
SqlConnectionDD  
cnnDD! $
=DD% &
newDD' *
SqlConnectionDD+ 8
(DD8 9
VariablesGlobalesDD9 J
.DDJ K

CnnClinicaDDK U
)DDU V
)DDV W
{EE 
usingFF 
(FF 

SqlCommandFF !
cmdFF" %
=FF& '
newFF( +

SqlCommandFF, 6
(FF6 7
$strFF7 F
,FFF G
cnnFFH K
)FFK L
)FFL M
{GG 
varHH 
dtHH 
=HH 
newHH  
	DataTableHH! *
(HH* +
)HH+ ,
;HH, -
cmdII 
.II 
CommandTypeII #
=II$ %
SystemII& ,
.II, -
DataII- 1
.II1 2
CommandTypeII2 =
.II= >
StoredProcedureII> M
;IIM N
cmdJJ 
.JJ 

ParametersJJ "
.JJ" #
AddWithValueJJ# /
(JJ/ 0
$strJJ0 8
,JJ8 9
$numJJ: ;
)JJ; <
;JJ< =
cnnLL 
.LL 
OpenLL 
(LL 
)LL 
;LL 
IDataReaderMM 
drMM  "
=MM# $
cmdMM% (
.MM( )
ExecuteReaderMM) 6
(MM6 7
)MM7 8
;MM8 9
whileNN 
(NN 
drNN 
.NN 
ReadNN "
(NN" #
)NN# $
)NN$ %
{OO #
oMedicoReporteCompletoEPP /
=PP0 1!
LlenarEntidadCompletoPP2 G
(PPG H
drPPH J
,PPJ K#
pMedicoReporteCompletoEPPL c
)PPc d
;PPd e
oListarQQ 
.QQ  
AddQQ  #
(QQ# $#
oMedicoReporteCompletoEQQ$ ;
)QQ; <
;QQ< =
}RR 
drSS 
.SS 
CloseSS 
(SS 
)SS 
;SS 
cnnTT 
.TT 
CloseTT 
(TT 
)TT 
;TT  
}UU 
}VV 
returnWW 
oListarWW 
;WW 
}XX 	
privateYY "
MedicoReporteCompletoEYY &!
LlenarEntidadCompletoYY' <
(YY< =
IDataReaderYY= H
drYYI K
,YYK L"
MedicoReporteCompletoEYYM c
pMedicoReporteEYYd s
)YYs t
{ZZ 	"
MedicoReporteCompletoE[[ "
oMedicoReporteE[[# 2
=[[3 4
new[[5 8"
MedicoReporteCompletoE[[9 O
([[O P
)[[P Q
;[[Q R
oMedicoReporteE\\ 
.\\ 
	CodMedico\\ %
=\\& '
Convert\\( /
.\\/ 0
ToString\\0 8
(\\8 9
dr\\9 ;
[\\; <
$str\\< G
]\\G H
)\\H I
;\\I J
oMedicoReporteE]] 
.]] 
FechaIngreso]] (
=]]) *
Convert]]+ 2
.]]2 3

ToDateTime]]3 =
(]]= >
dr]]> @
[]]@ A
$str]]A O
]]]O P
)]]P Q
;]]Q R
oMedicoReporteE^^ 
.^^ 
	Apellidos^^ %
=^^& '
Convert^^( /
.^^/ 0
ToString^^0 8
(^^8 9
dr^^9 ;
[^^; <
$str^^< G
]^^G H
)^^H I
;^^I J
oMedicoReporteE__ 
.__ 
Nombres__ #
=__$ %
Convert__& -
.__- .
ToString__. 6
(__6 7
dr__7 9
[__9 :
$str__: C
]__C D
)__D E
;__E F
oMedicoReporteE`` 
.`` 
FechaNacimiento`` +
=``, -
Convert``. 5
.``5 6

ToDateTime``6 @
(``@ A
dr``A C
[``C D
$str``D U
]``U V
)``V W
;``W X
oMedicoReporteEaa 
.aa 
TipoDocumentoaa )
=aa* +
Convertaa, 3
.aa3 4
ToStringaa4 <
(aa< =
draa= ?
[aa? @
$straa@ O
]aaO P
)aaP Q
;aaQ R
oMedicoReporteEbb 
.bb 
DocIdentidadbb (
=bb) *
Convertbb+ 2
.bb2 3
ToStringbb3 ;
(bb; <
drbb< >
[bb> ?
$strbb? M
]bbM N
)bbN O
;bbO P
oMedicoReporteEcc 
.cc 
Ruccc 
=cc  !
Convertcc" )
.cc) *
ToStringcc* 2
(cc2 3
drcc3 5
[cc5 6
$strcc6 ;
]cc; <
)cc< =
;cc= >
oMedicoReporteEdd 
.dd 
TipoColegiodd '
=dd( )
Convertdd* 1
.dd1 2
ToStringdd2 :
(dd: ;
drdd; =
[dd= >
$strdd> K
]ddK L
)ddL M
;ddM N
oMedicoReporteEee 
.ee 
	ColMedicoee %
=ee& '
Convertee( /
.ee/ 0
ToStringee0 8
(ee8 9
dree9 ;
[ee; <
$stree< G
]eeG H
)eeH I
;eeI J
oMedicoReporteEff 
.ff 
Especialidad1ff )
=ff* +
Convertff, 3
.ff3 4
ToStringff4 <
(ff< =
drff= ?
[ff? @
$strff@ O
]ffO P
)ffP Q
;ffQ R
oMedicoReporteEgg 
.gg 
RNE1gg  
=gg! "
Convertgg# *
.gg* +
ToStringgg+ 3
(gg3 4
drgg4 6
[gg6 7
$strgg7 =
]gg= >
)gg> ?
;gg? @
oMedicoReporteEhh 
.hh 
Especialidad2hh )
=hh* +
Converthh, 3
.hh3 4
ToStringhh4 <
(hh< =
drhh= ?
[hh? @
$strhh@ O
]hhO P
)hhP Q
;hhQ R
oMedicoReporteEii 
.ii 
RNE2ii  
=ii! "
Convertii# *
.ii* +
ToStringii+ 3
(ii3 4
drii4 6
[ii6 7
$strii7 =
]ii= >
)ii> ?
;ii? @
oMedicoReporteEjj 
.jj 
SubEspecialidadjj +
=jj, -
Convertjj. 5
.jj5 6
ToStringjj6 >
(jj> ?
drjj? A
[jjA B
$strjjB S
]jjS T
)jjT U
;jjU V
oMedicoReporteEkk 
.kk 
Areakk  
=kk! "
Convertkk# *
.kk* +
ToStringkk+ 3
(kk3 4
drkk4 6
[kk6 7
$strkk7 =
]kk= >
)kk> ?
;kk? @
oMedicoReporteEll 
.ll 
Consultorioll '
=ll( )
Convertll* 1
.ll1 2
ToStringll2 :
(ll: ;
drll; =
[ll= >
$strll> K
]llK L
)llL M
;llM N
oMedicoReporteEmm 
.mm 
Telefonomm $
=mm% &
Convertmm' .
.mm. /
ToStringmm/ 7
(mm7 8
drmm8 :
[mm: ;
$strmm; E
]mmE F
)mmF G
;mmG H
oMedicoReporteEnn 
.nn 
Celularnn #
=nn$ %
Convertnn& -
.nn- .
ToStringnn. 6
(nn6 7
drnn7 9
[nn9 :
$strnn: C
]nnC D
)nnD E
;nnE F
oMedicoReporteEoo 
.oo 
Emailoo !
=oo" #
Convertoo$ +
.oo+ ,
ToStringoo, 4
(oo4 5
droo5 7
[oo7 8
$stroo8 ?
]oo? @
)oo@ A
;ooA B
oMedicoReporteEpp 
.pp 
Companiapp $
=pp% &
Convertpp' .
.pp. /
ToStringpp/ 7
(pp7 8
drpp8 :
[pp: ;
$strpp; E
]ppE F
)ppF G
;ppG H
oMedicoReporteEqq 
.qq 
	Asistenteqq %
=qq& '
Convertqq( /
.qq/ 0
ToStringqq0 8
(qq8 9
drqq9 ;
[qq; <
$strqq< G
]qqG H
)qqH I
;qqI J
oMedicoReporteErr 
.rr 
Cortesiarr $
=rr% &
Convertrr' .
.rr. /
ToStringrr/ 7
(rr7 8
drrr8 :
[rr: ;
$strrr; E
]rrE F
)rrF G
;rrG H
oMedicoReporteEss 
.ss 
Staffss !
=ss" #
Convertss$ +
.ss+ ,
ToStringss, 4
(ss4 5
drss5 7
[ss7 8
$strss8 ?
]ss? @
)ss@ A
;ssA B
oMedicoReporteEtt 
.tt 
Verenwebtt $
=tt% &
Converttt' .
.tt. /
ToStringtt/ 7
(tt7 8
drtt8 :
[tt: ;
$strtt; E
]ttE F
)ttF G
;ttG H
oMedicoReporteEuu 
.uu 
Debajauu "
=uu# $
Convertuu% ,
.uu, -
ToStringuu- 5
(uu5 6
druu6 8
[uu8 9
$struu9 A
]uuA B
)uuB C
;uuC D
oMedicoReporteEvv 
.vv 
NombreEmpresavv )
=vv* +
Convertvv, 3
.vv3 4
ToStringvv4 <
(vv< =
drvv= ?
[vv? @
$strvv@ O
]vvO P
)vvP Q
;vvQ R
oMedicoReporteEww 
.ww 
RUCww 
=ww  !
Convertww" )
.ww) *
ToStringww* 2
(ww2 3
drww3 5
[ww5 6
$strww6 ;
]ww; <
)ww< =
;ww= >
oMedicoReporteExx 
.xx 
Planillaxx $
=xx% &
Convertxx' .
.xx. /
ToStringxx/ 7
(xx7 8
drxx8 :
[xx: ;
$strxx; E
]xxE F
)xxF G
;xxG H
oMedicoReporteEyy 
.yy 
Afectoaprontopagoyy -
=yy. /
Convertyy0 7
.yy7 8
ToStringyy8 @
(yy@ A
dryyA C
[yyC D
$stryyD W
]yyW X
)yyX Y
;yyY Z
oMedicoReporteEzz 
.zz 
	Retencionzz %
=zz& '
Convertzz( /
.zz/ 0
	ToDecimalzz0 9
(zz9 :
drzz: <
[zz< =
$strzz= H
]zzH I
)zzI J
;zzJ K
return{{ 
oMedicoReporteE{{ "
;{{" #
}|| 	
}~~ 
} ‰'
dD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedicosAD\MedicoDatosMedisynAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
	MedicosAD

 %
{ 
public 

class  
MedicoDatosMedisynAD %
{ 
private 
MedicoDatosMedisynE #
LlenarEntidad$ 1
(1 2
IDataReader2 =
dr> @
,@ A
MedicoDatosMedisynEB U 
pMedicoDatosMedisynEV j
)j k
{ 	
MedicoDatosMedisynE  
oMedicoDatosMedisynE  4
=5 6
new7 :
MedicoDatosMedisynE; N
(N O
)O P
;P Q
switch 
(  
pMedicoDatosMedisynE (
.( )
Orden) .
). /
{ 
case 
$num 
: 
{  
oMedicoDatosMedisynE ,
., -
COD_PROF- 5
=6 7
(8 9
string9 ?
)? @
drA C
[C D
$strD N
]N O
;O P
break 
; 
} 
} 
return  
oMedicoDatosMedisynE '
;' (
} 	
public 
List 
< 
MedicoDatosMedisynE '
>' (*
Sp_MedicoDatosMedisyn_Consulta) G
(G H
stringH N
pNombresMedicoO ]
)] ^
{ 	
IDataReader 
dr 
; 
MedicoDatosMedisynE    
oMedicoDatosMedisynE    4
=  5 6
null  7 ;
;  z {
List!! 
<!! 
MedicoDatosMedisynE!! $
>!!$ %
oListar!!& -
=!!. /
new!!0 3
List!!4 8
<!!8 9
MedicoDatosMedisynE!!9 L
>!!L M
(!!M N
)!!N O
;!!O P
MedicoDatosMedisynE##  
pMedicoDatosMedisynE##  4
=##5 6
new##7 :
MedicoDatosMedisynE##; N
(##N O
)##O P
;##P Q 
pMedicoDatosMedisynE$$  
.$$  !
Orden$$! &
=$$' (
$num$$) *
;$$* +
try&& 
{'' 
using(( 
((( 
SqlConnection(( $
cnn((% (
=(() *
new((+ .
SqlConnection((/ <
(((< =
VariablesGlobales((= N
.((N O

CnnClinica((O Y
)((Y Z
)((Z [
{)) 
using** 
(** 

SqlCommand** %
cmd**& )
=*** +
new**, /

SqlCommand**0 :
(**: ;
$str**; [
,**[ \
cnn**] `
)**` a
)**a b
{++ 
cmd,, 
.,, 
CommandType,, '
=,,( )
CommandType,,* 5
.,,5 6
StoredProcedure,,6 E
;,,E F
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 >
,..> ?
pNombresMedico..@ N
)..N O
;..O P
cmd// 
.// 

Parameters// &
.//& '
AddWithValue//' 3
(//3 4
$str//4 E
,//E F
$num//G H
)//H I
;//I J
cmd00 
.00 

Parameters00 &
.00& '
AddWithValue00' 3
(003 4
$str004 @
,00@ A
$num00B C
)00C D
;00D E
cmd11 
.11 

Parameters11 &
.11& '
AddWithValue11' 3
(113 4
$str114 <
,11< =
$num11> ?
)11? @
;11@ A
cnn22 
.22 
Open22  
(22  !
)22! "
;22" #
dr33 
=33 
cmd33  
.33  !
ExecuteReader33! .
(33. /
)33/ 0
;330 1
while44 
(44 
dr44 !
.44! "
Read44" &
(44& '
)44' (
)44( )
{55  
oMedicoDatosMedisynE66 0
=661 2
LlenarEntidad663 @
(66@ A
dr66A C
,66C D 
pMedicoDatosMedisynE66E Y
)66Y Z
;66Z [
oListar77 #
.77# $
Add77$ '
(77' ( 
oMedicoDatosMedisynE77( <
)77< =
;77= >
}88 
dr99 
.99 
Close99  
(99  !
)99! "
;99" #
cnn:: 
.:: 
Close:: !
(::! "
)::" #
;::# $
return<< 
oListar<< &
;<<& '
}== 
}>> 
}?? 
catch@@ 
(@@ 
	Exception@@ 
ex@@ 
)@@  
{AA 
throwBB 
newBB 
	ExceptionBB #
(BB# $
exBB$ &
.BB& '
MessageBB' .
)BB. /
;BB/ 0
}CC 
}DD 	
}EE 
}FF ÄY
]D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedicosAD\MedFavoritoAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
	MedicosAD

 %
{ 
public 

class 
MedFavoritoAD 
{ 
private 
MedFavoritoE 
LlenarEntidad *
(* +
IDataReader+ 6
dr7 9
,9 :
MedFavoritoE; G
pMedFavoritoEH U
)U V
{ 	
MedFavoritoE 
oMedFavoritoE &
=' (
new) ,
MedFavoritoE- 9
(9 :
): ;
;; <
switch 
( 
pMedFavoritoE !
.! "
Orden" '
)' (
{ 
case 
$num 
: 
{ 
oMedFavoritoE %
.% &
	CodMedico& /
=0 1
(2 3
string3 9
)9 :
dr; =
[= >
$str> J
]J K
;K L
oMedFavoritoE %
.% &
	DniMedico& /
=0 1
(2 3
string3 9
)9 :
dr; =
[= >
$str> J
]J K
;K L
oMedFavoritoE %
.% &
CodPaciente& 1
=2 3
(4 5
string5 ;
); <
dr= ?
[? @
$str@ N
]N O
;O P
break 
; 
} 
} 
return 
oMedFavoritoE  
;  !
} 	
public 
List 
< 
MedFavoritoE  
>  !#
Sp_MedFavorito_Consulta" 9
(9 :
MedFavoritoE: F
pMedFavoritoEG T
)T U
{   	
IDataReader!! 
dr!! 
;!! 
MedFavoritoE"" 
oMedFavoritoE"" &
=""' (
null"") -
;""l m
List## 
<## 
MedFavoritoE## 
>## 
oListar## &
=##' (
new##) ,
List##- 1
<##1 2
MedFavoritoE##2 >
>##> ?
(##? @
)##@ A
;##A B
try$$ 
{%% 
using&& 
(&& 
SqlConnection&& $
cnn&&% (
=&&) *
new&&+ .
SqlConnection&&/ <
(&&< =
VariablesGlobales&&= N
.&&N O

CnnClinica&&O Y
)&&Y Z
)&&Z [
{'' 
using(( 
((( 

SqlCommand(( %
cmd((& )
=((* +
new((, /

SqlCommand((0 :
(((: ;
$str((; T
,((T U
cnn((V Y
)((Y Z
)((Z [
{)) 
cmd** 
.** 
CommandType** '
=**( )
CommandType*** 5
.**5 6
StoredProcedure**6 E
;**E F
cmd,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 C
,,,C D
pMedFavoritoE,,E R
.,,R S
IdeFavorito,,S ^
),,^ _
;,,_ `
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 A
,--A B
pMedFavoritoE--C P
.--P Q
	DniMedico--Q Z
)--Z [
;--[ \
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 C
,..C D
pMedFavoritoE..E R
...R S
CodPaciente..S ^
)..^ _
;.._ `
cmd// 
.// 

Parameters// &
.//& '
AddWithValue//' 3
(//3 4
$str//4 <
,//< =
pMedFavoritoE//> K
.//K L
Orden//L Q
)//Q R
;//R S
cnn00 
.00 
Open00  
(00  !
)00! "
;00" #
dr11 
=11 
cmd11  
.11  !
ExecuteReader11! .
(11. /
)11/ 0
;110 1
while22 
(22 
dr22 !
.22! "
Read22" &
(22& '
)22' (
)22( )
{33 
oMedFavoritoE44 )
=44* +
LlenarEntidad44, 9
(449 :
dr44: <
,44< =
pMedFavoritoE44> K
)44K L
;44L M
oListar55 #
.55# $
Add55$ '
(55' (
oMedFavoritoE55( 5
)555 6
;556 7
}66 
dr77 
.77 
Close77  
(77  !
)77! "
;77" #
cnn88 
.88 
Close88 !
(88! "
)88" #
;88# $
return:: 
oListar:: &
;::& '
};; 
}<< 
}== 
catch>> 
(>> 
	Exception>> 
ex>> 
)>>  
{?? 
throw@@ 
new@@ 
	Exception@@ #
(@@# $
ex@@$ &
.@@& '
Message@@' .
)@@. /
;@@/ 0
}AA 
}BB 	
publicDD 
boolDD !
Sp_MedFavorito_InsertDD )
(DD) *
MedFavoritoEDD* 6
pMedFavoritoEDD7 D
)DDD E
{EE 	
tryFF 
{GG 
usingHH 
(HH 
SqlConnectionHH $
cnnHH% (
=HH) *
newHH+ .
SqlConnectionHH/ <
(HH< =
VariablesGlobalesHH= N
.HHN O

CnnClinicaHHO Y
)HHY Z
)HHZ [
{II 
usingJJ 
(JJ 

SqlCommandJJ %
cmdJJ& )
=JJ* +
newJJ, /

SqlCommandJJ0 :
(JJ: ;
$strJJ; R
,JJR S
cnnJJT W
)JJW X
)JJX Y
{KK 
cmdLL 
.LL 
CommandTypeLL '
=LL( )
CommandTypeLL* 5
.LL5 6
StoredProcedureLL6 E
;LLE F
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 A
,NNA B
pMedFavoritoENNC P
.NNP Q
	DniMedicoNNQ Z
)NNZ [
;NN[ \
cmdOO 
.OO 

ParametersOO &
.OO& '
AddWithValueOO' 3
(OO3 4
$strOO4 C
,OOC D
pMedFavoritoEOOE R
.OOR S
CodPacienteOOS ^
)OO^ _
;OO_ `
cmdPP 
.PP 

ParametersPP &
.PP& '
AddPP' *
(PP* +
VariablesGlobalesPP+ <
.PP< =
ParametroSqlPP= I
(PPI J
$strPPJ Y
,PPY Z
ParameterDirectionPP[ m
.PPm n
InputOutputPPn y
,PPy z
	SqlDbType	PP{ Ñ
.
PPÑ Ö
Int
PPÖ à
,
PPà â
$num
PPä ã
,
PPã å
pMedFavoritoE
PPç ö
.
PPö õ
IdeFavorito
PPõ ¶
)
PP¶ ß
)
PPß ®
;
PP® ©
cnnQQ 
.QQ 
OpenQQ  
(QQ  !
)QQ! "
;QQ" #
ifRR 
(RR 
cmdRR 
.RR  
ExecuteNonQueryRR  /
(RR/ 0
)RR0 1
>=RR2 4
$numRR5 6
)RR6 7
{SS 
pMedFavoritoETT )
.TT) *
IdeFavoritoTT* 5
=TT6 7
(TT8 9
intTT9 <
)TT< =
cmdTT= @
.TT@ A

ParametersTTA K
[TTK L
$strTTL [
]TT[ \
.TT\ ]
ValueTT] b
;TTb c
returnUU "
trueUU# '
;UU' (
}VV 
elseWW 
returnXX "
falseXX# (
;XX( )
cnnYY 
.YY 
CloseYY !
(YY! "
)YY" #
;YY# $
cmdZZ 
.ZZ 
DisposeZZ #
(ZZ# $
)ZZ$ %
;ZZ% &
}[[ 
}\\ 
}]] 
catch^^ 
(^^ 
	Exception^^ 
ex^^ 
)^^  
{__ 
throw`` 
new`` 
	Exception`` #
(``# $
ex``$ &
.``& '
Message``' .
)``. /
;``/ 0
}aa 
}bb 	
publicdd 
booldd '
Sp_MedFavorito_UpdatexCampodd /
(dd/ 0
MedFavoritoEdd0 <
pMedFavoritoEdd= J
)ddJ K
{ee 	
tryff 
{gg 
usinghh 
(hh 
SqlConnectionhh $
cnnhh% (
=hh) *
newhh+ .
SqlConnectionhh/ <
(hh< =
VariablesGlobaleshh= N
.hhN O

CnnClinicahhO Y
)hhY Z
)hhZ [
{ii 
usingjj 
(jj 

SqlCommandjj %
cmdjj& )
=jj* +
newjj, /

SqlCommandjj0 :
(jj: ;
$strjj; X
,jjX Y
cnnjjZ ]
)jj] ^
)jj^ _
{kk 
cmdll 
.ll 
CommandTypell '
=ll( )
CommandTypell* 5
.ll5 6
StoredProcedurell6 E
;llE F
cmdnn 
.nn 

Parametersnn &
.nn& '
AddWithValuenn' 3
(nn3 4
$strnn4 C
,nnC D
pMedFavoritoEnnE R
.nnR S
IdeFavoritonnS ^
)nn^ _
;nn_ `
cmdoo 
.oo 

Parametersoo &
.oo& '
AddWithValueoo' 3
(oo3 4
$stroo4 B
,ooB C
pMedFavoritoEooD Q
.ooQ R

NuevoValorooR \
)oo\ ]
;oo] ^
cmdpp 
.pp 

Parameterspp &
.pp& '
AddWithValuepp' 3
(pp3 4
$strpp4 <
,pp< =
pMedFavoritoEpp> K
.ppK L
CampoppL Q
)ppQ R
;ppR S
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 A
,qqA B
pMedFavoritoEqqC P
.qqP Q
	DniMedicoqqQ Z
)qqZ [
;qq[ \
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 C
,rrC D
pMedFavoritoErrE R
.rrR S
CodPacienterrS ^
)rr^ _
;rr_ `
cnnss 
.ss 
Openss  
(ss  !
)ss! "
;ss" #
iftt 
(tt 
cmdtt 
.tt  
ExecuteNonQuerytt  /
(tt/ 0
)tt0 1
>=tt2 4
$numtt5 6
)tt6 7
returnuu "
trueuu# '
;uu' (
elsevv 
returnww "
falseww# (
;ww( )
cnnxx 
.xx 
Closexx !
(xx! "
)xx" #
;xx# $
cmdyy 
.yy 
Disposeyy #
(yy# $
)yy$ %
;yy% &
}zz 
}{{ 
}|| 
catch}} 
(}} 
	Exception}} 
ex}} 
)}}  
{~~ 
throw 
new 
	Exception #
(# $
ex$ &
.& '
Message' .
). /
;/ 0
}
ÄÄ 
}
ÅÅ 	
}
ÉÉ 
}ÑÑ „°
bD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\MedicosAD\AsistentexMedicoAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
	MedicosAD %
{ 
public 

class 
AsistentexmedicoAD #
{ 
private 
AsistentexMedicoE !
LlenarEntidad" /
(/ 0
IDataReader0 ;
dr< >
,> ?
AsistentexMedicoE' 8
pAsistentexMedicoE9 K
)K L
{ 	
AsistentexMedicoE 
oAsistentexMedicoE 0
=1 2
new3 6
AsistentexMedicoE7 H
(H I
)I J
;J K
switch 
( 
pAsistentexMedicoE &
.& '
Orden' ,
), -
{ 
case 
$num 
: 
oAsistentexMedicoE &
.& '
CodMedicoTitular' 7
=8 9
Convert: A
.A B
ToStringB J
(J K
drK M
[M N
$strN `
]` a
)a b
;b c
oAsistentexMedicoE &
.& '
CodMedicoAsistente' 9
=: ;
Convert< C
.C D
ToStringD L
(L M
drM O
[O P
$strP d
]d e
)e f
;f g
oAsistentexMedicoE &
.& '
NombreAsistente' 6
=7 8
Convert9 @
.@ A
ToStringA I
(I J
drJ L
[L M
$strM ^
]^ _
)_ `
;` a
break 
; 
} 
return 
oAsistentexMedicoE %
;% &
} 	
private   
MedicosE   "
LlenarEntidadAsistente   /
(  / 0
IDataReader  0 ;
dr  < >
,  > ?
int!! "
Orden!!# (
)!!( )
{"" 	
MedicosE## 
	oMedicosE## 
=##  
new##! $
MedicosE##% -
(##- .
)##. /
;##/ 0
switch$$ 
($$ 
Orden$$ 
)$$ 
{%% 
case&& 
$num&& 
:&& 
case'' 
$num'' 
:'' 
	oMedicosE(( 
.(( 
	CodMedico(( '
=((( )
Convert((* 1
.((1 2
ToString((2 :
(((: ;
dr((; =
[((= >
$str((> I
]((I J
)((J K
;((K L
	oMedicosE)) 
.)) 
NombresMedico)) +
=)), -
Convert)). 5
.))5 6
ToString))6 >
())> ?
dr))? A
[))A B
$str))B K
]))K L
)))L M
;))M N
break** 
;** 
}++ 
return-- 
	oMedicosE-- 
;-- 
}.. 	
public22 
List22 
<22 
AsistentexMedicoE22 %
>22% &(
Sp_Asistentexmedico_Consulta22' C
(22C D
AsistentexMedicoE22D U
pAsistentexMedicoE22V h
)22h i
{33 	
List44 
<44 
AsistentexMedicoE44 "
>44" #
oListar44$ +
=44, -
new44. 1
List442 6
<446 7
AsistentexMedicoE447 H
>44H I
(44I J
)44J K
;44K L
AsistentexMedicoE55 
oAsistentexMedicoE55 0
=551 2
null553 7
;557 8
using66 
(66 
SqlConnection66  
cnn66! $
=66% &
new66' *
SqlConnection66+ 8
(668 9
VariablesGlobales669 J
.66J K

CnnClinica66K U
)66U V
)66V W
{77 
using88 
(88 

SqlCommand88 !
cmd88" %
=88& '
new88( +

SqlCommand88, 6
(886 7
$str887 U
,88U V
cnn88W Z
)88Z [
)88[ \
{99 
cmd:: 
.:: 
CommandType:: #
=::$ %
System::& ,
.::, -
Data::- 1
.::1 2
CommandType::2 =
.::= >
StoredProcedure::> M
;::M N
cmd<< 
.<< 

Parameters<< "
.<<" #
AddWithValue<<# /
(<</ 0
$str<<0 9
,<<9 :
pAsistentexMedicoE<<; M
.<<M N
CodMedicoTitular<<N ^
)<<^ _
;<<_ `
cmd== 
.== 

Parameters== "
.==" #
AddWithValue==# /
(==/ 0
$str==0 6
,==6 7
pAsistentexMedicoE==8 J
.==J K
Key==K N
)==N O
;==O P
cmd>> 
.>> 

Parameters>> "
.>>" #
AddWithValue>># /
(>>/ 0
$str>>0 ?
,>>? @
pAsistentexMedicoE>>A S
.>>S T
NroFilas>>T \
)>>\ ]
;>>] ^
cmd?? 
.?? 

Parameters?? "
.??" #
AddWithValue??# /
(??/ 0
$str??0 8
,??8 9
pAsistentexMedicoE??: L
.??L M
Orden??M R
)??R S
;??S T
cnn@@ 
.@@ 
Open@@ 
(@@ 
)@@ 
;@@ 
IDataReaderAA 
drAA  "
=AA# $
cmdAA% (
.AA( )
ExecuteReaderAA) 6
(AA6 7
)AA7 8
;AA8 9
whileBB 
(BB 
drBB 
.BB 
ReadBB "
(BB" #
)BB# $
)BB$ %
{CC 
oAsistentexMedicoEDD *
=DD+ ,
LlenarEntidadDD- :
(DD: ;
drDD; =
,DD= >
pAsistentexMedicoEDD? Q
)DDQ R
;DDR S
oListarEE 
.EE  
AddEE  #
(EE# $
oAsistentexMedicoEEE$ 6
)EE6 7
;EE7 8
}FF 
drGG 
.GG 
CloseGG 
(GG 
)GG 
;GG 
cnnHH 
.HH 
CloseHH 
(HH 
)HH 
;HH  
}II 
}JJ 
returnKK 
oListarKK 
;KK 
}LL 	
publicOO 
boolOO &
Sp_Asistentexmedico_InsertOO .
(OO. /
AsistentexMedicoEOO/ @
pAsistentexMedicoEOOA S
)OOS T
{PP 	
tryQQ 
{RR 
usingSS 
(SS 
SqlConnectionSS $
cnnSS% (
=SS) *
newSS+ .
SqlConnectionSS/ <
(SS< =
VariablesGlobalesSS= N
.SSN O

CnnClinicaSSO Y
)SSY Z
)SSZ [
{TT 
usingUU 
(UU 

SqlCommandUU %
cmdUU& )
=UU* +
newUU, /

SqlCommandUU0 :
(UU: ;
$strUU; W
,UUW X
cnnUUY \
)UU\ ]
)UU] ^
{VV 
cmdWW 
.WW 
CommandTypeWW '
=WW( )
SystemWW* 0
.WW0 1
DataWW1 5
.WW5 6
CommandTypeWW6 A
.WWA B
StoredProcedureWWB Q
;WWQ R
cmdYY 
.YY 

ParametersYY &
.YY& '
AddWithValueYY' 3
(YY3 4
$strYY4 G
,YYG H
pAsistentexMedicoEYYI [
.YY[ \
CodMedicoTitularYY\ l
)YYl m
;YYm n
cmdZZ 
.ZZ 

ParametersZZ &
.ZZ& '
AddWithValueZZ' 3
(ZZ3 4
$strZZ4 I
,ZZI J
pAsistentexMedicoEZZK ]
.ZZ] ^
CodMedicoAsistenteZZ^ p
)ZZp q
;ZZq r
cnn\\ 
.\\ 
Open\\  
(\\  !
)\\! "
;\\" #
int^^ 
exito^^ !
=^^" #
cmd^^$ '
.^^' (
ExecuteNonQuery^^( 7
(^^7 8
)^^8 9
;^^9 :
cnn__ 
.__ 
Close__ !
(__! "
)__" #
;__# $
cmd`` 
.`` 
Dispose`` #
(``# $
)``$ %
;``% &
ifaa 
(aa 
exitoaa !
>=aa" $
$numaa% &
)aa& '
{bb 
returncc "
truecc# '
;cc' (
}dd 
elseee 
{ff 
returngg "
falsegg# (
;gg( )
}hh 
}ii 
}jj 
}kk 
catchll 
(ll 
	Exceptionll 
ell 
)ll 
{mm 
throwmm 
emm 
=mm 
newmm 
	Exceptionmm %
(mm% &
emm& '
.mm' (
Messagemm( /
)mm/ 0
;mm0 1
}mm2 3
}nn 	
publicqq 
boolqq &
Sp_Asistentexmedico_Updateqq .
(qq. /
AsistentexMedicoEqq/ @
pAsistentexMedicoEqqA S
)qqS T
{rr 	
tryss 
{tt 
usinguu 
(uu 
SqlConnectionuu $
cnnuu% (
=uu) *
newuu+ .
SqlConnectionuu/ <
(uu< =
VariablesGlobalesuu= N
.uuN O

CnnClinicauuO Y
)uuY Z
)uuZ [
{vv 
usingww 
(ww 

SqlCommandww %
cmdww& )
=ww* +
newww, /

SqlCommandww0 :
(ww: ;
$strww; W
,wwW X
cnnwwY \
)ww\ ]
)ww] ^
{xx 
cmdyy 
.yy 
CommandTypeyy '
=yy( )
Systemyy* 0
.yy0 1
Datayy1 5
.yy5 6
CommandTypeyy6 A
.yyA B
StoredProcedureyyB Q
;yyQ R
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 G
,{{G H
pAsistentexMedicoE{{I [
.{{[ \
CodMedicoTitular{{\ l
){{l m
;{{m n
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 I
,||I J
pAsistentexMedicoE||K ]
.||] ^
CodMedicoAsistente||^ p
)||p q
;||q r
cnn~~ 
.~~ 
Open~~  
(~~  !
)~~! "
;~~" #
int
ÄÄ 
exito
ÄÄ !
=
ÄÄ" #
cmd
ÄÄ$ '
.
ÄÄ' (
ExecuteNonQuery
ÄÄ( 7
(
ÄÄ7 8
)
ÄÄ8 9
;
ÄÄ9 :
cnn
ÅÅ 
.
ÅÅ 
Close
ÅÅ !
(
ÅÅ! "
)
ÅÅ" #
;
ÅÅ# $
cmd
ÇÇ 
.
ÇÇ 
Dispose
ÇÇ #
(
ÇÇ# $
)
ÇÇ$ %
;
ÇÇ% &
if
ÉÉ 
(
ÉÉ 
exito
ÉÉ !
>=
ÉÉ" $
$num
ÉÉ% &
)
ÉÉ& '
{
ÑÑ 
return
ÑÑ  
true
ÑÑ! %
;
ÑÑ% &
}
ÑÑ' (
else
ÖÖ 
{
ÜÜ 
return
ÜÜ  
false
ÜÜ! &
;
ÜÜ& '
}
ÜÜ( )
}
áá 
}
àà 
}
ââ 
catch
ää 
(
ää 
	Exception
ää 
e
ää 
)
ää 
{
ãã 
throw
ãã 
e
ãã 
=
ãã 
new
ãã 
	Exception
ãã %
(
ãã% &
e
ãã& '
.
ãã' (
Message
ãã( /
)
ãã/ 0
;
ãã0 1
}
ãã2 3
}
åå 	
public
èè 
bool
èè .
 Sp_Asistentexmedico_UpdatexCampo
èè 4
(
èè4 5
AsistentexMedicoE
èè5 F 
pAsistentexMedicoE
èèG Y
)
èèY Z
{
êê 	
try
ëë 
{
íí 
using
ìì 
(
ìì 
SqlConnection
ìì $
cnn
ìì% (
=
ìì) *
new
ìì+ .
SqlConnection
ìì/ <
(
ìì< =
VariablesGlobales
ìì= N
.
ììN O

CnnClinica
ììO Y
)
ììY Z
)
ììZ [
{
îî 
using
ïï 
(
ïï 

SqlCommand
ïï %
cmd
ïï& )
=
ïï* +
new
ïï, /

SqlCommand
ïï0 :
(
ïï: ;
$str
ïï; ]
,
ïï] ^
cnn
ïï_ b
)
ïïb c
)
ïïc d
{
ññ 
cmd
óó 
.
óó 
CommandType
óó '
=
óó( )
System
óó* 0
.
óó0 1
Data
óó1 5
.
óó5 6
CommandType
óó6 A
.
óóA B
StoredProcedure
óóB Q
;
óóQ R
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 B
,
ôôB C 
pAsistentexMedicoE
ôôD V
.
ôôV W

NuevoValor
ôôW a
)
ôôa b
;
ôôb c
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 <
,
öö< = 
pAsistentexMedicoE
öö> P
.
ööP Q
Campo
ööQ V
)
ööV W
;
ööW X
cnn
úú 
.
úú 
Open
úú  
(
úú  !
)
úú! "
;
úú" #
int
ûû 
exito
ûû !
=
ûû" #
cmd
ûû$ '
.
ûû' (
ExecuteNonQuery
ûû( 7
(
ûû7 8
)
ûû8 9
;
ûû9 :
cnn
üü 
.
üü 
Close
üü !
(
üü! "
)
üü" #
;
üü# $
cmd
†† 
.
†† 
Dispose
†† #
(
††# $
)
††$ %
;
††% &
if
°° 
(
°° 
exito
°° !
>=
°°" $
$num
°°% &
)
°°& '
{
¢¢ 
return
¢¢  
true
¢¢! %
;
¢¢% &
}
¢¢' (
else
££ 
{
§§ 
return
§§  
false
§§! &
;
§§& '
}
§§( )
}
•• 
}
¶¶ 
}
ßß 
catch
®® 
(
®® 
	Exception
®® 
e
®® 
)
®® 
{
©© 
throw
©© 
e
©© 
=
©© 
new
©© 
	Exception
©© %
(
©©% &
e
©©& '
.
©©' (
Message
©©( /
)
©©/ 0
;
©©0 1
}
©©2 3
}
™™ 	
public
≠≠ 
bool
≠≠ (
Sp_Asistentexmedico_Delete
≠≠ .
(
≠≠. /
AsistentexMedicoE
≠≠/ @ 
pAsistentexMedicoE
≠≠A S
)
≠≠S T
{
ÆÆ 	
try
ØØ 
{
∞∞ 
using
±± 
(
±± 
SqlConnection
±± $
cnn
±±% (
=
±±) *
new
±±+ .
SqlConnection
±±/ <
(
±±< =
VariablesGlobales
±±= N
.
±±N O

CnnClinica
±±O Y
)
±±Y Z
)
±±Z [
{
≤≤ 
using
≥≥ 
(
≥≥ 

SqlCommand
≥≥ %
cmd
≥≥& )
=
≥≥* +
new
≥≥, /

SqlCommand
≥≥0 :
(
≥≥: ;
$str
≥≥; W
,
≥≥W X
cnn
≥≥Y \
)
≥≥\ ]
)
≥≥] ^
{
¥¥ 
cmd
µµ 
.
µµ 
CommandType
µµ '
=
µµ( )
System
µµ* 0
.
µµ0 1
Data
µµ1 5
.
µµ5 6
CommandType
µµ6 A
.
µµA B
StoredProcedure
µµB Q
;
µµQ R
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ &
.
∑∑& '
AddWithValue
∑∑' 3
(
∑∑3 4
$str
∑∑4 G
,
∑∑G H 
pAsistentexMedicoE
∑∑I [
.
∑∑[ \
CodMedicoTitular
∑∑\ l
)
∑∑l m
;
∑∑m n
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ &
.
∏∏& '
AddWithValue
∏∏' 3
(
∏∏3 4
$str
∏∏4 I
,
∏∏I J 
pAsistentexMedicoE
∏∏K ]
.
∏∏] ^ 
CodMedicoAsistente
∏∏^ p
)
∏∏p q
;
∏∏q r
cnn
∫∫ 
.
∫∫ 
Open
∫∫  
(
∫∫  !
)
∫∫! "
;
∫∫" #
int
ºº 
exito
ºº !
=
ºº" #
cmd
ºº$ '
.
ºº' (
ExecuteNonQuery
ºº( 7
(
ºº7 8
)
ºº8 9
;
ºº9 :
cnn
ΩΩ 
.
ΩΩ 
Close
ΩΩ !
(
ΩΩ! "
)
ΩΩ" #
;
ΩΩ# $
cmd
ææ 
.
ææ 
Dispose
ææ #
(
ææ# $
)
ææ$ %
;
ææ% &
if
øø 
(
øø 
exito
øø !
>=
øø" $
$num
øø% &
)
øø& '
{
¿¿ 
return
¿¿  
true
¿¿! %
;
¿¿% &
}
¿¿' (
else
¡¡ 
{
¬¬ 
return
¬¬  
false
¬¬! &
;
¬¬& '
}
¬¬( )
}
√√ 
}
ƒƒ 
}
≈≈ 
catch
∆∆ 
(
∆∆ 
	Exception
∆∆ 
e
∆∆ 
)
∆∆ 
{
«« 
throw
»» 
e
»» 
=
»» 
new
»» 
	Exception
»» '
(
»»' (
e
»»( )
.
»») *
Message
»»* 1
)
»»1 2
;
»»2 3
}
…… 
}
   	
public
œœ 
List
œœ 
<
œœ 
MedicosE
œœ 
>
œœ $
Sp_Asistentes_Consulta
œœ 4
(
œœ4 5
string
œœ5 ;
textoaBuscar
œœ< H
,
œœH I
int
œœJ M
orden
œœN S
)
œœS T
{
–– 	
List
—— 
<
—— 
MedicosE
—— 
>
—— 
oListar
—— "
=
——# $
new
——% (
List
——) -
<
——- .
MedicosE
——. 6
>
——6 7
(
——7 8
)
——8 9
;
——9 :
MedicosE
““ 
	oMedicosE
““ 
=
““  
null
““! %
;
““% &
using
”” 
(
”” 
SqlConnection
””  
cnn
””! $
=
””% &
new
””' *
SqlConnection
””+ 8
(
””8 9
VariablesGlobales
””9 J
.
””J K

CnnClinica
””K U
)
””U V
)
””V W
{
‘‘ 
using
’’ 
(
’’ 

SqlCommand
’’ !
cmd
’’" %
=
’’& '
new
’’( +

SqlCommand
’’, 6
(
’’6 7
$str
’’7 O
,
’’O P
cnn
’’Q T
)
’’T U
)
’’U V
{
÷÷ 
cmd
◊◊ 
.
◊◊ 
CommandType
◊◊ #
=
◊◊$ %
System
◊◊& ,
.
◊◊, -
Data
◊◊- 1
.
◊◊1 2
CommandType
◊◊2 =
.
◊◊= >
StoredProcedure
◊◊> M
;
◊◊M N
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ "
.
ŸŸ" #
AddWithValue
ŸŸ# /
(
ŸŸ/ 0
$str
ŸŸ0 9
,
ŸŸ9 :
textoaBuscar
ŸŸ; G
)
ŸŸG H
;
ŸŸH I
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ "
.
⁄⁄" #
AddWithValue
⁄⁄# /
(
⁄⁄/ 0
$str
⁄⁄0 6
,
⁄⁄6 7
$num
⁄⁄8 :
)
⁄⁄: ;
;
⁄⁄; <
cmd
€€ 
.
€€ 

Parameters
€€ "
.
€€" #
AddWithValue
€€# /
(
€€/ 0
$str
€€0 ?
,
€€? @
$num
€€A D
)
€€D E
;
€€E F
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ "
.
‹‹" #
AddWithValue
‹‹# /
(
‹‹/ 0
$str
‹‹0 8
,
‹‹8 9
orden
‹‹: ?
)
‹‹? @
;
‹‹@ A
cnn
›› 
.
›› 
Open
›› 
(
›› 
)
›› 
;
›› 
IDataReader
ﬁﬁ 
dr
ﬁﬁ  "
=
ﬁﬁ# $
cmd
ﬁﬁ% (
.
ﬁﬁ( )
ExecuteReader
ﬁﬁ) 6
(
ﬁﬁ6 7
)
ﬁﬁ7 8
;
ﬁﬁ8 9
while
ﬂﬂ 
(
ﬂﬂ 
dr
ﬂﬂ 
.
ﬂﬂ 
Read
ﬂﬂ "
(
ﬂﬂ" #
)
ﬂﬂ# $
)
ﬂﬂ$ %
{
‡‡ 
	oMedicosE
·· !
=
··" #$
LlenarEntidadAsistente
··$ :
(
··: ;
dr
··; =
,
··= >
orden
··? D
)
··D E
;
··E F
oListar
‚‚ 
.
‚‚  
Add
‚‚  #
(
‚‚# $
	oMedicosE
‚‚$ -
)
‚‚- .
;
‚‚. /
}
„„ 
dr
‰‰ 
.
‰‰ 
Close
‰‰ 
(
‰‰ 
)
‰‰ 
;
‰‰ 
cnn
ÂÂ 
.
ÂÂ 
Close
ÂÂ 
(
ÂÂ 
)
ÂÂ 
;
ÂÂ  
}
ÊÊ 
}
ÁÁ 
return
ËË 
oListar
ËË 
;
ËË 
}
ÈÈ 	
}
ÔÔ 
} ï
ZD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\LogAD\PDFDocumentLog.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
LogAD

 !
{ 
public 

class 
PDFDocumentLog 
{ 
public 
bool &
Sp_Pdf_Document_Log_Insert .
(. /
string/ 5
pCodPresotor6 B
,B C
stringD J
pVersionK S
)S T
{ 	
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; W
,W X
cnnY \
)\ ]
)] ^
{ 
cmd 
. 
CommandType '
=( )
System* 0
.0 1
Data1 5
.5 6
CommandType6 A
.A B
StoredProcedureB Q
;Q R
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 B
,B C
pCodPresotorD P
)P Q
;Q R
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 >
,> ?
pVersion@ H
)H I
;I J
cnn 
. 
Open  
(  !
)! "
;" #
int 
exito !
=" #
cmd$ '
.' (
ExecuteNonQuery( 7
(7 8
)8 9
;9 :
cnn 
. 
Close !
(! "
)" #
;# $
cmd   
.   
Dispose   #
(  # $
)  $ %
;  % &
if!! 
(!! 
exito!! !
>=!!" $
$num!!% &
)!!& '
{"" 
return$$ "
true$$# '
;$$' (
}%% 
else&& 
{'' 
return(( "
false((# (
;((( )
})) 
}** 
}++ 
},, 
catch-- 
(-- 
	Exception-- 
e-- 
)-- 
{.. 
throw.. 
e.. 
=.. 
new.. 
	Exception.. %
(..% &
e..& '
...' (
Message..( /
)../ 0
;..0 1
}..2 3
}// 	
}00 
}11 ¥∆
eD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\LiquidacionesAD\LiquidacionesAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
LiquidacionesAD

 +
{ 
public 

class 
LiquidacionesAD  
{ 

Utilitario 
util 
= 
new 

Utilitario (
(( )
)) *
;* +
private 
LiquidacionesE 
LlenarEntidad ,
(, -
IDataReader- 8
dr9 ;
,; <
LiquidacionesE= K
pLiquidacionesEL [
)[ \
{ 	
LiquidacionesE 
oLiquidacionesE *
=+ ,
new- 0
LiquidacionesE1 ?
(? @
)@ A
;A B
try 
{ 
oLiquidacionesE 
.  
CodLiquidacion  .
=/ 0
(1 2
string2 8
)8 9
dr9 ;
[; <
$str< L
]L M
;M N
oLiquidacionesE 
.  
CodAtencion  +
=, -
dr. 0
[0 1
$str1 >
]> ?
+@ A
$strB D
;D E
oLiquidacionesE 
.  
Codcomprobante  .
=/ 0
dr1 3
[3 4
$str4 D
]D E
+F G
$strH J
;J K
oLiquidacionesE 
.  
Fechagenerada  -
=. /
dr0 2
[2 3
$str3 B
]B C
isD F
DBNullG M
?N O
newP S
DateTimeT \
(\ ]
$num] a
,a b
$numc e
,e f
$numg i
)i j
:k l
Convertm t
.t u

ToDateTimeu 
(	 Ä
dr
Ä Ç
[
Ç É
$str
É í
]
í ì
)
ì î
;
î ï
oLiquidacionesE 
.  
Estado  &
=' (
dr) +
[+ ,
$str, 4
]4 5
+6 7
$str8 :
;: ;
oLiquidacionesE 
.  
Monto  %
=& '
(( )
double) /
)/ 0
dr0 2
[2 3
$str3 :
]: ;
;; <
oLiquidacionesE 
.  
Paraquienseliquida  2
=3 4
(5 6
string6 <
)< =
dr= ?
[? @
$str@ T
]T U
+V W
$strX Z
;Z [
oLiquidacionesE 
.  
Fechaprocesada  .
=/ 0
dr1 3
[3 4
$str4 D
]D E
.E F
ToStringF N
(N O
)O P
==Q S
DBNullT Z
.Z [
Value[ `
.` a
ToStringa i
(i j
)j k
?l m
newn q
DateTimer z
(z {
$num{ 
,	 Ä
$num
Å É
,
É Ñ
$num
Ö á
)
á à
:
â ä
Convert
ã í
.
í ì

ToDateTime
ì ù
(
ù û
dr
û †
[
† °
$str
° ±
]
± ≤
)
≤ ≥
;
≥ ¥
oLiquidacionesE 
.  
Fechaanulada  ,
=- .
dr/ 1
[1 2
$str2 @
]@ A
isB D
DBNullE K
?L M
newN Q
DateTimeR Z
(Z [
$num[ _
,_ `
$numa c
,c d
$nume g
)g h
:i j
Convertk r
.r s

ToDateTimes }
(} ~
dr	~ Ä
[
Ä Å
$str
Å è
]
è ê
)
ê ë
;
ë í
oLiquidacionesE 
.  
Fechainicio  +
=, -
dr. 0
[0 1
$str1 >
]> ?
is@ B
DBNullC I
?J K
newL O
DateTimeP X
(X Y
$numY ]
,] ^
$num_ a
,a b
$numc e
)e f
:g h
Converti p
.p q

ToDateTimeq {
({ |
dr| ~
[~ 
$str	 å
]
å ç
)
ç é
;
é è
oLiquidacionesE   
.    
Fechafin    (
=  ) *
dr  + -
[  - .
$str  . 8
]  8 9
is  : <
DBNull  = C
?  D E
new  F I
DateTime  J R
(  R S
$num  S W
,  W X
$num  Y [
,  [ \
$num  ] _
)  _ `
:  a b
Convert  c j
.  j k

ToDateTime  k u
(  u v
dr  v x
[  x y
$str	  y É
]
  É Ñ
)
  Ñ Ö
;
  Ö Ü
oLiquidacionesE!! 
.!!  
	Deducible!!  )
=!!* +
(!!, -
decimal!!- 4
)!!4 5
dr!!5 7
[!!7 8
$str!!8 C
]!!C D
;!!D E
oLiquidacionesE"" 
.""  
	Coaseguro""  )
=""* +
("", -
decimal""- 4
)""4 5
dr""5 7
[""7 8
$str""8 C
]""C D
;""D E
oLiquidacionesE## 
.##  
Deduciblecarta##  .
=##/ 0
(##1 2
decimal##2 9
)##9 :
dr##: <
[##< =
$str##= M
]##M N
;##N O
oLiquidacionesE$$ 
.$$  
Difcobertura$$  ,
=$$- .
($$/ 0
decimal$$0 7
)$$7 8
dr$$8 :
[$$: ;
$str$$; I
]$$I J
;$$J K
oLiquidacionesE%% 
.%%  
Pagadeducible%%  -
=%%. /
(%%0 1
string%%1 7
)%%7 8
dr%%8 :
[%%: ;
$str%%; J
]%%J K
;%%K L
oLiquidacionesE&& 
.&&  
Pagacoaseguro&&  -
=&&. /
(&&0 1
string&&1 7
)&&7 8
dr&&8 :
[&&: ;
$str&&; J
]&&J K
;&&K L
oLiquidacionesE'' 
.''  
Pagagnc''  '
=''( )
(''* +
string''+ 1
)''1 2
dr''2 4
[''4 5
$str''5 >
]''> ?
;''? @
oLiquidacionesE(( 
.((  
Anombredequien((  .
=((/ 0
(((1 2
string((2 8
)((8 9
(((9 :
dr((: <
[((< =
$str((= M
]((M N
+((O P
$str((Q S
)((S T
.((T U
Trim((U Y
(((Y Z
)((Z [
;(([ \
oLiquidacionesE)) 
.))  
Ruc))  #
=))$ %
dr))& (
[))( )
$str))) .
])). /
+))0 1
$str))2 4
;))4 5
oLiquidacionesE** 
.**  
Montoinafecto**  -
=**. /
(**0 1
double**1 7
)**7 8
dr**8 :
[**: ;
$str**; J
]**J K
;**K L
oLiquidacionesE++ 
.++  
Codaseguradora++  .
=++/ 0
(++1 2
string++2 8
)++8 9
dr++9 ;
[++; <
$str++< L
]++L M
;++M N
oLiquidacionesE,, 
.,,  
Codcia,,  &
=,,' (
dr,,) +
[,,+ ,
$str,,, 4
],,4 5
+,,6 7
$str,,8 :
;,,: ;
oLiquidacionesE-- 
.--  
	Codpoliza--  )
=--* +
(--, -
string--- 3
)--3 4
(--4 5
dr--5 7
[--7 8
$str--8 C
]--C D
+--E F
$str--G I
)--I J
.--J K
Trim--K O
(--O P
)--P Q
;--Q R
oLiquidacionesE.. 
...  

Planpoliza..  *
=..+ ,
(..- .
string... 4
)..4 5
dr..5 7
[..7 8
$str..8 D
]..D E
;..E F
oLiquidacionesE// 
.//  
Tipoimpresion//  -
=//. /
dr//0 2
[//2 3
$str//3 B
]//B C
+//D E
$str//F H
;//H I
oLiquidacionesE00 
.00  
FlgGratuito00  +
=00, -
(00. /
bool00/ 3
)003 4
dr004 6
[006 7
$str007 E
]00E F
;00F G
}11 
catch22 
(22 
	Exception22 
ex22 
)22  
{33 
}44 
return66 
oLiquidacionesE66 "
;66" #
}77 	
public99 
List99 
<99 
LiquidacionesE99 "
>99" #%
Sp_Liquidaciones_Consulta99$ =
(99= >
LiquidacionesE99> L
pLiquidacionesE99M \
)99\ ]
{:: 	
IDataReader;; 
dr;; 
;;; 
LiquidacionesE<< 
oLiquidacionesE<< *
=<<+ ,
null<<- 1
;<<p q
List== 
<== 
LiquidacionesE== 
>==  
oListar==! (
===) *
new==+ .
List==/ 3
<==3 4
LiquidacionesE==4 B
>==B C
(==C D
)==D E
;==E F
try>> 
{?? 
using@@ 
(@@ 
SqlConnection@@ $
cnn@@% (
=@@) *
new@@+ .
SqlConnection@@/ <
(@@< =
VariablesGlobales@@= N
.@@N O

CnnClinica@@O Y
)@@Y Z
)@@Z [
{AA 
usingBB 
(BB 

SqlCommandBB %
cmdBB& )
=BB* +
newBB, /

SqlCommandBB0 :
(BB: ;
$strBB; V
,BBV W
cnnBBX [
)BB[ \
)BB\ ]
{CC 
cmdDD 
.DD 
CommandTypeDD '
=DD( )
CommandTypeDD* 5
.DD5 6
StoredProcedureDD6 E
;DDE F
cmdFF 
.FF 

ParametersFF &
.FF& '
AddWithValueFF' 3
(FF3 4
$strFF4 E
,FFE F
pLiquidacionesEFFG V
.FFV W
CodLiquidacionFFW e
)FFe f
;FFf g
cnnGG 
.GG 
OpenGG  
(GG  !
)GG! "
;GG" #
drHH 
=HH 
cmdHH  
.HH  !
ExecuteReaderHH! .
(HH. /
)HH/ 0
;HH0 1
whileII 
(II 
drII !
.II! "
ReadII" &
(II& '
)II' (
)II( )
{JJ 
oLiquidacionesEKK +
=KK, -
LlenarEntidadKK. ;
(KK; <
drKK< >
,KK> ?
pLiquidacionesEKK@ O
)KKO P
;KKP Q
oListarLL #
.LL# $
AddLL$ '
(LL' (
oLiquidacionesELL( 7
)LL7 8
;LL8 9
}MM 
drOO 
.OO 
CloseOO  
(OO  !
)OO! "
;OO" #
drPP 
.PP 
DisposePP "
(PP" #
)PP# $
;PP$ %
cmdQQ 
.QQ 
DisposeQQ #
(QQ# $
)QQ$ %
;QQ% &
cnnRR 
.RR 
CloseRR !
(RR! "
)RR" #
;RR# $
cnnSS 
.SS 
DisposeSS #
(SS# $
)SS$ %
;SS% &
returnUU 
oListarUU &
;UU& '
}VV 
}WW 
}XX 
catchYY 
(YY 
	ExceptionYY 
exYY 
)YY  
{ZZ 
throw[[ 
new[[ 
	Exception[[ #
([[# $
ex[[$ &
.[[& '
Message[[' .
)[[. /
;[[/ 0
}\\ 
}]] 	
public__ 
bool__ #
Sp_Liquidaciones_Insert__ +
(__+ ,
LiquidacionesE__, :
pLiquidacionesE__; J
)__J K
{`` 	
boolaa 
resultaa 
=aa 
falseaa 
;aa  
trybb 
{cc 
usingdd 
(dd 
SqlConnectiondd $
cnndd% (
=dd) *
newdd+ .
SqlConnectiondd/ <
(dd< =
VariablesGlobalesdd= N
.ddN O

CnnClinicaddO Y
)ddY Z
)ddZ [
{ee 
usingff 
(ff 

SqlCommandff %
cmdff& )
=ff* +
newff, /

SqlCommandff0 :
(ff: ;
$strff; T
,ffT U
cnnffV Y
)ffY Z
)ffZ [
{gg 
cmdhh 
.hh 
CommandTypehh '
=hh( )
CommandTypehh* 5
.hh5 6
StoredProcedurehh6 E
;hhE F
cmdjj 
.jj 

Parametersjj &
.jj& '
AddWithValuejj' 3
(jj3 4
$strjj4 B
,jjB C
pLiquidacionesEjjD S
.jjS T
CodAtencionjjT _
)jj_ `
;jj` a
cmdkk 
.kk 

Parameterskk &
.kk& '
AddWithValuekk' 3
(kk3 4
$strkk4 B
,kkB C
pLiquidacionesEkkD S
.kkS T
CodPresotorkkT _
)kk_ `
;kk` a
cmdll 
.ll 

Parametersll &
.ll& '
AddWithValuell' 3
(ll3 4
$strll4 <
,ll< =
pLiquidacionesEll> M
.llM N
QuienCreoRegistrollN _
)ll_ `
;ll` a
cmdmm 
.mm 

Parametersmm &
.mm& '
AddWithValuemm' 3
(mm3 4
$strmm4 ;
,mm; <
pLiquidacionesEmm= L
.mmL M
TipommM Q
)mmQ R
;mmR S
cmdnn 
.nn 

Parametersnn &
.nn& '
Addnn' *
(nn* +
VariablesGlobalesnn+ <
.nn< =
ParametroSqlnn= I
(nnI J
$strnnJ [
,nn[ \
ParameterDirectionnn] o
.nno p
InputOutputnnp {
,nn{ |
	SqlDbType	nn} Ü
.
nnÜ á
VarChar
nná é
,
nné è
$num
nnê í
,
nní ì
pLiquidacionesE
nnî £
.
nn£ §
CodLiquidacion
nn§ ≤
)
nn≤ ≥
)
nn≥ ¥
;
nn¥ µ
cnnoo 
.oo 
Openoo  
(oo  !
)oo! "
;oo" #
cmdqq 
.qq 
ExecuteNonQueryqq +
(qq+ ,
)qq, -
;qq- .
pLiquidacionesErr '
.rr' (
CodLiquidacionrr( 6
=rr7 8
(rr9 :
stringrr: @
)rr@ A
cmdrrA D
.rrD E

ParametersrrE O
[rrO P
$strrrP a
]rra b
.rrb c
Valuerrc h
;rrh i
ifss 
(ss 
pLiquidacionesEss +
.ss+ ,
CodLiquidacionss, :
!=ss; =
$strss> @
)ss@ A
resulttt "
=tt# $
truett% )
;tt) *
cmdvv 
.vv 
Disposevv #
(vv# $
)vv$ %
;vv% &
cnnww 
.ww 
Closeww !
(ww! "
)ww" #
;ww# $
cnnxx 
.xx 
Disposexx #
(xx# $
)xx$ %
;xx% &
}yy 
}zz 
return|| 
result|| 
;|| 
}}} 
catch~~ 
(~~ 
	Exception~~ 
ex~~ 
)~~  
{ 
throw
ÄÄ 
new
ÄÄ 
	Exception
ÄÄ #
(
ÄÄ# $
ex
ÄÄ$ &
.
ÄÄ& '
Message
ÄÄ' .
)
ÄÄ. /
;
ÄÄ/ 0
}
ÅÅ 
}
ÇÇ 	
public
ÑÑ 
bool
ÑÑ .
 Sp_LiquidacionesRecalculo_Update
ÑÑ 4
(
ÑÑ4 5
LiquidacionesE
ÑÑ5 C
pLiquidacionesE
ÑÑD S
)
ÑÑS T
{
ÖÖ 	
bool
ÜÜ 
Result
ÜÜ 
=
ÜÜ 
false
ÜÜ 
;
ÜÜ  
try
áá 
{
àà 
using
ââ 
(
ââ 
SqlConnection
ââ $
cnn
ââ% (
=
ââ) *
new
ââ+ .
SqlConnection
ââ/ <
(
ââ< =
VariablesGlobales
ââ= N
.
ââN O

CnnClinica
ââO Y
)
ââY Z
)
ââZ [
{
ää 
using
ãã 
(
ãã 

SqlCommand
ãã %
cmd
ãã& )
=
ãã* +
new
ãã, /

SqlCommand
ãã0 :
(
ãã: ;
$str
ãã; ]
,
ãã] ^
cnn
ãã_ b
)
ããb c
)
ããc d
{
åå 
cmd
çç 
.
çç 
CommandType
çç '
=
çç( )
CommandType
çç* 5
.
çç5 6
StoredProcedure
çç6 E
;
ççE F
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 B
,
èèB C
pLiquidacionesE
èèD S
.
èèS T
CodAtencion
èèT _
)
èè_ `
;
èè` a
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 <
,
êê< =
pLiquidacionesE
êê> M
.
êêM N
QuienCreoRegistro
êêN _
)
êê_ `
;
êê` a
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 E
,
ëëE F
pLiquidacionesE
ëëG V
.
ëëV W
CodLiquidacion
ëëW e
)
ëëe f
;
ëëf g
cnn
íí 
.
íí 
Open
íí  
(
íí  !
)
íí! "
;
íí" #
cmd
ìì 
.
ìì 
ExecuteNonQuery
ìì +
(
ìì+ ,
)
ìì, -
;
ìì- .
Result
îî 
=
îî  
true
îî! %
;
îî% &
cmd
ññ 
.
ññ 
Dispose
ññ #
(
ññ# $
)
ññ$ %
;
ññ% &
cnn
óó 
.
óó 
Close
óó !
(
óó! "
)
óó" #
;
óó# $
cnn
òò 
.
òò 
Dispose
òò #
(
òò# $
)
òò$ %
;
òò% &
}
ôô 
}
öö 
}
õõ 
catch
úú 
(
úú 
	Exception
úú 
ex
úú 
)
úú  
{
ùù 
throw
ûû 
new
ûû 
	Exception
ûû #
(
ûû# $
ex
ûû$ &
.
ûû& '
Message
ûû' .
)
ûû. /
;
ûû/ 0
}
üü 
return
°° 
Result
°° 
;
°° 
}
¢¢ 	
public
§§ 
bool
§§ %
Sp_Liquidaciones_Delete
§§ +
(
§§+ ,
LiquidacionesE
§§, :
pLiquidacionesE
§§; J
)
§§J K
{
•• 	
int
¶¶ 
xReturn
¶¶ 
;
¶¶ 
bool
ßß 
Result
ßß 
=
ßß 
true
ßß 
;
ßß 
try
®® 
{
©© 
using
™™ 
(
™™ 
SqlConnection
™™ $
cnn
™™% (
=
™™) *
new
™™+ .
SqlConnection
™™/ <
(
™™< =
VariablesGlobales
™™= N
.
™™N O

CnnClinica
™™O Y
)
™™Y Z
)
™™Z [
{
´´ 
using
¨¨ 
(
¨¨ 

SqlCommand
¨¨ %
cmd
¨¨& )
=
¨¨* +
new
¨¨, /

SqlCommand
¨¨0 :
(
¨¨: ;
$str
¨¨; T
,
¨¨T U
cnn
¨¨V Y
)
¨¨Y Z
)
¨¨Z [
{
≠≠ 
cmd
ÆÆ 
.
ÆÆ 
CommandType
ÆÆ '
=
ÆÆ( )
CommandType
ÆÆ* 5
.
ÆÆ5 6
StoredProcedure
ÆÆ6 E
;
ÆÆE F
cmd
∞∞ 
.
∞∞ 

Parameters
∞∞ &
.
∞∞& '
AddWithValue
∞∞' 3
(
∞∞3 4
$str
∞∞4 =
,
∞∞= >
$str
∞∞? A
)
∞∞A B
.
∞∞B C
	Direction
∞∞C L
=
∞∞M N 
ParameterDirection
∞∞O a
.
∞∞a b
ReturnValue
∞∞b m
;
∞∞m n
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
AddWithValue
±±' 3
(
±±3 4
$str
±±4 E
,
±±E F
pLiquidacionesE
±±G V
.
±±V W
CodLiquidacion
±±W e
)
±±e f
;
±±f g
cnn
≤≤ 
.
≤≤ 
Open
≤≤  
(
≤≤  !
)
≤≤! "
;
≤≤" #
cmd
¥¥ 
.
¥¥ 
ExecuteNonQuery
¥¥ +
(
¥¥+ ,
)
¥¥, -
;
¥¥- .
xReturn
∂∂ 
=
∂∂  !
Convert
∂∂" )
.
∂∂) *
ToInt32
∂∂* 1
(
∂∂1 2
cmd
∂∂2 5
.
∂∂5 6

Parameters
∂∂6 @
[
∂∂@ A
$str
∂∂A J
]
∂∂J K
.
∂∂K L
Value
∂∂L Q
)
∂∂Q R
;
∂∂R S
if
∑∑ 
(
∑∑ 
xReturn
∑∑ #
==
∑∑$ &
$num
∑∑' (
)
∑∑( )
Result
∏∏ "
=
∏∏# $
true
∏∏% )
;
∏∏) *
cmd
∫∫ 
.
∫∫ 
Dispose
∫∫ #
(
∫∫# $
)
∫∫$ %
;
∫∫% &
cnn
ªª 
.
ªª 
Close
ªª !
(
ªª! "
)
ªª" #
;
ªª# $
cnn
ºº 
.
ºº 
Dispose
ºº #
(
ºº# $
)
ºº$ %
;
ºº% &
}
ΩΩ 
}
ææ 
return
øø 
Result
øø 
;
øø 
}
¿¿ 
catch
¡¡ 
(
¡¡ 
	Exception
¡¡ 
ex
¡¡ 
)
¡¡  
{
¬¬ 
throw
√√ 
new
√√ 
	Exception
√√ #
(
√√# $
ex
√√$ &
.
√√& '
Message
√√' .
)
√√. /
;
√√/ 0
}
ƒƒ 
}
≈≈ 	
public
«« 
bool
«« %
Sp_Liquidaciones_Update
«« +
(
««+ ,
LiquidacionesE
««, :
pLiquidacionesE
««; J
)
««J K
{
»» 	
bool
…… 
Result
…… 
=
…… 
false
…… 
;
……  
try
   
{
ÀÀ 
using
ÃÃ 
(
ÃÃ 
SqlConnection
ÃÃ $
cnn
ÃÃ% (
=
ÃÃ) *
new
ÃÃ+ .
SqlConnection
ÃÃ/ <
(
ÃÃ< =
VariablesGlobales
ÃÃ= N
.
ÃÃN O

CnnClinica
ÃÃO Y
)
ÃÃY Z
)
ÃÃZ [
{
ÕÕ 
using
ŒŒ 
(
ŒŒ 

SqlCommand
ŒŒ %
cmd
ŒŒ& )
=
ŒŒ* +
new
ŒŒ, /

SqlCommand
ŒŒ0 :
(
ŒŒ: ;
$str
ŒŒ; T
,
ŒŒT U
cnn
ŒŒV Y
)
ŒŒY Z
)
ŒŒZ [
{
œœ 
cmd
–– 
.
–– 
CommandType
–– '
=
––( )
CommandType
––* 5
.
––5 6
StoredProcedure
––6 E
;
––E F
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 <
,
““< =
pLiquidacionesE
““> M
.
““M N
Campo
““N S
)
““S T
;
““T U
cmd
”” 
.
”” 

Parameters
”” &
.
””& '
AddWithValue
””' 3
(
””3 4
$str
””4 =
,
””= >
pLiquidacionesE
””? N
.
””N O
CodLiquidacion
””O ]
)
””] ^
;
””^ _
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ &
.
‘‘& '
AddWithValue
‘‘' 3
(
‘‘3 4
$str
‘‘4 A
,
‘‘A B
pLiquidacionesE
‘‘C R
.
‘‘R S

NuevoValor
‘‘S ]
)
‘‘] ^
;
‘‘^ _
cnn
’’ 
.
’’ 
Open
’’  
(
’’  !
)
’’! "
;
’’" #
int
◊◊ 
exito
◊◊ !
=
◊◊" #
cmd
◊◊$ '
.
◊◊' (
ExecuteNonQuery
◊◊( 7
(
◊◊7 8
)
◊◊8 9
;
◊◊9 :
if
ÿÿ 
(
ÿÿ 
exito
ÿÿ !
>=
ÿÿ" $
$num
ÿÿ% &
)
ÿÿ& '
Result
ŸŸ "
=
ŸŸ# $
true
ŸŸ% )
;
ŸŸ) *
else
⁄⁄ 
Result
€€ "
=
€€# $
false
€€% *
;
€€* +
cmd
›› 
.
›› 
Dispose
›› #
(
››# $
)
››$ %
;
››% &
cnn
ﬁﬁ 
.
ﬁﬁ 
Close
ﬁﬁ !
(
ﬁﬁ! "
)
ﬁﬁ" #
;
ﬁﬁ# $
cnn
ﬂﬂ 
.
ﬂﬂ 
Dispose
ﬂﬂ #
(
ﬂﬂ# $
)
ﬂﬂ$ %
;
ﬂﬂ% &
}
‡‡ 
}
·· 
}
‚‚ 
catch
„„ 
(
„„ 
	Exception
„„ 
ex
„„ 
)
„„  
{
‰‰ 
throw
ÂÂ 
new
ÂÂ 
	Exception
ÂÂ #
(
ÂÂ# $
ex
ÂÂ$ &
.
ÂÂ& '
Message
ÂÂ' .
)
ÂÂ. /
;
ÂÂ/ 0
}
ÊÊ 
return
ËË 
Result
ËË 
;
ËË 
}
ÈÈ 	
}
ÍÍ 
}ÎÎ ≠\
dD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\ValorPrestacionesAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 

HospitalAD

 &
{ 
public 

class 
ValorPrestacionesAD $
{ 
private 
ValorPrestacionesE "
LlenarEntidad# 0
(0 1
IDataReader1 <
dr= ?
,? @
ValorPrestacionesEA S
pPrestacionesET b
)b c
{ 	
ValorPrestacionesE 
oPrestacionesE -
=. /
new0 3
ValorPrestacionesE4 F
(F G
)G H
;H I
switch 
( 
pPrestacionesE "
." #
Orden# (
)( )
{ 
case 
$num 
: 
oPrestacionesE "
." #
Codatencion# .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE R
]R S
)S T
;T U
oPrestacionesE "
." #
Nompaciente# .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE R
]R S
)S T
;T U
oPrestacionesE "
." #
Monto# (
=) *
Convert+ 2
.2 3
ToDouble3 ;
(; <
dr< >
[> ?
$str? F
]F G
)G H
;H I
oPrestacionesE "
." #
	Codtarifa# ,
=- .
Convert/ 6
.6 7
ToString7 ?
(? @
dr@ B
[B C
$strC N
]N O
)O P
;P Q
oPrestacionesE "
." #
	Nomtarifa# ,
=- .
Convert/ 6
.6 7
ToString7 ?
(? @
dr@ B
[B C
$strC N
]N O
)O P
;P Q
oPrestacionesE "
." #
Nomcobertura# /
=0 1
Convert2 9
.9 :
ToString: B
(B C
drC E
[E F
$strF T
]T U
)U V
;V W
oPrestacionesE "
." #
Codaseguradora# 1
=2 3
Convert4 ;
.; <
ToInt32< C
(C D
drD F
[F G
$strG W
]W X
)X Y
;Y Z
oPrestacionesE "
." #
Nomaseguradora# 1
=2 3
Convert4 ;
.; <
ToString< D
(D E
drE G
[G H
$strH [
][ \
)\ ]
;] ^
break 
; 
case 
$num 
: 
oPrestacionesE   "
.  " #
Codprestacion  # 0
=  1 2
Convert  3 :
.  : ;
ToString  ; C
(  C D
dr  D F
[  F G
$str  G V
]  V W
)  W X
;  X Y
oPrestacionesE!! "
.!!" #
Nomprestacion!!# 0
=!!1 2
Convert!!3 :
.!!: ;
ToString!!; C
(!!C D
dr!!D F
[!!F G
$str!!G V
]!!V W
)!!W X
;!!X Y
oPrestacionesE"" "
.""" #
Valprestacion""# 0
=""1 2
Convert""3 :
."": ;
ToDouble""; C
(""C D
dr""D F
[""F G
$str""G N
]""N O
)""O P
;""P Q
oPrestacionesE## "
.##" #
	Codtarifa### ,
=##- .
Convert##/ 6
.##6 7
ToString##7 ?
(##? @
dr##@ B
[##B C
$str##C N
]##N O
)##O P
;##P Q
break$$ 
;$$ 
}%% 
return&& 
oPrestacionesE&& !
;&&! "
}'' 	
public)) 
List)) 
<)) 
ValorPrestacionesE)) &
>))& '+
Sp_ValorPrestaciones_Consultav2))( G
())G H
ValorPrestacionesE))H Z
pPrestacionesE))[ i
)))i j
{** 	
List++ 
<++ 
ValorPrestacionesE++ #
>++# $
oListar++% ,
=++- .
new++/ 2
List++3 7
<++7 8
ValorPrestacionesE++8 J
>++J K
(++K L
)++L M
;++M N
ValorPrestacionesE,, 
oConveniosE,, *
=,,+ ,
new,,- 0
ValorPrestacionesE,,1 C
(,,C D
),,D E
;,,E F
using-- 
(-- 
SqlConnection--  
cnn--! $
=--% &
new--' *
SqlConnection--+ 8
(--8 9
VariablesGlobales--9 J
.--J K

CnnClinica--K U
)--U V
)--V W
{.. 
using// 
(// 

SqlCommand// !
cmd//" %
=//& '
new//( +

SqlCommand//, 6
(//6 7
$str//7 X
,//X Y
cnn//Z ]
)//] ^
)//^ _
{00 
cmd11 
.11 
CommandType11 #
=11$ %
System11& ,
.11, -
Data11- 1
.111 2
CommandType112 =
.11= >
StoredProcedure11> M
;11M N
cmd33 
.33 

Parameters33 "
.33" #
AddWithValue33# /
(33/ 0
$str330 8
,338 9
pPrestacionesE33: H
.33H I
Orden33I N
)33N O
;33O P
cmd44 
.44 

Parameters44 "
.44" #
AddWithValue44# /
(44/ 0
$str440 ?
,44? @
pPrestacionesE44A O
.44O P
Codatencion44P [
)44[ \
;44\ ]
cmd55 
.55 

Parameters55 "
.55" #
AddWithValue55# /
(55/ 0
$str550 A
,55A B
pPrestacionesE55C Q
.55Q R
Codprestacion55R _
)55_ `
;55` a
cmd66 
.66 

Parameters66 "
.66" #
AddWithValue66# /
(66/ 0
$str660 =
,66= >
pPrestacionesE66? M
.66M N
	Codtarifa66N W
)66W X
;66X Y
cmd77 
.77 

Parameters77 "
.77" #
AddWithValue77# /
(77/ 0
$str770 A
,77A B
pPrestacionesE77C Q
.77Q R
Dscprestacion77R _
)77_ `
;77` a
cmd88 
.88 

Parameters88 "
.88" #
AddWithValue88# /
(88/ 0
$str880 <
,88< =
pPrestacionesE88> L
.88L M
NroFilas88M U
)88U V
;88V W
cnn99 
.99 
Open99 
(99 
)99 
;99 
IDataReader:: 
dr::  "
=::# $
cmd::% (
.::( )
ExecuteReader::) 6
(::6 7
)::7 8
;::8 9
while;; 
(;; 
dr;; 
.;; 
Read;; "
(;;" #
);;# $
);;$ %
{<< 
oConveniosE== #
===$ %
LlenarEntidad==& 3
(==3 4
dr==4 6
,==6 7
pPrestacionesE==8 F
)==F G
;==G H
oListar>> 
.>>  
Add>>  #
(>># $
oConveniosE>>$ /
)>>/ 0
;>>0 1
}?? 
dr@@ 
.@@ 
Close@@ 
(@@ 
)@@ 
;@@ 
cnnAA 
.AA 
CloseAA 
(AA 
)AA 
;AA  
}BB 
}CC 
returnDD 
oListarDD 
;DD 
}EE 	
publicGG 
ListGG 
<GG 
ValorPrestacionesEGG &
>GG& '$
Sp_Prestaciones_ConsultaGG( @
(GG@ A
ValorPrestacionesEGGA S
pPrestacionesEGGT b
)GGb c
{HH 	
ListII 
<II 
ValorPrestacionesEII #
>II# $
oListarII% ,
=II- .
newII/ 2
ListII3 7
<II7 8
ValorPrestacionesEII8 J
>IIJ K
(IIK L
)IIL M
;IIM N
ValorPrestacionesEJJ 
oConveniosEJJ *
=JJ+ ,
nullJJ- 1
;JJ1 2
usingKK 
(KK 
SqlConnectionKK  
cnnKK! $
=KK% &
newKK' *
SqlConnectionKK+ 8
(KK8 9
VariablesGlobalesKK9 J
.KKJ K

CnnClinicaKKK U
)KKU V
)KKV W
{LL 
usingMM 
(MM 

SqlCommandMM !
cmdMM" %
=MM& '
newMM( +

SqlCommandMM, 6
(MM6 7
$strMM7 Q
,MMQ R
cnnMMS V
)MMV W
)MMW X
{NN 
cmdOO 
.OO 
CommandTypeOO #
=OO$ %
SystemOO& ,
.OO, -
DataOO- 1
.OO1 2
CommandTypeOO2 =
.OO= >
StoredProcedureOO> M
;OOM N
cmdQQ 
.QQ 

ParametersQQ "
.QQ" #
AddWithValueQQ# /
(QQ/ 0
$strQQ0 8
,QQ8 9
pPrestacionesEQQ: H
.QQH I
OrdenQQI N
)QQN O
;QQO P
cmdRR 
.RR 

ParametersRR "
.RR" #
AddWithValueRR# /
(RR/ 0
$strRR0 ?
,RR? @
pPrestacionesERRA O
.RRO P
CodatencionRRP [
)RR[ \
;RR\ ]
cmdSS 
.SS 

ParametersSS "
.SS" #
AddWithValueSS# /
(SS/ 0
$strSS0 A
,SSA B
pPrestacionesESSC Q
.SSQ R
CodprestacionSSR _
)SS_ `
;SS` a
cmdTT 
.TT 

ParametersTT "
.TT" #
AddWithValueTT# /
(TT/ 0
$strTT0 =
,TT= >
pPrestacionesETT? M
.TTM N
	CodtarifaTTN W
)TTW X
;TTX Y
cmdUU 
.UU 

ParametersUU "
.UU" #
AddWithValueUU# /
(UU/ 0
$strUU0 A
,UUA B
pPrestacionesEUUC Q
.UUQ R
DscprestacionUUR _
)UU_ `
;UU` a
cmdVV 
.VV 

ParametersVV "
.VV" #
AddWithValueVV# /
(VV/ 0
$strVV0 <
,VV< =
pPrestacionesEVV> L
.VVL M
NroFilasVVM U
)VVU V
;VVV W
cnnWW 
.WW 
OpenWW 
(WW 
)WW 
;WW 
IDataReaderXX 
drXX  "
=XX# $
cmdXX% (
.XX( )
ExecuteReaderXX) 6
(XX6 7
)XX7 8
;XX8 9
whileYY 
(YY 
drYY 
.YY 
ReadYY "
(YY" #
)YY# $
)YY$ %
{ZZ 
oConveniosE[[ #
=[[$ %
LlenarEntidad[[& 3
([[3 4
dr[[4 6
,[[6 7
pPrestacionesE[[8 F
)[[F G
;[[G H
oListar\\ 
.\\  
Add\\  #
(\\# $
oConveniosE\\$ /
)\\/ 0
;\\0 1
}]] 
dr^^ 
.^^ 
Close^^ 
(^^ 
)^^ 
;^^ 
cnn__ 
.__ 
Close__ 
(__ 
)__ 
;__  
}`` 
}aa 
returnbb 
oListarbb 
;bb 
}cc 	
}dd 
}ee ˘>
[D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\SemaforoAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 

HospitalAD

 &
{ 
public 

class 

SemaforoAD 
{ 
private 
	SemaforoE 
LlenarEntidad '
(' (
IDataReader( 3
dr4 6
,6 7
	SemaforoE8 A

pSemaforoEB L
)L M
{ 	
	SemaforoE 

oSemaforoE  
=! "
new# &
	SemaforoE' 0
(0 1
)1 2
;2 3
switch 
( 

pSemaforoE 
. 
Orden $
)$ %
{ 
case 
$num 
: 

oSemaforoE 
. 
Cama #
=$ %
Convert& -
.- .
ToString. 6
(6 7
dr7 9
[9 :
$str: @
]@ A
)A B
;B C

oSemaforoE 
. 
CodAtencion *
=+ ,
Convert- 4
.4 5
ToString5 =
(= >
dr> @
[@ A
$strA N
]N O
)O P
;P Q

oSemaforoE 
. 
FechaAltamedica .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE V
]V W
)W X
;X Y

oSemaforoE 
. 
	PacEstado (
=) *
Convert+ 2
.2 3
ToString3 ;
(; <
dr< >
[> ?
$str? K
]K L
)L M
;M N

oSemaforoE 
. 
	DscEstado (
=) *
Convert+ 2
.2 3
ToString3 ;
(; <
dr< >
[> ?
$str? K
]K L
)L M
;M N

oSemaforoE 
. 

TiempoDias )
=* +
Convert, 3
.3 4
ToString4 <
(< =
dr= ?
[? @
$str@ M
]M N
)N O
;O P

oSemaforoE 
. 
FecFallecido +
=, -
Convert. 5
.5 6
ToString6 >
(> ?
dr? A
[A B
$strB Q
]Q R
)R S
;S T

oSemaforoE 
. 
	Prioridad (
=) *
Convert+ 2
.2 3
ToString3 ;
(; <
dr< >
[> ?
$str? J
]J K
)K L
;L M

oSemaforoE 
. 
CodNombreDestino /
=0 1
Convert2 9
.9 :
ToString: B
(B C
drC E
[E F
$strF Z
]Z [
)[ \
;\ ]

oSemaforoE 
. 
NombreDestino ,
=- .
Convert/ 6
.6 7
ToString7 ?
(? @
dr@ B
[B C
$strC R
]R S
)S T
;T U

oSemaforoE 
. 

HospEstado )
=* +
Convert, 3
.3 4
ToString4 <
(< =
dr= ?
[? @
$str@ M
]M N
)N O
;O P

oSemaforoE   
.   
Semaforo   '
=  ( )
Convert  * 1
.  1 2
ToString  2 :
(  : ;
dr  ; =
[  = >
$str  > H
]  H I
)  I J
;  J K
break!! 
;!! 
case"" 
$num"" 
:"" 

oSemaforoE## 
.## 
Semaforo## '
=##( )
Convert##* 1
.##1 2
ToString##2 :
(##: ;
dr##; =
[##= >
$str##> H
]##H I
)##I J
;##J K

oSemaforoE$$ 
.$$ 
Cantidad$$ '
=$$( )
Convert$$* 1
.$$1 2
ToInt32$$2 9
($$9 :
dr$$: <
[$$< =
$str$$= G
]$$G H
)$$H I
;$$I J
break%% 
;%% 
}&& 
return'' 

oSemaforoE'' 
;'' 
}(( 	
public** 
List** 
<** 
	SemaforoE** 
>** 3
'Sp_HospitalSemaforoEmergencias_Consulta** F
(**F G
	SemaforoE**G P

pSemaforoE**Q [
)**[ \
{++ 	
List,, 
<,, 
	SemaforoE,, 
>,, 
oListar,, #
=,,$ %
new,,& )
List,,* .
<,,. /
	SemaforoE,,/ 8
>,,8 9
(,,9 :
),,: ;
;,,; <
	SemaforoE-- 

oSemaforoE--  
=--! "
new--# &
	SemaforoE--' 0
(--0 1
)--1 2
;--2 3
using.. 
(.. 
SqlConnection..  
cnn..! $
=..% &
new..' *
SqlConnection..+ 8
(..8 9
VariablesGlobales..9 J
...J K

CnnClinica..K U
)..U V
)..V W
{// 
using00 
(00 

SqlCommand00 !
cmd00" %
=00& '
new00( +

SqlCommand00, 6
(006 7
$str007 `
,00` a
cnn00b e
)00e f
)00f g
{11 
cmd22 
.22 
CommandType22 #
=22$ %
System22& ,
.22, -
Data22- 1
.221 2
CommandType222 =
.22= >
StoredProcedure22> M
;22M N
cmd55 
.55 

Parameters55 "
.55" #
AddWithValue55# /
(55/ 0
$str550 ;
,55; <

pSemaforoE55= G
.55G H
Pabellon55H P
)55P Q
;55Q R
cmd66 
.66 

Parameters66 "
.66" #
AddWithValue66# /
(66/ 0
$str660 ;
,66; <

pSemaforoE66= G
.66G H
Servicio66H P
)66P Q
;66Q R
cmd77 
.77 

Parameters77 "
.77" #
AddWithValue77# /
(77/ 0
$str770 7
,777 8

pSemaforoE779 C
.77C D
Sede77D H
)77H I
;77I J
cmd88 
.88 

Parameters88 "
.88" #
AddWithValue88# /
(88/ 0
$str880 9
,889 :

pSemaforoE88; E
.88E F
Buscar88F L
)88L M
;88M N
cmd99 
.99 

Parameters99 "
.99" #
AddWithValue99# /
(99/ 0
$str990 8
,998 9

pSemaforoE99: D
.99D E
Orden99E J
)99J K
;99K L
cnn:: 
.:: 
Open:: 
(:: 
):: 
;:: 
IDataReader;; 
dr;;  "
=;;# $
cmd;;% (
.;;( )
ExecuteReader;;) 6
(;;6 7
);;7 8
;;;8 9
while<< 
(<< 
dr<< 
.<< 
Read<< "
(<<" #
)<<# $
)<<$ %
{== 

oSemaforoE>> "
=>># $
LlenarEntidad>>% 2
(>>2 3
dr>>3 5
,>>5 6

pSemaforoE>>7 A
)>>A B
;>>B C
oListar?? 
.??  
Add??  #
(??# $

oSemaforoE??$ .
)??. /
;??/ 0
}@@ 
drAA 
.AA 
CloseAA 
(AA 
)AA 
;AA 
cnnBB 
.BB 
CloseBB 
(BB 
)BB 
;BB  
}CC 
}DD 
returnEE 
oListarEE 
;EE 
}FF 	
}GG 
}HH Ñ<
fD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\SeguridadDePasswordAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 

HospitalAD &
{ 
public 

class !
SeguridadDePasswordAD &
{ 
public 
	PasswordE 
Sp_EncriptarSegPass ,
(, -
	PasswordE- 6

pPasswordE7 A
)A B
{ 	

SqlCommand   
cmd   
=   
null   !
;  ! "
SqlConnection!! 
con!! 
=!! 
null!!  $
;!!$ %
SqlDataReader"" 
dr"" 
="" 
null"" #
;""# $
	PasswordE## 
obj## 
=## 
new## 
	PasswordE##  )
(##) *
)##* +
;##+ ,
try$$ 
{%% 
con&& 
=&& 
new&& 
SqlConnection&& '
(&&' (
VariablesGlobales&&( 9
.&&9 :

CnnClinica&&: D
)&&D E
;&&E F
cmd'' 
='' 
new'' 

SqlCommand'' $
(''$ %
$str''% :
,'': ;
con''< ?
)''? @
;''@ A
cmd(( 
.(( 
CommandType(( 
=((  !
CommandType((" -
.((- .
StoredProcedure((. =
;((= >
cmd)) 
.)) 

Parameters)) 
.)) 
AddWithValue)) +
())+ ,
$str)), 4
,))4 5

pPasswordE))6 @
.))@ A
Orden))A F
)))F G
;))G H
cmd** 
.** 

Parameters** 
.** 
AddWithValue** +
(**+ ,
$str**, 4
,**4 5

pPasswordE**6 @
.**@ A
Clave**A F
)**F G
;**G H
con,, 
.,, 
Open,, 
(,, 
),, 
;,, 
dr-- 
=-- 
cmd-- 
.-- 
ExecuteReader-- &
(--& '
)--' (
;--( )
while.. 
(.. 
dr.. 
... 
Read.. 
(.. 
)..  
)..  !
{// 
obj00 
.00 
WqCadenaEncriptada00 *
=00+ ,
dr00- /
[00/ 0
$str000 D
]00D E
.00E F
ToString00F N
(00N O
)00O P
;00P Q
}11 
return22 
obj22 
;22 
}33 
catch44 
(44 
	Exception44 
ex44 
)44  
{55 
throw66 
;66 
}77 
finally88 
{99 
con:: 
.:: 
Close:: 
(:: 
):: 
;:: 
con;; 
.;; 
Dispose;; 
(;; 
);; 
;;; 
}<< 
}== 	
public?? 
	PasswordE?? "
Sp_DesEncriptarSegPass?? /
(??/ 0
	PasswordE??0 9

pPasswordE??: D
)??D E
{@@ 	

SqlCommandAA 
cmdAA 
=AA 
nullAA !
;AA! "
SqlConnectionBB 
conBB 
=BB 
nullBB  $
;BB$ %
SqlDataReaderCC 
drCC 
=CC 
nullCC #
;CC# $
	PasswordEDD 
objDD 
=DD 
newDD 
	PasswordEDD  )
(DD) *
)DD* +
;DD+ ,
tryEE 
{FF 
conGG 
=GG 
newGG 
SqlConnectionGG '
(GG' (
VariablesGlobalesGG( 9
.GG9 :

CnnClinicaGG: D
)GGD E
;GGE F
cmdHH 
=HH 
newHH 

SqlCommandHH $
(HH$ %
$strHH% =
,HH= >
conHH? B
)HHB C
;HHC D
cmdII 
.II 
CommandTypeII 
=II  !
CommandTypeII" -
.II- .
StoredProcedureII. =
;II= >
cmdJJ 
.JJ 

ParametersJJ 
.JJ 
AddWithValueJJ +
(JJ+ ,
$strJJ, 4
,JJ4 5

pPasswordEJJ6 @
.JJ@ A
OrdenJJA F
)JJF G
;JJG H
cmdKK 
.KK 

ParametersKK 
.KK 
AddWithValueKK +
(KK+ ,
$strKK, 4
,KK4 5

pPasswordEKK6 @
.KK@ A
ClaveKKA F
)KKF G
;KKG H
conMM 
.MM 
OpenMM 
(MM 
)MM 
;MM 
drNN 
=NN 
cmdNN 
.NN 
ExecuteReaderNN &
(NN& '
)NN' (
;NN( )
whileOO 
(OO 
drOO 
.OO 
ReadOO 
(OO 
)OO  
)OO  !
{PP 
objQQ 
.QQ !
WqCadenaDesEncriptadaQQ -
=QQ. /
drQQ0 2
[QQ2 3
$strQQ3 J
]QQJ K
.QQK L
ToStringQQL T
(QQT U
)QQU V
;QQV W
}RR 
returnSS 
objSS 
;SS 
}TT 
catchUU 
(UU 
	ExceptionUU 
exUU 
)UU  
{VV 
throwWW 
;WW 
}XX 
finallyYY 
{ZZ 
con[[ 
.[[ 
Close[[ 
([[ 
)[[ 
;[[ 
con\\ 
.\\ 
Dispose\\ 
(\\ 
)\\ 
;\\ 
}]] 
}^^ 	
public`` 
	DataTable`` !
Sp_ParamSeguridad_Sel`` .
(``. /
)``/ 0
{aa 	

SqlCommandbb 
cmdbb 
=bb 
nullbb !
;bb! "
SqlConnectioncc 
concc 
=cc 
nullcc  $
;cc$ %
trydd 
{ee 
conff 
=ff 
newff 
SqlConnectionff '
(ff' (
VariablesGlobalesff( 9
.ff9 :

CnnClinicaff: D
)ffD E
;ffE F
cmdgg 
=gg 
newgg 

SqlCommandgg $
(gg$ %
$strgg% <
,gg< =
congg> A
)ggA B
;ggB C
cmdhh 
.hh 
CommandTypehh 
=hh  !
CommandTypehh" -
.hh- .
StoredProcedurehh. =
;hh= >
conjj 
.jj 
Openjj 
(jj 
)jj 
;jj 
	DataTablekk 
dtkk 
=kk 
newkk "
	DataTablekk# ,
(kk, -
)kk- .
;kk. /
SqlDataAdapterll 
dall !
=ll" #
newll$ '
SqlDataAdapterll( 6
(ll6 7
)ll7 8
;ll8 9
damm 
.mm 
SelectCommandmm  
=mm! "
cmdmm# &
;mm& '
dann 
.nn 
Fillnn 
(nn 
dtnn 
)nn 
;nn 
returnoo 
dtoo 
;oo 
}pp 
catchqq 
(qq 
	Exceptionqq 
exqq 
)qq  
{rr 
throwss 
;ss 
}tt 
finallyuu 
{vv 
conww 
.ww 
Closeww 
(ww 
)ww 
;ww 
conxx 
.xx 
Disposexx 
(xx 
)xx 
;xx 
}yy 
}zz 	
}|| 
}}} Õj
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\PrestacionesAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 

HospitalAD &
{ 
public 

class 
PrestacionesAD 
{ 
private		 
PrestacionesE		 
LlenarEntidad		 +
(		+ ,
IDataReader		, 7
dr		8 :
,		: ;
PrestacionesE		< I
pPrestacionesE		J X
)		X Y
{

 	
PrestacionesE 
oPrestacionesE (
=) *
new+ .
PrestacionesE/ <
(< =
)= >
;> ?
switch 
( 
pPrestacionesE "
." #
Orden# (
)( )
{ 
case 
$num 
: 
oPrestacionesE "
." #
Codatencion# .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE R
]R S
)S T
;T U
oPrestacionesE "
." #
Nompaciente# .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE R
]R S
)S T
;T U
oPrestacionesE "
." #
Monto# (
=) *
Convert+ 2
.2 3
ToDouble3 ;
(; <
dr< >
[> ?
$str? F
]F G
)G H
;H I
oPrestacionesE "
." #
	Codtarifa# ,
=- .
Convert/ 6
.6 7
ToString7 ?
(? @
dr@ B
[B C
$strC N
]N O
)O P
;P Q
oPrestacionesE "
." #
	Nomtarifa# ,
=- .
Convert/ 6
.6 7
ToString7 ?
(? @
dr@ B
[B C
$strC N
]N O
)O P
;P Q
oPrestacionesE "
." #
Nomcobertura# /
=0 1
Convert2 9
.9 :
ToString: B
(B C
drC E
[E F
$strF T
]T U
)U V
;V W
oPrestacionesE "
." #
Codaseguradora# 1
=2 3
Convert4 ;
.; <
ToInt32< C
(C D
drD F
[F G
$strG W
]W X
)X Y
;Y Z
oPrestacionesE "
." #
Nomaseguradora# 1
=2 3
Convert4 ;
.; <
ToString< D
(D E
drE G
[G H
$strH [
][ \
)\ ]
;] ^
break 
; 
case 
$num 
: 
oPrestacionesE "
." #
Codprestacion# 0
=1 2
Convert3 :
.: ;
ToString; C
(C D
drD F
[F G
$strG V
]V W
)W X
;X Y
oPrestacionesE "
." #
Nomprestacion# 0
=1 2
Convert3 :
.: ;
ToString; C
(C D
drD F
[F G
$strG V
]V W
)W X
;X Y
oPrestacionesE "
." #
Valprestacion# 0
=1 2
Convert3 :
.: ;
ToDouble; C
(C D
drD F
[F G
$strG N
]N O
)O P
;P Q
oPrestacionesE "
." #
	Codtarifa# ,
=- .
Convert/ 6
.6 7
ToString7 ?
(? @
dr@ B
[B C
$strC N
]N O
)O P
;P Q
break 
; 
case!! 
$num!! 
:!! 
oPrestacionesE"" "
.""" #
Codprestacion""# 0
=""1 2
Convert""3 :
."": ;
ToString""; C
(""C D
dr""D F
[""F G
$str""G V
]""V W
)""W X
;""X Y
oPrestacionesE## "
.##" #
Nomprestacion### 0
=##1 2
Convert##3 :
.##: ;
ToString##; C
(##C D
dr##D F
[##F G
$str##G V
]##V W
)##W X
;##X Y
oPrestacionesE$$ "
.$$" #
Valprestacion$$# 0
=$$1 2
Convert$$3 :
.$$: ;
ToDouble$$; C
($$C D
dr$$D F
[$$F G
$str$$G N
]$$N O
)$$O P
;$$P Q
oPrestacionesE%% "
.%%" #
	Codtarifa%%# ,
=%%- .
Convert%%/ 6
.%%6 7
ToString%%7 ?
(%%? @
dr%%@ B
[%%B C
$str%%C N
]%%N O
)%%O P
;%%P Q
break&& 
;&& 
case'' 
$num'' 
:'' 
case(( 
$num(( 
:(( 
oPrestacionesE)) "
.))" #
Codprestacion))# 0
=))1 2
Convert))3 :
.)): ;
ToString)); C
())C D
dr))D F
[))F G
$str))G V
]))V W
)))W X
;))X Y
oPrestacionesE** "
.**" #
Nomprestacion**# 0
=**1 2
Convert**3 :
.**: ;
ToString**; C
(**C D
dr**D F
[**F G
$str**G O
]**O P
)**P Q
;**Q R
break++ 
;++ 
},, 
return-- 
oPrestacionesE-- !
;--! "
}.. 	
public00 
List00 
<00 
PrestacionesE00 !
>00! "+
Sp_ValorPrestaciones_Consultav200# B
(00B C
PrestacionesE00C P
pPrestacionesE00Q _
)00_ `
{11 	
List22 
<22 
PrestacionesE22 
>22 
oListar22  '
=22( )
new22* -
List22. 2
<222 3
PrestacionesE223 @
>22@ A
(22A B
)22B C
;22C D
PrestacionesE33 
oPrestacionesE33 (
=33) *
new33+ .
PrestacionesE33/ <
(33< =
)33= >
;33> ?
using44 
(44 
SqlConnection44  
cnn44! $
=44% &
new44' *
SqlConnection44+ 8
(448 9
VariablesGlobales449 J
.44J K

CnnClinica44K U
)44U V
)44V W
{55 
using66 
(66 

SqlCommand66 !
cmd66" %
=66& '
new66( +

SqlCommand66, 6
(666 7
$str667 X
,66X Y
cnn66Z ]
)66] ^
)66^ _
{77 
cmd88 
.88 
CommandType88 #
=88$ %
System88& ,
.88, -
Data88- 1
.881 2
CommandType882 =
.88= >
StoredProcedure88> M
;88M N
cmd:: 
.:: 

Parameters:: "
.::" #
AddWithValue::# /
(::/ 0
$str::0 8
,::8 9
pPrestacionesE::: H
.::H I
Orden::I N
)::N O
;::O P
cmd;; 
.;; 

Parameters;; "
.;;" #
AddWithValue;;# /
(;;/ 0
$str;;0 ?
,;;? @
pPrestacionesE;;A O
.;;O P
Codatencion;;P [
);;[ \
;;;\ ]
cmd<< 
.<< 

Parameters<< "
.<<" #
AddWithValue<<# /
(<</ 0
$str<<0 A
,<<A B
pPrestacionesE<<C Q
.<<Q R
Codprestacion<<R _
)<<_ `
;<<` a
cmd== 
.== 

Parameters== "
.==" #
AddWithValue==# /
(==/ 0
$str==0 =
,=== >
pPrestacionesE==? M
.==M N
	Codtarifa==N W
)==W X
;==X Y
cmd>> 
.>> 

Parameters>> "
.>>" #
AddWithValue>># /
(>>/ 0
$str>>0 A
,>>A B
pPrestacionesE>>C Q
.>>Q R
Dscprestacion>>R _
)>>_ `
;>>` a
cmd?? 
.?? 

Parameters?? "
.??" #
AddWithValue??# /
(??/ 0
$str??0 <
,??< =
pPrestacionesE??> L
.??L M
NroFilas??M U
)??U V
;??V W
cnn@@ 
.@@ 
Open@@ 
(@@ 
)@@ 
;@@ 
IDataReaderAA 
drAA  "
=AA# $
cmdAA% (
.AA( )
ExecuteReaderAA) 6
(AA6 7
)AA7 8
;AA8 9
whileBB 
(BB 
drBB 
.BB 
ReadBB "
(BB" #
)BB# $
)BB$ %
{CC 
oPrestacionesEDD &
=DD' (
LlenarEntidadDD) 6
(DD6 7
drDD7 9
,DD9 :
pPrestacionesEDD; I
)DDI J
;DDJ K
oListarEE 
.EE  
AddEE  #
(EE# $
oPrestacionesEEE$ 2
)EE2 3
;EE3 4
}FF 
drGG 
.GG 
CloseGG 
(GG 
)GG 
;GG 
cnnHH 
.HH 
CloseHH 
(HH 
)HH 
;HH  
}II 
}JJ 
returnKK 
oListarKK 
;KK 
}LL 	
publicOO 
ListOO 
<OO 
PrestacionesEOO !
>OO! "$
Sp_Prestaciones_ConsultaOO# ;
(OO; <
PrestacionesEOO< I
pPrestacionesEOOJ X
)OOX Y
{PP 	
IDataReaderQQ 
drQQ 
;QQ 
varRR 
oListarRR 
=RR 
newRR 
ListRR "
<RR" #
PrestacionesERR# 0
>RR0 1
(RR1 2
)RR2 3
;RR3 4
trySS 
{TT 
usingUU 
(UU 
varUU 
cnnUU 
=UU  
newUU! $
SqlConnectionUU% 2
(UU2 3
VariablesGlobalesUU3 D
.UUD E

CnnClinicaUUE O
)UUO P
)UUP Q
{VV 
usingWW 
(WW 
varWW 
cmdWW "
=WW# $
newWW% (

SqlCommandWW) 3
(WW3 4
$strWW4 N
,WWN O
cnnWWP S
)WWS T
)WWT U
{XX 
cmdYY 
.YY 
CommandTypeYY '
=YY( )
CommandTypeYY* 5
.YY5 6
StoredProcedureYY6 E
;YYE F
cmd[[ 
.[[ 

Parameters[[ &
.[[& '
AddWithValue[[' 3
([[3 4
$str[[4 =
,[[= >
pPrestacionesE[[? M
.[[M N
Filtro[[N T
)[[T U
;[[U V
cmd\\ 
.\\ 

Parameters\\ &
.\\& '
AddWithValue\\' 3
(\\3 4
$str\\4 =
,\\= >
pPrestacionesE\\? M
.\\M N
Dscprestacion\\N [
)\\[ \
;\\\ ]
cmd]] 
.]] 

Parameters]] &
.]]& '
AddWithValue]]' 3
(]]3 4
$str]]4 :
,]]: ;
pPrestacionesE]]< J
.]]J K
Key]]K N
)]]N O
;]]O P
cmd^^ 
.^^ 

Parameters^^ &
.^^& '
AddWithValue^^' 3
(^^3 4
$str^^4 C
,^^C D
pPrestacionesE^^E S
.^^S T
NroFilas^^T \
)^^\ ]
;^^] ^
cmd__ 
.__ 

Parameters__ &
.__& '
AddWithValue__' 3
(__3 4
$str__4 <
,__< =
pPrestacionesE__> L
.__L M
Orden__M R
)__R S
;__S T
cnn`` 
.`` 
Open``  
(``  !
)``! "
;``" #
draa 
=aa 
cmdaa  
.aa  !
ExecuteReaderaa! .
(aa. /
)aa/ 0
;aa0 1
whilebb 
(bb 
drbb !
.bb! "
Readbb" &
(bb& '
)bb' (
)bb( )
{cc 
PrestacionesEdd )

oHospitalEdd* 4
=dd5 6
LlenarEntidaddd7 D
(ddD E
drddE G
,ddG H
pPrestacionesEddI W
)ddW X
;ddX Y
oListaree #
.ee# $
Addee$ '
(ee' (

oHospitalEee( 2
)ee2 3
;ee3 4
}ff 
drhh 
.hh 
Closehh  
(hh  !
)hh! "
;hh" #
drii 
.ii 
Disposeii "
(ii" #
)ii# $
;ii$ %
cmdjj 
.jj 
Disposejj #
(jj# $
)jj$ %
;jj% &
cnnkk 
.kk 
Closekk !
(kk! "
)kk" #
;kk# $
cnnll 
.ll 
Disposell #
(ll# $
)ll$ %
;ll% &
returnnn 
oListarnn &
;nn& '
}oo 
}pp 
}qq 
catchrr 
(rr 
	Exceptionrr 
exrr 
)rr  
{ss 
throwtt 
newtt 
	Exceptiontt #
(tt# $
extt$ &
.tt& '
Messagett' .
)tt. /
;tt/ 0
}uu 
}vv 	
}yy 
}zz Ì&
bD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\HospitalvalidarAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 

HospitalAD

 &
{ 
public 

class 
HospitalvalidarAD "
{ 
private 
HospitalValidarE  
LlenarEntidad! .
(. /
IDataReader/ :
dr; =
,= >
HospitalValidarE? O
pHospitalvalidarEP a
)a b
{ 	
HospitalValidarE 
oHospitalvalidarE .
=/ 0
new1 4
HospitalValidarE5 E
(E F
)F G
;G H
switch 
( 
pHospitalvalidarE %
.% &
Orden& +
)+ ,
{ 
case 
$num 
: 
{ 
oHospitalvalidarE )
.) *
Descripcion* 5
=6 7
(8 9
string9 ?
)? @
drA C
[C D
$strD Q
]Q R
;R S
oHospitalvalidarE )
.) *
Script* 0
=1 2
(3 4
string4 :
): ;
dr< >
[> ?
$str? G
]G H
;H I
oHospitalvalidarE )
.) *
Idvalidarpadre* 8
=9 :
(; <
int< ?
)? @
drA C
[C D
$strD T
]T U
;U V
oHospitalvalidarE )
.) *
	Idvalidar* 3
=4 5
(6 7
int7 :
): ;
dr< >
[> ?
$str? J
]J K
;K L
break 
; 
} 
} 
return 
oHospitalvalidarE $
;$ %
} 	
public 
int 0
$Sp_HospitalValidarCobertura_Consulta 7
(7 8
HospitalValidarE8 H
pHospitalvalidarEI Z
)Z [
{   	
int!! 
xReturn!! 
;!! 
try"" 
{## 
using$$ 
($$ 
SqlConnection$$ $
cnn$$% (
=$$) *
new$$+ .
SqlConnection$$/ <
($$< =
VariablesGlobales$$= N
.$$N O

CnnClinica$$O Y
)$$Y Z
)$$Z [
{%% 
using&& 
(&& 

SqlCommand&& %
cmd&&& )
=&&* +
new&&, /

SqlCommand&&0 :
(&&: ;
$str&&; a
,&&a b
cnn&&c f
)&&f g
)&&g h
{'' 
cmd(( 
.(( 
CommandType(( '
=((( )
CommandType((* 5
.((5 6
StoredProcedure((6 E
;((E F
cmd++ 
.++ 

Parameters++ &
.++& '
AddWithValue++' 3
(++3 4
$str++4 =
,++= >
$str++? A
)++A B
.++B C
	Direction++C L
=++M N
ParameterDirection++O a
.++a b
ReturnValue++b m
;++m n
cmd,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 C
,,,C D
pHospitalvalidarE,,E V
.,,V W
TipoAtencion,,W c
),,c d
;,,d e
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 E
,--E F
pHospitalvalidarE--G X
.--X Y
CodAseguradora--Y g
)--g h
;--h i
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 C
,..C D
pHospitalvalidarE..E V
...V W
CodCobertura..W c
)..c d
;..d e
cnn// 
.// 
Open//  
(//  !
)//! "
;//" #
cmd00 
.00 
ExecuteNonQuery00 +
(00+ ,
)00, -
;00- .
xReturn11 
=11  !
System11" (
.11( )
Convert11) 0
.110 1
ToInt32111 8
(118 9
cmd119 <
.11< =

Parameters11= G
[11G H
$str11H Q
]11Q R
.11R S
Value11S X
)11X Y
;11Y Z
cnn33 
.33 
Close33 !
(33! "
)33" #
;33# $
return55 
xReturn55 &
;55& '
}66 
}77 
}88 
catch99 
(99 
	Exception99 
ex99 
)99  
{:: 
throw;; 
new;; 
	Exception;; #
(;;# $
ex;;$ &
.;;& '
Message;;' .
);;. /
;;;/ 0
}<< 
}== 	
}>> 
}?? ÓX
cD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\HospitalEncuestaAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 

HospitalAD

 &
{ 
public 

class 
HospitalEncuestaAD #
{ 
private 
HospitalEncuestaE !
LlenarEntidad" /
(/ 0
IDataReader0 ;
dr< >
,> ?
HospitalEncuestaE@ Q
pHospitalEncuestaER d
)d e
{ 	
HospitalEncuestaE 
oHospitalEncuestaE 0
=1 2
new3 6
HospitalEncuestaE7 H
(H I
)I J
;J K
switch 
( 
pHospitalEncuestaE &
.& '
Orden' ,
), -
{ 
case 
$num 
: 
{ 
oHospitalEncuestaE *
.* +
CodRespuesta+ 7
=8 9
(: ;
int; >
)> ?
dr@ B
[B C
$strC R
]R S
;S T
oHospitalEncuestaE *
.* +
	Respuesta+ 4
=5 6
(7 8
string8 >
)> ?
dr@ B
[B C
$strC N
]N O
;O P
oHospitalEncuestaE *
.* +
Codlocal+ 3
=4 5
(6 7
int7 :
): ;
dr< >
[> ?
$str? I
]I J
;J K
oHospitalEncuestaE *
.* +
NombreLocal+ 6
=7 8
(9 :
string: @
)@ A
drB D
[D E
$strE S
]S T
;T U
oHospitalEncuestaE *
.* +
CodAtencion+ 6
=7 8
(9 :
string: @
)@ A
drB D
[D E
$strE S
]S T
;T U
oHospitalEncuestaE *
.* +
FechaAtencion+ 8
=9 :
(; <
DateTime< D
)D E
drF H
[H I
$strI Y
]Y Z
;Z [
oHospitalEncuestaE *
.* +

CodUsuario+ 5
=6 7
(8 9
int9 <
)< =
dr> @
[@ A
$strA N
]N O
;O P
oHospitalEncuestaE *
.* +
NombreUsuario+ 8
=9 :
(; <
string< B
)B C
drD F
[F G
$strG W
]W X
;X Y
oHospitalEncuestaE *
.* +
CodPaciente+ 6
=7 8
(9 :
string: @
)@ A
drB D
[D E
$strE S
]S T
;T U
oHospitalEncuestaE *
.* +
NombrePaciente+ 9
=: ;
(< =
string= C
)C D
drE G
[G H
$strH Y
]Y Z
;Z [
oHospitalEncuestaE *
.* +

FechaEnvio+ 5
=6 7
(8 9
DateTime9 A
)A B
drC E
[E F
$strF S
]S T
;T U
oHospitalEncuestaE   *
.  * +
FechaEncuesta  + 8
=  9 :
(  ; <
DateTime  < D
)  D E
dr  F H
[  H I
$str  I Y
]  Y Z
;  Z [
oHospitalEncuestaE!! *
.!!* +

Comentario!!+ 5
=!!6 7
(!!8 9
string!!9 ?
)!!? @
dr!!A C
[!!C D
$str!!D P
]!!P Q
;!!Q R
oHospitalEncuestaE"" *
.""* +
Estado""+ 1
=""2 3
(""4 5
string""5 ;
)""; <
dr""= ?
[""? @
$str""@ H
]""H I
;""I J
oHospitalEncuestaE## *
.##* +
CorreoPaciente##+ 9
=##: ;
(##< =
string##= C
)##C D
dr##E G
[##G H
$str##H Y
]##Y Z
;##Z [
oHospitalEncuestaE$$ *
.$$* +
CodEncuesta$$+ 6
=$$7 8
($$9 :
int$$: =
)$$= >
dr$$? A
[$$A B
$str$$B P
]$$P Q
;$$Q R
break%% 
;%% 
}&& 
}'' 
return(( 
oHospitalEncuestaE(( %
;((% &
})) 	
public++ 
List++ 
<++ 
HospitalEncuestaE++ %
>++% &(
Sp_HospitalEncuesta_Consulta++' C
(++C D
HospitalEncuestaE++D U
pHospitalEncuestaE++V h
)++h i
{,, 	
IDataReader-- 
dr-- 
;-- 
HospitalEncuestaE.. 
oHospitalEncuestaE.. 0
=..1 2
null..3 7
;..v w
List// 
<// 
HospitalEncuestaE// "
>//" #
oListar//$ +
=//, -
new//. 1
List//2 6
<//6 7
HospitalEncuestaE//7 H
>//H I
(//I J
)//J K
;//K L
try00 
{11 
using22 
(22 
SqlConnection22 $
cnn22% (
=22) *
new22+ .
SqlConnection22/ <
(22< =
VariablesGlobales22= N
.22N O

CnnClinica22O Y
)22Y Z
)22Z [
{33 
using44 
(44 

SqlCommand44 %
cmd44& )
=44* +
new44, /

SqlCommand440 :
(44: ;
$str44; Y
,44Y Z
cnn44[ ^
)44^ _
)44_ `
{55 
cmd66 
.66 
CommandType66 '
=66( )
CommandType66* 5
.665 6
StoredProcedure666 E
;66E F
cmd88 
.88 

Parameters88 &
.88& '
AddWithValue88' 3
(883 4
$str884 C
,88C D
pHospitalEncuestaE88E W
.88W X
CodEncuesta88X c
)88c d
;88d e
cmd99 
.99 

Parameters99 &
.99& '
AddWithValue99' 3
(993 4
$str994 <
,99< =
pHospitalEncuestaE99> P
.99P Q
Orden99Q V
)99V W
;99W X
cnn:: 
.:: 
Open::  
(::  !
)::! "
;::" #
dr;; 
=;; 
cmd;;  
.;;  !
ExecuteReader;;! .
(;;. /
);;/ 0
;;;0 1
while<< 
(<< 
dr<< !
.<<! "
Read<<" &
(<<& '
)<<' (
)<<( )
{== 
oHospitalEncuestaE>> .
=>>/ 0
LlenarEntidad>>1 >
(>>> ?
dr>>? A
,>>A B
pHospitalEncuestaE>>C U
)>>U V
;>>V W
oListar?? #
.??# $
Add??$ '
(??' (
oHospitalEncuestaE??( :
)??: ;
;??; <
}@@ 
drAA 
.AA 
CloseAA  
(AA  !
)AA! "
;AA" #
cnnBB 
.BB 
CloseBB !
(BB! "
)BB" #
;BB# $
returnDD 
oListarDD &
;DD& '
}EE 
}FF 
}GG 
catchHH 
(HH 
	ExceptionHH 
exHH 
)HH  
{II 
throwJJ 
newJJ 
	ExceptionJJ #
(JJ# $
exJJ$ &
.JJ& '
MessageJJ' .
)JJ. /
;JJ/ 0
}KK 
}LL 	
publicNN 
boolNN &
Sp_HospitalEncuesta_InsertNN .
(NN. /
HospitalEncuestaENN/ @
pHospitalEncuestaENNA S
)NNS T
{OO 	
tryPP 
{QQ 
usingRR 
(RR 
SqlConnectionRR $
cnnRR% (
=RR) *
newRR+ .
SqlConnectionRR/ <
(RR< =
VariablesGlobalesRR= N
.RRN O

CnnClinicaRRO Y
)RRY Z
)RRZ [
{SS 
usingTT 
(TT 

SqlCommandTT %
cmdTT& )
=TT* +
newTT, /

SqlCommandTT0 :
(TT: ;
$strTT; W
,TTW X
cnnTTY \
)TT\ ]
)TT] ^
{UU 
cmdVV 
.VV 
CommandTypeVV '
=VV( )
CommandTypeVV* 5
.VV5 6
StoredProcedureVV6 E
;VVE F
cmdXX 
.XX 

ParametersXX &
.XX& '
AddWithValueXX' 3
(XX3 4
$strXX4 B
,XXB C
pHospitalEncuestaEXXD V
.XXV W
CodAtencionXXW b
)XXb c
;XXc d
cmdYY 
.YY 

ParametersYY &
.YY& '
AddWithValueYY' 3
(YY3 4
$strYY4 B
,YYB C
pHospitalEncuestaEYYD V
.YYV W
CodPacienteYYW b
)YYb c
;YYc d
cmdZZ 
.ZZ 

ParametersZZ &
.ZZ& '
AddWithValueZZ' 3
(ZZ3 4
$strZZ4 A
,ZZA B
pHospitalEncuestaEZZC U
.ZZU V

CodUsuarioZZV `
)ZZ` a
;ZZa b
cmd[[ 
.[[ 

Parameters[[ &
.[[& '
AddWithValue[[' 3
([[3 4
$str[[4 ?
,[[? @
pHospitalEncuestaE[[A S
.[[S T
Codlocal[[T \
)[[\ ]
;[[] ^
cmd\\ 
.\\ 

Parameters\\ &
.\\& '
Add\\' *
(\\* +
VariablesGlobales\\+ <
.\\< =
ParametroSql\\= I
(\\I J
$str\\J X
,\\X Y
ParameterDirection\\Z l
.\\l m
InputOutput\\m x
,\\x y
	SqlDbType	\\z É
.
\\É Ñ
Int
\\Ñ á
,
\\á à
$num
\\â ä
,
\\ä ã 
pHospitalEncuestaE
\\å û
.
\\û ü
CodEncuesta
\\ü ™
)
\\™ ´
)
\\´ ¨
;
\\¨ ≠
cnn]] 
.]] 
Open]]  
(]]  !
)]]! "
;]]" #
if^^ 
(^^ 
cmd^^ 
.^^  
ExecuteNonQuery^^  /
(^^/ 0
)^^0 1
>=^^2 4
$num^^5 6
)^^6 7
{__ 
pHospitalEncuestaE`` .
.``. /
CodEncuesta``/ :
=``; <
(``= >
int``> A
)``A B
cmd``B E
.``E F

Parameters``F P
[``P Q
$str``Q _
]``_ `
.``` a
Value``a f
;``f g
returnaa "
trueaa# '
;aa' (
}bb 
elsecc 
returndd "
falsedd# (
;dd( )
cnnee 
.ee 
Closeee !
(ee! "
)ee" #
;ee# $
cmdff 
.ff 
Disposeff #
(ff# $
)ff$ %
;ff% &
}gg 
}hh 
}ii 
catchjj 
(jj 
	Exceptionjj 
exjj 
)jj  
{kk 
throwll 
newll 
	Exceptionll #
(ll# $
exll$ &
.ll& '
Messagell' .
)ll. /
;ll/ 0
}mm 
}nn 	
}oo 
}pp ˝
fD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\HospitalExclusionesAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 

HospitalAD

 &
{ 
public 

class !
HospitalExclusionesAD &
{ 
} 
} ﬁU
^D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\HospitalDocAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
HospitalDocAD )
{ 
public 

class 
HospitalDocAD 
{ 
private 
	HospitalE 
. 
ListarEnvioDoc (
LlenarEntidad) 6
(6 7
IDataReader7 B
drC E
)E F
{ 	
var 
pHospitalEnvioDoc !
=" #
new$ '
	HospitalE( 1
.1 2
ListarEnvioDoc2 @
(@ A
)A B
;B C
pHospitalEnvioDoc 
. 
numero $
=% &
(' (
string( .
). /
dr/ 1
[1 2
$str2 :
]: ;
;; <
pHospitalEnvioDoc 
. 
numeroHC &
=' (
() *
string* 0
)0 1
dr1 3
[3 4
$str4 >
]> ?
;? @
pHospitalEnvioDoc 
. 
nombrePaciente ,
=- .
(/ 0
string0 6
)6 7
dr7 9
[9 :
$str: J
]J K
;K L
pHospitalEnvioDoc 
. 
apellidosPaciente /
=0 1
(2 3
string3 9
)9 :
dr: <
[< =
$str= P
]P Q
;Q R
pHospitalEnvioDoc 
. 
codatencion )
=* +
(, -
string- 3
)3 4
dr4 6
[6 7
$str7 D
]D E
;E F
pHospitalEnvioDoc 
. 
idTipoAtencion ,
=- .
(/ 0
int0 3
)3 4
dr4 6
[6 7
$str7 G
]G H
;H I
pHospitalEnvioDoc 
. 
tipoAtencion *
=+ ,
(- .
string. 4
)4 5
dr5 7
[7 8
$str8 F
]F G
;G H
pHospitalEnvioDoc 
. 
Sede "
=# $
(% &
string& ,
), -
dr- /
[/ 0
$str0 6
]6 7
;7 8
pHospitalEnvioDoc   
.   
nombreMedico   *
=  + ,
(  - .
string  . 4
)  4 5
dr  5 7
[  7 8
$str  8 F
]  F G
;  G H
pHospitalEnvioDoc!! 
.!! 
especialidadMedico!! 0
=!!1 2
(!!3 4
string!!4 :
)!!: ;
dr!!; =
[!!= >
$str!!> R
]!!R S
;!!S T
pHospitalEnvioDoc"" 
."" 
fechainicio"" )
=""* +
("", -
DateTime""- 5
)""5 6
dr""6 8
[""8 9
$str""9 F
]""F G
;""G H
pHospitalEnvioDoc## 
.## 
id_documento## *
=##+ ,
(##- .
int##. 1
)##1 2
dr##2 4
[##4 5
$str##5 C
]##C D
;##D E
pHospitalEnvioDoc$$ 
.$$ 
idTipoDocumento$$ -
=$$- .
($$/ 0
int$$0 3
)$$3 4
dr$$4 6
[$$6 7
$str$$7 H
]$$H I
;$$I J
pHospitalEnvioDoc%% 
.%% 
nombreDocumento%% -
=%%. /
(%%0 1
string%%1 7
)%%7 8
dr%%8 :
[%%: ;
$str%%; L
]%%L M
;%%M N
pHospitalEnvioDoc&& 
.&& 
bib_documento&& +
=&&, -
(&&. /
byte&&/ 3
[&&3 4
]&&4 5
)&&5 6
dr&&6 8
[&&8 9
$str&&9 H
]&&H I
;&&I J
pHospitalEnvioDoc'' 
.'' 
base64_documento'' .
=''/ 0
Convert''1 8
.''8 9
ToBase64String''9 G
(''G H
pHospitalEnvioDoc''H Y
.''Y Z
bib_documento''Z g
)''g h
;''h i
pHospitalEnvioDoc(( 
.(( 
	extension(( '
=((( )
(((* +
string((+ 1
)((1 2
dr((2 4
[((4 5
$str((5 @
]((@ A
;((A B
pHospitalEnvioDoc)) 
.)) 
eliminar)) &
=))' (
false))) .
;)). /
return** 
pHospitalEnvioDoc** $
;**$ %
}++ 	
public-- 
async-- 
Task-- 
<-- 
List-- 
<-- 
	HospitalE-- (
.--( )
ListarEnvioDoc--) 7
>--7 8
>--8 9
ListarEnvioDocAsync--: M
(--M N
int--N Q
orden--R W
)--W X
{.. 	
try// 
{00 
var11 
LHospitalDoc11  
=11! "
new11# &
List11' +
<11+ ,
	HospitalE11, 5
.115 6
ListarEnvioDoc116 D
>11D E
(11E F
)11F G
;11G H
using22 
(22 
var22 

connection22 %
=22& '
new22( +
SqlConnection22, 9
(229 :
VariablesGlobales22: K
.22K L

CnnClinica22L V
)22V W
)22W X
{33 
await44 

connection44 $
.44$ %
	OpenAsync44% .
(44. /
)44/ 0
;440 1
using55 
(55 
var55 
command55 &
=55' (
new55) ,

SqlCommand55- 7
(557 8
$str558 W
,55W X

connection55Y c
)55c d
)55d e
{66 
command77 
.77  
CommandType77  +
=77, -
CommandType77. 9
.779 :
StoredProcedure77: I
;77I J
command88 
.88  
CommandTimeout88  .
=88/ 0
$num881 2
;882 3
command99 
.99  

Parameters99  *
.99* +
AddWithValue99+ 7
(997 8
$str998 @
,99@ A
orden99B G
)99G H
;99H I
using;; 
(;; 
var;; "
dr;;# %
=;;& '
await;;( -
command;;. 5
.;;5 6
ExecuteReaderAsync;;6 H
(;;H I
);;I J
);;J K
{<< 
while== !
(==" #
await==# (
dr==) +
.==+ ,
	ReadAsync==, 5
(==5 6
)==6 7
)==7 8
{>> 
var??  #
pHospitalDoc??$ 0
=??1 2
LlenarEntidad??3 @
(??@ A
dr??A C
)??C D
;??D E
LHospitalDoc@@  ,
.@@, -
Add@@- 0
(@@0 1
pHospitalDoc@@1 =
)@@= >
;@@> ?
}AA 
drCC 
.CC 
CloseCC $
(CC$ %
)CC% &
;CC& '
drDD 
.DD 
DisposeDD &
(DD& '
)DD' (
;DD( )
commandEE #
.EE# $
DisposeEE$ +
(EE+ ,
)EE, -
;EE- .

connectionFF &
.FF& '
CloseFF' ,
(FF, -
)FF- .
;FF. /

connectionGG &
.GG& '
DisposeGG' .
(GG. /
)GG/ 0
;GG0 1
}HH 
}II 
}JJ 
returnKK 
LHospitalDocKK #
;KK# $
}LL 
catchMM 
(MM 
SqlExceptionMM 
exMM  "
)MM" #
{NN 
throwOO 
newOO 
	ExceptionOO #
(OO# $
exOO$ &
.OO& '
MessageOO' .
)OO. /
;OO/ 0
}PP 
}QQ 	
publicSS 
boolSS '
Sp_HospitalDoc_UpdatexCampoSS /
(SS/ 0
HospitalDocESS0 <
pHospitalDocESS= J
)SSJ K
{TT 	
tryUU 
{VV 
usingWW 
(WW 
SqlConnectionWW $
cnnWW% (
=WW) *
newWW+ .
SqlConnectionWW/ <
(WW< =
VariablesGlobalesWW= N
.WWN O

CnnClinicaWWO Y
)WWY Z
)WWZ [
{XX 
usingYY 
(YY 

SqlCommandYY %
cmdYY& )
=YY* +
newYY, /

SqlCommandYY0 :
(YY: ;
$strYY; X
,YYX Y
cnnYYZ ]
)YY] ^
)YY^ _
{ZZ 
cmd[[ 
.[[ 
CommandType[[ '
=[[( )
CommandType[[* 5
.[[5 6
StoredProcedure[[6 E
;[[E F
cmd]] 
.]] 

Parameters]] &
.]]& '
AddWithValue]]' 3
(]]3 4
$str]]4 C
,]]C D
pHospitalDocE]]E R
.]]R S
id_documento]]S _
)]]_ `
;]]` a
cmd^^ 
.^^ 

Parameters^^ &
.^^& '
AddWithValue^^' 3
(^^3 4
$str^^4 B
,^^B C
pHospitalDocE^^D Q
.^^Q R
nuevo_valor^^R ]
)^^] ^
;^^^ _
cmd__ 
.__ 

Parameters__ &
.__& '
Add__' *
(__* +
$str__+ ;
,__; <
	SqlDbType__= F
.__F G
Image__G L
)__L M
.__M N
Value__N S
=__T U
pHospitalDocE__V c
.__c d
blb_documento__d q
??__r t
(__u v
object__v |
)__| }
DBNull	__} É
.
__É Ñ
Value
__Ñ â
;
__â ä
cmd`` 
.`` 

Parameters`` &
.``& '
AddWithValue``' 3
(``3 4
$str``4 <
,``< =
pHospitalDocE``> K
.``K L
campo``L Q
)``Q R
;``R S
cnnaa 
.aa 
Openaa  
(aa  !
)aa! "
;aa" #
ifbb 
(bb 
cmdbb 
.bb  
ExecuteNonQuerybb  /
(bb/ 0
)bb0 1
>=bb2 4
$numbb5 6
)bb6 7
returncc "
truecc# '
;cc' (
elsedd 
returnee "
falseee# (
;ee( )
cnnff 
.ff 
Closeff !
(ff! "
)ff" #
;ff# $
cmdgg 
.gg 
Disposegg #
(gg# $
)gg$ %
;gg% &
}hh 
}ii 
}jj 
catchkk 
(kk 
	Exceptionkk 
exkk 
)kk  
{ll 
throwmm 
newmm 
	Exceptionmm #
(mm# $
exmm$ &
.mm& '
Messagemm' .
)mm. /
;mm/ 0
}nn 
}oo 	
}pp 
}qq ˜O
cD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\HospitalAdmisionAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 

HospitalAD

 &
{ 
public 

class 
HospitalAdmisionAD #
{ 
private 
HospitalAdmisionE !
LlenarEntidad" /
(/ 0
IDataReader0 ;
dr< >
,> ?
HospitalAdmisionE@ Q
pHospitaladmisionER d
)d e
{ 	
HospitalAdmisionE 
oHospitaladmisionE 0
=1 2
new3 6
HospitalAdmisionE7 H
(H I
)I J
;J K
switch 
( 
pHospitaladmisionE &
.& '
Orden' ,
), -
{ 
case 
$num 
: 
{ 
oHospitaladmisionE *
.* +
Codatencion+ 6
=7 8
(9 :
string: @
)@ A
drB D
[D E
$strE R
]R S
;S T
oHospitaladmisionE *
.* +
Codtipo+ 2
=3 4
(5 6
string6 <
)< =
dr> @
[@ A
$strA J
]J K
;K L
oHospitaladmisionE *
.* +
Nombre+ 1
=2 3
(4 5
string5 ;
); <
dr= ?
[? @
$str@ H
]H I
;I J
oHospitaladmisionE *
.* +
Tipdocidentidad+ :
=; <
(= >
string> D
)D E
drF H
[H I
$strI Z
]Z [
;[ \
oHospitaladmisionE *
.* +
Docidentidad+ 7
=8 9
(: ;
string; A
)A B
drC E
[E F
$strF T
]T U
;U V
oHospitaladmisionE *
.* +
Telefono+ 3
=4 5
(6 7
string7 =
)= >
dr? A
[A B
$strB L
]L M
;M N
oHospitaladmisionE *
.* +
ApellidoPat+ 6
=7 8
(9 :
string: @
)@ A
drB D
[D E
$strE S
]S T
;T U
oHospitaladmisionE *
.* +
ApellidoMat+ 6
=7 8
(9 :
string: @
)@ A
drB D
[D E
$strE S
]S T
;T U
oHospitaladmisionE *
.* +
Correo+ 1
=2 3
(4 5
string5 ;
); <
dr= ?
[? @
$str@ H
]H I
;I J
oHospitaladmisionE *
.* +

Flagcorreo+ 5
=6 7
(8 9
string9 ?
)? @
drA C
[C D
$strD P
]P Q
;Q R
oHospitaladmisionE *
.* +
Fecharegistro+ 8
=9 :
(; <
DateTime< D
)D E
drF H
[H I
$strI X
]X Y
;Y Z
oHospitaladmisionE   *
.  * +
Fechamodificacion  + <
=  = >
(  ? @
DateTime  @ H
)  H I
dr  J L
[  L M
$str  M `
]  ` a
;  a b
oHospitaladmisionE!! *
.!!* +$
Fecharespuestavalidacion!!+ C
=!!D E
(!!F G
DateTime!!G O
)!!O P
dr!!Q S
[!!S T
$str!!T n
]!!n o
;!!o p
oHospitaladmisionE"" *
.""* +
Nombres""+ 2
=""3 4
(""5 6
string""6 <
)""< =
dr""> @
[""@ A
$str""A J
]""J K
;""K L
break## 
;## 
}$$ 
}%% 
return&& 
oHospitaladmisionE&& %
;&&% &
}'' 	
public)) 
List)) 
<)) 
HospitalAdmisionE)) %
>))% &(
Sp_Hospitaladmision_Consulta))' C
())C D
HospitalAdmisionE))D U
pHospitaladmisionE))V h
)))h i
{** 	
IDataReader++ 
dr++ 
;++ 
HospitalAdmisionE,, 
oHospitaladmisionE,, 0
=,,1 2
null,,3 7
;,,v w
List-- 
<-- 
HospitalAdmisionE-- "
>--" #
oListar--$ +
=--, -
new--. 1
List--2 6
<--6 7
HospitalAdmisionE--7 H
>--H I
(--I J
)--J K
;--K L
try.. 
{// 
using00 
(00 
SqlConnection00 $
cnn00% (
=00) *
new00+ .
SqlConnection00/ <
(00< =
VariablesGlobales00= N
.00N O

CnnClinica00O Y
)00Y Z
)00Z [
{11 
using22 
(22 

SqlCommand22 %
cmd22& )
=22* +
new22, /

SqlCommand220 :
(22: ;
$str22; Y
,22Y Z
cnn22[ ^
)22^ _
)22_ `
{33 
cmd44 
.44 
CommandType44 '
=44( )
CommandType44* 5
.445 6
StoredProcedure446 E
;44E F
cmd66 
.66 

Parameters66 &
.66& '
AddWithValue66' 3
(663 4
$str664 <
,66< =
pHospitaladmisionE66> P
.66P Q
Orden66Q V
)66V W
;66W X
cnn77 
.77 
Open77  
(77  !
)77! "
;77" #
dr88 
=88 
cmd88  
.88  !
ExecuteReader88! .
(88. /
)88/ 0
;880 1
while99 
(99 
dr99 !
.99! "
Read99" &
(99& '
)99' (
)99( )
{:: 
oHospitaladmisionE;; .
=;;/ 0
LlenarEntidad;;1 >
(;;> ?
dr;;? A
,;;A B
pHospitaladmisionE;;C U
);;U V
;;;V W
oListar<< #
.<<# $
Add<<$ '
(<<' (
oHospitaladmisionE<<( :
)<<: ;
;<<; <
}== 
dr>> 
.>> 
Close>>  
(>>  !
)>>! "
;>>" #
dr?? 
.?? 
Dispose?? "
(??" #
)??# $
;??$ %
cmd@@ 
.@@ 
Dispose@@ #
(@@# $
)@@$ %
;@@% &
cnnAA 
.AA 
CloseAA !
(AA! "
)AA" #
;AA# $
cnnBB 
.BB 
DisposeBB #
(BB# $
)BB$ %
;BB% &
returnDD 
oListarDD &
;DD& '
}EE 
}FF 
}GG 
catchHH 
(HH 
	ExceptionHH 
exHH 
)HH  
{II 
throwJJ 
newJJ 
	ExceptionJJ #
(JJ# $
exJJ$ &
.JJ& '
MessageJJ' .
)JJ. /
;JJ/ 0
}KK 
}LL 	
publicNN 
boolNN ,
 Sp_HospitalAdmision_UpdatexCampoNN 4
(NN4 5
HospitalAdmisionENN5 F
pHospitaladmisionENNG Y
)NNY Z
{OO 	
tryPP 
{QQ 
usingRR 
(RR 
SqlConnectionRR $
cnnRR% (
=RR) *
newRR+ .
SqlConnectionRR/ <
(RR< =
VariablesGlobalesRR= N
.RRN O

CnnClinicaRRO Y
)RRY Z
)RRZ [
{SS 
usingTT 
(TT 

SqlCommandTT %
cmdTT& )
=TT* +
newTT, /

SqlCommandTT0 :
(TT: ;
$strTT; ]
,TT] ^
cnnTT_ b
)TTb c
)TTc d
{UU 
cmdVV 
.VV 
CommandTypeVV '
=VV( )
CommandTypeVV* 5
.VV5 6
StoredProcedureVV6 E
;VVE F
cmdXX 
.XX 

ParametersXX &
.XX& '
AddWithValueXX' 3
(XX3 4
$strXX4 B
,XXB C
pHospitaladmisionEXXD V
.XXV W

NuevoValorXXW a
)XXa b
;XXb c
cmdYY 
.YY 

ParametersYY &
.YY& '
AddWithValueYY' 3
(YY3 4
$strYY4 <
,YY< =
pHospitaladmisionEYY> P
.YYP Q
CampoYYQ V
)YYV W
;YYW X
cmdZZ 
.ZZ 

ParametersZZ &
.ZZ& '
AddWithValueZZ' 3
(ZZ3 4
$strZZ4 B
,ZZB C
pHospitaladmisionEZZD V
.ZZV W
CodatencionZZW b
)ZZb c
;ZZc d
cmd[[ 
.[[ 

Parameters[[ &
.[[& '
AddWithValue[[' 3
([[3 4
$str[[4 >
,[[> ?
pHospitaladmisionE[[@ R
.[[R S
Codtipo[[S Z
)[[Z [
;[[[ \
cnn]] 
.]] 
Open]]  
(]]  !
)]]! "
;]]" #
if^^ 
(^^ 
cmd^^ 
.^^  
ExecuteNonQuery^^  /
(^^/ 0
)^^0 1
>=^^2 4
$num^^5 6
)^^6 7
return__ "
true__# '
;__' (
else`` 
returnaa "
falseaa# (
;aa( )
cmdbb 
.bb 
Disposebb #
(bb# $
)bb$ %
;bb% &
cnncc 
.cc 
Closecc !
(cc! "
)cc" #
;cc# $
cnndd 
.dd 
Disposedd #
(dd# $
)dd$ %
;dd% &
}ee 
}ff 
}gg 
catchhh 
(hh 
	Exceptionhh 
exhh 
)hh  
{ii 
throwjj 
newjj 
	Exceptionjj #
(jj# $
exjj$ &
.jj& '
Messagejj' .
)jj. /
;jj/ 0
}kk 
}ll 	
}mm 
}nn é√
[D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\HospitalAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 

HospitalAD &
{ 
public 

class 

HospitalAD 
{ 
private 
	HospitalE 
LlenarEntidad '
(' (
IDataReader( 3
dr4 6
,6 7
	HospitalE8 A

pHospitalEB L
)L M
{ 	
	HospitalE 

oHospitalE  
=! "
new# &
	HospitalE' 0
(0 1
)1 2
;2 3
switch 
( 

pHospitalE 
. 
Orden $
)$ %
{ 
case 
$num 
: 
{ 

oHospitalE "
." #
CodAtencion# .
=/ 0
(1 2
string2 8
)8 9
dr: <
[< =
$str= J
]J K
;K L

oHospitalE "
." #
CodPaciente# .
=/ 0
(1 2
string2 8
)8 9
dr: <
[< =
$str= J
]J K
;K L

oHospitalE "
." #
Tipoingreso# .
=/ 0
(1 2
string2 8
)8 9
dr: <
[< =
$str= J
]J K
;K L

oHospitalE   "
.  " #

Tipoegreso  # -
=  . /
(  0 1
string  1 7
)  7 8
dr  9 ;
[  ; <
$str  < H
]  H I
;  I J

oHospitalE!! "
.!!" #
Activo!!# )
=!!* +
(!!, -
string!!- 3
)!!3 4
dr!!5 7
[!!7 8
$str!!8 @
]!!@ A
;!!A B

oHospitalE"" "
.""" #
CodDiagnostico""# 1
=""2 3
(""4 5
string""5 ;
)""; <
dr""= ?
[""? @
$str""@ P
]""P Q
;""Q R

oHospitalE## "
.##" #
Fechainicio### .
=##/ 0
(##1 2
DateTime##2 :
)##: ;
dr##< >
[##> ?
$str##? L
]##L M
;##M N

oHospitalE$$ "
.$$" #
Fechafin$$# +
=$$, -
($$. /
DateTime$$/ 7
)$$7 8
dr$$9 ;
[$$; <
$str$$< F
]$$F G
;$$G H

oHospitalE%% "
.%%" #
	Codmedico%%# ,
=%%- .
(%%/ 0
string%%0 6
)%%6 7
dr%%8 :
[%%: ;
$str%%; F
]%%F G
;%%G H

oHospitalE&& "
.&&" #

Tipomedico&&# -
=&&. /
(&&0 1
string&&1 7
)&&7 8
dr&&9 ;
[&&; <
$str&&< H
]&&H I
;&&I J

oHospitalE'' "
.''" #
Cama''# '
=''( )
(''* +
string''+ 1
)''1 2
dr''3 5
[''5 6
$str''6 <
]''< =
;''= >

oHospitalE(( "
.((" #
	Codpoliza((# ,
=((- .
(((/ 0
string((0 6
)((6 7
dr((8 :
[((: ;
$str((; F
]((F G
;((G H

oHospitalE)) "
.))" #

Planpoliza))# -
=)). /
())0 1
string))1 7
)))7 8
dr))9 ;
[)); <
$str))< H
]))H I
;))I J

oHospitalE** "
.**" #
Codaseguradora**# 1
=**2 3
(**4 5
string**5 ;
)**; <
dr**= ?
[**? @
$str**@ P
]**P Q
;**Q R

oHospitalE++ "
.++" #
Titular++# *
=+++ ,
(++- .
string++. 4
)++4 5
dr++6 8
[++8 9
$str++9 B
]++B C
;++C D

oHospitalE,, "
.,," #
	Quirofano,,# ,
=,,- .
(,,/ 0
bool,,0 4
),,4 5
dr,,6 8
[,,8 9
$str,,9 D
],,D E
;,,E F

oHospitalE-- "
.--" #
Codcia--# )
=--* +
(--, -
string--- 3
)--3 4
dr--5 7
[--7 8
$str--8 @
]--@ A
;--A B

oHospitalE.. "
..." #
Quiencreoregistro..# 4
=..5 6
(..7 8
string..8 >
)..> ?
dr..@ B
[..B C
$str..C V
]..V W
;..W X

oHospitalE// "
.//" #!
Quienmodificoregistro//# 8
=//9 :
(//; <
string//< B
)//B C
dr//D F
[//F G
$str//G ^
]//^ _
;//_ `

oHospitalE00 "
.00" #
Estado00# )
=00* +
(00, -
string00- 3
)003 4
dr005 7
[007 8
$str008 @
]00@ A
;00A B

oHospitalE11 "
.11" #
Familiar11# +
=11, -
(11. /
string11/ 5
)115 6
dr117 9
[119 :
$str11: D
]11D E
;11E F

oHospitalE22 "
.22" #
Gestante22# +
=22, -
(22. /
string22/ 5
)225 6
dr227 9
[229 :
$str22: D
]22D E
;22E F

oHospitalE33 "
.33" #
Fur33# &
=33' (
(33) *
DateTime33* 2
)332 3
dr334 6
[336 7
$str337 <
]33< =
;33= >

oHospitalE44 "
.44" #
Fechaaltamedica44# 2
=443 4
(445 6
DateTime446 >
)44> ?
dr44@ B
[44B C
$str44C T
]44T U
;44U V

oHospitalE55 "
.55" #
Vaseguradora55# /
=550 1
(552 3
double553 9
)559 :
dr55; =
[55= >
$str55> L
]55L M
;55M N

oHospitalE66 "
.66" #
	Vpaciente66# ,
=66- .
(66/ 0
double660 6
)666 7
dr668 :
[66: ;
$str66; F
]66F G
;66G H

oHospitalE77 "
.77" #
Vcontratante77# /
=770 1
(772 3
double773 9
)779 :
dr77; =
[77= >
$str77> L
]77L M
;77M N

oHospitalE88 "
.88" # 
Quieneliminoregistro88# 7
=888 9
(88: ;
string88; A
)88A B
dr88C E
[88E F
$str88F \
]88\ ]
;88] ^

oHospitalE99 "
.99" #
UsrAltamedica99# 0
=991 2
(993 4
int994 7
)997 8
dr999 ;
[99; <
$str99< L
]99L M
;99M N

oHospitalE:: "
.::" #!
UsrAltaadministrativa::# 8
=::9 :
(::; <
int::< ?
)::? @
dr::A C
[::C D
$str::D \
]::\ ]
;::] ^

oHospitalE;; "
.;;" #!
FecAltaadministrativa;;# 8
=;;9 :
(;;; <
DateTime;;< D
);;D E
dr;;F H
[;;H I
$str;;I a
];;a b
;;;b c
break<< 
;<< 
}== 
case?? 
$num?? 
:?? 
{@@ 

oHospitalEAA "
.AA" #
CodPacienteAA# .
=AA/ 0
(AA1 2
stringAA2 8
)AA8 9
drAA: <
[AA< =
$strAA= J
]AAJ K
;AAK L

oHospitalEBB "
.BB" #
TipoAtencionBB# /
=BB0 1
(BB2 3
stringBB3 9
)BB9 :
drBB; =
[BB= >
$strBB> D
]BBD E
;BBE F

oHospitalECC "
.CC" #

FlagCorreoCC# -
=CC. /
(CC0 1
stringCC1 7
)CC7 8
drCC9 ;
[CC; <
$strCC< H
]CCH I
;CCI J

oHospitalEDD "
.DD" #
NombresDD# *
=DD+ ,
(DD- .
stringDD. 4
)DD4 5
drDD6 8
[DD8 9
$strDD9 B
]DDB C
;DDC D

oHospitalEEE "
.EE" #
ApellidoPatEE# .
=EE/ 0
(EE1 2
stringEE2 8
)EE8 9
drEE: <
[EE< =
$strEE= K
]EEK L
;EEL M

oHospitalEFF "
.FF" #
CodTipoFF# *
=FF+ ,
(FF- .
stringFF. 4
)FF4 5
drFF6 8
[FF8 9
$strFF9 B
]FFB C
;FFC D

oHospitalEGG "
.GG" #
CorreoGG# )
=GG* +
(GG, -
stringGG- 3
)GG3 4
drGG5 7
[GG7 8
$strGG8 @
]GG@ A
;GGA B

oHospitalEHH "
.HH" #
NombresPacienteHH# 2
=HH3 4
(HH5 6
stringHH6 <
)HH< =
drHH> @
[HH@ A
$strHHA S
]HHS T
;HHT U
breakII 
;II 
}JJ 
caseLL 
$numLL 
:LL 
{MM 

oHospitalENN "
.NN" #
CodAtencionNN# .
=NN/ 0
(NN1 2
stringNN2 8
)NN8 9
drNN: <
[NN< =
$strNN= J
]NNJ K
+NNL M
$strNNN P
;NNP Q

oHospitalEOO "
.OO" #
CodPacienteOO# .
=OO/ 0
(OO1 2
stringOO2 8
)OO8 9
drOO: <
[OO< =
$strOO= J
]OOJ K
+OOL M
$strOON P
;OOP Q

oHospitalEPP "
.PP" #
NombresPacientePP# 2
=PP3 4
(PP5 6
stringPP6 <
)PP< =
drPP> @
[PP@ A
$strPPA J
]PPJ K
+PPL M
$strPPN P
;PPP Q

oHospitalEQQ "
.QQ" #
CorreoQQ# )
=QQ* +
(QQ, -
stringQQ- 3
)QQ3 4
drQQ5 7
[QQ7 8
$strQQ8 ?
]QQ? @
+QQA B
$strQQC E
;QQE F

oHospitalERR "
.RR" #
TelefonoRR# +
=RR, -
(RR. /
stringRR/ 5
)RR5 6
drRR7 9
[RR9 :
$strRR: D
]RRD E
+RRF G
$strRRH J
;RRJ K

oHospitalESS "
.SS" #
	Telefono1SS# ,
=SS- .
(SS/ 0
stringSS0 6
)SS6 7
drSS8 :
[SS: ;
$strSS; F
]SSF G
+SSH I
$strSSJ L
;SSL M
breakTT 
;TT 
}UU 
}VV 
returnWW 

oHospitalEWW 
;WW 
}XX 	
private[[ 
	HospitalE[[ 
.[[ 
ListarMetaData[[ (
LlenarMetaData[[) 7
([[7 8
IDataReader[[8 C
dr[[D F
,[[F G
	HospitalE[[H Q

pHospitalE[[R \
)[[\ ]
{\\ 	
	HospitalE]] 
.]] 
ListarMetaData]] $

oHospitalE]]% /
=]]0 1
new]]2 5
	HospitalE]]6 ?
.]]? @
ListarMetaData]]@ N
(]]N O
)]]O P
;]]P Q
switch^^ 
(^^ 

pHospitalE^^ 
.^^ 
Orden^^ $
)^^$ %
{__ 
case`` 
$num`` 
:`` 
{aa 

oHospitalEbb "
.bb" #
codatencionbb# .
=bb/ 0
(bb1 2
stringbb2 8
)bb8 9
drbb9 ;
[bb; <
$strbb< I
]bbI J
.bbJ K
ToStringbbK S
(bbS T
)bbT U
.bbU V
TrimbbV Z
(bbZ [
)bb[ \
;bb\ ]

oHospitalEcc "
.cc" #
idTipoAtencioncc# 1
=cc2 3
(cc4 5
intcc5 8
)cc8 9
drcc9 ;
[cc; <
$strcc< L
]ccL M
;ccM N

oHospitalEdd "
.dd" #
tipoAtenciondd# /
=dd0 1
(dd2 3
stringdd3 9
)dd9 :
drdd: <
[dd< =
$strdd= K
]ddK L
.ddL M
ToStringddM U
(ddU V
)ddV W
.ddW X
TrimddX \
(dd\ ]
)dd] ^
;dd^ _

oHospitalEee "
.ee" #
sedeee# '
=ee( )
(ee* +
stringee+ 1
)ee1 2
dree2 4
[ee4 5
$stree5 ;
]ee; <
.ee< =
ToStringee= E
(eeE F
)eeF G
.eeG H
TrimeeH L
(eeL M
)eeM N
;eeN O

oHospitalEff "
.ff" #
numeroHCff# +
=ff, -
(ff. /
stringff/ 5
)ff5 6
drff6 8
[ff8 9
$strff9 C
]ffC D
;ffD E

oHospitalEgg "
.gg" #
nombrePacientegg# 1
=gg2 3
(gg4 5
stringgg5 ;
)gg; <
drgg< >
[gg> ?
$strgg? O
]ggO P
.ggP Q
ToStringggQ Y
(ggY Z
)ggZ [
.gg[ \
Trimgg\ `
(gg` a
)gga b
;ggb c

oHospitalEhh "
.hh" #
apellidosPacientehh# 4
=hh5 6
(hh7 8
stringhh8 >
)hh> ?
drhh? A
[hhA B
$strhhB U
]hhU V
.hhV W
ToStringhhW _
(hh_ `
)hh` a
.hha b
Trimhhb f
(hhf g
)hhg h
;hhh i

oHospitalEii "
.ii" #
tipdocidentidadii# 2
=ii3 4
(ii5 6
stringii6 <
)ii< =
drii= ?
[ii? @
$strii@ Q
]iiQ R
.iiR S
ToStringiiS [
(ii[ \
)ii\ ]
.ii] ^
Trimii^ b
(iib c
)iic d
;iid e

oHospitalEjj "
.jj" #
docidentidadjj# /
=jj0 1
(jj2 3
stringjj3 9
)jj9 :
drjj: <
[jj< =
$strjj= K
]jjK L
.jjL M
ToStringjjM U
(jjU V
)jjV W
.jjW X
TrimjjX \
(jj\ ]
)jj] ^
;jj^ _

oHospitalEkk "
.kk" #
nombreMedicokk# /
=kk0 1
(kk2 3
stringkk3 9
)kk9 :
drkk: <
[kk< =
$strkk= K
]kkK L
.kkL M
ToStringkkM U
(kkU V
)kkV W
.kkW X
TrimkkX \
(kk\ ]
)kk] ^
;kk^ _

oHospitalEll "
.ll" #
especialidadMedicoll# 5
=ll6 7
(ll8 9
stringll9 ?
)ll? @
drll@ B
[llB C
$strllC W
]llW X
.llX Y
ToStringllY a
(lla b
)llb c
.llc d
Trimlld h
(llh i
)lli j
;llj k

oHospitalEmm "
.mm" #
fechaAtencionmm# 0
=mm1 2
(mm3 4
DateTimemm4 <
)mm< =
drmm= ?
[mm? @
$strmm@ O
]mmO P
;mmP Q
breaknn 
;nn 
}oo 
}pp 
returnqq 

oHospitalEqq 
;qq 
}rr 	
publictt 
Listtt 
<tt 
	HospitalEtt 
.tt 
ListarMetaDatatt ,
>tt, -&
Sp_Hospital_ListarMetaDatatt. H
(ttH I
	HospitalEttI R

pHospitalEttS ]
)tt] ^
{uu 	
IDataReadervv 
drvv 
;vv 
Listww 
<ww 
	HospitalEww 
.ww 
ListarMetaDataww )
>ww) *
oListarww+ 2
=ww3 4
newww5 8
Listww9 =
<ww= >
	HospitalEww> G
.wwG H
ListarMetaDatawwH V
>wwV W
(wwW X
)wwX Y
;wwY Z
tryxx 
{yy 
usingzz 
(zz 
SqlConnectionzz $
cnnzz% (
=zz) *
newzz+ .
SqlConnectionzz/ <
(zz< =
VariablesGlobaleszz= N
.zzN O

CnnClinicazzO Y
)zzY Z
)zzZ [
{{{ 
using|| 
(|| 

SqlCommand|| %
cmd||& )
=||* +
new||, /

SqlCommand||0 :
(||: ;
$str||; W
,||W X
cnn||Y \
)||\ ]
)||] ^
{}} 
cmd~~ 
.~~ 
CommandType~~ '
=~~( )
CommandType~~* 5
.~~5 6
StoredProcedure~~6 E
;~~E F
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 B
,
ÄÄB C

pHospitalE
ÄÄD N
.
ÄÄN O
CodAtencion
ÄÄO Z
)
ÄÄZ [
;
ÄÄ[ \
cnn
ÅÅ 
.
ÅÅ 
Open
ÅÅ  
(
ÅÅ  !
)
ÅÅ! "
;
ÅÅ" #
dr
ÇÇ 
=
ÇÇ 
cmd
ÇÇ  
.
ÇÇ  !
ExecuteReader
ÇÇ! .
(
ÇÇ. /
)
ÇÇ/ 0
;
ÇÇ0 1
while
ÉÉ 
(
ÉÉ 
dr
ÉÉ !
.
ÉÉ! "
Read
ÉÉ" &
(
ÉÉ& '
)
ÉÉ' (
)
ÉÉ( )
{
ÑÑ 
	HospitalE
ÖÖ %
.
ÖÖ% &
ListarMetaData
ÖÖ& 4

oHospitalE
ÖÖ5 ?
=
ÖÖ@ A
LlenarMetaData
ÖÖB P
(
ÖÖP Q
dr
ÖÖQ S
,
ÖÖS T

pHospitalE
ÖÖU _
)
ÖÖ_ `
;
ÖÖ` a
oListar
ÜÜ #
.
ÜÜ# $
Add
ÜÜ$ '
(
ÜÜ' (

oHospitalE
ÜÜ( 2
)
ÜÜ2 3
;
ÜÜ3 4
}
áá 
dr
ââ 
.
ââ 
Close
ââ  
(
ââ  !
)
ââ! "
;
ââ" #
dr
ää 
.
ää 
Dispose
ää "
(
ää" #
)
ää# $
;
ää$ %
cmd
ãã 
.
ãã 
Dispose
ãã #
(
ãã# $
)
ãã$ %
;
ãã% &
cnn
åå 
.
åå 
Close
åå !
(
åå! "
)
åå" #
;
åå# $
cnn
çç 
.
çç 
Dispose
çç #
(
çç# $
)
çç$ %
;
çç% &
return
èè 
oListar
èè &
;
èè& '
}
êê 
}
ëë 
}
íí 
catch
ìì 
(
ìì 
	Exception
ìì 
ex
ìì 
)
ìì  
{
îî 
throw
ïï 
new
ïï 
	Exception
ïï #
(
ïï# $
ex
ïï$ &
.
ïï& '
Message
ïï' .
)
ïï. /
;
ïï/ 0
}
ññ 
}
óó 	
public
öö 
List
öö 
<
öö 
	HospitalE
öö 
>
öö "
Sp_Hospital_Consulta
öö 3
(
öö3 4
	HospitalE
öö4 =

pHospitalE
öö> H
)
ööH I
{
õõ 	
IDataReader
úú 
dr
úú 
;
úú 
List
ùù 
<
ùù 
	HospitalE
ùù 
>
ùù 
oListar
ùù #
=
ùù$ %
new
ùù& )
List
ùù* .
<
ùù. /
	HospitalE
ùù/ 8
>
ùù8 9
(
ùù9 :
)
ùù: ;
;
ùù; <
try
ûû 
{
üü 
using
†† 
(
†† 
SqlConnection
†† $
cnn
††% (
=
††) *
new
††+ .
SqlConnection
††/ <
(
††< =
VariablesGlobales
††= N
.
††N O

CnnClinica
††O Y
)
††Y Z
)
††Z [
{
°° 
using
¢¢ 
(
¢¢ 

SqlCommand
¢¢ %
cmd
¢¢& )
=
¢¢* +
new
¢¢, /

SqlCommand
¢¢0 :
(
¢¢: ;
$str
¢¢; Q
,
¢¢Q R
cnn
¢¢S V
)
¢¢V W
)
¢¢W X
{
££ 
cmd
§§ 
.
§§ 
CommandType
§§ '
=
§§( )
CommandType
§§* 5
.
§§5 6
StoredProcedure
§§6 E
;
§§E F
cmd
¶¶ 
.
¶¶ 

Parameters
¶¶ &
.
¶¶& '
AddWithValue
¶¶' 3
(
¶¶3 4
$str
¶¶4 =
,
¶¶= >

pHospitalE
¶¶? I
.
¶¶I J
Buscar
¶¶J P
)
¶¶P Q
;
¶¶Q R
cmd
ßß 
.
ßß 

Parameters
ßß &
.
ßß& '
AddWithValue
ßß' 3
(
ßß3 4
$str
ßß4 :
,
ßß: ;

pHospitalE
ßß< F
.
ßßF G
Key
ßßG J
)
ßßJ K
;
ßßK L
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
AddWithValue
®®' 3
(
®®3 4
$str
®®4 C
,
®®C D

pHospitalE
®®E O
.
®®O P
NumeroLineas
®®P \
)
®®\ ]
;
®®] ^
cmd
©© 
.
©© 

Parameters
©© &
.
©©& '
AddWithValue
©©' 3
(
©©3 4
$str
©©4 <
,
©©< =

pHospitalE
©©> H
.
©©H I
Orden
©©I N
)
©©N O
;
©©O P
cmd
™™ 
.
™™ 

Parameters
™™ &
.
™™& '
AddWithValue
™™' 3
(
™™3 4
$str
™™4 C
,
™™C D

pHospitalE
™™E O
.
™™O P
TipoAtencion
™™P \
)
™™\ ]
;
™™] ^
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 =
,
´´= >

pHospitalE
´´? I
.
´´I J
Activo
´´J P
)
´´P Q
;
´´Q R
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ &
.
¨¨& '
AddWithValue
¨¨' 3
(
¨¨3 4
$str
¨¨4 B
,
¨¨B C

pHospitalE
¨¨D N
.
¨¨N O
FiltroLocal
¨¨O Z
)
¨¨Z [
;
¨¨[ \
cnn
≠≠ 
.
≠≠ 
Open
≠≠  
(
≠≠  !
)
≠≠! "
;
≠≠" #
dr
ÆÆ 
=
ÆÆ 
cmd
ÆÆ  
.
ÆÆ  !
ExecuteReader
ÆÆ! .
(
ÆÆ. /
)
ÆÆ/ 0
;
ÆÆ0 1
while
ØØ 
(
ØØ 
dr
ØØ !
.
ØØ! "
Read
ØØ" &
(
ØØ& '
)
ØØ' (
)
ØØ( )
{
∞∞ 
	HospitalE
±± %

oHospitalE
±±& 0
=
±±1 2
LlenarEntidad
±±3 @
(
±±@ A
dr
±±A C
,
±±C D

pHospitalE
±±E O
)
±±O P
;
±±P Q
oListar
≤≤ #
.
≤≤# $
Add
≤≤$ '
(
≤≤' (

oHospitalE
≤≤( 2
)
≤≤2 3
;
≤≤3 4
}
≥≥ 
dr
µµ 
.
µµ 
Close
µµ  
(
µµ  !
)
µµ! "
;
µµ" #
dr
∂∂ 
.
∂∂ 
Dispose
∂∂ "
(
∂∂" #
)
∂∂# $
;
∂∂$ %
cmd
∑∑ 
.
∑∑ 
Dispose
∑∑ #
(
∑∑# $
)
∑∑$ %
;
∑∑% &
cnn
∏∏ 
.
∏∏ 
Close
∏∏ !
(
∏∏! "
)
∏∏" #
;
∏∏# $
cnn
ππ 
.
ππ 
Dispose
ππ #
(
ππ# $
)
ππ$ %
;
ππ% &
return
ªª 
oListar
ªª &
;
ªª& '
}
ºº 
}
ΩΩ 
}
ææ 
catch
øø 
(
øø 
	Exception
øø 
ex
øø 
)
øø  
{
¿¿ 
throw
¡¡ 
new
¡¡ 
	Exception
¡¡ #
(
¡¡# $
ex
¡¡$ &
.
¡¡& '
Message
¡¡' .
)
¡¡. /
;
¡¡/ 0
}
¬¬ 
}
√√ 	
public
≈≈ 
bool
≈≈  
Sp_Hospital_Insert
≈≈ &
(
≈≈& '
	HospitalE
≈≈' 0

pHospitalE
≈≈1 ;
)
≈≈; <
{
∆∆ 	
try
«« 
{
»» 
using
…… 
(
…… 
SqlConnection
…… $
cnn
……% (
=
……) *
new
……+ .
SqlConnection
……/ <
(
……< =
VariablesGlobales
……= N
.
……N O

CnnClinica
……O Y
)
……Y Z
)
……Z [
{
   
using
ÀÀ 
(
ÀÀ 

SqlCommand
ÀÀ %
cmd
ÀÀ& )
=
ÀÀ* +
new
ÀÀ, /

SqlCommand
ÀÀ0 :
(
ÀÀ: ;
$str
ÀÀ; O
,
ÀÀO P
cnn
ÀÀQ T
)
ÀÀT U
)
ÀÀU V
{
ÃÃ 
cmd
ÕÕ 
.
ÕÕ 
CommandType
ÕÕ '
=
ÕÕ( )
CommandType
ÕÕ* 5
.
ÕÕ5 6
StoredProcedure
ÕÕ6 E
;
ÕÕE F
cmd
œœ 
.
œœ 

Parameters
œœ &
.
œœ& '
AddWithValue
œœ' 3
(
œœ3 4
$str
œœ4 B
,
œœB C

pHospitalE
œœD N
.
œœN O
CodAtencion
œœO Z
)
œœZ [
;
œœ[ \
cmd
–– 
.
–– 

Parameters
–– &
.
––& '
AddWithValue
––' 3
(
––3 4
$str
––4 B
,
––B C

pHospitalE
––D N
.
––N O
CodPaciente
––O Z
)
––Z [
;
––[ \
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 B
,
——B C

pHospitalE
——D N
.
——N O
Tipoingreso
——O Z
)
——Z [
;
——[ \
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 A
,
““A B

pHospitalE
““C M
.
““M N

Tipoegreso
““N X
)
““X Y
;
““Y Z
cmd
”” 
.
”” 

Parameters
”” &
.
””& '
AddWithValue
””' 3
(
””3 4
$str
””4 =
,
””= >

pHospitalE
””? I
.
””I J
Activo
””J P
)
””P Q
;
””Q R
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ &
.
‘‘& '
AddWithValue
‘‘' 3
(
‘‘3 4
$str
‘‘4 E
,
‘‘E F

pHospitalE
‘‘G Q
.
‘‘Q R
CodDiagnostico
‘‘R `
)
‘‘` a
;
‘‘a b
cmd
’’ 
.
’’ 

Parameters
’’ &
.
’’& '
AddWithValue
’’' 3
(
’’3 4
$str
’’4 B
,
’’B C

pHospitalE
’’D N
.
’’N O
Fechainicio
’’O Z
)
’’Z [
;
’’[ \
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
AddWithValue
÷÷' 3
(
÷÷3 4
$str
÷÷4 ?
,
÷÷? @

pHospitalE
÷÷A K
.
÷÷K L
Fechafin
÷÷L T
)
÷÷T U
;
÷÷U V
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ &
.
◊◊& '
AddWithValue
◊◊' 3
(
◊◊3 4
$str
◊◊4 @
,
◊◊@ A

pHospitalE
◊◊B L
.
◊◊L M
	Codmedico
◊◊M V
)
◊◊V W
;
◊◊W X
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ &
.
ÿÿ& '
AddWithValue
ÿÿ' 3
(
ÿÿ3 4
$str
ÿÿ4 A
,
ÿÿA B

pHospitalE
ÿÿC M
.
ÿÿM N

Tipomedico
ÿÿN X
)
ÿÿX Y
;
ÿÿY Z
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ &
.
ŸŸ& '
AddWithValue
ŸŸ' 3
(
ŸŸ3 4
$str
ŸŸ4 ;
,
ŸŸ; <

pHospitalE
ŸŸ= G
.
ŸŸG H
Cama
ŸŸH L
)
ŸŸL M
;
ŸŸM N
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ &
.
⁄⁄& '
AddWithValue
⁄⁄' 3
(
⁄⁄3 4
$str
⁄⁄4 @
,
⁄⁄@ A

pHospitalE
⁄⁄B L
.
⁄⁄L M
	Codpoliza
⁄⁄M V
)
⁄⁄V W
;
⁄⁄W X
cmd
€€ 
.
€€ 

Parameters
€€ &
.
€€& '
AddWithValue
€€' 3
(
€€3 4
$str
€€4 A
,
€€A B

pHospitalE
€€C M
.
€€M N

Planpoliza
€€N X
)
€€X Y
;
€€Y Z
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ &
.
‹‹& '
AddWithValue
‹‹' 3
(
‹‹3 4
$str
‹‹4 E
,
‹‹E F

pHospitalE
‹‹G Q
.
‹‹Q R
Codaseguradora
‹‹R `
)
‹‹` a
;
‹‹a b
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 >
,
››> ?

pHospitalE
››@ J
.
››J K
Titular
››K R
)
››R S
;
››S T
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ &
.
ﬁﬁ& '
AddWithValue
ﬁﬁ' 3
(
ﬁﬁ3 4
$str
ﬁﬁ4 @
,
ﬁﬁ@ A

pHospitalE
ﬁﬁB L
.
ﬁﬁL M
	Quirofano
ﬁﬁM V
)
ﬁﬁV W
;
ﬁﬁW X
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ &
.
ﬂﬂ& '
AddWithValue
ﬂﬂ' 3
(
ﬂﬂ3 4
$str
ﬂﬂ4 =
,
ﬂﬂ= >

pHospitalE
ﬂﬂ? I
.
ﬂﬂI J
Codcia
ﬂﬂJ P
)
ﬂﬂP Q
;
ﬂﬂQ R
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ &
.
‡‡& '
AddWithValue
‡‡' 3
(
‡‡3 4
$str
‡‡4 H
,
‡‡H I

pHospitalE
‡‡J T
.
‡‡T U
Quiencreoregistro
‡‡U f
)
‡‡f g
;
‡‡g h
cmd
·· 
.
·· 

Parameters
·· &
.
··& '
AddWithValue
··' 3
(
··3 4
$str
··4 L
,
··L M

pHospitalE
··N X
.
··X Y#
Quienmodificoregistro
··Y n
)
··n o
;
··o p
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ &
.
‚‚& '
AddWithValue
‚‚' 3
(
‚‚3 4
$str
‚‚4 =
,
‚‚= >

pHospitalE
‚‚? I
.
‚‚I J
Estado
‚‚J P
)
‚‚P Q
;
‚‚Q R
cmd
„„ 
.
„„ 

Parameters
„„ &
.
„„& '
AddWithValue
„„' 3
(
„„3 4
$str
„„4 ?
,
„„? @

pHospitalE
„„A K
.
„„K L
Familiar
„„L T
)
„„T U
;
„„U V
cmd
‰‰ 
.
‰‰ 

Parameters
‰‰ &
.
‰‰& '
AddWithValue
‰‰' 3
(
‰‰3 4
$str
‰‰4 ?
,
‰‰? @

pHospitalE
‰‰A K
.
‰‰K L
Gestante
‰‰L T
)
‰‰T U
;
‰‰U V
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ &
.
ÂÂ& '
AddWithValue
ÂÂ' 3
(
ÂÂ3 4
$str
ÂÂ4 :
,
ÂÂ: ;

pHospitalE
ÂÂ< F
.
ÂÂF G
Fur
ÂÂG J
)
ÂÂJ K
;
ÂÂK L
cmd
ÊÊ 
.
ÊÊ 

Parameters
ÊÊ &
.
ÊÊ& '
AddWithValue
ÊÊ' 3
(
ÊÊ3 4
$str
ÊÊ4 F
,
ÊÊF G

pHospitalE
ÊÊH R
.
ÊÊR S
Fechaaltamedica
ÊÊS b
)
ÊÊb c
;
ÊÊc d
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ &
.
ÁÁ& '
AddWithValue
ÁÁ' 3
(
ÁÁ3 4
$str
ÁÁ4 C
,
ÁÁC D

pHospitalE
ÁÁE O
.
ÁÁO P
Vaseguradora
ÁÁP \
)
ÁÁ\ ]
;
ÁÁ] ^
cmd
ËË 
.
ËË 

Parameters
ËË &
.
ËË& '
AddWithValue
ËË' 3
(
ËË3 4
$str
ËË4 @
,
ËË@ A

pHospitalE
ËËB L
.
ËËL M
	Vpaciente
ËËM V
)
ËËV W
;
ËËW X
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ &
.
ÈÈ& '
AddWithValue
ÈÈ' 3
(
ÈÈ3 4
$str
ÈÈ4 C
,
ÈÈC D

pHospitalE
ÈÈE O
.
ÈÈO P
Vcontratante
ÈÈP \
)
ÈÈ\ ]
;
ÈÈ] ^
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ &
.
ÍÍ& '
AddWithValue
ÍÍ' 3
(
ÍÍ3 4
$str
ÍÍ4 K
,
ÍÍK L

pHospitalE
ÍÍM W
.
ÍÍW X"
Quieneliminoregistro
ÍÍX l
)
ÍÍl m
;
ÍÍm n
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ &
.
ÎÎ& '
AddWithValue
ÎÎ' 3
(
ÎÎ3 4
$str
ÎÎ4 E
,
ÎÎE F

pHospitalE
ÎÎG Q
.
ÎÎQ R
UsrAltamedica
ÎÎR _
)
ÎÎ_ `
;
ÎÎ` a
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ &
.
ÏÏ& '
AddWithValue
ÏÏ' 3
(
ÏÏ3 4
$str
ÏÏ4 M
,
ÏÏM N

pHospitalE
ÏÏO Y
.
ÏÏY Z#
UsrAltaadministrativa
ÏÏZ o
)
ÏÏo p
;
ÏÏp q
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ &
.
ÌÌ& '
AddWithValue
ÌÌ' 3
(
ÌÌ3 4
$str
ÌÌ4 M
,
ÌÌM N

pHospitalE
ÌÌO Y
.
ÌÌY Z#
FecAltaadministrativa
ÌÌZ o
)
ÌÌo p
;
ÌÌp q
cnn
ÓÓ 
.
ÓÓ 
Open
ÓÓ  
(
ÓÓ  !
)
ÓÓ! "
;
ÓÓ" #
if
ÔÔ 
(
ÔÔ 
cmd
ÔÔ 
.
ÔÔ  
ExecuteNonQuery
ÔÔ  /
(
ÔÔ/ 0
)
ÔÔ0 1
>=
ÔÔ2 4
$num
ÔÔ5 6
)
ÔÔ6 7
return
 "
true
# '
;
' (
else
ÒÒ 
return
ÚÚ "
false
ÚÚ# (
;
ÚÚ( )
cnn
ÛÛ 
.
ÛÛ 
Close
ÛÛ !
(
ÛÛ! "
)
ÛÛ" #
;
ÛÛ# $
cmd
ÙÙ 
.
ÙÙ 
Dispose
ÙÙ #
(
ÙÙ# $
)
ÙÙ$ %
;
ÙÙ% &
}
ıı 
}
ˆˆ 
}
˜˜ 
catch
¯¯ 
(
¯¯ 
	Exception
¯¯ 
ex
¯¯ 
)
¯¯  
{
˘˘ 
throw
˙˙ 
new
˙˙ 
	Exception
˙˙ #
(
˙˙# $
ex
˙˙$ &
.
˙˙& '
Message
˙˙' .
)
˙˙. /
;
˙˙/ 0
}
˚˚ 
}
¸¸ 	
public
˛˛ 
bool
˛˛ !
Sp_Hospital_Insert1
˛˛ '
(
˛˛' (
	HospitalE
˛˛( 1

pHospitalE
˛˛2 <
)
˛˛< =
{
ˇˇ 	
try
ÄÄ 
{
ÅÅ 
using
ÇÇ 
(
ÇÇ 
SqlConnection
ÇÇ $
cnn
ÇÇ% (
=
ÇÇ) *
new
ÇÇ+ .
SqlConnection
ÇÇ/ <
(
ÇÇ< =
VariablesGlobales
ÇÇ= N
.
ÇÇN O

CnnClinica
ÇÇO Y
)
ÇÇY Z
)
ÇÇZ [
{
ÉÉ 
using
ÑÑ 
(
ÑÑ 

SqlCommand
ÑÑ %
cmd
ÑÑ& )
=
ÑÑ* +
new
ÑÑ, /

SqlCommand
ÑÑ0 :
(
ÑÑ: ;
$str
ÑÑ; P
,
ÑÑP Q
cnn
ÑÑR U
)
ÑÑU V
)
ÑÑV W
{
ÖÖ 
cmd
ÜÜ 
.
ÜÜ 
CommandType
ÜÜ '
=
ÜÜ( )
CommandType
ÜÜ* 5
.
ÜÜ5 6
StoredProcedure
ÜÜ6 E
;
ÜÜE F
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 B
,
ááB C

pHospitalE
ááD N
.
ááN O
CodPaciente
ááO Z
)
ááZ [
;
áá[ \
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 C
,
ààC D

pHospitalE
ààE O
.
ààO P
TipoAtencion
ààP \
)
àà\ ]
;
àà] ^
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 A
,
ââA B

pHospitalE
ââC M
.
ââM N
CodUser
ââN U
)
ââU V
;
ââV W
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
Add
ää' *
(
ää* +
VariablesGlobales
ää+ <
.
ää< =
ParametroSql
ää= I
(
ääI J
$str
ääJ S
,
ääS T 
ParameterDirection
ääU g
.
ääg h
Output
ääh n
,
ään o
	SqlDbType
ääp y
.
ääy z
VarCharääz Å
,ääÅ Ç
$numääÉ Ñ
,ääÑ Ö

pHospitalEääÜ ê
.ääê ë
CodAtencionääë ú
)ääú ù
)ääù û
;ääû ü
cnn
åå 
.
åå 
Open
åå  
(
åå  !
)
åå! "
;
åå" #
if
çç 
(
çç 
cmd
çç 
.
çç  
ExecuteNonQuery
çç  /
(
çç/ 0
)
çç0 1
>=
çç2 4
$num
çç5 6
)
çç6 7
{
éé 

pHospitalE
èè &
.
èè& '
CodAtencion
èè' 2
=
èè3 4
(
èè5 6
string
èè6 <
)
èè< =
cmd
èè= @
.
èè@ A

Parameters
èèA K
[
èèK L
$str
èèL U
]
èèU V
.
èèV W
Value
èèW \
;
èè\ ]
return
êê "
true
êê# '
;
êê' (
}
ëë 
else
íí 
return
ìì "
false
ìì# (
;
ìì( )
cmd
ïï 
.
ïï 
Dispose
ïï #
(
ïï# $
)
ïï$ %
;
ïï% &
cnn
ññ 
.
ññ 
Close
ññ !
(
ññ! "
)
ññ" #
;
ññ# $
cnn
óó 
.
óó 
Dispose
óó #
(
óó# $
)
óó$ %
;
óó% &
}
òò 
}
ôô 
}
öö 
catch
õõ 
(
õõ 
	Exception
õõ 
ex
õõ 
)
õõ  
{
úú 
throw
ùù 
new
ùù 
	Exception
ùù #
(
ùù# $
ex
ùù$ &
.
ùù& '
Message
ùù' .
)
ùù. /
;
ùù/ 0
}
ûû 
}
üü 	
public
°° 
bool
°° $
Sp_Hospital_Insert_App
°° *
(
°°* +
	HospitalE
°°+ 4

pHospitalE
°°5 ?
)
°°? @
{
¢¢ 	
try
££ 
{
§§ 
using
•• 
(
•• 
SqlConnection
•• $
cnn
••% (
=
••) *
new
••+ .
SqlConnection
••/ <
(
••< =
VariablesGlobales
••= N
.
••N O

CnnClinica
••O Y
)
••Y Z
)
••Z [
{
¶¶ 
using
ßß 
(
ßß 

SqlCommand
ßß %
cmd
ßß& )
=
ßß* +
new
ßß, /

SqlCommand
ßß0 :
(
ßß: ;
$str
ßß; S
,
ßßS T
cnn
ßßU X
)
ßßX Y
)
ßßY Z
{
®® 
cmd
©© 
.
©© 
CommandType
©© '
=
©©( )
CommandType
©©* 5
.
©©5 6
StoredProcedure
©©6 E
;
©©E F
cmd
™™ 
.
™™ 

Parameters
™™ &
.
™™& '
AddWithValue
™™' 3
(
™™3 4
$str
™™4 B
,
™™B C

pHospitalE
™™D N
.
™™N O
CodPaciente
™™O Z
)
™™Z [
;
™™[ \
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 C
,
´´C D

pHospitalE
´´E O
.
´´O P
TipoAtencion
´´P \
)
´´\ ]
;
´´] ^
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ &
.
¨¨& '
AddWithValue
¨¨' 3
(
¨¨3 4
$str
¨¨4 A
,
¨¨A B

pHospitalE
¨¨C M
.
¨¨M N
CodUser
¨¨N U
)
¨¨U V
;
¨¨V W
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ &
.
≠≠& '
AddWithValue
≠≠' 3
(
≠≠3 4
$str
≠≠4 C
,
≠≠C D

pHospitalE
≠≠E O
.
≠≠O P
CodSede
≠≠P W
)
≠≠W X
;
≠≠X Y
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
Add
ÆÆ' *
(
ÆÆ* +
VariablesGlobales
ÆÆ+ <
.
ÆÆ< =
ParametroSql
ÆÆ= I
(
ÆÆI J
$str
ÆÆJ S
,
ÆÆS T 
ParameterDirection
ÆÆU g
.
ÆÆg h
Output
ÆÆh n
,
ÆÆn o
	SqlDbType
ÆÆp y
.
ÆÆy z
VarCharÆÆz Å
,ÆÆÅ Ç
$numÆÆÉ Ñ
,ÆÆÑ Ö

pHospitalEÆÆÜ ê
.ÆÆê ë
CodAtencionÆÆë ú
)ÆÆú ù
)ÆÆù û
;ÆÆû ü
cnn
∞∞ 
.
∞∞ 
Open
∞∞  
(
∞∞  !
)
∞∞! "
;
∞∞" #
if
±± 
(
±± 
cmd
±± 
.
±±  
ExecuteNonQuery
±±  /
(
±±/ 0
)
±±0 1
>=
±±2 4
$num
±±5 6
)
±±6 7
{
≤≤ 

pHospitalE
≥≥ &
.
≥≥& '
CodAtencion
≥≥' 2
=
≥≥3 4
(
≥≥5 6
string
≥≥6 <
)
≥≥< =
cmd
≥≥= @
.
≥≥@ A

Parameters
≥≥A K
[
≥≥K L
$str
≥≥L U
]
≥≥U V
.
≥≥V W
Value
≥≥W \
;
≥≥\ ]
return
¥¥ "
true
¥¥# '
;
¥¥' (
}
µµ 
else
∂∂ 
return
∑∑ "
false
∑∑# (
;
∑∑( )
cmd
ππ 
.
ππ 
Dispose
ππ #
(
ππ# $
)
ππ$ %
;
ππ% &
cnn
∫∫ 
.
∫∫ 
Close
∫∫ !
(
∫∫! "
)
∫∫" #
;
∫∫# $
cnn
ªª 
.
ªª 
Dispose
ªª #
(
ªª# $
)
ªª$ %
;
ªª% &
}
ºº 
}
ΩΩ 
}
ææ 
catch
øø 
(
øø 
	Exception
øø 
ex
øø 
)
øø  
{
¿¿ 
throw
¡¡ 
new
¡¡ 
	Exception
¡¡ #
(
¡¡# $
ex
¡¡$ &
.
¡¡& '
Message
¡¡' .
)
¡¡. /
;
¡¡/ 0
}
¬¬ 
}
√√ 	
public
≈≈ 
bool
≈≈  
Sp_Hospital_Update
≈≈ &
(
≈≈& '
	HospitalE
≈≈' 0

pHospitalE
≈≈1 ;
)
≈≈; <
{
∆∆ 	
bool
«« 
xResult
«« 
=
«« 
false
««  
;
««  !
try
»» 
{
…… 
using
   
(
   
SqlConnection
   $
cnn
  % (
=
  ) *
new
  + .
SqlConnection
  / <
(
  < =
VariablesGlobales
  = N
.
  N O

CnnClinica
  O Y
)
  Y Z
)
  Z [
{
ÀÀ 
using
ÃÃ 
(
ÃÃ 

SqlCommand
ÃÃ %
cmd
ÃÃ& )
=
ÃÃ* +
new
ÃÃ, /

SqlCommand
ÃÃ0 :
(
ÃÃ: ;
$str
ÃÃ; O
,
ÃÃO P
cnn
ÃÃQ T
)
ÃÃT U
)
ÃÃU V
{
ÕÕ 
cmd
ŒŒ 
.
ŒŒ 
CommandType
ŒŒ '
=
ŒŒ( )
CommandType
ŒŒ* 5
.
ŒŒ5 6
StoredProcedure
ŒŒ6 E
;
ŒŒE F
cmd
–– 
.
–– 

Parameters
–– &
.
––& '
AddWithValue
––' 3
(
––3 4
$str
––4 =
,
––= >

pHospitalE
––? I
.
––I J
CodAtencion
––J U
)
––U V
;
––V W
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 <
,
——< =

pHospitalE
——> H
.
——H I
Campo
——I N
)
——N O
;
——O P
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 A
,
““A B

pHospitalE
““C M
.
““M N

NuevoValor
““N X
)
““X Y
;
““Y Z
cnn
”” 
.
”” 
Open
””  
(
””  !
)
””! "
;
””" #
cmd
‘‘ 
.
‘‘ 
ExecuteNonQuery
‘‘ +
(
‘‘+ ,
)
‘‘, -
;
‘‘- .
xResult
’’ 
=
’’  !
true
’’" &
;
’’& '
cnn
◊◊ 
.
◊◊ 
Close
◊◊ !
(
◊◊! "
)
◊◊" #
;
◊◊# $
cmd
ÿÿ 
.
ÿÿ 
Dispose
ÿÿ #
(
ÿÿ# $
)
ÿÿ$ %
;
ÿÿ% &
}
ŸŸ 
}
⁄⁄ 
}
€€ 
catch
‹‹ 
(
‹‹ 
	Exception
‹‹ 
ex
‹‹ 
)
‹‹  
{
›› 
throw
ﬁﬁ 
new
ﬁﬁ 
	Exception
ﬁﬁ #
(
ﬁﬁ# $
ex
ﬁﬁ$ &
.
ﬁﬁ& '
Message
ﬁﬁ' .
)
ﬁﬁ. /
;
ﬁﬁ/ 0
}
ﬂﬂ 
return
‡‡ 
xResult
‡‡ 
;
‡‡ 
}
·· 	
public
„„ 
bool
„„  
Sp_Hospital_Delete
„„ &
(
„„& '
	HospitalE
„„' 0

pHospitalE
„„1 ;
)
„„; <
{
‰‰ 	
bool
ÂÂ 
xResult
ÂÂ 
=
ÂÂ 
false
ÂÂ  
;
ÂÂ  !
try
ÊÊ 
{
ÁÁ 
using
ËË 
(
ËË 
SqlConnection
ËË $
cnn
ËË% (
=
ËË) *
new
ËË+ .
SqlConnection
ËË/ <
(
ËË< =
VariablesGlobales
ËË= N
.
ËËN O

CnnClinica
ËËO Y
)
ËËY Z
)
ËËZ [
{
ÈÈ 
using
ÍÍ 
(
ÍÍ 

SqlCommand
ÍÍ %
cmd
ÍÍ& )
=
ÍÍ* +
new
ÍÍ, /

SqlCommand
ÍÍ0 :
(
ÍÍ: ;
$str
ÍÍ; O
,
ÍÍO P
cnn
ÍÍQ T
)
ÍÍT U
)
ÍÍU V
{
ÎÎ 
cmd
ÏÏ 
.
ÏÏ 
CommandType
ÏÏ '
=
ÏÏ( )
CommandType
ÏÏ* 5
.
ÏÏ5 6
StoredProcedure
ÏÏ6 E
;
ÏÏE F
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ &
.
ÓÓ& '
AddWithValue
ÓÓ' 3
(
ÓÓ3 4
$str
ÓÓ4 =
,
ÓÓ= >
$str
ÓÓ? A
)
ÓÓA B
.
ÓÓB C
	Direction
ÓÓC L
=
ÓÓM N 
ParameterDirection
ÓÓO a
.
ÓÓa b
ReturnValue
ÓÓb m
;
ÓÓm n
cmd
ÔÔ 
.
ÔÔ 

Parameters
ÔÔ &
.
ÔÔ& '
AddWithValue
ÔÔ' 3
(
ÔÔ3 4
$str
ÔÔ4 B
,
ÔÔB C

pHospitalE
ÔÔD N
.
ÔÔN O
CodAtencion
ÔÔO Z
)
ÔÔZ [
;
ÔÔ[ \
cmd
 
.
 

Parameters
 &
.
& '
AddWithValue
' 3
(
3 4
$str
4 =
,
= >

pHospitalE
? I
.
I J
Orden
J O
)
O P
;
P Q
cnn
ÒÒ 
.
ÒÒ 
Open
ÒÒ  
(
ÒÒ  !
)
ÒÒ! "
;
ÒÒ" #
cmd
ÚÚ 
.
ÚÚ 
ExecuteNonQuery
ÚÚ +
(
ÚÚ+ ,
)
ÚÚ, -
;
ÚÚ- .
xResult
ÛÛ 
=
ÛÛ  !
true
ÛÛ" &
;
ÛÛ& '
cnn
ÙÙ 
.
ÙÙ 
Close
ÙÙ !
(
ÙÙ! "
)
ÙÙ" #
;
ÙÙ# $
cmd
ıı 
.
ıı 
Dispose
ıı #
(
ıı# $
)
ıı$ %
;
ıı% &
}
ˆˆ 
}
˜˜ 
}
¯¯ 
catch
˘˘ 
(
˘˘ 
	Exception
˘˘ 
ex
˘˘ 
)
˘˘  
{
˙˙ 
throw
˚˚ 
new
˚˚ 
	Exception
˚˚ #
(
˚˚# $
ex
˚˚$ &
.
˚˚& '
Message
˚˚' .
)
˚˚. /
;
˚˚/ 0
}
¸¸ 
return
˝˝ 
xResult
˝˝ 
;
˝˝ 
}
˛˛ 	
public
ÅÅ 
DataSet
ÅÅ ,
Sp_ConsultarDatosHospitalarios
ÅÅ 5
(
ÅÅ5 6
	HospitalE
ÅÅ6 ?

pHospitalE
ÅÅ@ J
)
ÅÅJ K
{
ÇÇ 	
DataSet
ÉÉ 
ds
ÉÉ 
=
ÉÉ 
new
ÉÉ 
DataSet
ÉÉ $
(
ÉÉ$ %
)
ÉÉ% &
;
ÉÉ& '
try
ÑÑ 
{
ÖÖ 
using
ÜÜ 
(
ÜÜ 
SqlConnection
ÜÜ $
cnn
ÜÜ% (
=
ÜÜ) *
new
ÜÜ+ .
SqlConnection
ÜÜ/ <
(
ÜÜ< =
VariablesGlobales
ÜÜ= N
.
ÜÜN O

CnnClinica
ÜÜO Y
)
ÜÜY Z
)
ÜÜZ [
{
áá 
using
àà 
(
àà 

SqlCommand
àà %
cmd
àà& )
=
àà* +
new
àà, /

SqlCommand
àà0 :
(
àà: ;
$str
àà; [
,
àà[ \
cnn
àà] `
)
àà` a
)
ààa b
{
ââ 
cmd
ää 
.
ää 
CommandType
ää '
=
ää( )
CommandType
ää* 5
.
ää5 6
StoredProcedure
ää6 E
;
ääE F
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 C
,
ååC D

pHospitalE
ååE O
.
ååO P
CodPaciente
ååP [
)
åå[ \
;
åå\ ]
cnn
çç 
.
çç 
Open
çç  
(
çç  !
)
çç! "
;
çç" #
SqlDataAdapter
èè &
oda
èè' *
=
èè+ ,
new
èè- 0
SqlDataAdapter
èè1 ?
(
èè? @
cmd
èè@ C
)
èèC D
;
èèD E
oda
êê 
.
êê 
Fill
êê  
(
êê  !
ds
êê! #
)
êê# $
;
êê$ %
cmd
íí 
.
íí 
Dispose
íí #
(
íí# $
)
íí$ %
;
íí% &
cnn
ìì 
.
ìì 
Close
ìì !
(
ìì! "
)
ìì" #
;
ìì# $
cnn
îî 
.
îî 
Dispose
îî #
(
îî# $
)
îî$ %
;
îî% &
return
ññ 
ds
ññ !
;
ññ! "
}
óó 
}
òò 
}
ôô 
catch
öö 
(
öö 
	Exception
öö 
ex
öö 
)
öö  
{
õõ 
throw
úú 
new
úú 
	Exception
úú #
(
úú# $
ex
úú$ &
.
úú& '
Message
úú' .
)
úú. /
;
úú/ 0
}
ùù 
}
ûû 	
public
†† 
List
†† 
<
†† 
	HospitalE
†† 
>
†† <
.Listado_PacientesHospitaliazados_Coincidencias
†† M
(
††M N
int
††N Q
order
††R W
,
††W X
int
††Y \
n_fila
††] c
,
††d e
string
††f l
codatencion
††m x
,
††x y
string††z Ä
Busq††Å Ö
)††Ö Ü
{
°° 	

SqlCommand
¢¢ 
cmd
¢¢ 
=
¢¢ 
null
¢¢ !
;
¢¢! "
SqlConnection
££ 
con
££ 
=
££ 
null
££  $
;
££$ %
SqlDataReader
§§ 
dr
§§ 
=
§§ 
null
§§ #
;
§§# $
List
•• 
<
•• 
	HospitalE
•• 
>
•• 
Lista
•• !
=
••" #
new
••$ '
List
••( ,
<
••, -
	HospitalE
••- 6
>
••6 7
(
••7 8
)
••8 9
;
••9 :
try
¶¶ 
{
ßß 
con
®® 
=
®® 
new
®® 
SqlConnection
®® '
(
®®' (
VariablesGlobales
®®( 9
.
®®9 :

CnnClinica
®®: D
)
®®D E
;
®®E F
cmd
©© 
=
©© 
new
©© 

SqlCommand
©© $
(
©©$ %
$str
©©% Q
,
©©Q R
con
©©S V
)
©©V W
;
©©W X
cmd
™™ 
.
™™ 
CommandType
™™ 
=
™™  !
CommandType
™™" -
.
™™- .
StoredProcedure
™™. =
;
™™= >
cmd
´´ 
.
´´ 

Parameters
´´ 
.
´´ 
AddWithValue
´´ +
(
´´+ ,
$str
´´, 4
,
´´4 5
order
´´6 ;
)
´´; <
;
´´< =
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ 
.
¨¨ 
AddWithValue
¨¨ +
(
¨¨+ ,
$str
¨¨, 6
,
¨¨6 7
n_fila
¨¨8 >
)
¨¨> ?
;
¨¨? @
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ 
.
≠≠ 
AddWithValue
≠≠ +
(
≠≠+ ,
$str
≠≠, ;
,
≠≠; <
codatencion
≠≠= H
)
≠≠H I
;
≠≠I J
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ 
.
ÆÆ 
AddWithValue
ÆÆ +
(
ÆÆ+ ,
$str
ÆÆ, 5
,
ÆÆ5 6
Busq
ÆÆ7 ;
)
ÆÆ; <
;
ÆÆ< =
con
ØØ 
.
ØØ 
Open
ØØ 
(
ØØ 
)
ØØ 
;
ØØ 
dr
∞∞ 
=
∞∞ 
cmd
∞∞ 
.
∞∞ 
ExecuteReader
∞∞ &
(
∞∞& '
)
∞∞' (
;
∞∞( )
while
±± 
(
±± 
dr
±± 
.
±± 
Read
±± 
(
±± 
)
±±  
)
±±  !
{
≤≤ 
	HospitalE
≥≥ 
_obj
≥≥ "
=
≥≥# $
new
≥≥% (
	HospitalE
≥≥) 2
(
≥≥2 3
)
≥≥3 4
;
≥≥4 5
_obj
¥¥ 
.
¥¥ 
Item
¥¥ 
=
¥¥ 
int
¥¥  #
.
¥¥# $
Parse
¥¥$ )
(
¥¥) *
dr
¥¥* ,
[
¥¥, -
$str
¥¥- 3
]
¥¥3 4
.
¥¥4 5
ToString
¥¥5 =
(
¥¥= >
)
¥¥> ?
)
¥¥? @
;
¥¥@ A
_obj
µµ 
.
µµ 
Ide_Historia
µµ %
=
µµ& '
dr
µµ( *
[
µµ* +
$str
µµ+ 9
]
µµ9 :
.
µµ: ;
ToString
µµ; C
(
µµC D
)
µµD E
;
µµE F
_obj
∂∂ 
.
∂∂ 
CodPaciente
∂∂ $
=
∂∂% &
dr
∂∂' )
[
∂∂) *
$str
∂∂* 7
]
∂∂7 8
.
∂∂8 9
ToString
∂∂9 A
(
∂∂A B
)
∂∂B C
;
∂∂C D
_obj
∑∑ 
.
∑∑ 
CodAtencion
∑∑ $
=
∑∑% &
dr
∑∑' )
[
∑∑) *
$str
∑∑* 8
]
∑∑8 9
.
∑∑9 :
ToString
∑∑: B
(
∑∑B C
)
∑∑C D
;
∑∑D E
_obj
∏∏ 
.
∏∏ 
NombresPaciente
∏∏ (
=
∏∏) *
dr
∏∏+ -
[
∏∏- .
$str
∏∏. 7
]
∏∏7 8
.
∏∏8 9
ToString
∏∏9 A
(
∏∏A B
)
∏∏B C
;
∏∏C D
_obj
ππ 
.
ππ  
DocumentoIdentidad
ππ +
=
ππ, -
dr
ππ. 0
[
ππ0 1
$str
ππ1 ?
]
ππ? @
.
ππ@ A
ToString
ππA I
(
ππI J
)
ππJ K
;
ππK L
_obj
∫∫ 
.
∫∫ 
	Direccion
∫∫ "
=
∫∫# $
dr
∫∫% '
[
∫∫' (
$str
∫∫( 3
]
∫∫3 4
.
∫∫4 5
ToString
∫∫5 =
(
∫∫= >
)
∫∫> ?
;
∫∫? @
_obj
ªª 
.
ªª 
Cama
ªª 
=
ªª 
dr
ªª  "
[
ªª" #
$str
ªª# )
]
ªª) *
.
ªª* +
ToString
ªª+ 3
(
ªª3 4
)
ªª4 5
;
ªª5 6
_obj
ºº 
.
ºº 
Fechainicio
ºº $
=
ºº% &
DateTime
ºº' /
.
ºº/ 0
Parse
ºº0 5
(
ºº5 6
dr
ºº6 8
[
ºº8 9
$str
ºº9 F
]
ººF G
.
ººG H
ToString
ººH P
(
ººP Q
)
ººQ R
)
ººR S
;
ººS T
_obj
ΩΩ 
.
ΩΩ 
Edad
ΩΩ 
=
ΩΩ 
dr
ΩΩ  "
[
ΩΩ" #
$str
ΩΩ# )
]
ΩΩ) *
.
ΩΩ* +
ToString
ΩΩ+ 3
(
ΩΩ3 4
)
ΩΩ4 5
;
ΩΩ5 6
_obj
ææ 
.
ææ 
NombreMedico
ææ %
=
ææ& '
dr
ææ( *
[
ææ* +
$str
ææ+ 9
]
ææ9 :
.
ææ: ;
ToString
ææ; C
(
ææC D
)
ææD E
;
ææE F
_obj
øø 
.
øø 
Piso
øø 
=
øø 
dr
øø  "
[
øø" #
$str
øø# )
]
øø) *
.
øø* +
ToString
øø+ 3
(
øø3 4
)
øø4 5
;
øø5 6
Lista
¿¿ 
.
¿¿ 
Add
¿¿ 
(
¿¿ 
_obj
¿¿ "
)
¿¿# $
;
¿¿$ %
}
¡¡ 
return
¬¬ 
Lista
¬¬ 
;
¬¬ 
dr
√√ 
.
√√ 
Close
√√ 
(
√√ 
)
√√ 
;
√√ 
cmd
ƒƒ 
.
ƒƒ 
Dispose
ƒƒ 
(
ƒƒ 
)
ƒƒ 
;
ƒƒ 
}
≈≈ 
catch
∆∆ 
(
∆∆ 
	Exception
∆∆ 
)
∆∆ 
{
«« 
throw
»» 
;
»» 
}
…… 
finally
   
{
ÀÀ 
con
ÃÃ 
.
ÃÃ 
Close
ÃÃ 
(
ÃÃ 
)
ÃÃ 
;
ÃÃ 
con
ÕÕ 
.
ÕÕ 
Dispose
ÕÕ 
(
ÕÕ 
)
ÕÕ 
;
ÕÕ 
}
ŒŒ 
}
œœ 	
public
—— 
	HospitalE
—— )
Datos_PacienteHospitalizado
—— 4
(
——4 5
int
——5 8
order
——9 >
,
——> ?
int
——@ C
n_fila
——D J
,
——J K
string
——L R
codatencion
——S ^
,
——^ _
string
——` f
Busq
——g k
)
——k l
{
““ 	

SqlCommand
”” 
cmd
”” 
=
”” 
null
”” !
;
””! "
SqlConnection
‘‘ 
con
‘‘ 
=
‘‘ 
null
‘‘  $
;
‘‘$ %
SqlDataReader
’’ 
dr
’’ 
=
’’ 
null
’’ #
;
’’# $
	HospitalE
÷÷ 
obj
÷÷ 
=
÷÷ 
new
÷÷ 
	HospitalE
÷÷  )
(
÷÷) *
)
÷÷* +
;
÷÷+ ,
try
◊◊ 
{
ÿÿ 
con
ŸŸ 
=
ŸŸ 
new
ŸŸ 
SqlConnection
ŸŸ '
(
ŸŸ' (
VariablesGlobales
ŸŸ( 9
.
ŸŸ9 :

CnnClinica
ŸŸ: D
)
ŸŸD E
;
ŸŸE F
cmd
⁄⁄ 
=
⁄⁄ 
new
⁄⁄ 

SqlCommand
⁄⁄ $
(
⁄⁄$ %
$str
⁄⁄% Q
,
⁄⁄Q R
con
⁄⁄S V
)
⁄⁄V W
;
⁄⁄W X
cmd
€€ 
.
€€ 
CommandType
€€ 
=
€€  !
CommandType
€€" -
.
€€- .
StoredProcedure
€€. =
;
€€= >
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ 
.
‹‹ 
AddWithValue
‹‹ +
(
‹‹+ ,
$str
‹‹, 4
,
‹‹4 5
order
‹‹6 ;
)
‹‹; <
;
‹‹< =
cmd
›› 
.
›› 

Parameters
›› 
.
›› 
AddWithValue
›› +
(
››+ ,
$str
››, 6
,
››6 7
n_fila
››8 >
)
››> ?
;
››? @
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ 
.
ﬁﬁ 
AddWithValue
ﬁﬁ +
(
ﬁﬁ+ ,
$str
ﬁﬁ, ;
,
ﬁﬁ; <
codatencion
ﬁﬁ= H
)
ﬁﬁH I
;
ﬁﬁI J
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ 
.
ﬂﬂ 
AddWithValue
ﬂﬂ +
(
ﬂﬂ+ ,
$str
ﬂﬂ, 5
,
ﬂﬂ5 6
Busq
ﬂﬂ7 ;
)
ﬂﬂ; <
;
ﬂﬂ< =
con
‡‡ 
.
‡‡ 
Open
‡‡ 
(
‡‡ 
)
‡‡ 
;
‡‡ 
dr
·· 
=
·· 
cmd
·· 
.
·· 
ExecuteReader
·· &
(
··& '
)
··' (
;
··( )
while
‚‚ 
(
‚‚ 
dr
‚‚ 
.
‚‚ 
Read
‚‚ 
(
‚‚ 
)
‚‚  
)
‚‚  !
{
„„ 
obj
‰‰ 
.
‰‰ 
TipoDocumento
‰‰ %
=
‰‰& '
dr
‰‰( *
[
‰‰* +
$str
‰‰+ :
]
‰‰: ;
.
‰‰; <
ToString
‰‰< D
(
‰‰D E
)
‰‰E F
;
‰‰F G
obj
ÂÂ 
.
ÂÂ  
DocumentoIdentidad
ÂÂ *
=
ÂÂ+ ,
dr
ÂÂ- /
[
ÂÂ/ 0
$str
ÂÂ0 >
]
ÂÂ> ?
.
ÂÂ? @
ToString
ÂÂ@ H
(
ÂÂH I
)
ÂÂI J
;
ÂÂJ K
obj
ÊÊ 
.
ÊÊ 
CodPaciente
ÊÊ #
=
ÊÊ$ %
dr
ÊÊ& (
[
ÊÊ( )
$str
ÊÊ) 6
]
ÊÊ6 7
.
ÊÊ7 8
ToString
ÊÊ8 @
(
ÊÊ@ A
)
ÊÊA B
;
ÊÊB C
obj
ÁÁ 
.
ÁÁ 
NombresPaciente
ÁÁ '
=
ÁÁ( )
dr
ÁÁ* ,
[
ÁÁ, -
$str
ÁÁ- 6
]
ÁÁ6 7
.
ÁÁ7 8
ToString
ÁÁ8 @
(
ÁÁ@ A
)
ÁÁA B
;
ÁÁB C
obj
ËË 
.
ËË 
Sexo
ËË 
=
ËË 
dr
ËË !
[
ËË! "
$str
ËË" (
]
ËË( )
.
ËË) *
ToString
ËË* 2
(
ËË2 3
)
ËË3 4
;
ËË4 5
obj
ÈÈ 
.
ÈÈ 
Telefono
ÈÈ  
=
ÈÈ! "
dr
ÈÈ# %
[
ÈÈ% &
$str
ÈÈ& 0
]
ÈÈ0 1
.
ÈÈ1 2
ToString
ÈÈ2 :
(
ÈÈ: ;
)
ÈÈ; <
;
ÈÈ< =
obj
ÍÍ 
.
ÍÍ 
Edad
ÍÍ 
=
ÍÍ 
dr
ÍÍ !
[
ÍÍ! "
$str
ÍÍ" (
]
ÍÍ( )
.
ÍÍ) *
ToString
ÍÍ* 2
(
ÍÍ2 3
)
ÍÍ3 4
;
ÍÍ4 5
obj
ÎÎ 
.
ÎÎ 
Cama
ÎÎ 
=
ÎÎ 
dr
ÎÎ !
[
ÎÎ! "
$str
ÎÎ" (
]
ÎÎ( )
.
ÎÎ) *
ToString
ÎÎ* 2
(
ÎÎ2 3
)
ÎÎ3 4
;
ÎÎ4 5
obj
ÏÏ 
.
ÏÏ 
CodAtencion
ÏÏ #
=
ÏÏ$ %
dr
ÏÏ& (
[
ÏÏ( )
$str
ÏÏ) 6
]
ÏÏ6 7
.
ÏÏ7 8
ToString
ÏÏ8 @
(
ÏÏ@ A
)
ÏÏA B
;
ÏÏB C
obj
ÌÌ 
.
ÌÌ 
Fechainicio
ÌÌ #
=
ÌÌ$ %
DateTime
ÌÌ& .
.
ÌÌ. /
Parse
ÌÌ/ 4
(
ÌÌ4 5
dr
ÌÌ5 7
[
ÌÌ7 8
$str
ÌÌ8 E
]
ÌÌE F
.
ÌÌF G
ToString
ÌÌG O
(
ÌÌO P
)
ÌÌP Q
)
ÌÌQ R
;
ÌÌR S
obj
ÓÓ 
.
ÓÓ  
DiasHospitalizados
ÓÓ *
=
ÓÓ+ ,
dr
ÓÓ- /
[
ÓÓ/ 0
$str
ÓÓ0 D
]
ÓÓD E
.
ÓÓE F
ToString
ÓÓF N
(
ÓÓN O
)
ÓÓO P
;
ÓÓP Q
obj
ÔÔ 
.
ÔÔ 
	Codmedico
ÔÔ !
=
ÔÔ" #
dr
ÔÔ$ &
[
ÔÔ& '
$str
ÔÔ' 2
]
ÔÔ2 3
.
ÔÔ3 4
ToString
ÔÔ4 <
(
ÔÔ< =
)
ÔÔ= >
;
ÔÔ> ?
obj
 
.
 
NombreMedico
 $
=
% &
dr
' )
[
) *
$str
* 8
]
8 9
.
9 :
ToString
: B
(
B C
)
C D
;
D E
obj
ÒÒ 
.
ÒÒ 
Especialidad
ÒÒ $
=
ÒÒ% &
dr
ÒÒ' )
[
ÒÒ) *
$str
ÒÒ* 8
]
ÒÒ8 9
.
ÒÒ9 :
ToString
ÒÒ: B
(
ÒÒB C
)
ÒÒC D
;
ÒÒD E
obj
ÚÚ 
.
ÚÚ 
Codaseguradora
ÚÚ &
=
ÚÚ' (
dr
ÚÚ) +
[
ÚÚ+ ,
$str
ÚÚ, <
]
ÚÚ< =
.
ÚÚ= >
ToString
ÚÚ> F
(
ÚÚF G
)
ÚÚG H
;
ÚÚH I
obj
ÛÛ 
.
ÛÛ 
NombreAseguradora
ÛÛ )
=
ÛÛ* +
dr
ÛÛ, .
[
ÛÛ. /
$str
ÛÛ/ B
]
ÛÛB C
.
ÛÛC D
ToString
ÛÛD L
(
ÛÛL M
)
ÛÛM N
;
ÛÛN O
obj
ÙÙ 
.
ÙÙ 
Ide_Historia
ÙÙ $
=
ÙÙ% &
dr
ÙÙ' )
[
ÙÙ) *
$str
ÙÙ* 8
]
ÙÙ8 9
.
ÙÙ9 :
ToString
ÙÙ: B
(
ÙÙB C
)
ÙÙC D
;
ÙÙD E
obj
ıı 
.
ıı 
FechaNacimiento
ıı '
=
ıı( )
DateTime
ıı* 2
.
ıı2 3
Parse
ıı3 8
(
ıı8 9
dr
ıı9 ;
[
ıı; <
$str
ıı< M
]
ııM N
.
ııN O
ToString
ııO W
(
ııW X
)
ııX Y
)
ııY Z
;
ııZ [
obj
ˆˆ 
.
ˆˆ $
FechaIngresoHabitacion
ˆˆ .
=
ˆˆ/ 0
DateTime
ˆˆ1 9
.
ˆˆ9 :
Parse
ˆˆ: ?
(
ˆˆ? @
dr
ˆˆ@ B
[
ˆˆB C
$str
ˆˆC [
]
ˆˆ[ \
.
ˆˆ\ ]
ToString
ˆˆ] e
(
ˆˆe f
)
ˆˆf g
)
ˆˆg h
;
ˆˆh i
obj
˜˜ 
.
˜˜ $
FechaIngresoEmergencia
˜˜ .
=
˜˜/ 0
dr
˜˜1 3
[
˜˜3 4
$str
˜˜4 L
]
˜˜L M
.
˜˜M N
ToString
˜˜N V
(
˜˜V W
)
˜˜W X
;
˜˜X Y
obj
¯¯ 
.
¯¯ 
CodCivil
¯¯  
=
¯¯! "
dr
¯¯# %
[
¯¯% &
$str
¯¯& 0
]
¯¯0 1
.
¯¯1 2
ToString
¯¯2 :
(
¯¯: ;
)
¯¯; <
;
¯¯< =
obj
˘˘ 
.
˘˘ 
Activo
˘˘ 
=
˘˘  
dr
˘˘! #
[
˘˘# $
$str
˘˘$ ,
]
˘˘, -
.
˘˘- .
ToString
˘˘. 6
(
˘˘6 7
)
˘˘7 8
;
˘˘8 9
obj
˙˙ 
.
˙˙ 
alergias
˙˙  
=
˙˙! "
dr
˙˙# %
[
˙˙% &
$str
˙˙& 3
]
˙˙3 4
.
˙˙4 5
ToString
˙˙5 =
(
˙˙= >
)
˙˙> ?
;
˙˙? @
obj
˚˚ 
.
˚˚ 
Diagnostico
˚˚ #
=
˚˚$ %
dr
˚˚& (
[
˚˚( )
$str
˚˚) 6
]
˚˚6 7
.
˚˚7 8
ToString
˚˚8 @
(
˚˚@ A
)
˚˚A B
;
˚˚B C
obj
¸¸ 
.
¸¸ '
Ide_kardexhospitalizacion
¸¸ 1
=
¸¸2 3
int
¸¸4 7
.
¸¸7 8
Parse
¸¸8 =
(
¸¸= >
dr
¸¸> @
[
¸¸@ A
$str
¸¸A \
]
¸¸\ ]
.
¸¸] ^
ToString
¸¸^ f
(
¸¸f g
)
¸¸g h
)
¸¸h i
;
¸¸i j
obj
˝˝ 
.
˝˝ 
alergias
˝˝  
=
˝˝! "
dr
˝˝# %
[
˝˝% &
$str
˝˝& 5
]
˝˝5 6
.
˝˝6 7
ToString
˝˝7 ?
(
˝˝? @
)
˝˝@ A
;
˝˝A B
obj
˛˛ 
.
˛˛ 
EstadoAlergia
˛˛ %
=
˛˛& '
dr
˛˛( *
[
˛˛* +
$str
˛˛+ :
]
˛˛: ;
.
˛˛; <
ToString
˛˛< D
(
˛˛D E
)
˛˛E F
;
˛˛F G
obj
ˇˇ 
.
ˇˇ 
PesoPaciente
ˇˇ $
=
ˇˇ% &
Convert
ˇˇ' .
.
ˇˇ. /
	ToDecimal
ˇˇ/ 8
(
ˇˇ8 9
dr
ˇˇ9 ;
[
ˇˇ; <
$str
ˇˇ< J
]
ˇˇJ K
.
ˇˇK L
ToString
ˇˇL T
(
ˇˇT U
)
ˇˇU V
)
ˇˇV W
;
ˇˇW X
}
ÄÄ 
return
ÅÅ 
obj
ÅÅ 
;
ÅÅ 
}
ÇÇ 
catch
ÉÉ 
(
ÉÉ 
	Exception
ÉÉ 
ex
ÉÉ 
)
ÉÉ  
{
ÑÑ 
throw
ÖÖ 
;
ÖÖ 
}
ÜÜ 
finally
áá 
{
àà 
con
ââ 
.
ââ 
Close
ââ 
(
ââ 
)
ââ 
;
ââ 
con
ää 
.
ää 
Dispose
ää 
(
ää 
)
ää 
;
ää 
}
ãã 
}
åå 	
public
éé 
List
éé 
<
éé "
IndicacionesMedicasE
éé (
>
éé( ))
Listado_IndicacionesMedicas
éé* E
(
ééE F
int
ééF I
order
ééJ O
,
ééO P
int
ééQ T
n_fila
ééU [
,
éé[ \
string
éé] c
codatencion
ééd o
,
ééo p
string
ééq w
Busq
ééx |
)
éé| }
{
èè 	

SqlCommand
êê 
cmd
êê 
=
êê 
null
êê !
;
êê! "
SqlConnection
ëë 
con
ëë 
=
ëë 
null
ëë  $
;
ëë$ %
SqlDataReader
íí 
dr
íí 
=
íí 
null
íí #
;
íí# $
List
ìì 
<
ìì "
IndicacionesMedicasE
ìì %
>
ìì% &
Lista
ìì' ,
=
ìì- .
new
ìì/ 2
List
ìì3 7
<
ìì7 8"
IndicacionesMedicasE
ìì8 L
>
ììL M
(
ììM N
)
ììN O
;
ììO P
try
îî 
{
ïï 
con
ññ 
=
ññ 
new
ññ 
SqlConnection
ññ '
(
ññ' (
VariablesGlobales
ññ( 9
.
ññ9 :

CnnClinica
ññ: D
)
ññD E
;
ññE F
cmd
óó 
=
óó 
new
óó 

SqlCommand
óó $
(
óó$ %
$str
óó% Q
,
óóQ R
con
óóS V
)
óóV W
;
óóW X
cmd
òò 
.
òò 
CommandType
òò 
=
òò  !
CommandType
òò" -
.
òò- .
StoredProcedure
òò. =
;
òò= >
cmd
ôô 
.
ôô 

Parameters
ôô 
.
ôô 
AddWithValue
ôô +
(
ôô+ ,
$str
ôô, 4
,
ôô4 5
order
ôô6 ;
)
ôô; <
;
ôô< =
cmd
öö 
.
öö 

Parameters
öö 
.
öö 
AddWithValue
öö +
(
öö+ ,
$str
öö, 6
,
öö6 7
n_fila
öö8 >
)
öö> ?
;
öö? @
cmd
õõ 
.
õõ 

Parameters
õõ 
.
õõ 
AddWithValue
õõ +
(
õõ+ ,
$str
õõ, ;
,
õõ; <
codatencion
õõ= H
)
õõH I
;
õõI J
cmd
úú 
.
úú 

Parameters
úú 
.
úú 
AddWithValue
úú +
(
úú+ ,
$str
úú, 5
,
úú5 6
Busq
úú7 ;
)
úú; <
;
úú< =
con
ùù 
.
ùù 
Open
ùù 
(
ùù 
)
ùù 
;
ùù 
dr
ûû 
=
ûû 
cmd
ûû 
.
ûû 
ExecuteReader
ûû &
(
ûû& '
)
ûû' (
;
ûû( )
while
üü 
(
üü 
dr
üü 
.
üü 
Read
üü 
(
üü 
)
üü  
)
üü  !
{
†† "
IndicacionesMedicasE
°° (
_obj
°°) -
=
°°. /
new
°°0 3"
IndicacionesMedicasE
°°4 H
(
°°H I
)
°°I J
;
°°J K
_obj
¢¢ 
.
¢¢ 
IdTipo
¢¢ 
=
¢¢  !
int
¢¢" %
.
¢¢% &
Parse
¢¢& +
(
¢¢+ ,
dr
¢¢, .
[
¢¢. /
$str
¢¢/ 7
]
¢¢7 8
.
¢¢8 9
ToString
¢¢9 A
(
¢¢A B
)
¢¢B C
)
¢¢C D
;
¢¢D E
_obj
££ 
.
££ 

NombreTipo
££ #
=
££$ %
dr
££& (
[
££( )
$str
££) 5
]
££5 6
.
££6 7
ToString
££7 ?
(
££? @
)
££@ A
;
££A B
_obj
§§ 
.
§§ 
dsc_producto
§§ %
=
§§& '
dr
§§( *
[
§§* +
$str
§§+ 9
]
§§9 :
.
§§: ;
ToString
§§; C
(
§§C D
)
§§D E
;
§§E F
_obj
•• 
.
•• 
	num_dosis
•• "
=
••# $
dr
••% '
[
••' (
$str
••( 3
]
••3 4
.
••4 5
ToString
••5 =
(
••= >
)
••> ?
;
••? @
_obj
¶¶ 
.
¶¶ 
num_duracion
¶¶ %
=
¶¶& '
dr
¶¶( *
[
¶¶* +
$str
¶¶+ 9
]
¶¶9 :
.
¶¶: ;
ToString
¶¶; C
(
¶¶C D
)
¶¶D E
;
¶¶E F
_obj
ßß 
.
ßß 
num_frecuencia
ßß '
=
ßß( )
dr
ßß* ,
[
ßß, -
$str
ßß- =
]
ßß= >
.
ßß> ?
ToString
ßß? G
(
ßßG H
)
ßßH I
;
ßßI J
_obj
®® 
.
®® 
num_cantidad
®® %
=
®®& '
Convert
®®( /
.
®®/ 0
	ToDecimal
®®0 9
(
®®9 :
dr
®®: <
[
®®< =
$str
®®= K
]
®®K L
.
®®L M
ToString
®®M U
(
®®U V
)
®®V W
)
®®W X
;
®®X Y
_obj
©© 
.
©© 
dsc_via
©©  
=
©©! "
dr
©©# %
[
©©% &
$str
©©& /
]
©©/ 0
.
©©0 1
ToString
©©1 9
(
©©9 :
)
©©: ;
;
©©; <
_obj
™™ 
.
™™ 

ide_receta
™™ #
=
™™$ %
int
™™& )
.
™™) *
Parse
™™* /
(
™™/ 0
dr
™™0 2
[
™™2 3
$str
™™3 ?
]
™™? @
.
™™@ A
ToString
™™A I
(
™™I J
)
™™J K
)
™™K L
;
™™L M
_obj
´´ 
.
´´  
ide_medicamentorec
´´ +
=
´´, -
int
´´. 1
.
´´1 2
Parse
´´2 7
(
´´7 8
dr
´´8 :
[
´´: ;
$str
´´; O
]
´´O P
.
´´P Q
ToString
´´Q Y
(
´´Y Z
)
´´Z [
)
´´[ \
;
´´\ ]
_obj
¨¨ 
.
¨¨ 
flg_suspendido
¨¨ '
=
¨¨( )
dr
¨¨* ,
[
¨¨, -
$str
¨¨- =
]
¨¨= >
.
¨¨> ?
ToString
¨¨? G
(
¨¨G H
)
¨¨H I
;
¨¨I J
_obj
≠≠ 
.
≠≠ 
txt_detalle
≠≠ $
=
≠≠% &
dr
≠≠' )
[
≠≠) *
$str
≠≠* 7
]
≠≠7 8
.
≠≠8 9
ToString
≠≠9 A
(
≠≠A B
)
≠≠B C
;
≠≠C D
_obj
ÆÆ 
.
ÆÆ 
HOR_REGISTRO
ÆÆ %
=
ÆÆ& '
dr
ÆÆ( *
[
ÆÆ* +
$str
ÆÆ+ 9
]
ÆÆ9 :
.
ÆÆ: ;
ToString
ÆÆ; C
(
ÆÆC D
)
ÆÆD E
;
ÆÆE F
_obj
ØØ 
.
ØØ 
HOR_REGISTRO2
ØØ &
=
ØØ' (
dr
ØØ) +
[
ØØ+ ,
$str
ØØ, ;
]
ØØ; <
.
ØØ< =
ToString
ØØ= E
(
ØØE F
)
ØØF G
;
ØØG H
_obj
∞∞ 
.
∞∞ 
Fecha
∞∞ 
=
∞∞  
dr
∞∞! #
[
∞∞# $
$str
∞∞$ +
]
∞∞+ ,
.
∞∞, -
ToString
∞∞- 5
(
∞∞5 6
)
∞∞6 7
;
∞∞7 8
_obj
±± 
.
±± 
NombreMedico
±± %
=
±±& '
dr
±±( *
[
±±* +
$str
±±+ 9
]
±±9 :
.
±±: ;
ToString
±±; C
(
±±C D
)
±±D E
;
±±E F
_obj
≤≤ 
.
≤≤ 
cod_atencion
≤≤ %
=
≤≤& '
dr
≤≤( *
[
≤≤* +
$str
≤≤+ 9
]
≤≤9 :
.
≤≤: ;
ToString
≤≤; C
(
≤≤C D
)
≤≤D E
;
≤≤E F
_obj
≥≥ 
.
≥≥ 
_item
≥≥ 
=
≥≥  
int
≥≥! $
.
≥≥$ %
Parse
≥≥% *
(
≥≥* +
dr
≥≥+ -
[
≥≥- .
$str
≥≥. :
]
≥≥: ;
.
≥≥; <
ToString
≥≥< D
(
≥≥D E
)
≥≥E F
)
≥≥F G
;
≥≥G H
_obj
¥¥ 
.
¥¥  
UltimoUserRegistro
¥¥ +
=
¥¥, -
dr
¥¥. 0
[
¥¥0 1
$str
¥¥1 E
]
¥¥E F
.
¥¥F G
ToString
¥¥G O
(
¥¥O P
)
¥¥P Q
;
¥¥Q R
_obj
µµ 
.
µµ !
UltimoFechaRegistro
µµ ,
=
µµ- .
dr
µµ/ 1
[
µµ1 2
$str
µµ2 D
]
µµD E
.
µµE F
ToString
µµF N
(
µµN O
)
µµO P
;
µµP Q
_obj
∂∂ 
.
∂∂ 
Icons
∂∂ 
=
∂∂  
dr
∂∂! #
[
∂∂# $
$str
∂∂$ +
]
∂∂+ ,
.
∂∂, -
ToString
∂∂- 5
(
∂∂5 6
)
∂∂6 7
;
∂∂7 8
_obj
∑∑ 
.
∑∑ "
NumeracionFrecuencia
∑∑ -
=
∑∑. /
int
∑∑0 3
.
∑∑3 4
Parse
∑∑4 9
(
∑∑9 :
dr
∑∑: <
[
∑∑< =
$str
∑∑= S
]
∑∑S T
.
∑∑T U
ToString
∑∑U ]
(
∑∑] ^
)
∑∑^ _
)
∑∑_ `
;
∑∑` a
_obj
∏∏ 
.
∏∏ 
SiguienteHora
∏∏ &
=
∏∏' (
dr
∏∏) +
[
∏∏+ ,
$str
∏∏, ;
]
∏∏; <
.
∏∏< =
ToString
∏∏= E
(
∏∏E F
)
∏∏F G
;
∏∏G H
_obj
ππ 
.
ππ $
ide_KardexHospitalario
ππ /
=
ππ0 1
$num
ππ2 3
;
ππ3 4
_obj
∫∫ 
.
∫∫ 
HoraSecundaria
∫∫ '
=
∫∫( )
$num
∫∫* +
;
∫∫+ ,
_obj
ªª 
.
ªª 
i_horasugerida
ªª '
=
ªª( )
$num
ªª* +
;
ªª+ ,
_obj
ºº 
.
ºº 

TotDetalle
ºº #
=
ºº$ %
int
ºº& )
.
ºº) *
Parse
ºº* /
(
ºº/ 0
dr
ºº0 2
[
ºº2 3
$str
ºº3 ?
]
ºº? @
.
ºº@ A
ToString
ººA I
(
ººI J
)
ººJ K
)
ººK L
;
ººL M
_obj
ΩΩ 
.
ΩΩ 
	SumEstado
ΩΩ "
=
ΩΩ# $
int
ΩΩ% (
.
ΩΩ( )
Parse
ΩΩ) .
(
ΩΩ. /
dr
ΩΩ/ 1
[
ΩΩ1 2
$str
ΩΩ2 =
]
ΩΩ= >
.
ΩΩ> ?
ToString
ΩΩ? G
(
ΩΩG H
)
ΩΩH I
)
ΩΩI J
;
ΩΩJ K
Lista
ææ 
.
ææ 
Add
ææ 
(
ææ 
_obj
ææ "
)
ææ" #
;
ææ# $
}
øø 
return
¿¿ 
Lista
¿¿ 
;
¿¿ 
dr
¡¡ 
.
¡¡ 
Close
¡¡ 
(
¡¡ 
)
¡¡ 
;
¡¡ 
cmd
¬¬ 
.
¬¬ 
Dispose
¬¬ 
(
¬¬ 
)
¬¬ 
;
¬¬ 
}
√√ 
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ 
)
ƒƒ 
{
≈≈ 
throw
∆∆ 
;
∆∆ 
}
«« 
finally
»» 
{
…… 
con
   
.
   
Close
   
(
   
)
   
;
   
con
ÀÀ 
.
ÀÀ 
Dispose
ÀÀ 
(
ÀÀ 
)
ÀÀ 
;
ÀÀ 
}
ÃÃ 
}
ÕÕ 	
public
œœ 
List
œœ 
<
œœ (
IndicacionesMedicaDetalleE
œœ .
>
œœ. /8
*Listado_KardexHistoricoIndicacionesMedicas
œœ0 Z
(
œœZ [
int
œœ[ ^
order
œœ_ d
,
œœd e
int
œœf i
n_fila
œœj p
,
œœp q
string
œœr x
codatencionœœy Ñ
,œœÑ Ö
stringœœÜ å
Busqœœç ë
)œœë í
{
–– 	

SqlCommand
—— 
cmd
—— 
=
—— 
null
—— !
;
——! "
SqlConnection
““ 
con
““ 
=
““ 
null
““  $
;
““$ %
SqlDataReader
”” 
dr
”” 
=
”” 
null
”” #
;
””# $
List
‘‘ 
<
‘‘ (
IndicacionesMedicaDetalleE
‘‘ +
>
‘‘+ ,
Lista
‘‘- 2
=
‘‘3 4
new
‘‘5 8
List
‘‘9 =
<
‘‘= >(
IndicacionesMedicaDetalleE
‘‘> X
>
‘‘X Y
(
‘‘Y Z
)
‘‘Z [
;
‘‘[ \
try
’’ 
{
÷÷ 
con
◊◊ 
=
◊◊ 
new
◊◊ 
SqlConnection
◊◊ '
(
◊◊' (
VariablesGlobales
◊◊( 9
.
◊◊9 :

CnnClinica
◊◊: D
)
◊◊D E
;
◊◊E F
cmd
ÿÿ 
=
ÿÿ 
new
ÿÿ 

SqlCommand
ÿÿ $
(
ÿÿ$ %
$str
ÿÿ% Q
,
ÿÿQ R
con
ÿÿS V
)
ÿÿV W
;
ÿÿW X
cmd
ŸŸ 
.
ŸŸ 
CommandType
ŸŸ 
=
ŸŸ  !
CommandType
ŸŸ" -
.
ŸŸ- .
StoredProcedure
ŸŸ. =
;
ŸŸ= >
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ 
.
⁄⁄ 
AddWithValue
⁄⁄ +
(
⁄⁄+ ,
$str
⁄⁄, 4
,
⁄⁄4 5
order
⁄⁄6 ;
)
⁄⁄; <
;
⁄⁄< =
cmd
€€ 
.
€€ 

Parameters
€€ 
.
€€ 
AddWithValue
€€ +
(
€€+ ,
$str
€€, 6
,
€€6 7
n_fila
€€8 >
)
€€> ?
;
€€? @
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ 
.
‹‹ 
AddWithValue
‹‹ +
(
‹‹+ ,
$str
‹‹, ;
,
‹‹; <
codatencion
‹‹= H
)
‹‹H I
;
‹‹I J
cmd
›› 
.
›› 

Parameters
›› 
.
›› 
AddWithValue
›› +
(
››+ ,
$str
››, 5
,
››5 6
Busq
››7 ;
)
››; <
;
››< =
con
ﬁﬁ 
.
ﬁﬁ 
Open
ﬁﬁ 
(
ﬁﬁ 
)
ﬁﬁ 
;
ﬁﬁ 
dr
ﬂﬂ 
=
ﬂﬂ 
cmd
ﬂﬂ 
.
ﬂﬂ 
ExecuteReader
ﬂﬂ &
(
ﬂﬂ& '
)
ﬂﬂ' (
;
ﬂﬂ( )
while
‡‡ 
(
‡‡ 
dr
‡‡ 
.
‡‡ 
Read
‡‡ 
(
‡‡ 
)
‡‡  
)
‡‡  !
{
·· (
IndicacionesMedicaDetalleE
‚‚ .
_obj
‚‚/ 3
=
‚‚4 5
new
‚‚6 9(
IndicacionesMedicaDetalleE
‚‚: T
(
‚‚T U
)
‚‚U V
;
‚‚V W
_obj
„„ 
.
„„ 
Fecha
„„ 
=
„„  
Convert
„„! (
.
„„( )

ToDateTime
„„) 3
(
„„3 4
dr
„„4 6
[
„„6 7
$str
„„7 >
]
„„> ?
.
„„? @
ToString
„„@ H
(
„„H I
)
„„I J
)
„„J K
;
„„K L
_obj
‰‰ 
.
‰‰  
ide_medicamentorec
‰‰ +
=
‰‰, -
int
‰‰. 1
.
‰‰1 2
Parse
‰‰2 7
(
‰‰7 8
dr
‰‰8 :
[
‰‰: ;
$str
‰‰; O
]
‰‰O P
.
‰‰P Q
ToString
‰‰Q Y
(
‰‰Y Z
)
‰‰Z [
)
‰‰[ \
;
‰‰\ ]
_obj
ÂÂ 
.
ÂÂ 
i_Idtipo
ÂÂ !
=
ÂÂ" #
int
ÂÂ$ '
.
ÂÂ' (
Parse
ÂÂ( -
(
ÂÂ- .
dr
ÂÂ. 0
[
ÂÂ0 1
$str
ÂÂ1 ;
]
ÂÂ; <
.
ÂÂ< =
ToString
ÂÂ= E
(
ÂÂE F
)
ÂÂF G
)
ÂÂG H
;
ÂÂH I
_obj
ÊÊ 
.
ÊÊ 
dsc_tipo
ÊÊ !
=
ÊÊ" #
dr
ÊÊ$ &
[
ÊÊ& '
$str
ÊÊ' 1
]
ÊÊ1 2
.
ÊÊ2 3
ToString
ÊÊ3 ;
(
ÊÊ; <
)
ÊÊ< =
;
ÊÊ= >
_obj
ÁÁ 
.
ÁÁ 
dsc_producto
ÁÁ %
=
ÁÁ& '
dr
ÁÁ( *
[
ÁÁ* +
$str
ÁÁ+ 9
]
ÁÁ9 :
.
ÁÁ: ;
ToString
ÁÁ; C
(
ÁÁC D
)
ÁÁD E
;
ÁÁE F
_obj
ËË 
.
ËË 
usr_registra
ËË %
=
ËË& '
dr
ËË( *
[
ËË* +
$str
ËË+ 9
]
ËË9 :
.
ËË: ;
ToString
ËË; C
(
ËËC D
)
ËËD E
;
ËËE F
_obj
ÈÈ 
.
ÈÈ 
i_Correlativo
ÈÈ &
=
ÈÈ' (
int
ÈÈ) ,
.
ÈÈ, -
Parse
ÈÈ- 2
(
ÈÈ2 3
dr
ÈÈ3 5
[
ÈÈ5 6
$str
ÈÈ6 E
]
ÈÈE F
.
ÈÈF G
ToString
ÈÈG O
(
ÈÈO P
)
ÈÈP Q
)
ÈÈQ R
;
ÈÈR S
_obj
ÍÍ 
.
ÍÍ 
FInsert
ÍÍ  
=
ÍÍ! "
dr
ÍÍ# %
[
ÍÍ% &
$str
ÍÍ& /
]
ÍÍ/ 0
.
ÍÍ0 1
ToString
ÍÍ1 9
(
ÍÍ9 :
)
ÍÍ: ;
;
ÍÍ; <
_obj
ÎÎ 
.
ÎÎ 
fechaprogramada
ÎÎ (
=
ÎÎ) *
dr
ÎÎ+ -
[
ÎÎ- .
$str
ÎÎ. ?
]
ÎÎ? @
.
ÎÎ@ A
ToString
ÎÎA I
(
ÎÎI J
)
ÎÎJ K
;
ÎÎK L
_obj
ÏÏ 
.
ÏÏ 
HInsert
ÏÏ  
=
ÏÏ! "
dr
ÏÏ# %
[
ÏÏ% &
$str
ÏÏ& /
]
ÏÏ/ 0
.
ÏÏ0 1
ToString
ÏÏ1 9
(
ÏÏ9 :
)
ÏÏ: ;
;
ÏÏ; <
_obj
ÌÌ 
.
ÌÌ 
Icons
ÌÌ 
=
ÌÌ  
dr
ÌÌ! #
[
ÌÌ# $
$str
ÌÌ$ +
]
ÌÌ+ ,
.
ÌÌ, -
ToString
ÌÌ- 5
(
ÌÌ5 6
)
ÌÌ6 7
;
ÌÌ7 8
_obj
ÓÓ 
.
ÓÓ 
peso
ÓÓ 
=
ÓÓ 
dr
ÓÓ  "
[
ÓÓ" #
$str
ÓÓ# )
]
ÓÓ) *
.
ÓÓ* +
ToString
ÓÓ+ 3
(
ÓÓ3 4
)
ÓÓ4 5
;
ÓÓ5 6
_obj
ÔÔ 
.
ÔÔ 
usr_adminstra
ÔÔ &
=
ÔÔ' (
dr
ÔÔ) +
[
ÔÔ+ ,
$str
ÔÔ, ;
]
ÔÔ; <
.
ÔÔ< =
ToString
ÔÔ= E
(
ÔÔE F
)
ÔÔF G
;
ÔÔG H
_obj
 
.
 
fechaadministrada
 *
=
+ ,
dr
- /
[
/ 0
$str
0 C
]
C D
.
D E
ToString
E M
(
M N
)
N O
;
O P
_obj
ÒÒ 
.
ÒÒ "
dsc_tipoAdminstracio
ÒÒ -
=
ÒÒ. /
dr
ÒÒ0 2
[
ÒÒ2 3
$str
ÒÒ3 I
]
ÒÒI J
.
ÒÒJ K
ToString
ÒÒK S
(
ÒÒS T
)
ÒÒT U
;
ÒÒU V
_obj
ÚÚ 
.
ÚÚ "
i_estadoadministrado
ÚÚ -
=
ÚÚ. /
int
ÚÚ0 3
.
ÚÚ3 4
Parse
ÚÚ4 9
(
ÚÚ9 :
dr
ÚÚ: <
[
ÚÚ< =
$str
ÚÚ= S
]
ÚÚS T
.
ÚÚT U
ToString
ÚÚU ]
(
ÚÚ] ^
)
ÚÚ^ _
)
ÚÚ_ `
;
ÚÚ` a
Lista
ÙÙ 
.
ÙÙ 
Add
ÙÙ 
(
ÙÙ 
_obj
ÙÙ "
)
ÙÙ" #
;
ÙÙ# $
}
ıı 
return
ˆˆ 
Lista
ˆˆ 
;
ˆˆ 
dr
˜˜ 
.
˜˜ 
Close
˜˜ 
(
˜˜ 
)
˜˜ 
;
˜˜ 
cmd
¯¯ 
.
¯¯ 
Dispose
¯¯ 
(
¯¯ 
)
¯¯ 
;
¯¯ 
}
˘˘ 
catch
˙˙ 
(
˙˙ 
	Exception
˙˙ 
)
˙˙ 
{
˚˚ 
throw
¸¸ 
;
¸¸ 
}
˝˝ 
finally
˛˛ 
{
ˇˇ 
con
ÄÄ 
.
ÄÄ 
Close
ÄÄ 
(
ÄÄ 
)
ÄÄ 
;
ÄÄ 
con
ÅÅ 
.
ÅÅ 
Dispose
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ 
}
ÇÇ 
}
ÉÉ 	
public
ÖÖ 
List
ÖÖ 
<
ÖÖ !
ProgramacionKardexE
ÖÖ '
>
ÖÖ' (;
-Listado_KardexHistoricoIndicacionesProgramada
ÖÖ) V
(
ÖÖV W
int
ÖÖW Z
order
ÖÖ[ `
,
ÖÖ` a
int
ÖÖb e
n_fila
ÖÖf l
,
ÖÖl m
string
ÖÖn t
codatencionÖÖu Ä
,ÖÖÄ Å
stringÖÖÇ à
BusqÖÖâ ç
)ÖÖç é
{
ÜÜ 	

SqlCommand
áá 
cmd
áá 
=
áá 
null
áá !
;
áá! "
SqlConnection
àà 
con
àà 
=
àà 
null
àà  $
;
àà$ %
SqlDataReader
ââ 
dr
ââ 
=
ââ 
null
ââ #
;
ââ# $
List
ää 
<
ää !
ProgramacionKardexE
ää $
>
ää$ %
Lista
ää& +
=
ää, -
new
ää. 1
List
ää2 6
<
ää6 7!
ProgramacionKardexE
ää7 J
>
ääJ K
(
ääK L
)
ääL M
;
ääM N
try
ãã 
{
åå 
con
çç 
=
çç 
new
çç 
SqlConnection
çç '
(
çç' (
VariablesGlobales
çç( 9
.
çç9 :

CnnClinica
çç: D
)
ççD E
;
ççE F
cmd
éé 
=
éé 
new
éé 

SqlCommand
éé $
(
éé$ %
$str
éé% Q
,
ééQ R
con
ééS V
)
ééV W
;
ééW X
cmd
èè 
.
èè 
CommandType
èè 
=
èè  !
CommandType
èè" -
.
èè- .
StoredProcedure
èè. =
;
èè= >
cmd
êê 
.
êê 

Parameters
êê 
.
êê 
AddWithValue
êê +
(
êê+ ,
$str
êê, 4
,
êê4 5
order
êê6 ;
)
êê; <
;
êê< =
cmd
ëë 
.
ëë 

Parameters
ëë 
.
ëë 
AddWithValue
ëë +
(
ëë+ ,
$str
ëë, 6
,
ëë6 7
n_fila
ëë8 >
)
ëë> ?
;
ëë? @
cmd
íí 
.
íí 

Parameters
íí 
.
íí 
AddWithValue
íí +
(
íí+ ,
$str
íí, ;
,
íí; <
codatencion
íí= H
)
ííH I
;
ííI J
cmd
ìì 
.
ìì 

Parameters
ìì 
.
ìì 
AddWithValue
ìì +
(
ìì+ ,
$str
ìì, 5
,
ìì5 6
Busq
ìì7 ;
)
ìì; <
;
ìì< =
con
îî 
.
îî 
Open
îî 
(
îî 
)
îî 
;
îî 
dr
ïï 
=
ïï 
cmd
ïï 
.
ïï 
ExecuteReader
ïï &
(
ïï& '
)
ïï' (
;
ïï( )
while
ññ 
(
ññ 
dr
ññ 
.
ññ 
Read
ññ 
(
ññ 
)
ññ  
)
ññ  !
{
óó !
ProgramacionKardexE
òò '
_obj
òò( ,
=
òò- .
new
òò/ 2!
ProgramacionKardexE
òò3 F
(
òòF G
)
òòG H
;
òòH I
_obj
ôô 
.
ôô 
item
ôô 
=
ôô 
int
ôô  #
.
ôô# $
Parse
ôô$ )
(
ôô) *
dr
ôô* ,
[
ôô, -
$str
ôô- 3
]
ôô3 4
.
ôô4 5
ToString
ôô5 =
(
ôô= >
)
ôô> ?
)
ôô? @
;
ôô@ A
_obj
öö 
.
öö 
codatencion
öö $
=
öö% &
dr
öö' )
[
öö) *
$str
öö* 7
]
öö7 8
.
öö8 9
ToString
öö9 A
(
ööA B
)
ööB C
;
ööC D
_obj
õõ 
.
õõ  
ide_medicamentorec
õõ +
=
õõ, -
int
õõ. 1
.
õõ1 2
Parse
õõ2 7
(
õõ7 8
dr
õõ8 :
[
õõ: ;
$str
õõ; O
]
õõO P
.
õõP Q
ToString
õõQ Y
(
õõY Z
)
õõZ [
)
õõ[ \
;
õõ\ ]
_obj
úú 
.
úú 
i_Correlativo
úú &
=
úú' (
int
úú) ,
.
úú, -
Parse
úú- 2
(
úú2 3
dr
úú3 5
[
úú5 6
$str
úú6 E
]
úúE F
.
úúF G
ToString
úúG O
(
úúO P
)
úúP Q
)
úúQ R
;
úúR S
_obj
ùù 
.
ùù "
i_estadoadministrado
ùù -
=
ùù. /
int
ùù0 3
.
ùù3 4
Parse
ùù4 9
(
ùù9 :
dr
ùù: <
[
ùù< =
$str
ùù= S
]
ùùS T
.
ùùT U
ToString
ùùU ]
(
ùù] ^
)
ùù^ _
)
ùù_ `
;
ùù` a
_obj
ûû 
.
ûû 
fechaprogramada
ûû (
=
ûû) *
dr
ûû+ -
[
ûû- .
$str
ûû. ?
]
ûû? @
.
ûû@ A
ToString
ûûA I
(
ûûI J
)
ûûJ K
;
ûûK L
_obj
üü 
.
üü 
horaprogramada
üü '
=
üü( )
dr
üü* ,
[
üü, -
$str
üü- =
]
üü= >
.
üü> ?
ToString
üü? G
(
üüG H
)
üüH I
;
üüI J
_obj
†† 
.
†† 
FechaAdministrada
†† *
=
††+ ,
dr
††- /
[
††/ 0
$str
††0 C
]
††C D
.
††D E
ToString
††E M
(
††M N
)
††N O
;
††O P
_obj
°° 
.
°° 
usr_adminstra
°° &
=
°°' (
dr
°°) +
[
°°+ ,
$str
°°, ;
]
°°; <
.
°°< =
ToString
°°= E
(
°°E F
)
°°F G
;
°°G H
Lista
¢¢ 
.
¢¢ 
Add
¢¢ 
(
¢¢ 
_obj
¢¢ "
)
¢¢" #
;
¢¢# $
}
££ 
return
§§ 
Lista
§§ 
;
§§ 
dr
•• 
.
•• 
Close
•• 
(
•• 
)
•• 
;
•• 
cmd
¶¶ 
.
¶¶ 
Dispose
¶¶ 
(
¶¶ 
)
¶¶ 
;
¶¶ 
}
ßß 
catch
®® 
(
®® 
	Exception
®® 
)
®® 
{
©© 
throw
™™ 
;
™™ 
}
´´ 
finally
¨¨ 
{
≠≠ 
con
ÆÆ 
.
ÆÆ 
Close
ÆÆ 
(
ÆÆ 
)
ÆÆ 
;
ÆÆ 
con
ØØ 
.
ØØ 
Dispose
ØØ 
(
ØØ 
)
ØØ 
;
ØØ 
}
∞∞ 
}
±± 	
public
¥¥ 
List
¥¥ 
<
¥¥ 
PisoE
¥¥ 
>
¥¥ #
Listar_piso_x_usuario
¥¥ 0
(
¥¥0 1
int
¥¥1 4
order
¥¥5 :
,
¥¥: ;
int
¥¥< ?
n_fila
¥¥@ F
,
¥¥F G
string
¥¥H N
codatencion
¥¥O Z
,
¥¥Z [
string
¥¥\ b
Busq
¥¥c g
)
¥¥g h
{
µµ 	

SqlCommand
∂∂ 
cmd
∂∂ 
=
∂∂ 
null
∂∂ !
;
∂∂! "
SqlConnection
∑∑ 
con
∑∑ 
=
∑∑ 
null
∑∑  $
;
∑∑$ %
SqlDataReader
∏∏ 
dr
∏∏ 
=
∏∏ 
null
∏∏ #
;
∏∏# $
List
ππ 
<
ππ 
PisoE
ππ 
>
ππ 
Lista
ππ 
=
ππ 
new
ππ  #
List
ππ$ (
<
ππ( )
PisoE
ππ) .
>
ππ. /
(
ππ/ 0
)
ππ0 1
;
ππ1 2
try
∫∫ 
{
ªª 
con
ºº 
=
ºº 
new
ºº 
SqlConnection
ºº '
(
ºº' (
VariablesGlobales
ºº( 9
.
ºº9 :

CnnClinica
ºº: D
)
ººD E
;
ººE F
cmd
ΩΩ 
=
ΩΩ 
new
ΩΩ 

SqlCommand
ΩΩ $
(
ΩΩ$ %
$str
ΩΩ% Q
,
ΩΩQ R
con
ΩΩS V
)
ΩΩV W
;
ΩΩW X
cmd
ææ 
.
ææ 
CommandType
ææ 
=
ææ  !
CommandType
ææ" -
.
ææ- .
StoredProcedure
ææ. =
;
ææ= >
cmd
øø 
.
øø 

Parameters
øø 
.
øø 
AddWithValue
øø +
(
øø+ ,
$str
øø, 4
,
øø4 5
order
øø6 ;
)
øø; <
;
øø< =
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ 
.
¿¿ 
AddWithValue
¿¿ +
(
¿¿+ ,
$str
¿¿, 6
,
¿¿6 7
n_fila
¿¿8 >
)
¿¿> ?
;
¿¿? @
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ 
.
¡¡ 
AddWithValue
¡¡ +
(
¡¡+ ,
$str
¡¡, ;
,
¡¡; <
codatencion
¡¡= H
)
¡¡H I
;
¡¡I J
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ 
.
¬¬ 
AddWithValue
¬¬ +
(
¬¬+ ,
$str
¬¬, 5
,
¬¬5 6
Busq
¬¬7 ;
)
¬¬; <
;
¬¬< =
con
√√ 
.
√√ 
Open
√√ 
(
√√ 
)
√√ 
;
√√ 
dr
ƒƒ 
=
ƒƒ 
cmd
ƒƒ 
.
ƒƒ 
ExecuteReader
ƒƒ &
(
ƒƒ& '
)
ƒƒ' (
;
ƒƒ( )
while
≈≈ 
(
≈≈ 
dr
≈≈ 
.
≈≈ 
Read
≈≈ 
(
≈≈ 
)
≈≈  
)
≈≈  !
{
∆∆ 
PisoE
«« 
_obj
«« 
=
««  
new
««! $
PisoE
««% *
(
««* +
)
««+ ,
;
««, -
_obj
»» 
.
»» 
NPiso
»» 
=
»»  
dr
»»! #
[
»»# $
$str
»»$ *
]
»»* +
.
»»+ ,
ToString
»», 4
(
»»4 5
)
»»5 6
;
»»6 7
_obj
…… 
.
…… 
PisoSeleccionado
…… )
=
……* +
dr
……, .
[
……. /
$str
……/ 9
]
……9 :
.
……: ;
ToString
……; C
(
……C D
)
……D E
;
……E F
Lista
   
.
   
Add
   
(
   
_obj
   "
)
  " #
;
  # $
}
ÀÀ 
return
ÃÃ 
Lista
ÃÃ 
;
ÃÃ 
dr
ÕÕ 
.
ÕÕ 
Close
ÕÕ 
(
ÕÕ 
)
ÕÕ 
;
ÕÕ 
cmd
ŒŒ 
.
ŒŒ 
Dispose
ŒŒ 
(
ŒŒ 
)
ŒŒ 
;
ŒŒ 
}
œœ 
catch
–– 
(
–– 
	Exception
–– 
)
–– 
{
—— 
throw
““ 
;
““ 
}
”” 
finally
‘‘ 
{
’’ 
con
÷÷ 
.
÷÷ 
Close
÷÷ 
(
÷÷ 
)
÷÷ 
;
÷÷ 
con
◊◊ 
.
◊◊ 
Dispose
◊◊ 
(
◊◊ 
)
◊◊ 
;
◊◊ 
}
ÿÿ 
}
ŸŸ 	
public
‹‹ 
RespuestaJsonE
‹‹ 9
+Registrar_Kardex_datosHospitalario_Paciente
‹‹ I
(
‹‹I J!
KardexHospitalarioE
‹‹J ]
_obj
‹‹^ b
)
‹‹b c
{
›› 	
RespuestaJsonE
ﬁﬁ 

_respuesta
ﬁﬁ %
=
ﬁﬁ& '
new
ﬁﬁ( +
RespuestaJsonE
ﬁﬁ, :
(
ﬁﬁ: ;
)
ﬁﬁ; <
;
ﬁﬁ< =

SqlCommand
ﬂﬂ 
cmd
ﬂﬂ 
=
ﬂﬂ 
null
ﬂﬂ !
;
ﬂﬂ! "
SqlConnection
‡‡ 
con
‡‡ 
=
‡‡ 
null
‡‡  $
;
‡‡$ %
SqlDataReader
·· 
dr
·· 
=
·· 
null
·· #
;
··# $
try
‚‚ 
{
‚‚ 
con
„„ 
=
„„ 
new
„„ 
SqlConnection
„„ '
(
„„' (
VariablesGlobales
„„( 9
.
„„9 :

CnnClinica
„„: D
)
„„D E
;
„„E F
cmd
‰‰ 
=
‰‰ 
new
‰‰ 

SqlCommand
‰‰ $
(
‰‰$ %
$str
‰‰% O
,
‰‰O P
con
‰‰Q T
)
‰‰T U
;
‰‰U V
cmd
ÂÂ 
.
ÂÂ 
CommandType
ÂÂ 
=
ÂÂ  !
CommandType
ÂÂ" -
.
ÂÂ- .
StoredProcedure
ÂÂ. =
;
ÂÂ= >
cmd
ÊÊ 
.
ÊÊ 

Parameters
ÊÊ 
.
ÊÊ 
AddWithValue
ÊÊ +
(
ÊÊ+ ,
$str
ÊÊ, E
,
ÊÊE F
_obj
ÊÊG K
.
ÊÊK L$
ide_kardexhospitalario
ÊÊL b
)
ÊÊb c
;
ÊÊc d
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ 
.
ÁÁ 
AddWithValue
ÁÁ +
(
ÁÁ+ ,
$str
ÁÁ, :
,
ÁÁ: ;
_obj
ÁÁ< @
.
ÁÁ@ A
codatencion
ÁÁA L
)
ÁÁL M
;
ÁÁM N
cmd
ËË 
.
ËË 

Parameters
ËË 
.
ËË 
AddWithValue
ËË +
(
ËË+ ,
$str
ËË, :
,
ËË: ;
_obj
ËË< @
.
ËË@ A
codpaciente
ËËA L
)
ËËL M
;
ËËM N
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ 
.
ÈÈ 
AddWithValue
ÈÈ +
(
ÈÈ+ ,
$str
ÈÈ, 3
,
ÈÈ3 4
_obj
ÈÈ5 9
.
ÈÈ9 :
peso
ÈÈ: >
)
ÈÈ> ?
;
ÈÈ? @
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ 
.
ÍÍ 
AddWithValue
ÍÍ +
(
ÍÍ+ ,
$str
ÍÍ, ;
,
ÍÍ; <
_obj
ÍÍ= A
.
ÍÍA B
usr_registra
ÍÍB N
)
ÍÍN O
;
ÍÍO P
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ 
.
ÎÎ 
AddWithValue
ÎÎ +
(
ÎÎ+ ,
$str
ÎÎ, 5
,
ÎÎ5 6
_obj
ÎÎ7 ;
.
ÎÎ; <
estado
ÎÎ< B
)
ÎÎB C
;
ÎÎC D
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ 
.
ÏÏ 
AddWithValue
ÏÏ +
(
ÏÏ+ ,
$str
ÏÏ, 8
,
ÏÏ8 9
_obj
ÏÏ: >
.
ÏÏ> ?
	eliminado
ÏÏ? H
)
ÏÏH I
;
ÏÏI J
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ 
.
ÌÌ 
AddWithValue
ÌÌ +
(
ÌÌ+ ,
$str
ÌÌ, 4
,
ÌÌ4 5
_obj
ÌÌ6 :
.
ÌÌ: ;
order
ÌÌ; @
)
ÌÌ@ A
;
ÌÌA B
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ 
.
ÓÓ 
AddWithValue
ÓÓ +
(
ÓÓ+ ,
$str
ÓÓ, 4
,
ÓÓ4 5
$num
ÓÓ6 7
)
ÓÓ7 8
;
ÓÓ8 9
cmd
ÔÔ 
.
ÔÔ 

Parameters
ÔÔ 
.
ÔÔ 
AddWithValue
ÔÔ +
(
ÔÔ+ ,
$str
ÔÔ, 5
,
ÔÔ5 6
$num
ÔÔ7 8
)
ÔÔ8 9
;
ÔÔ9 :
cmd
 
.
 

Parameters
 
.
 
AddWithValue
 +
(
+ ,
$str
, 9
,
9 :
$str
; =
)
= >
;
> ?
cmd
ÒÒ 
.
ÒÒ 

Parameters
ÒÒ 
.
ÒÒ 
AddWithValue
ÒÒ +
(
ÒÒ+ ,
$str
ÒÒ, A
,
ÒÒA B
$num
ÒÒC D
)
ÒÒD E
;
ÒÒE F
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ 
.
ÚÚ 
Add
ÚÚ "
(
ÚÚ" #
$str
ÚÚ# ,
,
ÚÚ, -
	SqlDbType
ÚÚ. 7
.
ÚÚ7 8
Int
ÚÚ8 ;
,
ÚÚ; <
$num
ÚÚ= >
)
ÚÚ> ?
.
ÚÚ? @
	Direction
ÚÚ@ I
=
ÚÚJ K 
ParameterDirection
ÚÚL ^
.
ÚÚ^ _
Output
ÚÚ_ e
;
ÚÚe f
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ 
.
ÛÛ 
Add
ÛÛ "
(
ÛÛ" #
$str
ÛÛ# -
,
ÛÛ- .
	SqlDbType
ÛÛ/ 8
.
ÛÛ8 9
VarChar
ÛÛ9 @
,
ÛÛ@ A
$num
ÛÛB E
)
ÛÛE F
.
ÛÛF G
	Direction
ÛÛG P
=
ÛÛQ R 
ParameterDirection
ÛÛS e
.
ÛÛe f
Output
ÛÛf l
;
ÛÛl m
con
ˆˆ 
.
ˆˆ 
Open
ˆˆ 
(
ˆˆ 
)
ˆˆ 
;
ˆˆ 
dr
˜˜ 
=
˜˜ 
cmd
˜˜ 
.
˜˜ 
ExecuteReader
˜˜ &
(
˜˜& '
)
˜˜' (
;
˜˜( )
int
¯¯ 
_status
¯¯ 
=
¯¯ 
int
¯¯ !
.
¯¯! "
Parse
¯¯" '
(
¯¯' (
cmd
¯¯( +
.
¯¯+ ,

Parameters
¯¯, 6
[
¯¯6 7
$str
¯¯7 @
]
¯¯@ A
.
¯¯A B
Value
¯¯B G
.
¯¯G H
ToString
¯¯H P
(
¯¯P Q
)
¯¯Q R
)
¯¯R S
;
¯¯S T
if
˘˘ 
(
˘˘ 
_status
˘˘ 
==
˘˘ 
$num
˘˘  
)
˘˘  !
{
˙˙ 

_respuesta
˚˚ 
.
˚˚ 
exito
˚˚ $
=
˚˚% &
true
˚˚' +
;
˚˚+ ,

_respuesta
¸¸ 
.
¸¸ 
message
¸¸ &
=
¸¸' (
cmd
¸¸) ,
.
¸¸, -

Parameters
¸¸- 7
[
¸¸7 8
$str
¸¸8 B
]
¸¸B C
.
¸¸C D
Value
¸¸D I
.
¸¸I J
ToString
¸¸J R
(
¸¸R S
)
¸¸S T
;
¸¸T U
}
˝˝ 
else
˛˛ 
{
ˇˇ 

_respuesta
ÄÄ 
.
ÄÄ 
exito
ÄÄ $
=
ÄÄ% &
false
ÄÄ' ,
;
ÄÄ, -

_respuesta
ÅÅ 
.
ÅÅ 
message
ÅÅ &
=
ÅÅ' (
cmd
ÅÅ) ,
.
ÅÅ, -

Parameters
ÅÅ- 7
[
ÅÅ7 8
$str
ÅÅ8 B
]
ÅÅB C
.
ÅÅC D
Value
ÅÅD I
.
ÅÅI J
ToString
ÅÅJ R
(
ÅÅR S
)
ÅÅS T
;
ÅÅT U
}
ÇÇ 
}
ÉÉ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ 
ex
ÑÑ 
)
ÑÑ  
{
ÖÖ 

_respuesta
áá 
.
áá 
exito
áá  
=
áá! "
false
áá# (
;
áá( )

_respuesta
àà 
.
àà 
message
àà "
=
àà# $
ex
àà% '
.
àà' (
Message
àà( /
;
àà/ 0
}
ââ 
finally
ää 
{
ãã 
con
åå 
.
åå 
Close
åå 
(
åå 
)
åå 
;
åå 
}
çç 
return
èè 

_respuesta
èè 
;
èè 
}
êê 	
public
îî 
RespuestaJsonE
îî 9
+Registrar_kardex_datosHospitalarios_Detalle
îî I
(
îîI J"
IndicacionesMedicasE
îîJ ^
_obj
îî_ c
)
îîc d
{
ïï 	
RespuestaJsonE
ññ 

_respuesta
ññ %
=
ññ& '
new
ññ( +
RespuestaJsonE
ññ, :
(
ññ: ;
)
ññ; <
;
ññ< =

SqlCommand
óó 
cmd
óó 
=
óó 
null
óó !
;
óó! "
SqlConnection
òò 
con
òò 
=
òò 
null
òò  $
;
òò$ %
SqlDataReader
ôô 
dr
ôô 
=
ôô 
null
ôô #
;
ôô# $
try
öö 
{
õõ 
con
úú 
=
úú 
new
úú 
SqlConnection
úú '
(
úú' (
VariablesGlobales
úú( 9
.
úú9 :

CnnClinica
úú: D
)
úúD E
;
úúE F
cmd
ùù 
=
ùù 
new
ùù 

SqlCommand
ùù $
(
ùù$ %
$str
ùù% O
,
ùùO P
con
ùùQ T
)
ùùT U
;
ùùU V
cmd
ûû 
.
ûû 
CommandType
ûû 
=
ûû  !
CommandType
ûû" -
.
ûû- .
StoredProcedure
ûû. =
;
ûû= >
cmd
üü 
.
üü 

Parameters
üü 
.
üü 
AddWithValue
üü +
(
üü+ ,
$str
üü, E
,
üüE F
_obj
üüG K
.
üüK L$
ide_KardexHospitalario
üüL b
)
üüb c
;
üüc d
cmd
†† 
.
†† 

Parameters
†† 
.
†† 
AddWithValue
†† +
(
††+ ,
$str
††, :
,
††: ;
_obj
††< @
.
††@ A
cod_atencion
††A M
)
††M N
;
††N O
cmd
°° 
.
°° 

Parameters
°° 
.
°° 
AddWithValue
°° +
(
°°+ ,
$str
°°, :
,
°°: ;
_obj
°°< @
.
°°@ A
horaAtencion
°°A M
)
°°M N
;
°°N O
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ 
.
¢¢ 
AddWithValue
¢¢ +
(
¢¢+ ,
$str
¢¢, 3
,
¢¢3 4
_obj
¢¢5 9
.
¢¢9 :
i_horasugerida
¢¢: H
)
¢¢H I
;
¢¢I J
cmd
££ 
.
££ 

Parameters
££ 
.
££ 
AddWithValue
££ +
(
££+ ,
$str
££, ;
,
££; <
_obj
££= A
.
££A B
UserRegistro
££B N
)
££N O
;
££O P
cmd
§§ 
.
§§ 

Parameters
§§ 
.
§§ 
AddWithValue
§§ +
(
§§+ ,
$str
§§, 5
,
§§5 6
$str
§§7 :
)
§§: ;
;
§§; <
cmd
•• 
.
•• 

Parameters
•• 
.
•• 
AddWithValue
•• +
(
••+ ,
$str
••, 8
,
••8 9
$str
••: =
)
••= >
;
••> ?
cmd
¶¶ 
.
¶¶ 

Parameters
¶¶ 
.
¶¶ 
AddWithValue
¶¶ +
(
¶¶+ ,
$str
¶¶, 4
,
¶¶4 5
$num
¶¶6 7
)
¶¶7 8
;
¶¶8 9
cmd
ßß 
.
ßß 

Parameters
ßß 
.
ßß 
AddWithValue
ßß +
(
ßß+ ,
$str
ßß, 4
,
ßß4 5
_obj
ßß6 :
.
ßß: ;
HoraSecundaria
ßß; I
)
ßßI J
;
ßßJ K
cmd
®® 
.
®® 

Parameters
®® 
.
®® 
AddWithValue
®® +
(
®®+ ,
$str
®®, 5
,
®®5 6
_obj
®®7 ;
.
®®; <
IdTipo
®®< B
)
®®B C
;
®®C D
cmd
©© 
.
©© 

Parameters
©© 
.
©© 
AddWithValue
©© +
(
©©+ ,
$str
©©, 9
,
©©9 :
_obj
©©; ?
.
©©? @

NombreTipo
©©@ J
)
©©J K
;
©©K L
cmd
™™ 
.
™™ 

Parameters
™™ 
.
™™ 
AddWithValue
™™ +
(
™™+ ,
$str
™™, A
,
™™A B
_obj
™™C G
.
™™G H 
ide_medicamentorec
™™H Z
)
™™Z [
;
™™[ \
cmd
´´ 
.
´´ 

Parameters
´´ 
.
´´ 
Add
´´ "
(
´´" #
$str
´´# ,
,
´´, -
	SqlDbType
´´. 7
.
´´7 8
Int
´´8 ;
,
´´; <
$num
´´= >
)
´´> ?
.
´´? @
	Direction
´´@ I
=
´´J K 
ParameterDirection
´´L ^
.
´´^ _
Output
´´_ e
;
´´e f
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ 
.
¨¨ 
Add
¨¨ "
(
¨¨" #
$str
¨¨# -
,
¨¨- .
	SqlDbType
¨¨/ 8
.
¨¨8 9
VarChar
¨¨9 @
,
¨¨@ A
$num
¨¨B E
)
¨¨E F
.
¨¨F G
	Direction
¨¨G P
=
¨¨Q R 
ParameterDirection
¨¨S e
.
¨¨e f
Output
¨¨f l
;
¨¨l m
con
ØØ 
.
ØØ 
Open
ØØ 
(
ØØ 
)
ØØ 
;
ØØ 
dr
∞∞ 
=
∞∞ 
cmd
∞∞ 
.
∞∞ 
ExecuteReader
∞∞ &
(
∞∞& '
)
∞∞' (
;
∞∞( )
int
±± 
_status
±± 
=
±± 
int
±± !
.
±±! "
Parse
±±" '
(
±±' (
cmd
±±( +
.
±±+ ,

Parameters
±±, 6
[
±±6 7
$str
±±7 @
]
±±@ A
.
±±A B
Value
±±B G
.
±±G H
ToString
±±H P
(
±±P Q
)
±±Q R
)
±±R S
;
±±S T
if
≤≤ 
(
≤≤ 
_status
≤≤ 
==
≤≤ 
$num
≤≤  
)
≤≤  !
{
≥≥ 

_respuesta
¥¥ 
.
¥¥ 
exito
¥¥ $
=
¥¥% &
true
¥¥' +
;
¥¥+ ,

_respuesta
µµ 
.
µµ 
message
µµ &
=
µµ' (
cmd
µµ) ,
.
µµ, -

Parameters
µµ- 7
[
µµ7 8
$str
µµ8 B
]
µµB C
.
µµC D
Value
µµD I
.
µµI J
ToString
µµJ R
(
µµR S
)
µµS T
;
µµT U
}
∂∂ 
else
∑∑ 
{
∏∏ 

_respuesta
ππ 
.
ππ 
exito
ππ $
=
ππ% &
false
ππ' ,
;
ππ, -

_respuesta
∫∫ 
.
∫∫ 
message
∫∫ &
=
∫∫' (
cmd
∫∫) ,
.
∫∫, -

Parameters
∫∫- 7
[
∫∫7 8
$str
∫∫8 B
]
∫∫B C
.
∫∫C D
Value
∫∫D I
.
∫∫I J
ToString
∫∫J R
(
∫∫R S
)
∫∫S T
;
∫∫T U
}
ªª 
}
ºº 
catch
ΩΩ 
(
ΩΩ 
	Exception
ΩΩ 
ex
ΩΩ 
)
ΩΩ  
{
ææ 

_respuesta
¿¿ 
.
¿¿ 
exito
¿¿  
=
¿¿! "
false
¿¿# (
;
¿¿( )

_respuesta
¡¡ 
.
¡¡ 
message
¡¡ "
=
¡¡# $
ex
¡¡% '
.
¡¡' (
Message
¡¡( /
;
¡¡/ 0
}
¬¬ 
finally
√√ 
{
ƒƒ 
con
≈≈ 
.
≈≈ 
Close
≈≈ 
(
≈≈ 
)
≈≈ 
;
≈≈ 
}
∆∆ 
return
»» 

_respuesta
»» 
;
»» 
}
…… 	
public
ÀÀ 
RespuestaJsonE
ÀÀ +
Registrar_UsuarioPisoAtencion
ÀÀ ;
(
ÀÀ; <
PisoE
ÀÀ< A
_obj
ÀÀB F
)
ÀÀF G
{
ÃÃ 	
RespuestaJsonE
ÕÕ 

_respuesta
ÕÕ %
=
ÕÕ& '
new
ÕÕ( +
RespuestaJsonE
ÕÕ, :
(
ÕÕ: ;
)
ÕÕ; <
;
ÕÕ< =

SqlCommand
ŒŒ 
cmd
ŒŒ 
=
ŒŒ 
null
ŒŒ !
;
ŒŒ! "
SqlConnection
œœ 
con
œœ 
=
œœ 
null
œœ  $
;
œœ$ %
SqlDataReader
–– 
dr
–– 
=
–– 
null
–– #
;
––# $
try
—— 
{
““ 
con
”” 
=
”” 
new
”” 
SqlConnection
”” '
(
””' (
VariablesGlobales
””( 9
.
””9 :

CnnClinica
””: D
)
””D E
;
””E F
cmd
‘‘ 
=
‘‘ 
new
‘‘ 

SqlCommand
‘‘ $
(
‘‘$ %
$str
‘‘% O
,
‘‘O P
con
‘‘Q T
)
‘‘T U
;
‘‘U V
cmd
’’ 
.
’’ 
CommandType
’’ 
=
’’  !
CommandType
’’" -
.
’’- .
StoredProcedure
’’. =
;
’’= >
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ 
.
÷÷ 
AddWithValue
÷÷ +
(
÷÷+ ,
$str
÷÷, E
,
÷÷E F
$num
÷÷G H
)
÷÷H I
;
÷÷I J
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ 
.
◊◊ 
AddWithValue
◊◊ +
(
◊◊+ ,
$str
◊◊, :
,
◊◊: ;
$str
◊◊< >
)
◊◊> ?
;
◊◊? @
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ 
.
ÿÿ 
AddWithValue
ÿÿ +
(
ÿÿ+ ,
$str
ÿÿ, :
,
ÿÿ: ;
$str
ÿÿ< >
)
ÿÿ> ?
;
ÿÿ? @
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ 
.
ŸŸ 
AddWithValue
ŸŸ +
(
ŸŸ+ ,
$str
ŸŸ, 3
,
ŸŸ3 4
$num
ŸŸ5 7
)
ŸŸ7 8
;
ŸŸ8 9
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ 
.
⁄⁄ 
AddWithValue
⁄⁄ +
(
⁄⁄+ ,
$str
⁄⁄, ;
,
⁄⁄; <
_obj
⁄⁄= A
.
⁄⁄A B
NPiso
⁄⁄B G
)
⁄⁄G H
;
⁄⁄H I
cmd
€€ 
.
€€ 

Parameters
€€ 
.
€€ 
AddWithValue
€€ +
(
€€+ ,
$str
€€, 5
,
€€5 6
$str
€€7 :
)
€€: ;
;
€€; <
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ 
.
‹‹ 
AddWithValue
‹‹ +
(
‹‹+ ,
$str
‹‹, 8
,
‹‹8 9
$str
‹‹: =
)
‹‹= >
;
‹‹> ?
cmd
›› 
.
›› 

Parameters
›› 
.
›› 
AddWithValue
›› +
(
››+ ,
$str
››, 4
,
››4 5
$num
››6 7
)
››7 8
;
››8 9
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ 
.
ﬁﬁ 
AddWithValue
ﬁﬁ +
(
ﬁﬁ+ ,
$str
ﬁﬁ, 4
,
ﬁﬁ4 5
$num
ﬁﬁ6 7
)
ﬁﬁ7 8
;
ﬁﬁ8 9
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ 
.
ﬂﬂ 
AddWithValue
ﬂﬂ +
(
ﬂﬂ+ ,
$str
ﬂﬂ, 5
,
ﬂﬂ5 6
$num
ﬂﬂ7 8
)
ﬂﬂ8 9
;
ﬂﬂ9 :
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ 
.
‡‡ 
AddWithValue
‡‡ +
(
‡‡+ ,
$str
‡‡, 9
,
‡‡9 :
_obj
‡‡; ?
.
‡‡? @
PisoSeleccionado
‡‡@ P
)
‡‡P Q
;
‡‡Q R
cmd
·· 
.
·· 

Parameters
·· 
.
·· 
AddWithValue
·· +
(
··+ ,
$str
··, A
,
··A B
$num
··C D
)
··D E
;
··E F
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ 
.
‚‚ 
Add
‚‚ "
(
‚‚" #
$str
‚‚# ,
,
‚‚, -
	SqlDbType
‚‚. 7
.
‚‚7 8
Int
‚‚8 ;
,
‚‚; <
$num
‚‚= >
)
‚‚> ?
.
‚‚? @
	Direction
‚‚@ I
=
‚‚J K 
ParameterDirection
‚‚L ^
.
‚‚^ _
Output
‚‚_ e
;
‚‚e f
cmd
„„ 
.
„„ 

Parameters
„„ 
.
„„ 
Add
„„ "
(
„„" #
$str
„„# -
,
„„- .
	SqlDbType
„„/ 8
.
„„8 9
VarChar
„„9 @
,
„„@ A
$num
„„B E
)
„„E F
.
„„F G
	Direction
„„G P
=
„„Q R 
ParameterDirection
„„S e
.
„„e f
Output
„„f l
;
„„l m
con
ÊÊ 
.
ÊÊ 
Open
ÊÊ 
(
ÊÊ 
)
ÊÊ 
;
ÊÊ 
dr
ÁÁ 
=
ÁÁ 
cmd
ÁÁ 
.
ÁÁ 
ExecuteReader
ÁÁ &
(
ÁÁ& '
)
ÁÁ' (
;
ÁÁ( )
int
ËË 
_status
ËË 
=
ËË 
int
ËË !
.
ËË! "
Parse
ËË" '
(
ËË' (
cmd
ËË( +
.
ËË+ ,

Parameters
ËË, 6
[
ËË6 7
$str
ËË7 @
]
ËË@ A
.
ËËA B
Value
ËËB G
.
ËËG H
ToString
ËËH P
(
ËËP Q
)
ËËQ R
)
ËËR S
;
ËËS T
if
ÈÈ 
(
ÈÈ 
_status
ÈÈ 
==
ÈÈ 
$num
ÈÈ  
)
ÈÈ  !
{
ÍÍ 

_respuesta
ÎÎ 
.
ÎÎ 
exito
ÎÎ $
=
ÎÎ% &
true
ÎÎ' +
;
ÎÎ+ ,

_respuesta
ÏÏ 
.
ÏÏ 
message
ÏÏ &
=
ÏÏ' (
cmd
ÏÏ) ,
.
ÏÏ, -

Parameters
ÏÏ- 7
[
ÏÏ7 8
$str
ÏÏ8 B
]
ÏÏB C
.
ÏÏC D
Value
ÏÏD I
.
ÏÏI J
ToString
ÏÏJ R
(
ÏÏR S
)
ÏÏS T
;
ÏÏT U
}
ÌÌ 
else
ÓÓ 
{
ÔÔ 

_respuesta
 
.
 
exito
 $
=
% &
false
' ,
;
, -

_respuesta
ÒÒ 
.
ÒÒ 
message
ÒÒ &
=
ÒÒ' (
cmd
ÒÒ) ,
.
ÒÒ, -

Parameters
ÒÒ- 7
[
ÒÒ7 8
$str
ÒÒ8 B
]
ÒÒB C
.
ÒÒC D
Value
ÒÒD I
.
ÒÒI J
ToString
ÒÒJ R
(
ÒÒR S
)
ÒÒS T
;
ÒÒT U
}
ÚÚ 
}
ÛÛ 
catch
ÙÙ 
(
ÙÙ 
	Exception
ÙÙ 
ex
ÙÙ 
)
ÙÙ  
{
ıı 

_respuesta
˜˜ 
.
˜˜ 
exito
˜˜  
=
˜˜! "
false
˜˜# (
;
˜˜( )

_respuesta
¯¯ 
.
¯¯ 
message
¯¯ "
=
¯¯# $
ex
¯¯% '
.
¯¯' (
Message
¯¯( /
;
¯¯/ 0
}
˘˘ 
finally
˙˙ 
{
˚˚ 
con
¸¸ 
.
¸¸ 
Close
¸¸ 
(
¸¸ 
)
¸¸ 
;
¸¸ 
}
˝˝ 
return
ˇˇ 

_respuesta
ˇˇ 
;
ˇˇ 
}
ÄÄ 	
public
ÇÇ 
bool
ÇÇ	 &
Sp_hospitalqr_Actualizar
ÇÇ &
(
ÇÇ& '
	HospitalE
ÇÇ' 0
.
ÇÇ0 1

HospitalQR
ÇÇ1 ;
pHospitalQR
ÇÇ< G
)
ÇÇG H
{
ÉÉ 
try
ÑÑ 
{
ÖÖ 
using
ÜÜ 	
(
ÜÜ
 
SqlConnection
ÜÜ 
cnn
ÜÜ 
=
ÜÜ 
new
ÜÜ "
SqlConnection
ÜÜ# 0
(
ÜÜ0 1
VariablesGlobales
ÜÜ1 B
.
ÜÜB C

CnnClinica
ÜÜC M
)
ÜÜM N
)
ÜÜN O
{
áá 
using
àà 

(
àà 

SqlCommand
àà 
cmd
àà 
=
àà 
new
àà  

SqlCommand
àà! +
(
àà+ ,
$str
àà, F
,
ààF G
cnn
ààH K
)
ààK L
)
ààL M
{
ââ 
cmd
ää 	
.
ää	 

CommandType
ää
 
=
ää 
CommandType
ää #
.
ää# $
StoredProcedure
ää$ 3
;
ää3 4
cmd
ãã 	
.
ãã	 


Parameters
ãã
 
.
ãã 
AddWithValue
ãã !
(
ãã! "
$str
ãã" 0
,
ãã0 1
pHospitalQR
ãã2 =
.
ãã= >
codatencion
ãã> I
)
ããI J
;
ããJ K
cmd
åå 	
.
åå	 


Parameters
åå
 
.
åå 
AddWithValue
åå !
(
åå! "
$str
åå" 2
,
åå2 3
pHospitalQR
åå4 ?
.
åå? @
dsc_nombre_qr
åå@ M
)
ååM N
;
ååN O
cnn
éé 	
.
éé	 

Open
éé
 
(
éé 
)
éé 
;
éé 
if
èè 
(
èè	 

cmd
èè
 
.
èè 
ExecuteNonQuery
èè 
(
èè 
)
èè 
>=
èè  "
$num
èè# $
)
èè$ %
{
êê 
return
íí 
true
íí 
;
íí 
}
ìì 
else
îî 

return
ïï 
false
ïï 
;
ïï 
cmd
óó 	
.
óó	 

Dispose
óó
 
(
óó 
)
óó 
;
óó 
cnn
òò 	
.
òò	 

Close
òò
 
(
òò 
)
òò 
;
òò 
cnn
ôô 	
.
ôô	 

Dispose
ôô
 
(
ôô 
)
ôô 
;
ôô 
}
öö 
}
õõ 
}
úú 
catch
ùù 
(
ùù	 

	Exception
ùù
 
ex
ùù 
)
ùù 
{
ûû 
throw
üü 	
new
üü
 
	Exception
üü 
(
üü 
ex
üü 
.
üü 
Message
üü "
)
üü" #
;
üü# $
}
†† 
}
°° 
}
¢¢ 
}££ Ø,
ZD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\HorariosD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 

HospitalAD

 &
{ 
public 

class 
	HorariosD 
{ 
public 
List 
< 
	HorariosE 
>  
Lista_Horario_Medico 3
(3 4
string4 :
cmp; >
)> ?
{ 	
List 
< 
	HorariosE 
> 
lista_Horario )
=* +
null, 0
;0 1

SqlCommand 
cmd 
= 
null !
;! "
SqlConnection 
con 
= 
null  $
;$ %
SqlDataReader 
dr 
= 
null #
;# $
try 
{ 
con 
= 
new 
SqlConnection '
(' (
VariablesGlobales( 9
.9 :

CnnClinica: D
)D E
;E F
cmd 
= 
new 

SqlCommand $
($ %
$str% O
,O P
conQ T
)T U
;U V
cmd 
. 
CommandType 
=  !
CommandType" -
.- .
StoredProcedure. =
;= >
cmd 
. 

Parameters 
. 
AddWithValue +
(+ ,
$str, 2
,2 3
cmp4 7
)7 8
;8 9
con 
. 
Open 
( 
) 
; 
dr 
= 
cmd 
. 
ExecuteReader &
(& '
)' (
;( )
lista_Horario 
= 
new  #
List$ (
<( )
	HorariosE) 2
>2 3
(3 4
)4 5
;5 6
while 
( 
dr 
. 
Read 
( 
)  
)  !
{ 
	HorariosE 
obj !
=" #
new$ '
	HorariosE( 1
(1 2
)2 3
;3 4
obj 
. 
IdSede 
=  
Convert! (
.( )
ToInt32) 0
(0 1
dr1 3
[3 4
$str4 <
]< =
.= >
ToString> F
(F G
)G H
)H I
;I J
obj   
.   
Sede   
=   
dr   !
[  ! "
$str  " (
]  ( )
.  ) *
ToString  * 2
(  2 3
)  3 4
;  4 5
obj!! 
.!! 
FechaInicio!! #
=!!$ %
Convert!!& -
.!!- .

ToDateTime!!. 8
(!!8 9
dr!!9 ;
[!!; <
$str!!< I
]!!I J
.!!J K
ToString!!K S
(!!S T
)!!T U
)!!U V
;!!V W
obj"" 
."" 
FechaFin""  
=""! "
Convert""# *
.""* +

ToDateTime""+ 5
(""5 6
dr""6 8
[""8 9
$str""9 C
]""C D
.""D E
ToString""E M
(""M N
)""N O
)""O P
;""P Q
obj## 
.## 
IdDia## 
=## 
Convert##  '
.##' (
ToInt32##( /
(##/ 0
dr##0 2
[##2 3
$str##3 :
]##: ;
.##; <
ToString##< D
(##D E
)##E F
)##F G
;##G H
obj$$ 
.$$ 
	NombreDia$$ !
=$$" #
dr$$$ &
[$$& '
$str$$' 2
]$$2 3
.$$3 4
ToString$$4 <
($$< =
)$$= >
;$$> ?
obj%% 
.%% 

HoraInicio%% "
=%%# $
dr%%% '
[%%' (
$str%%( 4
]%%4 5
.%%5 6
ToString%%6 >
(%%> ?
)%%? @
;%%@ A
obj&& 
.&& 
HoraFin&& 
=&&  !
dr&&" $
[&&$ %
$str&&% .
]&&. /
.&&/ 0
ToString&&0 8
(&&8 9
)&&9 :
;&&: ;
obj'' 
.'' 
Especialidad'' $
=''% &
dr''' )
['') *
$str''* 8
]''8 9
.''9 :
ToString'': B
(''B C
)''C D
;''D E
obj(( 
.(( 
Consultorio(( #
=(($ %
dr((& (
[((( )
$str(() 6
]((6 7
.((7 8
ToString((8 @
(((@ A
)((A B
;((B C
lista_Horario)) !
.))! "
Add))" %
())% &
obj))& )
)))) *
;))* +
}** 
}++ 
catch,, 
(,, 
	Exception,, 
ex,, 
),, 
{-- 
lista_Horario.. 
=.. 
new..  #
List..$ (
<..( )
	HorariosE..) 2
>..2 3
(..3 4
)..4 5
;..5 6
}// 
finally00 
{11 
con22 
.22 
Close22 
(22 
)22 
;22 
dr33 
.33 
Close33 
(33 
)33 
;33 
}55 
return66 
lista_Horario66  
;66  !
}88 	
}99 
}:: ƒÑ
fD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\EscalaEIndicacionesAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 

HospitalAD &
{ 
public 

class !
EscalaEIndicacionesAD '
{ 
public 
List 
<  
EscalaEIndicacionesE (
>( )&
Escala_e_indicaciones_List* D
(D E
intE H
orderI N
,N O
intP S
variableT \
,\ ]
string^ d
vale h
,h i
stringj p
val1q u
,u v
stringw }
val2	~ Ç
,
Ç É
string
Ñ ä
val3
ã è
)
è ê
{ 	

SqlCommand 
cmd 
= 
null !
;! "
SqlConnection 
con 
= 
null  $
;$ %
SqlDataReader 
dr 
= 
null #
;# $
List 
<  
EscalaEIndicacionesE %
>% &
Lista' ,
=- .
new/ 2
List3 7
<7 8 
EscalaEIndicacionesE8 L
>L M
(M N
)N O
;O P
try 
{ 
con 
= 
new 
SqlConnection '
(' (
VariablesGlobales( 9
.9 :

CnnClinica: D
)D E
;E F
cmd 
= 
new 

SqlCommand $
($ %
$str% B
,B C
conD G
)G H
;H I
cmd 
. 
CommandType 
=  !
CommandType" -
.- .
StoredProcedure. =
;= >
cmd 
. 

Parameters 
. 
AddWithValue +
(+ ,
$str, 4
,4 5
order6 ;
); <
;< =
cmd 
. 

Parameters 
. 
AddWithValue +
(+ ,
$str, 7
,7 8
variable9 A
)A B
;B C
cmd 
. 

Parameters 
. 
AddWithValue +
(+ ,
$str, 2
,2 3
val4 7
)7 8
;8 9
cmd 
. 

Parameters 
. 
AddWithValue +
(+ ,
$str, 3
,3 4
val15 9
)9 :
;: ;
cmd 
. 

Parameters 
. 
AddWithValue +
(+ ,
$str, 3
,3 4
val25 9
)9 :
;: ;
cmd 
. 

Parameters 
. 
AddWithValue +
(+ ,
$str, 3
,3 4
val35 9
)9 :
;: ;
con 
. 
Open 
( 
) 
; 
dr   
=   
cmd   
.   
ExecuteReader   &
(  & '
)  ' (
;  ( )
while!! 
(!! 
dr!! 
.!! 
Read!! 
(!! 
)!!  
)!!  !
{""  
EscalaEIndicacionesE## (
_obj##) -
=##. /
new##0 3 
EscalaEIndicacionesE##4 H
(##H I
)##I J
;##J K
_obj$$ 
.$$ 
groupcab$$ !
=$$" #
int$$$ '
.$$' (
Parse$$( -
($$- .
dr$$. 0
[$$0 1
$str$$1 ;
]$$; <
.$$< =
ToString$$= E
($$E F
)$$F G
)$$G H
;$$H I
_obj%% 
.%% 
dsc_detalle%% $
=%%% &
dr%%' )
[%%) *
$str%%* 7
]%%7 8
.%%8 9
ToString%%9 A
(%%A B
)%%B C
;%%C D
_obj&& 
.&& 
itemcab&&  
=&&! "
int&&# &
.&&& '
Parse&&' ,
(&&, -
dr&&- /
[&&/ 0
$str&&0 9
]&&9 :
.&&: ;
ToString&&; C
(&&C D
)&&D E
)&&E F
;&&F G
_obj'' 
.'' 
detalleitem'' $
=''% &
dr''' )
['') *
$str''* 7
]''7 8
.''8 9
ToString''9 A
(''A B
)''B C
;''C D
_obj(( 
.(( 
ide_escaladet(( &
=((' (
int(() ,
.((, -
Parse((- 2
(((2 3
dr((3 5
[((5 6
$str((6 E
]((E F
.((F G
ToString((G O
(((O P
)((P Q
)((Q R
;((R S
_obj)) 
.)) 
i_order))  
=))! "
int))# &
.))& '
Parse))' ,
()), -
dr))- /
[))/ 0
$str))0 9
]))9 :
.)): ;
ToString)); C
())C D
)))D E
)))E F
;))F G
_obj** 
.** 
descripcion_det** (
=**) *
dr**+ -
[**- .
$str**. ?
]**? @
.**@ A
ToString**A I
(**I J
)**J K
;**K L
_obj++ 
.++ 
descripcion_det2++ )
=++* +
dr++, .
[++. /
$str++/ A
]++A B
.++B C
ToString++C K
(++K L
)++L M
;++M N
_obj,, 
.,, 

puntuacion,, #
=,,$ %
int,,& )
.,,) *
Parse,,* /
(,,/ 0
dr,,0 2
[,,2 3
$str,,3 ?
],,? @
.,,@ A
ToString,,A I
(,,I J
),,J K
),,K L
;,,L M
_obj-- 
.-- 
	imagencab-- "
=--# $
dr--% '
[--' (
$str--( 3
]--3 4
.--4 5
ToString--5 =
(--= >
)--> ?
;--? @
_obj.. 
... 
	imagendet.. "
=..# $
dr..% '
[..' (
$str..( 3
]..3 4
...4 5
ToString..5 =
(..= >
)..> ?
;..? @
Lista// 
.// 
Add// 
(// 
_obj// "
)//" #
;//# $
}00 
return11 
Lista11 
;11 
}22 
catch33 
(33 
	Exception33 
ex33 
)33  
{44 
throw55 
;55 
}66 
finally77 
{77 
dr88 
.88 
Close88 
(88 
)88 
;88 
cmd99 
.99 
Dispose99 
(99 
)99 
;99 
con:: 
.:: 
Close:: 
(:: 
):: 
;:: 
con;; 
.;; 
Dispose;; 
(;; 
);; 
;;; 
}<< 
}== 	
public?? 
List?? 
<?? )
EscalaEIndicacionesActividadE?? 1
>??1 2-
!EscalaEIndicacionesActividad_List??3 T
(??T U
int??U X
order??Y ^
,??^ _
int??` c
variable??d l
,??l m
string??n t
val??u x
,??x y
string	??z Ä
val1
??Å Ö
,
??Ö Ü
string
??á ç
val2
??é í
,
??í ì
string
??î ö
val3
??õ ü
)
??ü †
{@@ 	

SqlCommandAA 
cmdAA 
=AA 
nullAA !
;AA! "
SqlConnectionBB 
conBB 
=BB 
nullBB  $
;BB$ %
SqlDataReaderCC 
drCC 
=CC 
nullCC #
;CC# $
ListDD 
<DD )
EscalaEIndicacionesActividadEDD .
>DD. /
ListaDD0 5
=DD6 7
newDD8 ;
ListDD< @
<DD@ A)
EscalaEIndicacionesActividadEDDA ^
>DD^ _
(DD_ `
)DD` a
;DDa b
tryEE 
{EE 
conFF 
=FF 
newFF 
SqlConnectionFF '
(FF' (
VariablesGlobalesFF( 9
.FF9 :

CnnClinicaFF: D
)FFD E
;FFE F
cmdGG 
=GG 
newGG 

SqlCommandGG $
(GG$ %
$strGG% B
,GGB C
conGGD G
)GGG H
;GGH I
cmdHH 
.HH 
CommandTypeHH 
=HH  !
CommandTypeHH" -
.HH- .
StoredProcedureHH. =
;HH= >
cmdII 
.II 

ParametersII 
.II 
AddWithValueII +
(II+ ,
$strII, 4
,II4 5
orderII6 ;
)II; <
;II< =
cmdJJ 
.JJ 

ParametersJJ 
.JJ 
AddWithValueJJ +
(JJ+ ,
$strJJ, 7
,JJ7 8
variableJJ9 A
)JJA B
;JJB C
cmdKK 
.KK 

ParametersKK 
.KK 
AddWithValueKK +
(KK+ ,
$strKK, 2
,KK2 3
valKK4 7
)KK7 8
;KK8 9
cmdLL 
.LL 

ParametersLL 
.LL 
AddWithValueLL +
(LL+ ,
$strLL, 3
,LL3 4
val1LL5 9
)LL9 :
;LL: ;
cmdMM 
.MM 

ParametersMM 
.MM 
AddWithValueMM +
(MM+ ,
$strMM, 3
,MM3 4
val2MM5 9
)MM9 :
;MM: ;
cmdNN 
.NN 

ParametersNN 
.NN 
AddWithValueNN +
(NN+ ,
$strNN, 3
,NN3 4
val3NN5 9
)NN9 :
;NN: ;
conOO 
.OO 
OpenOO 
(OO 
)OO 
;OO 
drPP 
=PP 
cmdPP 
.PP 
ExecuteReaderPP &
(PP& '
)PP' (
;PP( )
whileQQ 
(QQ 
drQQ 
.QQ 
ReadQQ 
(QQ 
)QQ  
)QQ  !
{QQ" #)
EscalaEIndicacionesActividadERR 1
objRR2 5
=RR6 7
newRR8 ;)
EscalaEIndicacionesActividadERR< Y
(RRY Z
)RRZ [
;RR[ \
objSS 
.SS 
ItemSS 
=SS 
ConvertSS &
.SS& '
ToInt32SS' .
(SS. /
drSS/ 1
[SS1 2
$strSS2 8
]SS8 9
.SS9 :
ToStringSS: B
(SSB C
)SSC D
)SSD E
;SSE F
objTT 
.TT 
CodigoTT 
=TT  
ConvertTT! (
.TT( )
ToInt32TT) 0
(TT0 1
drTT1 3
[TT3 4
$strTT4 <
]TT< =
.TT= >
ToStringTT> F
(TTF G
)TTG H
)TTH I
;TTI J
objUU 
.UU 
	ActividadUU !
=UU" #
drUU$ &
[UU& '
$strUU' 2
]UU2 3
.UU3 4
ToStringUU4 <
(UU< =
)UU= >
;UU> ?
objVV 
.VV 
DetalleVV 
=VV  !
drVV" $
[VV$ %
$strVV% .
]VV. /
.VV/ 0
ToStringVV0 8
(VV8 9
)VV9 :
;VV: ;
objWW 
.WW 
CkeckWW 
=WW 
falseWW  %
;WW% &
ListaXX 
.XX 
AddXX 
(XX 
objXX !
)XX! "
;XX" #
}YY 
returnZZ 
ListaZZ 
;ZZ 
}[[ 
catch\\ 
(\\ 
	Exception\\ 
ex\\ 
)\\  
{\\! "
throw\\# (
ex\\) +
;\\+ ,
}\\- .
finally]] 
{^^ 
dr__ 
.__ 
Close__ 
(__ 
)__ 
;__ 
cmd`` 
.`` 
Dispose`` 
(`` 
)`` 
;`` 
conaa 
.aa 
Closeaa 
(aa 
)aa 
;aa 
conbb 
.bb 
Disposebb 
(bb 
)bb 
;bb 
}cc 
}dd 	
publicff 
RespuestaJsonEff *
EscalaEintervenciones_Registerff <
(ff< =
PuntuacionEscalaEff= N
objffO R
)ffR S
{gg 	
RespuestaJsonEhh 

_respuestahh %
=hh& '
newhh( +
RespuestaJsonEhh, :
(hh: ;
)hh; <
;hh< =

SqlCommandii 
cmdii 
=ii 
nullii !
;ii! "
SqlConnectionjj 
conjj 
=jj 
nulljj  $
;jj$ %
SqlDataReaderkk 
drkk 
=kk 
nullkk #
;kk# $
tryll 
{mm 
connn 
=nn 
newnn 
SqlConnectionnn '
(nn' (
VariablesGlobalesnn( 9
.nn9 :

CnnClinicann: D
)nnD E
;nnE F
cmdoo 
=oo 
newoo 

SqlCommandoo $
(oo$ %
$stroo% F
,ooF G
conooH K
)ooK L
;ooL M
cmdpp 
.pp 
CommandTypepp 
=pp  !
CommandTypepp" -
.pp- .
StoredProcedurepp. =
;pp= >
cmdqq 
.qq 

Parametersqq 
.qq 
AddWithValueqq +
(qq+ ,
$strqq, 3
,qq3 4
objqq5 8
.qq8 9
Tipoqq9 =
)qq= >
;qq> ?
cmdrr 
.rr 

Parametersrr 
.rr 
AddWithValuerr +
(rr+ ,
$strrr, 7
,rr7 8
objrr9 <
.rr< =
Puntaje1rr= E
)rrE F
;rrF G
cmdss 
.ss 

Parametersss 
.ss 
AddWithValuess +
(ss+ ,
$strss, 7
,ss7 8
objss9 <
.ss< =
Puntaje2ss= E
)ssE F
;ssF G
cmdtt 
.tt 

Parameterstt 
.tt 
AddWithValuett +
(tt+ ,
$strtt, 7
,tt7 8
objtt9 <
.tt< =
Puntaje3tt= E
)ttE F
;ttF G
cmduu 
.uu 

Parametersuu 
.uu 
AddWithValueuu +
(uu+ ,
$struu, 7
,uu7 8
objuu9 <
.uu< =
Puntaje4uu= E
)uuE F
;uuF G
cmdvv 
.vv 

Parametersvv 
.vv 
AddWithValuevv +
(vv+ ,
$strvv, 7
,vv7 8
objvv9 <
.vv< =
Puntaje5vv= E
)vvE F
;vvF G
cmdww 
.ww 

Parametersww 
.ww 
AddWithValueww +
(ww+ ,
$strww, 7
,ww7 8
objww9 <
.ww< =
Puntaje6ww= E
)wwE F
;wwF G
cmdxx 
.xx 

Parametersxx 
.xx 
AddWithValuexx +
(xx+ ,
$strxx, 7
,xx7 8
objxx9 <
.xx< =
Puntaje7xx= E
)xxE F
;xxF G
cmdyy 
.yy 

Parametersyy 
.yy 
AddWithValueyy +
(yy+ ,
$stryy, 4
,yy4 5
objyy6 9
.yy9 :
Totalyy: ?
)yy? @
;yy@ A
cmdzz 
.zz 

Parameterszz 
.zz 
AddWithValuezz +
(zz+ ,
$strzz, 6
,zz6 7
objzz8 ;
.zz; <
NomUserzz< C
)zzC D
;zzD E
cmd{{ 
.{{ 

Parameters{{ 
.{{ 
AddWithValue{{ +
({{+ ,
$str{{, 6
,{{6 7
obj{{8 ;
.{{; <
CodUser{{< C
){{C D
;{{D E
cmd|| 
.|| 

Parameters|| 
.|| 
AddWithValue|| +
(||+ ,
$str||, 5
,||5 6
obj||7 :
.||: ;
Perfil||; A
)||A B
;||B C
cmd}} 
.}} 

Parameters}} 
.}} 
AddWithValue}} +
(}}+ ,
$str}}, 8
,}}8 9
obj}}: =
.}}= >
	CodMedico}}> G
)}}G H
;}}H I
cmd~~ 
.~~ 

Parameters~~ 
.~~ 
AddWithValue~~ +
(~~+ ,
$str~~, =
,~~= >
obj~~? B
.~~B C
CodigoAtencion~~C Q
)~~Q R
;~~R S
cmd 
. 

Parameters 
. 
AddWithValue +
(+ ,
$str, :
,: ;
obj< ?
.? @
IdeHistoria@ K
)K L
;L M
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ 
.
ÄÄ 
AddWithValue
ÄÄ +
(
ÄÄ+ ,
$str
ÄÄ, :
,
ÄÄ: ;
obj
ÄÄ< ?
.
ÄÄ? @
CodPaciente
ÄÄ@ K
)
ÄÄK L
;
ÄÄL M
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ 
.
ÅÅ 
AddWithValue
ÅÅ +
(
ÅÅ+ ,
$str
ÅÅ, 4
,
ÅÅ4 5
obj
ÅÅ6 9
.
ÅÅ9 :
Valor
ÅÅ: ?
)
ÅÅ? @
;
ÅÅ@ A
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ 
.
ÇÇ 
Add
ÇÇ "
(
ÇÇ" #
$str
ÇÇ# ,
,
ÇÇ, -
	SqlDbType
ÇÇ. 7
.
ÇÇ7 8
Int
ÇÇ8 ;
,
ÇÇ; <
$num
ÇÇ= >
)
ÇÇ> ?
.
ÇÇ? @
	Direction
ÇÇ@ I
=
ÇÇJ K 
ParameterDirection
ÇÇL ^
.
ÇÇ^ _
Output
ÇÇ_ e
;
ÇÇe f
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ 
.
ÉÉ 
Add
ÉÉ "
(
ÉÉ" #
$str
ÉÉ# -
,
ÉÉ- .
	SqlDbType
ÉÉ/ 8
.
ÉÉ8 9
VarChar
ÉÉ9 @
,
ÉÉ@ A
$num
ÉÉB E
)
ÉÉE F
.
ÉÉF G
	Direction
ÉÉG P
=
ÉÉQ R 
ParameterDirection
ÉÉS e
.
ÉÉe f
Output
ÉÉf l
;
ÉÉl m
con
ÑÑ 
.
ÑÑ 
Open
ÑÑ 
(
ÑÑ 
)
ÑÑ 
;
ÑÑ 
dr
ÖÖ 
=
ÖÖ 
cmd
ÖÖ 
.
ÖÖ 
ExecuteReader
ÖÖ &
(
ÖÖ& '
)
ÖÖ' (
;
ÖÖ( )
int
ÜÜ 
_status
ÜÜ 
=
ÜÜ 
int
ÜÜ !
.
ÜÜ! "
Parse
ÜÜ" '
(
ÜÜ' (
cmd
ÜÜ( +
.
ÜÜ+ ,

Parameters
ÜÜ, 6
[
ÜÜ6 7
$str
ÜÜ7 @
]
ÜÜ@ A
.
ÜÜA B
Value
ÜÜB G
.
ÜÜG H
ToString
ÜÜH P
(
ÜÜP Q
)
ÜÜQ R
)
ÜÜR S
;
ÜÜS T
if
áá 
(
áá 
_status
áá 
==
áá 
$num
áá  
)
áá  !
{
àà 

_respuesta
ââ 
.
ââ 
exito
ââ $
=
ââ% &
true
ââ' +
;
ââ+ ,

_respuesta
ää 
.
ää 
message
ää &
=
ää' (
cmd
ää) ,
.
ää, -

Parameters
ää- 7
[
ää7 8
$str
ää8 B
]
ääB C
.
ääC D
Value
ääD I
.
ääI J
ToString
ääJ R
(
ääR S
)
ääS T
;
ääT U
}
ãã 
else
åå 
{
çç 

_respuesta
éé 
.
éé 
exito
éé $
=
éé% &
false
éé' ,
;
éé, -

_respuesta
èè 
.
èè 
message
èè &
=
èè' (
cmd
èè) ,
.
èè, -

Parameters
èè- 7
[
èè7 8
$str
èè8 B
]
èèB C
.
èèC D
Value
èèD I
.
èèI J
ToString
èèJ R
(
èèR S
)
èèS T
;
èèT U
}
êê 
}
ëë 
catch
íí 
(
íí 
	Exception
íí 
ex
íí 
)
íí  
{
ìì 

_respuesta
îî 
.
îî 
exito
îî  
=
îî! "
false
îî# (
;
îî( )

_respuesta
ïï 
.
ïï 
message
ïï "
=
ïï# $
ex
ïï% '
.
ïï' (
Message
ïï( /
;
ïï/ 0
}
ññ 
finally
óó 
{
óó 
con
óó 
.
óó 
Close
óó 
(
óó  
)
óó  !
;
óó! "
}
óó# $
return
òò 

_respuesta
òò 
;
òò 
}
ôô 	
public
õõ 
List
õõ 
<
õõ +
EscalaeIndicacionesHistoricoE
õõ 1
>
õõ1 2/
!EscalaEIndicacionesHistorico_List
õõ3 T
(
õõT U
int
õõU X
order
õõY ^
,
õõ^ _
int
õõ` c
variable
õõd l
,
õõl m
string
õõn t
val
õõu x
,
õõx y
stringõõz Ä
val1õõÅ Ö
,õõÖ Ü
stringõõá ç
val2õõé í
,õõí ì
stringõõî ö
val3õõõ ü
)õõü †
{
úú 	

SqlCommand
ùù 
cmd
ùù 
=
ùù 
null
ùù !
;
ùù! "
SqlConnection
ûû 
con
ûû 
=
ûû 
null
ûû  $
;
ûû$ %
SqlDataReader
üü 
dr
üü 
=
üü 
null
üü #
;
üü# $
List
†† 
<
†† +
EscalaeIndicacionesHistoricoE
†† .
>
††. /
Lista
††0 5
=
††6 7
new
††8 ;
List
††< @
<
††@ A+
EscalaeIndicacionesHistoricoE
††A ^
>
††^ _
(
††_ `
)
††` a
;
††a b
try
°° 
{
¢¢ 
con
££ 
=
££ 
new
££ 
SqlConnection
££ '
(
££' (
VariablesGlobales
££( 9
.
££9 :

CnnClinica
££: D
)
££D E
;
££E F
cmd
§§ 
=
§§ 
new
§§ 

SqlCommand
§§ $
(
§§$ %
$str
§§% B
,
§§B C
con
§§D G
)
§§G H
;
§§H I
cmd
•• 
.
•• 
CommandType
•• 
=
••  !
CommandType
••" -
.
••- .
StoredProcedure
••. =
;
••= >
cmd
¶¶ 
.
¶¶ 

Parameters
¶¶ 
.
¶¶ 
AddWithValue
¶¶ +
(
¶¶+ ,
$str
¶¶, 4
,
¶¶4 5
order
¶¶6 ;
)
¶¶; <
;
¶¶< =
cmd
ßß 
.
ßß 

Parameters
ßß 
.
ßß 
AddWithValue
ßß +
(
ßß+ ,
$str
ßß, 7
,
ßß7 8
variable
ßß9 A
)
ßßA B
;
ßßB C
cmd
®® 
.
®® 

Parameters
®® 
.
®® 
AddWithValue
®® +
(
®®+ ,
$str
®®, 2
,
®®2 3
val
®®4 7
)
®®7 8
;
®®8 9
cmd
©© 
.
©© 

Parameters
©© 
.
©© 
AddWithValue
©© +
(
©©+ ,
$str
©©, 3
,
©©3 4
val1
©©5 9
)
©©9 :
;
©©: ;
cmd
™™ 
.
™™ 

Parameters
™™ 
.
™™ 
AddWithValue
™™ +
(
™™+ ,
$str
™™, 3
,
™™3 4
val2
™™5 9
)
™™9 :
;
™™: ;
cmd
´´ 
.
´´ 

Parameters
´´ 
.
´´ 
AddWithValue
´´ +
(
´´+ ,
$str
´´, 3
,
´´3 4
val3
´´5 9
)
´´9 :
;
´´: ;
con
¨¨ 
.
¨¨ 
Open
¨¨ 
(
¨¨ 
)
¨¨ 
;
¨¨ 
dr
≠≠ 
=
≠≠ 
cmd
≠≠ 
.
≠≠ 
ExecuteReader
≠≠ &
(
≠≠& '
)
≠≠' (
;
≠≠( )
while
ÆÆ 
(
ÆÆ 
dr
ÆÆ 
.
ÆÆ 
Read
ÆÆ 
(
ÆÆ 
)
ÆÆ  
)
ÆÆ  !
{
ØØ +
EscalaeIndicacionesHistoricoE
∞∞ 1
obj
∞∞2 5
=
∞∞6 7
new
∞∞8 ;+
EscalaeIndicacionesHistoricoE
∞∞< Y
(
∞∞Y Z
)
∞∞Z [
;
∞∞[ \
obj
±± 
.
±± 
Fecha
±± 
=
±± 
Convert
±±  '
.
±±' (

ToDateTime
±±( 2
(
±±2 3
dr
±±3 5
[
±±5 6
$str
±±6 =
]
±±= >
.
±±> ?
ToString
±±? G
(
±±G H
)
±±H I
)
±±I J
;
±±J K
obj
≤≤ 
.
≤≤ 

Ide_Escala
≤≤ "
=
≤≤# $
Convert
≤≤% ,
.
≤≤, -
ToInt32
≤≤- 4
(
≤≤4 5
dr
≤≤5 7
[
≤≤7 8
$str
≤≤8 D
]
≤≤D E
.
≤≤E F
ToString
≤≤F N
(
≤≤N O
)
≤≤O P
)
≤≤P Q
;
≤≤Q R
obj
≥≥ 
.
≥≥ 
Escala
≥≥ 
=
≥≥  
dr
≥≥! #
[
≥≥# $
$str
≥≥$ ,
]
≥≥, -
.
≥≥- .
ToString
≥≥. 6
(
≥≥6 7
)
≥≥7 8
;
≥≥8 9
obj
¥¥ 
.
¥¥ 
Hora
¥¥ 
=
¥¥ 
dr
¥¥ !
[
¥¥! "
$str
¥¥" (
]
¥¥( )
.
¥¥) *
ToString
¥¥* 2
(
¥¥2 3
)
¥¥3 4
;
¥¥4 5
obj
µµ 
.
µµ 
Puntaje
µµ 
=
µµ  !
Convert
µµ" )
.
µµ) *
ToInt32
µµ* 1
(
µµ1 2
dr
µµ2 4
[
µµ4 5
$str
µµ5 >
]
µµ> ?
.
µµ? @
ToString
µµ@ H
(
µµH I
)
µµI J
)
µµJ K
;
µµK L
obj
∂∂ 
.
∂∂ 
	Encargado
∂∂ !
=
∂∂" #
dr
∂∂$ &
[
∂∂& '
$str
∂∂' 2
]
∂∂2 3
.
∂∂3 4
ToString
∂∂4 <
(
∂∂< =
)
∂∂= >
;
∂∂> ?
obj
∑∑ 
.
∑∑ (
ide_escalaeintervenciondet
∑∑ 2
=
∑∑3 4
Convert
∑∑5 <
.
∑∑< =
ToInt32
∑∑= D
(
∑∑D E
dr
∑∑E G
[
∑∑G H
$str
∑∑H d
]
∑∑d e
.
∑∑e f
ToString
∑∑f n
(
∑∑n o
)
∑∑o p
)
∑∑p q
;
∑∑q r
Lista
∏∏ 
.
∏∏ 
Add
∏∏ 
(
∏∏ 
obj
∏∏ !
)
∏∏! "
;
∏∏" #
}
ππ 
return
∫∫ 
Lista
∫∫ 
;
∫∫ 
}
ªª 
catch
ºº 
(
ºº 
	Exception
ºº 
ex
ºº 
)
ºº  
{
ΩΩ 
throw
ææ 
ex
ææ 
;
ææ 
}
øø 
finally
¿¿ 
{
¡¡ 
dr
¬¬ 
.
¬¬ 
Close
¬¬ 
(
¬¬ 
)
¬¬ 
;
¬¬ 
cmd
√√ 
.
√√ 
Dispose
√√ 
(
√√ 
)
√√ 
;
√√ 
con
ƒƒ 
.
ƒƒ 
Close
ƒƒ 
(
ƒƒ 
)
ƒƒ 
;
ƒƒ 
con
≈≈ 
.
≈≈ 
Dispose
≈≈ 
(
≈≈ 
)
≈≈ 
;
≈≈ 
}
∆∆ 
}
«« 	
public
…… 
List
…… 
<
…… 3
%EscalaEIndicacionesHistoriaDetalladoE
…… 9
>
……9 :8
*EscalaEIndicacionesHistoricoDetallado_List
……; e
(
……e f
int
……f i
order
……j o
,
……o p
int
……q t
variable
……u }
,
……} ~
string…… Ö
val……Ü â
,……â ä
string……ã ë
val1……í ñ
,……ñ ó
string……ò û
val2……ü £
,……£ §
string……• ´
val3……¨ ∞
)……∞ ±
{
   	

SqlCommand
ÀÀ 
cmd
ÀÀ 
=
ÀÀ 
null
ÀÀ !
;
ÀÀ! "
SqlConnection
ÃÃ 
con
ÃÃ 
=
ÃÃ 
null
ÃÃ  $
;
ÃÃ$ %
SqlDataReader
ÕÕ 
dr
ÕÕ 
=
ÕÕ 
null
ÕÕ #
;
ÕÕ# $
List
ŒŒ 
<
ŒŒ 3
%EscalaEIndicacionesHistoriaDetalladoE
ŒŒ 6
>
ŒŒ6 7
Lista
ŒŒ8 =
=
ŒŒ> ?
new
ŒŒ@ C
List
ŒŒD H
<
ŒŒH I3
%EscalaEIndicacionesHistoriaDetalladoE
ŒŒI n
>
ŒŒn o
(
ŒŒo p
)
ŒŒp q
;
ŒŒq r
try
œœ 
{
–– 
con
—— 
=
—— 
new
—— 
SqlConnection
—— '
(
——' (
VariablesGlobales
——( 9
.
——9 :

CnnClinica
——: D
)
——D E
;
——E F
cmd
““ 
=
““ 
new
““ 

SqlCommand
““ $
(
““$ %
$str
““% B
,
““B C
con
““D G
)
““G H
;
““H I
cmd
”” 
.
”” 
CommandType
”” 
=
””  !
CommandType
””" -
.
””- .
StoredProcedure
””. =
;
””= >
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ 
.
‘‘ 
AddWithValue
‘‘ +
(
‘‘+ ,
$str
‘‘, 4
,
‘‘4 5
order
‘‘6 ;
)
‘‘; <
;
‘‘< =
cmd
’’ 
.
’’ 

Parameters
’’ 
.
’’ 
AddWithValue
’’ +
(
’’+ ,
$str
’’, 7
,
’’7 8
variable
’’9 A
)
’’A B
;
’’B C
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ 
.
÷÷ 
AddWithValue
÷÷ +
(
÷÷+ ,
$str
÷÷, 2
,
÷÷2 3
val
÷÷4 7
)
÷÷7 8
;
÷÷8 9
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ 
.
◊◊ 
AddWithValue
◊◊ +
(
◊◊+ ,
$str
◊◊, 3
,
◊◊3 4
val1
◊◊5 9
)
◊◊9 :
;
◊◊: ;
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ 
.
ÿÿ 
AddWithValue
ÿÿ +
(
ÿÿ+ ,
$str
ÿÿ, 3
,
ÿÿ3 4
val2
ÿÿ5 9
)
ÿÿ9 :
;
ÿÿ: ;
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ 
.
ŸŸ 
AddWithValue
ŸŸ +
(
ŸŸ+ ,
$str
ŸŸ, 3
,
ŸŸ3 4
val3
ŸŸ5 9
)
ŸŸ9 :
;
ŸŸ: ;
con
⁄⁄ 
.
⁄⁄ 
Open
⁄⁄ 
(
⁄⁄ 
)
⁄⁄ 
;
⁄⁄ 
dr
€€ 
=
€€ 
cmd
€€ 
.
€€ 
ExecuteReader
€€ &
(
€€& '
)
€€' (
;
€€( )
while
‹‹ 
(
‹‹ 
dr
‹‹ 
.
‹‹ 
Read
‹‹ 
(
‹‹ 
)
‹‹  
)
‹‹  !
{
›› 3
%EscalaEIndicacionesHistoriaDetalladoE
ﬁﬁ 9
obj
ﬁﬁ: =
=
ﬁﬁ> ?
new
ﬁﬁ@ C3
%EscalaEIndicacionesHistoriaDetalladoE
ﬁﬁD i
(
ﬁﬁi j
)
ﬁﬁj k
;
ﬁﬁk l
obj
ﬂﬂ 
.
ﬂﬂ 
Concepto
ﬂﬂ  
=
ﬂﬂ! "
dr
ﬂﬂ# %
[
ﬂﬂ% &
$str
ﬂﬂ& 0
]
ﬂﬂ0 1
.
ﬂﬂ1 2
ToString
ﬂﬂ2 :
(
ﬂﬂ: ;
)
ﬂﬂ; <
;
ﬂﬂ< =
obj
‡‡ 
.
‡‡ 
Descripcion
‡‡ #
=
‡‡$ %
dr
‡‡& (
[
‡‡( )
$str
‡‡) 6
]
‡‡6 7
.
‡‡7 8
ToString
‡‡8 @
(
‡‡@ A
)
‡‡A B
;
‡‡B C
obj
·· 
.
·· 
Observacion
·· #
=
··$ %
dr
··& (
[
··( )
$str
··) 6
]
··6 7
.
··7 8
ToString
··8 @
(
··@ A
)
··A B
;
··B C
obj
‚‚ 
.
‚‚ 
Puntaje
‚‚ 
=
‚‚  !
int
‚‚" %
.
‚‚% &
Parse
‚‚& +
(
‚‚+ ,
dr
‚‚, .
[
‚‚. /
$str
‚‚/ 8
]
‚‚8 9
.
‚‚9 :
ToString
‚‚: B
(
‚‚B C
)
‚‚C D
)
‚‚D E
;
‚‚E F
Lista
„„ 
.
„„ 
Add
„„ 
(
„„ 
obj
„„ !
)
„„! "
;
„„" #
}
‰‰ 
return
ÂÂ 
Lista
ÂÂ 
;
ÂÂ 
}
ÊÊ 
catch
ÁÁ 
(
ÁÁ 
	Exception
ÁÁ 
ex
ÁÁ 
)
ÁÁ  
{
ËË 
throw
ÈÈ 
ex
ÈÈ 
;
ÈÈ 
}
ÍÍ 
finally
ÎÎ 
{
ÏÏ 
dr
ÌÌ 
.
ÌÌ 
Close
ÌÌ 
(
ÌÌ 
)
ÌÌ 
;
ÌÌ 
cmd
ÓÓ 
.
ÓÓ 
Dispose
ÓÓ 
(
ÓÓ 
)
ÓÓ 
;
ÓÓ 
con
ÔÔ 
.
ÔÔ 
Close
ÔÔ 
(
ÔÔ 
)
ÔÔ 
;
ÔÔ 
con
 
.
 
Dispose
 
(
 
)
 
;
 
}
ÒÒ 
}
ÚÚ 	
}
ıı 
}ˆˆ üs
]D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\AseguradosAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 

HospitalAD

 &
{ 
public 

class 
AseguradosAD 
{ 
private 
AseguradosE 
LlenarEntidad )
() *
IDataReader* 5
dr6 8
,8 9
AseguradosE: E
pAseguradosEF R
)R S
{ 	
AseguradosE 
oAseguradosE $
=% &
new' *
AseguradosE+ 6
(6 7
)7 8
;8 9
oAseguradosE 
. 
CodAtencion $
=% &
(' (
string( .
). /
dr0 2
[2 3
$str3 @
]@ A
;A B
oAseguradosE 
. 
Poliza 
=  !
(" #
string# )
)) *
dr+ -
[- .
$str. 6
]6 7
;7 8
oAseguradosE 
. 

Planpoliza #
=$ %
(& '
string' -
)- .
dr/ 1
[1 2
$str2 >
]> ?
;? @
oAseguradosE 
. 
Codparentesco &
=' (
() *
string* 0
)0 1
dr2 4
[4 5
$str5 D
]D E
;E F
oAseguradosE 
. 
	Codtarifa "
=# $
(% &
string& ,
), -
dr. 0
[0 1
$str1 <
]< =
;= >
oAseguradosE 
. 
Fechainiciovigencia ,
=- .
(/ 0
DateTime0 8
)8 9
dr: <
[< =
$str= R
]R S
;S T
oAseguradosE 
. 
Fechafinvigencia )
=* +
(, -
DateTime- 5
)5 6
dr7 9
[9 :
$str: L
]L M
;M N
oAseguradosE 
. 
Numerodiasatencion +
=, -
(. /
int/ 2
)2 3
dr4 6
[6 7
$str7 K
]K L
;L M
oAseguradosE 
. 
Nombres  
=! "
(# $
string$ *
)* +
dr, .
[. /
$str/ 8
]8 9
;9 :
oAseguradosE 
. 
Sexo 
= 
(  !
string! '
)' (
dr) +
[+ ,
$str, 2
]2 3
;3 4
oAseguradosE 
. 
Fechanacimiento (
=) *
(+ ,
DateTime, 4
)4 5
dr6 8
[8 9
$str9 J
]J K
;K L
oAseguradosE 
. 
Observaciones &
=' (
() *
string* 0
)0 1
dr2 4
[4 5
$str5 D
]D E
;E F
oAseguradosE 
. 
Estado 
=  !
(" #
string# )
)) *
dr+ -
[- .
$str. 6
]6 7
;7 8
oAseguradosE 
. "
Codigoaseguradoexterno /
=0 1
(2 3
string3 9
)9 :
dr; =
[= >
$str> V
]V W
;W X
oAseguradosE   
.   
Tiposeguroexterno   *
=  + ,
(  - .
string  . 4
)  4 5
dr  6 8
[  8 9
$str  9 L
]  L M
;  M N
oAseguradosE!! 
.!! 
Codproducto!! $
=!!% &
(!!' (
string!!( .
)!!. /
dr!!0 2
[!!2 3
$str!!3 @
]!!@ A
;!!A B
return## 
oAseguradosE## 
;##  
}$$ 	
public&& 
List&& 
<&& 
AseguradosE&& 
>&&  "
Sp_Asegurados_Consulta&&! 7
(&&7 8
AseguradosE&&8 C
pAseguradosE&&D P
)&&P Q
{'' 	
IDataReader(( 
dr(( 
;(( 
AseguradosE)) 
oAseguradosE)) $
=))% &
null))' +
;))j k
List** 
<** 
AseguradosE** 
>** 
oListar** %
=**& '
new**( +
List**, 0
<**0 1
AseguradosE**1 <
>**< =
(**= >
)**> ?
;**? @
try++ 
{,, 
using-- 
(-- 
SqlConnection-- $
cnn--% (
=--) *
new--+ .
SqlConnection--/ <
(--< =
VariablesGlobales--= N
.--N O

CnnClinica--O Y
)--Y Z
)--Z [
{.. 
using// 
(// 

SqlCommand// %
cmd//& )
=//* +
new//, /

SqlCommand//0 :
(//: ;
$str//; S
,//S T
cnn//U X
)//X Y
)//Y Z
{00 
cmd11 
.11 
CommandType11 '
=11( )
CommandType11* 5
.115 6
StoredProcedure116 E
;11E F
cmd33 
.33 

Parameters33 &
.33& '
AddWithValue33' 3
(333 4
$str334 B
,33B C
pAseguradosE33D P
.33P Q
CodAtencion33Q \
)33\ ]
;33] ^
cnn44 
.44 
Open44  
(44  !
)44! "
;44" #
dr55 
=55 
cmd55  
.55  !
ExecuteReader55! .
(55. /
)55/ 0
;550 1
while66 
(66 
dr66 !
.66! "
Read66" &
(66& '
)66' (
)66( )
{77 
oAseguradosE88 (
=88) *
LlenarEntidad88+ 8
(888 9
dr889 ;
,88; <
pAseguradosE88= I
)88I J
;88J K
oListar99 #
.99# $
Add99$ '
(99' (
oAseguradosE99( 4
)994 5
;995 6
}:: 
dr<< 
.<< 
Close<<  
(<<  !
)<<! "
;<<" #
dr== 
.== 
Dispose== "
(==" #
)==# $
;==$ %
cmd>> 
.>> 
Dispose>> #
(>># $
)>>$ %
;>>% &
cnn?? 
.?? 
Close?? !
(??! "
)??" #
;??# $
cnn@@ 
.@@ 
Dispose@@ #
(@@# $
)@@$ %
;@@% &
returnAA 
oListarAA &
;AA& '
}BB 
}CC 
}DD 
catchEE 
(EE 
	ExceptionEE 
exEE 
)EE  
{FF 
throwGG 
newGG 
	ExceptionGG #
(GG# $
exGG$ &
.GG& '
MessageGG' .
)GG. /
;GG/ 0
}HH 
}II 	
publicKK 
boolKK  
Sp_Asegurados_InsertKK (
(KK( )
AseguradosEKK) 4
pAseguradosEKK5 A
)KKA B
{LL 	
tryMM 
{NN 
usingOO 
(OO 
SqlConnectionOO $
cnnOO% (
=OO) *
newOO+ .
SqlConnectionOO/ <
(OO< =
VariablesGlobalesOO= N
.OON O

CnnClinicaOOO Y
)OOY Z
)OOZ [
{PP 
usingQQ 
(QQ 

SqlCommandQQ %
cmdQQ& )
=QQ* +
newQQ, /

SqlCommandQQ0 :
(QQ: ;
$strQQ; Q
,QQQ R
cnnQQS V
)QQV W
)QQW X
{RR 
cmdSS 
.SS 
CommandTypeSS '
=SS( )
CommandTypeSS* 5
.SS5 6
StoredProcedureSS6 E
;SSE F
cmdUU 
.UU 

ParametersUU &
.UU& '
AddUU' *
(UU* +
VariablesGlobalesUU+ <
.UU< =
ParametroSqlUU= I
(UUI J
$strUUJ S
,UUS T
ParameterDirectionUUU g
.UUg h
InputOutputUUh s
,UUs t
	SqlDbTypeUUu ~
.UU~ 
VarChar	UU Ü
,
UUÜ á
$num
UUà â
,
UUâ ä
pAseguradosE
UUã ó
.
UUó ò
CodAtencion
UUò £
)
UU£ §
)
UU§ •
;
UU• ¶
cnnVV 
.VV 
OpenVV  
(VV  !
)VV! "
;VV" #
ifWW 
(WW 
cmdWW 
.WW  
ExecuteNonQueryWW  /
(WW/ 0
)WW0 1
>=WW2 4
$numWW5 6
)WW6 7
{XX 
pAseguradosEYY (
.YY( )
CodAtencionYY) 4
=YY5 6
(YY7 8
stringYY8 >
)YY> ?
cmdYY? B
.YYB C

ParametersYYC M
[YYM N
$strYYN W
]YYW X
.YYX Y
ValueYYY ^
;YY^ _
returnZZ "
trueZZ# '
;ZZ' (
}[[ 
else\\ 
return]] "
false]]# (
;]]( )
cnn^^ 
.^^ 
Close^^ !
(^^! "
)^^" #
;^^# $
cmd__ 
.__ 
Dispose__ #
(__# $
)__$ %
;__% &
}`` 
}aa 
}bb 
catchcc 
(cc 
	Exceptioncc 
excc 
)cc  
{dd 
throwee 
newee 
	Exceptionee #
(ee# $
exee$ &
.ee& '
Messageee' .
)ee. /
;ee/ 0
}ff 
}gg 	
publicii 
boolii  
Sp_Asegurados_Updateii (
(ii( )
AseguradosEii) 4
pAseguradosEii5 A
)iiA B
{jj 	
trykk 
{ll 
usingmm 
(mm 
SqlConnectionmm $
cnnmm% (
=mm) *
newmm+ .
SqlConnectionmm/ <
(mm< =
VariablesGlobalesmm= N
.mmN O

CnnClinicammO Y
)mmY Z
)mmZ [
{nn 
usingoo 
(oo 

SqlCommandoo %
cmdoo& )
=oo* +
newoo, /

SqlCommandoo0 :
(oo: ;
$stroo; Q
,ooQ R
cnnooS V
)ooV W
)ooW X
{pp 
cmdqq 
.qq 
CommandTypeqq '
=qq( )
CommandTypeqq* 5
.qq5 6
StoredProcedureqq6 E
;qqE F
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 =
,ss= >
pAseguradosEss? K
.ssK L
CodAtencionssL W
)ssW X
;ssX Y
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 <
,tt< =
pAseguradosEtt> J
.ttJ K
CampottK P
)ttP Q
;ttQ R
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 A
,uuA B
pAseguradosEuuC O
.uuO P

NuevoValoruuP Z
)uuZ [
;uu[ \
cnnvv 
.vv 
Openvv  
(vv  !
)vv! "
;vv" #
ifww 
(ww 
cmdww 
.ww  
ExecuteNonQueryww  /
(ww/ 0
)ww0 1
>=ww2 4
$numww5 6
)ww6 7
returnxx "
truexx# '
;xx' (
elseyy 
returnzz "
falsezz# (
;zz( )
cnn{{ 
.{{ 
Close{{ !
({{! "
){{" #
;{{# $
cmd|| 
.|| 
Dispose|| #
(||# $
)||$ %
;||% &
}}} 
}~~ 
} 
catch
ÄÄ 
(
ÄÄ 
	Exception
ÄÄ 
ex
ÄÄ 
)
ÄÄ  
{
ÅÅ 
throw
ÇÇ 
new
ÇÇ 
	Exception
ÇÇ #
(
ÇÇ# $
ex
ÇÇ$ &
.
ÇÇ& '
Message
ÇÇ' .
)
ÇÇ. /
;
ÇÇ/ 0
}
ÉÉ 
}
ÑÑ 	
public
ÜÜ 
bool
ÜÜ "
Sp_Asegurados_Delete
ÜÜ (
(
ÜÜ( )
AseguradosE
ÜÜ) 4
pAseguradosE
ÜÜ5 A
)
ÜÜA B
{
áá 	
try
àà 
{
ââ 
using
ää 
(
ää 
SqlConnection
ää $
cnn
ää% (
=
ää) *
new
ää+ .
SqlConnection
ää/ <
(
ää< =
VariablesGlobales
ää= N
.
ääN O

CnnClinica
ääO Y
)
ääY Z
)
ääZ [
{
ãã 
using
åå 
(
åå 

SqlCommand
åå %
cmd
åå& )
=
åå* +
new
åå, /

SqlCommand
åå0 :
(
åå: ;
$str
åå; Q
,
ååQ R
cnn
ååS V
)
ååV W
)
ååW X
{
çç 
cmd
éé 
.
éé 
CommandType
éé '
=
éé( )
CommandType
éé* 5
.
éé5 6
StoredProcedure
éé6 E
;
ééE F
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 B
,
èèB C
pAseguradosE
èèD P
.
èèP Q
CodAtencion
èèQ \
)
èè\ ]
;
èè] ^
cnn
ëë 
.
ëë 
Open
ëë  
(
ëë  !
)
ëë! "
;
ëë" #
if
íí 
(
íí 
cmd
íí 
.
íí  
ExecuteNonQuery
íí  /
(
íí/ 0
)
íí0 1
>=
íí2 4
$num
íí5 6
)
íí6 7
return
ìì "
true
ìì# '
;
ìì' (
else
îî 
return
ïï "
false
ïï# (
;
ïï( )
cnn
ññ 
.
ññ 
Close
ññ !
(
ññ! "
)
ññ" #
;
ññ# $
cmd
óó 
.
óó 
Dispose
óó #
(
óó# $
)
óó$ %
;
óó% &
}
òò 
}
ôô 
}
öö 
catch
õõ 
(
õõ 
	Exception
õõ 
ex
õõ 
)
õõ  
{
úú 
throw
ùù 
new
ùù 
	Exception
ùù #
(
ùù# $
ex
ùù$ &
.
ùù& '
Message
ùù' .
)
ùù. /
;
ùù/ 0
}
ûû 
}
üü 	
}
†† 
}°° €$
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\HospitalAD\AseguradorasAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 

HospitalAD

 &
{ 
public 

class 
AseguradorasAD 
{ 
private 
AseguradorasE 
LlenarEntidad +
(+ ,
IDataReader, 7
dr8 :
,: ;
AseguradorasE< I
pAseguradorasEJ X
)X Y
{ 	
AseguradorasE 
oAseguradorasE (
=) *
new+ .
AseguradorasE/ <
(< =
)= >
;> ?
switch 
( 
pAseguradorasE "
." #
Orden# (
)( )
{ 
case 
$num 
: 
{ 
oAseguradorasE &
.& '
Codaseguradora' 5
=6 7
Convert8 ?
.? @
ToString@ H
(H I
drI K
[K L
$strL \
]\ ]
)] ^
;^ _
oAseguradorasE &
.& '
Dscaseguradora' 5
=6 7
Convert8 ?
.? @
ToString@ H
(H I
drI K
[K L
$strL _
]_ `
)` a
;a b
break 
; 
} 
} 
return 
oAseguradorasE !
;! "
} 	
public 
List 
< 
AseguradorasE !
>! "&
Sp_Aseguradoras_ConsultaV2# =
(= >
AseguradorasE> K
pAseguradorasEL Z
)Z [
{ 	
List 
< 
AseguradorasE 
> 
oListar  '
=( )
new* -
List. 2
<2 3
AseguradorasE3 @
>@ A
(A B
)B C
;C D
AseguradorasE   
oAseguradorasE   (
=  ) *
new  + .
AseguradorasE  / <
(  < =
)  = >
;  > ?
using!! 
(!! 
SqlConnection!!  
cnn!!! $
=!!% &
new!!' *
SqlConnection!!+ 8
(!!8 9
VariablesGlobales!!9 J
.!!J K

CnnClinica!!K U
)!!U V
)!!V W
{"" 
using## 
(## 

SqlCommand## !
cmd##" %
=##& '
new##( +

SqlCommand##, 6
(##6 7
$str##7 S
,##S T
cnn##U X
)##X Y
)##Y Z
{$$ 
cmd%% 
.%% 
CommandType%% #
=%%$ %
System%%& ,
.%%, -
Data%%- 1
.%%1 2
CommandType%%2 =
.%%= >
StoredProcedure%%> M
;%%M N
cmd'' 
.'' 

Parameters'' "
.''" #
AddWithValue''# /
(''/ 0
$str''0 8
,''8 9
pAseguradorasE'': H
.''H I
Orden''I N
)''N O
;''O P
cmd(( 
.(( 

Parameters(( "
.((" #
AddWithValue((# /
(((/ 0
$str((0 A
,((A B
pAseguradorasE((C Q
.((Q R
Dscaseguradora((R `
)((` a
;((a b
cmd)) 
.)) 

Parameters)) "
.))" #
AddWithValue))# /
())/ 0
$str))0 <
,))< =
pAseguradorasE))> L
.))L M
Nrofila))M T
)))T U
;))U V
cnn** 
.** 
Open** 
(** 
)** 
;** 
IDataReader++ 
dr++  "
=++# $
cmd++% (
.++( )
ExecuteReader++) 6
(++6 7
)++7 8
;++8 9
while,, 
(,, 
dr,, 
.,, 
Read,, "
(,," #
),,# $
),,$ %
{-- 
oAseguradorasE.. &
=..' (
LlenarEntidad..) 6
(..6 7
dr..7 9
,..9 :
pAseguradorasE..; I
)..I J
;..J K
oListar// 
.//  
Add//  #
(//# $
oAseguradorasE//$ 2
)//2 3
;//3 4
}00 
dr11 
.11 
Close11 
(11 
)11 
;11 
cnn22 
.22 
Close22 
(22 
)22 
;22  
}33 
}44 
return55 
oListar55 
;55 
}66 	
}77 
}88 Ÿﬂ
uD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\FinanciamientoLaboratorioAD\FinanciamientoCabAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. '
FinanciamientoLaboratorioAD 7
{ 
public 

class 
FinanciamientoCabAD $
{ 

Utilitario 
util 
= 
new 

Utilitario (
(( )
)) *
;* +
int 
IdItem 
= 
$num 
; 
string 
aseg1 
= 
$str 
; 
string 
aseg2 
= 
$str 
; 
string 
aseg3 
= 
$str 
; 
string 
aseg4 
= 
$str 
; 
string 
aseg5 
= 
$str 
; 
string 
aseg6 
= 
$str 
; 
string 
aseg7 
= 
$str 
; 
string 
aseg8 
= 
$str 
; 
string 
aseg9 
= 
$str 
; 
string 
aseg10 
= 
$str 
; 
string 
aseg11 
= 
$str 
; 
string 
aseg12 
= 
$str 
; 
string 
aseg1Neg 
= 
$str 
; 
string 
aseg2Neg 
= 
$str 
; 
string   
aseg3Neg   
=   
$str   
;   
string!! 
aseg4Neg!! 
=!! 
$str!! 
;!! 
string"" 
aseg5Neg"" 
="" 
$str"" 
;"" 
string## 
aseg6Neg## 
=## 
$str## 
;## 
string$$ 
aseg7Neg$$ 
=$$ 
$str$$ 
;$$ 
string%% 
aseg8Neg%% 
=%% 
$str%% 
;%% 
string&& 
aseg9Neg&& 
=&& 
$str&& 
;&& 
string'' 
	aseg10Neg'' 
='' 
$str'' 
;''  
string(( 
	aseg11Neg(( 
=(( 
$str(( 
;((  
string)) 
	aseg12Neg)) 
=)) 
$str)) 
;))  
string++ 
Codaseg1Neg++ 
=++ 
$str++ 
;++  
string,, 
Codaseg2Neg,, 
=,, 
$str,, 
;,,  
string-- 
Codaseg3Neg-- 
=-- 
$str-- 
;--  
string.. 
Codaseg4Neg.. 
=.. 
$str.. 
;..  
string// 
Codaseg5Neg// 
=// 
$str// 
;//  
string00 
Codaseg6Neg00 
=00 
$str00 
;00  
string11 
Codaseg7Neg11 
=11 
$str11 
;11  
string22 
Codaseg8Neg22 
=22 
$str22 
;22  
string33 
Codaseg9Neg33 
=33 
$str33 
;33  
string44 
Codaseg10Neg44 
=44 
$str44  
;44  !
string55 
Codaseg11Neg55 
=55 
$str55  
;55  !
string66 
Codaseg12Neg66 
=66 
$str66  
;66  !
string88 
obsPrincipal88 
=88 
$str88  
;88  !
string99 
obsSecundaria99 
=99 
$str99 !
;99! "
private== "
FinanciamientoDetalleE== &
LlenarEntidadUpdate==' :
(==: ;
IDataReader==; F
dr==G I
)==I J
{>> 	"
FinanciamientoDetalleE?? "#
oFinanciamientoDetalleE??# :
=??; <
new??= @"
FinanciamientoDetalleE??A W
(??W X
)??X Y
;??Y Z#
oFinanciamientoDetalleEAA #
.AA# $$
Ide_AnalisisxDiagnosticoAA$ <
=AA= >
(AA? @
stringAA@ F
)AAF G
(AAG H
drAAH J
[AAJ K
$strAAK e
]AAe f
+AAg h
$strAAi k
)AAk l
.AAl m
TrimAAm q
(AAq r
)AAr s
;AAs t#
oFinanciamientoDetalleEBB #
.BB# $
Ide_AnalisisBB$ 0
=BB1 2
(BB3 4
stringBB4 :
)BB: ;
(BB; <
drBB< >
[BB> ?
$strBB? M
]BBM N
+BBO P
$strBBQ S
)BBS T
.BBT U
TrimBBU Y
(BBY Z
)BBZ [
;BB[ \#
oFinanciamientoDetalleECC #
.CC# $
Tipo_AtencionCC$ 1
=CC2 3
(CC4 5
stringCC5 ;
)CC; <
(CC< =
drCC= ?
[CC? @
$strCC@ R
]CCR S
+CCT U
$strCCV X
)CCX Y
.CCY Z
TrimCCZ ^
(CC^ _
)CC_ `
;CC` a#
oFinanciamientoDetalleEDD #
.DD# $
Cod_DiagnosticoDD$ 3
=DD4 5
(DD6 7
stringDD7 =
)DD= >
(DD> ?
drDD? A
[DDA B
$strDDB S
]DDS T
+DDU V
$strDDW Y
)DDY Z
.DDZ [
TrimDD[ _
(DD_ `
)DD` a
;DDa b#
oFinanciamientoDetalleEEE #
.EE# $
Nombre_DiagnosticoEE$ 6
=EE7 8
(EE9 :
stringEE: @
)EE@ A
(EEA B
drEEB D
[EED E
$strEEE M
]EEM N
+EEO P
$strEEQ S
)EES T
.EET U
TrimEEU Y
(EEY Z
)EEZ [
;EE[ \#
oFinanciamientoDetalleEFF #
.FF# $
Cod_ROEFF$ +
=FF, -
(FF. /
stringFF/ 5
)FF5 6
(FF6 7
drFF7 9
[FF9 :
$strFF: H
]FFH I
+FFJ K
$strFFL N
)FFN O
.FFO P
TrimFFP T
(FFT U
)FFU V
;FFV W#
oFinanciamientoDetalleEGG #
.GG# $

Prueba_ROEGG$ .
=GG/ 0
(GG1 2
stringGG2 8
)GG8 9
(GG9 :
drGG: <
[GG< =
$strGG= K
]GGK L
+GGM N
$strGGO Q
)GGQ R
.GGR S
TrimGGS W
(GGW X
)GGX Y
;GGY Z#
oFinanciamientoDetalleEHH #
.HH# $
CodAseguradora1HH$ 3
=HH4 5
(HH6 7
stringHH7 =
)HH= >
(HH> ?
drHH? A
[HHA B
$strHHB R
]HHR S
+HHT U
$strHHV X
)HHX Y
.HHY Z
TrimHHZ ^
(HH^ _
)HH_ `
;HH` a#
oFinanciamientoDetalleEII #
.II# $
Nombre_AseguradoraII$ 6
=II7 8
(II9 :
stringII: @
)II@ A
(IIA B
drIIB D
[IID E
$strIIE X
]IIX Y
+IIZ [
$strII\ ^
)II^ _
.II_ `
TrimII` d
(IId e
)IIe f
;IIf g#
oFinanciamientoDetalleEJJ #
.JJ# $
Flag_EstadoJJ$ /
=JJ0 1
(JJ2 3
stringJJ3 9
)JJ9 :
(JJ: ;
drJJ; =
[JJ= >
$strJJ> J
]JJJ K
+JJL M
$strJJN P
)JJP Q
.JJQ R
TrimJJR V
(JJV W
)JJW X
;JJX Y
returnLL #
oFinanciamientoDetalleELL *
;LL* +
}MM 	
privatePP "
FinanciamientoDetalleEPP &
LlenarEntidadDetPP' 7
(PP7 8
IDataReaderPP8 C
drPPD F
,PPF G
intPPH K
pOrdenPPL R
)PPR S
{QQ 	"
FinanciamientoDetalleERR "#
oFinanciamientoDetalleERR# :
=RR; <
newRR= @"
FinanciamientoDetalleERRA W
(RRW X
)RRX Y
;RRY Z#
oFinanciamientoDetalleEUU /
.UU/ 0
ItemUU0 4
=UU5 6
IdItemUU7 =
;UU= >#
oFinanciamientoDetalleEVV /
.VV/ 0$
Ide_AnalisisxDiagnosticoVV0 H
=VVI J
(VVK L
stringVVL R
)VVR S
(VVS T
drVVT V
[VVV W
$strVVW q
]VVq r
+VVs t
$strVVu w
)VVw x
.VVx y
TrimVVy }
(VV} ~
)VV~ 
;	VV Ä#
oFinanciamientoDetalleEWW /
.WW/ 0
Ide_AnalisisWW0 <
=WW= >
(WW? @
stringWW@ F
)WWF G
(WWG H
drWWH J
[WWJ K
$strWWK Y
]WWY Z
+WW[ \
$strWW] _
)WW_ `
.WW` a
TrimWWa e
(WWe f
)WWf g
;WWg h#
oFinanciamientoDetalleEXX /
.XX/ 0
Tipo_AtencionXX0 =
=XX> ?
(XX@ A
stringXXA G
)XXG H
(XXH I
drXXI K
[XXK L
$strXXL ^
]XX^ _
+XX` a
$strXXb d
)XXd e
.XXe f
TrimXXf j
(XXj k
)XXk l
;XXl m#
oFinanciamientoDetalleEYY /
.YY/ 0
Cod_DiagnosticoYY0 ?
=YY@ A
(YYB C
stringYYC I
)YYI J
(YYJ K
drYYK M
[YYM N
$strYYN _
]YY_ `
+YYa b
$strYYc e
)YYe f
.YYf g
TrimYYg k
(YYk l
)YYl m
;YYm n#
oFinanciamientoDetalleEZZ /
.ZZ/ 0
Nombre_DiagnosticoZZ0 B
=ZZC D
(ZZE F
stringZZF L
)ZZL M
(ZZM N
drZZN P
[ZZP Q
$strZZQ Y
]ZZY Z
+ZZ[ \
$strZZ] _
)ZZ_ `
.ZZ` a
TrimZZa e
(ZZe f
)ZZf g
;ZZg h#
oFinanciamientoDetalleE[[ /
.[[/ 0
Cod_Prestacion[[0 >
=[[@ A
([[B C
string[[C I
)[[I J
([[J K
dr[[K M
[[[M N
$str[[N ]
][[] ^
+[[_ `
$str[[a c
)[[c d
.[[d e
Trim[[e i
([[i j
)[[j k
;[[k l#
oFinanciamientoDetalleE\\ /
.\\/ 0
Cod_ROE\\0 7
=\\8 9
(\\: ;
string\\; A
)\\A B
(\\B C
dr\\C E
[\\E F
$str\\F T
]\\T U
+\\V W
$str\\X Z
)\\Z [
.\\[ \
Trim\\\ `
(\\` a
)\\a b
;\\b c#
oFinanciamientoDetalleE]] /
.]]/ 0

Prueba_ROE]]0 :
=]]; <
(]]= >
string]]> D
)]]D E
(]]E F
dr]]F H
[]]H I
$str]]I W
]]]W X
+]]Y Z
$str]][ ]
)]]] ^
.]]^ _
Trim]]_ c
(]]c d
)]]d e
;]]e f
if__ 
(__ 
(__ 
string__ #
)__# $
(__$ %
dr__% '
[__' (
$str__( 8
]__8 9
+__: ;
$str__< >
)__> ?
.__? @
Trim__@ D
(__D E
)__E F
==__G I
$str__J P
)__P Q
{`` 
aseg1aa !
=aa" #
$straa$ (
;aa( )
}bb 
ifcc 
(cc 
(cc 
stringcc #
)cc# $
(cc$ %
drcc% '
[cc' (
$strcc( 8
]cc8 9
+cc: ;
$strcc< >
)cc> ?
.cc? @
Trimcc@ D
(ccD E
)ccE F
==ccG I
$strccJ P
)ccP Q
{dd 
aseg2ee !
=ee" #
$stree$ (
;ee( )
}ff 
ifgg 
(gg 
(gg 
stringgg #
)gg# $
(gg$ %
drgg% '
[gg' (
$strgg( 8
]gg8 9
+gg: ;
$strgg< >
)gg> ?
.gg? @
Trimgg@ D
(ggD E
)ggE F
==ggG I
$strggJ P
)ggP Q
{hh 
aseg3ii !
=ii" #
$strii$ (
;ii( )
}jj 
ifkk 
(kk 
(kk 
stringkk #
)kk# $
(kk$ %
drkk% '
[kk' (
$strkk( 8
]kk8 9
+kk: ;
$strkk< >
)kk> ?
.kk? @
Trimkk@ D
(kkD E
)kkE F
==kkG I
$strkkJ P
)kkP Q
{ll 
aseg4mm !
=mm" #
$strmm$ (
;mm( )
}nn 
ifoo 
(oo 
(oo 
stringoo #
)oo# $
(oo$ %
droo% '
[oo' (
$stroo( 8
]oo8 9
+oo: ;
$stroo< >
)oo> ?
.oo? @
Trimoo@ D
(ooD E
)ooE F
==ooG I
$strooJ P
)ooP Q
{pp 
aseg5qq !
=qq" #
$strqq$ (
;qq( )
}rr 
ifss 
(ss 
(ss 
stringss #
)ss# $
(ss$ %
drss% '
[ss' (
$strss( 8
]ss8 9
+ss: ;
$strss< >
)ss> ?
.ss? @
Trimss@ D
(ssD E
)ssE F
==ssG I
$strssJ P
)ssP Q
{tt 
aseg6uu !
=uu" #
$struu$ (
;uu( )
}vv 
ifww 
(ww 
(ww 
stringww #
)ww# $
(ww$ %
drww% '
[ww' (
$strww( 8
]ww8 9
+ww: ;
$strww< >
)ww> ?
.ww? @
Trimww@ D
(wwD E
)wwE F
==wwG I
$strwwJ P
)wwP Q
{xx 
aseg7yy !
=yy" #
$stryy$ (
;yy( )
}zz 
if{{ 
({{ 
({{ 
string{{ #
){{# $
({{$ %
dr{{% '
[{{' (
$str{{( 8
]{{8 9
+{{: ;
$str{{< >
){{> ?
.{{? @
Trim{{@ D
({{D E
){{E F
=={{G I
$str{{J P
){{P Q
{|| 
aseg8}} !
=}}" #
$str}}$ (
;}}( )
}~~ 
if 
( 
( 
string #
)# $
($ %
dr% '
[' (
$str( 8
]8 9
+: ;
$str< >
)> ?
.? @
Trim@ D
(D E
)E F
==G I
$strJ P
)P Q
{
ÄÄ 
aseg9
ÅÅ !
=
ÅÅ" #
$str
ÅÅ$ (
;
ÅÅ( )
}
ÇÇ 
if
ÉÉ 
(
ÉÉ 
(
ÉÉ 
string
ÉÉ #
)
ÉÉ# $
(
ÉÉ$ %
dr
ÉÉ% '
[
ÉÉ' (
$str
ÉÉ( 8
]
ÉÉ8 9
+
ÉÉ: ;
$str
ÉÉ< >
)
ÉÉ> ?
.
ÉÉ? @
Trim
ÉÉ@ D
(
ÉÉD E
)
ÉÉE F
==
ÉÉG I
$str
ÉÉJ P
)
ÉÉP Q
{
ÑÑ 
aseg10
ÖÖ "
=
ÖÖ# $
$str
ÖÖ% )
;
ÖÖ) *
}
ÜÜ 
if
áá 
(
áá 
(
áá 
string
áá #
)
áá# $
(
áá$ %
dr
áá% '
[
áá' (
$str
áá( 8
]
áá8 9
+
áá: ;
$str
áá< >
)
áá> ?
.
áá? @
Trim
áá@ D
(
ááD E
)
ááE F
==
ááG I
$str
ááJ P
)
ááP Q
{
àà 
aseg11
ââ "
=
ââ# $
$str
ââ% )
;
ââ) *
}
ää 
if
ãã 
(
ãã 
(
ãã 
string
ãã #
)
ãã# $
(
ãã$ %
dr
ãã% '
[
ãã' (
$str
ãã( 8
]
ãã8 9
+
ãã: ;
$str
ãã< >
)
ãã> ?
.
ãã? @
Trim
ãã@ D
(
ããD E
)
ããE F
==
ããG I
$str
ããJ P
)
ããP Q
{
åå 
aseg12
çç "
=
çç# $
$str
çç% )
;
çç) *
}
éé %
oFinanciamientoDetalleE
êê /
.
êê/ 0
CodAseguradora1
êê0 ?
=
êê@ A
aseg1
êêB G
;
êêG H%
oFinanciamientoDetalleE
ëë /
.
ëë/ 0
CodAseguradora2
ëë0 ?
=
ëë@ A
aseg2
ëëB G
;
ëëG H%
oFinanciamientoDetalleE
íí /
.
íí/ 0
CodAseguradora3
íí0 ?
=
íí@ A
aseg3
ííB G
;
ííG H%
oFinanciamientoDetalleE
ìì /
.
ìì/ 0
CodAseguradora4
ìì0 ?
=
ìì@ A
aseg4
ììB G
;
ììG H%
oFinanciamientoDetalleE
îî /
.
îî/ 0
CodAseguradora5
îî0 ?
=
îî@ A
aseg5
îîB G
;
îîG H%
oFinanciamientoDetalleE
ïï /
.
ïï/ 0
CodAseguradora6
ïï0 ?
=
ïï@ A
aseg6
ïïB G
;
ïïG H%
oFinanciamientoDetalleE
ññ /
.
ññ/ 0
CodAseguradora7
ññ0 ?
=
ññ@ A
aseg7
ññB G
;
ññG H%
oFinanciamientoDetalleE
óó /
.
óó/ 0
CodAseguradora8
óó0 ?
=
óó@ A
aseg8
óóB G
;
óóG H%
oFinanciamientoDetalleE
òò /
.
òò/ 0
CodAseguradora9
òò0 ?
=
òò@ A
aseg9
òòB G
;
òòG H%
oFinanciamientoDetalleE
ôô /
.
ôô/ 0
CodAseguradora10
ôô0 @
=
ôôA B
aseg10
ôôC I
;
ôôI J%
oFinanciamientoDetalleE
öö /
.
öö/ 0
CodAseguradora11
öö0 @
=
ööA B
aseg11
ööC I
;
ööI J%
oFinanciamientoDetalleE
õõ /
.
õõ/ 0
CodAseguradora12
õõ0 @
=
õõA B
aseg12
õõC I
;
õõI J
return
ûû %
oFinanciamientoDetalleE
ûû *
;
ûû* +
}
üü 	
private
¢¢ $
FinanciamientoDetalleE
¢¢ &%
LlenarEntidadDetResumen
¢¢' >
(
¢¢> ?$
FinanciamientoDetalleE
¢¢? U
item
¢¢V Z
,
¢¢Z [
int
¢¢\ _
pOrden
¢¢` f
)
¢¢f g
{
££ 	$
FinanciamientoDetalleE
§§ "%
oFinanciamientoDetalleE
§§# :
=
§§; <
new
§§= @$
FinanciamientoDetalleE
§§A W
(
§§W X
)
§§X Y
;
§§Y Z%
oFinanciamientoDetalleE
¶¶ #
.
¶¶# $
Item
¶¶$ (
=
¶¶) *
IdItem
¶¶+ 1
;
¶¶1 2%
oFinanciamientoDetalleE
ßß #
.
ßß# $&
Ide_AnalisisxDiagnostico
ßß$ <
=
ßß= >
item
ßß? C
.
ßßC D&
Ide_AnalisisxDiagnostico
ßßD \
.
ßß\ ]
Trim
ßß] a
(
ßßa b
)
ßßb c
;
ßßc d%
oFinanciamientoDetalleE
®® #
.
®®# $
Ide_AnalisisTemp
®®$ 4
=
®®5 6
item
®®7 ;
.
®®; <
Ide_AnalisisTemp
®®< L
.
®®L M
Trim
®®M Q
(
®®Q R
)
®®R S
;
®®S T%
oFinanciamientoDetalleE
©© #
.
©©# $
Ide_Analisis
©©$ 0
=
©©1 2
item
©©3 7
.
©©7 8
Ide_Analisis
©©8 D
.
©©D E
Trim
©©E I
(
©©I J
)
©©J K
;
©©K L%
oFinanciamientoDetalleE
™™ #
.
™™# $
Cod_Diagnostico
™™$ 3
=
™™4 5
item
™™6 :
.
™™: ;
Cod_Diagnostico
™™; J
.
™™J K
Trim
™™K O
(
™™O P
)
™™P Q
;
™™Q R%
oFinanciamientoDetalleE
´´ #
.
´´# $ 
Nombre_Diagnostico
´´$ 6
=
´´7 8
item
´´9 =
.
´´= > 
Nombre_Diagnostico
´´> P
.
´´P Q
Trim
´´Q U
(
´´U V
)
´´V W
;
´´W X%
oFinanciamientoDetalleE
¨¨ #
.
¨¨# $
Cod_Prestacion
¨¨$ 2
=
¨¨3 4
item
¨¨5 9
.
¨¨9 :
Cod_Prestacion
¨¨: H
.
¨¨H I
Trim
¨¨I M
(
¨¨M N
)
¨¨N O
;
¨¨O P%
oFinanciamientoDetalleE
≠≠ #
.
≠≠# $
Cod_ROE
≠≠$ +
=
≠≠, -
item
≠≠. 2
.
≠≠2 3
Cod_ROE
≠≠3 :
.
≠≠: ;
Trim
≠≠; ?
(
≠≠? @
)
≠≠@ A
;
≠≠A B%
oFinanciamientoDetalleE
ÆÆ #
.
ÆÆ# $

Prueba_ROE
ÆÆ$ .
=
ÆÆ/ 0
item
ÆÆ1 5
.
ÆÆ5 6

Prueba_ROE
ÆÆ6 @
.
ÆÆ@ A
Trim
ÆÆA E
(
ÆÆE F
)
ÆÆF G
;
ÆÆG H
if
∞∞ 
(
∞∞ 
item
∞∞ 
.
∞∞ 
CodAseguradora1
∞∞ $
.
∞∞$ %
Trim
∞∞% )
(
∞∞) *
)
∞∞* +
==
∞∞, .
$str
∞∞/ 5
)
∞∞5 6
{
±± 
aseg1
≤≤ 
=
≤≤ 
$str
≤≤ 
;
≤≤ 
}
≥≥ 
if
¥¥ 
(
¥¥ 
item
¥¥ 
.
¥¥ 
CodAseguradora1
¥¥ $
.
¥¥$ %
Trim
¥¥% )
(
¥¥) *
)
¥¥* +
==
¥¥, .
$str
¥¥/ 5
)
¥¥5 6
{
µµ 
aseg2
∂∂ 
=
∂∂ 
$str
∂∂ 
;
∂∂ 
}
∑∑ 
if
∏∏ 
(
∏∏ 
item
∏∏ 
.
∏∏ 
CodAseguradora1
∏∏ $
.
∏∏$ %
Trim
∏∏% )
(
∏∏) *
)
∏∏* +
==
∏∏, .
$str
∏∏/ 5
)
∏∏5 6
{
ππ 
aseg3
∫∫ 
=
∫∫ 
$str
∫∫ 
;
∫∫ 
}
ªª 
if
ºº 
(
ºº 
item
ºº 
.
ºº 
CodAseguradora1
ºº $
.
ºº$ %
Trim
ºº% )
(
ºº) *
)
ºº* +
==
ºº, .
$str
ºº/ 5
)
ºº5 6
{
ΩΩ 
aseg4
ææ 
=
ææ 
$str
ææ 
;
ææ 
}
øø 
if
¿¿ 
(
¿¿ 
item
¿¿ 
.
¿¿ 
CodAseguradora1
¿¿ $
.
¿¿$ %
Trim
¿¿% )
(
¿¿) *
)
¿¿* +
==
¿¿, .
$str
¿¿/ 5
)
¿¿5 6
{
¡¡ 
aseg5
¬¬ 
=
¬¬ 
$str
¬¬ 
;
¬¬ 
}
√√ 
if
ƒƒ 
(
ƒƒ 
item
ƒƒ 
.
ƒƒ 
CodAseguradora1
ƒƒ $
.
ƒƒ$ %
Trim
ƒƒ% )
(
ƒƒ) *
)
ƒƒ* +
==
ƒƒ, .
$str
ƒƒ/ 5
)
ƒƒ5 6
{
≈≈ 
aseg6
∆∆ 
=
∆∆ 
$str
∆∆ 
;
∆∆ 
}
«« 
if
»» 
(
»» 
item
»» 
.
»» 
CodAseguradora1
»» $
.
»»$ %
Trim
»»% )
(
»») *
)
»»* +
==
»», .
$str
»»/ 5
)
»»5 6
{
…… 
aseg7
   
=
   
$str
   
;
   
}
ÀÀ 
if
ÃÃ 
(
ÃÃ 
item
ÃÃ 
.
ÃÃ 
CodAseguradora1
ÃÃ $
.
ÃÃ$ %
Trim
ÃÃ% )
(
ÃÃ) *
)
ÃÃ* +
==
ÃÃ, .
$str
ÃÃ/ 5
)
ÃÃ5 6
{
ÕÕ 
aseg8
ŒŒ 
=
ŒŒ 
$str
ŒŒ 
;
ŒŒ 
}
œœ 
if
–– 
(
–– 
item
–– 
.
–– 
CodAseguradora1
–– $
.
––$ %
Trim
––% )
(
––) *
)
––* +
==
––, .
$str
––/ 5
)
––5 6
{
—— 
aseg9
““ 
=
““ 
$str
““ 
;
““ 
}
”” 
if
‘‘ 
(
‘‘ 
item
‘‘ 
.
‘‘ 
CodAseguradora1
‘‘ $
.
‘‘$ %
Trim
‘‘% )
(
‘‘) *
)
‘‘* +
==
‘‘, .
$str
‘‘/ 5
)
‘‘5 6
{
’’ 
aseg10
÷÷ 
=
÷÷ 
$str
÷÷ 
;
÷÷ 
}
◊◊ 
if
ÿÿ 
(
ÿÿ 
item
ÿÿ 
.
ÿÿ 
CodAseguradora1
ÿÿ $
.
ÿÿ$ %
Trim
ÿÿ% )
(
ÿÿ) *
)
ÿÿ* +
==
ÿÿ, .
$str
ÿÿ/ 5
)
ÿÿ5 6
{
ŸŸ 
aseg11
⁄⁄ 
=
⁄⁄ 
$str
⁄⁄ 
;
⁄⁄ 
}
€€ 
if
‹‹ 
(
‹‹ 
item
‹‹ 
.
‹‹ 
CodAseguradora1
‹‹ $
.
‹‹$ %
Trim
‹‹% )
(
‹‹) *
)
‹‹* +
==
‹‹, .
$str
‹‹/ 5
)
‹‹5 6
{
›› 
aseg12
ﬁﬁ 
=
ﬁﬁ 
$str
ﬁﬁ 
;
ﬁﬁ 
}
ﬂﬂ 
if
·· 
(
·· 
!
·· 
item
·· 
.
·· 
CodAseguradora
·· $
.
··$ %
Trim
··% )
(
··) *
)
··* +
.
··+ ,
ToUpper
··, 3
(
··3 4
)
··4 5
.
··5 6
Equals
··6 <
(
··< =
$str
··= A
)
··A B
)
··B C
{
‚‚ 
aseg1Neg
„„ 
=
„„ 
item
„„ 
.
„„  
CodAseguradora
„„  .
.
„„. /
Trim
„„/ 3
(
„„3 4
)
„„4 5
;
„„5 6
Codaseg1Neg
‰‰ 
=
‰‰ 
$str
‰‰ !
+
‰‰" #
item
‰‰$ (
.
‰‰( ) 
CodAseguradoraMask
‰‰) ;
.
‰‰; <
Trim
‰‰< @
(
‰‰@ A
)
‰‰A B
+
‰‰C D
$str
‰‰E I
;
‰‰I J
}
ÂÂ 
if
ÁÁ 
(
ÁÁ 
!
ÁÁ 
item
ÁÁ 
.
ÁÁ 
CodAseguradora2
ÁÁ %
.
ÁÁ% &
Trim
ÁÁ& *
(
ÁÁ* +
)
ÁÁ+ ,
.
ÁÁ, -
ToUpper
ÁÁ- 4
(
ÁÁ4 5
)
ÁÁ5 6
.
ÁÁ6 7
Equals
ÁÁ7 =
(
ÁÁ= >
$str
ÁÁ> B
)
ÁÁB C
)
ÁÁC D
{
ËË 
aseg2Neg
ÈÈ 
=
ÈÈ 
item
ÈÈ 
.
ÈÈ  
CodAseguradora2
ÈÈ  /
.
ÈÈ/ 0
Trim
ÈÈ0 4
(
ÈÈ4 5
)
ÈÈ5 6
;
ÈÈ6 7
Codaseg2Neg
ÍÍ 
=
ÍÍ 
$str
ÍÍ !
+
ÍÍ" #
item
ÍÍ$ (
.
ÍÍ( ) 
CodAseguradoraMask
ÍÍ) ;
.
ÍÍ; <
Trim
ÍÍ< @
(
ÍÍ@ A
)
ÍÍA B
+
ÍÍC D
$str
ÍÍE I
;
ÍÍI J
}
ÎÎ 
if
ÌÌ 
(
ÌÌ 
!
ÌÌ 
item
ÌÌ 
.
ÌÌ 
CodAseguradora3
ÌÌ %
.
ÌÌ% &
Trim
ÌÌ& *
(
ÌÌ* +
)
ÌÌ+ ,
.
ÌÌ, -
ToUpper
ÌÌ- 4
(
ÌÌ4 5
)
ÌÌ5 6
.
ÌÌ6 7
Equals
ÌÌ7 =
(
ÌÌ= >
$str
ÌÌ> B
)
ÌÌB C
)
ÌÌC D
{
ÓÓ 
aseg3Neg
ÔÔ 
=
ÔÔ 
item
ÔÔ 
.
ÔÔ  
CodAseguradora3
ÔÔ  /
.
ÔÔ/ 0
Trim
ÔÔ0 4
(
ÔÔ4 5
)
ÔÔ5 6
;
ÔÔ6 7
Codaseg3Neg
 
=
 
$str
 !
+
" #
item
$ (
.
( ) 
CodAseguradoraMask
) ;
.
; <
Trim
< @
(
@ A
)
A B
+
C D
$str
E I
;
I J
}
ÒÒ 
if
ÛÛ 
(
ÛÛ 
!
ÛÛ 
item
ÛÛ 
.
ÛÛ 
CodAseguradora4
ÛÛ %
.
ÛÛ% &
Trim
ÛÛ& *
(
ÛÛ* +
)
ÛÛ+ ,
.
ÛÛ, -
ToUpper
ÛÛ- 4
(
ÛÛ4 5
)
ÛÛ5 6
.
ÛÛ6 7
Equals
ÛÛ7 =
(
ÛÛ= >
$str
ÛÛ> B
)
ÛÛB C
)
ÛÛC D
{
ÙÙ 
aseg4Neg
ıı 
=
ıı 
item
ıı 
.
ıı  
CodAseguradora4
ıı  /
.
ıı/ 0
Trim
ıı0 4
(
ıı4 5
)
ıı5 6
;
ıı6 7
Codaseg4Neg
ˆˆ 
=
ˆˆ 
$str
ˆˆ !
+
ˆˆ" #
item
ˆˆ$ (
.
ˆˆ( ) 
CodAseguradoraMask
ˆˆ) ;
.
ˆˆ; <
Trim
ˆˆ< @
(
ˆˆ@ A
)
ˆˆA B
+
ˆˆC D
$str
ˆˆE I
;
ˆˆI J
}
˜˜ 
if
˘˘ 
(
˘˘ 
!
˘˘ 
item
˘˘ 
.
˘˘ 
CodAseguradora5
˘˘ %
.
˘˘% &
Trim
˘˘& *
(
˘˘* +
)
˘˘+ ,
.
˘˘, -
ToUpper
˘˘- 4
(
˘˘4 5
)
˘˘5 6
.
˘˘6 7
Equals
˘˘7 =
(
˘˘= >
$str
˘˘> B
)
˘˘B C
)
˘˘C D
{
˙˙ 
aseg5Neg
˚˚ 
=
˚˚ 
item
˚˚ 
.
˚˚  
CodAseguradora5
˚˚  /
.
˚˚/ 0
Trim
˚˚0 4
(
˚˚4 5
)
˚˚5 6
;
˚˚6 7
Codaseg5Neg
¸¸ 
=
¸¸ 
$str
¸¸ !
+
¸¸" #
item
¸¸$ (
.
¸¸( ) 
CodAseguradoraMask
¸¸) ;
.
¸¸; <
Trim
¸¸< @
(
¸¸@ A
)
¸¸A B
+
¸¸C D
$str
¸¸E I
;
¸¸I J
}
˝˝ 
if
ˇˇ 
(
ˇˇ 
!
ˇˇ 
item
ˇˇ 
.
ˇˇ 
CodAseguradora6
ˇˇ %
.
ˇˇ% &
Trim
ˇˇ& *
(
ˇˇ* +
)
ˇˇ+ ,
.
ˇˇ, -
ToUpper
ˇˇ- 4
(
ˇˇ4 5
)
ˇˇ5 6
.
ˇˇ6 7
Equals
ˇˇ7 =
(
ˇˇ= >
$str
ˇˇ> B
)
ˇˇB C
)
ˇˇC D
{
ÄÄ 
aseg6Neg
ÅÅ 
=
ÅÅ 
item
ÅÅ 
.
ÅÅ  
CodAseguradora6
ÅÅ  /
.
ÅÅ/ 0
Trim
ÅÅ0 4
(
ÅÅ4 5
)
ÅÅ5 6
;
ÅÅ6 7
Codaseg6Neg
ÇÇ 
=
ÇÇ 
$str
ÇÇ !
+
ÇÇ" #
item
ÇÇ$ (
.
ÇÇ( ) 
CodAseguradoraMask
ÇÇ) ;
.
ÇÇ; <
Trim
ÇÇ< @
(
ÇÇ@ A
)
ÇÇA B
+
ÇÇC D
$str
ÇÇE I
;
ÇÇI J
}
ÉÉ 
if
ÖÖ 
(
ÖÖ 
!
ÖÖ 
item
ÖÖ 
.
ÖÖ 
CodAseguradora7
ÖÖ %
.
ÖÖ% &
Trim
ÖÖ& *
(
ÖÖ* +
)
ÖÖ+ ,
.
ÖÖ, -
ToUpper
ÖÖ- 4
(
ÖÖ4 5
)
ÖÖ5 6
.
ÖÖ6 7
Equals
ÖÖ7 =
(
ÖÖ= >
$str
ÖÖ> B
)
ÖÖB C
)
ÖÖC D
{
ÜÜ 
aseg7Neg
áá 
=
áá 
item
áá 
.
áá  
CodAseguradora7
áá  /
.
áá/ 0
Trim
áá0 4
(
áá4 5
)
áá5 6
;
áá6 7
Codaseg7Neg
àà 
=
àà 
$str
àà !
+
àà" #
item
àà$ (
.
àà( ) 
CodAseguradoraMask
àà) ;
.
àà; <
Trim
àà< @
(
àà@ A
)
ààA B
+
ààC D
$str
ààE I
;
ààI J
}
ââ 
if
ãã 
(
ãã 
!
ãã 
item
ãã 
.
ãã 
CodAseguradora8
ãã %
.
ãã% &
Trim
ãã& *
(
ãã* +
)
ãã+ ,
.
ãã, -
ToUpper
ãã- 4
(
ãã4 5
)
ãã5 6
.
ãã6 7
Equals
ãã7 =
(
ãã= >
$str
ãã> B
)
ããB C
)
ããC D
{
åå 
aseg8Neg
çç 
=
çç 
item
çç 
.
çç  
CodAseguradora8
çç  /
.
çç/ 0
Trim
çç0 4
(
çç4 5
)
çç5 6
;
çç6 7
Codaseg8Neg
éé 
=
éé 
$str
éé !
+
éé" #
item
éé$ (
.
éé( ) 
CodAseguradoraMask
éé) ;
.
éé; <
Trim
éé< @
(
éé@ A
)
ééA B
+
ééC D
$str
ééE I
;
ééI J
}
èè 
if
ëë 
(
ëë 
!
ëë 
item
ëë 
.
ëë 
CodAseguradora9
ëë %
.
ëë% &
Trim
ëë& *
(
ëë* +
)
ëë+ ,
.
ëë, -
ToUpper
ëë- 4
(
ëë4 5
)
ëë5 6
.
ëë6 7
Equals
ëë7 =
(
ëë= >
$str
ëë> B
)
ëëB C
)
ëëC D
{
íí 
aseg9Neg
ìì 
=
ìì 
item
ìì 
.
ìì  
CodAseguradora9
ìì  /
.
ìì/ 0
Trim
ìì0 4
(
ìì4 5
)
ìì5 6
;
ìì6 7
Codaseg9Neg
îî 
=
îî 
$str
îî !
+
îî" #
item
îî$ (
.
îî( ) 
CodAseguradoraMask
îî) ;
.
îî; <
Trim
îî< @
(
îî@ A
)
îîA B
+
îîC D
$str
îîE I
;
îîI J
}
ïï 
if
óó 
(
óó 
!
óó 
item
óó 
.
óó 
CodAseguradora10
óó &
.
óó& '
Trim
óó' +
(
óó+ ,
)
óó, -
.
óó- .
ToUpper
óó. 5
(
óó5 6
)
óó6 7
.
óó7 8
Equals
óó8 >
(
óó> ?
$str
óó? C
)
óóC D
)
óóD E
{
òò 
	aseg10Neg
ôô 
=
ôô 
item
ôô  
.
ôô  !
CodAseguradora10
ôô! 1
.
ôô1 2
Trim
ôô2 6
(
ôô6 7
)
ôô7 8
;
ôô8 9
Codaseg10Neg
öö 
=
öö 
$str
öö "
+
öö# $
item
öö% )
.
öö) * 
CodAseguradoraMask
öö* <
.
öö< =
Trim
öö= A
(
ööA B
)
ööB C
+
ööD E
$str
ööF J
;
ööJ K
}
õõ 
if
ùù 
(
ùù 
!
ùù 
item
ùù 
.
ùù 
CodAseguradora11
ùù &
.
ùù& '
Trim
ùù' +
(
ùù+ ,
)
ùù, -
.
ùù- .
ToUpper
ùù. 5
(
ùù5 6
)
ùù6 7
.
ùù7 8
Equals
ùù8 >
(
ùù> ?
$str
ùù? C
)
ùùC D
)
ùùD E
{
ûû 
	aseg11Neg
üü 
=
üü 
item
üü  
.
üü  !
CodAseguradora11
üü! 1
.
üü1 2
Trim
üü2 6
(
üü6 7
)
üü7 8
;
üü8 9
Codaseg11Neg
†† 
=
†† 
$str
†† "
+
††# $
item
††% )
.
††) * 
CodAseguradoraMask
††* <
.
††< =
Trim
††= A
(
††A B
)
††B C
+
††D E
$str
††F J
;
††J K
}
°° 
if
££ 
(
££ 
!
££ 
item
££ 
.
££ 
CodAseguradora12
££ &
.
££& '
Trim
££' +
(
££+ ,
)
££, -
.
££- .
ToUpper
££. 5
(
££5 6
)
££6 7
.
££7 8
Equals
££8 >
(
££> ?
$str
££? C
)
££C D
)
££D E
{
§§ 
	aseg12Neg
•• 
=
•• 
item
••  
.
••  !
CodAseguradora12
••! 1
.
••1 2
Trim
••2 6
(
••6 7
)
••7 8
;
••8 9
Codaseg12Neg
¶¶ 
=
¶¶ 
$str
¶¶ "
+
¶¶# $
item
¶¶% )
.
¶¶) * 
CodAseguradoraMask
¶¶* <
.
¶¶< =
Trim
¶¶= A
(
¶¶A B
)
¶¶B C
+
¶¶D E
$str
¶¶F J
;
¶¶J K
}
ßß %
oFinanciamientoDetalleE
©© #
.
©©# $
CodAseguradora1
©©$ 3
=
©©4 5
aseg1Neg
©©6 >
.
©©> ?
Equals
©©? E
(
©©E F
$str
©©F J
)
©©J K
?
©©L M
aseg1
©©N S
:
©©T U
aseg1Neg
©©V ^
;
©©^ _%
oFinanciamientoDetalleE
™™ #
.
™™# $
CodAseguradora2
™™$ 3
=
™™4 5
aseg2Neg
™™6 >
.
™™> ?
Equals
™™? E
(
™™E F
$str
™™F J
)
™™J K
?
™™L M
aseg2
™™N S
:
™™T U
aseg2Neg
™™V ^
;
™™^ _%
oFinanciamientoDetalleE
´´ #
.
´´# $
CodAseguradora3
´´$ 3
=
´´4 5
aseg3Neg
´´6 >
.
´´> ?
Equals
´´? E
(
´´E F
$str
´´F J
)
´´J K
?
´´L M
aseg3
´´N S
:
´´T U
aseg3Neg
´´V ^
;
´´^ _%
oFinanciamientoDetalleE
¨¨ #
.
¨¨# $
CodAseguradora4
¨¨$ 3
=
¨¨4 5
aseg4Neg
¨¨6 >
.
¨¨> ?
Equals
¨¨? E
(
¨¨E F
$str
¨¨F J
)
¨¨J K
?
¨¨L M
aseg4
¨¨N S
:
¨¨T U
aseg4Neg
¨¨V ^
;
¨¨^ _%
oFinanciamientoDetalleE
≠≠ #
.
≠≠# $
CodAseguradora5
≠≠$ 3
=
≠≠4 5
aseg5Neg
≠≠6 >
.
≠≠> ?
Equals
≠≠? E
(
≠≠E F
$str
≠≠F J
)
≠≠J K
?
≠≠L M
aseg5
≠≠N S
:
≠≠T U
aseg5Neg
≠≠V ^
;
≠≠^ _%
oFinanciamientoDetalleE
ÆÆ #
.
ÆÆ# $
CodAseguradora6
ÆÆ$ 3
=
ÆÆ4 5
aseg6Neg
ÆÆ6 >
.
ÆÆ> ?
Equals
ÆÆ? E
(
ÆÆE F
$str
ÆÆF J
)
ÆÆJ K
?
ÆÆL M
aseg6
ÆÆN S
:
ÆÆT U
aseg6Neg
ÆÆV ^
;
ÆÆ^ _%
oFinanciamientoDetalleE
ØØ #
.
ØØ# $
CodAseguradora7
ØØ$ 3
=
ØØ4 5
aseg7Neg
ØØ6 >
.
ØØ> ?
Equals
ØØ? E
(
ØØE F
$str
ØØF J
)
ØØJ K
?
ØØL M
aseg7
ØØN S
:
ØØT U
aseg7Neg
ØØV ^
;
ØØ^ _%
oFinanciamientoDetalleE
∞∞ #
.
∞∞# $
CodAseguradora8
∞∞$ 3
=
∞∞4 5
aseg8Neg
∞∞6 >
.
∞∞> ?
Equals
∞∞? E
(
∞∞E F
$str
∞∞F J
)
∞∞J K
?
∞∞L M
aseg8
∞∞N S
:
∞∞T U
aseg8Neg
∞∞V ^
;
∞∞^ _%
oFinanciamientoDetalleE
±± #
.
±±# $
CodAseguradora9
±±$ 3
=
±±4 5
aseg9Neg
±±6 >
.
±±> ?
Equals
±±? E
(
±±E F
$str
±±F J
)
±±J K
?
±±L M
aseg9
±±N S
:
±±T U
aseg9Neg
±±V ^
;
±±^ _%
oFinanciamientoDetalleE
≤≤ #
.
≤≤# $
CodAseguradora10
≤≤$ 4
=
≤≤5 6
	aseg10Neg
≤≤7 @
.
≤≤@ A
Equals
≤≤A G
(
≤≤G H
$str
≤≤H L
)
≤≤L M
?
≤≤N O
aseg10
≤≤P V
:
≤≤W X
	aseg10Neg
≤≤Y b
;
≤≤b c%
oFinanciamientoDetalleE
≥≥ #
.
≥≥# $
CodAseguradora11
≥≥$ 4
=
≥≥5 6
	aseg11Neg
≥≥7 @
.
≥≥@ A
Equals
≥≥A G
(
≥≥G H
$str
≥≥H L
)
≥≥L M
?
≥≥N O
aseg11
≥≥P V
:
≥≥W X
	aseg11Neg
≥≥Y b
;
≥≥b c%
oFinanciamientoDetalleE
¥¥ #
.
¥¥# $
CodAseguradora12
¥¥$ 4
=
¥¥5 6
	aseg12Neg
¥¥7 @
.
¥¥@ A
Equals
¥¥A G
(
¥¥G H
$str
¥¥H L
)
¥¥L M
?
¥¥N O
aseg12
¥¥P V
:
¥¥W X
	aseg12Neg
¥¥Y b
;
¥¥b c
if
∂∂ 
(
∂∂ 
!
∂∂ 
item
∂∂ 
.
∂∂ 
Observacion
∂∂ !
.
∂∂! "
Trim
∂∂" &
(
∂∂& '
)
∂∂' (
.
∂∂( )
Equals
∂∂) /
(
∂∂/ 0
$str
∂∂0 2
)
∂∂2 3
)
∂∂3 4
{
∑∑ 
obsPrincipal
∏∏ 
=
∏∏ 
item
∏∏ #
.
∏∏# $
Observacion
∏∏$ /
.
∏∏/ 0
Trim
∏∏0 4
(
∏∏4 5
)
∏∏5 6
;
∏∏6 7
}
ππ 
if
ªª 
(
ªª 
!
ªª 
item
ªª 
.
ªª $
ObservacionsSecundaria
ªª ,
.
ªª, -
Trim
ªª- 1
(
ªª1 2
)
ªª2 3
.
ªª3 4
Equals
ªª4 :
(
ªª: ;
$str
ªª; =
)
ªª= >
)
ªª> ?
{
ºº 
obsSecundaria
ΩΩ 
=
ΩΩ 
$str
ΩΩ  C
+
ææ 
Codaseg1Neg
ææ !
+
ææ" #
Codaseg2Neg
ææ$ /
+
ææ0 1
Codaseg3Neg
ææ2 =
+
ææ> ?
Codaseg4Neg
ææ@ K
+
ææL M
Codaseg5Neg
ææN Y
+
ææZ [
Codaseg6Neg
ææ\ g
+
øø 
Codaseg7Neg
øø !
+
øø" #
Codaseg8Neg
øø$ /
+
øø0 1
Codaseg9Neg
øø2 =
+
øø> ?
Codaseg10Neg
øø@ L
+
øøM N
Codaseg11Neg
øøO [
+
øø\ ]
Codaseg12Neg
øø^ j
+
øøk l
$str
¿¿ X
;
¿¿X Y
}
¡¡ %
oFinanciamientoDetalleE
√√ #
.
√√# $
Observacion
√√$ /
=
√√0 1
obsPrincipal
√√2 >
+
√√? @
$str
√√A D
+
√√E F
obsSecundaria
√√G T
;
√√T U
return
≈≈ %
oFinanciamientoDetalleE
≈≈ *
;
≈≈* +
}
∆∆ 	
private
…… $
FinanciamientoDetalleE
…… &+
LlenarEntidadAnalisisAtencion
……' D
(
……D E
IDataReader
……E P
dr
……Q S
,
……S T
int
……U X
pOrden
……Y _
)
……_ `
{
   	$
FinanciamientoDetalleE
ÀÀ "%
oFinanciamientoDetalleE
ÀÀ# :
=
ÀÀ; <
new
ÀÀ= @$
FinanciamientoDetalleE
ÀÀA W
(
ÀÀW X
)
ÀÀX Y
;
ÀÀY Z%
oFinanciamientoDetalleE
ÕÕ #
.
ÕÕ# $
Item
ÕÕ$ (
=
ÕÕ) *
IdItem
ÕÕ+ 1
;
ÕÕ1 2%
oFinanciamientoDetalleE
ŒŒ #
.
ŒŒ# $
Ide_Analisis
ŒŒ$ 0
=
ŒŒ1 2
(
ŒŒ3 4
string
ŒŒ4 :
)
ŒŒ: ;
(
ŒŒ; <
dr
ŒŒ< >
[
ŒŒ> ?
$str
ŒŒ? M
]
ŒŒM N
+
ŒŒO P
$str
ŒŒQ S
)
ŒŒS T
.
ŒŒT U
Trim
ŒŒU Y
(
ŒŒY Z
)
ŒŒZ [
;
ŒŒ[ \%
oFinanciamientoDetalleE
œœ #
.
œœ# $
Cod_ROE
œœ$ +
=
œœ, -
(
œœ. /
string
œœ/ 5
)
œœ5 6
(
œœ6 7
dr
œœ7 9
[
œœ9 :
$str
œœ: H
]
œœH I
+
œœJ K
$str
œœL N
)
œœN O
.
œœO P
Trim
œœP T
(
œœT U
)
œœU V
;
œœV W%
oFinanciamientoDetalleE
–– #
.
––# $

Prueba_ROE
––$ .
=
––/ 0
(
––1 2
string
––2 8
)
––8 9
(
––9 :
dr
––: <
[
––< =
$str
––= K
]
––K L
+
––M N
$str
––O Q
)
––Q R
.
––R S
Trim
––S W
(
––W X
)
––X Y
;
––Y Z%
oFinanciamientoDetalleE
—— #
.
——# $
Tipo_Atencion
——$ 1
=
——2 3
(
——4 5
string
——5 ;
)
——; <
(
——< =
dr
——= ?
[
——? @
$str
——@ R
]
——R S
+
——T U
$str
——V X
)
——X Y
.
——Y Z
Trim
——Z ^
(
——^ _
)
——_ `
;
——` a
return
““ %
oFinanciamientoDetalleE
““ *
;
““* +
}
”” 	
private
÷÷ $
FinanciamientoDetalleE
÷÷ & 
LlenarEntidadCIE10
÷÷' 9
(
÷÷9 :
IDataReader
÷÷: E
dr
÷÷F H
,
÷÷H I
int
÷÷J M
pOrden
÷÷N T
)
÷÷T U
{
◊◊ 	$
FinanciamientoDetalleE
ÿÿ "%
oFinanciamientoDetalleE
ÿÿ# :
=
ÿÿ; <
new
ÿÿ= @$
FinanciamientoDetalleE
ÿÿA W
(
ÿÿW X
)
ÿÿX Y
;
ÿÿY Z%
oFinanciamientoDetalleE
⁄⁄ #
.
⁄⁄# $
Item
⁄⁄$ (
=
⁄⁄) *
IdItem
⁄⁄+ 1
;
⁄⁄1 2%
oFinanciamientoDetalleE
€€ #
.
€€# $
Cod_Diagnostico
€€$ 3
=
€€4 5
(
€€6 7
string
€€7 =
)
€€= >
(
€€> ?
dr
€€? A
[
€€A B
$str
€€B S
]
€€S T
+
€€U V
$str
€€W Y
)
€€Y Z
.
€€Z [
Trim
€€[ _
(
€€_ `
)
€€` a
;
€€a b%
oFinanciamientoDetalleE
‹‹ #
.
‹‹# $ 
Nombre_Diagnostico
‹‹$ 6
=
‹‹7 8
(
‹‹9 :
string
‹‹: @
)
‹‹@ A
(
‹‹A B
dr
‹‹B D
[
‹‹D E
$str
‹‹E M
]
‹‹M N
+
‹‹O P
$str
‹‹Q S
)
‹‹S T
.
‹‹T U
Trim
‹‹U Y
(
‹‹Y Z
)
‹‹Z [
;
‹‹[ \
return
›› %
oFinanciamientoDetalleE
›› *
;
››* +
}
ﬁﬁ 	
private
·· $
FinanciamientoDetalleE
·· &#
LlenarEntidadAnalisis
··' <
(
··< =
IDataReader
··= H
dr
··I K
,
··K L
int
··M P
pOrden
··Q W
)
··W X
{
‚‚ 	$
FinanciamientoDetalleE
„„ "%
oFinanciamientoDetalleE
„„# :
=
„„; <
new
„„= @$
FinanciamientoDetalleE
„„A W
(
„„W X
)
„„X Y
;
„„Y Z%
oFinanciamientoDetalleE
‰‰ #
.
‰‰# $
Item
‰‰$ (
=
‰‰) *
IdItem
‰‰+ 1
;
‰‰1 2%
oFinanciamientoDetalleE
ÂÂ #
.
ÂÂ# $
Ide_Analisis
ÂÂ$ 0
=
ÂÂ1 2
(
ÂÂ3 4
string
ÂÂ4 :
)
ÂÂ: ;
(
ÂÂ; <
dr
ÂÂ< >
[
ÂÂ> ?
$str
ÂÂ? M
]
ÂÂM N
+
ÂÂO P
$str
ÂÂQ S
)
ÂÂS T
.
ÂÂT U
Trim
ÂÂU Y
(
ÂÂY Z
)
ÂÂZ [
;
ÂÂ[ \%
oFinanciamientoDetalleE
ÊÊ #
.
ÊÊ# $
Tipo_Atencion
ÊÊ$ 1
=
ÊÊ2 3
(
ÊÊ4 5
string
ÊÊ5 ;
)
ÊÊ; <
(
ÊÊ< =
dr
ÊÊ= ?
[
ÊÊ? @
$str
ÊÊ@ R
]
ÊÊR S
+
ÊÊT U
$str
ÊÊV X
)
ÊÊX Y
.
ÊÊY Z
Trim
ÊÊZ ^
(
ÊÊ^ _
)
ÊÊ_ `
;
ÊÊ` a%
oFinanciamientoDetalleE
ÁÁ #
.
ÁÁ# $
Cod_ROE
ÁÁ$ +
=
ÁÁ, -
(
ÁÁ. /
string
ÁÁ/ 5
)
ÁÁ5 6
(
ÁÁ6 7
dr
ÁÁ7 9
[
ÁÁ9 :
$str
ÁÁ: H
]
ÁÁH I
+
ÁÁJ K
$str
ÁÁL N
)
ÁÁN O
.
ÁÁO P
Trim
ÁÁP T
(
ÁÁT U
)
ÁÁU V
;
ÁÁV W%
oFinanciamientoDetalleE
ËË #
.
ËË# $

Prueba_ROE
ËË$ .
=
ËË/ 0
(
ËË1 2
string
ËË2 8
)
ËË8 9
(
ËË9 :
dr
ËË: <
[
ËË< =
$str
ËË= K
]
ËËK L
+
ËËM N
$str
ËËO Q
)
ËËQ R
.
ËËR S
Trim
ËËS W
(
ËËW X
)
ËËX Y
;
ËËY Z
return
ÈÈ %
oFinanciamientoDetalleE
ÈÈ *
;
ÈÈ* +
}
ÍÍ 	
private
ÌÌ $
FinanciamientoDetalleE
ÌÌ &&
LlenarEntidadAseguradora
ÌÌ' ?
(
ÌÌ? @
IDataReader
ÌÌ@ K
dr
ÌÌL N
,
ÌÌN O
int
ÌÌP S
pOrden
ÌÌT Z
)
ÌÌZ [
{
ÓÓ 	$
FinanciamientoDetalleE
ÔÔ "%
oFinanciamientoDetalleE
ÔÔ# :
=
ÔÔ; <
new
ÔÔ= @$
FinanciamientoDetalleE
ÔÔA W
(
ÔÔW X
)
ÔÔX Y
;
ÔÔY Z%
oFinanciamientoDetalleE
ÒÒ #
.
ÒÒ# $
Item
ÒÒ$ (
=
ÒÒ) *
IdItem
ÒÒ+ 1
;
ÒÒ1 2%
oFinanciamientoDetalleE
ÚÚ #
.
ÚÚ# $
CodAseguradora1
ÚÚ$ 3
=
ÚÚ4 5
(
ÚÚ6 7
string
ÚÚ7 =
)
ÚÚ= >
(
ÚÚ> ?
dr
ÚÚ? A
[
ÚÚA B
$str
ÚÚB R
]
ÚÚR S
+
ÚÚT U
$str
ÚÚV X
)
ÚÚX Y
.
ÚÚY Z
Trim
ÚÚZ ^
(
ÚÚ^ _
)
ÚÚ_ `
;
ÚÚ` a%
oFinanciamientoDetalleE
ÛÛ #
.
ÛÛ# $ 
Nombre_Aseguradora
ÛÛ$ 6
=
ÛÛ7 8
(
ÛÛ9 :
string
ÛÛ: @
)
ÛÛ@ A
(
ÛÛA B
dr
ÛÛB D
[
ÛÛD E
$str
ÛÛE M
]
ÛÛM N
+
ÛÛO P
$str
ÛÛQ S
)
ÛÛS T
.
ÛÛT U
Trim
ÛÛU Y
(
ÛÛY Z
)
ÛÛZ [
;
ÛÛ[ \
return
ÙÙ %
oFinanciamientoDetalleE
ÙÙ *
;
ÙÙ* +
}
ıı 	
public
¯¯ 
List
¯¯ 
<
¯¯ $
FinanciamientoDetalleE
¯¯ *
>
¯¯* +*
Sp_FinanciamientoLaboratorio
¯¯, H
(
¯¯H I$
FinanciamientoDetalleE
¯¯I _!
pFinanciamientoDetE
¯¯` s
)
¯¯s t
{
˘˘ 	
IDataReader
˙˙ 
dr
˙˙ 
;
˙˙ $
FinanciamientoDetalleE
˚˚ "!
oFinanciamientoDetE
˚˚# 6
=
˚˚7 8
null
˚˚9 =
;
˚˚= >
List
˝˝ 
<
˝˝ $
FinanciamientoDetalleE
˝˝ '
>
˝˝' (
oListar
˝˝) 0
=
˝˝1 2
new
˝˝3 6
List
˝˝7 ;
<
˝˝; <$
FinanciamientoDetalleE
˝˝< R
>
˝˝R S
(
˝˝S T
)
˝˝T U
;
˝˝U V
List
˛˛ 
<
˛˛ $
FinanciamientoDetalleE
˛˛ '
>
˛˛' (
oListarFinal
˛˛) 5
=
˛˛6 7
new
˛˛8 ;
List
˛˛< @
<
˛˛@ A$
FinanciamientoDetalleE
˛˛A W
>
˛˛W X
(
˛˛X Y
)
˛˛Y Z
;
˛˛Z [
try
ˇˇ 
{
ÄÄ 
using
ÅÅ 
(
ÅÅ 
SqlConnection
ÅÅ $
cnn
ÅÅ% (
=
ÅÅ) *
new
ÅÅ+ .
SqlConnection
ÅÅ/ <
(
ÅÅ< =
VariablesGlobales
ÅÅ= N
.
ÅÅN O

CnnClinica
ÅÅO Y
)
ÅÅY Z
)
ÅÅZ [
{
ÇÇ 
using
ÉÉ 
(
ÉÉ 

SqlCommand
ÉÉ %
cmd
ÉÉ& )
=
ÉÉ* +
new
ÉÉ, /

SqlCommand
ÉÉ0 :
(
ÉÉ: ;
$str
ÉÉ; Y
,
ÉÉY Z
cnn
ÉÉ[ ^
)
ÉÉ^ _
)
ÉÉ_ `
{
ÑÑ 
cmd
ÖÖ 
.
ÖÖ 
CommandType
ÖÖ '
=
ÖÖ( )
CommandType
ÖÖ* 5
.
ÖÖ5 6
StoredProcedure
ÖÖ6 E
;
ÖÖE F
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 =
,
áá= >!
pFinanciamientoDetE
áá? R
.
ááR S
Buscar
ááS Y
)
ááY Z
;
ááZ [
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 <
,
àà< =!
pFinanciamientoDetE
àà> Q
.
ààQ R
Orden
ààR W
)
ààW X
;
ààX Y
cnn
ää 
.
ää 
Open
ää  
(
ää  !
)
ää! "
;
ää" #
dr
ãã 
=
ãã 
cmd
ãã  
.
ãã  !
ExecuteReader
ãã! .
(
ãã. /
)
ãã/ 0
;
ãã0 1
string
éé 
ideAnalisisTemp
éé .
=
éé/ 0
string
éé1 7
.
éé7 8
Empty
éé8 =
;
éé= >
string
èè 
	cie10Temp
èè (
=
èè) *
string
èè+ 1
.
èè1 2
Empty
èè2 7
;
èè7 8
while
êê 
(
êê 
dr
êê !
.
êê! "
Read
êê" &
(
êê& '
)
êê' (
)
êê( )
{
ëë 
int
ìì 
count
ìì  %
=
ìì& '
dr
ìì( *
.
ìì* +

FieldCount
ìì+ 5
;
ìì5 6
if
ïï 
(
ïï  
!
ïï  !
ideAnalisisTemp
ïï! 0
.
ïï0 1
Equals
ïï1 7
(
ïï7 8
$str
ïï8 :
)
ïï: ;
)
ïï; <
{
ññ 
if
óó  "
(
óó# $
!
óó$ %
(
óó% &
ideAnalisisTemp
óó& 5
.
óó5 6
Equals
óó6 <
(
óó< =
(
óó= >
string
óó> D
)
óóD E
(
óóE F
dr
óóF H
[
óóH I
$str
óóI W
]
óóW X
+
óóY Z
$str
óó[ ]
)
óó] ^
.
óó^ _
Trim
óó_ c
(
óóc d
)
óód e
)
óóe f
&&
óóg i
	cie10Temp
óój s
.
óós t
Equals
óót z
(
óóz {
(
óó{ |
stringóó| Ç
)óóÇ É
(óóÉ Ñ
dróóÑ Ü
[óóÜ á
$stróóá ò
]óóò ô
+óóö õ
$stróóú û
)óóû ü
.óóü †
Trimóó† §
(óó§ •
)óó• ¶
)óó¶ ß
)óóß ®
)óó® ©
{
òò  !
oListar
öö$ +
.
öö+ ,
Add
öö, /
(
öö/ 0!
oFinanciamientoDetE
öö0 C
)
ööC D
;
ööD E
IdItem
õõ$ *
=
õõ+ ,
IdItem
õõ- 3
+
õõ4 5
$num
õõ6 7
;
õõ7 8
aseg1
úú$ )
=
úú* +
$str
úú, 0
;
úú0 1
aseg2
ùù$ )
=
ùù* +
$str
ùù, 0
;
ùù0 1
aseg3
ûû$ )
=
ûû* +
$str
ûû, 0
;
ûû0 1
aseg4
üü$ )
=
üü* +
$str
üü, 0
;
üü0 1
aseg5
††$ )
=
††* +
$str
††, 0
;
††0 1
aseg6
°°$ )
=
°°* +
$str
°°, 0
;
°°0 1
aseg7
¢¢$ )
=
¢¢* +
$str
¢¢, 0
;
¢¢0 1
aseg8
££$ )
=
££* +
$str
££, 0
;
££0 1
aseg9
§§$ )
=
§§* +
$str
§§, 0
;
§§0 1
aseg10
••$ *
=
••+ ,
$str
••- 1
;
••1 2
aseg11
¶¶$ *
=
¶¶+ ,
$str
¶¶- 1
;
¶¶1 2
aseg12
ßß$ *
=
ßß+ ,
$str
ßß- 1
;
ßß1 2
}
®®  !
}
©© !
oFinanciamientoDetE
¨¨ /
=
¨¨0 1
LlenarEntidadDet
¨¨2 B
(
¨¨B C
dr
¨¨C E
,
¨¨E F!
pFinanciamientoDetE
¨¨G Z
.
¨¨Z [
Orden
¨¨[ `
)
¨¨` a
;
¨¨a b
ideAnalisisTemp
≠≠ +
=
≠≠, -!
oFinanciamientoDetE
≠≠. A
.
≠≠A B
Ide_Analisis
≠≠B N
;
≠≠N O
	cie10Temp
ÆÆ %
=
ÆÆ& '!
oFinanciamientoDetE
ÆÆ( ;
.
ÆÆ; <
Cod_Diagnostico
ÆÆ< K
;
ÆÆK L
}
ØØ 
oListar
±± 
.
±±  
Add
±±  #
(
±±# $!
oFinanciamientoDetE
±±$ 7
)
±±7 8
;
±±8 9
dr
≥≥ 
.
≥≥ 
Close
≥≥  
(
≥≥  !
)
≥≥! "
;
≥≥" #
dr
¥¥ 
.
¥¥ 
Dispose
¥¥ "
(
¥¥" #
)
¥¥# $
;
¥¥$ %
cmd
µµ 
.
µµ 
Dispose
µµ #
(
µµ# $
)
µµ$ %
;
µµ% &
cnn
∂∂ 
.
∂∂ 
Close
∂∂ !
(
∂∂! "
)
∂∂" #
;
∂∂# $
cnn
∑∑ 
.
∑∑ 
Dispose
∑∑ #
(
∑∑# $
)
∑∑$ %
;
∑∑% &
int
ππ 
	countlist
ππ %
=
ππ& '
oListar
ππ( /
.
ππ/ 0
Count
ππ0 5
(
ππ5 6
)
ππ6 7
;
ππ7 8
if
ºº 
(
ºº 
	countlist
ºº %
>
ºº& '!
pFinanciamientoDetE
ºº( ;
.
ºº; <
NumeroLineas
ºº< H
)
ººH I
{
ººJ K
oListar
ΩΩ #
=
ΩΩ$ %
oListar
ΩΩ& -
.
ΩΩ- .
OrderBy
ΩΩ. 5
(
ΩΩ5 6
item
ΩΩ6 :
=>
ΩΩ; =
item
ΩΩ> B
.
ΩΩB C
Item
ΩΩC G
)
ΩΩG H
.
ΩΩH I
Take
ΩΩI M
(
ΩΩM N!
pFinanciamientoDetE
ΩΩN a
.
ΩΩa b
NumeroLineas
ΩΩb n
)
ΩΩn o
.
ΩΩo p
ToList
ΩΩp v
(
ΩΩv w
)
ΩΩw x
;
ΩΩx y
}
ææ 
if
¿¿ 
(
¿¿ 
oListar
¿¿ #
[
¿¿# $
$num
¿¿$ %
]
¿¿% &
==
¿¿& (
null
¿¿( ,
)
¿¿, -
{
¿¿. /
oListar
¡¡ #
.
¡¡# $
Clear
¡¡$ )
(
¡¡) *
)
¡¡* +
;
¡¡+ ,
}
¬¬ 
return
ƒƒ 
oListar
ƒƒ &
;
ƒƒ& '
}
≈≈ 
}
∆∆ 
}
«« 
catch
»» 
(
»» 
	Exception
»» 
ex
»» 
)
»»  
{
…… 
throw
   
new
   
	Exception
   #
(
  # $
ex
  $ &
.
  & '
Message
  ' .
)
  . /
;
  / 0
}
ÀÀ 
}
ÃÃ 	
public
œœ 
List
œœ 
<
œœ $
FinanciamientoDetalleE
œœ *
>
œœ* +0
"Sp_FinanciamientoLaboratorio_CIE10
œœ, N
(
œœN O$
FinanciamientoDetalleE
œœO e!
pFinanciamientoDetE
œœf y
)
œœy z
{
–– 	
IDataReader
—— 
dr
—— 
;
—— $
FinanciamientoDetalleE
““ "!
oFinanciamientoDetE
““# 6
=
““7 8
null
““9 =
;
““= >
List
‘‘ 
<
‘‘ $
FinanciamientoDetalleE
‘‘ '
>
‘‘' (
oListar
‘‘) 0
=
‘‘1 2
new
‘‘3 6
List
‘‘7 ;
<
‘‘; <$
FinanciamientoDetalleE
‘‘< R
>
‘‘R S
(
‘‘S T
)
‘‘T U
;
‘‘U V
List
’’ 
<
’’ $
FinanciamientoDetalleE
’’ '
>
’’' (
oListarFinal
’’) 5
=
’’6 7
new
’’8 ;
List
’’< @
<
’’@ A$
FinanciamientoDetalleE
’’A W
>
’’W X
(
’’X Y
)
’’Y Z
;
’’Z [
try
÷÷ 
{
◊◊ 
using
ÿÿ 
(
ÿÿ 
SqlConnection
ÿÿ $
cnn
ÿÿ% (
=
ÿÿ) *
new
ÿÿ+ .
SqlConnection
ÿÿ/ <
(
ÿÿ< =
VariablesGlobales
ÿÿ= N
.
ÿÿN O

CnnClinica
ÿÿO Y
)
ÿÿY Z
)
ÿÿZ [
{
ŸŸ 
using
⁄⁄ 
(
⁄⁄ 

SqlCommand
⁄⁄ %
cmd
⁄⁄& )
=
⁄⁄* +
new
⁄⁄, /

SqlCommand
⁄⁄0 :
(
⁄⁄: ;
$str
⁄⁄; Y
,
⁄⁄Y Z
cnn
⁄⁄[ ^
)
⁄⁄^ _
)
⁄⁄_ `
{
€€ 
cmd
‹‹ 
.
‹‹ 
CommandType
‹‹ '
=
‹‹( )
CommandType
‹‹* 5
.
‹‹5 6
StoredProcedure
‹‹6 E
;
‹‹E F
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ &
.
ﬁﬁ& '
AddWithValue
ﬁﬁ' 3
(
ﬁﬁ3 4
$str
ﬁﬁ4 =
,
ﬁﬁ= >!
pFinanciamientoDetE
ﬁﬁ? R
.
ﬁﬁR S
Buscar
ﬁﬁS Y
)
ﬁﬁY Z
;
ﬁﬁZ [
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ &
.
ﬂﬂ& '
AddWithValue
ﬂﬂ' 3
(
ﬂﬂ3 4
$str
ﬂﬂ4 <
,
ﬂﬂ< =!
pFinanciamientoDetE
ﬂﬂ> Q
.
ﬂﬂQ R
Orden
ﬂﬂR W
)
ﬂﬂW X
;
ﬂﬂX Y
cnn
·· 
.
·· 
Open
··  
(
··  !
)
··! "
;
··" #
dr
‚‚ 
=
‚‚ 
cmd
‚‚  
.
‚‚  !
ExecuteReader
‚‚! .
(
‚‚. /
)
‚‚/ 0
;
‚‚0 1
string
„„ 
ideAnalisisTemp
„„ .
=
„„/ 0
string
„„1 7
.
„„7 8
Empty
„„8 =
;
„„= >
string
‰‰ 
	cie10Temp
‰‰ (
=
‰‰) *
string
‰‰+ 1
.
‰‰1 2
Empty
‰‰2 7
;
‰‰7 8
while
ÂÂ 
(
ÂÂ 
dr
ÂÂ !
.
ÂÂ! "
Read
ÂÂ" &
(
ÂÂ& '
)
ÂÂ' (
)
ÂÂ( )
{
ÊÊ !
oFinanciamientoDetE
ÁÁ /
=
ÁÁ0 1 
LlenarEntidadCIE10
ÁÁ2 D
(
ÁÁD E
dr
ÁÁE G
,
ÁÁG H!
pFinanciamientoDetE
ÁÁI \
.
ÁÁ\ ]
Orden
ÁÁ] b
)
ÁÁb c
;
ÁÁc d
oListar
ËË #
.
ËË# $
Add
ËË$ '
(
ËË' (!
oFinanciamientoDetE
ËË( ;
)
ËË; <
;
ËË< =
IdItem
ÈÈ "
=
ÈÈ# $
IdItem
ÈÈ% +
+
ÈÈ, -
$num
ÈÈ. /
;
ÈÈ/ 0
}
ÎÎ 
dr
ÌÌ 
.
ÌÌ 
Close
ÌÌ  
(
ÌÌ  !
)
ÌÌ! "
;
ÌÌ" #
dr
ÓÓ 
.
ÓÓ 
Dispose
ÓÓ "
(
ÓÓ" #
)
ÓÓ# $
;
ÓÓ$ %
cmd
ÔÔ 
.
ÔÔ 
Dispose
ÔÔ #
(
ÔÔ# $
)
ÔÔ$ %
;
ÔÔ% &
cnn
 
.
 
Close
 !
(
! "
)
" #
;
# $
cnn
ÒÒ 
.
ÒÒ 
Dispose
ÒÒ #
(
ÒÒ# $
)
ÒÒ$ %
;
ÒÒ% &
return
ÛÛ 
oListar
ÛÛ &
;
ÛÛ& '
}
ÙÙ 
}
ıı 
}
ˆˆ 
catch
˜˜ 
(
˜˜ 
	Exception
˜˜ 
ex
˜˜ 
)
˜˜  
{
¯¯ 
throw
˘˘ 
new
˘˘ 
	Exception
˘˘ #
(
˘˘# $
ex
˘˘$ &
.
˘˘& '
Message
˘˘' .
)
˘˘. /
;
˘˘/ 0
}
˙˙ 
}
˚˚ 	
public
˛˛ 
List
˛˛ 
<
˛˛ $
FinanciamientoDetalleE
˛˛ *
>
˛˛* +3
%Sp_FinanciamientoLaboratorio_Analisis
˛˛, Q
(
˛˛Q R$
FinanciamientoDetalleE
˛˛R h!
pFinanciamientoDetE
˛˛i |
)
˛˛| }
{
ˇˇ 	
IDataReader
ÄÄ 
dr
ÄÄ 
;
ÄÄ $
FinanciamientoDetalleE
ÇÇ "!
oFinanciamientoDetE
ÇÇ# 6
=
ÇÇ7 8
null
ÇÇ9 =
;
ÇÇ= >
List
ÑÑ 
<
ÑÑ $
FinanciamientoDetalleE
ÑÑ '
>
ÑÑ' (
oListar
ÑÑ) 0
=
ÑÑ1 2
new
ÑÑ3 6
List
ÑÑ7 ;
<
ÑÑ; <$
FinanciamientoDetalleE
ÑÑ< R
>
ÑÑR S
(
ÑÑS T
)
ÑÑT U
;
ÑÑU V
try
ÖÖ 
{
ÜÜ 
using
áá 
(
áá 
SqlConnection
áá $
cnn
áá% (
=
áá) *
new
áá+ .
SqlConnection
áá/ <
(
áá< =
VariablesGlobales
áá= N
.
ááN O

CnnClinica
ááO Y
)
ááY Z
)
ááZ [
{
àà 
using
ââ 
(
ââ 

SqlCommand
ââ %
cmd
ââ& )
=
ââ* +
new
ââ, /

SqlCommand
ââ0 :
(
ââ: ;
$str
ââ; Y
,
ââY Z
cnn
ââ[ ^
)
ââ^ _
)
ââ_ `
{
ää 
cmd
ãã 
.
ãã 
CommandType
ãã '
=
ãã( )
CommandType
ãã* 5
.
ãã5 6
StoredProcedure
ãã6 E
;
ããE F
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 =
,
çç= >!
pFinanciamientoDetE
çç? R
.
ççR S
Buscar
ççS Y
)
ççY Z
;
ççZ [
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 <
,
éé< =!
pFinanciamientoDetE
éé> Q
.
ééQ R
Orden
ééR W
)
ééW X
;
ééX Y
cnn
êê 
.
êê 
Open
êê  
(
êê  !
)
êê! "
;
êê" #
dr
ëë 
=
ëë 
cmd
ëë  
.
ëë  !
ExecuteReader
ëë! .
(
ëë. /
)
ëë/ 0
;
ëë0 1
string
íí 
ideAnalisisTemp
íí .
=
íí/ 0
string
íí1 7
.
íí7 8
Empty
íí8 =
;
íí= >
string
ìì 
	cie10Temp
ìì (
=
ìì) *
string
ìì+ 1
.
ìì1 2
Empty
ìì2 7
;
ìì7 8
while
îî 
(
îî 
dr
îî !
.
îî! "
Read
îî" &
(
îî& '
)
îî' (
)
îî( )
{
ïï !
oFinanciamientoDetE
ññ /
=
ññ0 1#
LlenarEntidadAnalisis
ññ2 G
(
ññG H
dr
ññH J
,
ññJ K!
pFinanciamientoDetE
ññL _
.
ññ_ `
Orden
ññ` e
)
ññe f
;
ññf g
oListar
óó #
.
óó# $
Add
óó$ '
(
óó' (!
oFinanciamientoDetE
óó( ;
)
óó; <
;
óó< =
IdItem
òò "
=
òò# $
IdItem
òò% +
+
òò, -
$num
òò. /
;
òò/ 0
}
ôô 
dr
õõ 
.
õõ 
Close
õõ  
(
õõ  !
)
õõ! "
;
õõ" #
dr
úú 
.
úú 
Dispose
úú "
(
úú" #
)
úú# $
;
úú$ %
cmd
ùù 
.
ùù 
Dispose
ùù #
(
ùù# $
)
ùù$ %
;
ùù% &
cnn
ûû 
.
ûû 
Close
ûû !
(
ûû! "
)
ûû" #
;
ûû# $
cnn
üü 
.
üü 
Dispose
üü #
(
üü# $
)
üü$ %
;
üü% &
return
°° 
oListar
°° &
;
°°& '
}
¢¢ 
}
££ 
}
§§ 
catch
•• 
(
•• 
	Exception
•• 
ex
•• 
)
••  
{
¶¶ 
throw
ßß 
new
ßß 
	Exception
ßß #
(
ßß# $
ex
ßß$ &
.
ßß& '
Message
ßß' .
)
ßß. /
;
ßß/ 0
}
®® 
}
©© 	
public
¨¨ 
List
¨¨ 
<
¨¨ $
FinanciamientoDetalleE
¨¨ *
>
¨¨* +6
(Sp_FinanciamientoLaboratorio_Aseguradora
¨¨, T
(
¨¨T U$
FinanciamientoDetalleE
¨¨U k!
pFinanciamientoDetE
¨¨l 
)¨¨ Ä
{
≠≠ 	
IDataReader
ÆÆ 
dr
ÆÆ 
;
ÆÆ $
FinanciamientoDetalleE
∞∞ "!
oFinanciamientoDetE
∞∞# 6
=
∞∞7 8
null
∞∞9 =
;
∞∞= >
List
≤≤ 
<
≤≤ $
FinanciamientoDetalleE
≤≤ '
>
≤≤' (
oListar
≤≤) 0
=
≤≤1 2
new
≤≤3 6
List
≤≤7 ;
<
≤≤; <$
FinanciamientoDetalleE
≤≤< R
>
≤≤R S
(
≤≤S T
)
≤≤T U
;
≤≤U V
try
≥≥ 
{
¥¥ 
using
µµ 
(
µµ 
SqlConnection
µµ $
cnn
µµ% (
=
µµ) *
new
µµ+ .
SqlConnection
µµ/ <
(
µµ< =
VariablesGlobales
µµ= N
.
µµN O

CnnClinica
µµO Y
)
µµY Z
)
µµZ [
{
∂∂ 
using
∑∑ 
(
∑∑ 

SqlCommand
∑∑ %
cmd
∑∑& )
=
∑∑* +
new
∑∑, /

SqlCommand
∑∑0 :
(
∑∑: ;
$str
∑∑; Y
,
∑∑Y Z
cnn
∑∑[ ^
)
∑∑^ _
)
∑∑_ `
{
∏∏ 
cmd
ππ 
.
ππ 
CommandType
ππ '
=
ππ( )
CommandType
ππ* 5
.
ππ5 6
StoredProcedure
ππ6 E
;
ππE F
cmd
ªª 
.
ªª 

Parameters
ªª &
.
ªª& '
AddWithValue
ªª' 3
(
ªª3 4
$str
ªª4 =
,
ªª= >!
pFinanciamientoDetE
ªª? R
.
ªªR S
Buscar
ªªS Y
)
ªªY Z
;
ªªZ [
cmd
ºº 
.
ºº 

Parameters
ºº &
.
ºº& '
AddWithValue
ºº' 3
(
ºº3 4
$str
ºº4 <
,
ºº< =!
pFinanciamientoDetE
ºº> Q
.
ººQ R
Orden
ººR W
)
ººW X
;
ººX Y
cnn
ææ 
.
ææ 
Open
ææ  
(
ææ  !
)
ææ! "
;
ææ" #
dr
øø 
=
øø 
cmd
øø  
.
øø  !
ExecuteReader
øø! .
(
øø. /
)
øø/ 0
;
øø0 1
string
¿¿ 
ideAnalisisTemp
¿¿ .
=
¿¿/ 0
string
¿¿1 7
.
¿¿7 8
Empty
¿¿8 =
;
¿¿= >
string
¡¡ 
	cie10Temp
¡¡ (
=
¡¡) *
string
¡¡+ 1
.
¡¡1 2
Empty
¡¡2 7
;
¡¡7 8
while
¬¬ 
(
¬¬ 
dr
¬¬ !
.
¬¬! "
Read
¬¬" &
(
¬¬& '
)
¬¬' (
)
¬¬( )
{
√√ !
oFinanciamientoDetE
ƒƒ /
=
ƒƒ0 1&
LlenarEntidadAseguradora
ƒƒ2 J
(
ƒƒJ K
dr
ƒƒK M
,
ƒƒM N!
pFinanciamientoDetE
ƒƒO b
.
ƒƒb c
Orden
ƒƒc h
)
ƒƒh i
;
ƒƒi j
oListar
≈≈ #
.
≈≈# $
Add
≈≈$ '
(
≈≈' (!
oFinanciamientoDetE
≈≈( ;
)
≈≈; <
;
≈≈< =
IdItem
∆∆ "
=
∆∆# $
IdItem
∆∆% +
+
∆∆, -
$num
∆∆. /
;
∆∆/ 0
}
«« 
dr
…… 
.
…… 
Close
……  
(
……  !
)
……! "
;
……" #
dr
   
.
   
Dispose
   "
(
  " #
)
  # $
;
  $ %
cmd
ÀÀ 
.
ÀÀ 
Dispose
ÀÀ #
(
ÀÀ# $
)
ÀÀ$ %
;
ÀÀ% &
cnn
ÃÃ 
.
ÃÃ 
Close
ÃÃ !
(
ÃÃ! "
)
ÃÃ" #
;
ÃÃ# $
cnn
ÕÕ 
.
ÕÕ 
Dispose
ÕÕ #
(
ÕÕ# $
)
ÕÕ$ %
;
ÕÕ% &
return
œœ 
oListar
œœ &
;
œœ& '
}
–– 
}
—— 
}
““ 
catch
”” 
(
”” 
	Exception
”” 
ex
”” 
)
””  
{
‘‘ 
throw
’’ 
new
’’ 
	Exception
’’ #
(
’’# $
ex
’’$ &
.
’’& '
Message
’’' .
)
’’. /
;
’’/ 0
}
÷÷ 
}
◊◊ 	
public
⁄⁄ 
List
⁄⁄ 
<
⁄⁄ $
FinanciamientoDetalleE
⁄⁄ *
>
⁄⁄* +:
,Sp_FinanciamientoLaboratorio_Consulta_Update
⁄⁄, X
(
⁄⁄X Y$
FinanciamientoDetalleE
⁄⁄Y o"
pFinanciamientoDetE⁄⁄p É
)⁄⁄É Ñ
{
€€ 	
IDataReader
‹‹ 
dr
‹‹ 
;
‹‹ $
FinanciamientoDetalleE
ﬁﬁ "#
oFinanciamientoUpdate
ﬁﬁ# 8
=
ﬁﬁ9 :
new
ﬁﬁ; >$
FinanciamientoDetalleE
ﬁﬁ? U
(
ﬁﬁU V
)
ﬁﬁV W
;
ﬁﬁW X
List
‡‡ 
<
‡‡ $
FinanciamientoDetalleE
‡‡ '
>
‡‡' (
oListar
‡‡) 0
=
‡‡1 2
new
‡‡3 6
List
‡‡7 ;
<
‡‡; <$
FinanciamientoDetalleE
‡‡< R
>
‡‡R S
(
‡‡S T
)
‡‡T U
;
‡‡U V
List
·· 
<
·· $
FinanciamientoDetalleE
·· '
>
··' (
oListarFinal
··) 5
=
··6 7
new
··8 ;
List
··< @
<
··@ A$
FinanciamientoDetalleE
··A W
>
··W X
(
··X Y
)
··Y Z
;
··Z [
try
‚‚ 
{
„„ 
using
‰‰ 
(
‰‰ 
SqlConnection
‰‰ $
cnn
‰‰% (
=
‰‰) *
new
‰‰+ .
SqlConnection
‰‰/ <
(
‰‰< =
VariablesGlobales
‰‰= N
.
‰‰N O

CnnClinica
‰‰O Y
)
‰‰Y Z
)
‰‰Z [
{
ÂÂ 
using
ÊÊ 
(
ÊÊ 

SqlCommand
ÊÊ %
cmd
ÊÊ& )
=
ÊÊ* +
new
ÊÊ, /

SqlCommand
ÊÊ0 :
(
ÊÊ: ;
$str
ÊÊ; Y
,
ÊÊY Z
cnn
ÊÊ[ ^
)
ÊÊ^ _
)
ÊÊ_ `
{
ÁÁ 
cmd
ËË 
.
ËË 
CommandType
ËË '
=
ËË( )
CommandType
ËË* 5
.
ËË5 6
StoredProcedure
ËË6 E
;
ËËE F
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ &
.
ÍÍ& '
AddWithValue
ÍÍ' 3
(
ÍÍ3 4
$str
ÍÍ4 =
,
ÍÍ= >!
pFinanciamientoDetE
ÍÍ? R
.
ÍÍR S
Buscar
ÍÍS Y
)
ÍÍY Z
;
ÍÍZ [
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ &
.
ÎÎ& '
AddWithValue
ÎÎ' 3
(
ÎÎ3 4
$str
ÎÎ4 <
,
ÎÎ< =!
pFinanciamientoDetE
ÎÎ> Q
.
ÎÎQ R
Orden
ÎÎR W
)
ÎÎW X
;
ÎÎX Y
cnn
ÌÌ 
.
ÌÌ 
Open
ÌÌ  
(
ÌÌ  !
)
ÌÌ! "
;
ÌÌ" #
dr
ÓÓ 
=
ÓÓ 
cmd
ÓÓ  
.
ÓÓ  !
ExecuteReader
ÓÓ! .
(
ÓÓ. /
)
ÓÓ/ 0
;
ÓÓ0 1
while
ÔÔ 
(
ÔÔ 
dr
ÔÔ !
.
ÔÔ! "
Read
ÔÔ" &
(
ÔÔ& '
)
ÔÔ' (
)
ÔÔ( )
{
 #
oFinanciamientoUpdate
ÒÒ 1
=
ÒÒ2 3!
LlenarEntidadUpdate
ÒÒ4 G
(
ÒÒG H
dr
ÒÒH J
)
ÒÒJ K
;
ÒÒK L
oListar
ÚÚ #
.
ÚÚ# $
Add
ÚÚ$ '
(
ÚÚ' (#
oFinanciamientoUpdate
ÚÚ( =
)
ÚÚ= >
;
ÚÚ> ?
}
ÛÛ 
dr
ÙÙ 
.
ÙÙ 
Close
ÙÙ  
(
ÙÙ  !
)
ÙÙ! "
;
ÙÙ" #
dr
ıı 
.
ıı 
Dispose
ıı "
(
ıı" #
)
ıı# $
;
ıı$ %
cmd
ˆˆ 
.
ˆˆ 
Dispose
ˆˆ #
(
ˆˆ# $
)
ˆˆ$ %
;
ˆˆ% &
cnn
˜˜ 
.
˜˜ 
Close
˜˜ !
(
˜˜! "
)
˜˜" #
;
˜˜# $
cnn
¯¯ 
.
¯¯ 
Dispose
¯¯ #
(
¯¯# $
)
¯¯$ %
;
¯¯% &
int
˙˙ 
	countlist
˙˙ %
=
˙˙& '
oListar
˙˙( /
.
˙˙/ 0
Count
˙˙0 5
(
˙˙5 6
)
˙˙6 7
;
˙˙7 8
if
˝˝ 
(
˝˝ 
	countlist
˝˝ %
>
˝˝& '!
pFinanciamientoDetE
˝˝( ;
.
˝˝; <
NumeroLineas
˝˝< H
)
˝˝H I
{
˛˛ 
oListar
ˇˇ #
=
ˇˇ$ %
oListar
ˇˇ& -
.
ˇˇ- .
OrderBy
ˇˇ. 5
(
ˇˇ5 6
item
ˇˇ6 :
=>
ˇˇ; =
item
ˇˇ> B
.
ˇˇB C
Item
ˇˇC G
)
ˇˇG H
.
ˇˇH I
Take
ˇˇI M
(
ˇˇM N!
pFinanciamientoDetE
ˇˇN a
.
ˇˇa b
NumeroLineas
ˇˇb n
)
ˇˇn o
.
ˇˇo p
ToList
ˇˇp v
(
ˇˇv w
)
ˇˇw x
;
ˇˇx y
}
ÄÄ 
if
ÇÇ 
(
ÇÇ 
oListar
ÇÇ #
.
ÇÇ# $
Any
ÇÇ$ '
(
ÇÇ' (
)
ÇÇ( )
)
ÇÇ) *
{
ÇÇ+ ,
if
ÉÉ 
(
ÉÉ  
oListar
ÉÉ  '
[
ÉÉ' (
$num
ÉÉ( )
]
ÉÉ) *
==
ÉÉ+ -
null
ÉÉ. 2
)
ÉÉ2 3
{
ÑÑ 
oListar
ÖÖ  '
.
ÖÖ' (
Clear
ÖÖ( -
(
ÖÖ- .
)
ÖÖ. /
;
ÖÖ/ 0
}
ÜÜ 
}
áá 
return
ää 
oListar
ää &
;
ää& '
}
ãã 
}
åå 
}
çç 
catch
éé 
(
éé 
	Exception
éé 
ex
éé 
)
éé  
{
èè 
throw
êê 
new
êê 
	Exception
êê #
(
êê# $
ex
êê$ &
.
êê& '
Message
êê' .
)
êê. /
;
êê/ 0
}
ëë 
}
íí 	
public
ïï 
List
ïï 
<
ïï $
FinanciamientoDetalleE
ïï *
>
ïï* +-
Sp_Financiamiento_Insert_Masivo
ïï, K
(
ïïK L
List
ïïL P
<
ïïP Q$
FinanciamientoDetalleE
ïïQ g
>
ïïg h 
listFinanciamiento
ïïi {
,
ïï{ |
intïï} Ä
usrModificaïïÅ å
)ïïå ç
{
ññ 	
int
óó 
xReturn
óó 
;
óó 
int
òò 

validacion
òò 
=
òò 
$num
òò 
;
òò 
string
ôô 
ideAnalisis
ôô 
=
ôô 
$str
ôô !
;
ôô! "
string
öö 
codprestacion
öö  
=
öö! "
$str
öö# %
;
öö% &
try
õõ 
{
úú $
FinanciamientoDetalleE
ùù &!
oFinanciamientoDetE
ùù' :
=
ùù; <
null
ùù= A
;
ùùA B
List
ûû 
<
ûû $
FinanciamientoDetalleE
ûû +
>
ûû+ ,
oListarResumen
ûû- ;
=
ûû< =
new
ûû> A
List
ûûB F
<
ûûF G$
FinanciamientoDetalleE
ûûG ]
>
ûû] ^
(
ûû^ _
)
ûû_ `
;
ûû` a
List
üü 
<
üü $
FinanciamientoDetalleE
üü +
>
üü+ ,

oListarLog
üü- 7
=
üü8 9
new
üü: =
List
üü> B
<
üüB C$
FinanciamientoDetalleE
üüC Y
>
üüY Z
(
üüZ [
)
üü[ \
;
üü\ ]
using
†† 
(
†† 
SqlConnection
†† $
cnn
††% (
=
††) *
new
††+ .
SqlConnection
††/ <
(
††< =
VariablesGlobales
††= N
.
††N O

CnnClinica
††O Y
)
††Y Z
)
††Z [
{
°° 
using
¢¢ 
(
¢¢ 

SqlCommand
¢¢ %
cmd
¢¢& )
=
¢¢* +
new
¢¢, /

SqlCommand
¢¢0 :
(
¢¢: ;
$str
¢¢; \
,
¢¢\ ]
cnn
¢¢^ a
)
¢¢a b
)
¢¢b c
{
££ 
foreach
•• 
(
••  !
var
••! $
item
••% )
in
••* , 
listFinanciamiento
••- ?
)
••? @
{
¶¶ $
FinanciamientoDetalleE
ßß 2 
oFinanciamientoLog
ßß3 E
=
ßßF G
new
ßßH K$
FinanciamientoDetalleE
ßßL b
(
ßßb c
)
ßßc d
;
ßßd e
if
™™ 
(
™™  
item
™™  $
.
™™$ %
Cod_Diagnostico
™™% 4
.
™™4 5
Trim
™™5 9
(
™™9 :
)
™™: ;
.
™™; <
Equals
™™< B
(
™™B C
$str
™™C E
)
™™E F
)
™™F G
{
´´  
oFinanciamientoLog
≠≠  2
.
≠≠2 3
Ide_AnalisisTemp
≠≠3 C
=
≠≠D E
item
≠≠F J
.
≠≠J K
Ide_AnalisisTemp
≠≠K [
;
≠≠[ \ 
oFinanciamientoLog
ÆÆ  2
.
ÆÆ2 3
Ide_Analisis
ÆÆ3 ?
=
ÆÆ@ A
item
ÆÆB F
.
ÆÆF G
Ide_Analisis
ÆÆG S
;
ÆÆS T 
oFinanciamientoLog
ØØ  2
.
ØØ2 3
Cod_Diagnostico
ØØ3 B
=
ØØC D
item
ØØE I
.
ØØI J
Cod_Diagnostico
ØØJ Y
;
ØØY Z 
oFinanciamientoLog
∞∞  2
.
∞∞2 3 
Nombre_Diagnostico
∞∞3 E
=
∞∞F G
item
∞∞H L
.
∞∞L M 
Nombre_Diagnostico
∞∞M _
;
∞∞_ ` 
oFinanciamientoLog
±±  2
.
±±2 3
Cod_Prestacion
±±3 A
=
±±B C
codprestacion
±±D Q
;
±±Q R 
oFinanciamientoLog
≤≤  2
.
≤≤2 3
Cod_ROE
≤≤3 :
=
≤≤; <
item
≤≤= A
.
≤≤A B
Cod_ROE
≤≤B I
;
≤≤I J 
oFinanciamientoLog
≥≥  2
.
≥≥2 3

Prueba_ROE
≥≥3 =
=
≥≥> ?
item
≥≥@ D
.
≥≥D E

Prueba_ROE
≥≥E O
;
≥≥O P 
oFinanciamientoLog
¥¥  2
.
¥¥2 3
CodAseguradora1
¥¥3 B
=
¥¥C D
item
¥¥E I
.
¥¥I J
CodAseguradora1
¥¥J Y
;
¥¥Y Z 
oFinanciamientoLog
µµ  2
.
µµ2 3
Observacion
µµ3 >
=
µµ? @
$str
µµA ^
;
µµ^ _

oListarLog
∂∂  *
.
∂∂* +
Add
∂∂+ .
(
∂∂. / 
oFinanciamientoLog
∂∂/ A
)
∂∂A B
;
∂∂B C
}
∑∑ 
else
∏∏  
if
∏∏! #
(
∏∏$ %
item
∏∏% )
.
∏∏) *
Ide_Analisis
∏∏* 6
.
∏∏6 7
Trim
∏∏7 ;
(
∏∏; <
)
∏∏< =
.
∏∏= >
Equals
∏∏> D
(
∏∏D E
$str
∏∏E G
)
∏∏G H
)
∏∏H I
{
ππ  
oFinanciamientoLog
ªª  2
.
ªª2 3
Ide_AnalisisTemp
ªª3 C
=
ªªD E
item
ªªF J
.
ªªJ K
Ide_AnalisisTemp
ªªK [
;
ªª[ \ 
oFinanciamientoLog
ºº  2
.
ºº2 3
Ide_Analisis
ºº3 ?
=
ºº@ A
item
ººB F
.
ººF G
Ide_Analisis
ººG S
;
ººS T 
oFinanciamientoLog
ΩΩ  2
.
ΩΩ2 3
Cod_Diagnostico
ΩΩ3 B
=
ΩΩC D
item
ΩΩE I
.
ΩΩI J
Cod_Diagnostico
ΩΩJ Y
;
ΩΩY Z 
oFinanciamientoLog
ææ  2
.
ææ2 3 
Nombre_Diagnostico
ææ3 E
=
ææF G
item
ææH L
.
ææL M 
Nombre_Diagnostico
ææM _
;
ææ_ ` 
oFinanciamientoLog
øø  2
.
øø2 3
Cod_Prestacion
øø3 A
=
øøB C
codprestacion
øøD Q
;
øøQ R 
oFinanciamientoLog
¿¿  2
.
¿¿2 3
Cod_ROE
¿¿3 :
=
¿¿; <
item
¿¿= A
.
¿¿A B
Cod_ROE
¿¿B I
;
¿¿I J 
oFinanciamientoLog
¡¡  2
.
¡¡2 3

Prueba_ROE
¡¡3 =
=
¡¡> ?
item
¡¡@ D
.
¡¡D E

Prueba_ROE
¡¡E O
;
¡¡O P 
oFinanciamientoLog
¬¬  2
.
¬¬2 3
CodAseguradora1
¬¬3 B
=
¬¬C D
item
¬¬E I
.
¬¬I J
CodAseguradora1
¬¬J Y
;
¬¬Y Z 
oFinanciamientoLog
√√  2
.
√√2 3
Observacion
√√3 >
=
√√? @
$str
√√A `
;
√√` a

oListarLog
ƒƒ  *
.
ƒƒ* +
Add
ƒƒ+ .
(
ƒƒ. / 
oFinanciamientoLog
ƒƒ/ A
)
ƒƒA B
;
ƒƒB C
}
≈≈ 
else
∆∆  
if
∆∆! #
(
∆∆$ %
item
∆∆% )
.
∆∆) *
CodAseguradora1
∆∆* 9
.
∆∆9 :
Trim
∆∆: >
(
∆∆> ?
)
∆∆? @
.
∆∆@ A
Equals
∆∆A G
(
∆∆G H
$str
∆∆H J
)
∆∆J K
)
∆∆K L
{
««  
oFinanciamientoLog
……  2
.
……2 3
Ide_AnalisisTemp
……3 C
=
……D E
item
……F J
.
……J K
Ide_AnalisisTemp
……K [
;
……[ \ 
oFinanciamientoLog
    2
.
  2 3
Ide_Analisis
  3 ?
=
  @ A
item
  B F
.
  F G
Ide_Analisis
  G S
;
  S T 
oFinanciamientoLog
ÀÀ  2
.
ÀÀ2 3
Cod_Diagnostico
ÀÀ3 B
=
ÀÀC D
item
ÀÀE I
.
ÀÀI J
Cod_Diagnostico
ÀÀJ Y
;
ÀÀY Z 
oFinanciamientoLog
ÃÃ  2
.
ÃÃ2 3 
Nombre_Diagnostico
ÃÃ3 E
=
ÃÃF G
item
ÃÃH L
.
ÃÃL M 
Nombre_Diagnostico
ÃÃM _
;
ÃÃ_ ` 
oFinanciamientoLog
ÕÕ  2
.
ÕÕ2 3
Cod_Prestacion
ÕÕ3 A
=
ÕÕB C
codprestacion
ÕÕD Q
;
ÕÕQ R 
oFinanciamientoLog
ŒŒ  2
.
ŒŒ2 3
Cod_ROE
ŒŒ3 :
=
ŒŒ; <
item
ŒŒ= A
.
ŒŒA B
Cod_ROE
ŒŒB I
;
ŒŒI J 
oFinanciamientoLog
œœ  2
.
œœ2 3

Prueba_ROE
œœ3 =
=
œœ> ?
item
œœ@ D
.
œœD E

Prueba_ROE
œœE O
;
œœO P 
oFinanciamientoLog
––  2
.
––2 3
CodAseguradora1
––3 B
=
––C D
item
––E I
.
––I J
CodAseguradora1
––J Y
;
––Y Z 
oFinanciamientoLog
——  2
.
——2 3
Observacion
——3 >
=
——? @
$str
——A l
;
——l m

oListarLog
““  *
.
““* +
Add
““+ .
(
““. / 
oFinanciamientoLog
““/ A
)
““A B
;
““B C
}
”” 
else
‘‘  
if
‘‘! #
(
‘‘$ %
!
‘‘% &
item
‘‘& *
.
‘‘* +
CodAseguradora
‘‘+ 9
.
‘‘9 :
ToString
‘‘: B
(
‘‘B C
)
‘‘C D
.
‘‘D E
ToUpper
‘‘E L
(
‘‘L M
)
‘‘M N
.
‘‘N O
Equals
‘‘O U
(
‘‘U V
$str
‘‘V Z
)
‘‘Z [
)
‘‘[ \
{
’’  
oFinanciamientoLog
◊◊  2
.
◊◊2 3
Ide_AnalisisTemp
◊◊3 C
=
◊◊D E
item
◊◊F J
.
◊◊J K
Ide_AnalisisTemp
◊◊K [
;
◊◊[ \ 
oFinanciamientoLog
ÿÿ  2
.
ÿÿ2 3
Ide_Analisis
ÿÿ3 ?
=
ÿÿ@ A
item
ÿÿB F
.
ÿÿF G
Ide_Analisis
ÿÿG S
;
ÿÿS T 
oFinanciamientoLog
ŸŸ  2
.
ŸŸ2 3
Cod_Diagnostico
ŸŸ3 B
=
ŸŸC D
item
ŸŸE I
.
ŸŸI J
Cod_Diagnostico
ŸŸJ Y
;
ŸŸY Z 
oFinanciamientoLog
⁄⁄  2
.
⁄⁄2 3 
Nombre_Diagnostico
⁄⁄3 E
=
⁄⁄F G
item
⁄⁄H L
.
⁄⁄L M 
Nombre_Diagnostico
⁄⁄M _
;
⁄⁄_ ` 
oFinanciamientoLog
€€  2
.
€€2 3
Cod_Prestacion
€€3 A
=
€€B C
codprestacion
€€D Q
;
€€Q R 
oFinanciamientoLog
‹‹  2
.
‹‹2 3
Cod_ROE
‹‹3 :
=
‹‹; <
item
‹‹= A
.
‹‹A B
Cod_ROE
‹‹B I
;
‹‹I J 
oFinanciamientoLog
››  2
.
››2 3

Prueba_ROE
››3 =
=
››> ?
item
››@ D
.
››D E

Prueba_ROE
››E O
;
››O P 
oFinanciamientoLog
ﬁﬁ  2
.
ﬁﬁ2 3
CodAseguradora1
ﬁﬁ3 B
=
ﬁﬁC D
item
ﬁﬁE I
.
ﬁﬁI J
CodAseguradora1
ﬁﬁJ Y
;
ﬁﬁY Z 
oFinanciamientoLog
ﬂﬂ  2
.
ﬂﬂ2 3
CodAseguradora
ﬂﬂ3 A
=
ﬂﬂB C
item
ﬂﬂD H
.
ﬂﬂH I
CodAseguradora
ﬂﬂI W
;
ﬂﬂW X 
oFinanciamientoLog
‡‡  2
.
‡‡2 3 
CodAseguradoraMask
‡‡3 E
=
‡‡F G
item
‡‡H L
.
‡‡L M 
CodAseguradoraMask
‡‡M _
;
‡‡_ ` 
oFinanciamientoLog
··  2
.
··2 3$
ObservacionsSecundaria
··3 I
=
··J K
$str
··L P
;
··P Q

oListarLog
‚‚  *
.
‚‚* +
Add
‚‚+ .
(
‚‚. / 
oFinanciamientoLog
‚‚/ A
)
‚‚A B
;
‚‚B C
}
„„ 
else
‰‰  
if
‰‰! #
(
‰‰$ %
!
‰‰% &
item
‰‰& *
.
‰‰* +
CodAseguradora2
‰‰+ :
.
‰‰: ;
ToString
‰‰; C
(
‰‰C D
)
‰‰D E
.
‰‰E F
ToUpper
‰‰F M
(
‰‰M N
)
‰‰N O
.
‰‰O P
Equals
‰‰P V
(
‰‰V W
$str
‰‰W [
)
‰‰[ \
)
‰‰\ ]
{
ÂÂ  
oFinanciamientoLog
ÁÁ  2
.
ÁÁ2 3
Ide_AnalisisTemp
ÁÁ3 C
=
ÁÁD E
item
ÁÁF J
.
ÁÁJ K
Ide_AnalisisTemp
ÁÁK [
;
ÁÁ[ \ 
oFinanciamientoLog
ËË  2
.
ËË2 3
Ide_Analisis
ËË3 ?
=
ËË@ A
item
ËËB F
.
ËËF G
Ide_Analisis
ËËG S
;
ËËS T 
oFinanciamientoLog
ÈÈ  2
.
ÈÈ2 3
Cod_Diagnostico
ÈÈ3 B
=
ÈÈC D
item
ÈÈE I
.
ÈÈI J
Cod_Diagnostico
ÈÈJ Y
;
ÈÈY Z 
oFinanciamientoLog
ÍÍ  2
.
ÍÍ2 3 
Nombre_Diagnostico
ÍÍ3 E
=
ÍÍF G
item
ÍÍH L
.
ÍÍL M 
Nombre_Diagnostico
ÍÍM _
;
ÍÍ_ ` 
oFinanciamientoLog
ÎÎ  2
.
ÎÎ2 3
Cod_Prestacion
ÎÎ3 A
=
ÎÎB C
codprestacion
ÎÎD Q
;
ÎÎQ R 
oFinanciamientoLog
ÏÏ  2
.
ÏÏ2 3
Cod_ROE
ÏÏ3 :
=
ÏÏ; <
item
ÏÏ= A
.
ÏÏA B
Cod_ROE
ÏÏB I
;
ÏÏI J 
oFinanciamientoLog
ÌÌ  2
.
ÌÌ2 3

Prueba_ROE
ÌÌ3 =
=
ÌÌ> ?
item
ÌÌ@ D
.
ÌÌD E

Prueba_ROE
ÌÌE O
;
ÌÌO P 
oFinanciamientoLog
ÓÓ  2
.
ÓÓ2 3
CodAseguradora1
ÓÓ3 B
=
ÓÓC D
item
ÓÓE I
.
ÓÓI J
CodAseguradora1
ÓÓJ Y
;
ÓÓY Z 
oFinanciamientoLog
ÔÔ  2
.
ÔÔ2 3
CodAseguradora2
ÔÔ3 B
=
ÔÔC D
item
ÔÔE I
.
ÔÔI J
CodAseguradora2
ÔÔJ Y
;
ÔÔY Z 
oFinanciamientoLog
  2
.
2 3 
CodAseguradoraMask
3 E
=
F G
item
H L
.
L M 
CodAseguradoraMask
M _
;
_ ` 
oFinanciamientoLog
ÒÒ  2
.
ÒÒ2 3$
ObservacionsSecundaria
ÒÒ3 I
=
ÒÒJ K
$str
ÒÒL P
;
ÒÒP Q

oListarLog
ÚÚ  *
.
ÚÚ* +
Add
ÚÚ+ .
(
ÚÚ. / 
oFinanciamientoLog
ÚÚ/ A
)
ÚÚA B
;
ÚÚB C
}
ÛÛ 
else
ÙÙ  
if
ÙÙ! #
(
ÙÙ$ %
!
ÙÙ% &
item
ÙÙ& *
.
ÙÙ* +
CodAseguradora3
ÙÙ+ :
.
ÙÙ: ;
ToString
ÙÙ; C
(
ÙÙC D
)
ÙÙD E
.
ÙÙE F
ToUpper
ÙÙF M
(
ÙÙM N
)
ÙÙN O
.
ÙÙO P
Equals
ÙÙP V
(
ÙÙV W
$str
ÙÙW [
)
ÙÙ[ \
)
ÙÙ\ ]
{
ıı  
oFinanciamientoLog
˜˜  2
.
˜˜2 3
Ide_AnalisisTemp
˜˜3 C
=
˜˜D E
item
˜˜F J
.
˜˜J K
Ide_AnalisisTemp
˜˜K [
;
˜˜[ \ 
oFinanciamientoLog
¯¯  2
.
¯¯2 3
Ide_Analisis
¯¯3 ?
=
¯¯@ A
item
¯¯B F
.
¯¯F G
Ide_Analisis
¯¯G S
;
¯¯S T 
oFinanciamientoLog
˘˘  2
.
˘˘2 3
Cod_Diagnostico
˘˘3 B
=
˘˘C D
item
˘˘E I
.
˘˘I J
Cod_Diagnostico
˘˘J Y
;
˘˘Y Z 
oFinanciamientoLog
˙˙  2
.
˙˙2 3 
Nombre_Diagnostico
˙˙3 E
=
˙˙F G
item
˙˙H L
.
˙˙L M 
Nombre_Diagnostico
˙˙M _
;
˙˙_ ` 
oFinanciamientoLog
˚˚  2
.
˚˚2 3
Cod_Prestacion
˚˚3 A
=
˚˚B C
codprestacion
˚˚D Q
;
˚˚Q R 
oFinanciamientoLog
¸¸  2
.
¸¸2 3
Cod_ROE
¸¸3 :
=
¸¸; <
item
¸¸= A
.
¸¸A B
Cod_ROE
¸¸B I
;
¸¸I J 
oFinanciamientoLog
˝˝  2
.
˝˝2 3

Prueba_ROE
˝˝3 =
=
˝˝> ?
item
˝˝@ D
.
˝˝D E

Prueba_ROE
˝˝E O
;
˝˝O P 
oFinanciamientoLog
˛˛  2
.
˛˛2 3
CodAseguradora1
˛˛3 B
=
˛˛C D
item
˛˛E I
.
˛˛I J
CodAseguradora1
˛˛J Y
;
˛˛Y Z 
oFinanciamientoLog
ˇˇ  2
.
ˇˇ2 3
CodAseguradora3
ˇˇ3 B
=
ˇˇC D
item
ˇˇE I
.
ˇˇI J
CodAseguradora3
ˇˇJ Y
;
ˇˇY Z 
oFinanciamientoLog
ÄÄ  2
.
ÄÄ2 3 
CodAseguradoraMask
ÄÄ3 E
=
ÄÄF G
item
ÄÄH L
.
ÄÄL M 
CodAseguradoraMask
ÄÄM _
;
ÄÄ_ ` 
oFinanciamientoLog
ÅÅ  2
.
ÅÅ2 3$
ObservacionsSecundaria
ÅÅ3 I
=
ÅÅJ K
$str
ÅÅL P
;
ÅÅP Q

oListarLog
ÇÇ  *
.
ÇÇ* +
Add
ÇÇ+ .
(
ÇÇ. / 
oFinanciamientoLog
ÇÇ/ A
)
ÇÇA B
;
ÇÇB C
}
ÉÉ 
else
ÑÑ  
if
ÑÑ! #
(
ÑÑ$ %
!
ÑÑ% &
item
ÑÑ& *
.
ÑÑ* +
CodAseguradora4
ÑÑ+ :
.
ÑÑ: ;
ToString
ÑÑ; C
(
ÑÑC D
)
ÑÑD E
.
ÑÑE F
ToUpper
ÑÑF M
(
ÑÑM N
)
ÑÑN O
.
ÑÑO P
Equals
ÑÑP V
(
ÑÑV W
$str
ÑÑW [
)
ÑÑ[ \
)
ÑÑ\ ]
{
ÖÖ  
oFinanciamientoLog
áá  2
.
áá2 3
Ide_AnalisisTemp
áá3 C
=
ááD E
item
ááF J
.
ááJ K
Ide_AnalisisTemp
ááK [
;
áá[ \ 
oFinanciamientoLog
àà  2
.
àà2 3
Ide_Analisis
àà3 ?
=
àà@ A
item
ààB F
.
ààF G
Ide_Analisis
ààG S
;
ààS T 
oFinanciamientoLog
ââ  2
.
ââ2 3
Cod_Diagnostico
ââ3 B
=
ââC D
item
ââE I
.
ââI J
Cod_Diagnostico
ââJ Y
;
ââY Z 
oFinanciamientoLog
ää  2
.
ää2 3 
Nombre_Diagnostico
ää3 E
=
ääF G
item
ääH L
.
ääL M 
Nombre_Diagnostico
ääM _
;
ää_ ` 
oFinanciamientoLog
ãã  2
.
ãã2 3
Cod_Prestacion
ãã3 A
=
ããB C
codprestacion
ããD Q
;
ããQ R 
oFinanciamientoLog
åå  2
.
åå2 3
Cod_ROE
åå3 :
=
åå; <
item
åå= A
.
ååA B
Cod_ROE
ååB I
;
ååI J 
oFinanciamientoLog
çç  2
.
çç2 3

Prueba_ROE
çç3 =
=
çç> ?
item
çç@ D
.
ççD E

Prueba_ROE
ççE O
;
ççO P 
oFinanciamientoLog
éé  2
.
éé2 3
CodAseguradora1
éé3 B
=
ééC D
item
ééE I
.
ééI J
CodAseguradora1
ééJ Y
;
ééY Z 
oFinanciamientoLog
èè  2
.
èè2 3
CodAseguradora4
èè3 B
=
èèC D
item
èèE I
.
èèI J
CodAseguradora4
èèJ Y
;
èèY Z 
oFinanciamientoLog
êê  2
.
êê2 3 
CodAseguradoraMask
êê3 E
=
êêF G
item
êêH L
.
êêL M 
CodAseguradoraMask
êêM _
;
êê_ ` 
oFinanciamientoLog
ëë  2
.
ëë2 3$
ObservacionsSecundaria
ëë3 I
=
ëëJ K
$str
ëëL P
;
ëëP Q

oListarLog
íí  *
.
íí* +
Add
íí+ .
(
íí. / 
oFinanciamientoLog
íí/ A
)
ííA B
;
ííB C
}
ìì 
else
îî  
if
îî! #
(
îî$ %
!
îî% &
item
îî& *
.
îî* +
CodAseguradora5
îî+ :
.
îî: ;
ToString
îî; C
(
îîC D
)
îîD E
.
îîE F
ToUpper
îîF M
(
îîM N
)
îîN O
.
îîO P
Equals
îîP V
(
îîV W
$str
îîW [
)
îî[ \
)
îî\ ]
{
ïï  
oFinanciamientoLog
óó  2
.
óó2 3
Ide_AnalisisTemp
óó3 C
=
óóD E
item
óóF J
.
óóJ K
Ide_AnalisisTemp
óóK [
;
óó[ \ 
oFinanciamientoLog
òò  2
.
òò2 3
Ide_Analisis
òò3 ?
=
òò@ A
item
òòB F
.
òòF G
Ide_Analisis
òòG S
;
òòS T 
oFinanciamientoLog
ôô  2
.
ôô2 3
Cod_Diagnostico
ôô3 B
=
ôôC D
item
ôôE I
.
ôôI J
Cod_Diagnostico
ôôJ Y
;
ôôY Z 
oFinanciamientoLog
öö  2
.
öö2 3 
Nombre_Diagnostico
öö3 E
=
ööF G
item
ööH L
.
ööL M 
Nombre_Diagnostico
ööM _
;
öö_ ` 
oFinanciamientoLog
õõ  2
.
õõ2 3
Cod_Prestacion
õõ3 A
=
õõB C
codprestacion
õõD Q
;
õõQ R 
oFinanciamientoLog
úú  2
.
úú2 3
Cod_ROE
úú3 :
=
úú; <
item
úú= A
.
úúA B
Cod_ROE
úúB I
;
úúI J 
oFinanciamientoLog
ùù  2
.
ùù2 3

Prueba_ROE
ùù3 =
=
ùù> ?
item
ùù@ D
.
ùùD E

Prueba_ROE
ùùE O
;
ùùO P 
oFinanciamientoLog
ûû  2
.
ûû2 3
CodAseguradora1
ûû3 B
=
ûûC D
item
ûûE I
.
ûûI J
CodAseguradora1
ûûJ Y
;
ûûY Z 
oFinanciamientoLog
üü  2
.
üü2 3
CodAseguradora5
üü3 B
=
üüC D
item
üüE I
.
üüI J
CodAseguradora5
üüJ Y
;
üüY Z 
oFinanciamientoLog
††  2
.
††2 3 
CodAseguradoraMask
††3 E
=
††F G
item
††H L
.
††L M 
CodAseguradoraMask
††M _
;
††_ ` 
oFinanciamientoLog
°°  2
.
°°2 3$
ObservacionsSecundaria
°°3 I
=
°°J K
$str
°°L P
;
°°P Q

oListarLog
¢¢  *
.
¢¢* +
Add
¢¢+ .
(
¢¢. / 
oFinanciamientoLog
¢¢/ A
)
¢¢A B
;
¢¢B C
}
££ 
else
§§  
if
§§! #
(
§§$ %
!
§§% &
item
§§& *
.
§§* +
CodAseguradora6
§§+ :
.
§§: ;
ToString
§§; C
(
§§C D
)
§§D E
.
§§E F
ToUpper
§§F M
(
§§M N
)
§§N O
.
§§O P
Equals
§§P V
(
§§V W
$str
§§W [
)
§§[ \
)
§§\ ]
{
••  
oFinanciamientoLog
ßß  2
.
ßß2 3
Ide_AnalisisTemp
ßß3 C
=
ßßD E
item
ßßF J
.
ßßJ K
Ide_AnalisisTemp
ßßK [
;
ßß[ \ 
oFinanciamientoLog
®®  2
.
®®2 3
Ide_Analisis
®®3 ?
=
®®@ A
item
®®B F
.
®®F G
Ide_Analisis
®®G S
;
®®S T 
oFinanciamientoLog
©©  2
.
©©2 3
Cod_Diagnostico
©©3 B
=
©©C D
item
©©E I
.
©©I J
Cod_Diagnostico
©©J Y
;
©©Y Z 
oFinanciamientoLog
™™  2
.
™™2 3 
Nombre_Diagnostico
™™3 E
=
™™F G
item
™™H L
.
™™L M 
Nombre_Diagnostico
™™M _
;
™™_ ` 
oFinanciamientoLog
´´  2
.
´´2 3
Cod_Prestacion
´´3 A
=
´´B C
codprestacion
´´D Q
;
´´Q R 
oFinanciamientoLog
¨¨  2
.
¨¨2 3
Cod_ROE
¨¨3 :
=
¨¨; <
item
¨¨= A
.
¨¨A B
Cod_ROE
¨¨B I
;
¨¨I J 
oFinanciamientoLog
≠≠  2
.
≠≠2 3

Prueba_ROE
≠≠3 =
=
≠≠> ?
item
≠≠@ D
.
≠≠D E

Prueba_ROE
≠≠E O
;
≠≠O P 
oFinanciamientoLog
ÆÆ  2
.
ÆÆ2 3
CodAseguradora1
ÆÆ3 B
=
ÆÆC D
item
ÆÆE I
.
ÆÆI J
CodAseguradora1
ÆÆJ Y
;
ÆÆY Z 
oFinanciamientoLog
ØØ  2
.
ØØ2 3
CodAseguradora6
ØØ3 B
=
ØØC D
item
ØØE I
.
ØØI J
CodAseguradora6
ØØJ Y
;
ØØY Z 
oFinanciamientoLog
∞∞  2
.
∞∞2 3 
CodAseguradoraMask
∞∞3 E
=
∞∞F G
item
∞∞H L
.
∞∞L M 
CodAseguradoraMask
∞∞M _
;
∞∞_ ` 
oFinanciamientoLog
±±  2
.
±±2 3$
ObservacionsSecundaria
±±3 I
=
±±J K
$str
±±L P
;
±±P Q

oListarLog
≤≤  *
.
≤≤* +
Add
≤≤+ .
(
≤≤. / 
oFinanciamientoLog
≤≤/ A
)
≤≤A B
;
≤≤B C
}
≥≥ 
else
¥¥  
if
¥¥! #
(
¥¥$ %
!
¥¥% &
item
¥¥& *
.
¥¥* +
CodAseguradora7
¥¥+ :
.
¥¥: ;
ToString
¥¥; C
(
¥¥C D
)
¥¥D E
.
¥¥E F
ToUpper
¥¥F M
(
¥¥M N
)
¥¥N O
.
¥¥O P
Equals
¥¥P V
(
¥¥V W
$str
¥¥W [
)
¥¥[ \
)
¥¥\ ]
{
µµ  
oFinanciamientoLog
∑∑  2
.
∑∑2 3
Ide_AnalisisTemp
∑∑3 C
=
∑∑D E
item
∑∑F J
.
∑∑J K
Ide_AnalisisTemp
∑∑K [
;
∑∑[ \ 
oFinanciamientoLog
∏∏  2
.
∏∏2 3
Ide_Analisis
∏∏3 ?
=
∏∏@ A
item
∏∏B F
.
∏∏F G
Ide_Analisis
∏∏G S
;
∏∏S T 
oFinanciamientoLog
ππ  2
.
ππ2 3
Cod_Diagnostico
ππ3 B
=
ππC D
item
ππE I
.
ππI J
Cod_Diagnostico
ππJ Y
;
ππY Z 
oFinanciamientoLog
∫∫  2
.
∫∫2 3 
Nombre_Diagnostico
∫∫3 E
=
∫∫F G
item
∫∫H L
.
∫∫L M 
Nombre_Diagnostico
∫∫M _
;
∫∫_ ` 
oFinanciamientoLog
ªª  2
.
ªª2 3
Cod_Prestacion
ªª3 A
=
ªªB C
codprestacion
ªªD Q
;
ªªQ R 
oFinanciamientoLog
ºº  2
.
ºº2 3
Cod_ROE
ºº3 :
=
ºº; <
item
ºº= A
.
ººA B
Cod_ROE
ººB I
;
ººI J 
oFinanciamientoLog
ΩΩ  2
.
ΩΩ2 3

Prueba_ROE
ΩΩ3 =
=
ΩΩ> ?
item
ΩΩ@ D
.
ΩΩD E

Prueba_ROE
ΩΩE O
;
ΩΩO P 
oFinanciamientoLog
ææ  2
.
ææ2 3
CodAseguradora1
ææ3 B
=
ææC D
item
ææE I
.
ææI J
CodAseguradora1
ææJ Y
;
ææY Z 
oFinanciamientoLog
øø  2
.
øø2 3
CodAseguradora7
øø3 B
=
øøC D
item
øøE I
.
øøI J
CodAseguradora7
øøJ Y
;
øøY Z 
oFinanciamientoLog
¿¿  2
.
¿¿2 3 
CodAseguradoraMask
¿¿3 E
=
¿¿F G
item
¿¿H L
.
¿¿L M 
CodAseguradoraMask
¿¿M _
;
¿¿_ ` 
oFinanciamientoLog
¡¡  2
.
¡¡2 3$
ObservacionsSecundaria
¡¡3 I
=
¡¡J K
$str
¡¡L P
;
¡¡P Q

oListarLog
¬¬  *
.
¬¬* +
Add
¬¬+ .
(
¬¬. / 
oFinanciamientoLog
¬¬/ A
)
¬¬A B
;
¬¬B C
}
√√ 
else
ƒƒ  
if
ƒƒ! #
(
ƒƒ$ %
!
ƒƒ% &
item
ƒƒ& *
.
ƒƒ* +
CodAseguradora8
ƒƒ+ :
.
ƒƒ: ;
ToString
ƒƒ; C
(
ƒƒC D
)
ƒƒD E
.
ƒƒE F
ToUpper
ƒƒF M
(
ƒƒM N
)
ƒƒN O
.
ƒƒO P
Equals
ƒƒP V
(
ƒƒV W
$str
ƒƒW [
)
ƒƒ[ \
)
ƒƒ\ ]
{
≈≈  
oFinanciamientoLog
««  2
.
««2 3
Ide_AnalisisTemp
««3 C
=
««D E
item
««F J
.
««J K
Ide_AnalisisTemp
««K [
;
««[ \ 
oFinanciamientoLog
»»  2
.
»»2 3
Ide_Analisis
»»3 ?
=
»»@ A
item
»»B F
.
»»F G
Ide_Analisis
»»G S
;
»»S T 
oFinanciamientoLog
……  2
.
……2 3
Cod_Diagnostico
……3 B
=
……C D
item
……E I
.
……I J
Cod_Diagnostico
……J Y
;
……Y Z 
oFinanciamientoLog
    2
.
  2 3 
Nombre_Diagnostico
  3 E
=
  F G
item
  H L
.
  L M 
Nombre_Diagnostico
  M _
;
  _ ` 
oFinanciamientoLog
ÀÀ  2
.
ÀÀ2 3
Cod_Prestacion
ÀÀ3 A
=
ÀÀB C
codprestacion
ÀÀD Q
;
ÀÀQ R 
oFinanciamientoLog
ÃÃ  2
.
ÃÃ2 3
Cod_ROE
ÃÃ3 :
=
ÃÃ; <
item
ÃÃ= A
.
ÃÃA B
Cod_ROE
ÃÃB I
;
ÃÃI J 
oFinanciamientoLog
ÕÕ  2
.
ÕÕ2 3

Prueba_ROE
ÕÕ3 =
=
ÕÕ> ?
item
ÕÕ@ D
.
ÕÕD E

Prueba_ROE
ÕÕE O
;
ÕÕO P 
oFinanciamientoLog
ŒŒ  2
.
ŒŒ2 3
CodAseguradora1
ŒŒ3 B
=
ŒŒC D
item
ŒŒE I
.
ŒŒI J
CodAseguradora1
ŒŒJ Y
;
ŒŒY Z 
oFinanciamientoLog
œœ  2
.
œœ2 3
CodAseguradora8
œœ3 B
=
œœC D
item
œœE I
.
œœI J
CodAseguradora8
œœJ Y
;
œœY Z 
oFinanciamientoLog
––  2
.
––2 3 
CodAseguradoraMask
––3 E
=
––F G
item
––H L
.
––L M 
CodAseguradoraMask
––M _
;
––_ ` 
oFinanciamientoLog
——  2
.
——2 3$
ObservacionsSecundaria
——3 I
=
——J K
$str
——L P
;
——P Q

oListarLog
““  *
.
““* +
Add
““+ .
(
““. / 
oFinanciamientoLog
““/ A
)
““A B
;
““B C
}
”” 
else
‘‘  
if
‘‘! #
(
‘‘$ %
!
‘‘% &
item
‘‘& *
.
‘‘* +
CodAseguradora9
‘‘+ :
.
‘‘: ;
ToString
‘‘; C
(
‘‘C D
)
‘‘D E
.
‘‘E F
ToUpper
‘‘F M
(
‘‘M N
)
‘‘N O
.
‘‘O P
Equals
‘‘P V
(
‘‘V W
$str
‘‘W [
)
‘‘[ \
)
‘‘\ ]
{
’’  
oFinanciamientoLog
◊◊  2
.
◊◊2 3
Ide_AnalisisTemp
◊◊3 C
=
◊◊D E
item
◊◊F J
.
◊◊J K
Ide_AnalisisTemp
◊◊K [
;
◊◊[ \ 
oFinanciamientoLog
ÿÿ  2
.
ÿÿ2 3
Ide_Analisis
ÿÿ3 ?
=
ÿÿ@ A
item
ÿÿB F
.
ÿÿF G
Ide_Analisis
ÿÿG S
;
ÿÿS T 
oFinanciamientoLog
ŸŸ  2
.
ŸŸ2 3
Cod_Diagnostico
ŸŸ3 B
=
ŸŸC D
item
ŸŸE I
.
ŸŸI J
Cod_Diagnostico
ŸŸJ Y
;
ŸŸY Z 
oFinanciamientoLog
⁄⁄  2
.
⁄⁄2 3 
Nombre_Diagnostico
⁄⁄3 E
=
⁄⁄F G
item
⁄⁄H L
.
⁄⁄L M 
Nombre_Diagnostico
⁄⁄M _
;
⁄⁄_ ` 
oFinanciamientoLog
€€  2
.
€€2 3
Cod_Prestacion
€€3 A
=
€€B C
codprestacion
€€D Q
;
€€Q R 
oFinanciamientoLog
‹‹  2
.
‹‹2 3
Cod_ROE
‹‹3 :
=
‹‹; <
item
‹‹= A
.
‹‹A B
Cod_ROE
‹‹B I
;
‹‹I J 
oFinanciamientoLog
››  2
.
››2 3

Prueba_ROE
››3 =
=
››> ?
item
››@ D
.
››D E

Prueba_ROE
››E O
;
››O P 
oFinanciamientoLog
ﬁﬁ  2
.
ﬁﬁ2 3
CodAseguradora1
ﬁﬁ3 B
=
ﬁﬁC D
item
ﬁﬁE I
.
ﬁﬁI J
CodAseguradora1
ﬁﬁJ Y
;
ﬁﬁY Z 
oFinanciamientoLog
ﬂﬂ  2
.
ﬂﬂ2 3
CodAseguradora9
ﬂﬂ3 B
=
ﬂﬂC D
item
ﬂﬂE I
.
ﬂﬂI J
CodAseguradora9
ﬂﬂJ Y
;
ﬂﬂY Z 
oFinanciamientoLog
‡‡  2
.
‡‡2 3 
CodAseguradoraMask
‡‡3 E
=
‡‡F G
item
‡‡H L
.
‡‡L M 
CodAseguradoraMask
‡‡M _
;
‡‡_ ` 
oFinanciamientoLog
··  2
.
··2 3$
ObservacionsSecundaria
··3 I
=
··J K
$str
··L P
;
··P Q

oListarLog
‚‚  *
.
‚‚* +
Add
‚‚+ .
(
‚‚. / 
oFinanciamientoLog
‚‚/ A
)
‚‚A B
;
‚‚B C
}
„„ 
else
‰‰  
if
‰‰! #
(
‰‰$ %
!
‰‰% &
item
‰‰& *
.
‰‰* +
CodAseguradora10
‰‰+ ;
.
‰‰; <
ToString
‰‰< D
(
‰‰D E
)
‰‰E F
.
‰‰F G
ToUpper
‰‰G N
(
‰‰N O
)
‰‰O P
.
‰‰P Q
Equals
‰‰Q W
(
‰‰W X
$str
‰‰X \
)
‰‰\ ]
)
‰‰] ^
{
ÂÂ  
oFinanciamientoLog
ÁÁ  2
.
ÁÁ2 3
Ide_AnalisisTemp
ÁÁ3 C
=
ÁÁD E
item
ÁÁF J
.
ÁÁJ K
Ide_AnalisisTemp
ÁÁK [
;
ÁÁ[ \ 
oFinanciamientoLog
ËË  2
.
ËË2 3
Ide_Analisis
ËË3 ?
=
ËË@ A
item
ËËB F
.
ËËF G
Ide_Analisis
ËËG S
;
ËËS T 
oFinanciamientoLog
ÈÈ  2
.
ÈÈ2 3
Cod_Diagnostico
ÈÈ3 B
=
ÈÈC D
item
ÈÈE I
.
ÈÈI J
Cod_Diagnostico
ÈÈJ Y
;
ÈÈY Z 
oFinanciamientoLog
ÍÍ  2
.
ÍÍ2 3 
Nombre_Diagnostico
ÍÍ3 E
=
ÍÍF G
item
ÍÍH L
.
ÍÍL M 
Nombre_Diagnostico
ÍÍM _
;
ÍÍ_ ` 
oFinanciamientoLog
ÎÎ  2
.
ÎÎ2 3
Cod_Prestacion
ÎÎ3 A
=
ÎÎB C
codprestacion
ÎÎD Q
;
ÎÎQ R 
oFinanciamientoLog
ÏÏ  2
.
ÏÏ2 3
Cod_ROE
ÏÏ3 :
=
ÏÏ; <
item
ÏÏ= A
.
ÏÏA B
Cod_ROE
ÏÏB I
;
ÏÏI J 
oFinanciamientoLog
ÌÌ  2
.
ÌÌ2 3

Prueba_ROE
ÌÌ3 =
=
ÌÌ> ?
item
ÌÌ@ D
.
ÌÌD E

Prueba_ROE
ÌÌE O
;
ÌÌO P 
oFinanciamientoLog
ÓÓ  2
.
ÓÓ2 3
CodAseguradora1
ÓÓ3 B
=
ÓÓC D
item
ÓÓE I
.
ÓÓI J
CodAseguradora1
ÓÓJ Y
;
ÓÓY Z 
oFinanciamientoLog
ÔÔ  2
.
ÔÔ2 3
CodAseguradora10
ÔÔ3 C
=
ÔÔD E
item
ÔÔF J
.
ÔÔJ K
CodAseguradora10
ÔÔK [
;
ÔÔ[ \ 
oFinanciamientoLog
  2
.
2 3 
CodAseguradoraMask
3 E
=
F G
item
H L
.
L M 
CodAseguradoraMask
M _
;
_ ` 
oFinanciamientoLog
ÒÒ  2
.
ÒÒ2 3$
ObservacionsSecundaria
ÒÒ3 I
=
ÒÒJ K
$str
ÒÒL P
;
ÒÒP Q

oListarLog
ÚÚ  *
.
ÚÚ* +
Add
ÚÚ+ .
(
ÚÚ. / 
oFinanciamientoLog
ÚÚ/ A
)
ÚÚA B
;
ÚÚB C
}
ÛÛ 
else
ÙÙ  
if
ÙÙ! #
(
ÙÙ$ %
!
ÙÙ% &
item
ÙÙ& *
.
ÙÙ* +
CodAseguradora11
ÙÙ+ ;
.
ÙÙ; <
ToString
ÙÙ< D
(
ÙÙD E
)
ÙÙE F
.
ÙÙF G
ToUpper
ÙÙG N
(
ÙÙN O
)
ÙÙO P
.
ÙÙP Q
Equals
ÙÙQ W
(
ÙÙW X
$str
ÙÙX \
)
ÙÙ\ ]
)
ÙÙ] ^
{
ıı  
oFinanciamientoLog
˜˜  2
.
˜˜2 3
Ide_AnalisisTemp
˜˜3 C
=
˜˜D E
item
˜˜F J
.
˜˜J K
Ide_AnalisisTemp
˜˜K [
;
˜˜[ \ 
oFinanciamientoLog
¯¯  2
.
¯¯2 3
Ide_Analisis
¯¯3 ?
=
¯¯@ A
item
¯¯B F
.
¯¯F G
Ide_Analisis
¯¯G S
;
¯¯S T 
oFinanciamientoLog
˘˘  2
.
˘˘2 3
Cod_Diagnostico
˘˘3 B
=
˘˘C D
item
˘˘E I
.
˘˘I J
Cod_Diagnostico
˘˘J Y
;
˘˘Y Z 
oFinanciamientoLog
˙˙  2
.
˙˙2 3 
Nombre_Diagnostico
˙˙3 E
=
˙˙F G
item
˙˙H L
.
˙˙L M 
Nombre_Diagnostico
˙˙M _
;
˙˙_ ` 
oFinanciamientoLog
˚˚  2
.
˚˚2 3
Cod_Prestacion
˚˚3 A
=
˚˚B C
codprestacion
˚˚D Q
;
˚˚Q R 
oFinanciamientoLog
¸¸  2
.
¸¸2 3
Cod_ROE
¸¸3 :
=
¸¸; <
item
¸¸= A
.
¸¸A B
Cod_ROE
¸¸B I
;
¸¸I J 
oFinanciamientoLog
˝˝  2
.
˝˝2 3

Prueba_ROE
˝˝3 =
=
˝˝> ?
item
˝˝@ D
.
˝˝D E

Prueba_ROE
˝˝E O
;
˝˝O P 
oFinanciamientoLog
˛˛  2
.
˛˛2 3
CodAseguradora1
˛˛3 B
=
˛˛C D
item
˛˛E I
.
˛˛I J
CodAseguradora1
˛˛J Y
;
˛˛Y Z 
oFinanciamientoLog
ˇˇ  2
.
ˇˇ2 3
CodAseguradora11
ˇˇ3 C
=
ˇˇD E
item
ˇˇF J
.
ˇˇJ K
CodAseguradora11
ˇˇK [
;
ˇˇ[ \ 
oFinanciamientoLog
ÄÄ  2
.
ÄÄ2 3 
CodAseguradoraMask
ÄÄ3 E
=
ÄÄF G
item
ÄÄH L
.
ÄÄL M 
CodAseguradoraMask
ÄÄM _
;
ÄÄ_ ` 
oFinanciamientoLog
ÅÅ  2
.
ÅÅ2 3$
ObservacionsSecundaria
ÅÅ3 I
=
ÅÅJ K
$str
ÅÅL P
;
ÅÅP Q

oListarLog
ÇÇ  *
.
ÇÇ* +
Add
ÇÇ+ .
(
ÇÇ. / 
oFinanciamientoLog
ÇÇ/ A
)
ÇÇA B
;
ÇÇB C
}
ÉÉ 
else
ÑÑ  
if
ÑÑ! #
(
ÑÑ$ %
!
ÑÑ% &
item
ÑÑ& *
.
ÑÑ* +
CodAseguradora12
ÑÑ+ ;
.
ÑÑ; <
ToString
ÑÑ< D
(
ÑÑD E
)
ÑÑE F
.
ÑÑF G
ToUpper
ÑÑG N
(
ÑÑN O
)
ÑÑO P
.
ÑÑP Q
Equals
ÑÑQ W
(
ÑÑW X
$str
ÑÑX \
)
ÑÑ\ ]
)
ÑÑ] ^
{
ÖÖ  
oFinanciamientoLog
áá  2
.
áá2 3
Ide_AnalisisTemp
áá3 C
=
ááD E
item
ááF J
.
ááJ K
Ide_AnalisisTemp
ááK [
;
áá[ \ 
oFinanciamientoLog
àà  2
.
àà2 3
Ide_Analisis
àà3 ?
=
àà@ A
item
ààB F
.
ààF G
Ide_Analisis
ààG S
;
ààS T 
oFinanciamientoLog
ââ  2
.
ââ2 3
Cod_Diagnostico
ââ3 B
=
ââC D
item
ââE I
.
ââI J
Cod_Diagnostico
ââJ Y
;
ââY Z 
oFinanciamientoLog
ää  2
.
ää2 3 
Nombre_Diagnostico
ää3 E
=
ääF G
item
ääH L
.
ääL M 
Nombre_Diagnostico
ääM _
;
ää_ ` 
oFinanciamientoLog
ãã  2
.
ãã2 3
Cod_Prestacion
ãã3 A
=
ããB C
codprestacion
ããD Q
;
ããQ R 
oFinanciamientoLog
åå  2
.
åå2 3
Cod_ROE
åå3 :
=
åå; <
item
åå= A
.
ååA B
Cod_ROE
ååB I
;
ååI J 
oFinanciamientoLog
çç  2
.
çç2 3

Prueba_ROE
çç3 =
=
çç> ?
item
çç@ D
.
ççD E

Prueba_ROE
ççE O
;
ççO P 
oFinanciamientoLog
éé  2
.
éé2 3
CodAseguradora1
éé3 B
=
ééC D
item
ééE I
.
ééI J
CodAseguradora1
ééJ Y
;
ééY Z 
oFinanciamientoLog
èè  2
.
èè2 3
CodAseguradora12
èè3 C
=
èèD E
item
èèF J
.
èèJ K
CodAseguradora12
èèK [
;
èè[ \ 
oFinanciamientoLog
êê  2
.
êê2 3 
CodAseguradoraMask
êê3 E
=
êêF G
item
êêH L
.
êêL M 
CodAseguradoraMask
êêM _
;
êê_ ` 
oFinanciamientoLog
ëë  2
.
ëë2 3$
ObservacionsSecundaria
ëë3 I
=
ëëJ K
$str
ëëL P
;
ëëP Q

oListarLog
íí  *
.
íí* +
Add
íí+ .
(
íí. / 
oFinanciamientoLog
íí/ A
)
ííA B
;
ííB C
}
ìì 
else
îî  
{
îî! "
cmd
ïï  #
.
ïï# $
CommandType
ïï$ /
=
ïï0 1
CommandType
ïï2 =
.
ïï= >
StoredProcedure
ïï> M
;
ïïM N
cmd
óó  #
.
óó# $

Parameters
óó$ .
.
óó. /
AddWithValue
óó/ ;
(
óó; <
$str
óó< N
,
óóN O
item
óóP T
.
óóT U
Cod_Diagnostico
óóU d
)
óód e
;
óóe f
cmd
òò  #
.
òò# $

Parameters
òò$ .
.
òò. /
AddWithValue
òò/ ;
(
òò; <
$str
òò< K
,
òòK L
item
òòM Q
.
òòQ R
Ide_Analisis
òòR ^
)
òò^ _
;
òò_ `
cmd
ôô  #
.
ôô# $

Parameters
ôô$ .
.
ôô. /
AddWithValue
ôô/ ;
(
ôô; <
$str
ôô< J
,
ôôJ K
item
ôôL P
.
ôôP Q
Cod_ROE
ôôQ X
)
ôôX Y
;
ôôY Z
cmd
öö  #
.
öö# $

Parameters
öö$ .
.
öö. /
AddWithValue
öö/ ;
(
öö; <
$str
öö< M
,
ööM N
item
ööO S
.
ööS T
CodAseguradora1
ööT c
)
ööc d
;
ööd e
cmd
õõ  #
.
õõ# $

Parameters
õõ$ .
.
õõ. /
AddWithValue
õõ/ ;
(
õõ; <
$str
õõ< K
,
õõK L
usrModifica
õõM X
)
õõX Y
;
õõY Z
cmd
úú  #
.
úú# $

Parameters
úú$ .
.
úú. /
AddWithValue
úú/ ;
(
úú; <
$str
úú< K
,
úúK L
usrModifica
úúM X
)
úúX Y
;
úúY Z
cmd
ùù  #
.
ùù# $

Parameters
ùù$ .
.
ùù. /
AddWithValue
ùù/ ;
(
ùù; <
$str
ùù< E
,
ùùE F
$str
ùùG I
)
ùùI J
.
ùùJ K
	Direction
ùùK T
=
ùùU V 
ParameterDirection
ùùW i
.
ùùi j
ReturnValue
ùùj u
;
ùùu v
cmd
ûû  #
.
ûû# $

Parameters
ûû$ .
.
ûû. /
Add
ûû/ 2
(
ûû2 3
VariablesGlobales
ûû3 D
.
ûûD E
ParametroSql
ûûE Q
(
ûûQ R
$str
ûûR b
,
ûûb c 
ParameterDirection
ûûd v
.
ûûv w
InputOutputûûw Ç
,ûûÇ É
	SqlDbTypeûûÑ ç
.ûûç é
VarCharûûé ï
,ûûï ñ
$numûûó ò
,ûûò ô
codprestacionûûö ß
)ûûß ®
)ûû® ©
;ûû© ™
cmd
††  #
.
††# $

Parameters
††$ .
.
††. /
Add
††/ 2
(
††2 3
VariablesGlobales
††3 D
.
††D E
ParametroSql
††E Q
(
††Q R
$str
††R _
,
††_ ` 
ParameterDirection
††a s
.
††s t
InputOutput
††t 
,†† Ä
	SqlDbType††Å ä
.††ä ã
Int††ã é
,††é è
$num††è ë
,††ë í

validacion††ì ù
)††ù û
)††û ü
;††ü †
cnn
°°  #
.
°°# $
Open
°°$ (
(
°°( )
)
°°) *
;
°°* +
cmd
¢¢  #
.
¢¢# $
ExecuteNonQuery
¢¢$ 3
(
¢¢3 4
)
¢¢4 5
;
¢¢5 6
xReturn
££  '
=
££( )
System
££* 0
.
££0 1
Convert
££1 8
.
££8 9
ToInt32
££9 @
(
££@ A
cmd
££A D
.
££D E

Parameters
££E O
[
££O P
$str
££P Y
]
££Y Z
.
££Z [
Value
££[ `
)
££` a
;
££a b
codprestacion
§§  -
=
§§. /
cmd
§§0 3
.
§§3 4

Parameters
§§4 >
[
§§> ?
$str
§§? O
]
§§O P
.
§§P Q
Value
§§Q V
+
§§W X
$str
§§Y [
;
§§[ \

validacion
¶¶  *
=
¶¶+ ,
System
¶¶- 3
.
¶¶3 4
Convert
¶¶4 ;
.
¶¶; <
ToInt32
¶¶< C
(
¶¶C D
cmd
¶¶D G
.
¶¶G H

Parameters
¶¶H R
[
¶¶R S
$str
¶¶S `
]
¶¶` a
.
¶¶a b
Value
¶¶b g
)
¶¶g h
;
¶¶h i
cmd
ßß  #
.
ßß# $

Parameters
ßß$ .
.
ßß. /
Clear
ßß/ 4
(
ßß4 5
)
ßß5 6
;
ßß6 7
cnn
®®  #
.
®®# $
Close
®®$ )
(
®®) *
)
®®* +
;
®®+ ,
cmd
©©  #
.
©©# $
Dispose
©©$ +
(
©©+ ,
)
©©, -
;
©©- .
if
¨¨  "
(
¨¨# $

validacion
¨¨$ .
==
¨¨/ 1
$num
¨¨2 3
)
¨¨3 4
{
¨¨5 6 
oFinanciamientoLog
≠≠$ 6
.
≠≠6 7
Ide_AnalisisTemp
≠≠7 G
=
≠≠H I
item
≠≠J N
.
≠≠N O
Ide_AnalisisTemp
≠≠O _
;
≠≠_ ` 
oFinanciamientoLog
ÆÆ$ 6
.
ÆÆ6 7
Ide_Analisis
ÆÆ7 C
=
ÆÆD E
item
ÆÆF J
.
ÆÆJ K
Ide_Analisis
ÆÆK W
;
ÆÆW X 
oFinanciamientoLog
ØØ$ 6
.
ØØ6 7
Cod_Diagnostico
ØØ7 F
=
ØØG H
item
ØØI M
.
ØØM N
Cod_Diagnostico
ØØN ]
;
ØØ] ^ 
oFinanciamientoLog
∞∞$ 6
.
∞∞6 7 
Nombre_Diagnostico
∞∞7 I
=
∞∞J K
item
∞∞L P
.
∞∞P Q 
Nombre_Diagnostico
∞∞Q c
;
∞∞c d 
oFinanciamientoLog
±±$ 6
.
±±6 7
Cod_Prestacion
±±7 E
=
±±F G
codprestacion
±±H U
;
±±U V 
oFinanciamientoLog
≤≤$ 6
.
≤≤6 7
Cod_ROE
≤≤7 >
=
≤≤? @
item
≤≤A E
.
≤≤E F
Cod_ROE
≤≤F M
;
≤≤M N 
oFinanciamientoLog
≥≥$ 6
.
≥≥6 7

Prueba_ROE
≥≥7 A
=
≥≥B C
item
≥≥D H
.
≥≥H I

Prueba_ROE
≥≥I S
;
≥≥S T 
oFinanciamientoLog
¥¥$ 6
.
¥¥6 7
CodAseguradora1
¥¥7 F
=
¥¥G H
item
¥¥I M
.
¥¥M N
CodAseguradora1
¥¥N ]
;
¥¥] ^ 
oFinanciamientoLog
µµ$ 6
.
µµ6 7
Observacion
µµ7 B
=
µµC D
$str
µµE ]
;
µµ] ^

oListarLog
∂∂$ .
.
∂∂. /
Add
∂∂/ 2
(
∂∂2 3 
oFinanciamientoLog
∂∂3 E
)
∂∂E F
;
∂∂F G
}
∑∑  !
if
∏∏  "
(
∏∏# $

validacion
∏∏$ .
==
∏∏/ 1
$num
∏∏2 3
)
∏∏3 4
{
ππ  ! 
oFinanciamientoLog
∫∫$ 6
.
∫∫6 7
Ide_AnalisisTemp
∫∫7 G
=
∫∫H I
item
∫∫J N
.
∫∫N O
Ide_AnalisisTemp
∫∫O _
;
∫∫_ ` 
oFinanciamientoLog
ªª$ 6
.
ªª6 7
Ide_Analisis
ªª7 C
=
ªªD E
item
ªªF J
.
ªªJ K
Ide_Analisis
ªªK W
;
ªªW X 
oFinanciamientoLog
ºº$ 6
.
ºº6 7
Cod_Diagnostico
ºº7 F
=
ººG H
item
ººI M
.
ººM N
Cod_Diagnostico
ººN ]
;
ºº] ^ 
oFinanciamientoLog
ΩΩ$ 6
.
ΩΩ6 7 
Nombre_Diagnostico
ΩΩ7 I
=
ΩΩJ K
item
ΩΩL P
.
ΩΩP Q 
Nombre_Diagnostico
ΩΩQ c
;
ΩΩc d 
oFinanciamientoLog
ææ$ 6
.
ææ6 7
Cod_Prestacion
ææ7 E
=
ææF G
codprestacion
ææH U
;
ææU V 
oFinanciamientoLog
øø$ 6
.
øø6 7
Cod_ROE
øø7 >
=
øø? @
item
øøA E
.
øøE F
Cod_ROE
øøF M
;
øøM N 
oFinanciamientoLog
¿¿$ 6
.
¿¿6 7

Prueba_ROE
¿¿7 A
=
¿¿B C
item
¿¿D H
.
¿¿H I

Prueba_ROE
¿¿I S
;
¿¿S T 
oFinanciamientoLog
¡¡$ 6
.
¡¡6 7
CodAseguradora1
¡¡7 F
=
¡¡G H
item
¡¡I M
.
¡¡M N
CodAseguradora1
¡¡N ]
;
¡¡] ^ 
oFinanciamientoLog
¬¬$ 6
.
¬¬6 7
Observacion
¬¬7 B
=
¬¬C D
$str
¬¬E `
;
¬¬` a

oListarLog
√√$ .
.
√√. /
Add
√√/ 2
(
√√2 3 
oFinanciamientoLog
√√3 E
)
√√E F
;
√√F G
}
ƒƒ  !
if
≈≈  "
(
≈≈# $

validacion
≈≈$ .
==
≈≈/ 1
$num
≈≈2 3
)
≈≈3 4
{
∆∆  ! 
oFinanciamientoLog
««$ 6
.
««6 7
Ide_AnalisisTemp
««7 G
=
««H I
item
««J N
.
««N O
Ide_AnalisisTemp
««O _
;
««_ ` 
oFinanciamientoLog
»»$ 6
.
»»6 7
Ide_Analisis
»»7 C
=
»»D E
item
»»F J
.
»»J K
Ide_Analisis
»»K W
;
»»W X 
oFinanciamientoLog
……$ 6
.
……6 7
Cod_Diagnostico
……7 F
=
……G H
item
……I M
.
……M N
Cod_Diagnostico
……N ]
;
……] ^ 
oFinanciamientoLog
  $ 6
.
  6 7 
Nombre_Diagnostico
  7 I
=
  J K
item
  L P
.
  P Q 
Nombre_Diagnostico
  Q c
;
  c d 
oFinanciamientoLog
ÀÀ$ 6
.
ÀÀ6 7
Cod_Prestacion
ÀÀ7 E
=
ÀÀF G
codprestacion
ÀÀH U
;
ÀÀU V 
oFinanciamientoLog
ÃÃ$ 6
.
ÃÃ6 7
Cod_ROE
ÃÃ7 >
=
ÃÃ? @
item
ÃÃA E
.
ÃÃE F
Cod_ROE
ÃÃF M
;
ÃÃM N 
oFinanciamientoLog
ÕÕ$ 6
.
ÕÕ6 7

Prueba_ROE
ÕÕ7 A
=
ÕÕB C
item
ÕÕD H
.
ÕÕH I

Prueba_ROE
ÕÕI S
;
ÕÕS T 
oFinanciamientoLog
ŒŒ$ 6
.
ŒŒ6 7
CodAseguradora1
ŒŒ7 F
=
ŒŒG H
item
ŒŒI M
.
ŒŒM N
CodAseguradora1
ŒŒN ]
;
ŒŒ] ^ 
oFinanciamientoLog
œœ$ 6
.
œœ6 7
Observacion
œœ7 B
=
œœC D
$str
œœE ]
;
œœ] ^

oListarLog
––$ .
.
––. /
Add
––/ 2
(
––2 3 
oFinanciamientoLog
––3 E
)
––E F
;
––F G
}
——  !
if
““  "
(
““# $

validacion
““$ .
==
““/ 1
$num
““2 3
)
““3 4
{
””  ! 
oFinanciamientoLog
‘‘$ 6
.
‘‘6 7
Ide_AnalisisTemp
‘‘7 G
=
‘‘H I
item
‘‘J N
.
‘‘N O
Ide_AnalisisTemp
‘‘O _
;
‘‘_ ` 
oFinanciamientoLog
’’$ 6
.
’’6 7
Ide_Analisis
’’7 C
=
’’D E
item
’’F J
.
’’J K
Ide_Analisis
’’K W
;
’’W X 
oFinanciamientoLog
÷÷$ 6
.
÷÷6 7
Cod_Diagnostico
÷÷7 F
=
÷÷G H
item
÷÷I M
.
÷÷M N
Cod_Diagnostico
÷÷N ]
;
÷÷] ^ 
oFinanciamientoLog
◊◊$ 6
.
◊◊6 7 
Nombre_Diagnostico
◊◊7 I
=
◊◊J K
item
◊◊L P
.
◊◊P Q 
Nombre_Diagnostico
◊◊Q c
;
◊◊c d 
oFinanciamientoLog
ÿÿ$ 6
.
ÿÿ6 7
Cod_Prestacion
ÿÿ7 E
=
ÿÿF G
codprestacion
ÿÿH U
;
ÿÿU V 
oFinanciamientoLog
ŸŸ$ 6
.
ŸŸ6 7
Cod_ROE
ŸŸ7 >
=
ŸŸ? @
item
ŸŸA E
.
ŸŸE F
Cod_ROE
ŸŸF M
;
ŸŸM N 
oFinanciamientoLog
⁄⁄$ 6
.
⁄⁄6 7

Prueba_ROE
⁄⁄7 A
=
⁄⁄B C
item
⁄⁄D H
.
⁄⁄H I

Prueba_ROE
⁄⁄I S
;
⁄⁄S T 
oFinanciamientoLog
€€$ 6
.
€€6 7
CodAseguradora1
€€7 F
=
€€G H
item
€€I M
.
€€M N
CodAseguradora1
€€N ]
;
€€] ^ 
oFinanciamientoLog
‹‹$ 6
.
‹‹6 7
Observacion
‹‹7 B
=
‹‹C D
$str
‹‹E b
;
‹‹b c

oListarLog
››$ .
.
››. /
Add
››/ 2
(
››2 3 
oFinanciamientoLog
››3 E
)
››E F
;
››F G
}
ﬁﬁ  !
if
ﬂﬂ  "
(
ﬂﬂ# $

validacion
ﬂﬂ$ .
==
ﬂﬂ/ 1
$num
ﬂﬂ2 3
)
ﬂﬂ3 4
{
‡‡  ! 
oFinanciamientoLog
··$ 6
.
··6 7
Ide_AnalisisTemp
··7 G
=
··H I
item
··J N
.
··N O
Ide_AnalisisTemp
··O _
;
··_ ` 
oFinanciamientoLog
‚‚$ 6
.
‚‚6 7
Ide_Analisis
‚‚7 C
=
‚‚D E
item
‚‚F J
.
‚‚J K
Ide_Analisis
‚‚K W
;
‚‚W X 
oFinanciamientoLog
„„$ 6
.
„„6 7
Cod_Diagnostico
„„7 F
=
„„G H
item
„„I M
.
„„M N
Cod_Diagnostico
„„N ]
;
„„] ^ 
oFinanciamientoLog
‰‰$ 6
.
‰‰6 7 
Nombre_Diagnostico
‰‰7 I
=
‰‰J K
item
‰‰L P
.
‰‰P Q 
Nombre_Diagnostico
‰‰Q c
;
‰‰c d 
oFinanciamientoLog
ÂÂ$ 6
.
ÂÂ6 7
Cod_Prestacion
ÂÂ7 E
=
ÂÂF G
codprestacion
ÂÂH U
;
ÂÂU V 
oFinanciamientoLog
ÊÊ$ 6
.
ÊÊ6 7
Cod_ROE
ÊÊ7 >
=
ÊÊ? @
item
ÊÊA E
.
ÊÊE F
Cod_ROE
ÊÊF M
;
ÊÊM N 
oFinanciamientoLog
ÁÁ$ 6
.
ÁÁ6 7

Prueba_ROE
ÁÁ7 A
=
ÁÁB C
item
ÁÁD H
.
ÁÁH I

Prueba_ROE
ÁÁI S
;
ÁÁS T 
oFinanciamientoLog
ËË$ 6
.
ËË6 7
CodAseguradora1
ËË7 F
=
ËËG H
item
ËËI M
.
ËËM N
CodAseguradora1
ËËN ]
;
ËË] ^ 
oFinanciamientoLog
ÈÈ$ 6
.
ÈÈ6 7
Observacion
ÈÈ7 B
=
ÈÈC D
$str
ÈÈE ]
;
ÈÈ] ^

oListarLog
ÍÍ$ .
.
ÍÍ. /
Add
ÍÍ/ 2
(
ÍÍ2 3 
oFinanciamientoLog
ÍÍ3 E
)
ÍÍE F
;
ÍÍF G
}
ÎÎ  !
}
ÏÏ 
}
ÌÌ 
}
ÓÓ 
}
ÔÔ 
string
ÚÚ 
ideAnalisisTemp
ÚÚ &
=
ÚÚ' (
string
ÚÚ) /
.
ÚÚ/ 0
Empty
ÚÚ0 5
;
ÚÚ5 6
string
ÛÛ 
	cie10Temp
ÛÛ  
=
ÛÛ! "
string
ÛÛ# )
.
ÛÛ) *
Empty
ÛÛ* /
;
ÛÛ/ 0
foreach
ÙÙ 
(
ÙÙ 
var
ÙÙ 
item
ÙÙ !
in
ÙÙ" $

oListarLog
ÙÙ% /
)
ÙÙ/ 0
{
ıı 
if
ˆˆ 
(
ˆˆ 
!
ˆˆ 
ideAnalisisTemp
ˆˆ (
.
ˆˆ( )
Equals
ˆˆ) /
(
ˆˆ/ 0
$str
ˆˆ0 2
)
ˆˆ2 3
)
ˆˆ3 4
{
˜˜ 
if
¯¯ 
(
¯¯ 
!
¯¯ 
(
¯¯ 
ideAnalisisTemp
¯¯ ,
.
¯¯, -
Equals
¯¯- 3
(
¯¯3 4
item
¯¯4 8
.
¯¯8 9
Ide_AnalisisTemp
¯¯9 I
.
¯¯I J
Trim
¯¯J N
(
¯¯N O
)
¯¯O P
)
¯¯P Q
&&
¯¯R T
	cie10Temp
¯¯U ^
.
¯¯^ _
Equals
¯¯_ e
(
¯¯e f
item
¯¯f j
.
¯¯j k
Cod_Diagnostico
¯¯k z
.
¯¯z {
Trim
¯¯{ 
(¯¯ Ä
)¯¯Ä Å
)¯¯Å Ç
)¯¯Ç É
)¯¯É Ñ
{
˘˘ 
oListarResumen
˚˚ *
.
˚˚* +
Add
˚˚+ .
(
˚˚. /!
oFinanciamientoDetE
˚˚/ B
)
˚˚B C
;
˚˚C D
IdItem
¸¸ "
=
¸¸# $
IdItem
¸¸% +
+
¸¸, -
$num
¸¸. /
;
¸¸/ 0
aseg1
˝˝ !
=
˝˝" #
$str
˝˝$ (
;
˝˝( )
aseg2
˛˛ !
=
˛˛" #
$str
˛˛$ (
;
˛˛( )
aseg3
ˇˇ !
=
ˇˇ" #
$str
ˇˇ$ (
;
ˇˇ( )
aseg4
ÄÄ !
=
ÄÄ" #
$str
ÄÄ$ (
;
ÄÄ( )
aseg5
ÅÅ !
=
ÅÅ" #
$str
ÅÅ$ (
;
ÅÅ( )
aseg6
ÇÇ !
=
ÇÇ" #
$str
ÇÇ$ (
;
ÇÇ( )
aseg7
ÉÉ !
=
ÉÉ" #
$str
ÉÉ$ (
;
ÉÉ( )
aseg8
ÑÑ !
=
ÑÑ" #
$str
ÑÑ$ (
;
ÑÑ( )
aseg9
ÖÖ !
=
ÖÖ" #
$str
ÖÖ$ (
;
ÖÖ( )
aseg10
ÜÜ "
=
ÜÜ# $
$str
ÜÜ% )
;
ÜÜ) *
aseg11
áá "
=
áá# $
$str
áá% )
;
áá) *
aseg12
àà "
=
àà# $
$str
àà% )
;
àà) *
aseg1Neg
ââ $
=
ââ% &
$str
ââ' +
;
ââ+ ,
aseg2Neg
ää $
=
ää% &
$str
ää' +
;
ää+ ,
aseg3Neg
ãã $
=
ãã% &
$str
ãã' +
;
ãã+ ,
aseg4Neg
åå $
=
åå% &
$str
åå' +
;
åå+ ,
aseg5Neg
çç $
=
çç% &
$str
çç' +
;
çç+ ,
aseg6Neg
éé $
=
éé% &
$str
éé' +
;
éé+ ,
aseg7Neg
èè $
=
èè% &
$str
èè' +
;
èè+ ,
aseg8Neg
êê $
=
êê% &
$str
êê' +
;
êê+ ,
aseg9Neg
ëë $
=
ëë% &
$str
ëë' +
;
ëë+ ,
	aseg10Neg
íí %
=
íí& '
$str
íí( ,
;
íí, -
	aseg11Neg
ìì %
=
ìì& '
$str
ìì( ,
;
ìì, -
	aseg12Neg
îî %
=
îî& '
$str
îî( ,
;
îî, -
Codaseg1Neg
ïï '
=
ïï( )
$str
ïï* ,
;
ïï, -
Codaseg2Neg
ññ '
=
ññ( )
$str
ññ* ,
;
ññ, -
Codaseg3Neg
óó '
=
óó( )
$str
óó* ,
;
óó, -
Codaseg4Neg
òò '
=
òò( )
$str
òò* ,
;
òò, -
Codaseg5Neg
ôô '
=
ôô( )
$str
ôô* ,
;
ôô, -
Codaseg6Neg
öö '
=
öö( )
$str
öö* ,
;
öö, -
Codaseg7Neg
õõ '
=
õõ( )
$str
õõ* ,
;
õõ, -
Codaseg8Neg
úú '
=
úú( )
$str
úú* ,
;
úú, -
Codaseg9Neg
ùù '
=
ùù( )
$str
ùù* ,
;
ùù, -
Codaseg10Neg
ûû (
=
ûû) *
$str
ûû+ -
;
ûû- .
Codaseg11Neg
üü (
=
üü) *
$str
üü+ -
;
üü- .
Codaseg12Neg
†† (
=
††) *
$str
††+ -
;
††- .
obsPrincipal
°° (
=
°°) *
$str
°°+ -
;
°°- .
obsSecundaria
¢¢ )
=
¢¢* +
$str
¢¢, .
;
¢¢. /
}
££ 
}
§§ !
oFinanciamientoDetE
ßß '
=
ßß( )%
LlenarEntidadDetResumen
ßß* A
(
ßßA B
item
ßßB F
,
ßßF G
$num
ßßH I
)
ßßI J
;
ßßJ K
ideAnalisisTemp
©© #
=
©©$ %!
oFinanciamientoDetE
©©& 9
.
©©9 :
Ide_AnalisisTemp
©©: J
;
©©J K
	cie10Temp
™™ 
=
™™ !
oFinanciamientoDetE
™™  3
.
™™3 4
Cod_Diagnostico
™™4 C
;
™™C D
}
´´ 
oListarResumen
≠≠ 
.
≠≠ 
Add
≠≠ "
(
≠≠" #!
oFinanciamientoDetE
≠≠# 6
)
≠≠6 7
;
≠≠7 8
if
ØØ 
(
ØØ 
oListarResumen
ØØ "
[
ØØ" #
$num
ØØ# $
]
ØØ$ %
==
ØØ& (
null
ØØ) -
)
ØØ- .
{
∞∞ 
oListarResumen
±± "
.
±±" #
Clear
±±# (
(
±±( )
)
±±) *
;
±±* +
}
≤≤ 
return
≥≥ 
oListarResumen
≥≥ %
;
≥≥% &
}
¥¥ 
catch
µµ 
(
µµ 
	Exception
µµ 
ex
µµ 
)
µµ  
{
∂∂ 
throw
∑∑ 
new
∑∑ 
	Exception
∑∑ #
(
∑∑# $
ex
∑∑$ &
.
∑∑& '
Message
∑∑' .
)
∑∑. /
;
∑∑/ 0
}
∏∏ 
}
ππ 	
public
ºº 
bool
ºº &
Sp_Financiamiento_Update
ºº ,
(
ºº, -
List
ºº- 1
<
ºº1 2$
FinanciamientoDetalleE
ºº2 H
>
ººH I 
listFinanciamiento
ººJ \
,
ºº\ ]
int
ºº^ a
usrModifica
ººb m
)
ººm n
{
ΩΩ 	
int
ææ 
status
ææ 
=
ææ 
$num
ææ 
;
ææ 
bool
øø 
	resultado
øø 
=
øø 
false
øø "
;
øø" #
try
¿¿ 
{
¡¡ 
using
√√ 
(
√√ 
SqlConnection
√√ $
cnn
√√% (
=
√√) *
new
√√+ .
SqlConnection
√√/ <
(
√√< =
VariablesGlobales
√√= N
.
√√N O

CnnClinica
√√O Y
)
√√Y Z
)
√√Z [
{
ƒƒ 
using
≈≈ 
(
≈≈ 

SqlCommand
≈≈ %
cmd
≈≈& )
=
≈≈* +
new
≈≈, /

SqlCommand
≈≈0 :
(
≈≈: ;
$str
≈≈; U
,
≈≈U V
cnn
≈≈W Z
)
≈≈Z [
)
≈≈[ \
{
∆∆ 
foreach
»» 
(
»»  !
var
»»! $
item
»»% )
in
»»* , 
listFinanciamiento
»»- ?
)
»»? @
{
»»A B
cmd
…… 
.
……  
CommandType
……  +
=
……, -
CommandType
……. 9
.
……9 :
StoredProcedure
……: I
;
……I J
cmd
ÀÀ 
.
ÀÀ  

Parameters
ÀÀ  *
.
ÀÀ* +
AddWithValue
ÀÀ+ 7
(
ÀÀ7 8
$str
ÀÀ8 S
,
ÀÀS T
item
ÀÀU Y
.
ÀÀY Z&
Ide_AnalisisxDiagnostico
ÀÀZ r
)
ÀÀr s
;
ÀÀs t
cmd
ÃÃ 
.
ÃÃ  

Parameters
ÃÃ  *
.
ÃÃ* +
AddWithValue
ÃÃ+ 7
(
ÃÃ7 8
$str
ÃÃ8 G
,
ÃÃG H
usrModifica
ÃÃI T
)
ÃÃT U
;
ÃÃU V
cmd
ÕÕ 
.
ÕÕ  

Parameters
ÕÕ  *
.
ÕÕ* +
AddWithValue
ÕÕ+ 7
(
ÕÕ7 8
$str
ÕÕ8 F
,
ÕÕF G
item
ÕÕH L
.
ÕÕL M
Flag_Estado
ÕÕM X
)
ÕÕX Y
;
ÕÕY Z
cmd
ŒŒ 
.
ŒŒ  

Parameters
ŒŒ  *
.
ŒŒ* +
Add
ŒŒ+ .
(
ŒŒ. /
$str
ŒŒ/ 8
,
ŒŒ8 9
	SqlDbType
ŒŒ: C
.
ŒŒC D
Int
ŒŒD G
,
ŒŒG H
$num
ŒŒI J
)
ŒŒJ K
.
ŒŒK L
	Direction
ŒŒL U
=
ŒŒV W 
ParameterDirection
ŒŒX j
.
ŒŒj k
Output
ŒŒk q
;
ŒŒq r
cnn
œœ 
.
œœ  
Open
œœ  $
(
œœ$ %
)
œœ% &
;
œœ& '
cmd
–– 
.
––  
ExecuteNonQuery
––  /
(
––/ 0
)
––0 1
;
––1 2
status
—— "
=
——# $
System
——% +
.
——+ ,
Convert
——, 3
.
——3 4
ToInt32
——4 ;
(
——; <
cmd
——< ?
.
——? @

Parameters
——@ J
[
——J K
$str
——K T
]
——T U
.
——U V
Value
——V [
)
——[ \
;
——\ ]
cmd
““ 
.
““  

Parameters
““  *
.
““* +
Clear
““+ 0
(
““0 1
)
““1 2
;
““2 3
cnn
”” 
.
””  
Close
””  %
(
””% &
)
””& '
;
””' (
cmd
‘‘ 
.
‘‘  
Dispose
‘‘  '
(
‘‘' (
)
‘‘( )
;
‘‘) *
if
÷÷ 
(
÷÷  
status
÷÷  &
==
÷÷' )
$num
÷÷* +
)
÷÷+ ,
{
◊◊ 
	resultado
ÿÿ  )
=
ÿÿ* +
true
ÿÿ, 0
;
ÿÿ0 1
}
ŸŸ 
else
⁄⁄  
{
⁄⁄! "
	resultado
€€  )
=
€€* +
false
€€, 1
;
€€1 2
}
‹‹ 
}
ﬁﬁ 
}
ﬂﬂ 
}
‡‡ 
return
·· 
	resultado
··  
;
··  !
}
‚‚ 
catch
„„ 
(
„„ 
	Exception
„„ 
ex
„„ 
)
„„  
{
‰‰ 
throw
ÂÂ 
new
ÂÂ 
	Exception
ÂÂ #
(
ÂÂ# $
ex
ÂÂ$ &
.
ÂÂ& '
Message
ÂÂ' .
)
ÂÂ. /
;
ÂÂ/ 0
}
ÊÊ 
}
ÁÁ 	
public
ÍÍ 
List
ÍÍ 
<
ÍÍ $
FinanciamientoDetalleE
ÍÍ *
>
ÍÍ* +<
.Sp_FinanciamientoLaboratorio_AnalisisXAtencion
ÍÍ, Z
(
ÍÍZ [$
FinanciamientoDetalleE
ÍÍ[ q"
pFinanciamientoDetEÍÍr Ö
)ÍÍÖ Ü
{
ÎÎ 	
IDataReader
ÏÏ 
dr
ÏÏ 
;
ÏÏ $
FinanciamientoDetalleE
ÌÌ "!
oFinanciamientoDetE
ÌÌ# 6
=
ÌÌ7 8
null
ÌÌ9 =
;
ÌÌ= >
List
ÔÔ 
<
ÔÔ $
FinanciamientoDetalleE
ÔÔ '
>
ÔÔ' (
oListar
ÔÔ) 0
=
ÔÔ1 2
new
ÔÔ3 6
List
ÔÔ7 ;
<
ÔÔ; <$
FinanciamientoDetalleE
ÔÔ< R
>
ÔÔR S
(
ÔÔS T
)
ÔÔT U
;
ÔÔU V
List
 
<
 $
FinanciamientoDetalleE
 '
>
' (
oListarFinal
) 5
=
6 7
new
8 ;
List
< @
<
@ A$
FinanciamientoDetalleE
A W
>
W X
(
X Y
)
Y Z
;
Z [
try
ÒÒ 
{
ÚÚ 
using
ÛÛ 
(
ÛÛ 
SqlConnection
ÛÛ $
cnn
ÛÛ% (
=
ÛÛ) *
new
ÛÛ+ .
SqlConnection
ÛÛ/ <
(
ÛÛ< =
VariablesGlobales
ÛÛ= N
.
ÛÛN O

CnnClinica
ÛÛO Y
)
ÛÛY Z
)
ÛÛZ [
{
ÙÙ 
using
ıı 
(
ıı 

SqlCommand
ıı %
cmd
ıı& )
=
ıı* +
new
ıı, /

SqlCommand
ıı0 :
(
ıı: ;
$str
ıı; Y
,
ııY Z
cnn
ıı[ ^
)
ıı^ _
)
ıı_ `
{
ˆˆ 
cmd
˜˜ 
.
˜˜ 
CommandType
˜˜ '
=
˜˜( )
CommandType
˜˜* 5
.
˜˜5 6
StoredProcedure
˜˜6 E
;
˜˜E F
cmd
˘˘ 
.
˘˘ 

Parameters
˘˘ &
.
˘˘& '
AddWithValue
˘˘' 3
(
˘˘3 4
$str
˘˘4 =
,
˘˘= >!
pFinanciamientoDetE
˘˘? R
.
˘˘R S
Buscar
˘˘S Y
)
˘˘Y Z
;
˘˘Z [
cmd
˙˙ 
.
˙˙ 

Parameters
˙˙ &
.
˙˙& '
AddWithValue
˙˙' 3
(
˙˙3 4
$str
˙˙4 <
,
˙˙< =!
pFinanciamientoDetE
˙˙> Q
.
˙˙Q R
Orden
˙˙R W
)
˙˙W X
;
˙˙X Y
cnn
¸¸ 
.
¸¸ 
Open
¸¸  
(
¸¸  !
)
¸¸! "
;
¸¸" #
dr
˝˝ 
=
˝˝ 
cmd
˝˝  
.
˝˝  !
ExecuteReader
˝˝! .
(
˝˝. /
)
˝˝/ 0
;
˝˝0 1
string
˛˛ 
ideAnalisisTemp
˛˛ .
=
˛˛/ 0
string
˛˛1 7
.
˛˛7 8
Empty
˛˛8 =
;
˛˛= >
string
ˇˇ 
	cie10Temp
ˇˇ (
=
ˇˇ) *
string
ˇˇ+ 1
.
ˇˇ1 2
Empty
ˇˇ2 7
;
ˇˇ7 8
while
Ä	Ä	 
(
Ä	Ä	 
dr
Ä	Ä	 !
.
Ä	Ä	! "
Read
Ä	Ä	" &
(
Ä	Ä	& '
)
Ä	Ä	' (
)
Ä	Ä	( )
{
Å	Å	 !
oFinanciamientoDetE
Ç	Ç	 /
=
Ç	Ç	0 1+
LlenarEntidadAnalisisAtencion
Ç	Ç	2 O
(
Ç	Ç	O P
dr
Ç	Ç	P R
,
Ç	Ç	R S!
pFinanciamientoDetE
Ç	Ç	T g
.
Ç	Ç	g h
Orden
Ç	Ç	h m
)
Ç	Ç	m n
;
Ç	Ç	n o
oListar
É	É	 #
.
É	É	# $
Add
É	É	$ '
(
É	É	' (!
oFinanciamientoDetE
É	É	( ;
)
É	É	; <
;
É	É	< =
IdItem
Ñ	Ñ	 "
=
Ñ	Ñ	# $
IdItem
Ñ	Ñ	% +
+
Ñ	Ñ	, -
$num
Ñ	Ñ	. /
;
Ñ	Ñ	/ 0
}
Ü	Ü	 
dr
à	à	 
.
à	à	 
Close
à	à	  
(
à	à	  !
)
à	à	! "
;
à	à	" #
dr
â	â	 
.
â	â	 
Dispose
â	â	 "
(
â	â	" #
)
â	â	# $
;
â	â	$ %
cmd
ä	ä	 
.
ä	ä	 
Dispose
ä	ä	 #
(
ä	ä	# $
)
ä	ä	$ %
;
ä	ä	% &
cnn
ã	ã	 
.
ã	ã	 
Close
ã	ã	 !
(
ã	ã	! "
)
ã	ã	" #
;
ã	ã	# $
cnn
å	å	 
.
å	å	 
Dispose
å	å	 #
(
å	å	# $
)
å	å	$ %
;
å	å	% &
return
é	é	 
oListar
é	é	 &
;
é	é	& '
}
è	è	 
}
ê	ê	 
}
ë	ë	 
catch
í	í	 
(
í	í	 
	Exception
í	í	 
ex
í	í	 
)
í	í	  
{
ì	ì	 
throw
î	î	 
new
î	î	 
	Exception
î	î	 #
(
î	î	# $
ex
î	î	$ &
.
î	î	& '
Message
î	î	' .
)
î	î	. /
;
î	î	/ 0
}
ï	ï	 
}
ñ	ñ	 	
}
ó	ó	 
}ò	ò	 °+
lD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\EspecialidadesAD\EspecialidadxMedicoAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
EspecialidadesAD ,
{ 
public 

class !
EspecialidadxMedicoAD &
{ 
private  
EspecialidadxMedicoE $
LlenarEntidad% 2
(2 3
IDataReader3 >
dr? A
,A B 
EspecialidadxMedicoEC W!
pEspecialidadxmedicoEX m
)m n
{ 	 
EspecialidadxMedicoE  !
oEspecialidadxmedicoE! 6
=7 8
new9 < 
EspecialidadxMedicoE= Q
(Q R
)R S
;S T
switch 
( !
pEspecialidadxmedicoE )
.) *
Orden* /
)/ 0
{ 
case 
$num 
: 
{ !
oEspecialidadxmedicoE -
.- .
CodEspecialidad. =
=> ?
dr@ B
[B C
$strC T
]T U
+V W
$strX Z
;Z [!
oEspecialidadxmedicoE -
.- .
Especialidad. :
=; <
dr= ?
[? @
$str@ N
]N O
+P Q
$strR T
;T U
break 
; 
} 
} 
return !
oEspecialidadxmedicoE (
;( )
} 	
public 
List 
<  
EspecialidadxMedicoE (
>( )(
Sp_EspecialidadxMed_Consulta* F
(F G 
EspecialidadxMedicoEG [!
pEspecialidadxmedicoE\ q
)q r
{ 	
IDataReader   
dr   
;    
EspecialidadxMedicoE!!  !
oEspecialidadxmedicoE!!! 6
=!!7 8
null!!9 =
;!!| }
List"" 
<""  
EspecialidadxMedicoE"" %
>""% &
oListar""' .
=""/ 0
new""1 4
List""5 9
<""9 : 
EspecialidadxMedicoE"": N
>""N O
(""O P
)""P Q
;""Q R
try## 
{$$ 
using%% 
(%% 
SqlConnection%% $
cnn%%% (
=%%) *
new%%+ .
SqlConnection%%/ <
(%%< =
VariablesGlobales%%= N
.%%N O

CnnClinica%%O Y
)%%Y Z
)%%Z [
{&& 
using'' 
('' 

SqlCommand'' %
cmd''& )
=''* +
new'', /

SqlCommand''0 :
('': ;
$str''; Y
,''Y Z
cnn''[ ^
)''^ _
)''_ `
{(( 
cmd)) 
.)) 
CommandType)) '
=))( )
CommandType))* 5
.))5 6
StoredProcedure))6 E
;))E F
cmd++ 
.++ 

Parameters++ &
.++& '
AddWithValue++' 3
(++3 4
$str++4 =
,++= >!
pEspecialidadxmedicoE++? T
.++T U
Buscar++U [
)++[ \
;++\ ]
cmd,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 :
,,,: ;!
pEspecialidadxmedicoE,,< Q
.,,Q R
Key,,R U
),,U V
;,,V W
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 C
,--C D!
pEspecialidadxmedicoE--E Z
.--Z [
NumeroLineas--[ g
)--g h
;--h i
cmd.. 
... 

Parameters.. &
...& '
AddWithValue..' 3
(..3 4
$str..4 <
,..< =!
pEspecialidadxmedicoE..> S
...S T
Orden..T Y
)..Y Z
;..Z [
cnn// 
.// 
Open//  
(//  !
)//! "
;//" #
dr00 
=00 
cmd00  
.00  !
ExecuteReader00! .
(00. /
)00/ 0
;000 1
while11 
(11 
dr11 !
.11! "
Read11" &
(11& '
)11' (
)11( )
{22 !
oEspecialidadxmedicoE33 1
=332 3
LlenarEntidad334 A
(33A B
dr33B D
,33D E!
pEspecialidadxmedicoE33F [
)33[ \
;33\ ]
oListar44 #
.44# $
Add44$ '
(44' (!
oEspecialidadxmedicoE44( =
)44= >
;44> ?
}55 
dr66 
.66 
Close66  
(66  !
)66! "
;66" #
dr77 
.77 
Dispose77 "
(77" #
)77# $
;77$ %
cmd88 
.88 
Dispose88 #
(88# $
)88$ %
;88% &
cnn99 
.99 
Close99 !
(99! "
)99" #
;99# $
cnn:: 
.:: 
Dispose:: #
(::# $
)::$ %
;::% &
return<< 
oListar<< &
;<<& '
}== 
}>> 
}?? 
catch@@ 
(@@ 
	Exception@@ 
ex@@ 
)@@  
{AA 
throwBB 
newBB 
	ExceptionBB #
(BB# $
exBB$ &
.BB& '
MessageBB' .
)BB. /
;BB/ 0
}CC 
}DD 	
}EE 
}FF ®7
gD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\EspecialidadesAD\EspecialidadesAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
EspecialidadesAD

 ,
{ 
public 

class 
EspecialidadesAD !
{ 
private 
EspecialidadesE 
LlenarEntidad  -
(- .
IDataReader. 9
dr: <
,< =
EspecialidadesE> M
pEspecialidadesEN ^
)^ _
{ 	
EspecialidadesE 
oEspecialidadesE ,
=- .
new/ 2
EspecialidadesE3 B
(B C
)C D
;D E
switch 
( 
pEspecialidadesE $
.$ %
Orden% *
)* +
{ 
case 
$num 
: 
{ 
oEspecialidadesE (
.( )
Codespecialidad) 8
=9 :
(; <
string< B
)B C
drD F
[F G
$strG X
]X Y
;Y Z
oEspecialidadesE (
.( )
Nombre) /
=0 1
(2 3
string3 9
)9 :
dr; =
[= >
$str> F
]F G
;G H
break 
; 
} 
case 
$num 
: 
{ 
oEspecialidadesE (
.( )
Codespecialidad) 8
=9 :
(; <
string< B
)B C
drC E
[E F
$strF W
]W X
;X Y
oEspecialidadesE (
.( )
CodEspMedisyn) 6
=7 8
(9 :
string: @
)@ A
drA C
[C D
$strD U
]U V
;V W
break 
; 
} 
case 
$num 
: 
{   
oEspecialidadesE!! (
.!!( )
Codespecialidad!!) 8
=!!9 :
(!!; <
string!!< B
)!!B C
dr!!C E
[!!E F
$str!!F W
]!!W X
;!!X Y
oEspecialidadesE"" (
.""( )
CodEspMedisyn"") 6
=""7 8
(""9 :
string"": @
)""@ A
dr""A C
[""C D
$str""D U
]""U V
;""V W
break## 
;## 
}$$ 
case&& 
$num&& 
:&& 
{'' 
oEspecialidadesE(( (
.((( )
Codespecialidad(() 8
=((9 :
(((; <
string((< B
)((B C
dr((C E
[((E F
$str((F W
]((W X
;((X Y
oEspecialidadesE)) (
.))( )
CodEspMedisyn))) 6
=))7 8
())9 :
string)): @
)))@ A
dr))B D
[))D E
$str))E V
]))V W
;))W X
break** 
;** 
}++ 
},, 
return-- 
oEspecialidadesE-- #
;--# $
}.. 	
public00 
List00 
<00 
EspecialidadesE00 #
>00# $&
Sp_Especialidades_Consulta00% ?
(00? @
EspecialidadesE00@ O
pEspecialidadesE00P `
)00` a
{11 	
IDataReader22 
dr22 
;22 
EspecialidadesE33 
oEspecialidadesE33 ,
=33- .
null33/ 3
;33r s
List44 
<44 
EspecialidadesE44  
>44  !
oListar44" )
=44* +
new44, /
List440 4
<444 5
EspecialidadesE445 D
>44D E
(44E F
)44F G
;44G H
try55 
{66 
using77 
(77 
SqlConnection77 $
cnn77% (
=77) *
new77+ .
SqlConnection77/ <
(77< =
VariablesGlobales77= N
.77N O

CnnClinica77O Y
)77Y Z
)77Z [
{88 
using99 
(99 

SqlCommand99 %
cmd99& )
=99* +
new99, /

SqlCommand990 :
(99: ;
$str99; W
,99W X
cnn99Y \
)99\ ]
)99] ^
{:: 
cmd;; 
.;; 
CommandType;; '
=;;( )
CommandType;;* 5
.;;5 6
StoredProcedure;;6 E
;;;E F
cmd== 
.== 

Parameters== &
.==& '
AddWithValue==' 3
(==3 4
$str==4 =
,=== >
pEspecialidadesE==? O
.==O P
Buscar==P V
)==V W
;==W X
cmd>> 
.>> 

Parameters>> &
.>>& '
AddWithValue>>' 3
(>>3 4
$str>>4 :
,>>: ;
pEspecialidadesE>>< L
.>>L M
Key>>M P
)>>P Q
;>>Q R
cmd?? 
.?? 

Parameters?? &
.??& '
AddWithValue??' 3
(??3 4
$str??4 C
,??C D
pEspecialidadesE??E U
.??U V
NumeroLineas??V b
)??b c
;??c d
cmd@@ 
.@@ 

Parameters@@ &
.@@& '
AddWithValue@@' 3
(@@3 4
$str@@4 <
,@@< =
pEspecialidadesE@@> N
.@@N O
Orden@@O T
)@@T U
;@@U V
cnnAA 
.AA 
OpenAA  
(AA  !
)AA! "
;AA" #
drBB 
=BB 
cmdBB  
.BB  !
ExecuteReaderBB! .
(BB. /
)BB/ 0
;BB0 1
whileCC 
(CC 
drCC !
.CC! "
ReadCC" &
(CC& '
)CC' (
)CC( )
{DD 
oEspecialidadesEEE ,
=EE- .
LlenarEntidadEE/ <
(EE< =
drEE= ?
,EE? @
pEspecialidadesEEEA Q
)EEQ R
;EER S
oListarFF #
.FF# $
AddFF$ '
(FF' (
oEspecialidadesEFF( 8
)FF8 9
;FF9 :
}GG 
drHH 
.HH 
CloseHH  
(HH  !
)HH! "
;HH" #
drII 
.II 
DisposeII "
(II" #
)II# $
;II$ %
cmdJJ 
.JJ 
DisposeJJ #
(JJ# $
)JJ$ %
;JJ% &
cnnKK 
.KK 
CloseKK !
(KK! "
)KK" #
;KK# $
cnnLL 
.LL 
DisposeLL #
(LL# $
)LL$ %
;LL% &
returnNN 
oListarNN &
;NN& '
}OO 
}PP 
}QQ 
catchRR 
(RR 
	ExceptionRR 
exRR 
)RR  
{SS 
throwTT 
newTT 
	ExceptionTT #
(TT# $
exTT$ &
.TT& '
MessageTT' .
)TT. /
;TT/ 0
}UU 
}VV 	
}WW 
}XX ∞(
kD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\DiaganosticoAD\DiagnosticoxHospitalAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
DiaganosticoAD

 *
{ 
public 

class "
DiagnosticoxHospitalAD '
{ 
private !
DiagnosticoxHospitalE %
LlenarEntidad& 3
(3 4
IDataReader4 ?
dr@ B
,B C!
DiagnosticoxHospitalED Y"
pDiagnosticoxhospitalEZ p
)p q
{ 	!
DiagnosticoxHospitalE !"
oDiagnosticoxhospitalE" 8
=9 :
new; >!
DiagnosticoxHospitalE? T
(T U
)U V
;V W
switch 
( "
pDiagnosticoxhospitalE *
.* +
Orden+ 0
)0 1
{ 
case 
$num 
: 
{ "
oDiagnosticoxhospitalE .
.. /
Codatencion/ :
=; <
(= >
string> D
)D E
drE G
[G H
$strH U
]U V
;V W"
oDiagnosticoxhospitalE .
.. /
Tipo/ 3
=4 5
(6 7
string7 =
)= >
dr> @
[@ A
$strA G
]G H
;H I"
oDiagnosticoxhospitalE .
.. /
Coddiagnostico/ =
=> ?
(@ A
stringA G
)G H
drH J
[J K
$strK [
][ \
;\ ]"
oDiagnosticoxhospitalE .
.. /
Tipodiagnostico/ >
=? @
(A B
stringB H
)H I
drI K
[K L
$strL ]
]] ^
;^ _"
oDiagnosticoxhospitalE .
.. /$
Clasificaciondiagnostico/ G
=H I
(J K
stringK Q
)Q R
drR T
[T U
$strU o
]o p
;p q"
oDiagnosticoxhospitalE .
.. /
FecRegistro/ :
=; <
(= >
DateTime> F
)F G
drG I
[I J
$strJ X
]X Y
;Y Z
break 
; 
} 
} 
return "
oDiagnosticoxhospitalE )
;) *
} 	
public!! 
bool!! #
Sp_Diagxhospital_Insert!! +
(!!+ ,!
DiagnosticoxHospitalE!!, A"
pDiagnosticoxhospitalE!!B X
)!!X Y
{"" 	
try## 
{$$ 
using%% 
(%% 
SqlConnection%% $
cnn%%% (
=%%) *
new%%+ .
SqlConnection%%/ <
(%%< =
VariablesGlobales%%= N
.%%N O

CnnClinica%%O Y
)%%Y Z
)%%Z [
{&& 
using'' 
('' 

SqlCommand'' %
cmd''& )
=''* +
new'', /

SqlCommand''0 :
('': ;
$str''; T
,''T U
cnn''V Y
)''Y Z
)''Z [
{(( 
cmd)) 
.)) 
CommandType)) '
=))( )
CommandType))* 5
.))5 6
StoredProcedure))6 E
;))E F
cmd++ 
.++ 

Parameters++ &
.++& '
AddWithValue++' 3
(++3 4
$str++4 B
,++B C"
pDiagnosticoxhospitalE++D Z
.++Z [
Codatencion++[ f
)++f g
;++g h
cmd,, 
.,, 

Parameters,, &
.,,& '
AddWithValue,,' 3
(,,3 4
$str,,4 ;
,,,; <"
pDiagnosticoxhospitalE,,= S
.,,S T
Tipo,,T X
),,X Y
;,,Y Z
cmd-- 
.-- 

Parameters-- &
.--& '
AddWithValue--' 3
(--3 4
$str--4 E
,--E F"
pDiagnosticoxhospitalE--G ]
.--] ^
Coddiagnostico--^ l
)--l m
;--m n
cnn// 
.// 
Open//  
(//  !
)//! "
;//" #
if00 
(00 
cmd00 
.00  
ExecuteNonQuery00  /
(00/ 0
)000 1
>=002 4
$num005 6
)006 7
return11 "
true11# '
;11' (
else22 
return33 "
false33# (
;33( )
cmd44 
.44 
Dispose44 #
(44# $
)44$ %
;44% &
cnn55 
.55 
Close55 !
(55! "
)55" #
;55# $
cnn66 
.66 
Dispose66 #
(66# $
)66$ %
;66% &
}77 
}88 
}99 
catch:: 
(:: 
	Exception:: 
ex:: 
)::  
{;; 
throw<< 
new<< 
	Exception<< #
(<<# $
ex<<$ &
.<<& '
Message<<' .
)<<. /
;<</ 0
}== 
}>> 	
}?? 
}@@ –J
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\DashboardAD\DshPlanillaHMAD.cs
	namespace## 	
Dat##
 
.## 
Sql## 
.## 
	ClinicaAD## 
.## 
DashboardAD## '
{$$ 
public%% 

class%% 
DshPlanillaHMAD%%  
{&& 
private'' 
DshPlanillaHME'' 
LlenarEntidad'' ,
('', -
IDataReader''- 8
dr''9 ;
,''; <
DshPlanillaHME''= K(
pHonorariosMedicosPlanillasE''L h
)''h i
{(( 	
DshPlanillaHME)) (
oHonorariosMedicosPlanillasE)) 7
=))8 9
new)): =
DshPlanillaHME))> L
())L M
)))M N
;))N O
switch** 
(** (
pHonorariosMedicosPlanillasE** 0
.**0 1
Orden**1 6
)**6 7
{++ 
case,, 
$num,, 
:,, 
{-- (
oHonorariosMedicosPlanillasE.. 4
...4 5
TipoLiquidacion..5 D
=..E F
Convert..G N
...N O
ToString..O W
(..W X
dr..X Z
[..Z [
$str..[ l
]..l m
)..m n
;..n o(
oHonorariosMedicosPlanillasE// 4
.//4 5
A√±o//5 8
=//9 :
Convert//; B
.//B C
ToInt32//C J
(//J K
dr//K M
[//M N
$str//N S
]//S T
)//T U
;//U V(
oHonorariosMedicosPlanillasE00 4
.004 5
Mes005 8
=009 :
Convert00; B
.00B C
ToString00C K
(00K L
dr00L N
[00N O
$str00O T
]00T U
)00U V
;00V W(
oHonorariosMedicosPlanillasE11 4
.114 5
Estado115 ;
=11< =
Convert11> E
.11E F
ToString11F N
(11N O
dr11O Q
[11Q R
$str11R Z
]11Z [
)11[ \
;11\ ](
oHonorariosMedicosPlanillasE22 4
.224 5
Cantidad225 =
=22> ?
Convert22@ G
.22G H
	ToDecimal22H Q
(22Q R
dr22R T
[22T U
$str22U _
]22_ `
)22` a
;22a b(
oHonorariosMedicosPlanillasE33 4
.334 5
CntPorcentaje335 B
=33C D
Convert33E L
.33L M
	ToDecimal33M V
(33V W
dr33W Y
[33Y Z
$str33Z f
]33f g
)33g h
;33h i(
oHonorariosMedicosPlanillasE44 4
.444 5
Total445 :
=44; <
Convert44= D
.44D E
	ToDecimal44E N
(44N O
dr44O Q
[44Q R
$str44R Y
]44Y Z
)44Z [
;44[ \
break66 
;66 
}77 
case88 
$num88 
:88 
{99 (
oHonorariosMedicosPlanillasE:: 4
.::4 5
TipoLiquidacion::5 D
=::E F
Convert::G N
.::N O
ToString::O W
(::W X
dr::X Z
[::Z [
$str::[ l
]::l m
)::m n
;::n o(
oHonorariosMedicosPlanillasE;; 4
.;;4 5
A√±o;;5 8
=;;9 :
Convert;;; B
.;;B C
ToInt32;;C J
(;;J K
dr;;K M
[;;M N
$str;;N S
];;S T
);;T U
;;;U V(
oHonorariosMedicosPlanillasE<< 4
.<<4 5
Mes<<5 8
=<<9 :
Convert<<; B
.<<B C
ToString<<C K
(<<K L
dr<<L N
[<<N O
$str<<O T
]<<T U
)<<U V
;<<V W(
oHonorariosMedicosPlanillasE== 4
.==4 5
Estado==5 ;
===< =
Convert==> E
.==E F
ToString==F N
(==N O
dr==O Q
[==Q R
$str==R Z
]==Z [
)==[ \
;==\ ](
oHonorariosMedicosPlanillasE>> 4
.>>4 5
Cantidad>>5 =
=>>> ?
Convert>>@ G
.>>G H
	ToDecimal>>H Q
(>>Q R
dr>>R T
[>>T U
$str>>U _
]>>_ `
)>>` a
;>>a b(
oHonorariosMedicosPlanillasE?? 4
.??4 5
CntPorcentaje??5 B
=??C D
Convert??E L
.??L M
	ToDecimal??M V
(??V W
dr??W Y
[??Y Z
$str??Z f
]??f g
)??g h
;??h i(
oHonorariosMedicosPlanillasE@@ 4
.@@4 5
Total@@5 :
=@@; <
Convert@@= D
.@@D E
	ToDecimal@@E N
(@@N O
dr@@O Q
[@@Q R
$str@@R Y
]@@Y Z
)@@Z [
;@@[ \
breakBB 
;BB 
}CC 
caseDD 
$numDD 
:DD 
{EE (
oHonorariosMedicosPlanillasEFF 4
.FF4 5
TipoLiquidacionFF5 D
=FFE F
ConvertFFG N
.FFN O
ToStringFFO W
(FFW X
drFFX Z
[FFZ [
$strFF[ i
]FFi j
)FFj k
;FFk l(
oHonorariosMedicosPlanillasEGG 4
.GG4 5
CantidadGG5 =
=GG> ?
ConvertGG@ G
.GGG H
	ToDecimalGGH Q
(GGQ R
drGGR T
[GGT U
$strGGU _
]GG_ `
)GG` a
;GGa b(
oHonorariosMedicosPlanillasEHH 4
.HH4 5
CntPorcentajeHH5 B
=HHC D
ConvertHHE L
.HHL M
	ToDecimalHHM V
(HHV W
drHHW Y
[HHY Z
$strHHZ f
]HHf g
)HHg h
;HHh i
breakII 
;II 
}JJ 
}KK 
returnLL (
oHonorariosMedicosPlanillasELL /
;LL/ 0
}MM 	
publicNN 
ListNN 
<NN 
DshPlanillaHMENN "
>NN" #*
Rp_Planilla_Consulta_DashboardNN$ B
(NNB C
DshPlanillaHMENNC Q(
pHonorariosMedicosPlanillasENNR n
)NNn o
{OO 	
IDataReaderPP 
drPP 
;PP 
DshPlanillaHMEQQ 
?QQ (
oHonorariosMedicosPlanillasEQQ 8
=QQ9 :
nullQQ; ?
;QQ? @
ListRR 
<RR 
DshPlanillaHMERR 
>RR  
oListarRR! (
=RR) *
newRR+ .
ListRR/ 3
<RR3 4
DshPlanillaHMERR4 B
>RRB C
(RRC D
)RRD E
;RRE F
trySS 
{TT 
usingUU 
(UU 
SqlConnectionUU $
cnnUU% (
=UU) *
newUU+ .
SqlConnectionUU/ <
(UU< =
VariablesGlobalesUU= N
.UUN O

CnnClinicaUUO Y
)UUY Z
)UUZ [
{VV 
usingWW 
(WW 

SqlCommandWW %
cmdWW& )
=WW* +
newWW, /

SqlCommandWW0 :
(WW: ;
$strWW; [
,WW[ \
cnnWW] `
)WW` a
)WWa b
{XX 
cmdYY 
.YY 
CommandTypeYY '
=YY( )
CommandTypeYY* 5
.YY5 6
StoredProcedureYY6 E
;YYE F
cmdZZ 
.ZZ 

ParametersZZ &
.ZZ& '
AddWithValueZZ' 3
(ZZ3 4
$strZZ4 A
,ZZA B(
pHonorariosMedicosPlanillasEZZC _
.ZZ_ `
FechaInicioZZ` k
)ZZk l
;ZZl m
cmd[[ 
.[[ 

Parameters[[ &
.[[& '
AddWithValue[[' 3
([[3 4
$str[[4 ?
,[[? @(
pHonorariosMedicosPlanillasE[[A ]
.[[] ^
FechaFin[[^ f
)[[f g
;[[g h
cmd\\ 
.\\ 

Parameters\\ &
.\\& '
AddWithValue\\' 3
(\\3 4
$str\\4 =
,\\= >(
pHonorariosMedicosPlanillasE\\? [
.\\[ \
Buscar\\\ b
)\\b c
;\\c d
cmd]] 
.]] 

Parameters]] &
.]]& '
AddWithValue]]' 3
(]]3 4
$str]]4 <
,]]< =(
pHonorariosMedicosPlanillasE]]> Z
.]]Z [
Orden]][ `
)]]` a
;]]a b
cnn^^ 
.^^ 
Open^^  
(^^  !
)^^! "
;^^" #
dr__ 
=__ 
cmd__  
.__  !
ExecuteReader__! .
(__. /
)__/ 0
;__0 1
while`` 
(`` 
dr`` !
.``! "
Read``" &
(``& '
)``' (
)``( )
{aa (
oHonorariosMedicosPlanillasEbb 8
=bb9 :
LlenarEntidadbb; H
(bbH I
drbbI K
,bbK L(
pHonorariosMedicosPlanillasEbbM i
)bbi j
;bbj k
oListarcc #
.cc# $
Addcc$ '
(cc' ((
oHonorariosMedicosPlanillasEcc( D
)ccD E
;ccE F
}dd 
dree 
.ee 
Closeee  
(ee  !
)ee! "
;ee" #
cnnff 
.ff 
Closeff !
(ff! "
)ff" #
;ff# $
returnhh 
oListarhh &
;hh& '
}ii 
}jj 
}kk 
catchll 
(ll 
	Exceptionll 
exll 
)ll  
{mm 
thrownn 
newnn 
	Exceptionnn #
(nn# $
exnn$ &
.nn& '
Messagenn' .
)nn. /
;nn/ 0
}oo 
}pp 	
}qq 
}rr ˛í
eD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ContratosAD\HisRegistroContrato.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ContratosAD '
{ 
public 

class 
HisRegistroContrato $
{ 
public 
bool 
RegistrarContrato %
(% &&
HisContratoconsultorioCabE& @'
pHisContratoconsultorioCabEA \
,\ ]
bool& *
pEstBeneficio+ 8
,8 90
$HisContratoconsultoriobeneficiosDetE& J1
%pHisContratoconsultoriobeneficiosDetEK p
,p q
List& *
<* +&
HisContratoconsultorioDetE+ E
>E F+
pListHisContratoconsultorioDetEG f
)f g
{ 	
SqlConnection 
cnn 
; 
try 
{ 
using 
( 
cnn 
= 
new  
SqlConnection! .
(. /
VariablesGlobales/ @
.@ A

CnnClinicaA K
)K L
)L M
{ 
cnn 
. 
Open 
( 
) 
; 
using 
( 
SqlTransaction )
transaction* 5
=6 7
cnn8 ;
.; <
BeginTransaction< L
(L M
)M N
)N O
{ 
try 
{ 

SqlCommand &
cmd' *
=+ ,
new- 0

SqlCommand1 ;
(; <
$str< a
,a b
cnnc f
,f g
transactionh s
)s t
;t u
cmd 
.  
CommandType  +
=, -
System. 4
.4 5
Data5 9
.9 :
CommandType: E
.E F
StoredProcedureF U
;U V
cmd!! 
.!!  

Parameters!!  *
.!!* +
AddWithValue!!+ 7
(!!7 8
$str!!8 E
,!!E F'
pHisContratoconsultorioCabE!!G b
.!!b c
	CodMedico!!c l
)!!l m
;!!m n
cmd"" 
.""  

Parameters""  *
.""* +
AddWithValue""+ 7
(""7 8
$str""8 C
,""C D'
pHisContratoconsultorioCabE""E `
.""` a
TipPago""a h
)""h i
;""i j
cmd## 
.##  

Parameters##  *
.##* +
AddWithValue##+ 7
(##7 8
$str##8 J
,##J K'
pHisContratoconsultorioCabE##L g
.##g h
TipComprobante##h v
)##v w
;##w x
cmd$$ 
.$$  

Parameters$$  *
.$$* +
AddWithValue$$+ 7
($$7 8
$str$$8 J
,$$J K'
pHisContratoconsultorioCabE$$L g
.$$g h
FacturaEmpresa$$h v
)$$v w
;$$w x
cmd%% 
.%%  

Parameters%%  *
.%%* +
AddWithValue%%+ 7
(%%7 8
$str%%8 F
,%%F G'
pHisContratoconsultorioCabE%%H c
.%%c d

NumFactura%%d n
)%%n o
;%%o p
cmd&& 
.&&  

Parameters&&  *
.&&* +
AddWithValue&&+ 7
(&&7 8
$str&&8 E
,&&E F'
pHisContratoconsultorioCabE&&G b
.&&b c
	TipMoneda&&c l
)&&l m
;&&m n
cmd'' 
.''  

Parameters''  *
.''* +
AddWithValue''+ 7
(''7 8
$str''8 C
,''C D'
pHisContratoconsultorioCabE''E `
.''` a
IdeSede''a h
)''h i
;''i j
cmd(( 
.((  

Parameters((  *
.((* +
AddWithValue((+ 7
(((7 8
$str((8 D
,((D E'
pHisContratoconsultorioCabE((F a
.((a b
IdeTorre((b j
)((j k
;((k l
cmd)) 
.))  

Parameters))  *
.))* +
AddWithValue))+ 7
())7 8
$str))8 ?
,))? @'
pHisContratoconsultorioCabE))A \
.))\ ]
Piso))] a
)))a b
;))b c
cmd** 
.**  

Parameters**  *
.*** +
AddWithValue**+ 7
(**7 8
$str**8 N
,**N O'
pHisContratoconsultorioCabE**P k
.**k l
FecInicioContrato**l }
)**} ~
;**~ 
cmd++ 
.++  

Parameters++  *
.++* +
AddWithValue+++ 7
(++7 8
$str++8 K
,++K L'
pHisContratoconsultorioCabE++M h
.++h i
FecFinContrato++i w
)++w x
;++x y
cmd,, 
.,,  

Parameters,,  *
.,,* +
AddWithValue,,+ 7
(,,7 8
$str,,8 L
,,,L M'
pHisContratoconsultorioCabE,,N i
.,,i j
DscObservaciones,,j z
),,z {
;,,{ |
cmd-- 
.--  

Parameters--  *
.--* +
AddWithValue--+ 7
(--7 8
$str--8 L
,--L M'
pHisContratoconsultorioCabE--N i
.--i j
CntRentaMensual--j y
)--y z
;--z {
cmd.. 
...  

Parameters..  *
...* +
AddWithValue..+ 7
(..7 8
$str..8 J
,..J K'
pHisContratoconsultorioCabE..L g
...g h
CntTotalHoras..h u
)..u v
;..v w
cmd// 
.//  

Parameters//  *
.//* +
AddWithValue//+ 7
(//7 8
$str//8 J
,//J K'
pHisContratoconsultorioCabE//L g
.//g h
CntPrecioxhora//h v
)//v w
;//w x
cmd00 
.00  

Parameters00  *
.00* +
AddWithValue00+ 7
(007 8
$str008 S
,00S T'
pHisContratoconsultorioCabE00U p
.00p q#
EstContratoConsultorio	00q á
)
00á à
;
00à â
cmd11 
.11  

Parameters11  *
.11* +
AddWithValue11+ 7
(117 8
$str118 K
,11K L'
pHisContratoconsultorioCabE11M h
.11h i
IdeUsrRegistra11i w
)11w x
;11x y
cmd22 
.22  

Parameters22  *
.22* +
AddWithValue22+ 7
(227 8
$str228 G
,22G H'
pHisContratoconsultorioCabE22I d
.22d e
FecRegistro22e p
)22p q
;22q r
cmd33 
.33  

Parameters33  *
.33* +
AddWithValue33+ 7
(337 8
$str338 L
,33L M'
pHisContratoconsultorioCabE33N i
.33i j
IdeUsrActualiza33j y
)33y z
;33z {
cmd44 
.44  

Parameters44  *
.44* +
AddWithValue44+ 7
(447 8
$str448 H
,44H I'
pHisContratoconsultorioCabE44J e
.44e f
FecActualiza44f r
)44r s
;44s t
cmd55 
.55  

Parameters55  *
.55* +
AddWithValue55+ 7
(557 8
$str558 N
,55N O'
pHisContratoconsultorioCabE55P k
.55k l
BlbArchivoAdjunto55l }
)55} ~
;55~ 
cmd66 
.66  

Parameters66  *
.66* +
AddWithValue66+ 7
(667 8
$str668 G
,66G H'
pHisContratoconsultorioCabE66I d
.66d e
DscContacto66e p
)66p q
;66q r
cmd77 
.77  

Parameters77  *
.77* +
AddWithValue77+ 7
(777 8
$str778 G
,77G H'
pHisContratoconsultorioCabE77I d
.77d e
TelContacto77e p
)77p q
;77q r
cmd88 
.88  

Parameters88  *
.88* +
AddWithValue88+ 7
(887 8
$str888 I
,88I J'
pHisContratoconsultorioCabE88K f
.88f g
EmailContacto88g t
)88t u
;88u v
cmd99 
.99  

Parameters99  *
.99* +
Add99+ .
(99. /
VariablesGlobales99/ @
.99@ A
ParametroSql99A M
(99M N
$str99N p
,99p q
ParameterDirection	99r Ñ
.
99Ñ Ö
InputOutput
99Ö ê
,
99ê ë
	SqlDbType
99í õ
.
99õ ú
Int
99ú ü
,
99ü †
$num
99° ¢
,
99¢ £)
pHisContratoconsultorioCabE
99§ ø
.
99ø ¿*
IdeHisContratoconsultorioCab
99¿ ‹
.
99‹ ›
ToString
99› Â
(
99Â Ê
)
99Ê Á
)
99Á Ë
)
99Ë È
;
99È Í
cmd<< 
.<<  
ExecuteNonQuery<<  /
(<</ 0
)<<0 1
;<<1 2'
pHisContratoconsultorioCabE== 7
.==7 8(
IdeHisContratoconsultorioCab==8 T
===U V
Convert==W ^
.==^ _
ToInt32==_ f
(==f g
cmd==g j
.==j k

Parameters==k u
[==u v
$str	==v ò
]
==ò ô
.
==ô ö
Value
==ö ü
)
==ü †
;
==† °1
%pHisContratoconsultoriobeneficiosDetE?? A
.??A B 
IDContratoBeneficios??B V
=??W X
$num??Y Z
;??Z [1
%pHisContratoconsultoriobeneficiosDetE@@ A
.@@A B$
IDContratoConsultorioCab@@B Z
=@@[ \'
pHisContratoconsultorioCabE@@] x
.@@x y)
IdeHisContratoconsultorioCab	@@y ï
;
@@ï ñ1
%pHisContratoconsultoriobeneficiosDetEAA A
.AAA B!
EstContratoBeneficiosAAB W
=AAX Y
$strAAZ ]
;AA] ^
ifBB 
(BB  
pEstBeneficioBB  -
)BB- .
{CC 
cmdDD  #
=DD$ %
newDD& )

SqlCommandDD* 4
(DD4 5
$strDD5 d
,DDd e
cnnDDf i
,DDi j
transactionDDk v
)DDv w
;DDw x
cmdEE  #
.EE# $
CommandTypeEE$ /
=EE0 1
SystemEE2 8
.EE8 9
DataEE9 =
.EE= >
CommandTypeEE> I
.EEI J
StoredProcedureEEJ Y
;EEY Z
cmdGG  #
.GG# $

ParametersGG$ .
.GG. /
AddWithValueGG/ ;
(GG; <
$strGG< Z
,GGZ [2
%pHisContratoconsultoriobeneficiosDetE	GG\ Å
.
GGÅ Ç&
IDContratoConsultorioCab
GGÇ ö
)
GGö õ
;
GGõ ú
cmdHH  #
.HH# $

ParametersHH$ .
.HH. /
AddWithValueHH/ ;
(HH; <
$strHH< L
,HHL M1
%pHisContratoconsultoriobeneficiosDetEHHN s
.HHs t
IDBeneficioHHt 
)	HH Ä
;
HHÄ Å
cmdII  #
.II# $

ParametersII$ .
.II. /
AddWithValueII/ ;
(II; <
$strII< I
,III J1
%pHisContratoconsultoriobeneficiosDetEIIK p
.IIp q
FechaInicioIIq |
)II| }
;II} ~
cmdJJ  #
.JJ# $

ParametersJJ$ .
.JJ. /
AddWithValueJJ/ ;
(JJ; <
$strJJ< F
,JJF G1
%pHisContratoconsultoriobeneficiosDetEJJH m
.JJm n
FechaFinJJn v
)JJv w
;JJw x
cmdKK  #
.KK# $

ParametersKK$ .
.KK. /
AddWithValueKK/ ;
(KK; <
$strKK< N
,KKN O1
%pHisContratoconsultoriobeneficiosDetEKKP u
.KKu v
DscObservacion	KKv Ñ
)
KKÑ Ö
;
KKÖ Ü
cmdLL  #
.LL# $

ParametersLL$ .
.LL. /
AddWithValueLL/ ;
(LL; <
$strLL< U
,LLU V1
%pHisContratoconsultoriobeneficiosDetELLW |
.LL| }"
EstContratoBeneficios	LL} í
)
LLí ì
;
LLì î
cmdMM  #
.MM# $

ParametersMM$ .
.MM. /
AddMM/ 2
(MM2 3
VariablesGlobalesMM3 D
.MMD E
ParametroSqlMME Q
(MMQ R
$strMMR k
,MMk l
ParameterDirectionMMm 
.	MM Ä
InputOutput
MMÄ ã
,
MMã å
	SqlDbType
MMç ñ
.
MMñ ó
Int
MMó ö
,
MMö õ
$num
MMú ù
,
MMù û3
%pHisContratoconsultoriobeneficiosDetE
MMü ƒ
.
MMƒ ≈"
IDContratoBeneficios
MM≈ Ÿ
.
MMŸ ⁄
ToString
MM⁄ ‚
(
MM‚ „
)
MM„ ‰
)
MM‰ Â
)
MMÂ Ê
;
MMÊ Á
cmdNN  #
.NN# $
ExecuteNonQueryNN$ 3
(NN3 4
)NN4 5
;NN5 61
%pHisContratoconsultoriobeneficiosDetEOO  E
.OOE F 
IDContratoBeneficiosOOF Z
=OO[ \
ConvertOO] d
.OOd e
ToInt32OOe l
(OOl m
cmdOOm p
.OOp q

ParametersOOq {
[OO{ |
$str	OO| ï
]
OOï ñ
.
OOñ ó
Value
OOó ú
)
OOú ù
;
OOù û
}PP 
intRR 
exitoRR  %
;RR% &&
HisContratoconsultorioDetESS 6%
RegContratoconsultorioDetSS7 P
;SSP Q
forTT 
(TT  !
intTT! $
iTT% &
=TT' (
$numTT) *
;TT* +
iTT, -
<TT. /+
pListHisContratoconsultorioDetETT0 O
.TTO P
CountTTP U
;TTU V
iTTW X
++TTX Z
)TTZ [
{UU %
RegContratoconsultorioDetVV  9
=VV: ;
newVV< ?&
HisContratoconsultorioDetEVV@ Z
(VVZ [
)VV[ \
;VV\ ]%
RegContratoconsultorioDetWW  9
.WW9 :$
IDContratoConsultorioCabWW: R
=WWS T'
pHisContratoconsultorioCabEWWU p
.WWp q)
IdeHisContratoconsultorioCab	WWq ç
;
WWç é%
RegContratoconsultorioDetXX  9
.XX9 :
IDCalendarioXX: F
=XXG H+
pListHisContratoconsultorioDetEXXI h
[XXh i
iXXi j
]XXj k
.XXk l
IDCalendarioXXl x
;XXx y%
RegContratoconsultorioDetYY  9
.YY9 : 
IDContratoBeneficiosYY: N
=YYO P1
%pHisContratoconsultoriobeneficiosDetEYYQ v
.YYv w!
IDContratoBeneficios	YYw ã
;
YYã å%
RegContratoconsultorioDetZZ  9
.ZZ9 :
CntDescuentoZZ: F
=ZZG H1
%pHisContratoconsultoriobeneficiosDetEZZI n
.ZZn o
CntDescuentoZZo {
;ZZ{ |%
RegContratoconsultorioDet[[  9
.[[9 :
TipDescuento[[: F
=[[G H1
%pHisContratoconsultoriobeneficiosDetE[[I n
.[[n o
TipDescuento[[o {
;[[{ |%
RegContratoconsultorioDet\\  9
.\\9 :
PrecioxHora\\: E
=\\F G1
%pHisContratoconsultoriobeneficiosDetE\\H m
.\\m n
PrecioxHora\\n y
;\\y z%
RegContratoconsultorioDet]]  9
.]]9 :%
EstContratoConsultorioDet]]: S
=]]T U
$str]]V Y
;]]Y Z
cmd__  #
=__$ %
new__& )

SqlCommand__* 4
(__4 5
$str__5 Z
,__Z [
cnn__\ _
,___ `
transaction__a l
)__l m
;__m n
cmd``  #
.``# $
CommandType``$ /
=``0 1
System``2 8
.``8 9
Data``9 =
.``= >
CommandType``> I
.``I J
StoredProcedure``J Y
;``Y Z
cmdbb  #
.bb# $

Parametersbb$ .
.bb. /
AddWithValuebb/ ;
(bb; <
$strbb< Z
,bbZ [%
RegContratoconsultorioDetbb\ u
.bbu v%
IDContratoConsultorioCab	bbv é
)
bbé è
;
bbè ê
cmdcc  #
.cc# $

Parameterscc$ .
.cc. /
AddWithValuecc/ ;
(cc; <
$strcc< M
,ccM N%
RegContratoconsultorioDetccO h
.cch i
IDCalendariocci u
)ccu v
;ccv w
cmddd  #
.dd# $

Parametersdd$ .
.dd. /
AddWithValuedd/ ;
(dd; <
$strdd< U
,ddU V%
RegContratoconsultorioDetddW p
.ddp q!
IDContratoBeneficios	ddq Ö
)
ddÖ Ü
;
ddÜ á
cmdee  #
.ee# $

Parametersee$ .
.ee. /
AddWithValueee/ ;
(ee; <
$stree< L
,eeL M%
RegContratoconsultorioDeteeN g
.eeg h
CntDescuentoeeh t
)eet u
;eeu v
cmdff  #
.ff# $

Parametersff$ .
.ff. /
AddWithValueff/ ;
(ff; <
$strff< L
,ffL M%
RegContratoconsultorioDetffN g
.ffg h
TipDescuentoffh t
)fft u
;ffu v
cmdgg  #
.gg# $

Parametersgg$ .
.gg. /
AddWithValuegg/ ;
(gg; <
$strgg< J
,ggJ K%
RegContratoconsultorioDetggL e
.gge f
PrecioxHoraggf q
)ggq r
;ggr s
cmdhh  #
.hh# $

Parametershh$ .
.hh. /
AddWithValuehh/ ;
(hh; <
$strhh< Z
,hhZ [%
RegContratoconsultorioDethh\ u
.hhu v&
EstContratoConsultorioDet	hhv è
)
hhè ê
;
hhê ë
exitojj  %
=jj& '
cmdjj( +
.jj+ ,
ExecuteNonQueryjj, ;
(jj; <
)jj< =
;jj= >
ifkk  "
(kk# $
exitokk$ )
<kk* +
$numkk, -
)kk- .
{ll  !
throwll" '
newll( +
	Exceptionll, 5
(ll5 6
$strll6 I
)llI J
;llJ K
}llL M
}mm 
transactionnn '
.nn' (
Commitnn( .
(nn. /
)nn/ 0
;nn0 1
returnoo "
trueoo# '
;oo' (
}pp 
catchqq 
(qq 
	Exceptionqq (
)qq( )
{rr 
transactionss '
.ss' (
Rollbackss( 0
(ss0 1
)ss1 2
;ss2 3
throwtt !
;tt! "
}uu 
finallyvv 
{ww 
cnnww 
.ww 
Closeww #
(ww# $
)ww$ %
;ww% &
}ww' (
}xx 
}yy 
}zz 
catch{{ 
({{ 
	Exception{{ 
e{{ 
){{ 
{|| 
throw|| 
e|| 
=|| 
new|| 
	Exception|| %
(||% &
e||& '
.||' (
Message||( /
)||/ 0
;||0 1
}||2 3
}}} 	
}~~ 
} µÆ
cD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ContratosAD\HisRegistroAdenda.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ContratosAD '
{ 
public 

class 
HisRegistroAdenda "
{ 
public 
bool 
RegistrarAdenda #
(# $,
 HisContratoconsultorioadendaCabE$ D-
!pHisContratoconsultorioadendaCabEE f
,f g
bool% )
pEstBeneficio* 7
,7 86
*HisContratoconsultoriobeneficiosadendaDetE% O7
+pHisContratoconsultoriobeneficiosadendaDetEP {
,{ |
List% )
<) *,
 HisContratoconsultorioadendaDetE* J
>J K1
%pListHisContratoconsultorioadendaDetEL q
,q r0
$HisContratoconsultoriobeneficiosDetE% I&
pContratoBeneficiosDetCopyJ d
)d e
{ 	
SqlConnection 
cnn 
; 
try 
{ 
using 
( 
cnn 
= 
new  
SqlConnection! .
(. /
VariablesGlobales/ @
.@ A

CnnClinicaA K
)K L
)L M
{ 
cnn 
. 
Open 
( 
) 
; 
using 
( 
SqlTransaction )
transaction* 5
=6 7
cnn8 ;
.; <
BeginTransaction< L
(L M
)M N
)N O
{ 
try 
{ 

SqlCommand &
cmd' *
=+ ,
new- 0

SqlCommand1 ;
(; <
)< =
;= >-
!pHisContratoconsultorioadendaCabE!! =
.!!= >

NuevoValor!!> H
=!!I J
$str!!K N
;!!N O-
!pHisContratoconsultorioadendaCabE"" =
.""= >
Campo""> C
=""D E
$str""F R
;""R S-
!pHisContratoconsultorioadendaCabE## =
.##= >
Orden##> C
=##D E
$num##F G
;##G H
new$$ -
!HisContratoconsultorioadendaCabAD$$  A
($$A B
)$$B C
.$$C D>
2Sp_HisContratoconsultorioadendaCab_UpdatexCampo_RB$$D v
($$v w.
!pHisContratoconsultorioadendaCabE	$$w ò
,
$$ò ô
cnn
$$ö ù
,
$$ù û
cmd
$$ü ¢
,
$$¢ £
transaction
$$§ Ø
)
$$Ø ∞
;
$$∞ ±-
!pHisContratoconsultorioadendaCabE(( =
.((= >
IdeAdendaCab((> J
=((K L
new((M P-
!HisContratoconsultorioadendaCabAD((Q r
(((r s
)((s t
.((t u9
,Sp_HisContratoconsultorioadendaCab_Insert_RB	((u °
(
((° ¢/
!pHisContratoconsultorioadendaCabE
((¢ √
,
((√ ƒ
cnn
((≈ »
,
((» …
cmd
((  Õ
,
((Õ Œ
transaction
((œ ⁄
)
((⁄ €
;
((€ ‹7
+pHisContratoconsultoriobeneficiosadendaDetE,, G
.,,G H
IdeAdendaCab,,H T
=,,U V-
!pHisContratoconsultorioadendaCabE,,W x
.,,x y
IdeAdendaCab	,,y Ö
;
,,Ö Ü7
+pHisContratoconsultoriobeneficiosadendaDetE-- G
.--G H

NuevoValor--H R
=--S T
$str--U X
;--X Y7
+pHisContratoconsultoriobeneficiosadendaDetE.. G
...G H
Campo..H M
=..N O
$str..P f
;..f g7
+pHisContratoconsultoriobeneficiosadendaDetE// G
.//G H
Orden//H M
=//N O
$num//P Q
;//Q R
new00 7
+HisContratoconsultoriobeneficiosadendaDetAD00  K
(00K L
)00L M
.00M NI
<Sp_HisContratoconsultoriobeneficiosadendaDet_UpdatexCampo_RB	00N ä
(
00ä ã9
+pHisContratoconsultoriobeneficiosadendaDetE
00ã ∂
,
00∂ ∑
cnn
00∏ ª
,
00ª º
cmd
00Ω ¿
,
00¿ ¡
transaction
00¬ Õ
)
00Õ Œ
;
00Œ œ
if44 
(44  
pEstBeneficio44  -
)44- .
{55 7
+pHisContratoconsultoriobeneficiosadendaDetE55 I
.55I J
IdeBeneficiosadenda55J ]
=55^ _
new55` c8
+HisContratoconsultoriobeneficiosadendaDetAD	55d è
(
55è ê
)
55ê ë
.
55ë íD
6Sp_HisContratoconsultoriobeneficiosadendaDet_Insert_RB
55í »
(
55» …9
+pHisContratoconsultoriobeneficiosadendaDetE
55… Ù
,
55Ù ı
cnn
55ˆ ˘
,
55˘ ˙
cmd
55˚ ˛
,
55˛ ˇ
transaction
55Ä ã
)
55ã å
;
55å ç
}
55é è6
*HisContratoconsultoriobeneficiosadendaDetE77 F#
BeneficioAdendaContrato77G ^
=77_ `
new77a d7
*HisContratoconsultoriobeneficiosadendaDetE	77e è
(
77è ê
)
77ê ë
;
77ë í
if88 
(88  &
pContratoBeneficiosDetCopy88  :
.88: ;
IDBeneficio88; F
>88G H
$num88I J
)88J K
{99 #
BeneficioAdendaContrato::  7
.::7 8
IdeAdendaCab::8 D
=::E F-
!pHisContratoconsultorioadendaCabE::G h
.::h i
IdeAdendaCab::i u
;::u v#
BeneficioAdendaContrato;;  7
.;;7 8
IdeBeneficio;;8 D
=;;E F&
pContratoBeneficiosDetCopy;;G a
.;;a b
IDBeneficio;;b m
;;;m n#
BeneficioAdendaContrato<<  7
.<<7 8
	FecInicio<<8 A
=<<B C
Convert<<D K
.<<K L

ToDateTime<<L V
(<<V W&
pContratoBeneficiosDetCopy<<W q
.<<q r
FechaInicio<<r }
)<<} ~
.<<~ 
ToString	<< á
(
<<á à
$str
<<à ù
)
<<ù û
;
<<û ü#
BeneficioAdendaContrato==  7
.==7 8
FecFin==8 >
===? @
Convert==A H
.==H I

ToDateTime==I S
(==S T&
pContratoBeneficiosDetCopy==T n
.==n o
FechaFin==o w
)==w x
.==x y
ToString	==y Å
(
==Å Ç
$str
==Ç ó
)
==ó ò
;
==ò ô#
BeneficioAdendaContrato>>  7
.>>7 8
DscObservacion>>8 F
=>>G H&
pContratoBeneficiosDetCopy>>I c
.>>c d
DscObservacion>>d r
;>>r s#
BeneficioAdendaContrato??  7
.??7 8
EstBeneficiosadenda??8 K
=??L M
$str??N Q
;??Q R#
BeneficioAdendaContrato@@  7
.@@7 8
IdeBeneficiosadenda@@8 K
=@@L M
new@@N Q7
+HisContratoconsultoriobeneficiosadendaDetAD@@R }
(@@} ~
)@@~ 
.	@@ ÄD
6Sp_HisContratoconsultoriobeneficiosadendaDet_Insert_RB
@@Ä ∂
(
@@∂ ∑%
BeneficioAdendaContrato
@@∑ Œ
,
@@Œ œ
cnn
@@– ”
,
@@” ‘
cmd
@@’ ÿ
,
@@ÿ Ÿ
transaction
@@⁄ Â
)
@@Â Ê
;
@@Ê Á
}AA 
intEE 
exitoEE  %
;EE% &,
 HisContratoconsultorioadendaDetEFF <,
 RegContratoconsultorioadendaDetEFF= ]
=FF^ _
newFF` c-
 HisContratoconsultorioadendaDetE	FFd Ñ
(
FFÑ Ö
)
FFÖ Ü
;
FFÜ á
;
FFà â,
 RegContratoconsultorioadendaDetEGG <
.GG< =
BuscarGG= C
=GGD E-
!pHisContratoconsultorioadendaCabEGGF g
.GGg h)
IdeHisContratoconsultorioCab	GGh Ñ
.
GGÑ Ö
ToString
GGÖ ç
(
GGç é
)
GGé è
;
GGè ê,
 RegContratoconsultorioadendaDetEHH <
.HH< =

NuevoValorHH= G
=HHH I
$strHHJ M
;HHM N,
 RegContratoconsultorioadendaDetEII <
.II< =
CampoII= B
=IIC D
$strIIE M
;IIM N,
 RegContratoconsultorioadendaDetEJJ <
.JJ< =
OrdenJJ= B
=JJC D
$numJJE F
;JJF G
newKK -
!HisContratoconsultorioadendaDetADKK  A
(KKA B
)KKB C
.KKC D>
2Sp_HisContratoconsultorioadendaDet_UpdatexCampo_RBKKD v
(KKv w-
 RegContratoconsultorioadendaDetE	KKw ó
,
KKó ò
cnn
KKô ú
,
KKú ù
cmd
KKû °
,
KK° ¢
transaction
KK£ Æ
)
KKÆ Ø
;
KKØ ∞
foreachOO #
(OO$ %
varOO% (
	AdendaDetOO) 2
inOO3 51
%pListHisContratoconsultorioadendaDetEOO6 [
)OO[ \
{PP ,
 RegContratoconsultorioadendaDetEQQ  @
.QQ@ A
IdeBeneficiosadendaQQA T
=QQU V
$numQQW X
;QQX Y,
 RegContratoconsultorioadendaDetERR  @
.RR@ A
IdeAdendaCabRRA M
=RRN O-
!pHisContratoconsultorioadendaCabERRP q
.RRq r
IdeAdendaCabRRr ~
;RR~ ,
 RegContratoconsultorioadendaDetESS  @
.SS@ A
IdeCalendarioSSA N
=SSO P
	AdendaDetSSQ Z
.SSZ [
IdeCalendarioSS[ h
;SSh i,
 RegContratoconsultorioadendaDetETT  @
.TT@ A
CntDescuentoTTA M
=TTN O
	AdendaDetTTP Y
.TTY Z
CntDescuentoTTZ f
;TTf g,
 RegContratoconsultorioadendaDetEUU  @
.UU@ A
TipDescuentoUUA M
=UUN O
	AdendaDetUUP Y
.UUY Z
TipDescuentoUUZ f
;UUf g,
 RegContratoconsultorioadendaDetEVV  @
.VV@ A
PrecioxHoraVVA L
=VVM N
	AdendaDetVVO X
.VVX Y
PrecioxHoraVVY d
;VVd e,
 RegContratoconsultorioadendaDetEWW  @
.WW@ A
FlgNewBeneficioWWA P
=WWQ R
	AdendaDetWWS \
.WW\ ]
FlgNewBeneficioWW] l
;WWl m
if\\  "
(\\# $
	AdendaDet\\$ -
.\\- .
EstCalendario\\. ;
!=\\< >
$str\\? B
&&\\C E
	AdendaDet\\F O
.\\O P
EstBeneficio\\P \
)\\\ ]
{]]  !,
 RegContratoconsultorioadendaDetE]]" B
.]]B C
IdeBeneficiosadenda]]C V
=]]W X8
+pHisContratoconsultoriobeneficiosadendaDetE	]]Y Ñ
.
]]Ñ Ö!
IdeBeneficiosadenda
]]Ö ò
;
]]ò ô
}
]]ö õ
else^^  $
if^^% '
(^^( )
	AdendaDet^^) 2
.^^2 3
EstCalendario^^3 @
==^^A C
$str^^D G
&&^^H J
	AdendaDet^^K T
.^^T U
EstBeneficio^^U a
)^^a b
{__  !
if``$ &
(``' (#
BeneficioAdendaContrato``( ?
.``? @
IdeAdendaCab``@ L
>``M N
$num``O P
)``P Q
{aa$ %,
 RegContratoconsultorioadendaDetEaa& F
.aaF G
IdeBeneficiosadendaaaG Z
=aa[ \#
BeneficioAdendaContratoaa] t
.aat u 
IdeBeneficiosadenda	aau à
;
aaà â
}
aaä ã
elsebb$ (
{cc$ %,
 RegContratoconsultorioadendaDetEcc& F
.ccF G
IdeBeneficiosadendaccG Z
=cc[ \
	AdendaDetcc] f
.ccf g
IdeBeneficiosadendaccg z
;ccz {
}cc| }
}dd  !,
 RegContratoconsultorioadendaDetEff  @
.ff@ A
EstadoffA G
=ffH I
$strffJ M
;ffM N
exitogg  %
=gg& '
newgg( +-
!HisContratoconsultorioadendaDetADgg, M
(ggM N
)ggN O
.ggO P8
,Sp_HisContratoconsultorioadendaDet_Insert_RBggP |
(gg| }-
 RegContratoconsultorioadendaDetE	gg} ù
,
ggù û
cnn
ggü ¢
,
gg¢ £
cmd
gg§ ß
,
ggß ®
transaction
gg© ¥
)
gg¥ µ
;
ggµ ∂
ifii  "
(ii# $
exitoii$ )
<ii* +
$numii, -
)ii- .
{jj  !
throwjj" '
newjj( +
	Exceptionjj, 5
(jj5 6
$strjj6 I
)jjI J
;jjJ K
}jjL M
}kk 
transactionnn '
.nn' (
Commitnn( .
(nn. /
)nn/ 0
;nn0 1
returnoo "
trueoo# '
;oo' (
}pp 
catchqq 
(qq 
	Exceptionqq (
exqq) +
)qq+ ,
{rr 
transactionss '
.ss' (
Rollbackss( 0
(ss0 1
)ss1 2
;ss2 3
throwtt !
;tt! "
}uu 
finallyvv 
{ww 
cnnww 
.ww 
Closeww #
(ww# $
)ww$ %
;ww% &
}ww' (
}xx 
}yy 
}zz 
catch{{ 
({{ 
	Exception{{ 
e{{ 
){{ 
{|| 
throw|| 
e|| 
=|| 
new|| 
	Exception|| %
(||% &
e||& '
.||' (
Message||( /
)||/ 0
;||0 1
}||2 3
}}} 	
}~~ 
public
ÄÄ 

class
ÄÄ  
HisRegistroAdenda_
ÄÄ #
{
ÅÅ 
public
ÇÇ 
bool
ÇÇ 
RegistrarAdenda
ÇÇ #
(
ÇÇ# $.
 HisContratoconsultorioadendaCabE
ÇÇ$ D/
!pHisContratoconsultorioadendaCabE
ÇÇE f
,
ÇÇf g
bool
ÉÉ% )
pEstBeneficio
ÉÉ* 7
,
ÉÉ7 88
*HisContratoconsultoriobeneficiosadendaDetE
ÑÑ% O9
+pHisContratoconsultoriobeneficiosadendaDetE
ÑÑP {
,
ÑÑ{ |
List
ÖÖ% )
<
ÖÖ) *.
 HisContratoconsultorioadendaDetE
ÖÖ* J
>
ÖÖJ K3
%pListHisContratoconsultorioadendaDetE
ÖÖL q
)
ÖÖq r
{
ÜÜ 	
SqlConnection
áá 
cnn
áá 
;
áá 
try
àà 
{
ââ 
using
ää 
(
ää 
cnn
ää 
=
ää 
new
ää  
SqlConnection
ää! .
(
ää. /
VariablesGlobales
ää/ @
.
ää@ A

CnnClinica
ääA K
)
ääK L
)
ääL M
{
ãã 
cnn
åå 
.
åå 
Open
åå 
(
åå 
)
åå 
;
åå 
using
çç 
(
çç 
SqlTransaction
çç )
transaction
çç* 5
=
çç6 7
cnn
çç8 ;
.
çç; <
BeginTransaction
çç< L
(
ççL M
)
ççM N
)
ççN O
{
éé 
try
èè 
{
êê 

SqlCommand
ëë &
cmd
ëë' *
=
ëë+ ,
new
ëë- 0

SqlCommand
ëë1 ;
(
ëë; <
)
ëë< =
;
ëë= >/
!pHisContratoconsultorioadendaCabE
îî =
.
îî= >

NuevoValor
îî> H
=
îîI J
$str
îîK N
;
îîN O/
!pHisContratoconsultorioadendaCabE
ïï =
.
ïï= >
Campo
ïï> C
=
ïïD E
$str
ïïF R
;
ïïR S/
!pHisContratoconsultorioadendaCabE
ññ =
.
ññ= >
Orden
ññ> C
=
ññD E
$num
ññF G
;
ññG H
new
óó /
!HisContratoconsultorioadendaCabAD
óó  A
(
óóA B
)
óóB C
.
óóC D@
2Sp_HisContratoconsultorioadendaCab_UpdatexCampo_RB
óóD v
(
óóv w0
!pHisContratoconsultorioadendaCabEóów ò
,óóò ô
cnnóóö ù
,óóù û
cmdóóü ¢
,óó¢ £
transactionóó§ Ø
)óóØ ∞
;óó∞ ±/
!pHisContratoconsultorioadendaCabE
∑∑ =
.
∑∑= >
IdeAdendaCab
∑∑> J
=
∑∑K L
new
∑∑M P/
!HisContratoconsultorioadendaCabAD
∑∑Q r
(
∑∑r s
)
∑∑s t
.
∑∑t u;
,Sp_HisContratoconsultorioadendaCab_Insert_RB∑∑u °
(∑∑° ¢1
!pHisContratoconsultorioadendaCabE∑∑¢ √
,∑∑√ ƒ
cnn∑∑≈ »
,∑∑» …
cmd∑∑  Õ
,∑∑Õ Œ
transaction∑∑œ ⁄
)∑∑⁄ €
;∑∑€ ‹9
+pHisContratoconsultoriobeneficiosadendaDetE
∫∫ G
.
∫∫G H
IdeAdendaCab
∫∫H T
=
∫∫U V/
!pHisContratoconsultorioadendaCabE
∫∫W x
.
∫∫x y
IdeAdendaCab∫∫y Ö
;∫∫Ö Ü9
+pHisContratoconsultoriobeneficiosadendaDetE
ªª G
.
ªªG H

NuevoValor
ªªH R
=
ªªS T
$str
ªªU X
;
ªªX Y9
+pHisContratoconsultoriobeneficiosadendaDetE
ºº G
.
ººG H
Campo
ººH M
=
ººN O
$str
ººP f
;
ººf g9
+pHisContratoconsultoriobeneficiosadendaDetE
ΩΩ G
.
ΩΩG H
Orden
ΩΩH M
=
ΩΩN O
$num
ΩΩP Q
;
ΩΩQ R
new
ææ 9
+HisContratoconsultoriobeneficiosadendaDetAD
ææ  K
(
ææK L
)
ææL M
.
ææM NK
<Sp_HisContratoconsultoriobeneficiosadendaDet_UpdatexCampo_RBææN ä
(ææä ã;
+pHisContratoconsultoriobeneficiosadendaDetEææã ∂
,ææ∂ ∑
cnnææ∏ ª
,ææª º
cmdææΩ ¿
,ææ¿ ¡
transactionææ¬ Õ
)ææÕ Œ
;ææŒ œ9
+pHisContratoconsultoriobeneficiosadendaDetE
…… G
.
……G H!
EstBeneficiosadenda
……H [
=
……\ ]
$str
……^ a
;
……a b
if
   
(
    
pEstBeneficio
    -
)
  - .
{
ÀÀ 9
+pHisContratoconsultoriobeneficiosadendaDetE
ŸŸ  K
.
ŸŸK L!
IdeBeneficiosadenda
ŸŸL _
=
ŸŸ` a
new
ŸŸb e:
+HisContratoconsultoriobeneficiosadendaDetADŸŸf ë
(ŸŸë í
)ŸŸí ì
.ŸŸì îF
6Sp_HisContratoconsultoriobeneficiosadendaDet_Insert_RBŸŸî  
(ŸŸ  À;
+pHisContratoconsultoriobeneficiosadendaDetEŸŸÀ ˆ
,ŸŸˆ ˜
cnnŸŸ¯ ˚
,ŸŸ˚ ¸
cmdŸŸ˝ Ä
,ŸŸÄ Å
transactionŸŸÇ ç
)ŸŸç é
;ŸŸé è
}
⁄⁄ 
int
›› 
exito
››  %
;
››% &.
 HisContratoconsultorioadendaDetE
ﬁﬁ <.
 RegContratoconsultorioadendaDetE
ﬁﬁ= ]
=
ﬁﬁ^ _
new
ﬁﬁ` c/
 HisContratoconsultorioadendaDetEﬁﬁd Ñ
(ﬁﬁÑ Ö
)ﬁﬁÖ Ü
;ﬁﬁÜ á
;ﬁﬁà â.
 RegContratoconsultorioadendaDetE
ﬂﬂ <
.
ﬂﬂ< =
IdeAdendaCab
ﬂﬂ= I
=
ﬂﬂJ K/
!pHisContratoconsultorioadendaCabE
ﬂﬂL m
.
ﬂﬂm n
IdeAdendaCab
ﬂﬂn z
;
ﬂﬂz {.
 RegContratoconsultorioadendaDetE
‡‡ <
.
‡‡< =

NuevoValor
‡‡= G
=
‡‡H I
$str
‡‡J M
;
‡‡M N.
 RegContratoconsultorioadendaDetE
·· <
.
··< =
Campo
··= B
=
··C D
$str
··E M
;
··M N.
 RegContratoconsultorioadendaDetE
‚‚ <
.
‚‚< =
Orden
‚‚= B
=
‚‚C D
$num
‚‚E F
;
‚‚F G
new
„„ /
!HisContratoconsultorioadendaDetAD
„„  A
(
„„A B
)
„„B C
.
„„C D@
2Sp_HisContratoconsultorioadendaDet_UpdatexCampo_RB
„„D v
(
„„v w/
 RegContratoconsultorioadendaDetE„„w ó
,„„ó ò
cnn„„ô ú
,„„ú ù
cmd„„û °
,„„° ¢
transaction„„£ Æ
)„„Æ Ø
;„„Ø ∞
for
ÓÓ 
(
ÓÓ  !
int
ÓÓ! $
i
ÓÓ% &
=
ÓÓ' (
$num
ÓÓ) *
;
ÓÓ* +
i
ÓÓ, -
<
ÓÓ. /3
%pListHisContratoconsultorioadendaDetE
ÓÓ0 U
.
ÓÓU V
Count
ÓÓV [
;
ÓÓ[ \
i
ÓÓ] ^
++
ÓÓ^ `
)
ÓÓ` a
{
ÔÔ .
 RegContratoconsultorioadendaDetE
ÚÚ  @
.
ÚÚ@ A
IdeCalendario
ÚÚA N
=
ÚÚO P3
%pListHisContratoconsultorioadendaDetE
ÚÚQ v
[
ÚÚv w
i
ÚÚw x
]
ÚÚx y
.
ÚÚy z
IdeCalendarioÚÚz á
;ÚÚá à.
 RegContratoconsultorioadendaDetE
ÛÛ  @
.
ÛÛ@ A!
IdeBeneficiosadenda
ÛÛA T
=
ÛÛU V:
+pHisContratoconsultoriobeneficiosadendaDetEÛÛW Ç
.ÛÛÇ É#
IdeBeneficiosadendaÛÛÉ ñ
;ÛÛñ ó.
 RegContratoconsultorioadendaDetE
ÙÙ  @
.
ÙÙ@ A
Estado
ÙÙA G
=
ÙÙH I
$str
ÙÙJ M
;
ÙÙM N
exito
ıı  %
=
ıı& '
new
ıı( +/
!HisContratoconsultorioadendaDetAD
ıı, M
(
ııM N
)
ııN O
.
ııO P:
,Sp_HisContratoconsultorioadendaDet_Insert_RB
ııP |
(
ıı| }/
 RegContratoconsultorioadendaDetEıı} ù
,ııù û
cnnııü ¢
,ıı¢ £
cmdıı§ ß
,ııß ®
transactionıı© ¥
)ıı¥ µ
;ııµ ∂
if
ÄÄ  "
(
ÄÄ# $
exito
ÄÄ$ )
<
ÄÄ* +
$num
ÄÄ, -
)
ÄÄ- .
{
ÅÅ  !
throw
ÅÅ" '
new
ÅÅ( +
	Exception
ÅÅ, 5
(
ÅÅ5 6
$str
ÅÅ6 I
)
ÅÅI J
;
ÅÅJ K
}
ÅÅL M
}
ÇÇ 
transaction
ÉÉ '
.
ÉÉ' (
Commit
ÉÉ( .
(
ÉÉ. /
)
ÉÉ/ 0
;
ÉÉ0 1
return
ÑÑ "
true
ÑÑ# '
;
ÑÑ' (
}
ÖÖ 
catch
ÜÜ 
(
ÜÜ 
	Exception
ÜÜ (
ex
ÜÜ) +
)
ÜÜ+ ,
{
áá 
transaction
àà '
.
àà' (
Rollback
àà( 0
(
àà0 1
)
àà1 2
;
àà2 3
throw
ââ !
;
ââ! "
}
ää 
finally
ãã 
{
åå 
cnn
åå 
.
åå 
Close
åå #
(
åå# $
)
åå$ %
;
åå% &
}
åå' (
}
çç 
}
éé 
}
èè 
catch
êê 
(
êê 
	Exception
êê 
e
êê 
)
êê 
{
ëë 
throw
ëë 
e
ëë 
=
ëë 
new
ëë 
	Exception
ëë %
(
ëë% &
e
ëë& '
.
ëë' (
Message
ëë( /
)
ëë/ 0
;
ëë0 1
}
ëë2 3
}
íí 	
}
ìì 
}îî àÕ
mD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ContratosAD\HisDatospagosconsultoriosAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ContratosAD '
{ 
public 

class '
HisDatospagosconsultoriosAD ,
{ 
private &
HisDatospagosconsultoriosE *
LlenarEntidad+ 8
(8 9
IDataReader9 D
drE G
,G H&
HisDatospagosconsultoriosEI c'
pHisDatospagosconsultoriosEd 
)	 Ä
{ 	&
HisDatospagosconsultoriosE &'
oHisDatospagosconsultoriosE' B
=C D
newE H&
HisDatospagosconsultoriosEI c
(c d
)d e
;e f
switch 
( '
pHisDatospagosconsultoriosE /
./ 0
Orden0 5
)5 6
{ 
case 
$num 
: '
oHisDatospagosconsultoriosE /
./ 0(
IdeHisContratoconsultorioCab0 L
=M N
ConvertO V
.V W
ToInt32W ^
(^ _
dr_ a
[a b
$str	b É
]
É Ñ
)
Ñ Ö
;
Ö Ü'
oHisDatospagosconsultoriosE /
./ 0
IdeAdendaCab0 <
== >
Convert? F
.F G
ToInt32G N
(N O
drO Q
[Q R
$strR b
]b c
)c d
;d e'
oHisDatospagosconsultoriosE /
./ 0
MesComprobante0 >
=? @
ConvertA H
.H I
ToInt32I P
(P Q
drQ S
[S T
$strT e
]e f
)f g
;g h'
oHisDatospagosconsultoriosE /
./ 0
A√±oComprobante0 >
=? @
ConvertA H
.H I
ToInt32I P
(P Q
drQ S
[S T
$strT e
]e f
)f g
;g h'
oHisDatospagosconsultoriosE /
./ 0
IdePagosBot0 ;
=< =
Convert> E
.E F
ToInt32F M
(M N
drN P
[P Q
$strQ `
]` a
)a b
;b c'
oHisDatospagosconsultoriosE   /
.  / 0
CodLiquidacion  0 >
=  ? @
Convert  A H
.  H I
ToString  I Q
(  Q R
dr  R T
[  T U
$str  U f
]  f g
)  g h
;  h i'
oHisDatospagosconsultoriosE!! /
.!!/ 0
CodComprobante!!0 >
=!!? @
Convert!!A H
.!!H I
ToString!!I Q
(!!Q R
dr!!R T
[!!T U
$str!!U f
]!!f g
)!!g h
;!!h i'
oHisDatospagosconsultoriosE"" /
.""/ 0

OrigenPago""0 :
=""; <
Convert""= D
.""D E
ToString""E M
(""M N
dr""N P
[""P Q
$str""Q ^
]""^ _
)""_ `
;""` a'
oHisDatospagosconsultoriosE## /
.##/ 0
Link##0 4
=##5 6
Convert##7 >
.##> ?
ToString##? G
(##G H
dr##H J
[##J K
$str##K Q
]##Q R
)##R S
;##S T'
oHisDatospagosconsultoriosE$$ /
.$$/ 0
Estado$$0 6
=$$7 8
Convert$$9 @
.$$@ A
ToString$$A I
($$I J
dr$$J L
[$$L M
$str$$M U
]$$U V
)$$V W
;$$W X'
oHisDatospagosconsultoriosE%% /
.%%/ 0
FecVencimiento%%0 >
=%%? @
Convert%%A H
.%%H I
ToString%%I Q
(%%Q R
dr%%R T
[%%T U
$str%%U f
]%%f g
)%%g h
;%%h i'
oHisDatospagosconsultoriosE&& /
.&&/ 0
FecRegistro&&0 ;
=&&< =
Convert&&> E
.&&E F
ToString&&F N
(&&N O
dr&&O Q
[&&Q R
$str&&R `
]&&` a
)&&a b
;&&b c'
oHisDatospagosconsultoriosE'' /
.''/ 0
IdePagocontrato''0 ?
=''@ A
Convert''B I
.''I J
ToInt32''J Q
(''Q R
dr''R T
[''T U
$str''U g
]''g h
)''h i
;''i j
break(( 
;(( 
case)) 
$num)) 
:)) '
oHisDatospagosconsultoriosE** /
.**/ 0
IdePagocontrato**0 ?
=**@ A
Convert**B I
.**I J
ToInt32**J Q
(**Q R
dr**R T
[**T U
$str**U g
]**g h
)**h i
;**i j'
oHisDatospagosconsultoriosE++ /
.++/ 0(
IdeHisContratoconsultorioCab++0 L
=++M N
Convert++O V
.++V W
ToInt32++W ^
(++^ _
dr++_ a
[++a b
$str	++b É
]
++É Ñ
)
++Ñ Ö
;
++Ö Ü'
oHisDatospagosconsultoriosE,, /
.,,/ 0
IdeAdendaCab,,0 <
=,,= >
Convert,,? F
.,,F G
ToInt32,,G N
(,,N O
dr,,O Q
[,,Q R
$str,,R b
],,b c
),,c d
;,,d e'
oHisDatospagosconsultoriosE-- /
.--/ 0
IdeSede--0 7
=--8 9
Convert--: A
.--A B
ToInt32--B I
(--I J
dr--J L
[--L M
$str--M W
]--W X
)--X Y
;--Y Z'
oHisDatospagosconsultoriosE.. /
.../ 0
CntRentaMensual..0 ?
=..@ A
Convert..B I
...I J
	ToDecimal..J S
(..S T
dr..T V
[..V W
$str..W j
]..j k
)..k l
;..l m'
oHisDatospagosconsultoriosE// /
./// 0
MesComprobante//0 >
=//? @
Convert//A H
.//H I
ToInt32//I P
(//P Q
dr//Q S
[//S T
$str//T e
]//e f
)//f g
;//g h'
oHisDatospagosconsultoriosE00 /
.00/ 0
A√±oComprobante000 >
=00? @
Convert00A H
.00H I
ToInt3200I P
(00P Q
dr00Q S
[00S T
$str00T e
]00e f
)00f g
;00g h'
oHisDatospagosconsultoriosE11 /
.11/ 0
Estado110 6
=117 8
Convert119 @
.11@ A
ToString11A I
(11I J
dr11J L
[11L M
$str11M U
]11U V
)11V W
;11W X'
oHisDatospagosconsultoriosE22 /
.22/ 0
CodPresotor220 ;
=22< =
Convert22> E
.22E F
ToString22F N
(22N O
dr22O Q
[22Q R
$str22R `
]22` a
)22a b
;22b c'
oHisDatospagosconsultoriosE33 /
.33/ 0
CodLiquidacion330 >
=33? @
Convert33A H
.33H I
ToString33I Q
(33Q R
dr33R T
[33T U
$str33U f
]33f g
)33g h
;33h i'
oHisDatospagosconsultoriosE44 /
.44/ 0
CodComprobante440 >
=44? @
Convert44A H
.44H I
ToString44I Q
(44Q R
dr44R T
[44T U
$str44U f
]44f g
)44g h
;44h i'
oHisDatospagosconsultoriosE55 /
.55/ 0
TipComprobante550 >
=55? @
Convert55A H
.55H I
ToString55I Q
(55Q R
dr55R T
[55T U
$str55U f
]55f g
)55g h
;55h i'
oHisDatospagosconsultoriosE66 /
.66/ 0
CardCode660 8
=669 :
Convert66; B
.66B C
ToString66C K
(66K L
dr66L N
[66N O
$str66O Y
]66Y Z
)66Z [
;66[ \'
oHisDatospagosconsultoriosE77 /
.77/ 0
ANombreDeQuien770 >
=77? @
Convert77A H
.77H I
ToString77I Q
(77Q R
dr77R T
[77T U
$str77U e
]77e f
)77f g
;77g h'
oHisDatospagosconsultoriosE88 /
.88/ 0
	TipMoneda880 9
=88: ;
Convert88< C
.88C D
ToString88D L
(88L M
dr88M O
[88O P
$str88P \
]88\ ]
)88] ^
;88^ _'
oHisDatospagosconsultoriosE99 /
.99/ 0
Ruc990 3
=994 5
Convert996 =
.99= >
ToString99> F
(99F G
dr99G I
[99I J
$str99J O
]99O P
)99P Q
;99Q R'
oHisDatospagosconsultoriosE:: /
.::/ 0
	Direccion::0 9
=::: ;
Convert::< C
.::C D
ToString::D L
(::L M
dr::M O
[::O P
$str::P [
]::[ \
)::\ ]
;::] ^'
oHisDatospagosconsultoriosE;; /
.;;/ 0
TipDocIdentidad;;0 ?
=;;@ A
Convert;;B I
.;;I J
ToString;;J R
(;;R S
dr;;S U
[;;U V
$str;;V g
];;g h
);;h i
;;;i j'
oHisDatospagosconsultoriosE<< /
.<</ 0
DocIdentidad<<0 <
=<<= >
Convert<<? F
.<<F G
ToString<<G O
(<<O P
dr<<P R
[<<R S
$str<<S a
]<<a b
)<<b c
;<<c d'
oHisDatospagosconsultoriosE== /
.==/ 0
CodTipoFactura==0 >
===? @
Convert==A H
.==H I
ToString==I Q
(==Q R
dr==R T
[==T U
$str==U e
]==e f
)==f g
;==g h'
oHisDatospagosconsultoriosE>> /
.>>/ 0
	CodMedico>>0 9
=>>: ;
Convert>>< C
.>>C D
ToString>>D L
(>>L M
dr>>M O
[>>O P
$str>>P [
]>>[ \
)>>\ ]
;>>] ^'
oHisDatospagosconsultoriosE?? /
.??/ 0
Concepto??0 8
=??9 :
Convert??; B
.??B C
ToString??C K
(??K L
dr??L N
[??N O
$str??O Y
]??Y Z
)??Z [
;??[ \'
oHisDatospagosconsultoriosE@@ /
.@@/ 0
	TipCambio@@0 9
=@@: ;
Convert@@< C
.@@C D
ToDouble@@D L
(@@L M
dr@@M O
[@@O P
$str@@P [
]@@[ \
)@@\ ]
;@@] ^'
oHisDatospagosconsultoriosEAA /
.AA/ 0
EmpresaAA0 7
=AA8 9
ConvertAA: A
.AAA B
ToStringAAB J
(AAJ K
drAAK M
[AAM N
$strAAN W
]AAW X
)AAX Y
;AAY Z'
oHisDatospagosconsultoriosEBB /
.BB/ 0
TipoImpresionBB0 =
=BB> ?
ConvertBB@ G
.BBG H
ToStringBBH P
(BBP Q
drBBQ S
[BBS T
$strBBT c
]BBc d
)BBd e
;BBe f'
oHisDatospagosconsultoriosECC /
.CC/ 0
CodTerminalCC0 ;
=CC< =
ConvertCC> E
.CCE F
ToStringCCF N
(CCN O
drCCO Q
[CCQ R
$strCCR _
]CC_ `
)CC` a
;CCa b'
oHisDatospagosconsultoriosEDD /
.DD/ 0
IdePagosBotDD0 ;
=DD< =
ConvertDD> E
.DDE F
ToInt32DDF M
(DDM N
drDDN P
[DDP Q
$strDDQ `
]DD` a
)DDa b
;DDb c'
oHisDatospagosconsultoriosEEE /
.EE/ 0
TipPagoEE0 7
=EE8 9
ConvertEE: A
.EEA B
ToStringEEB J
(EEJ K
drEEK M
[EEM N
$strEEN X
]EEX Y
)EEY Z
;EEZ ['
oHisDatospagosconsultoriosEFF /
.FF/ 0
Email_MedicoFF0 <
=FF= >
ConvertFF? F
.FFF G
ToStringFFG O
(FFO P
drFFP R
[FFR S
$strFFS a
]FFa b
)FFb c
;FFc d
breakGG 
;GG 
caseHH 
$numHH 
:HH '
oHisDatospagosconsultoriosEII /
.II/ 0
IdePagocontratoII0 ?
=II@ A
ConvertIIB I
.III J
ToInt32IIJ Q
(IIQ R
drIIR T
[IIT U
$strIIU g
]IIg h
)IIh i
;IIi j
breakJJ 
;JJ 
caseKK 
$numKK 
:KK '
oHisDatospagosconsultoriosELL /
.LL/ 0
	CodMedicoLL0 9
=LL: ;
ConvertLL< C
.LLC D
ToStringLLD L
(LLL M
drLLM O
[LLO P
$strLLP \
]LL\ ]
)LL] ^
;LL^ _
breakMM 
;MM 
caseNN 
$numNN 
:NN '
oHisDatospagosconsultoriosEOO /
.OO/ 0
IdePagocontratoOO0 ?
=OO@ A
ConvertOOB I
.OOI J
ToInt32OOJ Q
(OOQ R
drOOR T
[OOT U
$strOOU g
]OOg h
)OOh i
;OOi j
breakPP 
;PP 
caseQQ 
$numQQ 
:QQ '
oHisDatospagosconsultoriosERR /
.RR/ 0
IdePagocontratoRR0 ?
=RR@ A
ConvertRRB I
.RRI J
ToInt32RRJ Q
(RRQ R
drRRR T
[RRT U
$strRRU g
]RRg h
)RRh i
;RRi j'
oHisDatospagosconsultoriosESS /
.SS/ 0
IdePagosBotSS0 ;
=SS< =
ConvertSS> E
.SSE F
ToInt32SSF M
(SSM N
drSSN P
[SSP Q
$strSSQ `
]SS` a
)SSa b
;SSb c'
oHisDatospagosconsultoriosETT /
.TT/ 0
CodComprobanteTT0 >
=TT? @
ConvertTTA H
.TTH I
ToStringTTI Q
(TTQ R
drTTR T
[TTT U
$strTTU f
]TTf g
)TTg h
;TTh i'
oHisDatospagosconsultoriosEUU /
.UU/ 0
TipPagoUU0 7
=UU8 9
ConvertUU: A
.UUA B
ToStringUUB J
(UUJ K
drUUK M
[UUM N
$strUUN W
]UUW X
)UUX Y
;UUY Z'
oHisDatospagosconsultoriosEVV /
.VV/ 0
EntidadVV0 7
=VV8 9
ConvertVV: A
.VVA B
ToStringVVB J
(VVJ K
drVVK M
[VVM N
$strVVN ]
]VV] ^
)VV^ _
;VV_ `'
oHisDatospagosconsultoriosEWW /
.WW/ 0
NumeroEntidadWW0 =
=WW> ?
ConvertWW@ G
.WWG H
ToStringWWH P
(WWP Q
drWWQ S
[WWS T
$strWWT c
]WWc d
)WWd e
;WWe f'
oHisDatospagosconsultoriosEXX /
.XX/ 0
CntRentaMensualXX0 ?
=XX@ A
ConvertXXB I
.XXI J
	ToDecimalXXJ S
(XXS T
drXXT V
[XXV W
$strXXW ^
]XX^ _
)XX_ `
;XX` a'
oHisDatospagosconsultoriosEYY /
.YY/ 0
	TipMonedaYY0 9
=YY: ;
ConvertYY< C
.YYC D
ToStringYYD L
(YYL M
drYYM O
[YYO P
$strYYP X
]YYX Y
)YYY Z
;YYZ ['
oHisDatospagosconsultoriosEZZ /
.ZZ/ 0
	TipCambioZZ0 9
=ZZ: ;
ConvertZZ< C
.ZZC D
ToDoubleZZD L
(ZZL M
drZZM O
[ZZO P
$strZZP \
]ZZ\ ]
)ZZ] ^
;ZZ^ _'
oHisDatospagosconsultoriosE[[ /
.[[/ 0
Empresa[[0 7
=[[8 9
Convert[[: A
.[[A B
ToString[[B J
([[J K
dr[[K M
[[[M N
$str[[N Z
][[Z [
)[[[ \
;[[\ ]'
oHisDatospagosconsultoriosE\\ /
.\\/ 0
CodTerminal\\0 ;
=\\< =
Convert\\> E
.\\E F
ToString\\F N
(\\N O
dr\\O Q
[\\Q R
$str\\R \
]\\\ ]
)\\] ^
;\\^ _
break]] 
;]] 
case^^ 
$num^^ 
:^^ '
oHisDatospagosconsultoriosE__ /
.__/ 0
IdePagocontrato__0 ?
=__@ A
Convert__B I
.__I J
ToInt32__J Q
(__Q R
dr__R T
[__T U
$str__U g
]__g h
)__h i
;__i j'
oHisDatospagosconsultoriosE`` /
.``/ 0(
IdeHisContratoconsultorioCab``0 L
=``M N
Convert``O V
.``V W
ToInt32``W ^
(``^ _
dr``_ a
[``a b
$str	``b É
]
``É Ñ
)
``Ñ Ö
;
``Ö Ü'
oHisDatospagosconsultoriosEaa /
.aa/ 0
IdePagosBotaa0 ;
=aa< =
Convertaa> E
.aaE F
ToInt32aaF M
(aaM N
draaN P
[aaP Q
$straaQ `
]aa` a
)aaa b
;aab c'
oHisDatospagosconsultoriosEbb /
.bb/ 0
FecVencimientobb0 >
=bb? @
ConvertbbA H
.bbH I
ToStringbbI Q
(bbQ R
drbbR T
[bbT U
$strbbU e
]bbe f
)bbf g
;bbg h'
oHisDatospagosconsultoriosEcc /
.cc/ 0
CodComprobantecc0 >
=cc? @
ConvertccA H
.ccH I
ToStringccI Q
(ccQ R
drccR T
[ccT U
$strccU b
]ccb c
)ccc d
;ccd e'
oHisDatospagosconsultoriosEdd /
.dd/ 0
CntRentaMensualdd0 ?
=dd@ A
ConvertddB I
.ddI J
	ToDecimalddJ S
(ddS T
drddT V
[ddV W
$strddW i
]ddi j
)ddj k
;ddk l'
oHisDatospagosconsultoriosEee /
.ee/ 0
CntPagaree0 8
=ee9 :
Convertee; B
.eeB C
	ToDecimaleeC L
(eeL M
dreeM O
[eeO P
$streeP \
]ee\ ]
)ee] ^
;ee^ _'
oHisDatospagosconsultoriosEff /
.ff/ 0

OrigenPagoff0 :
=ff; <
Convertff= D
.ffD E
ToStringffE M
(ffM N
drffN P
[ffP Q
$strffQ ]
]ff] ^
)ff^ _
;ff_ `'
oHisDatospagosconsultoriosEgg /
.gg/ 0
Estadogg0 6
=gg7 8
Convertgg9 @
.gg@ A
ToStringggA I
(ggI J
drggJ L
[ggL M
$strggM U
]ggU V
)ggV W
;ggW X'
oHisDatospagosconsultoriosEhh /
.hh/ 0
Linkhh0 4
=hh5 6
Converthh7 >
.hh> ?
ToStringhh? G
(hhG H
drhhH J
[hhJ K
$strhhK Q
]hhQ R
)hhR S
;hhS T'
oHisDatospagosconsultoriosEii /
.ii/ 0
TipPagoii0 7
=ii8 9
Convertii: A
.iiA B
ToStringiiB J
(iiJ K
driiK M
[iiM N
$striiN W
]iiW X
)iiX Y
;iiY Z
breakjj 
;jj 
casekk 
$numkk 
:kk 
casell 
$numll 
:ll 
casemm 
$nummm 
:mm '
oHisDatospagosconsultoriosEnn /
.nn/ 0
IdePagocontratonn0 ?
=nn@ A
ConvertnnB I
.nnI J
ToInt32nnJ Q
(nnQ R
drnnR T
[nnT U
$strnnU g
]nng h
)nnh i
;nni j
breakoo 
;oo 
casepp 
$numpp 
:pp '
oHisDatospagosconsultoriosEqq /
.qq/ 0
IdePagocontratoqq0 ?
=qq@ A
ConvertqqB I
.qqI J
ToInt32qqJ Q
(qqQ R
drqqR T
[qqT U
$strqqU g
]qqg h
)qqh i
;qqi j'
oHisDatospagosconsultoriosErr /
.rr/ 0
IdePagosBotrr0 ;
=rr< =
Convertrr> E
.rrE F
ToInt32rrF M
(rrM N
drrrN P
[rrP Q
$strrrQ `
]rr` a
)rra b
;rrb c'
oHisDatospagosconsultoriosEss /
.ss/ 0
CntRentaMensualss0 ?
=ss@ A
ConvertssB I
.ssI J
ToInt32ssJ Q
(ssQ R
drssR T
[ssT U
$strssU h
]ssh i
)ssi j
;ssj k'
oHisDatospagosconsultoriosEtt /
.tt/ 0
CodComprobantett0 >
=tt? @
ConvertttA H
.ttH I
ToStringttI Q
(ttQ R
drttR T
[ttT U
$strttU f
]ttf g
)ttg h
;tth i
breakuu 
;uu 
}vv 
returnww '
oHisDatospagosconsultoriosEww .
;ww. /
}xx 	
publicyy 
Listyy 
<yy &
HisDatospagosconsultoriosEyy .
>yy. /1
%Sp_HisDatospagosconsultorios_Consultayy0 U
(yyU V&
HisDatospagosconsultoriosEyyV p(
pHisDatospagosconsultoriosE	yyq å
)
yyå ç
{zz 	
List{{ 
<{{ &
HisDatospagosconsultoriosE{{ +
>{{+ ,
oListar{{- 4
={{5 6
new{{7 :
List{{; ?
<{{? @&
HisDatospagosconsultoriosE{{@ Z
>{{Z [
({{[ \
){{\ ]
;{{] ^&
HisDatospagosconsultoriosE|| &'
oHisDatospagosconsultoriosE||' B
=||C D
null||E I
;||I J
using}} 
(}} 
SqlConnection}}  
cnn}}! $
=}}% &
new}}' *
SqlConnection}}+ 8
(}}8 9
VariablesGlobales}}9 J
.}}J K

CnnClinica}}K U
)}}U V
)}}V W
{~~ 
using 
( 

SqlCommand !
cmd" %
=& '
new( +

SqlCommand, 6
(6 7
$str7 ^
,^ _
cnn` c
)c d
)d e
{
ÄÄ 
cmd
ÅÅ 
.
ÅÅ 
CommandType
ÅÅ #
=
ÅÅ$ %
System
ÅÅ& ,
.
ÅÅ, -
Data
ÅÅ- 1
.
ÅÅ1 2
CommandType
ÅÅ2 =
.
ÅÅ= >
StoredProcedure
ÅÅ> M
;
ÅÅM N
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ "
.
ÉÉ" #
AddWithValue
ÉÉ# /
(
ÉÉ/ 0
$str
ÉÉ0 C
,
ÉÉC D)
pHisDatospagosconsultoriosE
ÉÉE `
.
ÉÉ` a
IdePagocontrato
ÉÉa p
)
ÉÉp q
;
ÉÉq r
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ "
.
ÑÑ" #
AddWithValue
ÑÑ# /
(
ÑÑ/ 0
$str
ÑÑ0 <
,
ÑÑ< =)
pHisDatospagosconsultoriosE
ÑÑ> Y
.
ÑÑY Z
IDBuscar
ÑÑZ b
)
ÑÑb c
;
ÑÑc d
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ "
.
ÖÖ" #
AddWithValue
ÖÖ# /
(
ÖÖ/ 0
$str
ÖÖ0 9
,
ÖÖ9 :)
pHisDatospagosconsultoriosE
ÖÖ; V
.
ÖÖV W
Buscar
ÖÖW ]
)
ÖÖ] ^
;
ÖÖ^ _
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ "
.
ÜÜ" #
AddWithValue
ÜÜ# /
(
ÜÜ/ 0
$str
ÜÜ0 7
,
ÜÜ7 8)
pHisDatospagosconsultoriosE
ÜÜ9 T
.
ÜÜT U

FiltroSede
ÜÜU _
)
ÜÜ_ `
;
ÜÜ` a
cmd
áá 
.
áá 

Parameters
áá "
.
áá" #
AddWithValue
áá# /
(
áá/ 0
$str
áá0 8
,
áá8 9)
pHisDatospagosconsultoriosE
áá: U
.
ááU V
FiltroFecha
ááV a
)
ááa b
;
ááb c
cmd
àà 
.
àà 

Parameters
àà "
.
àà" #
AddWithValue
àà# /
(
àà/ 0
$str
àà0 ?
,
àà? @)
pHisDatospagosconsultoriosE
ààA \
.
àà\ ]
NumeroLineas
àà] i
)
àài j
;
ààj k
cmd
ââ 
.
ââ 

Parameters
ââ "
.
ââ" #
AddWithValue
ââ# /
(
ââ/ 0
$str
ââ0 8
,
ââ8 9)
pHisDatospagosconsultoriosE
ââ: U
.
ââU V
Orden
ââV [
)
ââ[ \
;
ââ\ ]
cnn
ää 
.
ää 
Open
ää 
(
ää 
)
ää 
;
ää 
IDataReader
ãã 
dr
ãã  "
=
ãã# $
cmd
ãã% (
.
ãã( )
ExecuteReader
ãã) 6
(
ãã6 7
)
ãã7 8
;
ãã8 9
while
åå 
(
åå 
dr
åå 
.
åå 
Read
åå "
(
åå" #
)
åå# $
)
åå$ %
{
çç )
oHisDatospagosconsultoriosE
éé 3
=
éé4 5
LlenarEntidad
éé6 C
(
ééC D
dr
ééD F
,
ééF G)
pHisDatospagosconsultoriosE
ééH c
)
ééc d
;
ééd e
oListar
èè 
.
èè  
Add
èè  #
(
èè# $)
oHisDatospagosconsultoriosE
èè$ ?
)
èè? @
;
èè@ A
}
êê 
dr
ëë 
.
ëë 
Close
ëë 
(
ëë 
)
ëë 
;
ëë 
cnn
íí 
.
íí 
Close
íí 
(
íí 
)
íí 
;
íí  
}
ìì 
}
îî 
return
ïï 
oListar
ïï 
;
ïï 
}
ññ 	
public
óó 
bool
óó 1
#Sp_HisDatospagosconsultorios_Insert
óó 7
(
óó7 8(
HisDatospagosconsultoriosE
óó8 R)
pHisDatospagosconsultoriosE
óóS n
)
óón o
{
òò 	
try
ôô 
{
öö 
using
õõ 
(
õõ 
SqlConnection
õõ $
cnn
õõ% (
=
õõ) *
new
õõ+ .
SqlConnection
õõ/ <
(
õõ< =
VariablesGlobales
õõ= N
.
õõN O

CnnClinica
õõO Y
)
õõY Z
)
õõZ [
{
úú 
using
ùù 
(
ùù 

SqlCommand
ùù %
cmd
ùù& )
=
ùù* +
new
ùù, /

SqlCommand
ùù0 :
(
ùù: ;
$str
ùù; `
,
ùù` a
cnn
ùùb e
)
ùùe f
)
ùùf g
{
ûû 
cmd
üü 
.
üü 
CommandType
üü '
=
üü( )
System
üü* 0
.
üü0 1
Data
üü1 5
.
üü5 6
CommandType
üü6 A
.
üüA B
StoredProcedure
üüB Q
;
üüQ R
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 V
,
°°V W)
pHisDatospagosconsultoriosE
°°X s
.
°°s t+
IdeHisContratoconsultorioCab°°t ê
)°°ê ë
;°°ë í
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ &
.
¢¢& '
AddWithValue
¢¢' 3
(
¢¢3 4
$str
¢¢4 E
,
¢¢E F)
pHisDatospagosconsultoriosE
¢¢G b
.
¢¢b c
IdeAdendaCab
¢¢c o
)
¢¢o p
;
¢¢p q
cmd
££ 
.
££ 

Parameters
££ &
.
££& '
AddWithValue
££' 3
(
££3 4
$str
££4 ?
,
££? @)
pHisDatospagosconsultoriosE
££A \
.
££\ ]
IdeSede
££] d
)
££d e
;
££e f
cmd
§§ 
.
§§ 

Parameters
§§ &
.
§§& '
AddWithValue
§§' 3
(
§§3 4
$str
§§4 H
,
§§H I)
pHisDatospagosconsultoriosE
§§J e
.
§§e f
CntRentaMensual
§§f u
)
§§u v
;
§§v w
cmd
•• 
.
•• 

Parameters
•• &
.
••& '
AddWithValue
••' 3
(
••3 4
$str
••4 F
,
••F G)
pHisDatospagosconsultoriosE
••H c
.
••c d
MesComprobante
••d r
)
••r s
;
••s t
cmd
¶¶ 
.
¶¶ 

Parameters
¶¶ &
.
¶¶& '
AddWithValue
¶¶' 3
(
¶¶3 4
$str
¶¶4 F
,
¶¶F G)
pHisDatospagosconsultoriosE
¶¶H c
.
¶¶c d
A√±oComprobante
¶¶d r
)
¶¶r s
;
¶¶s t
cmd
ßß 
.
ßß 

Parameters
ßß &
.
ßß& '
AddWithValue
ßß' 3
(
ßß3 4
$str
ßß4 D
,
ßßD E)
pHisDatospagosconsultoriosE
ßßF a
.
ßßa b
IdePagosBot
ßßb m
)
ßßm n
;
ßßn o
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
AddWithValue
®®' 3
(
®®3 4
$str
®®4 C
,
®®C D)
pHisDatospagosconsultoriosE
®®E `
.
®®` a
CodPresotor
®®a l
)
®®l m
;
®®m n
cmd
©© 
.
©© 

Parameters
©© &
.
©©& '
AddWithValue
©©' 3
(
©©3 4
$str
©©4 F
,
©©F G)
pHisDatospagosconsultoriosE
©©H c
.
©©c d
CodLiquidacion
©©d r
)
©©r s
;
©©s t
cmd
™™ 
.
™™ 

Parameters
™™ &
.
™™& '
AddWithValue
™™' 3
(
™™3 4
$str
™™4 F
,
™™F G)
pHisDatospagosconsultoriosE
™™H c
.
™™c d
CodComprobante
™™d r
)
™™r s
;
™™s t
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 B
,
´´B C)
pHisDatospagosconsultoriosE
´´D _
.
´´_ `

OrigenPago
´´` j
)
´´j k
;
´´k l
cmd
¨¨ 
.
¨¨ 

Parameters
¨¨ &
.
¨¨& '
AddWithValue
¨¨' 3
(
¨¨3 4
$str
¨¨4 ;
,
¨¨; <)
pHisDatospagosconsultoriosE
¨¨= X
.
¨¨X Y
Link
¨¨Y ]
)
¨¨] ^
;
¨¨^ _
cmd
≠≠ 
.
≠≠ 

Parameters
≠≠ &
.
≠≠& '
AddWithValue
≠≠' 3
(
≠≠3 4
$str
≠≠4 ?
,
≠≠? @)
pHisDatospagosconsultoriosE
≠≠A \
.
≠≠\ ]
TipPago
≠≠] d
)
≠≠d e
;
≠≠e f
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 =
,
ÆÆ= >)
pHisDatospagosconsultoriosE
ÆÆ? Z
.
ÆÆZ [
Estado
ÆÆ[ a
)
ÆÆa b
;
ÆÆb c
cmd
ØØ 
.
ØØ 

Parameters
ØØ &
.
ØØ& '
AddWithValue
ØØ' 3
(
ØØ3 4
$str
ØØ4 F
,
ØØF G)
pHisDatospagosconsultoriosE
ØØH c
.
ØØc d
FecVencimiento
ØØd r
)
ØØr s
;
ØØs t
cmd
∞∞ 
.
∞∞ 

Parameters
∞∞ &
.
∞∞& '
AddWithValue
∞∞' 3
(
∞∞3 4
$str
∞∞4 C
,
∞∞C D)
pHisDatospagosconsultoriosE
∞∞E `
.
∞∞` a
FecRegistro
∞∞a l
)
∞∞l m
;
∞∞m n
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
Add
±±' *
(
±±* +
VariablesGlobales
±±+ <
.
±±< =
ParametroSql
±±= I
(
±±I J
$str
±±J ]
,
±±] ^ 
ParameterDirection
±±_ q
.
±±q r
InputOutput
±±r }
,
±±} ~
	SqlDbType±± à
.±±à â
Int±±â å
,±±å ç
$num±±é è
,±±è ê+
pHisDatospagosconsultoriosE±±ë ¨
.±±¨ ≠
IdePagocontrato±±≠ º
.±±º Ω
ToString±±Ω ≈
(±±≈ ∆
)±±∆ «
)±±« »
)±±» …
;±±…  
cnn
≥≥ 
.
≥≥ 
Open
≥≥  
(
≥≥  !
)
≥≥! "
;
≥≥" #
int
µµ 
exito
µµ !
=
µµ" #
cmd
µµ$ '
.
µµ' (
ExecuteNonQuery
µµ( 7
(
µµ7 8
)
µµ8 9
;
µµ9 :
cnn
∂∂ 
.
∂∂ 
Close
∂∂ !
(
∂∂! "
)
∂∂" #
;
∂∂# $
cmd
∑∑ 
.
∑∑ 
Dispose
∑∑ #
(
∑∑# $
)
∑∑$ %
;
∑∑% &
if
∏∏ 
(
∏∏ 
exito
∏∏ !
>=
∏∏" $
$num
∏∏% &
)
∏∏& '
{
ππ )
pHisDatospagosconsultoriosE
∫∫ 7
.
∫∫7 8
IdePagocontrato
∫∫8 G
=
∫∫H I
Convert
∫∫J Q
.
∫∫Q R
ToInt32
∫∫R Y
(
∫∫Y Z
cmd
∫∫Z ]
.
∫∫] ^

Parameters
∫∫^ h
[
∫∫h i
$str
∫∫i |
]
∫∫| }
.
∫∫} ~
Value∫∫~ É
)∫∫É Ñ
;∫∫Ñ Ö
return
ªª "
true
ªª# '
;
ªª' (
}
ºº 
else
ΩΩ 
{
ææ 
return
øø "
false
øø# (
;
øø( )
}
¿¿ 
}
¡¡ 
}
¬¬ 
}
√√ 
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ 
e
ƒƒ 
)
ƒƒ 
{
≈≈ 
throw
≈≈ 
e
≈≈ 
=
≈≈ 
new
≈≈ 
	Exception
≈≈ %
(
≈≈% &
e
≈≈& '
.
≈≈' (
Message
≈≈( /
)
≈≈/ 0
;
≈≈0 1
}
≈≈2 3
}
∆∆ 	
public
«« 
bool
«« 1
#Sp_HisDatospagosconsultorios_Update
«« 7
(
««7 8(
HisDatospagosconsultoriosE
««8 R)
pHisDatospagosconsultoriosE
««S n
)
««n o
{
»» 	
try
…… 
{
   
using
ÀÀ 
(
ÀÀ 
SqlConnection
ÀÀ $
cnn
ÀÀ% (
=
ÀÀ) *
new
ÀÀ+ .
SqlConnection
ÀÀ/ <
(
ÀÀ< =
VariablesGlobales
ÀÀ= N
.
ÀÀN O

CnnClinica
ÀÀO Y
)
ÀÀY Z
)
ÀÀZ [
{
ÃÃ 
using
ÕÕ 
(
ÕÕ 

SqlCommand
ÕÕ %
cmd
ÕÕ& )
=
ÕÕ* +
new
ÕÕ, /

SqlCommand
ÕÕ0 :
(
ÕÕ: ;
$str
ÕÕ; `
,
ÕÕ` a
cnn
ÕÕb e
)
ÕÕe f
)
ÕÕf g
{
ŒŒ 
cmd
œœ 
.
œœ 
CommandType
œœ '
=
œœ( )
System
œœ* 0
.
œœ0 1
Data
œœ1 5
.
œœ5 6
CommandType
œœ6 A
.
œœA B
StoredProcedure
œœB Q
;
œœQ R
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 V
,
——V W)
pHisDatospagosconsultoriosE
——X s
.
——s t+
IdeHisContratoconsultorioCab——t ê
)——ê ë
;——ë í
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 E
,
““E F)
pHisDatospagosconsultoriosE
““G b
.
““b c
IdeAdendaCab
““c o
)
““o p
;
““p q
cmd
”” 
.
”” 

Parameters
”” &
.
””& '
AddWithValue
””' 3
(
””3 4
$str
””4 F
,
””F G)
pHisDatospagosconsultoriosE
””H c
.
””c d
MesComprobante
””d r
)
””r s
;
””s t
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ &
.
‘‘& '
AddWithValue
‘‘' 3
(
‘‘3 4
$str
‘‘4 F
,
‘‘F G)
pHisDatospagosconsultoriosE
‘‘H c
.
‘‘c d
A√±oComprobante
‘‘d r
)
‘‘r s
;
‘‘s t
cmd
’’ 
.
’’ 

Parameters
’’ &
.
’’& '
AddWithValue
’’' 3
(
’’3 4
$str
’’4 D
,
’’D E)
pHisDatospagosconsultoriosE
’’F a
.
’’a b
IdePagosBot
’’b m
)
’’m n
;
’’n o
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
AddWithValue
÷÷' 3
(
÷÷3 4
$str
÷÷4 F
,
÷÷F G)
pHisDatospagosconsultoriosE
÷÷H c
.
÷÷c d
CodLiquidacion
÷÷d r
)
÷÷r s
;
÷÷s t
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ &
.
◊◊& '
AddWithValue
◊◊' 3
(
◊◊3 4
$str
◊◊4 F
,
◊◊F G)
pHisDatospagosconsultoriosE
◊◊H c
.
◊◊c d
CodComprobante
◊◊d r
)
◊◊r s
;
◊◊s t
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ &
.
ÿÿ& '
AddWithValue
ÿÿ' 3
(
ÿÿ3 4
$str
ÿÿ4 B
,
ÿÿB C)
pHisDatospagosconsultoriosE
ÿÿD _
.
ÿÿ_ `

OrigenPago
ÿÿ` j
)
ÿÿj k
;
ÿÿk l
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ &
.
ŸŸ& '
AddWithValue
ŸŸ' 3
(
ŸŸ3 4
$str
ŸŸ4 ;
,
ŸŸ; <)
pHisDatospagosconsultoriosE
ŸŸ= X
.
ŸŸX Y
Link
ŸŸY ]
)
ŸŸ] ^
;
ŸŸ^ _
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ &
.
⁄⁄& '
AddWithValue
⁄⁄' 3
(
⁄⁄3 4
$str
⁄⁄4 =
,
⁄⁄= >)
pHisDatospagosconsultoriosE
⁄⁄? Z
.
⁄⁄Z [
Estado
⁄⁄[ a
)
⁄⁄a b
;
⁄⁄b c
cmd
€€ 
.
€€ 

Parameters
€€ &
.
€€& '
AddWithValue
€€' 3
(
€€3 4
$str
€€4 F
,
€€F G)
pHisDatospagosconsultoriosE
€€H c
.
€€c d
FecVencimiento
€€d r
)
€€r s
;
€€s t
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ &
.
‹‹& '
AddWithValue
‹‹' 3
(
‹‹3 4
$str
‹‹4 C
,
‹‹C D)
pHisDatospagosconsultoriosE
‹‹E `
.
‹‹` a
FecRegistro
‹‹a l
)
‹‹l m
;
‹‹m n
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 G
,
››G H)
pHisDatospagosconsultoriosE
››I d
.
››d e
IdePagocontrato
››e t
)
››t u
;
››u v
cnn
ﬂﬂ 
.
ﬂﬂ 
Open
ﬂﬂ  
(
ﬂﬂ  !
)
ﬂﬂ! "
;
ﬂﬂ" #
int
·· 
exito
·· !
=
··" #
cmd
··$ '
.
··' (
ExecuteNonQuery
··( 7
(
··7 8
)
··8 9
;
··9 :
cnn
‚‚ 
.
‚‚ 
Close
‚‚ !
(
‚‚! "
)
‚‚" #
;
‚‚# $
cmd
„„ 
.
„„ 
Dispose
„„ #
(
„„# $
)
„„$ %
;
„„% &
if
‰‰ 
(
‰‰ 
exito
‰‰ !
>=
‰‰" $
$num
‰‰% &
)
‰‰& '
{
ÂÂ 
return
ÂÂ  
true
ÂÂ! %
;
ÂÂ% &
}
ÂÂ' (
else
ÊÊ 
{
ÁÁ 
return
ÁÁ  
false
ÁÁ! &
;
ÁÁ& '
}
ÁÁ( )
}
ËË 
}
ÈÈ 
}
ÍÍ 
catch
ÎÎ 
(
ÎÎ 
	Exception
ÎÎ 
e
ÎÎ 
)
ÎÎ 
{
ÏÏ 
throw
ÏÏ 
e
ÏÏ 
=
ÏÏ 
new
ÏÏ 
	Exception
ÏÏ %
(
ÏÏ% &
e
ÏÏ& '
.
ÏÏ' (
Message
ÏÏ( /
)
ÏÏ/ 0
;
ÏÏ0 1
}
ÏÏ2 3
}
ÌÌ 	
public
ÓÓ 
bool
ÓÓ 7
)Sp_HisDatospagosconsultorios_UpdatexCampo
ÓÓ =
(
ÓÓ= >(
HisDatospagosconsultoriosE
ÓÓ> X)
pHisDatospagosconsultoriosE
ÓÓY t
)
ÓÓt u
{
ÔÔ 	
try
 
{
ÒÒ 
using
ÚÚ 
(
ÚÚ 
SqlConnection
ÚÚ $
cnn
ÚÚ% (
=
ÚÚ) *
new
ÚÚ+ .
SqlConnection
ÚÚ/ <
(
ÚÚ< =
VariablesGlobales
ÚÚ= N
.
ÚÚN O

CnnClinica
ÚÚO Y
)
ÚÚY Z
)
ÚÚZ [
{
ÛÛ 
using
ÙÙ 
(
ÙÙ 

SqlCommand
ÙÙ %
cmd
ÙÙ& )
=
ÙÙ* +
new
ÙÙ, /

SqlCommand
ÙÙ0 :
(
ÙÙ: ;
$str
ÙÙ; f
,
ÙÙf g
cnn
ÙÙh k
)
ÙÙk l
)
ÙÙl m
{
ıı 
cmd
ˆˆ 
.
ˆˆ 
CommandType
ˆˆ '
=
ˆˆ( )
System
ˆˆ* 0
.
ˆˆ0 1
Data
ˆˆ1 5
.
ˆˆ5 6
CommandType
ˆˆ6 A
.
ˆˆA B
StoredProcedure
ˆˆB Q
;
ˆˆQ R
cmd
¯¯ 
.
¯¯ 

Parameters
¯¯ &
.
¯¯& '
AddWithValue
¯¯' 3
(
¯¯3 4
$str
¯¯4 G
,
¯¯G H)
pHisDatospagosconsultoriosE
¯¯I d
.
¯¯d e
IdePagocontrato
¯¯e t
)
¯¯t u
;
¯¯u v
cmd
˘˘ 
.
˘˘ 

Parameters
˘˘ &
.
˘˘& '
AddWithValue
˘˘' 3
(
˘˘3 4
$str
˘˘4 B
,
˘˘B C)
pHisDatospagosconsultoriosE
˘˘D _
.
˘˘_ `

NuevoValor
˘˘` j
)
˘˘j k
;
˘˘k l
cmd
˙˙ 
.
˙˙ 

Parameters
˙˙ &
.
˙˙& '
AddWithValue
˙˙' 3
(
˙˙3 4
$str
˙˙4 <
,
˙˙< =)
pHisDatospagosconsultoriosE
˙˙> Y
.
˙˙Y Z
Campo
˙˙Z _
)
˙˙_ `
;
˙˙` a
cnn
¸¸ 
.
¸¸ 
Open
¸¸  
(
¸¸  !
)
¸¸! "
;
¸¸" #
int
˛˛ 
exito
˛˛ !
=
˛˛" #
cmd
˛˛$ '
.
˛˛' (
ExecuteNonQuery
˛˛( 7
(
˛˛7 8
)
˛˛8 9
;
˛˛9 :
cnn
ˇˇ 
.
ˇˇ 
Close
ˇˇ !
(
ˇˇ! "
)
ˇˇ" #
;
ˇˇ# $
cmd
ÄÄ 
.
ÄÄ 
Dispose
ÄÄ #
(
ÄÄ# $
)
ÄÄ$ %
;
ÄÄ% &
if
ÅÅ 
(
ÅÅ 
exito
ÅÅ !
>=
ÅÅ" $
$num
ÅÅ% &
)
ÅÅ& '
{
ÇÇ 
return
ÇÇ  
true
ÇÇ! %
;
ÇÇ% &
}
ÇÇ' (
else
ÉÉ 
{
ÑÑ 
return
ÑÑ  
false
ÑÑ! &
;
ÑÑ& '
}
ÑÑ( )
}
ÖÖ 
}
ÜÜ 
}
áá 
catch
àà 
(
àà 
	Exception
àà 
e
àà 
)
àà 
{
ââ 
throw
ââ 
e
ââ 
=
ââ 
new
ââ 
	Exception
ââ %
(
ââ% &
e
ââ& '
.
ââ' (
Message
ââ( /
)
ââ/ 0
;
ââ0 1
}
ââ2 3
}
ää 	
}
ãã 
}åå Ët
mD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ContratosAD\HisContratoconsultorioDetAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ContratosAD '
{ 
public 

class '
HisContratoconsultorioDetAD ,
{ 
private &
HisContratoconsultorioDetE *
LlenarEntidad+ 8
(8 9
IDataReader9 D
drE G
,G H&
HisContratoconsultorioDetE' A'
pHisContratoconsultorioDetEB ]
)] ^
{ 	&
HisContratoconsultorioDetE &'
oHisContratoconsultorioDetE' B
=C D
newE H&
HisContratoconsultorioDetEI c
(c d
)d e
;e f
switch 
( '
pHisContratoconsultorioDetE /
./ 0
Orden0 5
)5 6
{ 
case 
$num 
: '
oHisContratoconsultorioDetE /
./ 0$
IDContratoConsultorioCab0 H
=I J
ConvertK R
.R S
ToInt32S Z
(Z [
dr[ ]
[] ^
$str^ {
]{ |
)| }
;} ~'
oHisContratoconsultorioDetE   /
.  / 0
IDCalendario  0 <
=  = >
Convert  ? F
.  F G
ToInt32  G N
(  N O
dr  O Q
[  Q R
$str  R b
]  b c
)  c d
;  d e'
oHisContratoconsultorioDetE!! /
.!!/ 0 
IDContratoBeneficios!!0 D
=!!E F
Convert!!G N
.!!N O
ToInt32!!O V
(!!V W
dr!!W Y
[!!Y Z
$str!!Z r
]!!r s
)!!s t
;!!t u'
oHisContratoconsultorioDetE"" /
.""/ 0%
EstContratoConsultorioDet""0 I
=""J K
Convert""L S
.""S T
ToString""T \
(""\ ]
dr""] _
[""_ `
$str""` }
]""} ~
)""~ 
;	"" Ä
break## 
;## 
case$$ 
$num$$ 
:$$ '
oHisContratoconsultorioDetE%% /
.%%/ 0$
IDContratoConsultorioCab%%0 H
=%%I J
Convert%%K R
.%%R S
ToInt32%%S Z
(%%Z [
dr%%[ ]
[%%] ^
$str%%^ {
]%%{ |
)%%| }
;%%} ~'
oHisContratoconsultorioDetE&& /
.&&/ 0
IDCalendario&&0 <
=&&= >
Convert&&? F
.&&F G
ToInt32&&G N
(&&N O
dr&&O Q
[&&Q R
$str&&R b
]&&b c
)&&c d
;&&d e'
oHisContratoconsultorioDetE'' /
.''/ 0 
IDContratoBeneficios''0 D
=''E F
Convert''G N
.''N O
ToInt32''O V
(''V W
dr''W Y
[''Y Z
$str''Z r
]''r s
)''s t
;''t u'
oHisContratoconsultorioDetE(( /
.((/ 0%
EstContratoConsultorioDet((0 I
=((J K
Convert((L S
.((S T
ToString((T \
(((\ ]
dr((] _
[((_ `
$str((` }
]((} ~
)((~ 
;	(( Ä'
oHisContratoconsultorioDetE)) /
.))/ 0
IDBeneficio))0 ;
=))< =
Convert))> E
.))E F
ToInt32))F M
())M N
dr))N P
[))P Q
$str))Q `
]))` a
)))a b
;))b c'
oHisContratoconsultorioDetE** /
.**/ 0
TipDescuento**0 <
=**= >
Convert**? F
.**F G
ToString**G O
(**O P
dr**P R
[**R S
$str**S b
]**b c
)**c d
;**d e'
oHisContratoconsultorioDetE++ /
.++/ 0
CntDescuento++0 <
=++= >
Convert++? F
.++F G
ToInt32++G N
(++N O
dr++O Q
[++Q R
$str++R a
]++a b
)++b c
;++c d'
oHisContratoconsultorioDetE,, /
.,,/ 0
PrecioxHora,,0 ;
=,,< =
Convert,,> E
.,,E F
	ToDecimal,,F O
(,,O P
dr,,P R
[,,R S
$str,,S `
],,` a
),,a b
;,,b c'
oHisContratoconsultorioDetE-- /
.--/ 0
DscObsBeneficios--0 @
=--A B
Convert--C J
.--J K
ToString--K S
(--S T
dr--T V
[--V W
$str--W h
]--h i
)--i j
;--j k
break.. 
;.. 
}// 
return00 '
oHisContratoconsultorioDetE00 .
;00. /
}11 	
public33 
List33 
<33 &
HisContratoconsultorioDetE33 .
>33. /1
%Sp_HisContratoconsultorioDet_Consulta330 U
(33U V&
HisContratoconsultorioDetE33V p(
pHisContratoconsultorioDetE	33q å
)
33å ç
{44 	
List55 
<55 &
HisContratoconsultorioDetE55 +
>55+ ,
oListar55- 4
=555 6
new557 :
List55; ?
<55? @&
HisContratoconsultorioDetE55@ Z
>55Z [
(55[ \
)55\ ]
;55] ^&
HisContratoconsultorioDetE66 &'
oHisContratoconsultorioDetE66' B
=66C D
null66E I
;66I J
using77 
(77 
SqlConnection77  
cnn77! $
=77% &
new77' *
SqlConnection77+ 8
(778 9
VariablesGlobales779 J
.77J K

CnnClinica77K U
)77U V
)77V W
{88 
using99 
(99 

SqlCommand99 !
cmd99" %
=99& '
new99( +

SqlCommand99, 6
(996 7
$str997 ^
,99^ _
cnn99` c
)99c d
)99d e
{:: 
cmd;; 
.;; 
CommandType;; #
=;;$ %
System;;& ,
.;;, -
Data;;- 1
.;;1 2
CommandType;;2 =
.;;= >
StoredProcedure;;> M
;;;M N
cmd== 
.== 

Parameters== "
.==" #
AddWithValue==# /
(==/ 0
$str==0 N
,==N O'
pHisContratoconsultorioDetE==P k
.==k l%
IDContratoConsultorioCab	==l Ñ
)
==Ñ Ö
;
==Ö Ü
cmd>> 
.>> 

Parameters>> "
.>>" #
AddWithValue>># /
(>>/ 0
$str>>0 =
,>>= >'
pHisContratoconsultorioDetE>>? Z
.>>Z [
IDBuscar>>[ c
)>>c d
;>>d e
cmd?? 
.?? 

Parameters?? "
.??" #
AddWithValue??# /
(??/ 0
$str??0 8
,??8 9'
pHisContratoconsultorioDetE??: U
.??U V
Orden??V [
)??[ \
;??\ ]
cnn@@ 
.@@ 
Open@@ 
(@@ 
)@@ 
;@@ 
IDataReaderAA 
drAA  "
=AA# $
cmdAA% (
.AA( )
ExecuteReaderAA) 6
(AA6 7
)AA7 8
;AA8 9
whileBB 
(BB 
drBB 
.BB 
ReadBB "
(BB" #
)BB# $
)BB$ %
{CC '
oHisContratoconsultorioDetEDD 3
=DD4 5
LlenarEntidadDD6 C
(DDC D
drDDD F
,DDF G'
pHisContratoconsultorioDetEDDH c
)DDc d
;DDd e
oListarEE 
.EE  
AddEE  #
(EE# $'
oHisContratoconsultorioDetEEE$ ?
)EE? @
;EE@ A
}FF 
drGG 
.GG 
CloseGG 
(GG 
)GG 
;GG 
cnnHH 
.HH 
CloseHH 
(HH 
)HH 
;HH  
}II 
}JJ 
returnKK 
oListarKK 
;KK 
}LL 	
publicNN 
boolNN /
#Sp_HisContratoconsultorioDet_InsertNN 7
(NN7 8&
HisContratoconsultorioDetENN8 R'
pHisContratoconsultorioDetENNS n
)NNn o
{OO 	
tryPP 
{QQ 
usingRR 
(RR 
SqlConnectionRR $
cnnRR% (
=RR) *
newRR+ .
SqlConnectionRR/ <
(RR< =
VariablesGlobalesRR= N
.RRN O

CnnClinicaRRO Y
)RRY Z
)RRZ [
{SS 
usingTT 
(TT 

SqlCommandTT %
cmdTT& )
=TT* +
newTT, /

SqlCommandTT0 :
(TT: ;
$strTT; `
,TT` a
cnnTTb e
)TTe f
)TTf g
{UU 
cmdVV 
.VV 
CommandTypeVV '
=VV( )
SystemVV* 0
.VV0 1
DataVV1 5
.VV5 6
CommandTypeVV6 A
.VVA B
StoredProcedureVVB Q
;VVQ R
cmdXX 
.XX 

ParametersXX &
.XX& '
AddWithValueXX' 3
(XX3 4
$strXX4 R
,XXR S'
pHisContratoconsultorioDetEXXT o
.XXo p%
IDContratoConsultorioCab	XXp à
)
XXà â
;
XXâ ä
cmdYY 
.YY 

ParametersYY &
.YY& '
AddWithValueYY' 3
(YY3 4
$strYY4 E
,YYE F'
pHisContratoconsultorioDetEYYG b
.YYb c
IDCalendarioYYc o
)YYo p
;YYp q
cmdZZ 
.ZZ 

ParametersZZ &
.ZZ& '
AddWithValueZZ' 3
(ZZ3 4
$strZZ4 M
,ZZM N'
pHisContratoconsultorioDetEZZO j
.ZZj k 
IDContratoBeneficiosZZk 
)	ZZ Ä
;
ZZÄ Å
cmd[[ 
.[[ 

Parameters[[ &
.[[& '
AddWithValue[[' 3
([[3 4
$str[[4 R
,[[R S'
pHisContratoconsultorioDetE[[T o
.[[o p&
EstContratoConsultorioDet	[[p â
)
[[â ä
;
[[ä ã
cnn]] 
.]] 
Open]]  
(]]  !
)]]! "
;]]" #
int__ 
exito__ !
=__" #
cmd__$ '
.__' (
ExecuteNonQuery__( 7
(__7 8
)__8 9
;__9 :
cnn`` 
.`` 
Close`` !
(``! "
)``" #
;``# $
cmdaa 
.aa 
Disposeaa #
(aa# $
)aa$ %
;aa% &
ifbb 
(bb 
exitobb !
>=bb" $
$numbb% &
)bb& '
{cc 
returndd "
truedd# '
;dd' (
}ee 
elseff 
{gg 
returnhh "
falsehh# (
;hh( )
}ii 
}jj 
}kk 
}ll 
catchmm 
(mm 
	Exceptionmm 
emm 
)mm 
{nn 
thrownn 
enn 
=nn 
newnn 
	Exceptionnn %
(nn% &
enn& '
.nn' (
Messagenn( /
)nn/ 0
;nn0 1
}nn2 3
}oo 	
publicqq 
boolqq 5
)Sp_HisContratoconsultorioDet_UpdatexCampoqq =
(qq= >&
HisContratoconsultorioDetEqq> X'
pHisContratoconsultorioDetEqqY t
)qqt u
{rr 	
tryss 
{tt 
usinguu 
(uu 
SqlConnectionuu $
cnnuu% (
=uu) *
newuu+ .
SqlConnectionuu/ <
(uu< =
VariablesGlobalesuu= N
.uuN O

CnnClinicauuO Y
)uuY Z
)uuZ [
{vv 
usingww 
(ww 

SqlCommandww %
cmdww& )
=ww* +
newww, /

SqlCommandww0 :
(ww: ;
$strww; f
,wwf g
cnnwwh k
)wwk l
)wwl m
{xx 
cmdyy 
.yy 
CommandTypeyy '
=yy( )
Systemyy* 0
.yy0 1
Datayy1 5
.yy5 6
CommandTypeyy6 A
.yyA B
StoredProcedureyyB Q
;yyQ R
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 R
,{{R S'
pHisContratoconsultorioDetE{{T o
.{{o p%
IDContratoConsultorioCab	{{p à
)
{{à â
;
{{â ä
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 E
,||E F'
pHisContratoconsultorioDetE||G b
.||b c
IDCalendario||c o
)||o p
;||p q
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 M
,}}M N'
pHisContratoconsultorioDetE}}O j
.}}j k 
IDContratoBeneficios}}k 
)	}} Ä
;
}}Ä Å
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 B
,~~B C'
pHisContratoconsultorioDetE~~D _
.~~_ `

NuevoValor~~` j
)~~j k
;~~k l
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 <
,< ='
pHisContratoconsultorioDetE> Y
.Y Z
CampoZ _
)_ `
;` a
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 <
,
ÄÄ< =)
pHisContratoconsultorioDetE
ÄÄ> Y
.
ÄÄY Z
Orden
ÄÄZ _
)
ÄÄ_ `
;
ÄÄ` a
cnn
ÇÇ 
.
ÇÇ 
Open
ÇÇ  
(
ÇÇ  !
)
ÇÇ! "
;
ÇÇ" #
int
ÑÑ 
exito
ÑÑ !
=
ÑÑ" #
cmd
ÑÑ$ '
.
ÑÑ' (
ExecuteNonQuery
ÑÑ( 7
(
ÑÑ7 8
)
ÑÑ8 9
;
ÑÑ9 :
cnn
ÖÖ 
.
ÖÖ 
Close
ÖÖ !
(
ÖÖ! "
)
ÖÖ" #
;
ÖÖ# $
cmd
ÜÜ 
.
ÜÜ 
Dispose
ÜÜ #
(
ÜÜ# $
)
ÜÜ$ %
;
ÜÜ% &
if
áá 
(
áá 
exito
áá !
>=
áá" $
$num
áá% &
)
áá& '
{
àà 
return
àà  
true
àà! %
;
àà% &
}
àà' (
else
ââ 
{
ää 
return
ää  
false
ää! &
;
ää& '
}
ää( )
}
ãã 
}
åå 
}
çç 
catch
éé 
(
éé 
	Exception
éé 
e
éé 
)
éé 
{
èè 
throw
èè 
e
èè 
=
èè 
new
èè 
	Exception
èè %
(
èè% &
e
èè& '
.
èè' (
Message
èè( /
)
èè/ 0
;
èè0 1
}
èè2 3
}
êê 	
}
íí 
}ìì ù5
wD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ContratosAD\HisContratoconsultoriocalendarioMaeAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ContratosAD '
{ 
public 

class 1
%HisContratoconsultoriocalendarioMaeAD 6
{ 
private 0
$HisContratoconsultoriocalendarioMaeE 4
LlenarEntidad5 B
(B C
IDataReaderC N
drO Q
,Q R0
$HisContratoconsultoriocalendarioMaeE" F1
%pHisContratoconsultoriocalendarioMaeEG l
)l m
{ 	0
$HisContratoconsultoriocalendarioMaeE 01
%oHisContratoconsultoriocalendarioMaeE1 V
=W X
newY \1
$HisContratoconsultoriocalendarioMaeE	] Å
(
Å Ç
)
Ç É
;
É Ñ
switch 
( 1
%pHisContratoconsultoriocalendarioMaeE 9
.9 :
Orden: ?
)? @
{ 
case 
$num 
: 1
%oHisContratoconsultoriocalendarioMaeE 9
.9 :

HoraInicio: D
=E F
ConvertG N
.N O
ToStringO W
(W X
drX Z
[Z [
$str[ h
]h i
)i j
;j k1
%oHisContratoconsultoriocalendarioMaeE 9
.9 :
HoraFin: A
=B C
ConvertD K
.K L
ToStringL T
(T U
drU W
[W X
$strX b
]b c
)c d
;d e1
%oHisContratoconsultoriocalendarioMaeE   9
.  9 :
Dia  : =
=  > ?
Convert  @ G
.  G H
ToInt32  H O
(  O P
dr  P R
[  R S
$str  S X
]  X Y
)  Y Z
;  Z [1
%oHisContratoconsultoriocalendarioMaeE!! 9
.!!9 :
EstCalendario!!: G
=!!H I
Convert!!J Q
.!!Q R
ToString!!R Z
(!!Z [
dr!![ ]
[!!] ^
$str!!^ n
]!!n o
)!!o p
;!!p q1
%oHisContratoconsultoriocalendarioMaeE"" 9
.""9 :
IDCalendario"": F
=""G H
Convert""I P
.""P Q
ToInt32""Q X
(""X Y
dr""Y [
[""[ \
$str""\ l
]""l m
)""m n
;""n o
break## 
;## 
}$$ 
return%% 1
%oHisContratoconsultoriocalendarioMaeE%% 8
;%%8 9
}&& 	
public(( 
List(( 
<(( 0
$HisContratoconsultoriocalendarioMaeE(( 8
>((8 9;
/Sp_HisContratoconsultoriocalendarioMae_Consulta((: i
(((i j1
$HisContratoconsultoriocalendarioMaeE	((j é3
%pHisContratoconsultoriocalendarioMaeE
((è ¥
)
((¥ µ
{)) 	
List** 
<** 0
$HisContratoconsultoriocalendarioMaeE** 5
>**5 6
oListar**7 >
=**? @
new**A D
List**E I
<**I J0
$HisContratoconsultoriocalendarioMaeE**J n
>**n o
(**o p
)**p q
;**q r0
$HisContratoconsultoriocalendarioMaeE++ 01
%oHisContratoconsultoriocalendarioMaeE++1 V
=++W X
null++Y ]
;++] ^
using,, 
(,, 
SqlConnection,,  
cnn,,! $
=,,% &
new,,' *
SqlConnection,,+ 8
(,,8 9
VariablesGlobales,,9 J
.,,J K

CnnClinica,,K U
),,U V
),,V W
{-- 
using.. 
(.. 

SqlCommand.. !
cmd.." %
=..& '
new..( +

SqlCommand.., 6
(..6 7
$str..7 h
,..h i
cnn..j m
)..m n
)..n o
{// 
cmd00 
.00 
CommandType00 #
=00$ %
System00& ,
.00, -
Data00- 1
.001 2
CommandType002 =
.00= >
StoredProcedure00> M
;00M N
cmd22 
.22 

Parameters22 "
.22" #
AddWithValue22# /
(22/ 0
$str220 A
,22A B1
%pHisContratoconsultoriocalendarioMaeE22C h
.22h i
IDCalendario22i u
)22u v
;22v w
cmd33 
.33 

Parameters33 "
.33" #
AddWithValue33# /
(33/ 0
$str330 >
,33> ?1
%pHisContratoconsultoriocalendarioMaeE33@ e
.33e f

HoraInicio33f p
)33p q
;33q r
cmd44 
.44 

Parameters44 "
.44" #
AddWithValue44# /
(44/ 0
$str440 ;
,44; <1
%pHisContratoconsultoriocalendarioMaeE44= b
.44b c
HoraFin44c j
)44j k
;44k l
cmd55 
.55 

Parameters55 "
.55" #
AddWithValue55# /
(55/ 0
$str550 6
,556 71
%pHisContratoconsultoriocalendarioMaeE558 ]
.55] ^
Dia55^ a
)55a b
;55b c
cmd66 
.66 

Parameters66 "
.66" #
AddWithValue66# /
(66/ 0
$str660 A
,66A B1
%pHisContratoconsultoriocalendarioMaeE66C h
.66h i
EstCalendario66i v
)66v w
;66w x
cmd77 
.77 

Parameters77 "
.77" #
AddWithValue77# /
(77/ 0
$str770 8
,778 91
%pHisContratoconsultoriocalendarioMaeE77: _
.77_ `
Orden77` e
)77e f
;77f g
cnn88 
.88 
Open88 
(88 
)88 
;88 
IDataReader99 
dr99  "
=99# $
cmd99% (
.99( )
ExecuteReader99) 6
(996 7
)997 8
;998 9
while:: 
(:: 
dr:: 
.:: 
Read:: "
(::" #
)::# $
)::$ %
{;; 1
%oHisContratoconsultoriocalendarioMaeE<< =
=<<> ?
LlenarEntidad<<@ M
(<<M N
dr<<N P
,<<P Q1
%pHisContratoconsultoriocalendarioMaeE<<R w
)<<w x
;<<x y
oListar== 
.==  
Add==  #
(==# $1
%oHisContratoconsultoriocalendarioMaeE==$ I
)==I J
;==J K
}>> 
dr?? 
.?? 
Close?? 
(?? 
)?? 
;?? 
cnn@@ 
.@@ 
Close@@ 
(@@ 
)@@ 
;@@  
}AA 
}BB 
returnCC 
oListarCC 
;CC 
}DD 	
}EE 
}FF …Ü
mD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ContratosAD\HisContratoconsultorioCabAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ContratosAD '
{ 
public 

class '
HisContratoconsultorioCabAD ,
{ 
private &
HisContratoconsultorioCabE *
LlenarEntidad+ 8
(8 9
IDataReader9 D
drE G
,G H&
HisContratoconsultorioCabE' A'
pHisContratoconsultorioCabEB ]
)] ^
{ 	&
HisContratoconsultorioCabE &'
oHisContratoconsultorioCabE' B
=C D
newE H&
HisContratoconsultorioCabEI c
(c d
)d e
;e f
switch 
( '
pHisContratoconsultorioCabE /
./ 0
Orden0 5
)5 6
{ 
case   
$num   
:   '
oHisContratoconsultorioCabE!! /
.!!/ 0
	CodMedico!!0 9
=!!: ;
Convert!!< C
.!!C D
ToString!!D L
(!!L M
dr!!M O
[!!O P
$str!!P \
]!!\ ]
)!!] ^
;!!^ _'
oHisContratoconsultorioCabE"" /
.""/ 0
TipPago""0 7
=""8 9
Convert"": A
.""A B
ToString""B J
(""J K
dr""K M
[""M N
$str""N X
]""X Y
)""Y Z
;""Z ['
oHisContratoconsultorioCabE## /
.##/ 0
TipComprobante##0 >
=##? @
Convert##A H
.##H I
ToString##I Q
(##Q R
dr##R T
[##T U
$str##U f
]##f g
)##g h
;##h i'
oHisContratoconsultorioCabE$$ /
.$$/ 0
FacturaEmpresa$$0 >
=$$? @
Convert$$A H
.$$H I
ToString$$I Q
($$Q R
dr$$R T
[$$T U
$str$$U f
]$$f g
)$$g h
;$$h i'
oHisContratoconsultorioCabE%% /
.%%/ 0

NumFactura%%0 :
=%%; <
Convert%%= D
.%%D E
ToString%%E M
(%%M N
dr%%N P
[%%P Q
$str%%Q ^
]%%^ _
)%%_ `
;%%` a'
oHisContratoconsultorioCabE&& /
.&&/ 0
	TipMoneda&&0 9
=&&: ;
Convert&&< C
.&&C D
ToString&&D L
(&&L M
dr&&M O
[&&O P
$str&&P \
]&&\ ]
)&&] ^
;&&^ _'
oHisContratoconsultorioCabE'' /
.''/ 0
IdeSede''0 7
=''8 9
Convert'': A
.''A B
ToInt32''B I
(''I J
dr''J L
[''L M
$str''M W
]''W X
)''X Y
;''Y Z'
oHisContratoconsultorioCabE(( /
.((/ 0
IdeTorre((0 8
=((9 :
Convert((; B
.((B C
ToInt32((C J
(((J K
dr((K M
[((M N
$str((N Y
]((Y Z
)((Z [
;(([ \'
oHisContratoconsultorioCabE)) /
.))/ 0
Piso))0 4
=))5 6
Convert))7 >
.))> ?
ToInt32))? F
())F G
dr))G I
[))I J
$str))J P
]))P Q
)))Q R
;))R S'
oHisContratoconsultorioCabE** /
.**/ 0
FecInicioContrato**0 A
=**B C
Convert**D K
.**K L
ToString**L T
(**T U
dr**U W
[**W X
$str**X m
]**m n
)**n o
;**o p'
oHisContratoconsultorioCabE++ /
.++/ 0
FecFinContrato++0 >
=++? @
Convert++A H
.++H I
ToString++I Q
(++Q R
dr++R T
[++T U
$str++U g
]++g h
)++h i
;++i j'
oHisContratoconsultorioCabE,, /
.,,/ 0
DscObservaciones,,0 @
=,,A B
Convert,,C J
.,,J K
ToString,,K S
(,,S T
dr,,T V
[,,V W
$str,,W j
],,j k
),,k l
;,,l m'
oHisContratoconsultorioCabE-- /
.--/ 0
CntRentaMensual--0 ?
=--@ A
Convert--B I
.--I J
	ToDecimal--J S
(--S T
dr--T V
[--V W
$str--W j
]--j k
)--k l
;--l m'
oHisContratoconsultorioCabE.. /
.../ 0
CntTotalHoras..0 =
=..> ?
Convert..@ G
...G H
ToInt32..H O
(..O P
dr..P R
[..R S
$str..S d
]..d e
)..e f
;..f g'
oHisContratoconsultorioCabE// /
./// 0
CntPrecioxhora//0 >
=//? @
Convert//A H
.//H I
	ToDecimal//I R
(//R S
dr//S U
[//U V
$str//V g
]//g h
)//h i
;//i j'
oHisContratoconsultorioCabE00 /
.00/ 0"
EstContratoConsultorio000 F
=00G H
Convert00I P
.00P Q
ToString00Q Y
(00Y Z
dr00Z \
[00\ ]
$str00] w
]00w x
)00x y
;00y z'
oHisContratoconsultorioCabE11 /
.11/ 0
IdeUsrRegistra110 >
=11? @
Convert11A H
.11H I
ToInt3211I P
(11P Q
dr11Q S
[11S T
$str11T f
]11f g
)11g h
;11h i'
oHisContratoconsultorioCabE22 /
.22/ 0
FecRegistro220 ;
=22< =
Convert22> E
.22E F
ToString22F N
(22N O
dr22O Q
[22Q R
$str22R `
]22` a
)22a b
;22b c'
oHisContratoconsultorioCabE33 /
.33/ 0
IdeUsrActualiza330 ?
=33@ A
Convert33B I
.33I J
ToInt3233J Q
(33Q R
dr33R T
[33T U
$str33U h
]33h i
)33i j
;33j k'
oHisContratoconsultorioCabE44 /
.44/ 0
FecActualiza440 <
=44= >
Convert44? F
.44F G
ToString44G O
(44O P
dr44P R
[44R S
$str44S b
]44b c
)44c d
;44d e'
oHisContratoconsultorioCabE55 /
.55/ 0
BlbArchivoAdjunto550 A
=55B C
Convert55D K
.55K L
ToString55L T
(55T U
dr55U W
[55W X
$str55X m
]55m n
)55n o
;55o p'
oHisContratoconsultorioCabE66 /
.66/ 0
DscContacto660 ;
=66< =
Convert66> E
.66E F
ToString66F N
(66N O
dr66O Q
[66Q R
$str66R `
]66` a
)66a b
;66b c'
oHisContratoconsultorioCabE77 /
.77/ 0
TelContacto770 ;
=77< =
Convert77> E
.77E F
ToString77F N
(77N O
dr77O Q
[77Q R
$str77R `
]77` a
)77a b
;77b c'
oHisContratoconsultorioCabE88 /
.88/ 0
EmailContacto880 =
=88> ?
Convert88@ G
.88G H
ToString88H P
(88P Q
dr88Q S
[88S T
$str88T d
]88d e
)88e f
;88f g'
oHisContratoconsultorioCabE99 /
.99/ 0(
IdeHisContratoconsultorioCab990 L
=99M N
Convert99O V
.99V W
ToInt3299W ^
(99^ _
dr99_ a
[99a b
$str	99b É
]
99É Ñ
)
99Ñ Ö
;
99Ö Ü
break:: 
;:: 
case;; 
$num;; 
:;; '
oHisContratoconsultorioCabE<< /
.<</ 0(
IdeHisContratoconsultorioCab<<0 L
=<<M N
Convert<<O V
.<<V W
ToInt32<<W ^
(<<^ _
dr<<_ a
[<<a b
$str	<<b É
]
<<É Ñ
)
<<Ñ Ö
;
<<Ö Ü'
oHisContratoconsultorioCabE== /
.==/ 0
	CodMedico==0 9
===: ;
Convert==< C
.==C D
ToString==D L
(==L M
dr==M O
[==O P
$str==P \
]==\ ]
)==] ^
;==^ _'
oHisContratoconsultorioCabE>> /
.>>/ 0
NumDocIdeMedico>>0 ?
=>>@ A
Convert>>B I
.>>I J
ToString>>J R
(>>R S
dr>>S U
[>>U V
$str>>V d
]>>d e
)>>e f
;>>f g'
oHisContratoconsultorioCabE?? /
.??/ 0
	DscMedico??0 9
=??: ;
Convert??< C
.??C D
ToString??D L
(??L M
dr??M O
[??O P
$str??P X
]??X Y
)??Y Z
;??Z ['
oHisContratoconsultorioCabE@@ /
.@@/ 0
IdeSede@@0 7
=@@8 9
Convert@@: A
.@@A B
ToInt32@@B I
(@@I J
dr@@J L
[@@L M
$str@@M W
]@@W X
)@@X Y
;@@Y Z'
oHisContratoconsultorioCabEAA /
.AA/ 0
DscSedeAA0 7
=AA8 9
ConvertAA: A
.AAA B
ToStringAAB J
(AAJ K
drAAK M
[AAM N
$strAAN T
]AAT U
)AAU V
;AAV W'
oHisContratoconsultorioCabEBB /
.BB/ 0
TipPagoBB0 7
=BB8 9
ConvertBB: A
.BBA B
ToStringBBB J
(BBJ K
drBBK M
[BBM N
$strBBN X
]BBX Y
)BBY Z
;BBZ ['
oHisContratoconsultorioCabECC /
.CC/ 0

DscTipPagoCC0 :
=CC; <
ConvertCC= D
.CCD E
ToStringCCE M
(CCM N
drCCN P
[CCP Q
$strCCQ ^
]CC^ _
)CC_ `
;CC` a'
oHisContratoconsultorioCabEDD /
.DD/ 0"
EstContratoConsultorioDD0 F
=DDG H
ConvertDDI P
.DDP Q
ToStringDDQ Y
(DDY Z
drDDZ \
[DD\ ]
$strDD] w
]DDw x
)DDx y
;DDy z'
oHisContratoconsultorioCabEEE /
.EE/ 0%
DscEstContratoConsultorioEE0 I
=EEJ K
ConvertEEL S
.EES T
ToStringEET \
(EE\ ]
drEE] _
[EE_ `
$strEE` q
]EEq r
)EEr s
;EEs t'
oHisContratoconsultorioCabEFF /
.FF/ 0
RentaMensualFF0 <
=FF= >
ConvertFF? F
.FFF G
ToStringFFG O
(FFO P
drFFP R
[FFR S
$strFFS a
]FFa b
)FFb c
;FFc d'
oHisContratoconsultorioCabEGG /
.GG/ 0

DeudaTotalGG0 :
=GG; <
ConvertGG= D
.GGD E
	ToDecimalGGE N
(GGN O
drGGO Q
[GGQ R
$strGGR ^
]GG^ _
)GG_ `
;GG` a'
oHisContratoconsultorioCabEHH /
.HH/ 0$
CntComprobantePendientesHH0 H
=HHI J
ConvertHHK R
.HHR S
ToInt32HHS Z
(HHZ [
drHH[ ]
[HH] ^
$strHH^ t
]HHt u
)HHu v
;HHv w
breakII 
;II 
caseJJ 
$numJJ 
:JJ '
oHisContratoconsultorioCabEKK /
.KK/ 0(
IdeHisContratoconsultorioCabKK0 L
=KKM N
ConvertKKO V
.KKV W
ToInt32KKW ^
(KK^ _
drKK_ a
[KKa b
$str	KKb É
]
KKÉ Ñ
)
KKÑ Ö
;
KKÖ Ü'
oHisContratoconsultorioCabELL /
.LL/ 0
	CodMedicoLL0 9
=LL: ;
ConvertLL< C
.LLC D
ToStringLLD L
(LLL M
drLLM O
[LLO P
$strLLP \
]LL\ ]
)LL] ^
;LL^ _'
oHisContratoconsultorioCabEMM /
.MM/ 0
CntRentaMensualMM0 ?
=MM@ A
ConvertMMB I
.MMI J
	ToDecimalMMJ S
(MMS T
drMMT V
[MMV W
$strMMW j
]MMj k
)MMk l
;MMl m'
oHisContratoconsultorioCabENN /
.NN/ 0
	TipMonedaNN0 9
=NN: ;
ConvertNN< C
.NNC D
ToStringNND L
(NNL M
drNNM O
[NNO P
$strNNP \
]NN\ ]
)NN] ^
;NN^ _'
oHisContratoconsultorioCabEOO /
.OO/ 0
	DscMonedaOO0 9
=OO: ;
ConvertOO< C
.OOC D
ToStringOOD L
(OOL M
drOOM O
[OOO P
$strOOP \
]OO\ ]
)OO] ^
;OO^ _'
oHisContratoconsultorioCabEPP /
.PP/ 0
IdeSedePP0 7
=PP8 9
ConvertPP: A
.PPA B
ToInt32PPB I
(PPI J
drPPJ L
[PPL M
$strPPM W
]PPW X
)PPX Y
;PPY Z'
oHisContratoconsultorioCabEQQ /
.QQ/ 0
DscSedeQQ0 7
=QQ8 9
ConvertQQ: A
.QQA B
ToStringQQB J
(QQJ K
drQQK M
[QQM N
$strQQN X
]QQX Y
)QQY Z
;QQZ ['
oHisContratoconsultorioCabERR /
.RR/ 0
IdeTorreRR0 8
=RR9 :
ConvertRR; B
.RRB C
ToInt32RRC J
(RRJ K
drRRK M
[RRM N
$strRRN Y
]RRY Z
)RRZ [
;RR[ \'
oHisContratoconsultorioCabESS /
.SS/ 0
DscTorreSS0 8
=SS9 :
ConvertSS; B
.SSB C
ToStringSSC K
(SSK L
drSSL N
[SSN O
$strSSO Z
]SSZ [
)SS[ \
;SS\ ]'
oHisContratoconsultorioCabETT /
.TT/ 0
TipPagoTT0 7
=TT8 9
ConvertTT: A
.TTA B
ToStringTTB J
(TTJ K
drTTK M
[TTM N
$strTTN X
]TTX Y
)TTY Z
;TTZ ['
oHisContratoconsultorioCabEUU /
.UU/ 0

DscTipPagoUU0 :
=UU; <
ConvertUU= D
.UUD E
ToStringUUE M
(UUM N
drUUN P
[UUP Q
$strUUQ [
]UU[ \
)UU\ ]
;UU] ^'
oHisContratoconsultorioCabEVV /
.VV/ 0
TipComprobanteVV0 >
=VV? @
ConvertVVA H
.VVH I
ToStringVVI Q
(VVQ R
drVVR T
[VVT U
$strVVU g
]VVg h
)VVh i
;VVi j'
oHisContratoconsultorioCabEWW /
.WW/ 0
FecInicioContratoWW0 A
=WWB C
ConvertWWD K
.WWK L
ToStringWWL T
(WWT U
drWWU W
[WWW X
$strWWX m
]WWm n
)WWn o
;WWo p'
oHisContratoconsultorioCabEXX /
.XX/ 0
FecFinContratoXX0 >
=XX? @
ConvertXXA H
.XXH I
ToStringXXI Q
(XXQ R
drXXR T
[XXT U
$strXXU g
]XXg h
)XXh i
;XXi j'
oHisContratoconsultorioCabEYY /
.YY/ 0
CntTotalHorasYY0 =
=YY> ?
ConvertYY@ G
.YYG H
ToInt32YYH O
(YYO P
drYYP R
[YYR S
$strYYS d
]YYd e
)YYe f
;YYf g'
oHisContratoconsultorioCabEZZ /
.ZZ/ 0"
EstContratoConsultorioZZ0 F
=ZZG H
ConvertZZI P
.ZZP Q
ToStringZZQ Y
(ZZY Z
drZZZ \
[ZZ\ ]
$strZZ] w
]ZZw x
)ZZx y
;ZZy z'
oHisContratoconsultorioCabE[[ /
.[[/ 0%
DscEstContratoConsultorio[[0 I
=[[J K
Convert[[L S
.[[S T
ToString[[T \
([[\ ]
dr[[] _
[[[_ `
$str[[` ~
][[~ 
)	[[ Ä
;
[[Ä Å'
oHisContratoconsultorioCabE\\ /
.\\/ 0
DscObservaciones\\0 @
=\\A B
Convert\\C J
.\\J K
ToString\\K S
(\\S T
dr\\T V
[\\V W
$str\\W j
]\\j k
)\\k l
;\\l m'
oHisContratoconsultorioCabE]] /
.]]/ 0
DscContacto]]0 ;
=]]< =
Convert]]> E
.]]E F
ToString]]F N
(]]N O
dr]]O Q
[]]Q R
$str]]R `
]]]` a
)]]a b
;]]b c'
oHisContratoconsultorioCabE^^ /
.^^/ 0
TelContacto^^0 ;
=^^< =
Convert^^> E
.^^E F
ToString^^F N
(^^N O
dr^^O Q
[^^Q R
$str^^R `
]^^` a
)^^a b
;^^b c'
oHisContratoconsultorioCabE__ /
.__/ 0
EmailContacto__0 =
=__> ?
Convert__@ G
.__G H
ToString__H P
(__P Q
dr__Q S
[__S T
$str__T d
]__d e
)__e f
;__f g'
oHisContratoconsultorioCabE`` /
.``/ 0
CntPrecioxhora``0 >
=``? @
Convert``A H
.``H I
	ToDecimal``I R
(``R S
dr``S U
[``U V
$str``V g
]``g h
)``h i
;``i j'
oHisContratoconsultorioCabEaa /
.aa/ 0 
IdeContratoBeneficioaa0 D
=aaD E
ConvertaaF M
.aaM N
ToInt32aaN U
(aaU V
draaV X
[aaX Y
$straaY g
]aag h
)aah i
;aai j'
oHisContratoconsultorioCabEbb /
.bb/ 0 
DscContratoBeneficiobb0 D
=bbE F
ConvertbbG N
.bbN O
ToStringbbO W
(bbW X
drbbX Z
[bbZ [
$strbb[ i
]bbi j
)bbj k
;bbk l
breakcc 
;cc 
casedd 
$numdd 
:dd '
oHisContratoconsultorioCabEee /
.ee/ 0(
IdeHisContratoconsultorioCabee0 L
=eeM N
ConverteeO V
.eeV W
ToInt32eeW ^
(ee^ _
dree_ a
[eea b
$str	eeb É
]
eeÉ Ñ
)
eeÑ Ö
;
eeÖ Ü
breakff 
;ff 
casegg 
$numgg 
:gg '
oHisContratoconsultorioCabEhh /
.hh/ 0(
IdeHisContratoconsultorioCabhh0 L
=hhM N
ConverthhO V
.hhV W
ToInt32hhW ^
(hh^ _
drhh_ a
[hha b
$str	hhb É
]
hhÉ Ñ
)
hhÑ Ö
;
hhÖ Ü'
oHisContratoconsultorioCabEii /
.ii/ 0
IdeAdendaCabii0 <
=ii= >
Convertii? F
.iiF G
ToInt32iiG N
(iiN O
driiO Q
[iiQ R
$striiR b
]iib c
)iic d
;iid e'
oHisContratoconsultorioCabEjj /
.jj/ 0
IdeSedejj0 7
=jj8 9
Convertjj: A
.jjA B
ToInt32jjB I
(jjI J
drjjJ L
[jjL M
$strjjM W
]jjW X
)jjX Y
;jjY Z'
oHisContratoconsultorioCabEkk /
.kk/ 0
CntRentaMensualkk0 ?
=kk@ A
ConvertkkB I
.kkI J
	ToDecimalkkJ S
(kkS T
drkkT V
[kkV W
$strkkW j
]kkj k
)kkk l
;kkl m'
oHisContratoconsultorioCabEll /
.ll/ 0
TipPagoll0 7
=ll8 9
Convertll: A
.llA B
ToStringllB J
(llJ K
drllK M
[llM N
$strllN X
]llX Y
)llY Z
;llZ [
breakmm 
;mm 
casenn 
$numnn 
:nn '
oHisContratoconsultorioCabEoo /
.oo/ 0(
IdeHisContratoconsultorioCaboo0 L
=ooM N
ConvertooO V
.ooV W
ToInt32ooW ^
(oo^ _
droo_ a
[ooa b
$str	oob É
]
ooÉ Ñ
)
ooÑ Ö
;
ooÖ Ü'
oHisContratoconsultorioCabEpp /
.pp/ 0
BlbArchivoAdjuntopp0 A
=ppB C
ConvertppD K
.ppK L
ToStringppL T
(ppT U
drppU W
[ppW X
$strppX m
]ppm n
)ppn o
;ppo p
breakqq 
;qq 
caserr 
$numrr 
:rr '
oHisContratoconsultorioCabEss /
.ss/ 0(
IdeHisContratoconsultorioCabss0 L
=ssM N
ConvertssO V
.ssV W
ToInt32ssW ^
(ss^ _
drss_ a
[ssa b
$str	ssb É
]
ssÉ Ñ
)
ssÑ Ö
;
ssÖ Ü'
oHisContratoconsultorioCabEtt /
.tt/ 0
IdeAdendaCabtt0 <
=tt= >
Converttt? F
.ttF G
ToInt32ttG N
(ttN O
drttO Q
[ttQ R
$strttR b
]ttb c
)ttc d
;ttd e'
oHisContratoconsultorioCabEuu /
.uu/ 0"
ComprobantesPendientesuu0 F
=uuG H
ConvertuuI P
.uuP Q
ToInt32uuQ X
(uuX Y
druuY [
[uu[ \
$struu\ t
]uut u
)uuu v
;uuv w
breakvv 
;vv 
caseww 
$numww 
:ww '
oHisContratoconsultorioCabExx /
.xx/ 0(
IdeHisContratoconsultorioCabxx0 L
=xxM N
ConvertxxO V
.xxV W
ToInt32xxW ^
(xx^ _
drxx_ a
[xxa b
$str	xxb É
]
xxÉ Ñ
)
xxÑ Ö
;
xxÖ Ü'
oHisContratoconsultorioCabEyy /
.yy/ 0 
IdeContratoBeneficioyy0 D
=yyE F
ConvertyyG N
.yyN O
ToInt32yyO V
(yyV W
dryyW Y
[yyY Z
$stryyZ r
]yyr s
)yys t
;yyt u'
oHisContratoconsultorioCabEzz /
.zz/ 0
CntDescuentozz0 <
=zz= >
Convertzz? F
.zzF G
ToInt32zzG N
(zzN O
drzzO Q
[zzQ R
$strzzR a
]zza b
)zzb c
;zzc d'
oHisContratoconsultorioCabE{{ /
.{{/ 0
CntPrecioxhora{{0 >
={{? @
Convert{{A H
.{{H I
ToInt32{{I P
({{P Q
dr{{Q S
[{{S T
$str{{T a
]{{a b
){{b c
;{{c d
break|| 
;|| 
}}} 
return~~ '
oHisContratoconsultorioCabE~~ .
;~~. /
} 	
public
ÅÅ 
List
ÅÅ 
<
ÅÅ (
HisContratoconsultorioCabE
ÅÅ .
>
ÅÅ. /3
%Sp_HisContratoconsultorioCab_Consulta
ÅÅ0 U
(
ÅÅU V(
HisContratoconsultorioCabE
ÅÅV p*
pHisContratoconsultorioCabEÅÅq å
)ÅÅå ç
{
ÇÇ 	
try
ÉÉ 
{
ÑÑ 
List
ÖÖ 
<
ÖÖ (
HisContratoconsultorioCabE
ÖÖ /
>
ÖÖ/ 0
oListar
ÖÖ1 8
=
ÖÖ9 :
new
ÖÖ; >
List
ÖÖ? C
<
ÖÖC D(
HisContratoconsultorioCabE
ÖÖD ^
>
ÖÖ^ _
(
ÖÖ_ `
)
ÖÖ` a
;
ÖÖa b(
HisContratoconsultorioCabE
ÜÜ *)
oHisContratoconsultorioCabE
ÜÜ+ F
=
ÜÜG H
null
ÜÜI M
;
ÜÜM N
using
áá 
(
áá 
SqlConnection
áá $
cnn
áá% (
=
áá) *
new
áá+ .
SqlConnection
áá/ <
(
áá< =
VariablesGlobales
áá= N
.
ááN O

CnnClinica
ááO Y
)
ááY Z
)
ááZ [
{
àà 
using
ââ 
(
ââ 

SqlCommand
ââ %
cmd
ââ& )
=
ââ* +
new
ââ, /

SqlCommand
ââ0 :
(
ââ: ;
$str
ââ; b
,
ââb c
cnn
ââd g
)
ââg h
)
ââh i
{
ää 
cmd
ãã 
.
ãã 
CommandType
ãã '
=
ãã( )
System
ãã* 0
.
ãã0 1
Data
ãã1 5
.
ãã5 6
CommandType
ãã6 A
.
ããA B
StoredProcedure
ããB Q
;
ããQ R
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 @
,
çç@ A)
pHisContratoconsultorioCabE
ççB ]
.
çç] ^
IDBuscar
çç^ f
)
ççf g
;
ççg h
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 <
,
éé< =)
pHisContratoconsultorioCabE
éé> Y
.
ééY Z
Buscar
ééZ `
)
éé` a
;
ééa b
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 @
,
èè@ A)
pHisContratoconsultorioCabE
èèB ]
.
èè] ^
FecInicioContrato
èè^ o
)
èèo p
;
èèp q
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 =
,
êê= >)
pHisContratoconsultorioCabE
êê? Z
.
êêZ [
FecFinContrato
êê[ i
)
êêi j
;
êêj k
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 C
,
ëëC D)
pHisContratoconsultorioCabE
ëëE `
.
ëë` a
NumeroLineas
ëëa m
)
ëëm n
;
ëën o
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 <
,
íí< =)
pHisContratoconsultorioCabE
íí> Y
.
ííY Z
Orden
ííZ _
)
íí_ `
;
íí` a
cnn
ìì 
.
ìì 
Open
ìì  
(
ìì  !
)
ìì! "
;
ìì" #
IDataReader
îî #
dr
îî$ &
=
îî' (
cmd
îî) ,
.
îî, -
ExecuteReader
îî- :
(
îî: ;
)
îî; <
;
îî< =
while
ïï 
(
ïï 
dr
ïï !
.
ïï! "
Read
ïï" &
(
ïï& '
)
ïï' (
)
ïï( )
{
ññ )
oHisContratoconsultorioCabE
óó 7
=
óó8 9
LlenarEntidad
óó: G
(
óóG H
dr
óóH J
,
óóJ K)
pHisContratoconsultorioCabE
óóL g
)
óóg h
;
óóh i
oListar
òò #
.
òò# $
Add
òò$ '
(
òò' ()
oHisContratoconsultorioCabE
òò( C
)
òòC D
;
òòD E
}
ôô 
dr
öö 
.
öö 
Close
öö  
(
öö  !
)
öö! "
;
öö" #
cnn
õõ 
.
õõ 
Close
õõ !
(
õõ! "
)
õõ" #
;
õõ# $
}
úú 
}
ùù 
return
ûû 
oListar
ûû 
;
ûû 
}
üü 
catch
†† 
(
†† 
	Exception
†† 
e
†† 
)
†† 
{
°° 
throw
°° 
e
°° 
=
°° 
new
°° 
	Exception
°° %
(
°°% &
e
°°& '
.
°°' (
Message
°°( /
)
°°/ 0
;
°°0 1
}
°°2 3
}
¢¢ 	
public
•• 
bool
•• 1
#Sp_HisContratoconsultorioCab_Insert
•• 7
(
••7 8(
HisContratoconsultorioCabE
••8 R)
pHisContratoconsultorioCabE
••S n
)
••n o
{
¶¶ 	
try
ßß 
{
®® 
using
©© 
(
©© 
SqlConnection
©© $
cnn
©©% (
=
©©) *
new
©©+ .
SqlConnection
©©/ <
(
©©< =
VariablesGlobales
©©= N
.
©©N O

CnnClinica
©©O Y
)
©©Y Z
)
©©Z [
{
™™ 
using
´´ 
(
´´ 

SqlCommand
´´ %
cmd
´´& )
=
´´* +
new
´´, /

SqlCommand
´´0 :
(
´´: ;
$str
´´; `
,
´´` a
cnn
´´b e
)
´´e f
)
´´f g
{
¨¨ 
cmd
ÆÆ 
.
ÆÆ 
CommandType
ÆÆ '
=
ÆÆ( )
System
ÆÆ* 0
.
ÆÆ0 1
Data
ÆÆ1 5
.
ÆÆ5 6
CommandType
ÆÆ6 A
.
ÆÆA B
StoredProcedure
ÆÆB Q
;
ÆÆQ R
cmd
∞∞ 
.
∞∞ 

Parameters
∞∞ &
.
∞∞& '
AddWithValue
∞∞' 3
(
∞∞3 4
$str
∞∞4 A
,
∞∞A B)
pHisContratoconsultorioCabE
∞∞C ^
.
∞∞^ _
	CodMedico
∞∞_ h
)
∞∞h i
;
∞∞i j
cmd
±± 
.
±± 

Parameters
±± &
.
±±& '
AddWithValue
±±' 3
(
±±3 4
$str
±±4 ?
,
±±? @)
pHisContratoconsultorioCabE
±±A \
.
±±\ ]
TipPago
±±] d
)
±±d e
;
±±e f
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ &
.
≤≤& '
AddWithValue
≤≤' 3
(
≤≤3 4
$str
≤≤4 F
,
≤≤F G)
pHisContratoconsultorioCabE
≤≤H c
.
≤≤c d
TipComprobante
≤≤d r
)
≤≤r s
;
≤≤s t
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ &
.
≥≥& '
AddWithValue
≥≥' 3
(
≥≥3 4
$str
≥≥4 F
,
≥≥F G)
pHisContratoconsultorioCabE
≥≥H c
.
≥≥c d
FacturaEmpresa
≥≥d r
)
≥≥r s
;
≥≥s t
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ &
.
¥¥& '
AddWithValue
¥¥' 3
(
¥¥3 4
$str
¥¥4 B
,
¥¥B C)
pHisContratoconsultorioCabE
¥¥D _
.
¥¥_ `

NumFactura
¥¥` j
)
¥¥j k
;
¥¥k l
cmd
µµ 
.
µµ 

Parameters
µµ &
.
µµ& '
AddWithValue
µµ' 3
(
µµ3 4
$str
µµ4 A
,
µµA B)
pHisContratoconsultorioCabE
µµC ^
.
µµ^ _
	TipMoneda
µµ_ h
)
µµh i
;
µµi j
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ &
.
∂∂& '
AddWithValue
∂∂' 3
(
∂∂3 4
$str
∂∂4 ?
,
∂∂? @)
pHisContratoconsultorioCabE
∂∂A \
.
∂∂\ ]
IdeSede
∂∂] d
)
∂∂d e
;
∂∂e f
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ &
.
∑∑& '
AddWithValue
∑∑' 3
(
∑∑3 4
$str
∑∑4 @
,
∑∑@ A)
pHisContratoconsultorioCabE
∑∑B ]
.
∑∑] ^
IdeTorre
∑∑^ f
)
∑∑f g
;
∑∑g h
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ &
.
∏∏& '
AddWithValue
∏∏' 3
(
∏∏3 4
$str
∏∏4 ;
,
∏∏; <)
pHisContratoconsultorioCabE
∏∏= X
.
∏∏X Y
Piso
∏∏Y ]
)
∏∏] ^
;
∏∏^ _
cmd
ππ 
.
ππ 

Parameters
ππ &
.
ππ& '
AddWithValue
ππ' 3
(
ππ3 4
$str
ππ4 J
,
ππJ K)
pHisContratoconsultorioCabE
ππL g
.
ππg h
FecInicioContrato
ππh y
)
ππy z
;
ππz {
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ &
.
∫∫& '
AddWithValue
∫∫' 3
(
∫∫3 4
$str
∫∫4 G
,
∫∫G H)
pHisContratoconsultorioCabE
∫∫I d
.
∫∫d e
FecFinContrato
∫∫e s
)
∫∫s t
;
∫∫t u
cmd
ªª 
.
ªª 

Parameters
ªª &
.
ªª& '
AddWithValue
ªª' 3
(
ªª3 4
$str
ªª4 H
,
ªªH I)
pHisContratoconsultorioCabE
ªªJ e
.
ªªe f
DscObservaciones
ªªf v
)
ªªv w
;
ªªw x
cmd
ºº 
.
ºº 

Parameters
ºº &
.
ºº& '
AddWithValue
ºº' 3
(
ºº3 4
$str
ºº4 H
,
ººH I)
pHisContratoconsultorioCabE
ººJ e
.
ººe f
CntRentaMensual
ººf u
)
ººu v
;
ººv w
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ &
.
ΩΩ& '
AddWithValue
ΩΩ' 3
(
ΩΩ3 4
$str
ΩΩ4 F
,
ΩΩF G)
pHisContratoconsultorioCabE
ΩΩH c
.
ΩΩc d
CntTotalHoras
ΩΩd q
)
ΩΩq r
;
ΩΩr s
cmd
ææ 
.
ææ 

Parameters
ææ &
.
ææ& '
AddWithValue
ææ' 3
(
ææ3 4
$str
ææ4 F
,
ææF G)
pHisContratoconsultorioCabE
ææH c
.
ææc d
CntPrecioxhora
ææd r
)
æær s
;
ææs t
cmd
øø 
.
øø 

Parameters
øø &
.
øø& '
AddWithValue
øø' 3
(
øø3 4
$str
øø4 O
,
øøO P)
pHisContratoconsultorioCabE
øøQ l
.
øøl m%
EstContratoConsultorioøøm É
)øøÉ Ñ
;øøÑ Ö
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
.
¿¿& '
AddWithValue
¿¿' 3
(
¿¿3 4
$str
¿¿4 G
,
¿¿G H)
pHisContratoconsultorioCabE
¿¿I d
.
¿¿d e
IdeUsrRegistra
¿¿e s
)
¿¿s t
;
¿¿t u
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 C
,
¡¡C D)
pHisContratoconsultorioCabE
¡¡E `
.
¡¡` a
FecRegistro
¡¡a l
)
¡¡l m
;
¡¡m n
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ &
.
¬¬& '
AddWithValue
¬¬' 3
(
¬¬3 4
$str
¬¬4 H
,
¬¬H I)
pHisContratoconsultorioCabE
¬¬J e
.
¬¬e f
IdeUsrActualiza
¬¬f u
)
¬¬u v
;
¬¬v w
cmd
√√ 
.
√√ 

Parameters
√√ &
.
√√& '
AddWithValue
√√' 3
(
√√3 4
$str
√√4 D
,
√√D E)
pHisContratoconsultorioCabE
√√F a
.
√√a b
FecActualiza
√√b n
)
√√n o
;
√√o p
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ &
.
ƒƒ& '
AddWithValue
ƒƒ' 3
(
ƒƒ3 4
$str
ƒƒ4 J
,
ƒƒJ K)
pHisContratoconsultorioCabE
ƒƒL g
.
ƒƒg h
BlbArchivoAdjunto
ƒƒh y
)
ƒƒy z
;
ƒƒz {
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ &
.
≈≈& '
AddWithValue
≈≈' 3
(
≈≈3 4
$str
≈≈4 C
,
≈≈C D)
pHisContratoconsultorioCabE
≈≈E `
.
≈≈` a
DscContacto
≈≈a l
)
≈≈l m
;
≈≈m n
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ &
.
∆∆& '
AddWithValue
∆∆' 3
(
∆∆3 4
$str
∆∆4 C
,
∆∆C D)
pHisContratoconsultorioCabE
∆∆E `
.
∆∆` a
TelContacto
∆∆a l
)
∆∆l m
;
∆∆m n
cmd
«« 
.
«« 

Parameters
«« &
.
««& '
AddWithValue
««' 3
(
««3 4
$str
««4 E
,
««E F)
pHisContratoconsultorioCabE
««G b
.
««b c
EmailContacto
««c p
)
««p q
;
««q r
cmd
»» 
.
»» 

Parameters
»» &
.
»»& '
Add
»»' *
(
»»* +
VariablesGlobales
»»+ <
.
»»< =
ParametroSql
»»= I
(
»»I J
$str
»»J l
,
»»l m!
ParameterDirection»»n Ä
.»»Ä Å
InputOutput»»Å å
,»»å ç
	SqlDbType»»é ó
.»»ó ò
Int»»ò õ
,»»õ ú
$num»»ù û
,»»û ü+
pHisContratoconsultorioCabE»»† ª
.»»ª º,
IdeHisContratoconsultorioCab»»º ÿ
.»»ÿ Ÿ
ToString»»Ÿ ·
(»»· ‚
)»»‚ „
)»»„ ‰
)»»‰ Â
;»»Â Ê
cnn
   
.
   
Open
    
(
    !
)
  ! "
;
  " #
cmd
ÃÃ 
.
ÃÃ 
ExecuteNonQuery
ÃÃ +
(
ÃÃ+ ,
)
ÃÃ, -
;
ÃÃ- .
int
ÕÕ 
exito
ÕÕ !
=
ÕÕ" #
Convert
ÕÕ$ +
.
ÕÕ+ ,
ToInt32
ÕÕ, 3
(
ÕÕ3 4
cmd
ÕÕ4 7
.
ÕÕ7 8

Parameters
ÕÕ8 B
[
ÕÕB C
$str
ÕÕC e
]
ÕÕe f
.
ÕÕf g
Value
ÕÕg l
)
ÕÕl m
;
ÕÕm n
cnn
ŒŒ 
.
ŒŒ 
Close
ŒŒ !
(
ŒŒ! "
)
ŒŒ" #
;
ŒŒ# $
cmd
œœ 
.
œœ 
Dispose
œœ #
(
œœ# $
)
œœ$ %
;
œœ% &
if
–– 
(
–– 
exito
–– !
>=
––" $
$num
––% &
)
––& '
{
—— )
pHisContratoconsultorioCabE
““ 7
.
““7 8*
IdeHisContratoconsultorioCab
““8 T
=
““U V
exito
““W \
;
““\ ]
return
”” "
true
””# '
;
””' (
}
‘‘ 
else
’’ 
{
÷÷ 
return
÷÷  
false
÷÷! &
;
÷÷& '
}
÷÷( )
}
◊◊ 
}
ÿÿ 
}
ŸŸ 
catch
⁄⁄ 
(
⁄⁄ 
	Exception
⁄⁄ 
e
⁄⁄ 
)
⁄⁄ 
{
€€ 
throw
€€ 
e
€€ 
=
€€ 
new
€€ 
	Exception
€€ %
(
€€% &
e
€€& '
.
€€' (
Message
€€( /
)
€€/ 0
;
€€0 1
}
€€2 3
}
‹‹ 	
public
ﬂﬂ 
bool
ﬂﬂ 1
#Sp_HisContratoconsultorioCab_Update
ﬂﬂ 7
(
ﬂﬂ7 8(
HisContratoconsultorioCabE
ﬂﬂ8 R)
pHisContratoconsultorioCabE
ﬂﬂS n
)
ﬂﬂn o
{
‡‡ 	
try
·· 
{
‚‚ 
using
„„ 
(
„„ 
SqlConnection
„„ $
cnn
„„% (
=
„„) *
new
„„+ .
SqlConnection
„„/ <
(
„„< =
VariablesGlobales
„„= N
.
„„N O

CnnClinica
„„O Y
)
„„Y Z
)
„„Z [
{
‰‰ 
using
ÂÂ 
(
ÂÂ 

SqlCommand
ÂÂ %
cmd
ÂÂ& )
=
ÂÂ* +
new
ÂÂ, /

SqlCommand
ÂÂ0 :
(
ÂÂ: ;
$str
ÂÂ; `
,
ÂÂ` a
cnn
ÂÂb e
)
ÂÂe f
)
ÂÂf g
{
ÊÊ 
cmd
ÁÁ 
.
ÁÁ 
CommandType
ÁÁ '
=
ÁÁ( )
System
ÁÁ* 0
.
ÁÁ0 1
Data
ÁÁ1 5
.
ÁÁ5 6
CommandType
ÁÁ6 A
.
ÁÁA B
StoredProcedure
ÁÁB Q
;
ÁÁQ R
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ &
.
ÈÈ& '
AddWithValue
ÈÈ' 3
(
ÈÈ3 4
$str
ÈÈ4 A
,
ÈÈA B)
pHisContratoconsultorioCabE
ÈÈC ^
.
ÈÈ^ _
	CodMedico
ÈÈ_ h
)
ÈÈh i
;
ÈÈi j
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ &
.
ÍÍ& '
AddWithValue
ÍÍ' 3
(
ÍÍ3 4
$str
ÍÍ4 ?
,
ÍÍ? @)
pHisContratoconsultorioCabE
ÍÍA \
.
ÍÍ\ ]
TipPago
ÍÍ] d
)
ÍÍd e
;
ÍÍe f
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ &
.
ÎÎ& '
AddWithValue
ÎÎ' 3
(
ÎÎ3 4
$str
ÎÎ4 F
,
ÎÎF G)
pHisContratoconsultorioCabE
ÎÎH c
.
ÎÎc d
TipComprobante
ÎÎd r
)
ÎÎr s
;
ÎÎs t
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ &
.
ÏÏ& '
AddWithValue
ÏÏ' 3
(
ÏÏ3 4
$str
ÏÏ4 F
,
ÏÏF G)
pHisContratoconsultorioCabE
ÏÏH c
.
ÏÏc d
FacturaEmpresa
ÏÏd r
)
ÏÏr s
;
ÏÏs t
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ &
.
ÌÌ& '
AddWithValue
ÌÌ' 3
(
ÌÌ3 4
$str
ÌÌ4 B
,
ÌÌB C)
pHisContratoconsultorioCabE
ÌÌD _
.
ÌÌ_ `

NumFactura
ÌÌ` j
)
ÌÌj k
;
ÌÌk l
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ &
.
ÓÓ& '
AddWithValue
ÓÓ' 3
(
ÓÓ3 4
$str
ÓÓ4 A
,
ÓÓA B)
pHisContratoconsultorioCabE
ÓÓC ^
.
ÓÓ^ _
	TipMoneda
ÓÓ_ h
)
ÓÓh i
;
ÓÓi j
cmd
ÔÔ 
.
ÔÔ 

Parameters
ÔÔ &
.
ÔÔ& '
AddWithValue
ÔÔ' 3
(
ÔÔ3 4
$str
ÔÔ4 ?
,
ÔÔ? @)
pHisContratoconsultorioCabE
ÔÔA \
.
ÔÔ\ ]
IdeSede
ÔÔ] d
)
ÔÔd e
;
ÔÔe f
cmd
 
.
 

Parameters
 &
.
& '
AddWithValue
' 3
(
3 4
$str
4 @
,
@ A)
pHisContratoconsultorioCabE
B ]
.
] ^
IdeTorre
^ f
)
f g
;
g h
cmd
ÒÒ 
.
ÒÒ 

Parameters
ÒÒ &
.
ÒÒ& '
AddWithValue
ÒÒ' 3
(
ÒÒ3 4
$str
ÒÒ4 ;
,
ÒÒ; <)
pHisContratoconsultorioCabE
ÒÒ= X
.
ÒÒX Y
Piso
ÒÒY ]
)
ÒÒ] ^
;
ÒÒ^ _
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ &
.
ÚÚ& '
AddWithValue
ÚÚ' 3
(
ÚÚ3 4
$str
ÚÚ4 J
,
ÚÚJ K)
pHisContratoconsultorioCabE
ÚÚL g
.
ÚÚg h
FecInicioContrato
ÚÚh y
)
ÚÚy z
;
ÚÚz {
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ &
.
ÛÛ& '
AddWithValue
ÛÛ' 3
(
ÛÛ3 4
$str
ÛÛ4 G
,
ÛÛG H)
pHisContratoconsultorioCabE
ÛÛI d
.
ÛÛd e
FecFinContrato
ÛÛe s
)
ÛÛs t
;
ÛÛt u
cmd
ÙÙ 
.
ÙÙ 

Parameters
ÙÙ &
.
ÙÙ& '
AddWithValue
ÙÙ' 3
(
ÙÙ3 4
$str
ÙÙ4 H
,
ÙÙH I)
pHisContratoconsultorioCabE
ÙÙJ e
.
ÙÙe f
DscObservaciones
ÙÙf v
)
ÙÙv w
;
ÙÙw x
cmd
ıı 
.
ıı 

Parameters
ıı &
.
ıı& '
AddWithValue
ıı' 3
(
ıı3 4
$str
ıı4 H
,
ııH I)
pHisContratoconsultorioCabE
ııJ e
.
ııe f
CntRentaMensual
ııf u
)
ııu v
;
ııv w
cmd
ˆˆ 
.
ˆˆ 

Parameters
ˆˆ &
.
ˆˆ& '
AddWithValue
ˆˆ' 3
(
ˆˆ3 4
$str
ˆˆ4 F
,
ˆˆF G)
pHisContratoconsultorioCabE
ˆˆH c
.
ˆˆc d
CntTotalHoras
ˆˆd q
)
ˆˆq r
;
ˆˆr s
cmd
˜˜ 
.
˜˜ 

Parameters
˜˜ &
.
˜˜& '
AddWithValue
˜˜' 3
(
˜˜3 4
$str
˜˜4 F
,
˜˜F G)
pHisContratoconsultorioCabE
˜˜H c
.
˜˜c d
CntPrecioxhora
˜˜d r
)
˜˜r s
;
˜˜s t
cmd
¯¯ 
.
¯¯ 

Parameters
¯¯ &
.
¯¯& '
AddWithValue
¯¯' 3
(
¯¯3 4
$str
¯¯4 O
,
¯¯O P)
pHisContratoconsultorioCabE
¯¯Q l
.
¯¯l m%
EstContratoConsultorio¯¯m É
)¯¯É Ñ
;¯¯Ñ Ö
cmd
˘˘ 
.
˘˘ 

Parameters
˘˘ &
.
˘˘& '
AddWithValue
˘˘' 3
(
˘˘3 4
$str
˘˘4 G
,
˘˘G H)
pHisContratoconsultorioCabE
˘˘I d
.
˘˘d e
IdeUsrRegistra
˘˘e s
)
˘˘s t
;
˘˘t u
cmd
˙˙ 
.
˙˙ 

Parameters
˙˙ &
.
˙˙& '
AddWithValue
˙˙' 3
(
˙˙3 4
$str
˙˙4 C
,
˙˙C D)
pHisContratoconsultorioCabE
˙˙E `
.
˙˙` a
FecRegistro
˙˙a l
)
˙˙l m
;
˙˙m n
cmd
˚˚ 
.
˚˚ 

Parameters
˚˚ &
.
˚˚& '
AddWithValue
˚˚' 3
(
˚˚3 4
$str
˚˚4 H
,
˚˚H I)
pHisContratoconsultorioCabE
˚˚J e
.
˚˚e f
IdeUsrActualiza
˚˚f u
)
˚˚u v
;
˚˚v w
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ &
.
¸¸& '
AddWithValue
¸¸' 3
(
¸¸3 4
$str
¸¸4 D
,
¸¸D E)
pHisContratoconsultorioCabE
¸¸F a
.
¸¸a b
FecActualiza
¸¸b n
)
¸¸n o
;
¸¸o p
cmd
˝˝ 
.
˝˝ 

Parameters
˝˝ &
.
˝˝& '
AddWithValue
˝˝' 3
(
˝˝3 4
$str
˝˝4 J
,
˝˝J K)
pHisContratoconsultorioCabE
˝˝L g
.
˝˝g h
BlbArchivoAdjunto
˝˝h y
)
˝˝y z
;
˝˝z {
cmd
˛˛ 
.
˛˛ 

Parameters
˛˛ &
.
˛˛& '
AddWithValue
˛˛' 3
(
˛˛3 4
$str
˛˛4 C
,
˛˛C D)
pHisContratoconsultorioCabE
˛˛E `
.
˛˛` a
DscContacto
˛˛a l
)
˛˛l m
;
˛˛m n
cmd
ˇˇ 
.
ˇˇ 

Parameters
ˇˇ &
.
ˇˇ& '
AddWithValue
ˇˇ' 3
(
ˇˇ3 4
$str
ˇˇ4 C
,
ˇˇC D)
pHisContratoconsultorioCabE
ˇˇE `
.
ˇˇ` a
TelContacto
ˇˇa l
)
ˇˇl m
;
ˇˇm n
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 E
,
ÄÄE F)
pHisContratoconsultorioCabE
ÄÄG b
.
ÄÄb c
EmailContacto
ÄÄc p
)
ÄÄp q
;
ÄÄq r
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 V
,
ÅÅV W)
pHisContratoconsultorioCabE
ÅÅX s
.
ÅÅs t+
IdeHisContratoconsultorioCabÅÅt ê
)ÅÅê ë
;ÅÅë í
cnn
ÉÉ 
.
ÉÉ 
Open
ÉÉ  
(
ÉÉ  !
)
ÉÉ! "
;
ÉÉ" #
int
ÖÖ 
exito
ÖÖ !
=
ÖÖ" #
cmd
ÖÖ$ '
.
ÖÖ' (
ExecuteNonQuery
ÖÖ( 7
(
ÖÖ7 8
)
ÖÖ8 9
;
ÖÖ9 :
cnn
ÜÜ 
.
ÜÜ 
Close
ÜÜ !
(
ÜÜ! "
)
ÜÜ" #
;
ÜÜ# $
cmd
áá 
.
áá 
Dispose
áá #
(
áá# $
)
áá$ %
;
áá% &
if
ââ 
(
ââ 
exito
ââ !
>=
ââ" $
$num
ââ% &
)
ââ& '
{
ää 
return
ää  
true
ää! %
;
ää% &
}
ää' (
else
ãã 
{
åå 
return
åå  
false
åå! &
;
åå& '
}
åå( )
}
çç 
}
éé 
}
èè 
catch
êê 
(
êê 
	Exception
êê 
e
êê 
)
êê 
{
ëë 
throw
ëë 
e
ëë 
=
ëë 
new
ëë 
	Exception
ëë %
(
ëë% &
e
ëë& '
.
ëë' (
Message
ëë( /
)
ëë/ 0
;
ëë0 1
}
ëë2 3
}
íí 	
public
îî 
bool
îî 7
)Sp_HisContratoconsultorioCab_UpdatexCampo
îî =
(
îî= >(
HisContratoconsultorioCabE
îî> X)
pHisContratoconsultorioCabE
îîY t
)
îît u
{
ïï 	
try
ññ 
{
óó 
using
òò 
(
òò 
SqlConnection
òò $
cnn
òò% (
=
òò) *
new
òò+ .
SqlConnection
òò/ <
(
òò< =
VariablesGlobales
òò= N
.
òòN O

CnnClinica
òòO Y
)
òòY Z
)
òòZ [
{
ôô 
using
öö 
(
öö 

SqlCommand
öö %
cmd
öö& )
=
öö* +
new
öö, /

SqlCommand
öö0 :
(
öö: ;
$str
öö; f
,
ööf g
cnn
ööh k
)
öök l
)
ööl m
{
õõ 
cmd
úú 
.
úú 
CommandType
úú '
=
úú( )
System
úú* 0
.
úú0 1
Data
úú1 5
.
úú5 6
CommandType
úú6 A
.
úúA B
StoredProcedure
úúB Q
;
úúQ R
cmd
ûû 
.
ûû 

Parameters
ûû &
.
ûû& '
AddWithValue
ûû' 3
(
ûû3 4
$str
ûû4 V
,
ûûV W)
pHisContratoconsultorioCabE
ûûX s
.
ûûs t+
IdeHisContratoconsultorioCabûût ê
)ûûê ë
;ûûë í
cmd
üü 
.
üü 

Parameters
üü &
.
üü& '
AddWithValue
üü' 3
(
üü3 4
$str
üü4 B
,
üüB C)
pHisContratoconsultorioCabE
üüD _
.
üü_ `

NuevoValor
üü` j
)
üüj k
;
üük l
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
AddWithValue
††' 3
(
††3 4
$str
††4 <
,
††< =)
pHisContratoconsultorioCabE
††> Y
.
††Y Z
Campo
††Z _
)
††_ `
;
††` a
cnn
¢¢ 
.
¢¢ 
Open
¢¢  
(
¢¢  !
)
¢¢! "
;
¢¢" #
int
§§ 
exito
§§ !
=
§§" #
cmd
§§$ '
.
§§' (
ExecuteNonQuery
§§( 7
(
§§7 8
)
§§8 9
;
§§9 :
cnn
•• 
.
•• 
Close
•• !
(
••! "
)
••" #
;
••# $
cmd
¶¶ 
.
¶¶ 
Dispose
¶¶ #
(
¶¶# $
)
¶¶$ %
;
¶¶% &
if
ßß 
(
ßß 
exito
ßß !
>=
ßß" $
$num
ßß% &
)
ßß& '
{
®® 
return
®®  
true
®®! %
;
®®% &
}
®®' (
else
©© 
{
™™ 
return
™™  
false
™™! &
;
™™& '
}
™™( )
}
´´ 
}
¨¨ 
}
≠≠ 
catch
ÆÆ 
(
ÆÆ 
	Exception
ÆÆ 
e
ÆÆ 
)
ÆÆ 
{
ØØ 
throw
ØØ 
e
ØØ 
=
ØØ 
new
ØØ 
	Exception
ØØ %
(
ØØ% &
e
ØØ& '
.
ØØ' (
Message
ØØ( /
)
ØØ/ 0
;
ØØ0 1
}
ØØ2 3
}
∞∞ 	
}
±± 
}≤≤ Äñ
wD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ContratosAD\HisContratoconsultoriobeneficiosDetAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ContratosAD '
{ 
public 

class 1
%HisContratoconsultoriobeneficiosDetAD 6
{ 
private 0
$HisContratoconsultoriobeneficiosDetE 4
LlenarEntidad5 B
(B C
IDataReaderC N
drO Q
,Q R0
$HisContratoconsultoriobeneficiosDetE' K1
%pHisContratoconsultoriobeneficiosDetEL q
)q r
{ 	0
$HisContratoconsultoriobeneficiosDetE 01
%oHisContratoconsultoriobeneficiosDetE1 V
=W X
newY \1
$HisContratoconsultoriobeneficiosDetE	] Å
(
Å Ç
)
Ç É
;
É Ñ
switch 
( 1
%pHisContratoconsultoriobeneficiosDetE 9
.9 :
Orden: ?
)? @
{ 
case 
$num 
: 
case   
$num   
:   1
%oHisContratoconsultoriobeneficiosDetE!! 9
.!!9 :$
IDContratoConsultorioCab!!: R
=!!S T
Convert!!U \
.!!\ ]
ToInt32!!] d
(!!d e
dr!!e g
[!!g h
$str	!!h Ö
]
!!Ö Ü
)
!!Ü á
;
!!á à1
%oHisContratoconsultoriobeneficiosDetE"" 9
.""9 :
IDBeneficio"": E
=""F G
Convert""H O
.""O P
ToInt32""P W
(""W X
dr""X Z
[""Z [
$str""[ j
]""j k
)""k l
;""l m1
%oHisContratoconsultoriobeneficiosDetE## 9
.##9 :
FechaInicio##: E
=##F G
Convert##H O
.##O P
ToString##P X
(##X Y
dr##Y [
[##[ \
$str##\ h
]##h i
)##i j
;##j k1
%oHisContratoconsultoriobeneficiosDetE$$ 9
.$$9 :
FechaFin$$: B
=$$C D
Convert$$E L
.$$L M
ToString$$M U
($$U V
dr$$V X
[$$X Y
$str$$Y b
]$$b c
)$$c d
;$$d e1
%oHisContratoconsultoriobeneficiosDetE%% 9
.%%9 :
DscObservacion%%: H
=%%I J
Convert%%K R
.%%R S
ToString%%S [
(%%[ \
dr%%\ ^
[%%^ _
$str%%_ p
]%%p q
)%%q r
;%%r s1
%oHisContratoconsultoriobeneficiosDetE&& 9
.&&9 :!
EstContratoBeneficios&&: O
=&&P Q
Convert&&R Y
.&&Y Z
ToString&&Z b
(&&b c
dr&&c e
[&&e f
$str&&f ~
]&&~ 
)	&& Ä
;
&&Ä Å1
%oHisContratoconsultoriobeneficiosDetE'' 9
.''9 :$
IDContratoConsultorioCab'': R
=''S T
Convert''U \
.''\ ]
ToInt32''] d
(''d e
dr''e g
[''g h
$str	''h Ä
]
''Ä Å
)
''Å Ç
;
''Ç É
break(( 
;(( 
})) 
return++ 1
%oHisContratoconsultoriobeneficiosDetE++ 8
;++8 9
},, 	
public.. 
List.. 
<.. 0
$HisContratoconsultoriobeneficiosDetE.. 8
>..8 9;
/Sp_HisContratoconsultoriobeneficiosDet_Consulta..: i
(..i j1
$HisContratoconsultoriobeneficiosDetE	..j é3
%pHisContratoconsultoriobeneficiosDetE
..è ¥
)
..¥ µ
{// 	
List00 
<00 0
$HisContratoconsultoriobeneficiosDetE00 5
>005 6
oListar007 >
=00? @
new00A D
List00E I
<00I J0
$HisContratoconsultoriobeneficiosDetE00J n
>00n o
(00o p
)00p q
;00q r0
$HisContratoconsultoriobeneficiosDetE11 01
%oHisContratoconsultoriobeneficiosDetE111 V
=11W X
null11Y ]
;11] ^
using22 
(22 
SqlConnection22  
cnn22! $
=22% &
new22' *
SqlConnection22+ 8
(228 9
VariablesGlobales229 J
.22J K

CnnClinica22K U
)22U V
)22V W
{33 
using44 
(44 

SqlCommand44 !
cmd44" %
=44& '
new44( +

SqlCommand44, 6
(446 7
$str447 h
,44h i
cnn44j m
)44m n
)44n o
{55 
cmd66 
.66 
CommandType66 #
=66$ %
System66& ,
.66, -
Data66- 1
.661 2
CommandType662 =
.66= >
StoredProcedure66> M
;66M N
cmd88 
.88 

Parameters88 "
.88" #
AddWithValue88# /
(88/ 0
$str880 ;
,88; <1
%pHisContratoconsultoriobeneficiosDetE88= b
.88b c
IDBuscar88c k
)88k l
;88l m
cmd99 
.99 

Parameters99 "
.99" #
AddWithValue99# /
(99/ 0
$str990 9
,999 :1
%pHisContratoconsultoriobeneficiosDetE99; `
.99` a
Buscar99a g
)99g h
;99h i
cmd:: 
.:: 

Parameters:: "
.::" #
AddWithValue::# /
(::/ 0
$str::0 ?
,::? @1
%pHisContratoconsultoriobeneficiosDetE::A f
.::f g
NumeroLineas::g s
)::s t
;::t u
cmd;; 
.;; 

Parameters;; "
.;;" #
AddWithValue;;# /
(;;/ 0
$str;;0 8
,;;8 91
%pHisContratoconsultoriobeneficiosDetE;;: _
.;;_ `
Orden;;` e
);;e f
;;;f g
cnn<< 
.<< 
Open<< 
(<< 
)<< 
;<< 
IDataReader== 
dr==  "
===# $
cmd==% (
.==( )
ExecuteReader==) 6
(==6 7
)==7 8
;==8 9
while>> 
(>> 
dr>> 
.>> 
Read>> "
(>>" #
)>># $
)>>$ %
{?? 1
%oHisContratoconsultoriobeneficiosDetE@@ =
=@@> ?
LlenarEntidad@@@ M
(@@M N
dr@@N P
,@@P Q1
%pHisContratoconsultoriobeneficiosDetE@@R w
)@@w x
;@@x y
oListarAA 
.AA  
AddAA  #
(AA# $1
%oHisContratoconsultoriobeneficiosDetEAA$ I
)AAI J
;AAJ K
}BB 
drCC 
.CC 
CloseCC 
(CC 
)CC 
;CC 
cnnDD 
.DD 
CloseDD 
(DD 
)DD 
;DD  
}EE 
}FF 
returnGG 
oListarGG 
;GG 
}HH 	
publicJJ 
boolJJ 9
-Sp_HisContratoconsultoriobeneficiosDet_InsertJJ A
(JJA B0
$HisContratoconsultoriobeneficiosDetEJJB f2
%pHisContratoconsultoriobeneficiosDetE	JJg å
)
JJå ç
{KK 	
tryLL 
{MM 
usingNN 
(NN 
SqlConnectionNN $
cnnNN% (
=NN) *
newNN+ .
SqlConnectionNN/ <
(NN< =
VariablesGlobalesNN= N
.NNN O

CnnClinicaNNO Y
)NNY Z
)NNZ [
{OO 
usingPP 
(PP 

SqlCommandPP %
cmdPP& )
=PP* +
newPP, /

SqlCommandPP0 :
(PP: ;
$strPP; j
,PPj k
cnnPPl o
)PPo p
)PPp q
{QQ 
cmdRR 
.RR 
CommandTypeRR '
=RR( )
SystemRR* 0
.RR0 1
DataRR1 5
.RR5 6
CommandTypeRR6 A
.RRA B
StoredProcedureRRB Q
;RRQ R
cmdTT 
.TT 

ParametersTT &
.TT& '
AddWithValueTT' 3
(TT3 4
$strTT4 R
,TTR S1
%pHisContratoconsultoriobeneficiosDetETTT y
.TTy z%
IDContratoConsultorioCab	TTz í
)
TTí ì
;
TTì î
cmdUU 
.UU 

ParametersUU &
.UU& '
AddWithValueUU' 3
(UU3 4
$strUU4 D
,UUD E1
%pHisContratoconsultoriobeneficiosDetEUUF k
.UUk l
IDBeneficioUUl w
)UUw x
;UUx y
cmdVV 
.VV 

ParametersVV &
.VV& '
AddWithValueVV' 3
(VV3 4
$strVV4 A
,VVA B1
%pHisContratoconsultoriobeneficiosDetEVVC h
.VVh i
FechaInicioVVi t
)VVt u
;VVu v
cmdWW 
.WW 

ParametersWW &
.WW& '
AddWithValueWW' 3
(WW3 4
$strWW4 >
,WW> ?1
%pHisContratoconsultoriobeneficiosDetEWW@ e
.WWe f
FechaFinWWf n
)WWn o
;WWo p
cmdXX 
.XX 

ParametersXX &
.XX& '
AddWithValueXX' 3
(XX3 4
$strXX4 F
,XXF G1
%pHisContratoconsultoriobeneficiosDetEXXH m
.XXm n
DscObservacionXXn |
)XX| }
;XX} ~
cmdYY 
.YY 

ParametersYY &
.YY& '
AddWithValueYY' 3
(YY3 4
$strYY4 M
,YYM N1
%pHisContratoconsultoriobeneficiosDetEYYO t
.YYt u"
EstContratoBeneficios	YYu ä
)
YYä ã
;
YYã å
cmdZZ 
.ZZ 

ParametersZZ &
.ZZ& '
AddZZ' *
(ZZ* +
VariablesGlobalesZZ+ <
.ZZ< =
ParametroSqlZZ= I
(ZZI J
$strZZJ c
,ZZc d
ParameterDirectionZZe w
.ZZw x
InputOutput	ZZx É
,
ZZÉ Ñ
	SqlDbType
ZZÖ é
.
ZZé è
Int
ZZè í
,
ZZí ì
$num
ZZî ï
,
ZZï ñ3
%pHisContratoconsultoriobeneficiosDetE
ZZó º
.
ZZº Ω"
IDContratoBeneficios
ZZΩ —
.
ZZ— “
ToString
ZZ“ ⁄
(
ZZ⁄ €
)
ZZ€ ‹
)
ZZ‹ ›
)
ZZ› ﬁ
;
ZZﬁ ﬂ
cnn\\ 
.\\ 
Open\\  
(\\  !
)\\! "
;\\" #
cmd^^ 
.^^ 
ExecuteNonQuery^^ +
(^^+ ,
)^^, -
;^^- .
int__ 
exito__ !
=__" #
Convert__$ +
.__+ ,
ToInt32__, 3
(__3 4
cmd__4 7
.__7 8

Parameters__8 B
[__B C
$str__C \
]__\ ]
.__] ^
Value__^ c
)__c d
;__d e
cnn`` 
.`` 
Close`` !
(``! "
)``" #
;``# $
cmdaa 
.aa 
Disposeaa #
(aa# $
)aa$ %
;aa% &
ifbb 
(bb 
exitobb !
>=bb" $
$numbb% &
)bb& '
{cc 1
%pHisContratoconsultoriobeneficiosDetEdd A
.ddA B 
IDContratoBeneficiosddB V
=ddW X
exitoddY ^
;dd^ _
returnee "
trueee# '
;ee' (
}ff 
elsegg 
{hh 
returnii "
falseii# (
;ii( )
}jj 
}kk 
}ll 
}mm 
catchnn 
(nn 
	Exceptionnn 
enn 
)nn 
{oo 
throwoo 
eoo 
=oo 
newoo 
	Exceptionoo %
(oo% &
eoo& '
.oo' (
Messageoo( /
)oo/ 0
;oo0 1
}oo2 3
}pp 	
publicss 
boolss 9
-Sp_HisContratoconsultoriobeneficiosDet_Updatess A
(ssA B0
$HisContratoconsultoriobeneficiosDetEssB f2
%pHisContratoconsultoriobeneficiosDetE	ssg å
)
sså ç
{tt 	
tryuu 
{vv 
usingww 
(ww 
SqlConnectionww $
cnnww% (
=ww) *
newww+ .
SqlConnectionww/ <
(ww< =
VariablesGlobalesww= N
.wwN O

CnnClinicawwO Y
)wwY Z
)wwZ [
{xx 
usingyy 
(yy 

SqlCommandyy %
cmdyy& )
=yy* +
newyy, /

SqlCommandyy0 :
(yy: ;
$stryy; j
,yyj k
cnnyyl o
)yyo p
)yyp q
{zz 
cmd{{ 
.{{ 
CommandType{{ '
={{( )
System{{* 0
.{{0 1
Data{{1 5
.{{5 6
CommandType{{6 A
.{{A B
StoredProcedure{{B Q
;{{Q R
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 R
,}}R S1
%pHisContratoconsultoriobeneficiosDetE}}T y
.}}y z%
IDContratoConsultorioCab	}}z í
)
}}í ì
;
}}ì î
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 D
,~~D E1
%pHisContratoconsultoriobeneficiosDetE~~F k
.~~k l
IDBeneficio~~l w
)~~w x
;~~x y
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 A
,A B1
%pHisContratoconsultoriobeneficiosDetEC h
.h i
FechaInicioi t
)t u
;u v
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 >
,
ÄÄ> ?3
%pHisContratoconsultoriobeneficiosDetE
ÄÄ@ e
.
ÄÄe f
FechaInicio
ÄÄf q
)
ÄÄq r
;
ÄÄr s
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 F
,
ÅÅF G3
%pHisContratoconsultoriobeneficiosDetE
ÅÅH m
.
ÅÅm n
DscObservacion
ÅÅn |
)
ÅÅ| }
;
ÅÅ} ~
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 M
,
ÇÇM N3
%pHisContratoconsultoriobeneficiosDetE
ÇÇO t
.
ÇÇt u$
EstContratoBeneficiosÇÇu ä
)ÇÇä ã
;ÇÇã å
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 M
,
ÉÉM N3
%pHisContratoconsultoriobeneficiosDetE
ÉÉO t
.
ÉÉt u#
IDContratoBeneficiosÉÉu â
)ÉÉâ ä
;ÉÉä ã
cnn
ÖÖ 
.
ÖÖ 
Open
ÖÖ  
(
ÖÖ  !
)
ÖÖ! "
;
ÖÖ" #
int
áá 
exito
áá !
=
áá" #
cmd
áá$ '
.
áá' (
ExecuteNonQuery
áá( 7
(
áá7 8
)
áá8 9
;
áá9 :
cnn
àà 
.
àà 
Close
àà !
(
àà! "
)
àà" #
;
àà# $
cmd
ââ 
.
ââ 
Dispose
ââ #
(
ââ# $
)
ââ$ %
;
ââ% &
if
ää 
(
ää 
exito
ää !
>=
ää" $
$num
ää% &
)
ää& '
{
ãã 
return
ãã  
true
ãã! %
;
ãã% &
}
ãã' (
else
åå 
{
çç 
return
çç  
false
çç! &
;
çç& '
}
çç( )
}
éé 
}
èè 
}
êê 
catch
ëë 
(
ëë 
	Exception
ëë 
e
ëë 
)
ëë 
{
íí 
throw
íí 
e
íí 
=
íí 
new
íí 
	Exception
íí %
(
íí% &
e
íí& '
.
íí' (
Message
íí( /
)
íí/ 0
;
íí0 1
}
íí2 3
}
ìì 	
public
ïï 
bool
ïï A
3Sp_HisContratoconsultoriobeneficiosDet_UpdatexCampo
ïï G
(
ïïG H2
$HisContratoconsultoriobeneficiosDetE
ïïH l4
%pHisContratoconsultoriobeneficiosDetEïïm í
)ïïí ì
{
ññ 	
try
óó 
{
òò 
using
ôô 
(
ôô 
SqlConnection
ôô $
cnn
ôô% (
=
ôô) *
new
ôô+ .
SqlConnection
ôô/ <
(
ôô< =
VariablesGlobales
ôô= N
.
ôôN O

CnnClinica
ôôO Y
)
ôôY Z
)
ôôZ [
{
öö 
using
õõ 
(
õõ 

SqlCommand
õõ %
cmd
õõ& )
=
õõ* +
new
õõ, /

SqlCommand
õõ0 :
(
õõ: ;
$str
õõ; p
,
õõp q
cnn
õõr u
)
õõu v
)
õõv w
{
úú 
cmd
ùù 
.
ùù 
CommandType
ùù '
=
ùù( )
System
ùù* 0
.
ùù0 1
Data
ùù1 5
.
ùù5 6
CommandType
ùù6 A
.
ùùA B
StoredProcedure
ùùB Q
;
ùùQ R
cmd
üü 
.
üü 

Parameters
üü &
.
üü& '
AddWithValue
üü' 3
(
üü3 4
$str
üü4 M
,
üüM N3
%pHisContratoconsultoriobeneficiosDetE
üüO t
.
üüt u#
IDContratoBeneficiosüüu â
)üüâ ä
;üüä ã
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
AddWithValue
††' 3
(
††3 4
$str
††4 B
,
††B C3
%pHisContratoconsultoriobeneficiosDetE
††D i
.
††i j

NuevoValor
††j t
)
††t u
;
††u v
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 <
,
°°< =3
%pHisContratoconsultoriobeneficiosDetE
°°> c
.
°°c d
Campo
°°d i
)
°°i j
;
°°j k
cnn
££ 
.
££ 
Open
££  
(
££  !
)
££! "
;
££" #
int
•• 
exito
•• !
=
••" #
cmd
••$ '
.
••' (
ExecuteNonQuery
••( 7
(
••7 8
)
••8 9
;
••9 :
cnn
¶¶ 
.
¶¶ 
Close
¶¶ !
(
¶¶! "
)
¶¶" #
;
¶¶# $
cmd
ßß 
.
ßß 
Dispose
ßß #
(
ßß# $
)
ßß$ %
;
ßß% &
if
®® 
(
®® 
exito
®® !
>=
®®" $
$num
®®% &
)
®®& '
{
©© 
return
©©  
true
©©! %
;
©©% &
}
©©' (
else
™™ 
{
´´ 
return
´´  
false
´´! &
;
´´& '
}
´´( )
}
¨¨ 
}
≠≠ 
}
ÆÆ 
catch
ØØ 
(
ØØ 
	Exception
ØØ 
e
ØØ 
)
ØØ 
{
∞∞ 
throw
∞∞ 
e
∞∞ 
=
∞∞ 
new
∞∞ 
	Exception
∞∞ %
(
∞∞% &
e
∞∞& '
.
∞∞' (
Message
∞∞( /
)
∞∞/ 0
;
∞∞0 1
}
∞∞2 3
}
±± 	
}
≤≤ 
}≥≥ øÎ
}D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ContratosAD\HisContratoconsultoriobeneficiosadendaDetAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ContratosAD '
{ 
public 

class 7
+HisContratoconsultoriobeneficiosadendaDetAD <
{ 
private 6
*HisContratoconsultoriobeneficiosadendaDetE :
LlenarEntidad; H
(H I
IDataReaderI T
drU W
,W X6
*HisContratoconsultoriobeneficiosadendaDetE' Q7
+pHisContratoconsultoriobeneficiosadendaDetER }
)} ~
{ 	6
*HisContratoconsultoriobeneficiosadendaDetE 67
+oHisContratoconsultoriobeneficiosadendaDetE7 b
=c d
newe h7
*HisContratoconsultoriobeneficiosadendaDetE	i ì
(
ì î
)
î ï
;
ï ñ
switch 
( 7
+pHisContratoconsultoriobeneficiosadendaDetE ?
.? @
Orden@ E
)E F
{ 
case   
$num   
:   7
+oHisContratoconsultoriobeneficiosadendaDetE!! ?
.!!? @
IdeAdendaCab!!@ L
=!!M N
Convert!!O V
.!!V W
ToInt32!!W ^
(!!^ _
dr!!_ a
[!!a b
$str!!b r
]!!r s
)!!s t
;!!t u7
+oHisContratoconsultoriobeneficiosadendaDetE"" ?
.""? @
IdeBeneficio""@ L
=""M N
Convert""O V
.""V W
ToInt32""W ^
(""^ _
dr""_ a
[""a b
$str""b q
]""q r
)""r s
;""s t7
+oHisContratoconsultoriobeneficiosadendaDetE## ?
.##? @
	FecInicio##@ I
=##J K
Convert##L S
.##S T
ToString##T \
(##\ ]
dr##] _
[##_ `
$str##` l
]##l m
)##m n
;##n o7
+oHisContratoconsultoriobeneficiosadendaDetE$$ ?
.$$? @
FecFin$$@ F
=$$G H
Convert$$I P
.$$P Q
ToString$$Q Y
($$Y Z
dr$$Z \
[$$\ ]
$str$$] f
]$$f g
)$$g h
;$$h i7
+oHisContratoconsultoriobeneficiosadendaDetE%% ?
.%%? @
DscObservacion%%@ N
=%%O P
Convert%%Q X
.%%X Y
ToString%%Y a
(%%a b
dr%%b d
[%%d e
$str%%e v
]%%v w
)%%w x
;%%x y7
+oHisContratoconsultoriobeneficiosadendaDetE&& ?
.&&? @
EstBeneficiosadenda&&@ S
=&&T U
Convert&&V ]
.&&] ^
ToString&&^ f
(&&f g
dr&&g i
[&&i j
$str	&&j Ä
]
&&Ä Å
)
&&Å Ç
;
&&Ç É7
+oHisContratoconsultoriobeneficiosadendaDetE'' ?
.''? @
IdeBeneficiosadenda''@ S
=''T U
Convert''V ]
.''] ^
ToInt32''^ e
(''e f
dr''f h
[''h i
$str''i 
]	'' Ä
)
''Ä Å
;
''Å Ç
break(( 
;(( 
case)) 
$num)) 
:)) 7
+oHisContratoconsultoriobeneficiosadendaDetE** ?
.**? @
IdeAdendaCab**@ L
=**M N
Convert**O V
.**V W
ToInt32**W ^
(**^ _
dr**_ a
[**a b
$str**b r
]**r s
)**s t
;**t u7
+oHisContratoconsultoriobeneficiosadendaDetE++ ?
.++? @
IdeBeneficio++@ L
=++M N
Convert++O V
.++V W
ToInt32++W ^
(++^ _
dr++_ a
[++a b
$str++b q
]++q r
)++r s
;++s t7
+oHisContratoconsultoriobeneficiosadendaDetE,, ?
.,,? @
	FecInicio,,@ I
=,,J K
Convert,,L S
.,,S T
ToString,,T \
(,,\ ]
dr,,] _
[,,_ `
$str,,` l
],,l m
),,m n
;,,n o7
+oHisContratoconsultoriobeneficiosadendaDetE-- ?
.--? @
FecFin--@ F
=--G H
Convert--I P
.--P Q
ToString--Q Y
(--Y Z
dr--Z \
[--\ ]
$str--] f
]--f g
)--g h
;--h i7
+oHisContratoconsultoriobeneficiosadendaDetE.. ?
...? @
DscObservacion..@ N
=..O P
Convert..Q X
...X Y
ToString..Y a
(..a b
dr..b d
[..d e
$str..e v
]..v w
)..w x
;..x y7
+oHisContratoconsultoriobeneficiosadendaDetE// ?
.//? @
EstBeneficiosadenda//@ S
=//T U
Convert//V ]
.//] ^
ToString//^ f
(//f g
dr//g i
[//i j
$str	//j Ä
]
//Ä Å
)
//Å Ç
;
//Ç É7
+oHisContratoconsultoriobeneficiosadendaDetE00 ?
.00? @
IdeBeneficiosadenda00@ S
=00T U
Convert00V ]
.00] ^
ToInt3200^ e
(00e f
dr00f h
[00h i
$str00i 
]	00 Ä
)
00Ä Å
;
00Å Ç
break11 
;11 
case22 
$num22 
:22 7
+oHisContratoconsultoriobeneficiosadendaDetE33 ?
.33? @
IdeBeneficiosadenda33@ S
=33T U
Convert33V ]
.33] ^
ToInt3233^ e
(33e f
dr33f h
[33h i
$str33i x
]33x y
)33y z
;33z {7
+oHisContratoconsultoriobeneficiosadendaDetE44 ?
.44? @
CntDescuento44@ L
=44M N
Convert44O V
.44V W
ToInt3244W ^
(44^ _
dr44_ a
[44a b
$str44b q
]44q r
)44r s
;44s t7
+oHisContratoconsultoriobeneficiosadendaDetE55 ?
.55? @
DscObservacion55@ N
=55O P
Convert55Q X
.55X Y
ToString55Y a
(55a b
dr55b d
[55d e
$str55e v
]55v w
)55w x
;55x y7
+oHisContratoconsultoriobeneficiosadendaDetE77 ?
.77? @
	FecInicio77@ I
=77J K
Convert77L S
.77S T
ToString77T \
(77\ ]
dr77] _
[77_ `
$str77` l
]77l m
)77m n
;77n o7
+oHisContratoconsultoriobeneficiosadendaDetE88 ?
.88? @
FecFin88@ F
=88G H
Convert88I P
.88P Q
ToString88Q Y
(88Y Z
dr88Z \
[88\ ]
$str88] f
]88f g
)88g h
;88h i
break:: 
;:: 
};; 
return<< 7
+oHisContratoconsultoriobeneficiosadendaDetE<< >
;<<> ?
}== 	
public?? 
List?? 
<?? 6
*HisContratoconsultoriobeneficiosadendaDetE?? >
>??> ?A
5Sp_HisContratoconsultoriobeneficiosadendaDet_Consulta??@ u
(??u v7
*HisContratoconsultoriobeneficiosadendaDetE	??v †9
+pHisContratoconsultoriobeneficiosadendaDetE
??° Ã
)
??Ã Õ
{@@ 	
ListAA 
<AA 6
*HisContratoconsultoriobeneficiosadendaDetEAA ;
>AA; <
oListarAA= D
=AAE F
newAAG J
ListAAK O
<AAO P6
*HisContratoconsultoriobeneficiosadendaDetEAAP z
>AAz {
(AA{ |
)AA| }
;AA} ~6
*HisContratoconsultoriobeneficiosadendaDetEBB 67
+oHisContratoconsultoriobeneficiosadendaDetEBB7 b
=BBc d
nullBBe i
;BBi j
usingCC 
(CC 
SqlConnectionCC  
cnnCC! $
=CC% &
newCC' *
SqlConnectionCC+ 8
(CC8 9
VariablesGlobalesCC9 J
.CCJ K

CnnClinicaCCK U
)CCU V
)CCV W
{DD 
usingEE 
(EE 

SqlCommandEE !
cmdEE" %
=EE& '
newEE( +

SqlCommandEE, 6
(EE6 7
$strEE7 n
,EEn o
cnnEEp s
)EEs t
)EEt u
{FF 
cmdGG 
.GG 
CommandTypeGG #
=GG$ %
SystemGG& ,
.GG, -
DataGG- 1
.GG1 2
CommandTypeGG2 =
.GG= >
StoredProcedureGG> M
;GGM N
cmdII 
.II 

ParametersII "
.II" #
AddWithValueII# /
(II/ 0
$strII0 G
,IIG H7
+pHisContratoconsultoriobeneficiosadendaDetEIII t
.IIt u 
IdeBeneficiosadenda	IIu à
)
IIà â
;
IIâ ä
cmdJJ 
.JJ 

ParametersJJ "
.JJ" #
AddWithValueJJ# /
(JJ/ 0
$strJJ0 =
,JJ= >7
+pHisContratoconsultoriobeneficiosadendaDetEJJ? j
.JJj k
IDBuscarJJk s
)JJs t
;JJt u
cmdKK 
.KK 

ParametersKK "
.KK" #
AddWithValueKK# /
(KK/ 0
$strKK0 9
,KK9 :7
+pHisContratoconsultoriobeneficiosadendaDetEKK; f
.KKf g
BuscarKKg m
)KKm n
;KKn o
cmdLL 
.LL 

ParametersLL "
.LL" #
AddWithValueLL# /
(LL/ 0
$strLL0 ?
,LL? @7
+pHisContratoconsultoriobeneficiosadendaDetELLA l
.LLl m
NumeroLineasLLm y
)LLy z
;LLz {
cmdMM 
.MM 

ParametersMM "
.MM" #
AddWithValueMM# /
(MM/ 0
$strMM0 8
,MM8 97
+pHisContratoconsultoriobeneficiosadendaDetEMM: e
.MMe f
OrdenMMf k
)MMk l
;MMl m
cnnNN 
.NN 
OpenNN 
(NN 
)NN 
;NN 
IDataReaderOO 
drOO  "
=OO# $
cmdOO% (
.OO( )
ExecuteReaderOO) 6
(OO6 7
)OO7 8
;OO8 9
whilePP 
(PP 
drPP 
.PP 
ReadPP "
(PP" #
)PP# $
)PP$ %
{QQ 7
+oHisContratoconsultoriobeneficiosadendaDetERR C
=RRD E
LlenarEntidadRRF S
(RRS T
drRRT V
,RRV W8
+pHisContratoconsultoriobeneficiosadendaDetE	RRX É
)
RRÉ Ñ
;
RRÑ Ö
oListarSS 
.SS  
AddSS  #
(SS# $7
+oHisContratoconsultoriobeneficiosadendaDetESS$ O
)SSO P
;SSP Q
}TT 
drUU 
.UU 
CloseUU 
(UU 
)UU 
;UU 
cnnVV 
.VV 
CloseVV 
(VV 
)VV 
;VV  
}WW 
}XX 
returnYY 
oListarYY 
;YY 
}ZZ 	
public\\ 
bool\\ ?
3Sp_HisContratoconsultoriobeneficiosadendaDet_Insert\\ G
(\\G H6
*HisContratoconsultoriobeneficiosadendaDetE\\H r8
+pHisContratoconsultoriobeneficiosadendaDetE	\\s û
)
\\û ü
{]] 	
try^^ 
{__ 
using`` 
(`` 
SqlConnection`` $
cnn``% (
=``) *
new``+ .
SqlConnection``/ <
(``< =
VariablesGlobales``= N
.``N O

CnnClinica``O Y
)``Y Z
)``Z [
{aa 
usingbb 
(bb 

SqlCommandbb %
cmdbb& )
=bb* +
newbb, /

SqlCommandbb0 :
(bb: ;
$strbb; p
,bbp q
cnnbbr u
)bbu v
)bbv w
{cc 
cmddd 
.dd 
CommandTypedd '
=dd( )
Systemdd* 0
.dd0 1
Datadd1 5
.dd5 6
CommandTypedd6 A
.ddA B
StoredProcedureddB Q
;ddQ R
cmdff 
.ff 

Parametersff &
.ff& '
AddWithValueff' 3
(ff3 4
$strff4 E
,ffE F7
+pHisContratoconsultoriobeneficiosadendaDetEffG r
.ffr s
IdeAdendaCabffs 
)	ff Ä
;
ffÄ Å
cmdgg 
.gg 

Parametersgg &
.gg& '
AddWithValuegg' 3
(gg3 4
$strgg4 D
,ggD E7
+pHisContratoconsultoriobeneficiosadendaDetEggF q
.ggq r
IdeBeneficioggr ~
)gg~ 
;	gg Ä
cmdhh 
.hh 

Parametershh &
.hh& '
AddWithValuehh' 3
(hh3 4
$strhh4 A
,hhA B7
+pHisContratoconsultoriobeneficiosadendaDetEhhC n
.hhn o
	FecIniciohho x
)hhx y
;hhy z
cmdii 
.ii 

Parametersii &
.ii& '
AddWithValueii' 3
(ii3 4
$strii4 >
,ii> ?7
+pHisContratoconsultoriobeneficiosadendaDetEii@ k
.iik l
FecFiniil r
)iir s
;iis t
cmdjj 
.jj 

Parametersjj &
.jj& '
AddWithValuejj' 3
(jj3 4
$strjj4 F
,jjF G7
+pHisContratoconsultoriobeneficiosadendaDetEjjH s
.jjs t
DscObservacion	jjt Ç
)
jjÇ É
;
jjÉ Ñ
cmdkk 
.kk 

Parameterskk &
.kk& '
AddWithValuekk' 3
(kk3 4
$strkk4 K
,kkK L7
+pHisContratoconsultoriobeneficiosadendaDetEkkM x
.kkx y 
EstBeneficiosadenda	kky å
)
kkå ç
;
kkç é
cmdll 
.ll 

Parametersll &
.ll& '
Addll' *
(ll* +
VariablesGlobalesll+ <
.ll< =
ParametroSqlll= I
(llI J
$strllJ a
,lla b
ParameterDirectionllc u
.llu v
InputOutput	llv Å
,
llÅ Ç
	SqlDbType
llÉ å
.
llå ç
Int
llç ê
,
llê ë
$num
llí ì
,
llì î9
+pHisContratoconsultoriobeneficiosadendaDetE
llï ¿
.
ll¿ ¡!
IdeBeneficiosadenda
ll¡ ‘
.
ll‘ ’
ToString
ll’ ›
(
ll› ﬁ
)
llﬁ ﬂ
)
llﬂ ‡
)
ll‡ ·
;
ll· ‚
cnnnn 
.nn 
Opennn  
(nn  !
)nn! "
;nn" #
intpp 
exitopp !
=pp" #
cmdpp$ '
.pp' (
ExecuteNonQuerypp( 7
(pp7 8
)pp8 9
;pp9 :
cnnqq 
.qq 
Closeqq !
(qq! "
)qq" #
;qq# $
cmdrr 
.rr 
Disposerr #
(rr# $
)rr$ %
;rr% &
ifss 
(ss 
exitoss !
>=ss" $
$numss% &
)ss& '
{tt 7
+pHisContratoconsultoriobeneficiosadendaDetEuu G
.uuG H
IdeBeneficiosadendauuH [
=uu\ ]
Convertuu^ e
.uue f
ToInt32uuf m
(uum n
cmduun q
.uuq r

Parametersuur |
[uu| }
$str	uu} î
]
uuî ï
.
uuï ñ
Value
uuñ õ
)
uuõ ú
;
uuú ù
returnvv "
truevv# '
;vv' (
}ww 
elsexx 
{yy 
returnzz "
falsezz# (
;zz( )
}{{ 
}|| 
}}} 
}~~ 
catch 
( 
	Exception 
e 
) 
{
ÄÄ 
throw
ÄÄ 
e
ÄÄ 
=
ÄÄ 
new
ÄÄ 
	Exception
ÄÄ %
(
ÄÄ% &
e
ÄÄ& '
.
ÄÄ' (
Message
ÄÄ( /
)
ÄÄ/ 0
;
ÄÄ0 1
}
ÄÄ2 3
}
ÅÅ 	
public
ÉÉ 
int
ÉÉ D
6Sp_HisContratoconsultoriobeneficiosadendaDet_Insert_RB
ÉÉ I
(
ÉÉI J8
*HisContratoconsultoriobeneficiosadendaDetE
ÉÉJ t:
+pHisContratoconsultoriobeneficiosadendaDetEÉÉu †
,ÉÉ† °
SqlConnectionÉÉ¢ Ø
cnnÉÉ∞ ≥
,ÉÉ≥ ¥

SqlCommandÉÉµ ø
cmdÉÉ¿ √
,ÉÉ√ ƒ
SqlTransactionÉÉ≈ ”
transactionÉÉ‘ ﬂ
)ÉÉﬂ ‡
{
ÑÑ 	
cmd
ÖÖ 
=
ÖÖ 
new
ÖÖ 

SqlCommand
ÖÖ  
(
ÖÖ  !
$str
ÖÖ! V
,
ÖÖV W
cnn
ÖÖX [
,
ÖÖ[ \
transaction
ÖÖ] h
)
ÖÖh i
;
ÖÖi j
cmd
ÜÜ 
.
ÜÜ 
CommandType
ÜÜ 
=
ÜÜ 
System
ÜÜ $
.
ÜÜ$ %
Data
ÜÜ% )
.
ÜÜ) *
CommandType
ÜÜ* 5
.
ÜÜ5 6
StoredProcedure
ÜÜ6 E
;
ÜÜE F
cmd
àà 
.
àà 

Parameters
àà 
.
àà 
AddWithValue
àà '
(
àà' (
$str
àà( 9
,
àà9 :9
+pHisContratoconsultoriobeneficiosadendaDetE
àà; f
.
ààf g
IdeAdendaCab
ààg s
)
ààs t
;
ààt u
cmd
ââ 
.
ââ 

Parameters
ââ 
.
ââ 
AddWithValue
ââ '
(
ââ' (
$str
ââ( 8
,
ââ8 99
+pHisContratoconsultoriobeneficiosadendaDetE
ââ: e
.
ââe f
IdeBeneficio
ââf r
)
ââr s
;
ââs t
cmd
ää 
.
ää 

Parameters
ää 
.
ää 
AddWithValue
ää '
(
ää' (
$str
ää( 5
,
ää5 69
+pHisContratoconsultoriobeneficiosadendaDetE
ää7 b
.
ääb c
	FecInicio
ääc l
)
ääl m
;
ääm n
cmd
ãã 
.
ãã 

Parameters
ãã 
.
ãã 
AddWithValue
ãã '
(
ãã' (
$str
ãã( 2
,
ãã2 39
+pHisContratoconsultoriobeneficiosadendaDetE
ãã4 _
.
ãã_ `
FecFin
ãã` f
)
ããf g
;
ããg h
cmd
åå 
.
åå 

Parameters
åå 
.
åå 
AddWithValue
åå '
(
åå' (
$str
åå( :
,
åå: ;9
+pHisContratoconsultoriobeneficiosadendaDetE
åå< g
.
ååg h
DscObservacion
ååh v
)
ååv w
;
ååw x
cmd
çç 
.
çç 

Parameters
çç 
.
çç 
AddWithValue
çç '
(
çç' (
$str
çç( ?
,
çç? @9
+pHisContratoconsultoriobeneficiosadendaDetE
ççA l
.
ççl m"
EstBeneficiosadendaççm Ä
)ççÄ Å
;ççÅ Ç
cmd
éé 
.
éé 

Parameters
éé 
.
éé 
Add
éé 
(
éé 
VariablesGlobales
éé 0
.
éé0 1
ParametroSql
éé1 =
(
éé= >
$str
éé> U
,
ééU V 
ParameterDirection
ééW i
.
ééi j
InputOutput
ééj u
,
ééu v
	SqlDbTypeééw Ä
.ééÄ Å
IntééÅ Ñ
,ééÑ Ö
$numééÜ á
,ééá à;
+pHisContratoconsultoriobeneficiosadendaDetEééâ ¥
.éé¥ µ#
IdeBeneficiosadendaééµ »
.éé» …
ToStringéé… —
(éé— “
)éé“ ”
)éé” ‘
)éé‘ ’
;éé’ ÷
cmd
êê 
.
êê 
ExecuteNonQuery
êê 
(
êê  
)
êê  !
;
êê! "
return
ëë 9
+pHisContratoconsultoriobeneficiosadendaDetE
ëë >
.
ëë> ?!
IdeBeneficiosadenda
ëë? R
=
ëëS T
Convert
ëëU \
.
ëë\ ]
ToInt32
ëë] d
(
ëëd e
cmd
ëëe h
.
ëëh i

Parameters
ëëi s
[
ëës t
$strëët ã
]ëëã å
.ëëå ç
Valueëëç í
)ëëí ì
;ëëì î
}
íí 	
public
îî 
bool
îî A
3Sp_HisContratoconsultoriobeneficiosadendaDet_Update
îî G
(
îîG H8
*HisContratoconsultoriobeneficiosadendaDetE
îîH r:
+pHisContratoconsultoriobeneficiosadendaDetEîîs û
)îîû ü
{
ïï 	
try
ññ 
{
óó 
using
òò 
(
òò 
SqlConnection
òò $
cnn
òò% (
=
òò) *
new
òò+ .
SqlConnection
òò/ <
(
òò< =
VariablesGlobales
òò= N
.
òòN O

CnnClinica
òòO Y
)
òòY Z
)
òòZ [
{
ôô 
using
öö 
(
öö 

SqlCommand
öö %
cmd
öö& )
=
öö* +
new
öö, /

SqlCommand
öö0 :
(
öö: ;
$str
öö; p
,
ööp q
cnn
öör u
)
ööu v
)
ööv w
{
õõ 
cmd
úú 
.
úú 
CommandType
úú '
=
úú( )
System
úú* 0
.
úú0 1
Data
úú1 5
.
úú5 6
CommandType
úú6 A
.
úúA B
StoredProcedure
úúB Q
;
úúQ R
cmd
ûû 
.
ûû 

Parameters
ûû &
.
ûû& '
AddWithValue
ûû' 3
(
ûû3 4
$str
ûû4 E
,
ûûE F9
+pHisContratoconsultoriobeneficiosadendaDetE
ûûG r
.
ûûr s
IdeAdendaCab
ûûs 
)ûû Ä
;ûûÄ Å
cmd
üü 
.
üü 

Parameters
üü &
.
üü& '
AddWithValue
üü' 3
(
üü3 4
$str
üü4 D
,
üüD E9
+pHisContratoconsultoriobeneficiosadendaDetE
üüF q
.
üüq r
IdeBeneficio
üür ~
)
üü~ 
;üü Ä
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
AddWithValue
††' 3
(
††3 4
$str
††4 A
,
††A B9
+pHisContratoconsultoriobeneficiosadendaDetE
††C n
.
††n o
	FecInicio
††o x
)
††x y
;
††y z
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 >
,
°°> ?9
+pHisContratoconsultoriobeneficiosadendaDetE
°°@ k
.
°°k l
FecFin
°°l r
)
°°r s
;
°°s t
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ &
.
¢¢& '
AddWithValue
¢¢' 3
(
¢¢3 4
$str
¢¢4 F
,
¢¢F G9
+pHisContratoconsultoriobeneficiosadendaDetE
¢¢H s
.
¢¢s t
DscObservacion¢¢t Ç
)¢¢Ç É
;¢¢É Ñ
cmd
££ 
.
££ 

Parameters
££ &
.
££& '
AddWithValue
££' 3
(
££3 4
$str
££4 K
,
££K L9
+pHisContratoconsultoriobeneficiosadendaDetE
££M x
.
££x y"
EstBeneficiosadenda££y å
)££å ç
;££ç é
cmd
§§ 
.
§§ 

Parameters
§§ &
.
§§& '
AddWithValue
§§' 3
(
§§3 4
$str
§§4 K
,
§§K L9
+pHisContratoconsultoriobeneficiosadendaDetE
§§M x
.
§§x y"
IdeBeneficiosadenda§§y å
)§§å ç
;§§ç é
cnn
¶¶ 
.
¶¶ 
Open
¶¶  
(
¶¶  !
)
¶¶! "
;
¶¶" #
int
®® 
exito
®® !
=
®®" #
cmd
®®$ '
.
®®' (
ExecuteNonQuery
®®( 7
(
®®7 8
)
®®8 9
;
®®9 :
cnn
©© 
.
©© 
Close
©© !
(
©©! "
)
©©" #
;
©©# $
cmd
™™ 
.
™™ 
Dispose
™™ #
(
™™# $
)
™™$ %
;
™™% &
if
´´ 
(
´´ 
exito
´´ !
>=
´´" $
$num
´´% &
)
´´& '
{
¨¨ 
return
¨¨  
true
¨¨! %
;
¨¨% &
}
¨¨' (
else
≠≠ 
{
ÆÆ 
return
ÆÆ  
false
ÆÆ! &
;
ÆÆ& '
}
ÆÆ( )
}
ØØ 
}
∞∞ 
}
±± 
catch
≤≤ 
(
≤≤ 
	Exception
≤≤ 
e
≤≤ 
)
≤≤ 
{
≥≥ 
throw
≥≥ 
e
≥≥ 
=
≥≥ 
new
≥≥ 
	Exception
≥≥ %
(
≥≥% &
e
≥≥& '
.
≥≥' (
Message
≥≥( /
)
≥≥/ 0
;
≥≥0 1
}
≥≥2 3
}
¥¥ 	
public
∂∂ 
bool
∂∂ G
9Sp_HisContratoconsultoriobeneficiosadendaDet_UpdatexCampo
∂∂ M
(
∂∂M N8
*HisContratoconsultoriobeneficiosadendaDetE
∂∂N x:
+pHisContratoconsultoriobeneficiosadendaDetE∂∂y §
)∂∂§ •
{
∑∑ 	
try
∏∏ 
{
ππ 
using
∫∫ 
(
∫∫ 
SqlConnection
∫∫ $
cnn
∫∫% (
=
∫∫) *
new
∫∫+ .
SqlConnection
∫∫/ <
(
∫∫< =
VariablesGlobales
∫∫= N
.
∫∫N O

CnnClinica
∫∫O Y
)
∫∫Y Z
)
∫∫Z [
{
ªª 
using
ºº 
(
ºº 

SqlCommand
ºº %
cmd
ºº& )
=
ºº* +
new
ºº, /

SqlCommand
ºº0 :
(
ºº: ;
$str
ºº; v
,
ººv w
cnn
ººx {
)
ºº{ |
)
ºº| }
{
ΩΩ 
cmd
ææ 
.
ææ 
CommandType
ææ '
=
ææ( )
System
ææ* 0
.
ææ0 1
Data
ææ1 5
.
ææ5 6
CommandType
ææ6 A
.
ææA B
StoredProcedure
ææB Q
;
ææQ R
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
.
¿¿& '
AddWithValue
¿¿' 3
(
¿¿3 4
$str
¿¿4 K
,
¿¿K L9
+pHisContratoconsultoriobeneficiosadendaDetE
¿¿M x
.
¿¿x y"
IdeBeneficiosadenda¿¿y å
)¿¿å ç
;¿¿ç é
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 B
,
¡¡B C9
+pHisContratoconsultoriobeneficiosadendaDetE
¡¡D o
.
¡¡o p

NuevoValor
¡¡p z
)
¡¡z {
;
¡¡{ |
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ &
.
¬¬& '
AddWithValue
¬¬' 3
(
¬¬3 4
$str
¬¬4 <
,
¬¬< =9
+pHisContratoconsultoriobeneficiosadendaDetE
¬¬> i
.
¬¬i j
Campo
¬¬j o
)
¬¬o p
;
¬¬p q
cnn
ƒƒ 
.
ƒƒ 
Open
ƒƒ  
(
ƒƒ  !
)
ƒƒ! "
;
ƒƒ" #
int
∆∆ 
exito
∆∆ !
=
∆∆" #
cmd
∆∆$ '
.
∆∆' (
ExecuteNonQuery
∆∆( 7
(
∆∆7 8
)
∆∆8 9
;
∆∆9 :
cnn
«« 
.
«« 
Close
«« !
(
««! "
)
««" #
;
««# $
cmd
»» 
.
»» 
Dispose
»» #
(
»»# $
)
»»$ %
;
»»% &
if
…… 
(
…… 
exito
…… !
>=
……" $
$num
……% &
)
……& '
{
   
return
    
true
  ! %
;
  % &
}
  ' (
else
ÀÀ 
{
ÃÃ 
return
ÃÃ  
false
ÃÃ! &
;
ÃÃ& '
}
ÃÃ( )
}
ÕÕ 
}
ŒŒ 
}
œœ 
catch
–– 
(
–– 
	Exception
–– 
e
–– 
)
–– 
{
—— 
throw
—— 
e
—— 
=
—— 
new
—— 
	Exception
—— %
(
——% &
e
——& '
.
——' (
Message
——( /
)
——/ 0
;
——0 1
}
——2 3
}
““ 	
public
‘‘ 
void
‘‘ J
<Sp_HisContratoconsultoriobeneficiosadendaDet_UpdatexCampo_RB
‘‘ P
(
‘‘P Q8
*HisContratoconsultoriobeneficiosadendaDetE
‘‘Q {:
+pHisContratoconsultoriobeneficiosadendaDetE‘‘| ß
,‘‘ß ®
SqlConnection‘‘© ∂
cnn‘‘∑ ∫
,‘‘∫ ª

SqlCommand‘‘º ∆
cmd‘‘«  
,‘‘  À
SqlTransaction‘‘Ã ⁄
transaction‘‘€ Ê
)‘‘Ê Á
{
’’ 	
cmd
÷÷ 
=
÷÷ 
new
÷÷ 

SqlCommand
÷÷  
(
÷÷  !
$str
÷÷! \
,
÷÷\ ]
cnn
÷÷^ a
,
÷÷a b
transaction
÷÷c n
)
÷÷n o
;
÷÷o p
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ 
.
ÿÿ 
AddWithValue
ÿÿ '
(
ÿÿ' (
$str
ÿÿ( 9
,
ÿÿ9 :9
+pHisContratoconsultoriobeneficiosadendaDetE
ÿÿ; f
.
ÿÿf g
IdeAdendaCab
ÿÿg s
)
ÿÿs t
;
ÿÿt u
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ 
.
ŸŸ 
AddWithValue
ŸŸ '
(
ŸŸ' (
$str
ŸŸ( ?
,
ŸŸ? @9
+pHisContratoconsultoriobeneficiosadendaDetE
ŸŸA l
.
ŸŸl m"
IdeBeneficiosadendaŸŸm Ä
)ŸŸÄ Å
;ŸŸÅ Ç
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ 
.
⁄⁄ 
AddWithValue
⁄⁄ '
(
⁄⁄' (
$str
⁄⁄( 6
,
⁄⁄6 79
+pHisContratoconsultoriobeneficiosadendaDetE
⁄⁄8 c
.
⁄⁄c d

NuevoValor
⁄⁄d n
)
⁄⁄n o
;
⁄⁄o p
cmd
€€ 
.
€€ 

Parameters
€€ 
.
€€ 
AddWithValue
€€ '
(
€€' (
$str
€€( 0
,
€€0 19
+pHisContratoconsultoriobeneficiosadendaDetE
€€2 ]
.
€€] ^
Campo
€€^ c
)
€€c d
;
€€d e
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ 
.
‹‹ 
AddWithValue
‹‹ '
(
‹‹' (
$str
‹‹( 0
,
‹‹0 19
+pHisContratoconsultoriobeneficiosadendaDetE
‹‹2 ]
.
‹‹] ^
Orden
‹‹^ c
)
‹‹c d
;
‹‹d e
cmd
›› 
.
›› 
CommandType
›› 
=
›› 
System
›› $
.
››$ %
Data
››% )
.
››) *
CommandType
››* 5
.
››5 6
StoredProcedure
››6 E
;
››E F
cmd
ﬁﬁ 
.
ﬁﬁ 
ExecuteNonQuery
ﬁﬁ 
(
ﬁﬁ  
)
ﬁﬁ  !
;
ﬁﬁ! "
}
ﬂﬂ 	
}
‡‡ 
}·· ∫;
vD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ContratosAD\HisContratoconsultoriobeneficioMaeAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ContratosAD '
{ 
public 

class 0
$HisContratoconsultoriobeneficioMaeAD 5
{ 
private /
#HisContratoconsultoriobeneficioMaeE 3
LlenarEntidad4 A
(A B
IDataReaderB M
drN P
,P Q/
#HisContratoconsultoriobeneficioMaeE" E0
$pHisContratoconsultoriobeneficioMaeEF j
)j k
{ 	/
#HisContratoconsultoriobeneficioMaeE /0
$oHisContratoconsultoriobeneficioMaeE0 T
=U V
newW Z/
#HisContratoconsultoriobeneficioMaeE[ ~
(~ 
)	 Ä
;
Ä Å
switch 
( 0
$pHisContratoconsultoriobeneficioMaeE 8
.8 9
Orden9 >
)> ?
{ 
case 
$num 
: 0
$oHisContratoconsultoriobeneficioMaeE 8
.8 9
DscBeneficio9 E
=F G
ConvertH O
.O P
ToStringP X
(X Y
drY [
[[ \
$str\ d
]d e
)e f
;f g0
$oHisContratoconsultoriobeneficioMaeE 8
.8 9
TipDescuento9 E
=F G
ConvertH O
.O P
ToStringP X
(X Y
drY [
[[ \
$str\ k
]k l
)l m
;m n0
$oHisContratoconsultoriobeneficioMaeE 8
.8 9
TipCantidad9 D
=E F
ConvertG N
.N O
ToStringO W
(W X
drX Z
[Z [
$str[ i
]i j
)j k
;k l0
$oHisContratoconsultoriobeneficioMaeE   8
.  8 9
CntDescuento  9 E
=  F G
Convert  H O
.  O P
ToInt32  P W
(  W X
dr  X Z
[  Z [
$str  [ j
]  j k
)  k l
;  l m0
$oHisContratoconsultoriobeneficioMaeE!! 8
.!!8 9
EstBeneficio!!9 E
=!!F G
Convert!!H O
.!!O P
ToString!!P X
(!!X Y
dr!!Y [
[!![ \
$str!!\ k
]!!k l
)!!l m
;!!m n0
$oHisContratoconsultoriobeneficioMaeE"" 8
.""8 9
HorasAplicar""9 E
=""F G
Convert""H O
.""O P
ToString""P X
(""X Y
dr""Y [
[""[ \
$str""\ k
]""k l
)""l m
;""m n0
$oHisContratoconsultoriobeneficioMaeE## 8
.##8 9
IDBeneficio##9 D
=##E F
Convert##G N
.##N O
ToInt32##O V
(##V W
dr##W Y
[##Y Z
$str##Z i
]##i j
)##j k
;##k l
break$$ 
;$$ 
}%% 
return'' 0
$oHisContratoconsultoriobeneficioMaeE'' 7
;''7 8
}(( 	
public** 
List** 
<** /
#HisContratoconsultoriobeneficioMaeE** 7
>**7 8;
/Sp_HisContratoconsultoriocalendarioMae_Consulta**9 h
(**h i0
#HisContratoconsultoriobeneficioMaeE	**i å2
$pHisContratoconsultoriobeneficioMaeE
**ç ±
)
**± ≤
{++ 	
List,, 
<,, /
#HisContratoconsultoriobeneficioMaeE,, 4
>,,4 5
oListar,,6 =
=,,> ?
new,,@ C
List,,D H
<,,H I/
#HisContratoconsultoriobeneficioMaeE,,I l
>,,l m
(,,m n
),,n o
;,,o p/
#HisContratoconsultoriobeneficioMaeE-- /0
$oHisContratoconsultoriobeneficioMaeE--0 T
=--U V
null--W [
;--[ \
using.. 
(.. 
SqlConnection..  
cnn..! $
=..% &
new..' *
SqlConnection..+ 8
(..8 9
VariablesGlobales..9 J
...J K

CnnClinica..K U
)..U V
)..V W
{// 
using00 
(00 

SqlCommand00 !
cmd00" %
=00& '
new00( +

SqlCommand00, 6
(006 7
$str007 g
,00g h
cnn00i l
)00l m
)00m n
{11 
cmd22 
.22 
CommandType22 #
=22$ %
System22& ,
.22, -
Data22- 1
.221 2
CommandType222 =
.22= >
StoredProcedure22> M
;22M N
cmd44 
.44 

Parameters44 "
.44" #
AddWithValue44# /
(44/ 0
$str440 @
,44@ A0
$pHisContratoconsultoriobeneficioMaeE44B f
.44f g
IDBeneficio44g r
)44r s
;44s t
cmd55 
.55 

Parameters55 "
.55" #
AddWithValue55# /
(55/ 0
$str550 9
,559 :0
$pHisContratoconsultoriobeneficioMaeE55; _
.55_ `
Buscar55` f
)55f g
;55g h
cmd66 
.66 

Parameters66 "
.66" #
AddWithValue66# /
(66/ 0
$str660 @
,66@ A0
$pHisContratoconsultoriobeneficioMaeE66B f
.66f g
TipDescuento66g s
)66s t
;66t u
cmd77 
.77 

Parameters77 "
.77" #
AddWithValue77# /
(77/ 0
$str770 ?
,77? @0
$pHisContratoconsultoriobeneficioMaeE77A e
.77e f
TipCantidad77f q
)77q r
;77r s
cmd88 
.88 

Parameters88 "
.88" #
AddWithValue88# /
(88/ 0
$str880 @
,88@ A0
$pHisContratoconsultoriobeneficioMaeE88B f
.88f g
CntDescuento88g s
)88s t
;88t u
cmd99 
.99 

Parameters99 "
.99" #
AddWithValue99# /
(99/ 0
$str990 @
,99@ A0
$pHisContratoconsultoriobeneficioMaeE99B f
.99f g
EstBeneficio99g s
)99s t
;99t u
cmd:: 
.:: 

Parameters:: "
.::" #
AddWithValue::# /
(::/ 0
$str::0 8
,::8 90
$pHisContratoconsultoriobeneficioMaeE::: ^
.::^ _
Orden::_ d
)::d e
;::e f
cnn;; 
.;; 
Open;; 
(;; 
);; 
;;; 
IDataReader<< 
dr<<  "
=<<# $
cmd<<% (
.<<( )
ExecuteReader<<) 6
(<<6 7
)<<7 8
;<<8 9
while== 
(== 
dr== 
.== 
Read== "
(==" #
)==# $
)==$ %
{>> 0
$oHisContratoconsultoriobeneficioMaeE?? <
=??= >
LlenarEntidad??? L
(??L M
dr??M O
,??O P0
$pHisContratoconsultoriobeneficioMaeE??Q u
)??u v
;??v w
oListar@@ 
.@@  
Add@@  #
(@@# $0
$oHisContratoconsultoriobeneficioMaeE@@$ H
)@@H I
;@@I J
}AA 
drBB 
.BB 
CloseBB 
(BB 
)BB 
;BB 
cnnCC 
.CC 
CloseCC 
(CC 
)CC 
;CC  
}DD 
}EE 
returnFF 
oListarFF 
;FF 
}GG 	
}HH 
}II å
aD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ComprobantesAD\CuadreCajaAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
ComprobantesAD

 *
{ 
public 

class 
CuadreCajaAD 
{ 
public 
bool &
Sp_CuadreCajaOnline_Update .
(. /
ref/ 2
CuadreCajaE3 >
pCuadreCajaE? K
)K L
{ 	
bool 
xResult 
= 
false  
;  !
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; W
,W X
cnnY \
)\ ]
)] ^
{ 
cmd 
. 
CommandType '
=( )
CommandType* 5
.5 6
StoredProcedure6 E
;E F
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 E
,E F
pCuadreCajaEG S
.S T
CodComprobanteT b
)b c
;c d
cnn 
. 
Open  
(  !
)! "
;" #
cmd 
. 
ExecuteNonQuery +
(+ ,
), -
;- .
xResult 
=  !
true" &
;& '
cnn 
. 
Close !
(! "
)" #
;# $
cmd 
. 
Dispose #
(# $
)$ %
;% &
} 
}   
return"" 
xResult"" 
;"" 
}## 
catch$$ 
($$ 
	Exception$$ 
ex$$ 
)$$  
{%% 
throw&& 
new&& 
	Exception&& #
(&&# $
ex&&$ &
.&&& '
Message&&' .
)&&. /
;&&/ 0
}'' 
}(( 	
}** 
}++ ≠‘
sD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ContratosAD\HisContratoconsultorioadendaCabAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ContratosAD '
{ 
public 

class -
!HisContratoconsultorioadendaCabAD 2
{ 
private ,
 HisContratoconsultorioadendaCabE 0
LlenarEntidad1 >
(> ?
IDataReader? J
drK M
,M N,
 HisContratoconsultorioadendaCabE' G-
!pHisContratoconsultorioadendaCabEH i
)i j
{ 	,
 HisContratoconsultorioadendaCabE ,-
!oHisContratoconsultorioadendaCabE- N
=O P
newQ T,
 HisContratoconsultorioadendaCabEU u
(u v
)v w
;w x
switch 
( -
!pHisContratoconsultorioadendaCabE 5
.5 6
Orden6 ;
); <
{   
case!! 
$num!! 
:!! -
!oHisContratoconsultorioadendaCabE"" 5
.""5 6
IdeAdendaCab""6 B
=""C D
Convert""E L
.""L M
ToInt32""M T
(""T U
dr""U W
[""W X
$str""X h
]""h i
)""i j
;""j k-
!oHisContratoconsultorioadendaCabE## 5
.##5 6(
IdeHisContratoconsultorioCab##6 R
=##S T
Convert##U \
.##\ ]
ToInt32##] d
(##d e
dr##e g
[##g h
$str	##h â
]
##â ä
)
##ä ã
;
##ã å-
!oHisContratoconsultorioadendaCabE$$ 5
.$$5 6
TipPago$$6 =
=$$> ?
Convert$$@ G
.$$G H
ToString$$H P
($$P Q
dr$$Q S
[$$S T
$str$$T ^
]$$^ _
)$$_ `
;$$` a-
!oHisContratoconsultorioadendaCabE%% 5
.%%5 6
FecInicioContrato%%6 G
=%%H I
Convert%%J Q
.%%Q R
ToString%%R Z
(%%Z [
dr%%[ ]
[%%] ^
$str%%^ s
]%%s t
)%%t u
;%%u v-
!oHisContratoconsultorioadendaCabE&& 5
.&&5 6
FecFinContrato&&6 D
=&&E F
Convert&&G N
.&&N O
ToString&&O W
(&&W X
dr&&X Z
[&&Z [
$str&&[ m
]&&m n
)&&n o
;&&o p-
!oHisContratoconsultorioadendaCabE'' 5
.''5 6
DsObservaciones''6 E
=''F G
Convert''H O
.''O P
ToString''P X
(''X Y
dr''Y [
[''[ \
$str''\ n
]''n o
)''o p
;''p q-
!oHisContratoconsultorioadendaCabE(( 5
.((5 6
CntRentaMensual((6 E
=((F G
Convert((H O
.((O P
	ToDecimal((P Y
(((Y Z
dr((Z \
[((\ ]
$str((] p
]((p q
)((q r
;((r s-
!oHisContratoconsultorioadendaCabE)) 5
.))5 6
CntTotalHoras))6 C
=))D E
Convert))F M
.))M N
ToInt32))N U
())U V
dr))V X
[))X Y
$str))Y j
]))j k
)))k l
;))l m-
!oHisContratoconsultorioadendaCabE** 5
.**5 6
CntPrecioxhora**6 D
=**E F
Convert**G N
.**N O
	ToDecimal**O X
(**X Y
dr**Y [
[**[ \
$str**\ m
]**m n
)**n o
;**o p-
!oHisContratoconsultorioadendaCabE++ 5
.++5 6
EstContrato++6 A
=++B C
Convert++D K
.++K L
ToString++L T
(++T U
dr++U W
[++W X
$str++X d
]++d e
)++e f
;++f g-
!oHisContratoconsultorioadendaCabE,, 5
.,,5 6
	EstAdenda,,6 ?
=,,@ A
Convert,,B I
.,,I J
ToString,,J R
(,,R S
dr,,S U
[,,U V
$str,,V b
],,b c
),,c d
;,,d e-
!oHisContratoconsultorioadendaCabE-- 5
.--5 6
FecRegistro--6 A
=--B C
Convert--D K
.--K L
ToString--L T
(--T U
dr--U W
[--W X
$str--X f
]--f g
)--g h
;--h i-
!oHisContratoconsultorioadendaCabE.. 5
...5 6
UsrRegistra..6 A
=..B C
Convert..D K
...K L
ToInt32..L S
(..S T
dr..T V
[..V W
$str..W e
]..e f
)..f g
;..g h-
!oHisContratoconsultorioadendaCabE// 5
.//5 6
FecActualizacion//6 F
=//G H
Convert//I P
.//P Q
ToString//Q Y
(//Y Z
dr//Z \
[//\ ]
$str//] p
]//p q
)//q r
;//r s-
!oHisContratoconsultorioadendaCabE00 5
.005 6
UsrActualizacion006 F
=00G H
Convert00I P
.00P Q
ToInt3200Q X
(00X Y
dr00Y [
[00[ \
$str00\ o
]00o p
)00p q
;00q r-
!oHisContratoconsultorioadendaCabE11 5
.115 6
BlbArchivoAdjunto116 G
=11H I
Convert11J Q
.11Q R
ToString11R Z
(11Z [
dr11[ ]
[11] ^
$str11^ s
]11s t
)11t u
;11u v
break22 
;22 
case33 
$num33 
:33 
case44 
$num44 
:44 -
!oHisContratoconsultorioadendaCabE55 5
.555 6
IdeAdendaCab556 B
=55C D
Convert55E L
.55L M
ToInt3255M T
(55T U
dr55U W
[55W X
$str55X h
]55h i
)55i j
;55j k-
!oHisContratoconsultorioadendaCabE66 5
.665 6(
IdeHisContratoconsultorioCab666 R
=66S T
Convert66U \
.66\ ]
ToInt3266] d
(66d e
dr66e g
[66g h
$str	66h â
]
66â ä
)
66ä ã
;
66ã å-
!oHisContratoconsultorioadendaCabE77 5
.775 6
TipPago776 =
=77> ?
Convert77@ G
.77G H
ToString77H P
(77P Q
dr77Q S
[77S T
$str77T ^
]77^ _
)77_ `
;77` a-
!oHisContratoconsultorioadendaCabE88 5
.885 6
FecInicioContrato886 G
=88H I
Convert88J Q
.88Q R
ToString88R Z
(88Z [
dr88[ ]
[88] ^
$str88^ s
]88s t
)88t u
;88u v-
!oHisContratoconsultorioadendaCabE99 5
.995 6
FecFinContrato996 D
=99E F
Convert99G N
.99N O
ToString99O W
(99W X
dr99X Z
[99Z [
$str99[ m
]99m n
)99n o
;99o p-
!oHisContratoconsultorioadendaCabE:: 5
.::5 6
DsObservaciones::6 E
=::F G
Convert::H O
.::O P
ToString::P X
(::X Y
dr::Y [
[::[ \
$str::\ n
]::n o
)::o p
;::p q-
!oHisContratoconsultorioadendaCabE;; 5
.;;5 6
CntRentaMensual;;6 E
=;;F G
Convert;;H O
.;;O P
	ToDecimal;;P Y
(;;Y Z
dr;;Z \
[;;\ ]
$str;;] p
];;p q
);;q r
;;;r s-
!oHisContratoconsultorioadendaCabE<< 5
.<<5 6
CntTotalHoras<<6 C
=<<D E
Convert<<F M
.<<M N
ToInt32<<N U
(<<U V
dr<<V X
[<<X Y
$str<<Y j
]<<j k
)<<k l
;<<l m-
!oHisContratoconsultorioadendaCabE== 5
.==5 6
CntPrecioxhora==6 D
===E F
Convert==G N
.==N O
	ToDecimal==O X
(==X Y
dr==Y [
[==[ \
$str==\ m
]==m n
)==n o
;==o p-
!oHisContratoconsultorioadendaCabE>> 5
.>>5 6
EstContrato>>6 A
=>>B C
Convert>>D K
.>>K L
ToString>>L T
(>>T U
dr>>U W
[>>W X
$str>>X f
]>>f g
)>>g h
;>>h i-
!oHisContratoconsultorioadendaCabE?? 5
.??5 6
	EstAdenda??6 ?
=??@ A
Convert??B I
.??I J
ToString??J R
(??R S
dr??S U
[??U V
$str??V b
]??b c
)??c d
;??d e-
!oHisContratoconsultorioadendaCabE@@ 5
.@@5 6
FecRegistro@@6 A
=@@B C
Convert@@D K
.@@K L
ToString@@L T
(@@T U
dr@@U W
[@@W X
$str@@X f
]@@f g
)@@g h
;@@h i-
!oHisContratoconsultorioadendaCabEAA 5
.AA5 6
UsrRegistraAA6 A
=AAB C
ConvertAAD K
.AAK L
ToInt32AAL S
(AAS T
drAAT V
[AAV W
$strAAW e
]AAe f
)AAf g
;AAg h-
!oHisContratoconsultorioadendaCabEBB 5
.BB5 6
DscUsrRegistraBB6 D
=BBE F
ConvertBBG N
.BBN O
ToStringBBO W
(BBW X
drBBX Z
[BBZ [
$strBB[ m
]BBm n
)BBn o
;BBo p-
!oHisContratoconsultorioadendaCabECC 5
.CC5 6
FecActualizacionCC6 F
=CCG H
ConvertCCI P
.CCP Q
ToStringCCQ Y
(CCY Z
drCCZ \
[CC\ ]
$strCC] p
]CCp q
)CCq r
;CCr s-
!oHisContratoconsultorioadendaCabEDD 5
.DD5 6
UsrActualizacionDD6 F
=DDG H
ConvertDDI P
.DDP Q
ToInt32DDQ X
(DDX Y
drDDY [
[DD[ \
$strDD\ o
]DDo p
)DDp q
;DDq r-
!oHisContratoconsultorioadendaCabEEE 5
.EE5 6
EstContratoEE6 A
=EEB C
ConvertEED K
.EEK L
ToStringEEL T
(EET U
drEEU W
[EEW X
$strEEX f
]EEf g
)EEg h
;EEh i
breakGG 
;GG 
caseHH 
$numHH 
:HH -
!oHisContratoconsultorioadendaCabEII 5
.II5 6
IdeAdendaCabII6 B
=IIC D
ConvertIIE L
.IIL M
ToInt32IIM T
(IIT U
drIIU W
[IIW X
$strIIX h
]IIh i
)IIi j
;IIj k-
!oHisContratoconsultorioadendaCabEJJ 5
.JJ5 6(
IdeHisContratoconsultorioCabJJ6 R
=JJS T
ConvertJJU \
.JJ\ ]
ToInt32JJ] d
(JJd e
drJJe g
[JJg h
$str	JJh â
]
JJâ ä
)
JJä ã
;
JJã å-
!oHisContratoconsultorioadendaCabEKK 5
.KK5 6
IDCalendarioKK6 B
=KKC D
ConvertKKE L
.KKL M
ToInt32KKM T
(KKT U
drKKU W
[KKW X
$strKKX h
]KKh i
)KKi j
;KKj k
breakLL 
;LL 
caseMM 
$numMM 
:MM -
!oHisContratoconsultorioadendaCabENN 5
.NN5 6
IdeAdendaCabNN6 B
=NNC D
ConvertNNE L
.NNL M
ToInt32NNM T
(NNT U
drNNU W
[NNW X
$strNNX h
]NNh i
)NNi j
;NNj k-
!oHisContratoconsultorioadendaCabEOO 5
.OO5 6(
IdeHisContratoconsultorioCabOO6 R
=OOS T
ConvertOOU \
.OO\ ]
ToInt32OO] d
(OOd e
drOOe g
[OOg h
$str	OOh â
]
OOâ ä
)
OOä ã
;
OOã å-
!oHisContratoconsultorioadendaCabEPP 5
.PP5 6
BlbArchivoAdjuntoPP6 G
=PPH I
ConvertPPJ Q
.PPQ R
ToStringPPR Z
(PPZ [
drPP[ ]
[PP] ^
$strPP^ s
]PPs t
)PPt u
;PPu v
breakQQ 
;QQ 
caseRR 
$numRR 
:RR -
!oHisContratoconsultorioadendaCabESS 5
.SS5 6
IdeAdendaCabSS6 B
=SSC D
ConvertSSE L
.SSL M
ToInt32SSM T
(SST U
drSSU W
[SSW X
$strSSX h
]SSh i
)SSi j
;SSj k-
!oHisContratoconsultorioadendaCabETT 5
.TT5 6
IdeBeneficioAdendaTT6 H
=TTI J
ConvertTTK R
.TTR S
ToInt32TTS Z
(TTZ [
drTT[ ]
[TT] ^
$strTT^ t
]TTt u
)TTu v
;TTv w-
!oHisContratoconsultorioadendaCabEUU 5
.UU5 6
CntDescuentoUU6 B
=UUC D
ConvertUUE L
.UUL M
ToInt32UUM T
(UUT U
drUUU W
[UUW X
$strUUX g
]UUg h
)UUh i
;UUi j-
!oHisContratoconsultorioadendaCabEVV 5
.VV5 6
CntPrecioxhoraVV6 D
=VVE F
ConvertVVG N
.VVN O
ToInt32VVO V
(VVV W
drVVW Y
[VVY Z
$strVVZ g
]VVg h
)VVh i
;VVi j
breakWW 
;WW 
}XX 
returnZZ -
!oHisContratoconsultorioadendaCabEZZ 4
;ZZ4 5
}[[ 	
public]] 
List]] 
<]] ,
 HisContratoconsultorioadendaCabE]] 4
>]]4 57
+Sp_HisContratoconsultorioadendaCab_Consulta]]6 a
(]]a b-
 HisContratoconsultorioadendaCabE	]]b Ç/
!pHisContratoconsultorioadendaCabE
]]É §
)
]]§ •
{^^ 	
List__ 
<__ ,
 HisContratoconsultorioadendaCabE__ 1
>__1 2
oListar__3 :
=__; <
new__= @
List__A E
<__E F,
 HisContratoconsultorioadendaCabE__F f
>__f g
(__g h
)__h i
;__i j,
 HisContratoconsultorioadendaCabE`` ,-
!oHisContratoconsultorioadendaCabE``- N
=``O P
null``Q U
;``U V
usingaa 
(aa 
SqlConnectionaa  
cnnaa! $
=aa% &
newaa' *
SqlConnectionaa+ 8
(aa8 9
VariablesGlobalesaa9 J
.aaJ K

CnnClinicaaaK U
)aaU V
)aaV W
{bb 
usingcc 
(cc 

SqlCommandcc !
cmdcc" %
=cc& '
newcc( +

SqlCommandcc, 6
(cc6 7
$strcc7 d
,ccd e
cnnccf i
)cci j
)ccj k
{dd 
cmdee 
.ee 
CommandTypeee #
=ee$ %
Systemee& ,
.ee, -
Dataee- 1
.ee1 2
CommandTypeee2 =
.ee= >
StoredProcedureee> M
;eeM N
cmdgg 
.gg 

Parametersgg "
.gg" #
AddWithValuegg# /
(gg/ 0
$strgg0 ;
,gg; <-
!pHisContratoconsultorioadendaCabEgg= ^
.gg^ _
IDBuscargg_ g
)ggg h
;ggh i
cmdhh 
.hh 

Parametershh "
.hh" #
AddWithValuehh# /
(hh/ 0
$strhh0 9
,hh9 :-
!pHisContratoconsultorioadendaCabEhh; \
.hh\ ]
Buscarhh] c
)hhc d
;hhd e
cmdii 
.ii 

Parametersii "
.ii" #
AddWithValueii# /
(ii/ 0
$strii0 ?
,ii? @-
!pHisContratoconsultorioadendaCabEiiA b
.iib c
NumeroLineasiic o
)iio p
;iip q
cmdjj 
.jj 

Parametersjj "
.jj" #
AddWithValuejj# /
(jj/ 0
$strjj0 8
,jj8 9-
!pHisContratoconsultorioadendaCabEjj: [
.jj[ \
Ordenjj\ a
)jja b
;jjb c
cnnkk 
.kk 
Openkk 
(kk 
)kk 
;kk 
IDataReaderll 
drll  "
=ll# $
cmdll% (
.ll( )
ExecuteReaderll) 6
(ll6 7
)ll7 8
;ll8 9
whilemm 
(mm 
drmm 
.mm 
Readmm "
(mm" #
)mm# $
)mm$ %
{nn -
!oHisContratoconsultorioadendaCabEoo 9
=oo: ;
LlenarEntidadoo< I
(ooI J
drooJ L
,ooL M-
!pHisContratoconsultorioadendaCabEooN o
)ooo p
;oop q
oListarpp 
.pp  
Addpp  #
(pp# $-
!oHisContratoconsultorioadendaCabEpp$ E
)ppE F
;ppF G
}qq 
drrr 
.rr 
Closerr 
(rr 
)rr 
;rr 
cnnss 
.ss 
Closess 
(ss 
)ss 
;ss  
}tt 
}uu 
returnvv 
oListarvv 
;vv 
}ww 	
publicyy 
boolyy 5
)Sp_HisContratoconsultorioadendaCab_Insertyy =
(yy= >,
 HisContratoconsultorioadendaCabEyy> ^.
!pHisContratoconsultorioadendaCabE	yy_ Ä
)
yyÄ Å
{zz 	
try{{ 
{|| 
using}} 
(}} 
SqlConnection}} $
cnn}}% (
=}}) *
new}}+ .
SqlConnection}}/ <
(}}< =
VariablesGlobales}}= N
.}}N O

CnnClinica}}O Y
)}}Y Z
)}}Z [
{~~ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; f
,f g
cnnh k
)k l
)l m
{
ÄÄ 
cmd
ÅÅ 
.
ÅÅ 
CommandType
ÅÅ '
=
ÅÅ( )
System
ÅÅ* 0
.
ÅÅ0 1
Data
ÅÅ1 5
.
ÅÅ5 6
CommandType
ÅÅ6 A
.
ÅÅA B
StoredProcedure
ÅÅB Q
;
ÅÅQ R
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 E
,
ÉÉE F/
!pHisContratoconsultorioadendaCabE
ÉÉG h
.
ÉÉh i
IdeAdendaCab
ÉÉi u
)
ÉÉu v
;
ÉÉv w
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 V
,
ÑÑV W/
!pHisContratoconsultorioadendaCabE
ÑÑX y
.
ÑÑy z+
IdeHisContratoconsultorioCabÑÑz ñ
)ÑÑñ ó
;ÑÑó ò
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 ?
,
ÖÖ? @/
!pHisContratoconsultorioadendaCabE
ÖÖA b
.
ÖÖb c
TipPago
ÖÖc j
)
ÖÖj k
;
ÖÖk l
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 J
,
ÜÜJ K/
!pHisContratoconsultorioadendaCabE
ÜÜL m
.
ÜÜm n
FecInicioContrato
ÜÜn 
)ÜÜ Ä
;ÜÜÄ Å
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 G
,
ááG H/
!pHisContratoconsultorioadendaCabE
ááI j
.
ááj k
FecFinContrato
áák y
)
ááy z
;
ááz {
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 G
,
ààG H/
!pHisContratoconsultorioadendaCabE
ààI j
.
ààj k
DsObservaciones
ààk z
)
ààz {
;
àà{ |
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 H
,
ââH I/
!pHisContratoconsultorioadendaCabE
ââJ k
.
ââk l
CntRentaMensual
ââl {
)
ââ{ |
;
ââ| }
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 F
,
ääF G/
!pHisContratoconsultorioadendaCabE
ääH i
.
ääi j
CntTotalHoras
ääj w
)
ääw x
;
ääx y
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 F
,
ããF G/
!pHisContratoconsultorioadendaCabE
ããH i
.
ããi j
CntPrecioxhora
ããj x
)
ããx y
;
ããy z
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 C
,
ååC D/
!pHisContratoconsultorioadendaCabE
ååE f
.
ååf g
EstContrato
ååg r
)
åår s
;
åås t
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 A
,
ççA B/
!pHisContratoconsultorioadendaCabE
ççC d
.
ççd e
	EstAdenda
ççe n
)
ççn o
;
çço p
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 C
,
ééC D/
!pHisContratoconsultorioadendaCabE
ééE f
.
ééf g
FecRegistro
éég r
)
éér s
;
éés t
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 C
,
èèC D/
!pHisContratoconsultorioadendaCabE
èèE f
.
èèf g
UsrRegistra
èèg r
)
èèr s
;
èès t
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 H
,
êêH I/
!pHisContratoconsultorioadendaCabE
êêJ k
.
êêk l
FecActualizacion
êêl |
)
êê| }
;
êê} ~
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 H
,
ëëH I/
!pHisContratoconsultorioadendaCabE
ëëJ k
.
ëëk l
UsrActualizacion
ëël |
)
ëë| }
;
ëë} ~
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 J
,
ííJ K/
!pHisContratoconsultorioadendaCabE
ííL m
.
íím n
BlbArchivoAdjunto
íín 
)íí Ä
;ííÄ Å
cnn
ññ 
.
ññ 
Open
ññ  
(
ññ  !
)
ññ! "
;
ññ" #
int
òò 
exito
òò !
=
òò" #
cmd
òò$ '
.
òò' (
ExecuteNonQuery
òò( 7
(
òò7 8
)
òò8 9
;
òò9 :
cnn
ôô 
.
ôô 
Close
ôô !
(
ôô! "
)
ôô" #
;
ôô# $
cmd
öö 
.
öö 
Dispose
öö #
(
öö# $
)
öö$ %
;
öö% &
if
õõ 
(
õõ 
exito
õõ !
>=
õõ" $
$num
õõ% &
)
õõ& '
{
úú 
return
ùù "
true
ùù# '
;
ùù' (
}
ûû 
else
üü 
{
†† 
return
°° "
false
°°# (
;
°°( )
}
¢¢ 
}
££ 
}
§§ 
}
•• 
catch
¶¶ 
(
¶¶ 
	Exception
¶¶ 
e
¶¶ 
)
¶¶ 
{
ßß 
throw
ßß 
e
ßß 
=
ßß 
new
ßß 
	Exception
ßß %
(
ßß% &
e
ßß& '
.
ßß' (
Message
ßß( /
)
ßß/ 0
;
ßß0 1
}
ßß2 3
}
®® 	
public
™™ 
int
™™ :
,Sp_HisContratoconsultorioadendaCab_Insert_RB
™™ ?
(
™™? @.
 HisContratoconsultorioadendaCabE
™™@ `0
!pHisContratoconsultorioadendaCabE™™a Ç
,™™Ç É
SqlConnection™™Ñ ë
cnn™™í ï
,™™ï ñ

SqlCommand™™ó °
cmd™™¢ •
,™™• ¶
SqlTransaction™™ß µ
transaction™™∂ ¡
)™™¡ ¬
{
´´ 	
cmd
¨¨ 
=
¨¨ 
new
¨¨ 

SqlCommand
¨¨  
(
¨¨  !
$str
¨¨! L
,
¨¨L M
cnn
¨¨N Q
,
¨¨Q R
transaction
¨¨S ^
)
¨¨^ _
;
¨¨_ `
cmd
≠≠ 
.
≠≠ 
CommandType
≠≠ 
=
≠≠ 
System
≠≠ $
.
≠≠$ %
Data
≠≠% )
.
≠≠) *
CommandType
≠≠* 5
.
≠≠5 6
StoredProcedure
≠≠6 E
;
≠≠E F
cmd
ØØ 
.
ØØ 

Parameters
ØØ 
.
ØØ 
AddWithValue
ØØ '
(
ØØ' (
$str
ØØ( J
,
ØØJ K/
!pHisContratoconsultorioadendaCabE
ØØL m
.
ØØm n+
IdeHisContratoconsultorioCabØØn ä
)ØØä ã
;ØØã å
cmd
∞∞ 
.
∞∞ 

Parameters
∞∞ 
.
∞∞ 
AddWithValue
∞∞ '
(
∞∞' (
$str
∞∞( 3
,
∞∞3 4/
!pHisContratoconsultorioadendaCabE
∞∞5 V
.
∞∞V W
TipPago
∞∞W ^
)
∞∞^ _
;
∞∞_ `
cmd
±± 
.
±± 

Parameters
±± 
.
±± 
AddWithValue
±± '
(
±±' (
$str
±±( >
,
±±> ?/
!pHisContratoconsultorioadendaCabE
±±@ a
.
±±a b
FecInicioContrato
±±b s
)
±±s t
;
±±t u
cmd
≤≤ 
.
≤≤ 

Parameters
≤≤ 
.
≤≤ 
AddWithValue
≤≤ '
(
≤≤' (
$str
≤≤( ;
,
≤≤; </
!pHisContratoconsultorioadendaCabE
≤≤= ^
.
≤≤^ _
FecFinContrato
≤≤_ m
)
≤≤m n
;
≤≤n o
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ 
.
≥≥ 
AddWithValue
≥≥ '
(
≥≥' (
$str
≥≥( ;
,
≥≥; </
!pHisContratoconsultorioadendaCabE
≥≥= ^
.
≥≥^ _
DsObservaciones
≥≥_ n
)
≥≥n o
;
≥≥o p
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ 
.
¥¥ 
AddWithValue
¥¥ '
(
¥¥' (
$str
¥¥( <
,
¥¥< =/
!pHisContratoconsultorioadendaCabE
¥¥> _
.
¥¥_ `
CntRentaMensual
¥¥` o
)
¥¥o p
;
¥¥p q
cmd
µµ 
.
µµ 

Parameters
µµ 
.
µµ 
AddWithValue
µµ '
(
µµ' (
$str
µµ( :
,
µµ: ;/
!pHisContratoconsultorioadendaCabE
µµ< ]
.
µµ] ^
CntTotalHoras
µµ^ k
)
µµk l
;
µµl m
cmd
∂∂ 
.
∂∂ 

Parameters
∂∂ 
.
∂∂ 
AddWithValue
∂∂ '
(
∂∂' (
$str
∂∂( :
,
∂∂: ;/
!pHisContratoconsultorioadendaCabE
∂∂< ]
.
∂∂] ^
CntPrecioxhora
∂∂^ l
)
∂∂l m
;
∂∂m n
cmd
∑∑ 
.
∑∑ 

Parameters
∑∑ 
.
∑∑ 
AddWithValue
∑∑ '
(
∑∑' (
$str
∑∑( 7
,
∑∑7 8/
!pHisContratoconsultorioadendaCabE
∑∑9 Z
.
∑∑Z [
EstContrato
∑∑[ f
)
∑∑f g
;
∑∑g h
cmd
∏∏ 
.
∏∏ 

Parameters
∏∏ 
.
∏∏ 
AddWithValue
∏∏ '
(
∏∏' (
$str
∏∏( 5
,
∏∏5 6/
!pHisContratoconsultorioadendaCabE
∏∏7 X
.
∏∏X Y
	EstAdenda
∏∏Y b
)
∏∏b c
;
∏∏c d
cmd
ππ 
.
ππ 

Parameters
ππ 
.
ππ 
AddWithValue
ππ '
(
ππ' (
$str
ππ( 7
,
ππ7 8/
!pHisContratoconsultorioadendaCabE
ππ9 Z
.
ππZ [
FecRegistro
ππ[ f
)
ππf g
;
ππg h
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ 
.
∫∫ 
AddWithValue
∫∫ '
(
∫∫' (
$str
∫∫( 7
,
∫∫7 8/
!pHisContratoconsultorioadendaCabE
∫∫9 Z
.
∫∫Z [
UsrRegistra
∫∫[ f
)
∫∫f g
;
∫∫g h
cmd
ªª 
.
ªª 

Parameters
ªª 
.
ªª 
AddWithValue
ªª '
(
ªª' (
$str
ªª( <
,
ªª< =/
!pHisContratoconsultorioadendaCabE
ªª> _
.
ªª_ `
FecActualizacion
ªª` p
)
ªªp q
;
ªªq r
cmd
ºº 
.
ºº 

Parameters
ºº 
.
ºº 
AddWithValue
ºº '
(
ºº' (
$str
ºº( <
,
ºº< =/
!pHisContratoconsultorioadendaCabE
ºº> _
.
ºº_ `
UsrActualizacion
ºº` p
)
ººp q
;
ººq r
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ 
.
ΩΩ 
AddWithValue
ΩΩ '
(
ΩΩ' (
$str
ΩΩ( >
,
ΩΩ> ?/
!pHisContratoconsultorioadendaCabE
ΩΩ@ a
.
ΩΩa b
BlbArchivoAdjunto
ΩΩb s
)
ΩΩs t
;
ΩΩt u
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ 
.
¿¿ 
Add
¿¿ 
(
¿¿ 
VariablesGlobales
¿¿ 0
.
¿¿0 1
ParametroSql
¿¿1 =
(
¿¿= >
$str
¿¿> O
,
¿¿O P 
ParameterDirection
¿¿Q c
.
¿¿c d
InputOutput
¿¿d o
,
¿¿o p
	SqlDbType
¿¿q z
.
¿¿z {
Int
¿¿{ ~
,
¿¿~ 
$num¿¿Ä Å
,¿¿Å Ç1
!pHisContratoconsultorioadendaCabE¿¿É §
.¿¿§ •
IdeAdendaCab¿¿• ±
.¿¿± ≤
ToString¿¿≤ ∫
(¿¿∫ ª
)¿¿ª º
)¿¿º Ω
)¿¿Ω æ
;¿¿æ ø
cmd
¬¬ 
.
¬¬ 
ExecuteNonQuery
¬¬ 
(
¬¬  
)
¬¬  !
;
¬¬! "/
!pHisContratoconsultorioadendaCabE
√√ -
.
√√- .
IdeAdendaCab
√√. :
=
√√; <
Convert
√√= D
.
√√D E
ToInt32
√√E L
(
√√L M
cmd
√√M P
.
√√P Q

Parameters
√√Q [
[
√√[ \
$str
√√\ m
]
√√m n
.
√√n o
Value
√√o t
)
√√t u
;
√√u v
return
ƒƒ /
!pHisContratoconsultorioadendaCabE
ƒƒ 4
.
ƒƒ4 5
IdeAdendaCab
ƒƒ5 A
;
ƒƒA B
}
≈≈ 	
public
∆∆ 
bool
∆∆ 7
)Sp_HisContratoconsultorioadendaCab_Update
∆∆ =
(
∆∆= >.
 HisContratoconsultorioadendaCabE
∆∆> ^0
!pHisContratoconsultorioadendaCabE∆∆_ Ä
)∆∆Ä Å
{
«« 	
try
»» 
{
…… 
using
   
(
   
SqlConnection
   $
cnn
  % (
=
  ) *
new
  + .
SqlConnection
  / <
(
  < =
VariablesGlobales
  = N
.
  N O

CnnClinica
  O Y
)
  Y Z
)
  Z [
{
ÀÀ 
using
ÃÃ 
(
ÃÃ 

SqlCommand
ÃÃ %
cmd
ÃÃ& )
=
ÃÃ* +
new
ÃÃ, /

SqlCommand
ÃÃ0 :
(
ÃÃ: ;
$str
ÃÃ; f
,
ÃÃf g
cnn
ÃÃh k
)
ÃÃk l
)
ÃÃl m
{
ÕÕ 
cmd
ŒŒ 
.
ŒŒ 
CommandType
ŒŒ '
=
ŒŒ( )
System
ŒŒ* 0
.
ŒŒ0 1
Data
ŒŒ1 5
.
ŒŒ5 6
CommandType
ŒŒ6 A
.
ŒŒA B
StoredProcedure
ŒŒB Q
;
ŒŒQ R
cmd
–– 
.
–– 

Parameters
–– &
.
––& '
AddWithValue
––' 3
(
––3 4
$str
––4 E
,
––E F/
!pHisContratoconsultorioadendaCabE
––G h
.
––h i
IdeAdendaCab
––i u
)
––u v
;
––v w
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 V
,
——V W/
!pHisContratoconsultorioadendaCabE
——X y
.
——y z+
IdeHisContratoconsultorioCab——z ñ
)——ñ ó
;——ó ò
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 ?
,
““? @/
!pHisContratoconsultorioadendaCabE
““A b
.
““b c
TipPago
““c j
)
““j k
;
““k l
cmd
”” 
.
”” 

Parameters
”” &
.
””& '
AddWithValue
””' 3
(
””3 4
$str
””4 J
,
””J K/
!pHisContratoconsultorioadendaCabE
””L m
.
””m n
FecInicioContrato
””n 
)”” Ä
;””Ä Å
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ &
.
‘‘& '
AddWithValue
‘‘' 3
(
‘‘3 4
$str
‘‘4 G
,
‘‘G H/
!pHisContratoconsultorioadendaCabE
‘‘I j
.
‘‘j k
FecFinContrato
‘‘k y
)
‘‘y z
;
‘‘z {
cmd
’’ 
.
’’ 

Parameters
’’ &
.
’’& '
AddWithValue
’’' 3
(
’’3 4
$str
’’4 G
,
’’G H/
!pHisContratoconsultorioadendaCabE
’’I j
.
’’j k
DsObservaciones
’’k z
)
’’z {
;
’’{ |
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
AddWithValue
÷÷' 3
(
÷÷3 4
$str
÷÷4 H
,
÷÷H I/
!pHisContratoconsultorioadendaCabE
÷÷J k
.
÷÷k l
CntRentaMensual
÷÷l {
)
÷÷{ |
;
÷÷| }
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ &
.
◊◊& '
AddWithValue
◊◊' 3
(
◊◊3 4
$str
◊◊4 F
,
◊◊F G/
!pHisContratoconsultorioadendaCabE
◊◊H i
.
◊◊i j
CntTotalHoras
◊◊j w
)
◊◊w x
;
◊◊x y
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ &
.
ÿÿ& '
AddWithValue
ÿÿ' 3
(
ÿÿ3 4
$str
ÿÿ4 F
,
ÿÿF G/
!pHisContratoconsultorioadendaCabE
ÿÿH i
.
ÿÿi j
CntPrecioxhora
ÿÿj x
)
ÿÿx y
;
ÿÿy z
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ &
.
ŸŸ& '
AddWithValue
ŸŸ' 3
(
ŸŸ3 4
$str
ŸŸ4 A
,
ŸŸA B/
!pHisContratoconsultorioadendaCabE
ŸŸC d
.
ŸŸd e
	EstAdenda
ŸŸe n
)
ŸŸn o
;
ŸŸo p
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ &
.
⁄⁄& '
AddWithValue
⁄⁄' 3
(
⁄⁄3 4
$str
⁄⁄4 C
,
⁄⁄C D/
!pHisContratoconsultorioadendaCabE
⁄⁄E f
.
⁄⁄f g
FecRegistro
⁄⁄g r
)
⁄⁄r s
;
⁄⁄s t
cmd
€€ 
.
€€ 

Parameters
€€ &
.
€€& '
AddWithValue
€€' 3
(
€€3 4
$str
€€4 C
,
€€C D/
!pHisContratoconsultorioadendaCabE
€€E f
.
€€f g
UsrRegistra
€€g r
)
€€r s
;
€€s t
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ &
.
‹‹& '
AddWithValue
‹‹' 3
(
‹‹3 4
$str
‹‹4 H
,
‹‹H I/
!pHisContratoconsultorioadendaCabE
‹‹J k
.
‹‹k l
FecActualizacion
‹‹l |
)
‹‹| }
;
‹‹} ~
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 H
,
››H I/
!pHisContratoconsultorioadendaCabE
››J k
.
››k l
UsrActualizacion
››l |
)
››| }
;
››} ~
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ &
.
ﬁﬁ& '
AddWithValue
ﬁﬁ' 3
(
ﬁﬁ3 4
$str
ﬁﬁ4 J
,
ﬁﬁJ K/
!pHisContratoconsultorioadendaCabE
ﬁﬁL m
.
ﬁﬁm n
BlbArchivoAdjunto
ﬁﬁn 
)ﬁﬁ Ä
;ﬁﬁÄ Å
cnn
‡‡ 
.
‡‡ 
Open
‡‡  
(
‡‡  !
)
‡‡! "
;
‡‡" #
int
‚‚ 
exito
‚‚ !
=
‚‚" #
cmd
‚‚$ '
.
‚‚' (
ExecuteNonQuery
‚‚( 7
(
‚‚7 8
)
‚‚8 9
;
‚‚9 :
cnn
„„ 
.
„„ 
Close
„„ !
(
„„! "
)
„„" #
;
„„# $
cmd
‰‰ 
.
‰‰ 
Dispose
‰‰ #
(
‰‰# $
)
‰‰$ %
;
‰‰% &
if
ÂÂ 
(
ÂÂ 
exito
ÂÂ !
>=
ÂÂ" $
$num
ÂÂ% &
)
ÂÂ& '
{
ÊÊ 
return
ÊÊ  
true
ÊÊ! %
;
ÊÊ% &
}
ÊÊ' (
else
ÁÁ 
{
ËË 
return
ËË  
false
ËË! &
;
ËË& '
}
ËË( )
}
ÈÈ 
}
ÍÍ 
}
ÎÎ 
catch
ÏÏ 
(
ÏÏ 
	Exception
ÏÏ 
e
ÏÏ 
)
ÏÏ 
{
ÌÌ 
throw
ÌÌ 
e
ÌÌ 
=
ÌÌ 
new
ÌÌ 
	Exception
ÌÌ %
(
ÌÌ% &
e
ÌÌ& '
.
ÌÌ' (
Message
ÌÌ( /
)
ÌÌ/ 0
;
ÌÌ0 1
}
ÌÌ2 3
}
ÓÓ 	
public
 
bool
 =
/Sp_HisContratoconsultorioadendaCab_UpdatexCampo
 C
(
C D.
 HisContratoconsultorioadendaCabE
D d0
!pHisContratoconsultorioadendaCabEe Ü
)Ü á
{
ÒÒ 	
try
ÚÚ 
{
ÛÛ 
using
ÙÙ 
(
ÙÙ 
SqlConnection
ÙÙ $
cnn
ÙÙ% (
=
ÙÙ) *
new
ÙÙ+ .
SqlConnection
ÙÙ/ <
(
ÙÙ< =
VariablesGlobales
ÙÙ= N
.
ÙÙN O

CnnClinica
ÙÙO Y
)
ÙÙY Z
)
ÙÙZ [
{
ıı 
using
ˆˆ 
(
ˆˆ 

SqlCommand
ˆˆ %
cmd
ˆˆ& )
=
ˆˆ* +
new
ˆˆ, /

SqlCommand
ˆˆ0 :
(
ˆˆ: ;
$str
ˆˆ; l
,
ˆˆl m
cnn
ˆˆn q
)
ˆˆq r
)
ˆˆr s
{
˜˜ 
cmd
¯¯ 
.
¯¯ 
CommandType
¯¯ '
=
¯¯( )
System
¯¯* 0
.
¯¯0 1
Data
¯¯1 5
.
¯¯5 6
CommandType
¯¯6 A
.
¯¯A B
StoredProcedure
¯¯B Q
;
¯¯Q R
cmd
˙˙ 
.
˙˙ 

Parameters
˙˙ &
.
˙˙& '
AddWithValue
˙˙' 3
(
˙˙3 4
$str
˙˙4 E
,
˙˙E F/
!pHisContratoconsultorioadendaCabE
˙˙G h
.
˙˙h i
IdeAdendaCab
˙˙i u
)
˙˙u v
;
˙˙v w
cmd
˚˚ 
.
˚˚ 

Parameters
˚˚ &
.
˚˚& '
AddWithValue
˚˚' 3
(
˚˚3 4
$str
˚˚4 V
,
˚˚V W/
!pHisContratoconsultorioadendaCabE
˚˚X y
.
˚˚y z+
IdeHisContratoconsultorioCab˚˚z ñ
)˚˚ñ ó
;˚˚ó ò
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ &
.
¸¸& '
AddWithValue
¸¸' 3
(
¸¸3 4
$str
¸¸4 B
,
¸¸B C/
!pHisContratoconsultorioadendaCabE
¸¸D e
.
¸¸e f

NuevoValor
¸¸f p
)
¸¸p q
;
¸¸q r
cmd
˝˝ 
.
˝˝ 

Parameters
˝˝ &
.
˝˝& '
AddWithValue
˝˝' 3
(
˝˝3 4
$str
˝˝4 <
,
˝˝< =/
!pHisContratoconsultorioadendaCabE
˝˝> _
.
˝˝_ `
Campo
˝˝` e
)
˝˝e f
;
˝˝f g
cmd
˛˛ 
.
˛˛ 

Parameters
˛˛ &
.
˛˛& '
AddWithValue
˛˛' 3
(
˛˛3 4
$str
˛˛4 <
,
˛˛< =/
!pHisContratoconsultorioadendaCabE
˛˛> _
.
˛˛_ `
Orden
˛˛` e
)
˛˛e f
;
˛˛f g
cnn
ÄÄ 
.
ÄÄ 
Open
ÄÄ  
(
ÄÄ  !
)
ÄÄ! "
;
ÄÄ" #
int
ÇÇ 
exito
ÇÇ !
=
ÇÇ" #
cmd
ÇÇ$ '
.
ÇÇ' (
ExecuteNonQuery
ÇÇ( 7
(
ÇÇ7 8
)
ÇÇ8 9
;
ÇÇ9 :
cnn
ÉÉ 
.
ÉÉ 
Close
ÉÉ !
(
ÉÉ! "
)
ÉÉ" #
;
ÉÉ# $
cmd
ÑÑ 
.
ÑÑ 
Dispose
ÑÑ #
(
ÑÑ# $
)
ÑÑ$ %
;
ÑÑ% &
if
ÖÖ 
(
ÖÖ 
exito
ÖÖ !
>=
ÖÖ" $
$num
ÖÖ% &
)
ÖÖ& '
{
ÜÜ 
return
ÜÜ  
true
ÜÜ! %
;
ÜÜ% &
}
ÜÜ' (
else
áá 
{
àà 
return
àà  
false
àà! &
;
àà& '
}
àà( )
}
ââ 
}
ää 
}
ãã 
catch
åå 
(
åå 
	Exception
åå 
e
åå 
)
åå 
{
çç 
throw
çç 
e
çç 
=
çç 
new
çç 
	Exception
çç %
(
çç% &
e
çç& '
.
çç' (
Message
çç( /
)
çç/ 0
;
çç0 1
}
çç2 3
}
éé 	
public
êê 
void
êê @
2Sp_HisContratoconsultorioadendaCab_UpdatexCampo_RB
êê F
(
êêF G.
 HisContratoconsultorioadendaCabE
êêG g0
!pHisContratoconsultorioadendaCabEêêh â
,êêâ ä
SqlConnectionêêã ò
cnnêêô ú
,êêú ù

SqlCommandêêû ®
cmdêê© ¨
,êê¨ ≠
SqlTransactionêêÆ º
transactionêêΩ »
)êê» …
{
ëë 	
cmd
íí 
=
íí 
new
íí 

SqlCommand
íí  
(
íí  !
$str
íí! R
,
ííR S
cnn
ííT W
,
ííW X
transaction
ííY d
)
ííd e
;
ííe f
cmd
îî 
.
îî 
CommandType
îî 
=
îî 
System
îî $
.
îî$ %
Data
îî% )
.
îî) *
CommandType
îî* 5
.
îî5 6
StoredProcedure
îî6 E
;
îîE F
cmd
ïï 
.
ïï 

Parameters
ïï 
.
ïï 
AddWithValue
ïï '
(
ïï' (
$str
ïï( 9
,
ïï9 :/
!pHisContratoconsultorioadendaCabE
ïï; \
.
ïï\ ]
IdeAdendaCab
ïï] i
)
ïïi j
;
ïïj k
cmd
ññ 
.
ññ 

Parameters
ññ 
.
ññ 
AddWithValue
ññ '
(
ññ' (
$str
ññ( J
,
ññJ K/
!pHisContratoconsultorioadendaCabE
ññL m
.
ññm n+
IdeHisContratoconsultorioCabññn ä
)ññä ã
;ññã å
cmd
óó 
.
óó 

Parameters
óó 
.
óó 
AddWithValue
óó '
(
óó' (
$str
óó( 6
,
óó6 7/
!pHisContratoconsultorioadendaCabE
óó8 Y
.
óóY Z

NuevoValor
óóZ d
)
óód e
;
óóe f
cmd
òò 
.
òò 

Parameters
òò 
.
òò 
AddWithValue
òò '
(
òò' (
$str
òò( 0
,
òò0 1/
!pHisContratoconsultorioadendaCabE
òò2 S
.
òòS T
Campo
òòT Y
)
òòY Z
;
òòZ [
cmd
ôô 
.
ôô 

Parameters
ôô 
.
ôô 
AddWithValue
ôô '
(
ôô' (
$str
ôô( 0
,
ôô0 1/
!pHisContratoconsultorioadendaCabE
ôô2 S
.
ôôS T
Orden
ôôT Y
)
ôôY Z
;
ôôZ [
cmd
öö 
.
öö 
ExecuteNonQuery
öö 
(
öö  
)
öö  !
;
öö! "
}
õõ 	
}
úú 
}ùù /
\D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ComprobantesAD\SerieAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
	ClinicaAD

 
.

 
ComprobantesAD

 *
{ 
public 

class 
SerieAD 
{ 
private 
SerieE 
LlenarEntidad $
($ %
IDataReader% 0
dr1 3
,3 4
SerieE' -
pSerieE. 5
)5 6
{ 	
SerieE 
oSerieE 
= 
new  
SerieE! '
(' (
)( )
;) *
switch 
( 
pSerieE 
. 
Orden !
)! "
{ 
case 
$num 
: 
oSerieE 
. 
	Tiposerie %
=& '
Convert( /
./ 0
ToString0 8
(8 9
dr9 ;
[; <
$str< G
]G H
)H I
;I J
oSerieE 
. 
Serie !
=" #
Convert$ +
.+ ,
ToString, 4
(4 5
dr5 7
[7 8
$str8 ?
]? @
)@ A
;A B
oSerieE 
. 
Correlativo '
=( )
Convert* 1
.1 2
ToString2 :
(: ;
dr; =
[= >
$str> K
]K L
)L M
;M N
oSerieE 
. 
Codlocal $
=% &
Convert' .
.. /
ToString/ 7
(7 8
dr8 :
[: ;
$str; E
]E F
)F G
;G H
oSerieE 
. 
	Codcentro %
=& '
Convert( /
./ 0
ToString0 8
(8 9
dr9 ;
[; <
$str< G
]G H
)H I
;I J
oSerieE 
. 
Tipocomprobante +
=, -
Convert. 5
.5 6
ToString6 >
(> ?
dr? A
[A B
$strB S
]S T
)T U
;U V
oSerieE 
. 
FlgElectronico *
=+ ,
Convert- 4
.4 5
ToString5 =
(= >
dr> @
[@ A
$strA R
]R S
)S T
;T U
oSerieE 
. 

FlgOtorgar &
=' (
Convert) 0
.0 1
ToInt321 8
(8 9
dr9 ;
[; <
$str< I
]I J
)J K
;K L
oSerieE 
. 
FormatoElectronico .
=/ 0
Convert1 8
.8 9
ToString9 A
(A B
drB D
[D E
$strE Z
]Z [
)[ \
;\ ]
break 
; 
} 
return!! 
oSerieE!! 
;!! 
}"" 	
public$$ 
List$$ 
<$$ 
SerieE$$ 
>$$ 
Sp_Serie_Consulta$$ -
($$- .
SerieE$$. 4
pSerieE$$5 <
)$$< =
{%% 	
List&& 
<&& 
SerieE&& 
>&& 
oListar&&  
=&&! "
new&&# &
List&&' +
<&&+ ,
SerieE&&, 2
>&&2 3
(&&3 4
)&&4 5
;&&5 6
SerieE'' 
oSerieE'' 
='' 
null'' !
;''! "
using(( 
((( 
SqlConnection((  
cnn((! $
=((% &
new((' *
SqlConnection((+ 8
(((8 9
VariablesGlobales((9 J
.((J K

CnnClinica((K U
)((U V
)((V W
{)) 
using** 
(** 

SqlCommand** !
cmd**" %
=**& '
new**( +

SqlCommand**, 6
(**6 7
$str**7 L
,**L M
cnn**N Q
)**Q R
)**R S
{++ 
cmd,, 
.,, 
CommandType,, #
=,,$ %
System,,& ,
.,,, -
Data,,- 1
.,,1 2
CommandType,,2 =
.,,= >
StoredProcedure,,> M
;,,M N
cmd.. 
... 

Parameters.. "
..." #
AddWithValue..# /
(../ 0
$str..0 9
,..9 :
pSerieE..; B
...B C
Buscar..C I
)..I J
;..J K
cmd// 
.// 

Parameters// "
.//" #
AddWithValue//# /
(/// 0
$str//0 ?
,//? @
pSerieE//A H
.//H I
NumeroLineas//I U
)//U V
;//V W
cmd00 
.00 

Parameters00 "
.00" #
AddWithValue00# /
(00/ 0
$str000 8
,008 9
pSerieE00: A
.00A B
Orden00B G
)00G H
;00H I
cnn11 
.11 
Open11 
(11 
)11 
;11 
IDataReader22 
dr22  "
=22# $
cmd22% (
.22( )
ExecuteReader22) 6
(226 7
)227 8
;228 9
while33 
(33 
dr33 
.33 
Read33 "
(33" #
)33# $
)33$ %
{44 
oSerieE55 
=55  !
LlenarEntidad55" /
(55/ 0
dr550 2
,552 3
pSerieE554 ;
)55; <
;55< =
oListar66 
.66  
Add66  #
(66# $
oSerieE66$ +
)66+ ,
;66, -
}77 
dr88 
.88 
Close88 
(88 
)88 
;88 
cnn99 
.99 
Close99 
(99 
)99 
;99  
}:: 
};; 
return<< 
oListar<< 
;<< 
}== 	
}>> 
}?? ø"
\D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ComprobantesAD\NotasAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ComprobantesAD *
{ 
public 

class 
NotasAD 
{ 
public 
int &
Sp_NotaCredito_GenerarAuto -
(- .
ref. 1
NotasE2 8
pNotasE9 @
)@ A
{ 	
bool 
xResult 
= 
false  
;  !
try 
{ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{ 
using 
( 

SqlCommand %
cmd& )
=* +
new, /

SqlCommand0 :
(: ;
$str; W
,W X
cnnY \
)\ ]
)] ^
{ 
cmd 
. 
CommandType '
=( )
CommandType* 5
.5 6
StoredProcedure6 E
;E F
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 E
,E F
pNotasEG N
.N O
CodComprobanteO ]
)] ^
;^ _
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 >
,> ?
pNotasE@ G
.G H
SerieNCH O
)O P
;P Q
cmd 
. 

Parameters &
.& '
Add' *
(* +
VariablesGlobales+ <
.< =
ParametroSql= I
(I J
$strJ T
,T U
ParameterDirectionV h
.h i
InputOutputi t
,t u
	SqlDbTypev 
.	 Ä
Char
Ä Ñ
,
Ñ Ö
$num
Ü à
,
à â
pNotasE
ä ë
.
ë í
CodNota
í ô
)
ô ö
)
ö õ
;
õ ú
cmd 
. 

Parameters &
.& '
Add' *
(* +
VariablesGlobales+ <
.< =
ParametroSql= I
(I J
$strJ P
,P Q
ParameterDirectionR d
.d e
InputOutpute p
,p q
	SqlDbTyper {
.{ |
VarChar	| É
,
É Ñ
$num
Ö à
,
à â
pNotasE
ä ë
.
ë í
MsgError
í ö
)
ö õ
)
õ ú
;
ú ù
cnn 
. 
Open  
(  !
)! "
;" #
cmd   
.   
ExecuteNonQuery   +
(  + ,
)  , -
;  - .
pNotasE"" 
.""  
CodNota""  '
=""( )
Strings""* 1
.""1 2
RTrim""2 7
(""7 8
cmd""8 ;
.""; <

Parameters""< F
[""F G
$str""G Q
]""Q R
.""R S
Value""S X
+""Y Z
$str""[ ]
)""] ^
;""^ _
pNotasE## 
.##  
MsgError##  (
=##) *
cmd##+ .
.##. /

Parameters##/ 9
[##9 :
$str##: @
]##@ A
.##A B
Value##B G
+##H I
$str##J L
;##L M
xResult$$ 
=$$  !
true$$" &
;$$& '
cnn&& 
.&& 
Close&& !
(&&! "
)&&" #
;&&# $
cmd'' 
.'' 
Dispose'' #
(''# $
)''$ %
;''% &
}(( 
})) 
return++ 
Convert++ 
.++ 
ToInt32++ &
(++& '
xResult++' .
)++. /
;++/ 0
},, 
catch-- 
(-- 
	Exception-- 
ex-- 
)--  
{.. 
throw// 
new// 
	Exception// #
(//# $
ex//$ &
.//& '
Message//' .
)//. /
;/// 0
}00 
}11 	
}22 
}33 òæ
sD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ContratosAD\HisContratoconsultorioadendaDetAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ContratosAD '
{ 
public 

class -
!HisContratoconsultorioadendaDetAD 2
{ 
private ,
 HisContratoconsultorioadendaDetE 0
LlenarEntidad1 >
(> ?
IDataReader? J
drK M
,M N,
 HisContratoconsultorioadendaDetE' G-
!pHisContratoconsultorioadendaDetEH i
)i j
{ 	,
 HisContratoconsultorioadendaDetE ,-
!oHisContratoconsultorioadendaDetE- N
=O P
newQ T,
 HisContratoconsultorioadendaDetEU u
(u v
)v w
;w x
switch 
( -
!pHisContratoconsultorioadendaDetE 5
.5 6
Orden6 ;
); <
{ 
case 
$num 
: -
!oHisContratoconsultorioadendaDetE   5
.  5 6
IdeAdendaCab  6 B
=  C D
Convert  E L
.  L M
ToInt32  M T
(  T U
dr  U W
[  W X
$str  X h
]  h i
)  i j
;  j k-
!oHisContratoconsultorioadendaDetE!! 5
.!!5 6
IdeCalendario!!6 C
=!!D E
Convert!!F M
.!!M N
ToInt32!!N U
(!!U V
dr!!V X
[!!X Y
$str!!Y i
]!!i j
)!!j k
;!!k l-
!oHisContratoconsultorioadendaDetE"" 5
.""5 6
IdeBeneficiosadenda""6 I
=""J K
Convert""L S
.""S T
ToInt32""T [
(""[ \
dr""\ ^
[""^ _
$str""_ u
]""u v
)""v w
;""w x-
!oHisContratoconsultorioadendaDetE## 5
.##5 6
Estado##6 <
=##= >
Convert##? F
.##F G
ToString##G O
(##O P
dr##P R
[##R S
$str##S [
]##[ \
)##\ ]
;##] ^
break$$ 
;$$ 
case%% 
$num%% 
:%% 
case&& 
$num&& 
:&& -
!oHisContratoconsultorioadendaDetE'' 5
.''5 6
IdeAdendaCab''6 B
=''C D
Convert''E L
.''L M
ToInt32''M T
(''T U
dr''U W
[''W X
$str''X h
]''h i
)''i j
;''j k-
!oHisContratoconsultorioadendaDetE(( 5
.((5 6
IdeCalendario((6 C
=((D E
Convert((F M
.((M N
ToInt32((N U
(((U V
dr((V X
[((X Y
$str((Y i
]((i j
)((j k
;((k l-
!oHisContratoconsultorioadendaDetE)) 5
.))5 6
IdeBeneficiosadenda))6 I
=))J K
Convert))L S
.))S T
ToInt32))T [
())[ \
dr))\ ^
[))^ _
$str))_ u
]))u v
)))v w
;))w x-
!oHisContratoconsultorioadendaDetE** 5
.**5 6
IdeBeneficio**6 B
=**C D
Convert**E L
.**L M
ToInt32**M T
(**T U
dr**U W
[**W X
$str**X g
]**g h
)**h i
;**i j-
!oHisContratoconsultorioadendaDetE++ 5
.++5 6
CntDescuento++6 B
=++C D
Convert++E L
.++L M
ToInt32++M T
(++T U
dr++U W
[++W X
$str++X g
]++g h
)++h i
;++i j-
!oHisContratoconsultorioadendaDetE,, 5
.,,5 6
PrecioxHora,,6 A
=,,B C
Convert,,D K
.,,K L
	ToDecimal,,L U
(,,U V
dr,,V X
[,,X Y
$str,,Y f
],,f g
),,g h
;,,h i-
!oHisContratoconsultorioadendaDetE-- 5
.--5 6
TipDescuento--6 B
=--C D
Convert--E L
.--L M
ToString--M U
(--U V
dr--V X
[--X Y
$str--Y h
]--h i
)--i j
;--j k
break.. 
;.. 
}// 
return00 -
!oHisContratoconsultorioadendaDetE00 4
;004 5
}11 	
public33 
List33 
<33 ,
 HisContratoconsultorioadendaDetE33 4
>334 57
+Sp_HisContratoconsultorioadendaDet_Consulta336 a
(33a b-
 HisContratoconsultorioadendaDetE	33b Ç/
!pHisContratoconsultorioadendaDetE
33É §
)
33§ •
{44 	
List55 
<55 ,
 HisContratoconsultorioadendaDetE55 1
>551 2
oListar553 :
=55; <
new55= @
List55A E
<55E F,
 HisContratoconsultorioadendaDetE55F f
>55f g
(55g h
)55h i
;55i j,
 HisContratoconsultorioadendaDetE66 ,-
!oHisContratoconsultorioadendaDetE66- N
=66O P
null66Q U
;66U V
using77 
(77 
SqlConnection77  
cnn77! $
=77% &
new77' *
SqlConnection77+ 8
(778 9
VariablesGlobales779 J
.77J K

CnnClinica77K U
)77U V
)77V W
{88 
using99 
(99 

SqlCommand99 !
cmd99" %
=99& '
new99( +

SqlCommand99, 6
(996 7
$str997 d
,99d e
cnn99f i
)99i j
)99j k
{:: 
cmd;; 
.;; 
CommandType;; #
=;;$ %
System;;& ,
.;;, -
Data;;- 1
.;;1 2
CommandType;;2 =
.;;= >
StoredProcedure;;> M
;;;M N
cmd== 
.== 

Parameters== "
.==" #
AddWithValue==# /
(==/ 0
$str==0 =
,=== >-
!pHisContratoconsultorioadendaDetE==? `
.==` a
IDBuscar==a i
)==i j
;==j k
cmd>> 
.>> 

Parameters>> "
.>>" #
AddWithValue>># /
(>>/ 0
$str>>0 9
,>>9 :-
!pHisContratoconsultorioadendaDetE>>; \
.>>\ ]
Buscar>>] c
)>>c d
;>>d e
cmd?? 
.?? 

Parameters?? "
.??" #
AddWithValue??# /
(??/ 0
$str??0 ?
,??? @-
!pHisContratoconsultorioadendaDetE??A b
.??b c
NumeroLineas??c o
)??o p
;??p q
cmd@@ 
.@@ 

Parameters@@ "
.@@" #
AddWithValue@@# /
(@@/ 0
$str@@0 8
,@@8 9-
!pHisContratoconsultorioadendaDetE@@: [
.@@[ \
Orden@@\ a
)@@a b
;@@b c
cnnAA 
.AA 
OpenAA 
(AA 
)AA 
;AA 
IDataReaderBB 
drBB  "
=BB# $
cmdBB% (
.BB( )
ExecuteReaderBB) 6
(BB6 7
)BB7 8
;BB8 9
whileCC 
(CC 
drCC 
.CC 
ReadCC "
(CC" #
)CC# $
)CC$ %
{DD -
!oHisContratoconsultorioadendaDetEEE 9
=EE: ;
LlenarEntidadEE< I
(EEI J
drEEJ L
,EEL M-
!pHisContratoconsultorioadendaDetEEEN o
)EEo p
;EEp q
oListarFF 
.FF  
AddFF  #
(FF# $-
!oHisContratoconsultorioadendaDetEFF$ E
)FFE F
;FFF G
}GG 
drHH 
.HH 
CloseHH 
(HH 
)HH 
;HH 
cnnII 
.II 
CloseII 
(II 
)II 
;II  
}JJ 
}KK 
returnLL 
oListarLL 
;LL 
}MM 	
publicOO 
boolOO 5
)Sp_HisContratoconsultorioadendaDet_InsertOO =
(OO= >,
 HisContratoconsultorioadendaDetEOO> ^.
!pHisContratoconsultorioadendaDetE	OO_ Ä
)
OOÄ Å
{PP 	
tryQQ 
{RR 
usingSS 
(SS 
SqlConnectionSS $
cnnSS% (
=SS) *
newSS+ .
SqlConnectionSS/ <
(SS< =
VariablesGlobalesSS= N
.SSN O

CnnClinicaSSO Y
)SSY Z
)SSZ [
{TT 
usingUU 
(UU 

SqlCommandUU %
cmdUU& )
=UU* +
newUU, /

SqlCommandUU0 :
(UU: ;
$strUU; f
,UUf g
cnnUUh k
)UUk l
)UUl m
{VV 
cmdWW 
.WW 
CommandTypeWW '
=WW( )
SystemWW* 0
.WW0 1
DataWW1 5
.WW5 6
CommandTypeWW6 A
.WWA B
StoredProcedureWWB Q
;WWQ R
cmdYY 
.YY 

ParametersYY &
.YY& '
AddWithValueYY' 3
(YY3 4
$strYY4 E
,YYE F-
!pHisContratoconsultorioadendaDetEYYG h
.YYh i
IdeAdendaCabYYi u
)YYu v
;YYv w
cmdZZ 
.ZZ 

ParametersZZ &
.ZZ& '
AddWithValueZZ' 3
(ZZ3 4
$strZZ4 E
,ZZE F-
!pHisContratoconsultorioadendaDetEZZG h
.ZZh i
IdeCalendarioZZi v
)ZZv w
;ZZw x
cmd[[ 
.[[ 

Parameters[[ &
.[[& '
AddWithValue[[' 3
([[3 4
$str[[4 K
,[[K L-
!pHisContratoconsultorioadendaDetE[[M n
.[[n o 
IdeBeneficiosadenda	[[o Ç
)
[[Ç É
;
[[É Ñ
cmd\\ 
.\\ 

Parameters\\ &
.\\& '
AddWithValue\\' 3
(\\3 4
$str\\4 D
,\\D E-
!pHisContratoconsultorioadendaDetE\\F g
.\\g h
CntDescuento\\h t
)\\t u
;\\u v
cmd]] 
.]] 

Parameters]] &
.]]& '
AddWithValue]]' 3
(]]3 4
$str]]4 =
,]]= >-
!pHisContratoconsultorioadendaDetE]]? `
.]]` a
Estado]]a g
)]]g h
;]]h i
cnn__ 
.__ 
Open__  
(__  !
)__! "
;__" #
intaa 
exitoaa !
=aa" #
cmdaa$ '
.aa' (
ExecuteNonQueryaa( 7
(aa7 8
)aa8 9
;aa9 :
cnnbb 
.bb 
Closebb !
(bb! "
)bb" #
;bb# $
cmdcc 
.cc 
Disposecc #
(cc# $
)cc$ %
;cc% &
ifdd 
(dd 
exitodd !
>=dd" $
$numdd% &
)dd& '
{ee 
returnff "
trueff# '
;ff' (
}gg 
elsehh 
{ii 
returnjj "
falsejj# (
;jj( )
}kk 
}ll 
}mm 
}nn 
catchoo 
(oo 
	Exceptionoo 
eoo 
)oo 
{pp 
throwpp 
epp 
=pp 
newpp 
	Exceptionpp %
(pp% &
epp& '
.pp' (
Messagepp( /
)pp/ 0
;pp0 1
}pp2 3
}qq 	
publicss 
intss 8
,Sp_HisContratoconsultorioadendaDet_Insert_RBss ?
(ss? @,
 HisContratoconsultorioadendaDetEss@ `.
!pHisContratoconsultorioadendaDetE	ssa Ç
,
ssÇ É
SqlConnection
ssÑ ë
cnn
ssí ï
,
ssï ñ

SqlCommand
ssó °
cmd
ss¢ •
,
ss• ¶
SqlTransaction
ssß µ
transaction
ss∂ ¡
)
ss¡ ¬
{tt 	
intuu 
exitouu 
;uu 
cmdvv 
=vv 
newvv 

SqlCommandvv  
(vv  !
$strvv! L
,vvL M
cnnvvN Q
,vvQ R
transactionvvS ^
)vv^ _
;vv_ `
cmdww 
.ww 
CommandTypeww 
=ww 
Systemww $
.ww$ %
Dataww% )
.ww) *
CommandTypeww* 5
.ww5 6
StoredProcedureww6 E
;wwE F
cmdxx 
.xx 

Parametersxx 
.xx 
AddWithValuexx '
(xx' (
$strxx( 9
,xx9 :-
!pHisContratoconsultorioadendaDetExx; \
.xx\ ]
IdeAdendaCabxx] i
)xxi j
;xxj k
cmdyy 
.yy 

Parametersyy 
.yy 
AddWithValueyy '
(yy' (
$stryy( 9
,yy9 :-
!pHisContratoconsultorioadendaDetEyy; \
.yy\ ]
IdeCalendarioyy] j
)yyj k
;yyk l
cmdzz 
.zz 

Parameterszz 
.zz 
AddWithValuezz '
(zz' (
$strzz( ?
,zz? @-
!pHisContratoconsultorioadendaDetEzzA b
.zzb c
IdeBeneficiosadendazzc v
)zzv w
;zzw x
cmd{{ 
.{{ 

Parameters{{ 
.{{ 
AddWithValue{{ '
({{' (
$str{{( 8
,{{8 9-
!pHisContratoconsultorioadendaDetE{{: [
.{{[ \
CntDescuento{{\ h
){{h i
;{{i j
cmd|| 
.|| 

Parameters|| 
.|| 
AddWithValue|| '
(||' (
$str||( 8
,||8 9-
!pHisContratoconsultorioadendaDetE||: [
.||[ \
TipDescuento||\ h
)||h i
;||i j
cmd}} 
.}} 

Parameters}} 
.}} 
AddWithValue}} '
(}}' (
$str}}( 6
,}}6 7-
!pHisContratoconsultorioadendaDetE}}8 Y
.}}Y Z
PrecioxHora}}Z e
)}}e f
;}}f g
cmd~~ 
.~~ 

Parameters~~ 
.~~ 
AddWithValue~~ '
(~~' (
$str~~( 1
,~~1 2-
!pHisContratoconsultorioadendaDetE~~3 T
.~~T U
Estado~~U [
)~~[ \
;~~\ ]
cmd 
. 

Parameters 
. 
AddWithValue '
(' (
$str( ;
,; <-
!pHisContratoconsultorioadendaDetE= ^
.^ _
FlgNewBeneficio_ n
)n o
;o p
return
ÅÅ 
exito
ÅÅ 
=
ÅÅ 
cmd
ÅÅ 
.
ÅÅ 
ExecuteNonQuery
ÅÅ .
(
ÅÅ. /
)
ÅÅ/ 0
;
ÅÅ0 1
}
ÇÇ 	
public
ÑÑ 
bool
ÑÑ 7
)Sp_HisContratoconsultorioadendaDet_Update
ÑÑ =
(
ÑÑ= >.
 HisContratoconsultorioadendaDetE
ÑÑ> ^0
!pHisContratoconsultorioadendaDetEÑÑ_ Ä
)ÑÑÄ Å
{
ÖÖ 	
try
ÜÜ 
{
áá 
using
àà 
(
àà 
SqlConnection
àà $
cnn
àà% (
=
àà) *
new
àà+ .
SqlConnection
àà/ <
(
àà< =
VariablesGlobales
àà= N
.
ààN O

CnnClinica
ààO Y
)
ààY Z
)
ààZ [
{
ââ 
using
ää 
(
ää 

SqlCommand
ää %
cmd
ää& )
=
ää* +
new
ää, /

SqlCommand
ää0 :
(
ää: ;
$str
ää; f
,
ääf g
cnn
ääh k
)
ääk l
)
ääl m
{
ãã 
cmd
åå 
.
åå 
CommandType
åå '
=
åå( )
System
åå* 0
.
åå0 1
Data
åå1 5
.
åå5 6
CommandType
åå6 A
.
ååA B
StoredProcedure
ååB Q
;
ååQ R
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 E
,
ééE F/
!pHisContratoconsultorioadendaDetE
ééG h
.
ééh i
IdeAdendaCab
ééi u
)
ééu v
;
éév w
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 E
,
èèE F/
!pHisContratoconsultorioadendaDetE
èèG h
.
èèh i
IdeCalendario
èèi v
)
èèv w
;
èèw x
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 K
,
êêK L/
!pHisContratoconsultorioadendaDetE
êêM n
.
êên o"
IdeBeneficiosadendaêêo Ç
)êêÇ É
;êêÉ Ñ
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 D
,
ëëD E/
!pHisContratoconsultorioadendaDetE
ëëF g
.
ëëg h
CntDescuento
ëëh t
)
ëët u
;
ëëu v
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 =
,
íí= >/
!pHisContratoconsultorioadendaDetE
íí? `
.
íí` a
Estado
íía g
)
ííg h
;
ííh i
cnn
îî 
.
îî 
Open
îî  
(
îî  !
)
îî! "
;
îî" #
int
ññ 
exito
ññ !
=
ññ" #
cmd
ññ$ '
.
ññ' (
ExecuteNonQuery
ññ( 7
(
ññ7 8
)
ññ8 9
;
ññ9 :
cnn
óó 
.
óó 
Close
óó !
(
óó! "
)
óó" #
;
óó# $
cmd
òò 
.
òò 
Dispose
òò #
(
òò# $
)
òò$ %
;
òò% &
if
ôô 
(
ôô 
exito
ôô !
>=
ôô" $
$num
ôô% &
)
ôô& '
{
öö 
return
öö  
true
öö! %
;
öö% &
}
öö' (
else
õõ 
{
úú 
return
úú  
false
úú! &
;
úú& '
}
úú( )
}
ùù 
}
ûû 
}
üü 
catch
†† 
(
†† 
	Exception
†† 
e
†† 
)
†† 
{
°° 
throw
°° 
e
°° 
=
°° 
new
°° 
	Exception
°° %
(
°°% &
e
°°& '
.
°°' (
Message
°°( /
)
°°/ 0
;
°°0 1
}
°°2 3
}
¢¢ 	
public
§§ 
bool
§§ =
/Sp_HisContratoconsultorioadendaDet_UpdatexCampo
§§ C
(
§§C D.
 HisContratoconsultorioadendaDetE
§§D d0
!pHisContratoconsultorioadendaDetE§§e Ü
)§§Ü á
{
•• 	
try
¶¶ 
{
ßß 
using
®® 
(
®® 
SqlConnection
®® $
cnn
®®% (
=
®®) *
new
®®+ .
SqlConnection
®®/ <
(
®®< =
VariablesGlobales
®®= N
.
®®N O

CnnClinica
®®O Y
)
®®Y Z
)
®®Z [
{
©© 
using
™™ 
(
™™ 

SqlCommand
™™ %
cmd
™™& )
=
™™* +
new
™™, /

SqlCommand
™™0 :
(
™™: ;
$str
™™; l
,
™™l m
cnn
™™n q
)
™™q r
)
™™r s
{
´´ 
cmd
¨¨ 
.
¨¨ 
CommandType
¨¨ '
=
¨¨( )
System
¨¨* 0
.
¨¨0 1
Data
¨¨1 5
.
¨¨5 6
CommandType
¨¨6 A
.
¨¨A B
StoredProcedure
¨¨B Q
;
¨¨Q R
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 B
,
ÆÆB C/
!pHisContratoconsultorioadendaDetE
ÆÆD e
.
ÆÆe f

NuevoValor
ÆÆf p
)
ÆÆp q
;
ÆÆq r
cmd
ØØ 
.
ØØ 

Parameters
ØØ &
.
ØØ& '
AddWithValue
ØØ' 3
(
ØØ3 4
$str
ØØ4 <
,
ØØ< =/
!pHisContratoconsultorioadendaDetE
ØØ> _
.
ØØ_ `
Campo
ØØ` e
)
ØØe f
;
ØØf g
cnn
±± 
.
±± 
Open
±±  
(
±±  !
)
±±! "
;
±±" #
int
≥≥ 
exito
≥≥ !
=
≥≥" #
cmd
≥≥$ '
.
≥≥' (
ExecuteNonQuery
≥≥( 7
(
≥≥7 8
)
≥≥8 9
;
≥≥9 :
cnn
¥¥ 
.
¥¥ 
Close
¥¥ !
(
¥¥! "
)
¥¥" #
;
¥¥# $
cmd
µµ 
.
µµ 
Dispose
µµ #
(
µµ# $
)
µµ$ %
;
µµ% &
if
∂∂ 
(
∂∂ 
exito
∂∂ !
>=
∂∂" $
$num
∂∂% &
)
∂∂& '
{
∑∑ 
return
∑∑  
true
∑∑! %
;
∑∑% &
}
∑∑' (
else
∏∏ 
{
ππ 
return
ππ  
false
ππ! &
;
ππ& '
}
ππ( )
}
∫∫ 
}
ªª 
}
ºº 
catch
ΩΩ 
(
ΩΩ 
	Exception
ΩΩ 
e
ΩΩ 
)
ΩΩ 
{
ææ 
throw
ææ 
e
ææ 
=
ææ 
new
ææ 
	Exception
ææ %
(
ææ% &
e
ææ& '
.
ææ' (
Message
ææ( /
)
ææ/ 0
;
ææ0 1
}
ææ2 3
}
øø 	
public
¡¡ 
void
¡¡ @
2Sp_HisContratoconsultorioadendaDet_UpdatexCampo_RB
¡¡ F
(
¡¡F G.
 HisContratoconsultorioadendaDetE
¡¡G g0
!pHisContratoconsultorioadendaDetE¡¡h â
,¡¡â ä
SqlConnection¡¡ã ò
cnn¡¡ô ú
,¡¡ú ù

SqlCommand¡¡û ®
cmd¡¡© ¨
,¡¡¨ ≠
SqlTransaction¡¡Æ º
transaction¡¡Ω »
)¡¡» …
{
¬¬ 	
cmd
√√ 
=
√√ 
new
√√ 

SqlCommand
√√  
(
√√  !
$str
√√! R
,
√√R S
cnn
√√T W
,
√√W X
transaction
√√Y d
)
√√d e
;
√√e f
cmd
ƒƒ 
.
ƒƒ 
CommandType
ƒƒ 
=
ƒƒ 
System
ƒƒ $
.
ƒƒ$ %
Data
ƒƒ% )
.
ƒƒ) *
CommandType
ƒƒ* 5
.
ƒƒ5 6
StoredProcedure
ƒƒ6 E
;
ƒƒE F
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ 
.
∆∆ 
AddWithValue
∆∆ '
(
∆∆' (
$str
∆∆( 9
,
∆∆9 :/
!pHisContratoconsultorioadendaDetE
∆∆; \
.
∆∆\ ]
IdeAdendaCab
∆∆] i
)
∆∆i j
;
∆∆j k
cmd
«« 
.
«« 

Parameters
«« 
.
«« 
AddWithValue
«« '
(
««' (
$str
««( 9
,
««9 :/
!pHisContratoconsultorioadendaDetE
««; \
.
««\ ]
IdeCalendario
««] j
)
««j k
;
««k l
cmd
»» 
.
»» 

Parameters
»» 
.
»» 
AddWithValue
»» '
(
»»' (
$str
»»( ?
,
»»? @/
!pHisContratoconsultorioadendaDetE
»»A b
.
»»b c!
IdeBeneficiosadenda
»»c v
)
»»v w
;
»»w x
cmd
…… 
.
…… 

Parameters
…… 
.
…… 
AddWithValue
…… '
(
……' (
$str
……( 1
,
……1 2/
!pHisContratoconsultorioadendaDetE
……3 T
.
……T U
Buscar
……U [
)
……[ \
;
……\ ]
cmd
   
.
   

Parameters
   
.
   
AddWithValue
   '
(
  ' (
$str
  ( 6
,
  6 7/
!pHisContratoconsultorioadendaDetE
  8 Y
.
  Y Z

NuevoValor
  Z d
)
  d e
;
  e f
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ 
.
ÀÀ 
AddWithValue
ÀÀ '
(
ÀÀ' (
$str
ÀÀ( 0
,
ÀÀ0 1/
!pHisContratoconsultorioadendaDetE
ÀÀ2 S
.
ÀÀS T
Campo
ÀÀT Y
)
ÀÀY Z
;
ÀÀZ [
cmd
ÃÃ 
.
ÃÃ 

Parameters
ÃÃ 
.
ÃÃ 
AddWithValue
ÃÃ '
(
ÃÃ' (
$str
ÃÃ( 0
,
ÃÃ0 1/
!pHisContratoconsultorioadendaDetE
ÃÃ2 S
.
ÃÃS T
Orden
ÃÃT Y
)
ÃÃY Z
;
ÃÃZ [
cmd
ÕÕ 
.
ÕÕ 
ExecuteNonQuery
ÕÕ 
(
ÕÕ  
)
ÕÕ  !
;
ÕÕ! "
}
ŒŒ 	
}
œœ 
}–– ßÚ
oD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ComprobantesAD\ComprobantesElectronicosAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ComprobantesAD *
{ 
public 

class &
ComprobantesElectronicosAD +
{ 
private %
ComprobantesElectronicosE )
LlenarEntidad* 7
(7 8
IDataReader8 C
drD F
,F G%
ComprobantesElectronicosEH a&
pComprobantesElectronicosEb |
)| }
{ 	%
ComprobantesElectronicosE %&
oComprobantesElectronicosE& @
=A B
newC F%
ComprobantesElectronicosEG `
(` a
)a b
;b c
switch 
( &
pComprobantesElectronicosE .
.. /
Orden/ 4
)4 5
{ 
case 
$num 
: 
{ &
oComprobantesElectronicosE 2
.2 3
Codcomprobante3 A
=B C
(D E
stringE K
)K L
drL N
[N O
$strO _
]_ `
;` a&
oComprobantesElectronicosE 2
.2 3
TipoOtorgamiento3 C
=D E
(F G
stringG M
)M N
drN P
[P Q
$strQ d
]d e
;e f&
oComprobantesElectronicosE 2
.2 3
	EstadoCdr3 <
== >
(? @
int@ C
)C D
drD F
[F G
$strG S
]S T
;T U&
oComprobantesElectronicosE 2
.2 3
FlgConfirma3 >
=? @
(A B
boolB F
)F G
drG I
[I J
$strJ X
]X Y
;Y Z&
oComprobantesElectronicosE 2
.2 3
CodigoBarra3 >
=? @
(A B
byteB F
[F G
]G H
)H I
drI K
[K L
$strL Y
]Y Z
;Z [&
oComprobantesElectronicosE 2
.2 3
FechaRegistroSis3 C
=D E
(F G
DateTimeG O
)O P
drP R
[R S
$strS g
]g h
;h i&
oComprobantesElectronicosE   2
.  2 3 
TipoComprobanteSunat  3 G
=  H I
(  J K
string  K Q
)  Q R
dr  R T
[  T U
$str  U g
]  g h
;  h i&
oComprobantesElectronicosE!! 2
.!!2 3
Codcomprobantee!!3 B
=!!C D
(!!E F
string!!F L
)!!L M
dr!!M O
[!!O P
$str!!P a
]!!a b
;!!b c&
oComprobantesElectronicosE"" 2
.""2 3
	RucEmisor""3 <
=""= >
(""? @
string""@ F
)""F G
dr""G I
[""I J
$str""J V
]""V W
;""W X&
oComprobantesElectronicosE## 2
.##2 3
UrlWebServices##3 A
=##B C
(##D E
string##E K
)##K L
dr##L N
[##N O
$str##O `
]##` a
;##a b
break$$ 
;$$ 
}%% 
}&& 
return'' &
oComprobantesElectronicosE'' -
;''- .
}(( 	
private** )
ComprobanteElectronicoXMLCabE** -
LlenarEntidadXMLCab**. A
(**A B
IDataReader**B M
dr**N P
,**P Q
int**R U
pOrden**V \
=**] ^
$num**_ `
)**` a
{++ 	)
ComprobanteElectronicoXMLCabE,, )&
oComprobantesElectronicosE,,* D
=,,E F
new,,G J)
ComprobanteElectronicoXMLCabE,,K h
(,,h i
),,i j
;,,j k
switch.. 
(.. 
pOrden.. 
).. 
{// 
case00 
$num00 
:00 
{11 &
oComprobantesElectronicosE22 2
.222 3
CodComprobante223 A
=22B C
(22D E
string22E K
)22K L
dr22L N
[22N O
$str22O _
]22_ `
;22` a&
oComprobantesElectronicosE33 2
.332 3
CodComprobanteE333 B
=33C D
(33E F
string33F L
)33L M
dr33M O
[33O P
$str33P b
]33b c
;33c d&
oComprobantesElectronicosE44 2
.442 3
TipoPlantilla443 @
=44A B
(44C D
string44D J
)44J K
dr44K M
[44M N
$str44N ]
]44] ^
;44^ _&
oComprobantesElectronicosE55 2
.552 3
TipoCompSunat553 @
=55A B
(55C D
string55D J
)55J K
dr55K M
[55M N
$str55N ^
]55^ _
;55_ `&
oComprobantesElectronicosE77 2
.772 3
TipoCompTci773 >
=77? @
(77A B
string77B H
)77H I
(77I J
dr77J L
[77L M
$str77M [
]77[ \
)77\ ]
;77] ^&
oComprobantesElectronicosE88 2
.882 3
Estado883 9
=88: ;
(88< =
string88= C
)88C D
dr88D F
[88F G
$str88G O
]88O P
;88P Q&
oComprobantesElectronicosE99 2
.992 3
NombreEstado993 ?
=99@ A
(99B C
string99C I
)99I J
dr99J L
[99L M
$str99M [
]99[ \
;99\ ]&
oComprobantesElectronicosE;; 2
.;;2 3
	ParaQuien;;3 <
=;;= >
(;;? @
string;;@ F
);;F G
dr;;G I
[;;I J
$str;;J U
];;U V
;;;V W&
oComprobantesElectronicosE<< 2
.<<2 3
CodLiquidacion<<3 A
=<<B C
(<<D E
string<<E K
)<<K L
dr<<L N
[<<N O
$str<<O _
]<<_ `
;<<` a&
oComprobantesElectronicosE== 2
.==2 3
FechaEmision==3 ?
===@ A
dr==B D
[==D E
$str==E S
]==S T
is==U W
DBNull==X ^
?==_ `
new==a d
DateTime==e m
(==m n
$num==n r
,==r s
$num==t v
,==v w
$num==x z
)==z {
.=={ |
ToString	==| Ñ
(
==Ñ Ö
)
==Ö Ü
:
==á à
Convert
==â ê
.
==ê ë

ToDateTime
==ë õ
(
==õ ú
dr
==ú û
[
==û ü
$str
==ü ≠
]
==≠ Æ
)
==Æ Ø
.
==Ø ∞
ToString
==∞ ∏
(
==∏ π
)
==π ∫
;
==∫ ª&
oComprobantesElectronicosE>> 2
.>>2 3
	ANombreDe>>3 <
=>>= >
(>>? @
string>>@ F
)>>F G
(>>G H
dr>>H J
[>>J K
$str>>K V
]>>V W
+>>X Y
$str>>Z \
)>>\ ]
;>>] ^&
oComprobantesElectronicosE?? 2
.??2 3
	Direccion??3 <
=??= >
(??? @
string??@ F
)??F G
dr??G I
[??I J
$str??J U
]??U V
;??V W&
oComprobantesElectronicosE@@ 2
.@@2 3
Ruc@@3 6
=@@7 8
(@@9 :
string@@: @
)@@@ A
dr@@A C
[@@C D
$str@@D I
]@@I J
;@@J K&
oComprobantesElectronicosEAA 2
.AA2 3 
TipDocIdentidadSunatAA3 G
=AAH I
(AAJ K
stringAAK Q
)AAQ R
drAAR T
[AAT U
$strAAU l
]AAl m
+AAn o
$strAAp r
;AAr s&
oComprobantesElectronicosEBB 2
.BB2 3
RucSunatBB3 ;
=BB< =
(BB> ?
stringBB? E
)BBE F
drBBF H
[BBH I
$strBBI T
]BBT U
;BBU V&
oComprobantesElectronicosECC 2
.CC2 3
ReceptorCorreoCC3 A
=CCB C
(CCD E
stringCCE K
)CCK L
drCCL N
[CCN O
$strCCO `
]CC` a
;CCa b&
oComprobantesElectronicosEDD 2
.DD2 3

EmpresaRucDD3 =
=DD> ?
(DD@ A
stringDDA G
)DDG H
drDDH J
[DDJ K
$strDDK X
]DDX Y
;DDY Z&
oComprobantesElectronicosEEE 2
.EE2 3#
EmpresaTipoDocIdentidadEE3 J
=EEK L
(EEM N
stringEEN T
)EET U
drEEU W
[EEW X
$strEEX r
]EEr s
;EEs t&
oComprobantesElectronicosEFF 2
.FF2 3
EmpresaNombreFF3 @
=FFA B
(FFC D
stringFFD J
)FFJ K
drFFK M
[FFM N
$strFFN ^
]FF^ _
;FF_ `&
oComprobantesElectronicosEGG 2
.GG2 3
EmpresaDireccionGG3 C
=GGD E
(GGF G
stringGGG M
)GGM N
drGGN P
[GGP Q
$strGGQ d
]GGd e
;GGe f&
oComprobantesElectronicosEHH 2
.HH2 3
EmpresaTelefonoHH3 B
=HHC D
(HHE F
stringHHF L
)HHL M
drHHM O
[HHO P
$strHHP b
]HHb c
;HHc d&
oComprobantesElectronicosEJJ 2
.JJ2 3
ConceptoJJ3 ;
=JJ< =
(JJ> ?
stringJJ? E
)JJE F
drJJF H
[JJH I
$strJJI S
]JJS T
;JJT U&
oComprobantesElectronicosEKK 2
.KK2 3
CodAtencionKK3 >
=KK? @
(KKA B
stringKKB H
)KKH I
drKKI K
[KKK L
$strKKL Y
]KKY Z
;KKZ [&
oComprobantesElectronicosELL 2
.LL2 3
CodPacienteLL3 >
=LL? @
(LLA B
stringLLB H
)LLH I
drLLI K
[LLK L
$strLLL Y
]LLY Z
;LLZ [&
oComprobantesElectronicosEMM 2
.MM2 3
NombrePacienteMM3 A
=MMB C
(MMD E
stringMME K
)MMK L
drMML N
[MMN O
$strMMO _
]MM_ `
;MM` a&
oComprobantesElectronicosENN 2
.NN2 3
NombreTitularNN3 @
=NNA B
(NNC D
stringNND J
)NNJ K
drNNK M
[NNM N
$strNNN ]
]NN] ^
;NN^ _&
oComprobantesElectronicosEOO 2
.OO2 3
	NombreCiaOO3 <
=OO= >
(OO? @
stringOO@ F
)OOF G
drOOG I
[OOI J
$strOOJ U
]OOU V
;OOV W&
oComprobantesElectronicosEPP 2
.PP2 3
	CodPolizaPP3 <
=PP= >
(PP? @
stringPP@ F
)PPF G
drPPG I
[PPI J
$strPPJ U
]PPU V
;PPV W&
oComprobantesElectronicosEQQ 2
.QQ2 3
CamaQQ3 7
=QQ8 9
drQQ: <
[QQ< =
$strQQ= C
]QQC D
+QQE F
$strQQG I
;QQI J&
oComprobantesElectronicosERR 2
.RR2 3
CiuuRR3 7
=RR8 9
drRR: <
[RR< =
$strRR= C
]RRC D
+RRE F
$strRRG I
;RRI J&
oComprobantesElectronicosESS 2
.SS2 3
ObservacionesSS3 @
=SSA B
(SSC D
stringSSD J
)SSJ K
drSSK M
[SSM N
$strSSN ]
]SS] ^
;SS^ _&
oComprobantesElectronicosETT 2
.TT2 3
Texto1TT3 9
=TT: ;
(TT< =
stringTT= C
)TTC D
drTTD F
[TTF G
$strTTG O
]TTO P
;TTP Q&
oComprobantesElectronicosEUU 2
.UU2 3
SucDireccionUU3 ?
=UU@ A
(UUB C
stringUUC I
)UUI J
drUUJ L
[UUL M
$strUUM \
]UU\ ]
;UU] ^&
oComprobantesElectronicosEVV 2
.VV2 3
MsgDetraccionVV3 @
=VVA B
(VVC D
stringVVD J
)VVJ K
drVVK M
[VVM N
$strVVN ]
]VV] ^
;VV^ _&
oComprobantesElectronicosEWW 2
.WW2 3
MontoLetrasWW3 >
=WW? @
(WWA B
stringWWB H
)WWH I
drWWI K
[WWK L
$strWWL Y
]WWY Z
;WWZ [&
oComprobantesElectronicosEXX 2
.XX2 3
TipoDeCambioXX3 ?
=XX@ A
drXXB D
[XXD E
$strXXE S
]XXS T
.XXT U
ToStringXXU ]
(XX] ^
)XX^ _
;XX_ `&
oComprobantesElectronicosEYY 2
.YY2 3
DocReferenciaYY3 @
=YYA B
(YYC D
stringYYD J
)YYJ K
drYYK M
[YYM N
$strYYN ]
]YY] ^
;YY^ _&
oComprobantesElectronicosEZZ 2
.ZZ2 3
TipoPagoTxtZZ3 >
=ZZ? @
(ZZA B
stringZZB H
)ZZH I
drZZI K
[ZZK L
$strZZL Y
]ZZY Z
;ZZZ [&
oComprobantesElectronicosE\\ 2
.\\2 3
C_Moneda\\3 ;
=\\< =
(\\> ?
string\\? E
)\\E F
dr\\F H
[\\H I
$str\\I S
]\\S T
;\\T U&
oComprobantesElectronicosE]] 2
.]]2 3
C_NombreMoneda]]3 A
=]]B C
(]]D E
string]]E K
)]]K L
dr]]L N
[]]N O
$str]]O _
]]]_ `
;]]` a&
oComprobantesElectronicosE^^ 2
.^^2 3
C_SimboloMoneda^^3 B
=^^C D
(^^E F
string^^F L
)^^L M
dr^^M O
[^^O P
$str^^P a
]^^a b
;^^b c&
oComprobantesElectronicosE__ 2
.__2 3
C_MontoAfecto__3 @
=__A B
dr__C E
[__E F
$str__F U
]__U V
is__W Y
DBNull__Z `
?__a b
$str__c f
:__g h
dr__i k
[__k l
$str__l {
]__{ |
.__| }
ToString	__} Ö
(
__Ö Ü
)
__Ü á
;
__á à&
oComprobantesElectronicosE`` 2
.``2 3
C_MontoInafecto``3 B
=``C D
dr``E G
[``G H
$str``H Y
]``Y Z
is``[ ]
DBNull``^ d
?``e f
$str``g j
:``k l
dr``m o
[``o p
$str	``p Å
]
``Å Ç
.
``Ç É
ToString
``É ã
(
``ã å
)
``å ç
;
``ç é&
oComprobantesElectronicosEaa 2
.aa2 3
C_MontoExoneradoaa3 C
=aaD E
draaF H
[aaH I
$straaI [
]aa[ \
isaa] _
DBNullaa` f
?aag h
$straai l
:aam n
draao q
[aaq r
$str	aar Ñ
]
aaÑ Ö
.
aaÖ Ü
ToString
aaÜ é
(
aaé è
)
aaè ê
;
aaê ë&
oComprobantesElectronicosEbb 2
.bb2 3
C_MontoGratuitobb3 B
=bbC D
drbbE G
[bbG H
$strbbH Y
]bbY Z
isbb[ ]
DBNullbb^ d
?bbe f
$strbbg j
:bbk l
drbbm o
[bbo p
$str	bbp Å
]
bbÅ Ç
.
bbÇ É
ToString
bbÉ ã
(
bbã å
)
bbå ç
;
bbç é&
oComprobantesElectronicosEcc 2
.cc2 3

C_MontoIgvcc3 =
=cc> ?
drcc@ B
[ccB C
$strccC O
]ccO P
isccQ S
DBNullccT Z
?cc[ \
$strcc] `
:cca b
drccc e
[cce f
$strccf r
]ccr s
.ccs t
ToStringcct |
(cc| }
)cc} ~
;cc~ &
oComprobantesElectronicosEdd 2
.dd2 3
C_MontoNetodd3 >
=dd? @
drddA C
[ddC D
$strddD Q
]ddQ R
isddS U
DBNullddV \
?dd] ^
$strdd_ b
:ddc d
drdde g
[ddg h
$strddh u
]ddu v
.ddv w
ToStringddw 
(	dd Ä
)
ddÄ Å
;
ddÅ Ç&
oComprobantesElectronicosEee 2
.ee2 3
C_NetoDolaresee3 @
=eeA B
dreeC E
[eeE F
$streeF U
]eeU V
iseeW Y
DBNulleeZ `
?eea b
$streec f
:eeg h
dreei k
[eek l
$streel {
]ee{ |
.ee| }
ToString	ee} Ö
(
eeÖ Ü
)
eeÜ á
;
eeá à&
oComprobantesElectronicosEff 2
.ff2 3
PorcentajeImpuestoff3 E
=ffF G
drffH J
[ffJ K
$strffK _
]ff_ `
isffa c
DBNullffd j
?ffk l
$strffm p
:ffq r
drffs u
[ffu v
$str	ffv ä
]
ffä ã
.
ffã å
ToString
ffå î
(
ffî ï
)
ffï ñ
;
ffñ ó&
oComprobantesElectronicosEgg 2
.gg2 3
PorcentajeCoAsegurogg3 F
=ggG H
drggI K
[ggK L
$strggL a
]gga b
isggc e
DBNullggf l
?ggm n
$strggo r
:ggs t
drggu w
[ggw x
$str	ggx ç
]
ggç é
.
ggé è
ToString
ggè ó
(
ggó ò
)
ggò ô
;
ggô ö&
oComprobantesElectronicosEhh 2
.hh2 3
DetraccionPorchh3 A
=hhB C
drhhD F
[hhF G
$strhhG X
]hhX Y
ishhZ \
DBNullhh] c
?hhd e
$strhhf i
:hhj k
drhhl n
[hhn o
$str	hho Ä
]
hhÄ Å
.
hhÅ Ç
ToString
hhÇ ä
(
hhä ã
)
hhã å
;
hhå ç&
oComprobantesElectronicosEii 2
.ii2 3
DetraccionMontoii3 B
=iiC D
driiE G
[iiG H
$striiH Z
]iiZ [
isii\ ^
DBNullii_ e
?iif g
$striih k
:iil m
driin p
[iip q
$str	iiq É
]
iiÉ Ñ
.
iiÑ Ö
ToString
iiÖ ç
(
iiç é
)
iié è
;
iiè ê&
oComprobantesElectronicosEkk 2
.kk2 3
DetraccionNroCuentakk3 F
=kkG H
drkkI K
[kkK L
$strkkL b
]kkb c
+kkd e
$strkkf h
;kkh i&
oComprobantesElectronicosEll 2
.ll2 3
FlgGratuitoll3 >
=ll? @
drllA C
[llC D
$strllD R
]llR S
+llT U
$strllV X
;llX Y&
oComprobantesElectronicosEmm 2
.mm2 3
TipoOperacionmm3 @
=mmA B
drmmC E
[mmE F
$strmmF V
]mmV W
+mmX Y
$strmmZ \
;mm\ ]&
oComprobantesElectronicosEnn 2
.nn2 3
HoraEmisionnn3 >
=nn? @
drnnA C
[nnC D
$strnnD R
]nnR S
+nnT U
$strnnV X
;nnX Y&
oComprobantesElectronicosEoo 2
.oo2 3
TotalImpuestooo3 @
=ooA B
drooC E
[ooE F
$strooF V
]ooV W
isooX Z
DBNulloo[ a
?oob c
$strood g
:ooh i
drooj l
[ool m
$stroom }
]oo} ~
.oo~ 
ToString	oo á
(
ooá à
)
ooà â
;
ooâ ä&
oComprobantesElectronicosEpp 2
.pp2 3
TotalValorVentapp3 B
=ppC D
drppE G
[ppG H
$strppH Z
]ppZ [
ispp\ ^
DBNullpp_ e
?ppf g
$strpph k
:ppl m
drppn p
[ppp q
$str	ppq É
]
ppÉ Ñ
.
ppÑ Ö
ToString
ppÖ ç
(
ppç é
)
ppé è
;
ppè ê&
oComprobantesElectronicosEqq 2
.qq2 3
TotalPrecioVentaqq3 C
=qqD E
drqqF H
[qqH I
$strqqI \
]qq\ ]
isqq^ `
DBNullqqa g
?qqh i
$strqqj m
:qqn o
drqqp r
[qqr s
$str	qqs Ü
]
qqÜ á
.
qqá à
ToString
qqà ê
(
qqê ë
)
qqë í
;
qqí ì&
oComprobantesElectronicosErr 2
.rr2 3
VsUblrr3 8
=rr9 :
(rr; <
stringrr< B
)rrB C
drrrC E
[rrE F
$strrrF N
]rrN O
;rrO P&
oComprobantesElectronicosEss 2
.ss2 3
MtTotalss3 :
=ss; <
drss= ?
[ss? @
$strss@ J
]ssJ K
isssL N
DBNullssO U
?ssV W
$strssX [
:ss\ ]
drss^ `
[ss` a
$strssa k
]ssk l
.ssl m
ToStringssm u
(ssu v
)ssv w
;ssw x&
oComprobantesElectronicosEtt 2
.tt2 3
MtgBasett3 :
=tt; <
drtt= ?
[tt? @
$strtt@ J
]ttJ K
isttL N
DBNullttO U
?ttV W
$strttX [
:tt\ ]
drtt^ `
[tt` a
$strtta k
]ttk l
.ttl m
ToStringttm u
(ttu v
)ttv w
;ttw x&
oComprobantesElectronicosEuu 2
.uu2 3
MtgValorImpuestouu3 C
=uuD E
druuF H
[uuH I
$struuI \
]uu\ ]
isuu^ `
DBNulluua g
?uuh i
$struuj m
:uun o
druup r
[uur s
$str	uus Ü
]
uuÜ á
.
uuá à
ToString
uuà ê
(
uuê ë
)
uuë í
;
uuí ì&
oComprobantesElectronicosEvv 2
.vv2 3
MtgPorcentajevv3 @
=vvA B
drvvC E
[vvE F
$strvvF V
]vvV W
isvvX Z
DBNullvv[ a
?vvb c
$strvvd g
:vvh i
drvvj l
[vvl m
$strvvm }
]vv} ~
.vv~ 
ToString	vv á
(
vvá à
)
vvà â
;
vvâ ä&
oComprobantesElectronicosEww 2
.ww2 3
CodigoEstabSUNATww3 C
=wwD E
(wwF G
stringwwG M
)wwM N
drwwN P
[wwP Q
$strwwQ c
]wwc d
;wwd e&
oComprobantesElectronicosEyy 2
.yy2 3
CodDistritoyy3 >
=yy? @
(yyA B
stringyyB H
)yyH I
dryyI K
[yyK L
$stryyL Y
]yyY Z
;yyZ [&
oComprobantesElectronicosEzz 2
.zz2 3
	FormaPagozz3 <
=zz= >
(zz? @
stringzz@ F
)zzF G
drzzG I
[zzI J
$strzzJ V
]zzV W
;zzW X&
oComprobantesElectronicosE{{ 2
.{{2 3
CodTipoDetraccion{{3 D
={{E F
({{G H
string{{H N
){{N O
dr{{O Q
[{{Q R
$str{{R f
]{{f g
;{{g h&
oComprobantesElectronicosE|| 2
.||2 3

CodTributo||3 =
=||> ?
(||@ A
string||A G
)||G H
dr||H J
[||J K
$str||K X
]||X Y
;||Y Z&
oComprobantesElectronicosE}} 2
.}}2 3
CodAfectacionIGV}}3 C
=}}D E
(}}F G
string}}G M
)}}M N
dr}}N P
[}}P Q
$str}}Q d
]}}d e
;}}e f&
oComprobantesElectronicosE~~ 2
.~~2 3

DesTributo~~3 =
=~~> ?
(~~@ A
string~~A G
)~~G H
dr~~H J
[~~J K
$str~~K X
]~~X Y
;~~Y Z&
oComprobantesElectronicosE 2
.2 3
CodUN3 8
=9 :
(; <
string< B
)B C
drC E
[E F
$strF N
]N O
;O P(
oComprobantesElectronicosE
ÄÄ 2
.
ÄÄ2 3
CodProductoSUNAT
ÄÄ3 C
=
ÄÄD E
(
ÄÄF G
string
ÄÄG M
)
ÄÄM N
dr
ÄÄN P
[
ÄÄP Q
$str
ÄÄQ c
]
ÄÄc d
;
ÄÄd e(
oComprobantesElectronicosE
ÅÅ 2
.
ÅÅ2 3
D_Orden
ÅÅ3 :
=
ÅÅ; <
(
ÅÅ= >
string
ÅÅ> D
)
ÅÅD E
dr
ÅÅE G
[
ÅÅG H
$str
ÅÅH Q
]
ÅÅQ R
;
ÅÅR S(
oComprobantesElectronicosE
ÇÇ 2
.
ÇÇ2 3
D_Unidad
ÇÇ3 ;
=
ÇÇ< =
(
ÇÇ> ?
string
ÇÇ? E
)
ÇÇE F
dr
ÇÇF H
[
ÇÇH I
$str
ÇÇI S
]
ÇÇS T
;
ÇÇT U(
oComprobantesElectronicosE
ÉÉ 2
.
ÉÉ2 3
D_Grupo
ÉÉ3 :
=
ÉÉ; <
(
ÉÉ= >
string
ÉÉ> D
)
ÉÉD E
dr
ÉÉE G
[
ÉÉG H
$str
ÉÉH Q
]
ÉÉQ R
;
ÉÉR S(
oComprobantesElectronicosE
ÑÑ 2
.
ÑÑ2 3
D_NombreGrupo
ÑÑ3 @
=
ÑÑA B
(
ÑÑC D
string
ÑÑD J
)
ÑÑJ K
dr
ÑÑK M
[
ÑÑM N
$str
ÑÑN ]
]
ÑÑ] ^
;
ÑÑ^ _(
oComprobantesElectronicosE
ÖÖ 2
.
ÖÖ2 3
D_Cant_Sunat
ÖÖ3 ?
=
ÖÖ@ A
dr
ÖÖB D
[
ÖÖD E
$str
ÖÖE S
]
ÖÖS T
is
ÖÖU W
DBNull
ÖÖX ^
?
ÖÖ_ `
$str
ÖÖa d
:
ÖÖe f
dr
ÖÖg i
[
ÖÖi j
$str
ÖÖj x
]
ÖÖx y
.
ÖÖy z
ToStringÖÖz Ç
(ÖÖÇ É
)ÖÖÉ Ñ
;ÖÖÑ Ö(
oComprobantesElectronicosE
ÜÜ 2
.
ÜÜ2 3$
D_VentaUnitario_SinIgv
ÜÜ3 I
=
ÜÜJ K
dr
ÜÜL N
[
ÜÜN O
$str
ÜÜO g
]
ÜÜg h
is
ÜÜi k
DBNull
ÜÜl r
?
ÜÜs t
$str
ÜÜu x
:
ÜÜy z
dr
ÜÜ{ }
[
ÜÜ} ~
$strÜÜ~ ñ
]ÜÜñ ó
.ÜÜó ò
ToStringÜÜò †
(ÜÜ† °
)ÜÜ° ¢
;ÜÜ¢ £(
oComprobantesElectronicosE
àà 2
.
àà2 3$
D_VentaUnitario_ConIgv
àà3 I
=
ààJ K
dr
ààL N
[
ààN O
$str
ààO g
]
ààg h
is
àài k
DBNull
ààl r
?
ààs t
$str
ààu x
:
àày z
dr
àà{ }
[
àà} ~
$stràà~ ñ
]ààñ ó
.ààó ò
ToStringààò †
(àà† °
)àà° ¢
;àà¢ £(
oComprobantesElectronicosE
ââ 2
.
ââ2 3
D_Total_SinIgv
ââ3 A
=
ââB C
dr
ââD F
[
ââF G
$str
ââG W
]
ââW X
is
ââY [
DBNull
ââ\ b
?
ââc d
$str
ââe h
:
ââi j
dr
ââk m
[
ââm n
$str
âân ~
]
ââ~ 
.ââ Ä
ToStringââÄ à
(ââà â
)âââ ä
;ââä ã(
oComprobantesElectronicosE
ää 2
.
ää2 3
D_Total_ConIgv
ää3 A
=
ääB C
dr
ääD F
[
ääF G
$str
ääG W
]
ääW X
is
ääY [
DBNull
ää\ b
?
ääc d
$str
ääe h
:
ääi j
dr
ääk m
[
ääm n
$str
ään ~
]
ää~ 
.ää Ä
ToStringääÄ à
(ääà â
)ääâ ä
;äää ã(
oComprobantesElectronicosE
ãã 2
.
ãã2 3
D_Total_SinIgv2
ãã3 B
=
ããC D
dr
ããE G
[
ããG H
$str
ããH Y
]
ããY Z
is
ãã[ ]
DBNull
ãã^ d
?
ããe f
$str
ããg j
:
ããk l
dr
ããm o
[
ãão p
$strããp Å
]ããÅ Ç
.ããÇ É
ToStringããÉ ã
(ããã å
)ããå ç
;ããç é(
oComprobantesElectronicosE
åå 2
.
åå2 3

D_MontoIgv
åå3 =
=
åå> ?
dr
åå@ B
[
ååB C
$str
ååC O
]
ååO P
is
ååQ S
DBNull
ååT Z
?
åå[ \
$str
åå] `
:
ååa b
dr
ååc e
[
ååe f
$str
ååf r
]
åår s
.
åås t
ToString
ååt |
(
åå| }
)
åå} ~
;
åå~ (
oComprobantesElectronicosE
çç 2
.
çç2 3
D_Determinante
çç3 A
=
ççB C
(
ççD E
string
ççE K
)
ççK L
dr
ççL N
[
ççN O
$str
ççO _
]
çç_ `
;
çç` a(
oComprobantesElectronicosE
éé 2
.
éé2 3 
D_CodigoTipoPrecio
éé3 E
=
ééF G
(
ééH I
string
ééI O
)
ééO P
dr
ééP R
[
ééR S
$str
ééS g
]
éég h
;
ééh i(
oComprobantesElectronicosE
èè 2
.
èè2 3
D_AfectacionIgv
èè3 B
=
èèC D
(
èèE F
string
èèF L
)
èèL M
dr
èèM O
[
èèO P
$str
èèP a
]
èèa b
;
èèb c(
oComprobantesElectronicosE
êê 2
.
êê2 3
Cuadre
êê3 9
=
êê: ;
(
êê< =
string
êê= C
)
êêC D
dr
êêD F
[
êêF G
$str
êêG O
]
êêO P
;
êêP Q(
oComprobantesElectronicosE
ìì 2
.
ìì2 3"
Sunat_Tipo_FormaPago
ìì3 G
=
ììH I
(
ììJ K
string
ììK Q
)
ììQ R
dr
ììR T
[
ììT U
$str
ììU k
]
ììk l
+
ììm n
$str
ììo q
;
ììq r(
oComprobantesElectronicosE
îî 2
.
îî2 3'
Sunat_Monto_PendientePago
îî3 L
=
îîM N
dr
îîO Q
[
îîQ R
$str
îîR m
]
îîm n
is
îîo q
DBNull
îîr x
?
îîy z
$str
îî{ ~
:îî Ä
drîîÅ É
[îîÉ Ñ
$strîîÑ ü
]îîü †
.îî† °
ToStringîî° ©
(îî© ™
)îî™ ´
;îî´ ¨(
oComprobantesElectronicosE
ïï 2
.
ïï2 3
Sunat_Cuota_Monto
ïï3 D
=
ïïE F
dr
ïïG I
[
ïïI J
$str
ïïJ ]
]
ïï] ^
is
ïï_ a
DBNull
ïïb h
?
ïïi j
$str
ïïk n
:
ïïo p
dr
ïïq s
[
ïïs t
$strïït á
]ïïá à
.ïïà â
ToStringïïâ ë
(ïïë í
)ïïí ì
;ïïì î(
oComprobantesElectronicosE
ññ 2
.
ññ2 3
Sunat_Cuota_Fecha
ññ3 D
=
ññE F
dr
ññG I
[
ññI J
$str
ññJ ]
]
ññ] ^
is
ññ_ a
DBNull
ññb h
?
ññi j
$str
ññk n
:
ñño p
dr
ññq s
[
ññs t
$strññt á
]ññá à
.ññà â
ToStringññâ ë
(ññë í
)ññí ì
;ññì î(
oComprobantesElectronicosE
óó 2
.
óó2 3#
Sunat_Retencion_Monto
óó3 H
=
óóI J
dr
óóK M
[
óóM N
$str
óóN e
]
óóe f
is
óóg i
DBNull
óój p
?
óóq r
$str
óós v
:
óów x
dr
óóy {
[
óó{ |
$stróó| ì
]óóì î
.óóî ï
ToStringóóï ù
(óóù û
)óóû ü
;óóü †(
oComprobantesElectronicosE
òò 2
.
òò2 3"
Sunat_Retencion_Porc
òò3 G
=
òòH I
dr
òòJ L
[
òòL M
$str
òòM c
]
òòc d
is
òòe g
DBNull
òòh n
?
òòo p
$str
òòq t
:
òòu v
dr
òòw y
[
òòy z
$stròòz ê
]òòê ë
.òòë í
ToStringòòí ö
(òòö õ
)òòõ ú
;òòú ù(
oComprobantesElectronicosE
ôô 2
.
ôô2 3'
Sunat_Retencion_MontoBase
ôô3 L
=
ôôM N
dr
ôôO Q
[
ôôQ R
$str
ôôR m
]
ôôm n
is
ôôo q
DBNull
ôôr x
?
ôôy z
$str
ôô{ ~
:ôô Ä
drôôÅ É
[ôôÉ Ñ
$strôôÑ ü
]ôôü †
.ôô† °
ToStringôô° ©
(ôô© ™
)ôô™ ´
;ôô´ ¨
break
öö 
;
öö 
}
õõ 
case
ùù 
$num
ùù 
:
ùù 
{
ûû (
oComprobantesElectronicosE
üü 2
.
üü2 3
CodNota
üü3 :
=
üü; <
(
üü= >
string
üü> D
)
üüD E
dr
üüE G
[
üüG H
$str
üüH Q
]
üüQ R
;
üüR S(
oComprobantesElectronicosE
†† 2
.
††2 3
CodComprobanteE
††3 B
=
††C D
(
††E F
string
††F L
)
††L M
dr
††M O
[
††O P
$str
††P b
]
††b c
;
††c d(
oComprobantesElectronicosE
°° 2
.
°°2 3
TipoPlantilla
°°3 @
=
°°A B
(
°°C D
string
°°D J
)
°°J K
dr
°°K M
[
°°M N
$str
°°N ]
]
°°] ^
;
°°^ _(
oComprobantesElectronicosE
¢¢ 2
.
¢¢2 3
TipoCompSunat
¢¢3 @
=
¢¢A B
(
¢¢C D
string
¢¢D J
)
¢¢J K
dr
¢¢K M
[
¢¢M N
$str
¢¢N ^
]
¢¢^ _
;
¢¢_ `(
oComprobantesElectronicosE
££ 2
.
££2 3
TipoCompTci
££3 >
=
££? @
(
££A B
string
££B H
)
££H I
dr
££I K
[
££K L
$str
££L Z
]
££Z [
;
££[ \(
oComprobantesElectronicosE
§§ 2
.
§§2 3
Estado
§§3 9
=
§§: ;
(
§§< =
string
§§= C
)
§§C D
dr
§§D F
[
§§F G
$str
§§G O
]
§§O P
;
§§P Q(
oComprobantesElectronicosE
•• 2
.
••2 3
NombreEstado
••3 ?
=
••@ A
(
••B C
string
••C I
)
••I J
dr
••J L
[
••L M
$str
••M [
]
••[ \
;
••\ ](
oComprobantesElectronicosE
¶¶ 2
.
¶¶2 3
	ParaQuien
¶¶3 <
=
¶¶= >
(
¶¶? @
string
¶¶@ F
)
¶¶F G
dr
¶¶G I
[
¶¶I J
$str
¶¶J U
]
¶¶U V
;
¶¶V W(
oComprobantesElectronicosE
ßß 2
.
ßß2 3 
CodComprobanteNota
ßß3 E
=
ßßF G
(
ßßH I
string
ßßI O
)
ßßO P
dr
ßßP R
[
ßßR S
$str
ßßS g
]
ßßg h
;
ßßh i(
oComprobantesElectronicosE
®® 2
.
®®2 3 
CodLiquidacionNota
®®3 E
=
®®F G
(
®®H I
string
®®I O
)
®®O P
dr
®®P R
[
®®R S
$str
®®S h
]
®®h i
;
®®i j(
oComprobantesElectronicosE
©© 2
.
©©2 3
FechaEmision
©©3 ?
=
©©@ A
dr
©©B D
[
©©D E
$str
©©E S
]
©©S T
is
©©U W
DBNull
©©X ^
?
©©_ `
new
©©a d
DateTime
©©e m
(
©©m n
$num
©©n r
,
©©r s
$num
©©t v
,
©©v w
$num
©©x z
)
©©z {
.
©©{ |
ToString©©| Ñ
(©©Ñ Ö
)©©Ö Ü
:©©á à
Convert©©â ê
.©©ê ë

ToDateTime©©ë õ
(©©õ ú
dr©©ú û
[©©û ü
$str©©ü ≠
]©©≠ Æ
)©©Æ Ø
.©©Ø ∞
ToString©©∞ ∏
(©©∏ π
)©©π ∫
;©©∫ ª(
oComprobantesElectronicosE
™™ 2
.
™™2 3
	ANombreDe
™™3 <
=
™™= >
(
™™? @
string
™™@ F
)
™™F G
(
™™G H
dr
™™H J
[
™™J K
$str
™™K V
]
™™V W
+
™™X Y
$str
™™Z \
)
™™\ ]
.
™™] ^
Trim
™™^ b
(
™™b c
)
™™c d
;
™™d e(
oComprobantesElectronicosE
´´ 2
.
´´2 3
	Direccion
´´3 <
=
´´= >
(
´´? @
string
´´@ F
)
´´F G
dr
´´G I
[
´´I J
$str
´´J U
]
´´U V
;
´´V W(
oComprobantesElectronicosE
¨¨ 2
.
¨¨2 3
Ruc
¨¨3 6
=
¨¨7 8
(
¨¨9 :
string
¨¨: @
)
¨¨@ A
dr
¨¨A C
[
¨¨C D
$str
¨¨D I
]
¨¨I J
+
¨¨K L
$str
¨¨M O
;
¨¨O P(
oComprobantesElectronicosE
≠≠ 2
.
≠≠2 3"
TipDocIdentidadSunat
≠≠3 G
=
≠≠H I
(
≠≠J K
string
≠≠K Q
)
≠≠Q R
dr
≠≠R T
[
≠≠T U
$str
≠≠U l
]
≠≠l m
;
≠≠m n(
oComprobantesElectronicosE
ÆÆ 2
.
ÆÆ2 3
RucSunat
ÆÆ3 ;
=
ÆÆ< =
(
ÆÆ> ?
string
ÆÆ? E
)
ÆÆE F
dr
ÆÆF H
[
ÆÆH I
$str
ÆÆI T
]
ÆÆT U
;
ÆÆU V(
oComprobantesElectronicosE
ØØ 2
.
ØØ2 3
ReceptorCorreo
ØØ3 A
=
ØØB C
(
ØØD E
string
ØØE K
)
ØØK L
dr
ØØL N
[
ØØN O
$str
ØØO `
]
ØØ` a
;
ØØa b(
oComprobantesElectronicosE
∞∞ 2
.
∞∞2 3

EmpresaRuc
∞∞3 =
=
∞∞> ?
(
∞∞@ A
string
∞∞A G
)
∞∞G H
dr
∞∞H J
[
∞∞J K
$str
∞∞K X
]
∞∞X Y
;
∞∞Y Z(
oComprobantesElectronicosE
≤≤ 2
.
≤≤2 3%
EmpresaTipoDocIdentidad
≤≤3 J
=
≤≤K L
(
≤≤M N
string
≤≤N T
)
≤≤T U
dr
≤≤U W
[
≤≤W X
$str
≤≤X r
]
≤≤r s
;
≤≤s t(
oComprobantesElectronicosE
≥≥ 2
.
≥≥2 3
EmpresaNombre
≥≥3 @
=
≥≥A B
(
≥≥C D
string
≥≥D J
)
≥≥J K
dr
≥≥K M
[
≥≥M N
$str
≥≥N ^
]
≥≥^ _
;
≥≥_ `(
oComprobantesElectronicosE
¥¥ 2
.
¥¥2 3
EmpresaDireccion
¥¥3 C
=
¥¥D E
(
¥¥F G
string
¥¥G M
)
¥¥M N
dr
¥¥N P
[
¥¥P Q
$str
¥¥Q d
]
¥¥d e
;
¥¥e f(
oComprobantesElectronicosE
µµ 2
.
µµ2 3
EmpresaTelefono
µµ3 B
=
µµC D
(
µµE F
string
µµF L
)
µµL M
dr
µµM O
[
µµO P
$str
µµP b
]
µµb c
;
µµc d(
oComprobantesElectronicosE
∂∂ 2
.
∂∂2 3
Concepto
∂∂3 ;
=
∂∂< =
(
∂∂> ?
string
∂∂? E
)
∂∂E F
dr
∂∂F H
[
∂∂H I
$str
∂∂I S
]
∂∂S T
;
∂∂T U(
oComprobantesElectronicosE
∑∑ 2
.
∑∑2 3
CodAtencion
∑∑3 >
=
∑∑? @
(
∑∑A B
string
∑∑B H
)
∑∑H I
dr
∑∑I K
[
∑∑K L
$str
∑∑L Y
]
∑∑Y Z
;
∑∑Z [(
oComprobantesElectronicosE
∏∏ 2
.
∏∏2 3
CodPaciente
∏∏3 >
=
∏∏? @
(
∏∏A B
string
∏∏B H
)
∏∏H I
dr
∏∏I K
[
∏∏K L
$str
∏∏L Y
]
∏∏Y Z
;
∏∏Z [(
oComprobantesElectronicosE
ππ 2
.
ππ2 3
NombrePaciente
ππ3 A
=
ππB C
(
ππD E
string
ππE K
)
ππK L
dr
ππL N
[
ππN O
$str
ππO _
]
ππ_ `
;
ππ` a(
oComprobantesElectronicosE
∫∫ 2
.
∫∫2 3
NombreTitular
∫∫3 @
=
∫∫A B
(
∫∫C D
string
∫∫D J
)
∫∫J K
dr
∫∫K M
[
∫∫M N
$str
∫∫N ]
]
∫∫] ^
;
∫∫^ _(
oComprobantesElectronicosE
ªª 2
.
ªª2 3
	NombreCia
ªª3 <
=
ªª= >
(
ªª? @
string
ªª@ F
)
ªªF G
dr
ªªG I
[
ªªI J
$str
ªªJ U
]
ªªU V
;
ªªV W(
oComprobantesElectronicosE
ºº 2
.
ºº2 3
	CodPoliza
ºº3 <
=
ºº= >
(
ºº? @
string
ºº@ F
)
ººF G
dr
ººG I
[
ººI J
$str
ººJ U
]
ººU V
;
ººV W(
oComprobantesElectronicosE
ΩΩ 2
.
ΩΩ2 3
Cama
ΩΩ3 7
=
ΩΩ8 9
(
ΩΩ: ;
string
ΩΩ; A
)
ΩΩA B
dr
ΩΩB D
[
ΩΩD E
$str
ΩΩE K
]
ΩΩK L
;
ΩΩL M(
oComprobantesElectronicosE
ææ 2
.
ææ2 3
Ciuu
ææ3 7
=
ææ8 9
(
ææ: ;
string
ææ; A
)
ææA B
dr
ææB D
[
ææD E
$str
ææE K
]
ææK L
+
ææM N
$str
ææO Q
;
ææQ R(
oComprobantesElectronicosE
øø 2
.
øø2 3
Observaciones
øø3 @
=
øøA B
(
øøC D
string
øøD J
)
øøJ K
dr
øøK M
[
øøM N
$str
øøN ]
]
øø] ^
;
øø^ _(
oComprobantesElectronicosE
¿¿ 2
.
¿¿2 3
Texto1
¿¿3 9
=
¿¿: ;
(
¿¿< =
string
¿¿= C
)
¿¿C D
dr
¿¿D F
[
¿¿F G
$str
¿¿G O
]
¿¿O P
;
¿¿P Q(
oComprobantesElectronicosE
¡¡ 2
.
¡¡2 3
SucDireccion
¡¡3 ?
=
¡¡@ A
(
¡¡B C
string
¡¡C I
)
¡¡I J
dr
¡¡J L
[
¡¡L M
$str
¡¡M \
]
¡¡\ ]
;
¡¡] ^(
oComprobantesElectronicosE
¬¬ 2
.
¬¬2 3
MontoLetras
¬¬3 >
=
¬¬? @
(
¬¬A B
string
¬¬B H
)
¬¬H I
dr
¬¬I K
[
¬¬K L
$str
¬¬L Y
]
¬¬Y Z
;
¬¬Z [(
oComprobantesElectronicosE
√√ 2
.
√√2 3
TipoDeCambio
√√3 ?
=
√√@ A
(
√√B C
string
√√C I
)
√√I J
dr
√√J L
[
√√L M
$str
√√M [
]
√√[ \
;
√√\ ](
oComprobantesElectronicosE
ƒƒ 2
.
ƒƒ2 3
TipoPagoTxt
ƒƒ3 >
=
ƒƒ? @
(
ƒƒA B
string
ƒƒB H
)
ƒƒH I
dr
ƒƒI K
[
ƒƒK L
$str
ƒƒL Y
]
ƒƒY Z
;
ƒƒZ [(
oComprobantesElectronicosE
∆∆ 2
.
∆∆2 3
RefElectronico
∆∆3 A
=
∆∆B C
(
∆∆D E
string
∆∆E K
)
∆∆K L
dr
∆∆L N
[
∆∆N O
$str
∆∆O `
]
∆∆` a
;
∆∆a b(
oComprobantesElectronicosE
«« 2
.
««2 3 
RefCodComprobanteE
««3 E
=
««F G
(
««H I
string
««I O
)
««O P
dr
««P R
[
««R S
$str
««S i
]
««i j
;
««j k(
oComprobantesElectronicosE
»» 2
.
»»2 3
RefTipoCompSunat
»»3 C
=
»»D E
(
»»F G
string
»»G M
)
»»M N
dr
»»N P
[
»»P Q
$str
»»Q e
]
»»e f
;
»»f g(
oComprobantesElectronicosE
…… 2
.
……2 3
RefFechaEmision
……3 B
=
……C D
dr
……E G
[
……G H
$str
……H Z
]
……Z [
is
……\ ^
DBNull
……_ e
?
……f g
new
……h k
DateTime
……l t
(
……t u
$num
……u y
,
……y z
$num
……{ }
,
……} ~
$num…… Å
)……Å Ç
.……Ç É
ToString……É ã
(……ã å
)……å ç
:……é è
Convert……ê ó
.……ó ò

ToDateTime……ò ¢
(……¢ £
dr……£ •
[……• ¶
$str……¶ ∏
]……∏ π
)……π ∫
.……∫ ª
ToString……ª √
(……√ ƒ
)……ƒ ≈
;……≈ ∆(
oComprobantesElectronicosE
   2
.
  2 3
C_CodMotivo_Sunat
  3 D
=
  E F
(
  G H
string
  H N
)
  N O
dr
  O Q
[
  Q R
$str
  R e
]
  e f
;
  f g(
oComprobantesElectronicosE
ÀÀ 2
.
ÀÀ2 3
C_MotivoNota
ÀÀ3 ?
=
ÀÀ@ A
(
ÀÀB C
string
ÀÀC I
)
ÀÀI J
dr
ÀÀJ L
[
ÀÀL M
$str
ÀÀM [
]
ÀÀ[ \
;
ÀÀ\ ](
oComprobantesElectronicosE
ÕÕ 2
.
ÕÕ2 3
C_Moneda
ÕÕ3 ;
=
ÕÕ< =
(
ÕÕ> ?
string
ÕÕ? E
)
ÕÕE F
dr
ÕÕF H
[
ÕÕH I
$str
ÕÕI S
]
ÕÕS T
;
ÕÕT U(
oComprobantesElectronicosE
ŒŒ 2
.
ŒŒ2 3
C_NombreMoneda
ŒŒ3 A
=
ŒŒB C
(
ŒŒD E
string
ŒŒE K
)
ŒŒK L
dr
ŒŒL N
[
ŒŒN O
$str
ŒŒO _
]
ŒŒ_ `
;
ŒŒ` a(
oComprobantesElectronicosE
œœ 2
.
œœ2 3
C_SimboloMoneda
œœ3 B
=
œœC D
(
œœE F
string
œœF L
)
œœL M
dr
œœM O
[
œœO P
$str
œœP a
]
œœa b
;
œœb c(
oComprobantesElectronicosE
–– 2
.
––2 3
C_MontoAfecto
––3 @
=
––A B
(
––C D
string
––D J
)
––J K
dr
––K M
[
––M N
$str
––N ]
]
––] ^
;
––^ _(
oComprobantesElectronicosE
—— 2
.
——2 3
C_MontoInafecto
——3 B
=
——C D
(
——E F
string
——F L
)
——L M
dr
——M O
[
——O P
$str
——P a
]
——a b
;
——b c(
oComprobantesElectronicosE
““ 2
.
““2 3
C_MontoExonerado
““3 C
=
““D E
(
““F G
string
““G M
)
““M N
dr
““N P
[
““P Q
$str
““Q c
]
““c d
;
““d e(
oComprobantesElectronicosE
”” 2
.
””2 3
C_MontoGratuito
””3 B
=
””C D
(
””E F
string
””F L
)
””L M
dr
””M O
[
””O P
$str
””P a
]
””a b
;
””b c(
oComprobantesElectronicosE
‘‘ 2
.
‘‘2 3

C_MontoIgv
‘‘3 =
=
‘‘> ?
(
‘‘@ A
string
‘‘A G
)
‘‘G H
dr
‘‘H J
[
‘‘J K
$str
‘‘K W
]
‘‘W X
;
‘‘X Y(
oComprobantesElectronicosE
’’ 2
.
’’2 3
C_MontoNeto
’’3 >
=
’’? @
(
’’A B
string
’’B H
)
’’H I
dr
’’I K
[
’’K L
$str
’’L Y
]
’’Y Z
;
’’Z [(
oComprobantesElectronicosE
◊◊ 2
.
◊◊2 3
C_NetoDolares
◊◊3 @
=
◊◊A B
(
◊◊C D
string
◊◊D J
)
◊◊J K
dr
◊◊K M
[
◊◊M N
$str
◊◊N ]
]
◊◊] ^
;
◊◊^ _(
oComprobantesElectronicosE
ÿÿ 2
.
ÿÿ2 3 
PorcentajeImpuesto
ÿÿ3 E
=
ÿÿF G
(
ÿÿH I
string
ÿÿI O
)
ÿÿO P
dr
ÿÿP R
[
ÿÿR S
$str
ÿÿS g
]
ÿÿg h
;
ÿÿh i(
oComprobantesElectronicosE
ŸŸ 2
.
ŸŸ2 3!
PorcentajeCoAseguro
ŸŸ3 F
=
ŸŸG H
(
ŸŸI J
string
ŸŸJ P
)
ŸŸP Q
dr
ŸŸQ S
[
ŸŸS T
$str
ŸŸT i
]
ŸŸi j
;
ŸŸj k(
oComprobantesElectronicosE
⁄⁄ 2
.
⁄⁄2 3
FlgGratuito
⁄⁄3 >
=
⁄⁄? @
(
⁄⁄A B
string
⁄⁄B H
)
⁄⁄H I
dr
⁄⁄I K
[
⁄⁄K L
$str
⁄⁄L Z
]
⁄⁄Z [
;
⁄⁄[ \(
oComprobantesElectronicosE
€€ 2
.
€€2 3
TipoOperacion
€€3 @
=
€€A B
(
€€C D
string
€€D J
)
€€J K
dr
€€K M
[
€€M N
$str
€€N ^
]
€€^ _
;
€€_ `(
oComprobantesElectronicosE
‹‹ 2
.
‹‹2 3
HoraEmision
‹‹3 >
=
‹‹? @
(
‹‹A B
string
‹‹B H
)
‹‹H I
dr
‹‹I K
[
‹‹K L
$str
‹‹L Z
]
‹‹Z [
;
‹‹[ \(
oComprobantesElectronicosE
›› 2
.
››2 3
TotalImpuesto
››3 @
=
››A B
(
››C D
string
››D J
)
››J K
dr
››K M
[
››M N
$str
››N ^
]
››^ _
;
››_ `(
oComprobantesElectronicosE
ﬁﬁ 2
.
ﬁﬁ2 3
TotalValorVenta
ﬁﬁ3 B
=
ﬁﬁC D
(
ﬁﬁE F
string
ﬁﬁF L
)
ﬁﬁL M
dr
ﬁﬁM O
[
ﬁﬁO P
$str
ﬁﬁP b
]
ﬁﬁb c
;
ﬁﬁc d(
oComprobantesElectronicosE
ﬂﬂ 2
.
ﬂﬂ2 3
TotalPrecioVenta
ﬂﬂ3 C
=
ﬂﬂD E
(
ﬂﬂF G
string
ﬂﬂG M
)
ﬂﬂM N
dr
ﬂﬂN P
[
ﬂﬂP Q
$str
ﬂﬂQ d
]
ﬂﬂd e
;
ﬂﬂe f(
oComprobantesElectronicosE
‡‡ 2
.
‡‡2 3
VsUbl
‡‡3 8
=
‡‡9 :
(
‡‡; <
string
‡‡< B
)
‡‡B C
dr
‡‡C E
[
‡‡E F
$str
‡‡F N
]
‡‡N O
;
‡‡O P(
oComprobantesElectronicosE
·· 2
.
··2 3
MtTotal
··3 :
=
··; <
(
··= >
string
··> D
)
··D E
dr
··E G
[
··G H
$str
··H R
]
··R S
;
··S T(
oComprobantesElectronicosE
‚‚ 2
.
‚‚2 3
MtgBase
‚‚3 :
=
‚‚; <
(
‚‚= >
string
‚‚> D
)
‚‚D E
dr
‚‚E G
[
‚‚G H
$str
‚‚H R
]
‚‚R S
;
‚‚S T(
oComprobantesElectronicosE
„„ 2
.
„„2 3
MtgValorImpuesto
„„3 C
=
„„D E
(
„„F G
string
„„G M
)
„„M N
dr
„„N P
[
„„P Q
$str
„„Q d
]
„„d e
;
„„e f(
oComprobantesElectronicosE
‰‰ 2
.
‰‰2 3
MtgPorcentaje
‰‰3 @
=
‰‰A B
(
‰‰C D
string
‰‰D J
)
‰‰J K
dr
‰‰K M
[
‰‰M N
$str
‰‰N ^
]
‰‰^ _
;
‰‰_ `(
oComprobantesElectronicosE
ÂÂ 2
.
ÂÂ2 3
CodigoEstabSUNAT
ÂÂ3 C
=
ÂÂD E
(
ÂÂF G
string
ÂÂG M
)
ÂÂM N
dr
ÂÂN P
[
ÂÂP Q
$str
ÂÂQ c
]
ÂÂc d
;
ÂÂd e(
oComprobantesElectronicosE
ÊÊ 2
.
ÊÊ2 3
CodDistrito
ÊÊ3 >
=
ÊÊ? @
(
ÊÊA B
string
ÊÊB H
)
ÊÊH I
dr
ÊÊI K
[
ÊÊK L
$str
ÊÊL Y
]
ÊÊY Z
;
ÊÊZ [(
oComprobantesElectronicosE
ÁÁ 2
.
ÁÁ2 3
	FormaPago
ÁÁ3 <
=
ÁÁ= >
(
ÁÁ? @
string
ÁÁ@ F
)
ÁÁF G
dr
ÁÁG I
[
ÁÁI J
$str
ÁÁJ V
]
ÁÁV W
;
ÁÁW X(
oComprobantesElectronicosE
ÈÈ 2
.
ÈÈ2 3
CodTipoDetraccion
ÈÈ3 D
=
ÈÈE F
(
ÈÈG H
string
ÈÈH N
)
ÈÈN O
dr
ÈÈO Q
[
ÈÈQ R
$str
ÈÈR f
]
ÈÈf g
;
ÈÈg h(
oComprobantesElectronicosE
ÍÍ 2
.
ÍÍ2 3

CodTributo
ÍÍ3 =
=
ÍÍ> ?
(
ÍÍ@ A
string
ÍÍA G
)
ÍÍG H
dr
ÍÍH J
[
ÍÍJ K
$str
ÍÍK X
]
ÍÍX Y
;
ÍÍY Z(
oComprobantesElectronicosE
ÎÎ 2
.
ÎÎ2 3
CodAfectacionIGV
ÎÎ3 C
=
ÎÎD E
(
ÎÎF G
string
ÎÎG M
)
ÎÎM N
dr
ÎÎN P
[
ÎÎP Q
$str
ÎÎQ d
]
ÎÎd e
;
ÎÎe f(
oComprobantesElectronicosE
ÏÏ 2
.
ÏÏ2 3

DesTributo
ÏÏ3 =
=
ÏÏ> ?
(
ÏÏ@ A
string
ÏÏA G
)
ÏÏG H
dr
ÏÏH J
[
ÏÏJ K
$str
ÏÏK X
]
ÏÏX Y
;
ÏÏY Z(
oComprobantesElectronicosE
ÌÌ 2
.
ÌÌ2 3
CodUN
ÌÌ3 8
=
ÌÌ9 :
(
ÌÌ; <
string
ÌÌ< B
)
ÌÌB C
dr
ÌÌC E
[
ÌÌE F
$str
ÌÌF N
]
ÌÌN O
;
ÌÌO P(
oComprobantesElectronicosE
ÓÓ 2
.
ÓÓ2 3
CodProductoSUNAT
ÓÓ3 C
=
ÓÓD E
(
ÓÓF G
string
ÓÓG M
)
ÓÓM N
dr
ÓÓN P
[
ÓÓP Q
$str
ÓÓQ c
]
ÓÓc d
;
ÓÓd e(
oComprobantesElectronicosE
ÔÔ 2
.
ÔÔ2 3
CodNota
ÔÔ3 :
=
ÔÔ; <
(
ÔÔ= >
string
ÔÔ> D
)
ÔÔD E
dr
ÔÔE G
[
ÔÔG H
$str
ÔÔH Q
]
ÔÔQ R
;
ÔÔR S(
oComprobantesElectronicosE
 2
.
2 3
D_Orden
3 :
=
; <
(
= >
string
> D
)
D E
dr
E G
[
G H
$str
H Q
]
Q R
;
R S(
oComprobantesElectronicosE
ÒÒ 2
.
ÒÒ2 3
D_Unidad
ÒÒ3 ;
=
ÒÒ< =
(
ÒÒ> ?
string
ÒÒ? E
)
ÒÒE F
dr
ÒÒF H
[
ÒÒH I
$str
ÒÒI S
]
ÒÒS T
;
ÒÒT U(
oComprobantesElectronicosE
ÚÚ 2
.
ÚÚ2 3
D_Grupo
ÚÚ3 :
=
ÚÚ; <
(
ÚÚ= >
string
ÚÚ> D
)
ÚÚD E
dr
ÚÚE G
[
ÚÚG H
$str
ÚÚH Q
]
ÚÚQ R
;
ÚÚR S(
oComprobantesElectronicosE
ÛÛ 2
.
ÛÛ2 3
D_NombreGrupo
ÛÛ3 @
=
ÛÛA B
(
ÛÛC D
string
ÛÛD J
)
ÛÛJ K
dr
ÛÛK M
[
ÛÛM N
$str
ÛÛN ]
]
ÛÛ] ^
;
ÛÛ^ _(
oComprobantesElectronicosE
ÙÙ 2
.
ÙÙ2 3
D_Cant_Sunat
ÙÙ3 ?
=
ÙÙ@ A
(
ÙÙB C
string
ÙÙC I
)
ÙÙI J
dr
ÙÙJ L
[
ÙÙL M
$str
ÙÙM [
]
ÙÙ[ \
;
ÙÙ\ ](
oComprobantesElectronicosE
ıı 2
.
ıı2 3$
D_VentaUnitario_SinIgv
ıı3 I
=
ııJ K
(
ııL M
string
ııM S
)
ııS T
dr
ııT V
[
ııV W
$str
ııW o
]
ııo p
;
ııp q(
oComprobantesElectronicosE
ˆˆ 2
.
ˆˆ2 3$
D_VentaUnitario_ConIgv
ˆˆ3 I
=
ˆˆJ K
(
ˆˆL M
string
ˆˆM S
)
ˆˆS T
dr
ˆˆT V
[
ˆˆV W
$str
ˆˆW o
]
ˆˆo p
;
ˆˆp q(
oComprobantesElectronicosE
˜˜ 2
.
˜˜2 3
D_Total_SinIgv
˜˜3 A
=
˜˜B C
(
˜˜D E
string
˜˜E K
)
˜˜K L
dr
˜˜L N
[
˜˜N O
$str
˜˜O _
]
˜˜_ `
;
˜˜` a(
oComprobantesElectronicosE
¯¯ 2
.
¯¯2 3
D_Total_ConIgv
¯¯3 A
=
¯¯B C
(
¯¯D E
string
¯¯E K
)
¯¯K L
dr
¯¯L N
[
¯¯N O
$str
¯¯O _
]
¯¯_ `
;
¯¯` a(
oComprobantesElectronicosE
˘˘ 2
.
˘˘2 3
D_Total_SinIgv2
˘˘3 B
=
˘˘C D
(
˘˘E F
string
˘˘F L
)
˘˘L M
dr
˘˘M O
[
˘˘O P
$str
˘˘P a
]
˘˘a b
;
˘˘b c(
oComprobantesElectronicosE
˙˙ 2
.
˙˙2 3

D_MontoIgv
˙˙3 =
=
˙˙> ?
(
˙˙@ A
string
˙˙A G
)
˙˙G H
dr
˙˙H J
[
˙˙J K
$str
˙˙K W
]
˙˙W X
;
˙˙X Y(
oComprobantesElectronicosE
˚˚ 2
.
˚˚2 3
D_Determinante
˚˚3 A
=
˚˚B C
(
˚˚D E
string
˚˚E K
)
˚˚K L
dr
˚˚L N
[
˚˚N O
$str
˚˚O _
]
˚˚_ `
;
˚˚` a(
oComprobantesElectronicosE
˝˝ 2
.
˝˝2 3 
D_CodigoTipoPrecio
˝˝3 E
=
˝˝F G
(
˝˝H I
string
˝˝I O
)
˝˝O P
dr
˝˝P R
[
˝˝R S
$str
˝˝S g
]
˝˝g h
;
˝˝h i(
oComprobantesElectronicosE
˛˛ 2
.
˛˛2 3
D_AfectacionIgv
˛˛3 B
=
˛˛C D
(
˛˛E F
string
˛˛F L
)
˛˛L M
dr
˛˛M O
[
˛˛O P
$str
˛˛P a
]
˛˛a b
;
˛˛b c(
oComprobantesElectronicosE
ˇˇ 2
.
ˇˇ2 3
Cuadre
ˇˇ3 9
=
ˇˇ: ;
(
ˇˇ< =
string
ˇˇ= C
)
ˇˇC D
dr
ˇˇD F
[
ˇˇF G
$str
ˇˇG O
]
ˇˇO P
;
ˇˇP Q
break
ÄÄ 
;
ÄÄ 
}
ÅÅ 
case
ÉÉ 
$num
ÉÉ 
:
ÑÑ	 

{
ÖÖ (
oComprobantesElectronicosE
àà 2
.
àà2 3
CodComprobante
àà3 A
=
ààB C
(
ààD E
string
ààE K
)
ààK L
dr
ààL N
[
ààN O
$str
ààO _
]
àà_ `
;
àà` a(
oComprobantesElectronicosE
ââ 2
.
ââ2 3
CodComprobanteE
ââ3 B
=
ââC D
(
ââE F
string
ââF L
)
ââL M
dr
ââM O
[
ââO P
$str
ââP b
]
ââb c
;
ââc d(
oComprobantesElectronicosE
ää 2
.
ää2 3
TipoPlantilla
ää3 @
=
ääA B
(
ääC D
string
ääD J
)
ääJ K
dr
ääK M
[
ääM N
$str
ääN ]
]
ää] ^
;
ää^ _(
oComprobantesElectronicosE
ãã 2
.
ãã2 3
TipoCompSunat
ãã3 @
=
ããA B
(
ããC D
string
ããD J
)
ããJ K
dr
ããK M
[
ããM N
$str
ããN ^
]
ãã^ _
;
ãã_ `(
oComprobantesElectronicosE
åå 2
.
åå2 3
TipoCompTci
åå3 >
=
åå? @
(
ååA B
string
ååB H
)
ååH I
dr
ååI K
[
ååK L
$str
ååL Z
]
ååZ [
;
åå[ \(
oComprobantesElectronicosE
çç 2
.
çç2 3
Estado
çç3 9
=
çç: ;
(
çç< =
string
çç= C
)
ççC D
dr
ççD F
[
ççF G
$str
ççG O
]
ççO P
;
ççP Q(
oComprobantesElectronicosE
éé 2
.
éé2 3
NombreEstado
éé3 ?
=
éé@ A
(
ééB C
string
ééC I
)
ééI J
dr
ééJ L
[
ééL M
$str
ééM [
]
éé[ \
;
éé\ ](
oComprobantesElectronicosE
èè 2
.
èè2 3
FechaEmision
èè3 ?
=
èè@ A
dr
èèB D
[
èèD E
$str
èèE S
]
èèS T
is
èèU W
DBNull
èèX ^
?
èè_ `
new
èèa d
DateTime
èèe m
(
èèm n
$num
èèn r
,
èèr s
$num
èèt v
,
èèv w
$num
èèx z
)
èèz {
.
èè{ |
ToStringèè| Ñ
(èèÑ Ö
)èèÖ Ü
:èèá à
Convertèèâ ê
.èèê ë

ToDateTimeèèë õ
(èèõ ú
drèèú û
[èèû ü
$strèèü ≠
]èè≠ Æ
)èèÆ Ø
.èèØ ∞
ToStringèè∞ ∏
(èè∏ π
)èèπ ∫
;èè∫ ª(
oComprobantesElectronicosE
íí 2
.
íí2 3
	ANombreDe
íí3 <
=
íí= >
(
íí? @
string
íí@ F
)
ííF G
(
ííG H
dr
ííH J
[
ííJ K
$str
ííK V
]
ííV W
+
ííX Y
$str
ííZ \
)
íí\ ]
.
íí] ^
Trim
íí^ b
(
ííb c
)
ííc d
;
ííd e(
oComprobantesElectronicosE
ìì 2
.
ìì2 3
	Direccion
ìì3 <
=
ìì= >
(
ìì? @
string
ìì@ F
)
ììF G
dr
ììG I
[
ììI J
$str
ììJ U
]
ììU V
;
ììV W(
oComprobantesElectronicosE
îî 2
.
îî2 3
Ruc
îî3 6
=
îî7 8
(
îî9 :
string
îî: @
)
îî@ A
dr
îîA C
[
îîC D
$str
îîD I
]
îîI J
;
îîJ K(
oComprobantesElectronicosE
ïï 2
.
ïï2 3"
TipDocIdentidadSunat
ïï3 G
=
ïïH I
(
ïïJ K
string
ïïK Q
)
ïïQ R
dr
ïïR T
[
ïïT U
$str
ïïU l
]
ïïl m
+
ïïn o
$str
ïïp r
;
ïïr s(
oComprobantesElectronicosE
ññ 2
.
ññ2 3
RucSunat
ññ3 ;
=
ññ< =
(
ññ> ?
string
ññ? E
)
ññE F
dr
ññF H
[
ññH I
$str
ññI T
]
ññT U
;
ññU V(
oComprobantesElectronicosE
óó 2
.
óó2 3
ReceptorCorreo
óó3 A
=
óóB C
(
óóD E
string
óóE K
)
óóK L
dr
óóL N
[
óóN O
$str
óóO `
]
óó` a
;
óóa b(
oComprobantesElectronicosE
òò 2
.
òò2 3

EmpresaRuc
òò3 =
=
òò> ?
(
òò@ A
string
òòA G
)
òòG H
dr
òòH J
[
òòJ K
$str
òòK X
]
òòX Y
;
òòY Z(
oComprobantesElectronicosE
ôô 2
.
ôô2 3%
EmpresaTipoDocIdentidad
ôô3 J
=
ôôK L
(
ôôM N
string
ôôN T
)
ôôT U
dr
ôôU W
[
ôôW X
$str
ôôX r
]
ôôr s
;
ôôs t(
oComprobantesElectronicosE
úú 2
.
úú2 3
EmpresaNombre
úú3 @
=
úúA B
(
úúC D
string
úúD J
)
úúJ K
dr
úúK M
[
úúM N
$str
úúN ^
]
úú^ _
;
úú_ `(
oComprobantesElectronicosE
ùù 2
.
ùù2 3
EmpresaDireccion
ùù3 C
=
ùùD E
(
ùùF G
string
ùùG M
)
ùùM N
dr
ùùN P
[
ùùP Q
$str
ùùQ d
]
ùùd e
;
ùùe f(
oComprobantesElectronicosE
ûû 2
.
ûû2 3
EmpresaTelefono
ûû3 B
=
ûûC D
(
ûûE F
string
ûûF L
)
ûûL M
dr
ûûM O
[
ûûO P
$str
ûûP b
]
ûûb c
;
ûûc d(
oComprobantesElectronicosE
üü 2
.
üü2 3
Concepto
üü3 ;
=
üü< =
(
üü> ?
string
üü? E
)
üüE F
dr
üüF H
[
üüH I
$str
üüI S
]
üüS T
;
üüT U(
oComprobantesElectronicosE
†† 2
.
††2 3
CodAtencion
††3 >
=
††? @
(
††A B
string
††B H
)
††H I
dr
††I K
[
††K L
$str
††L Y
]
††Y Z
+
††[ \
$str
††] _
;
††_ `(
oComprobantesElectronicosE
°° 2
.
°°2 3
CodPaciente
°°3 >
=
°°? @
(
°°A B
string
°°B H
)
°°H I
dr
°°I K
[
°°K L
$str
°°L Y
]
°°Y Z
+
°°[ \
$str
°°] _
;
°°_ `(
oComprobantesElectronicosE
¢¢ 2
.
¢¢2 3
NombrePaciente
¢¢3 A
=
¢¢B C
(
¢¢D E
string
¢¢E K
)
¢¢K L
dr
¢¢L N
[
¢¢N O
$str
¢¢O _
]
¢¢_ `
;
¢¢` a(
oComprobantesElectronicosE
•• 2
.
••2 3
NombreTitular
••3 @
=
••A B
(
••C D
string
••D J
)
••J K
dr
••K M
[
••M N
$str
••N ]
]
••] ^
;
••^ _(
oComprobantesElectronicosE
¶¶ 2
.
¶¶2 3
	NombreCia
¶¶3 <
=
¶¶= >
(
¶¶? @
string
¶¶@ F
)
¶¶F G
dr
¶¶G I
[
¶¶I J
$str
¶¶J U
]
¶¶U V
;
¶¶V W(
oComprobantesElectronicosE
ßß 2
.
ßß2 3
	CodPoliza
ßß3 <
=
ßß= >
(
ßß? @
string
ßß@ F
)
ßßF G
dr
ßßG I
[
ßßI J
$str
ßßJ U
]
ßßU V
;
ßßV W(
oComprobantesElectronicosE
®® 2
.
®®2 3
Observaciones
®®3 @
=
®®A B
(
®®C D
string
®®D J
)
®®J K
dr
®®K M
[
®®M N
$str
®®N ]
]
®®] ^
;
®®^ _(
oComprobantesElectronicosE
©© 2
.
©©2 3
Texto1
©©3 9
=
©©: ;
(
©©< =
string
©©= C
)
©©C D
dr
©©D F
[
©©F G
$str
©©G O
]
©©O P
;
©©P Q(
oComprobantesElectronicosE
™™ 2
.
™™2 3
SucDireccion
™™3 ?
=
™™@ A
(
™™B C
string
™™C I
)
™™I J
dr
™™J L
[
™™L M
$str
™™M \
]
™™\ ]
;
™™] ^(
oComprobantesElectronicosE
´´ 2
.
´´2 3
TipoPagoTxt
´´3 >
=
´´? @
(
´´A B
string
´´B H
)
´´H I
dr
´´I K
[
´´K L
$str
´´L Y
]
´´Y Z
;
´´Z [(
oComprobantesElectronicosE
¨¨ 2
.
¨¨2 3
C_Moneda
¨¨3 ;
=
¨¨< =
(
¨¨> ?
string
¨¨? E
)
¨¨E F
dr
¨¨F H
[
¨¨H I
$str
¨¨I S
]
¨¨S T
;
¨¨T U(
oComprobantesElectronicosE
ØØ 2
.
ØØ2 3
C_NombreMoneda
ØØ3 A
=
ØØB C
(
ØØD E
string
ØØE K
)
ØØK L
dr
ØØL N
[
ØØN O
$str
ØØO _
]
ØØ_ `
;
ØØ` a(
oComprobantesElectronicosE
∞∞ 2
.
∞∞2 3
C_SimboloMoneda
∞∞3 B
=
∞∞C D
(
∞∞E F
string
∞∞F L
)
∞∞L M
dr
∞∞M O
[
∞∞O P
$str
∞∞P a
]
∞∞a b
;
∞∞b c(
oComprobantesElectronicosE
±± 2
.
±±2 3
C_MontoAfecto
±±3 @
=
±±A B
(
±±C D
string
±±D J
)
±±J K
dr
±±K M
[
±±M N
$str
±±N ]
]
±±] ^
;
±±^ _(
oComprobantesElectronicosE
≤≤ 2
.
≤≤2 3
C_MontoInafecto
≤≤3 B
=
≤≤C D
(
≤≤E F
string
≤≤F L
)
≤≤L M
dr
≤≤M O
[
≤≤O P
$str
≤≤P a
]
≤≤a b
;
≤≤b c(
oComprobantesElectronicosE
≥≥ 2
.
≥≥2 3
C_MontoExonerado
≥≥3 C
=
≥≥D E
(
≥≥F G
string
≥≥G M
)
≥≥M N
dr
≥≥N P
[
≥≥P Q
$str
≥≥Q c
]
≥≥c d
;
≥≥d e(
oComprobantesElectronicosE
¥¥ 2
.
¥¥2 3
C_MontoGratuito
¥¥3 B
=
¥¥C D
(
¥¥E F
string
¥¥F L
)
¥¥L M
dr
¥¥M O
[
¥¥O P
$str
¥¥P a
]
¥¥a b
;
¥¥b c(
oComprobantesElectronicosE
∑∑ 2
.
∑∑2 3

C_MontoIgv
∑∑3 =
=
∑∑> ?
(
∑∑@ A
string
∑∑A G
)
∑∑G H
dr
∑∑H J
[
∑∑J K
$str
∑∑K W
]
∑∑W X
;
∑∑X Y(
oComprobantesElectronicosE
∏∏ 2
.
∏∏2 3
C_MontoNeto
∏∏3 >
=
∏∏? @
(
∏∏A B
string
∏∏B H
)
∏∏H I
dr
∏∏I K
[
∏∏K L
$str
∏∏L Y
]
∏∏Y Z
;
∏∏Z [(
oComprobantesElectronicosE
ππ 2
.
ππ2 3 
PorcentajeImpuesto
ππ3 E
=
ππF G
(
ππH I
string
ππI O
)
ππO P
dr
ππP R
[
ππR S
$str
ππS g
]
ππg h
;
ππh i(
oComprobantesElectronicosE
∫∫ 2
.
∫∫2 3!
PorcentajeCoAseguro
∫∫3 F
=
∫∫G H
(
∫∫I J
string
∫∫J P
)
∫∫P Q
dr
∫∫Q S
[
∫∫S T
$str
∫∫T i
]
∫∫i j
;
∫∫j k(
oComprobantesElectronicosE
ªª 2
.
ªª2 3
D_Orden
ªª3 :
=
ªª; <
(
ªª= >
string
ªª> D
)
ªªD E
dr
ªªE G
[
ªªG H
$str
ªªH Q
]
ªªQ R
;
ªªR S(
oComprobantesElectronicosE
ºº 2
.
ºº2 3
D_Unidad
ºº3 ;
=
ºº< =
(
ºº> ?
string
ºº? E
)
ººE F
dr
ººF H
[
ººH I
$str
ººI S
]
ººS T
;
ººT U(
oComprobantesElectronicosE
ΩΩ 2
.
ΩΩ2 3
D_Cant_Sunat
ΩΩ3 ?
=
ΩΩ@ A
(
ΩΩB C
string
ΩΩC I
)
ΩΩI J
dr
ΩΩJ L
[
ΩΩL M
$str
ΩΩM [
]
ΩΩ[ \
;
ΩΩ\ ](
oComprobantesElectronicosE
¿¿ 2
.
¿¿2 3$
D_VentaUnitario_SinIgv
¿¿3 I
=
¿¿J K
(
¿¿L M
string
¿¿M S
)
¿¿S T
dr
¿¿T V
[
¿¿V W
$str
¿¿W o
]
¿¿o p
;
¿¿p q(
oComprobantesElectronicosE
¡¡ 2
.
¡¡2 3$
D_VentaUnitario_ConIgv
¡¡3 I
=
¡¡J K
(
¡¡L M
string
¡¡M S
)
¡¡S T
dr
¡¡T V
[
¡¡V W
$str
¡¡W o
]
¡¡o p
;
¡¡p q(
oComprobantesElectronicosE
¬¬ 2
.
¬¬2 3
D_Total_SinIgv
¬¬3 A
=
¬¬B C
(
¬¬D E
string
¬¬E K
)
¬¬K L
dr
¬¬L N
[
¬¬N O
$str
¬¬O _
]
¬¬_ `
;
¬¬` a(
oComprobantesElectronicosE
√√ 2
.
√√2 3
D_Total_ConIgv
√√3 A
=
√√B C
(
√√D E
string
√√E K
)
√√K L
dr
√√L N
[
√√N O
$str
√√O _
]
√√_ `
;
√√` a(
oComprobantesElectronicosE
ƒƒ 2
.
ƒƒ2 3
D_Total_SinIgv2
ƒƒ3 B
=
ƒƒC D
(
ƒƒE F
string
ƒƒF L
)
ƒƒL M
dr
ƒƒM O
[
ƒƒO P
$str
ƒƒP a
]
ƒƒa b
;
ƒƒb c(
oComprobantesElectronicosE
«« 2
.
««2 3

D_MontoIgv
««3 =
=
««> ?
(
««@ A
string
««A G
)
««G H
dr
««H J
[
««J K
$str
««K W
]
««W X
;
««X Y(
oComprobantesElectronicosE
»» 2
.
»»2 3
D_Determinante
»»3 A
=
»»B C
(
»»D E
string
»»E K
)
»»K L
dr
»»L N
[
»»N O
$str
»»O _
]
»»_ `
;
»»` a(
oComprobantesElectronicosE
…… 2
.
……2 3 
D_CodigoTipoPrecio
……3 E
=
……F G
(
……H I
string
……I O
)
……O P
dr
……P R
[
……R S
$str
……S g
]
……g h
;
……h i(
oComprobantesElectronicosE
   2
.
  2 3
D_AfectacionIgv
  3 B
=
  C D
(
  E F
string
  F L
)
  L M
dr
  M O
[
  O P
$str
  P a
]
  a b
;
  b c(
oComprobantesElectronicosE
ÀÀ 2
.
ÀÀ2 3
TotalImpuesto
ÀÀ3 @
=
ÀÀA B
(
ÀÀC D
string
ÀÀD J
)
ÀÀJ K
dr
ÀÀK M
[
ÀÀM N
$str
ÀÀN ^
]
ÀÀ^ _
;
ÀÀ_ `(
oComprobantesElectronicosE
ÃÃ 2
.
ÃÃ2 3
TotalValorVenta
ÃÃ3 B
=
ÃÃC D
(
ÃÃE F
string
ÃÃF L
)
ÃÃL M
dr
ÃÃM O
[
ÃÃO P
$str
ÃÃP b
]
ÃÃb c
;
ÃÃc d(
oComprobantesElectronicosE
ÕÕ 2
.
ÕÕ2 3
TotalPrecioVenta
ÕÕ3 C
=
ÕÕD E
(
ÕÕF G
string
ÕÕG M
)
ÕÕM N
dr
ÕÕN P
[
ÕÕP Q
$str
ÕÕQ d
]
ÕÕd e
;
ÕÕe f(
oComprobantesElectronicosE
–– 2
.
––2 3
VsUbl
––3 8
=
––9 :
(
––; <
string
––< B
)
––B C
dr
––C E
[
––E F
$str
––F N
]
––N O
;
––O P(
oComprobantesElectronicosE
—— 2
.
——2 3
MtTotal
——3 :
=
——; <
(
——= >
string
——> D
)
——D E
dr
——E G
[
——G H
$str
——H R
]
——R S
;
——S T(
oComprobantesElectronicosE
““ 2
.
““2 3
MtgBase
““3 :
=
““; <
(
““= >
string
““> D
)
““D E
dr
““E G
[
““G H
$str
““H R
]
““R S
;
““S T(
oComprobantesElectronicosE
”” 2
.
””2 3
MtgValorImpuesto
””3 C
=
””D E
(
””F G
string
””G M
)
””M N
dr
””N P
[
””P Q
$str
””Q d
]
””d e
;
””e f(
oComprobantesElectronicosE
‘‘ 2
.
‘‘2 3
MtgPorcentaje
‘‘3 @
=
‘‘A B
(
‘‘C D
string
‘‘D J
)
‘‘J K
dr
‘‘K M
[
‘‘M N
$str
‘‘N ^
]
‘‘^ _
;
‘‘_ `(
oComprobantesElectronicosE
’’ 2
.
’’2 3
CodigoEstabSUNAT
’’3 C
=
’’D E
(
’’F G
string
’’G M
)
’’M N
dr
’’N P
[
’’P Q
$str
’’Q c
]
’’c d
;
’’d e(
oComprobantesElectronicosE
÷÷ 2
.
÷÷2 3

CodTributo
÷÷3 =
=
÷÷> ?
(
÷÷@ A
string
÷÷A G
)
÷÷G H
dr
÷÷H J
[
÷÷J K
$str
÷÷K X
]
÷÷X Y
;
÷÷Y Z(
oComprobantesElectronicosE
◊◊ 2
.
◊◊2 3
CodAfectacionIGV
◊◊3 C
=
◊◊D E
(
◊◊F G
string
◊◊G M
)
◊◊M N
dr
◊◊N P
[
◊◊P Q
$str
◊◊Q d
]
◊◊d e
;
◊◊e f(
oComprobantesElectronicosE
⁄⁄ 2
.
⁄⁄2 3

DesTributo
⁄⁄3 =
=
⁄⁄> ?
(
⁄⁄@ A
string
⁄⁄A G
)
⁄⁄G H
dr
⁄⁄H J
[
⁄⁄J K
$str
⁄⁄K X
]
⁄⁄X Y
;
⁄⁄Y Z(
oComprobantesElectronicosE
€€ 2
.
€€2 3
CodUN
€€3 8
=
€€9 :
(
€€; <
string
€€< B
)
€€B C
dr
€€C E
[
€€E F
$str
€€F N
]
€€N O
;
€€O P(
oComprobantesElectronicosE
‹‹ 2
.
‹‹2 3
CodProductoSUNAT
‹‹3 C
=
‹‹D E
(
‹‹F G
string
‹‹G M
)
‹‹M N
dr
‹‹N P
[
‹‹P Q
$str
‹‹Q c
]
‹‹c d
;
‹‹d e(
oComprobantesElectronicosE
›› 2
.
››2 3
Cuadre
››3 9
=
››: ;
(
››< =
string
››= C
)
››C D
(
››D E
dr
››E G
[
››G H
$str
››H P
]
››P Q
+
››R S
$str
››T V
)
››V W
.
››W X
Trim
››X \
(
››\ ]
)
››] ^
;
››^ _(
oComprobantesElectronicosE
ıı 2
.
ıı2 3
FlgGratuito
ıı3 >
=
ıı? @
(
ııA B
string
ııB H
)
ııH I
dr
ııI K
[
ııK L
$str
ııL Z
]
ııZ [
;
ıı[ \(
oComprobantesElectronicosE
ˆˆ 2
.
ˆˆ2 3
TipoOperacion
ˆˆ3 @
=
ˆˆA B
(
ˆˆC D
string
ˆˆD J
)
ˆˆJ K
dr
ˆˆK M
[
ˆˆM N
$str
ˆˆN ^
]
ˆˆ^ _
;
ˆˆ_ `(
oComprobantesElectronicosE
˜˜ 2
.
˜˜2 3
HoraEmision
˜˜3 >
=
˜˜? @
(
˜˜A B
string
˜˜B H
)
˜˜H I
dr
˜˜I K
[
˜˜K L
$str
˜˜L Z
]
˜˜Z [
;
˜˜[ \(
oComprobantesElectronicosE
¯¯ 2
.
¯¯2 3
CodDistrito
¯¯3 >
=
¯¯? @
(
¯¯A B
string
¯¯B H
)
¯¯H I
dr
¯¯I K
[
¯¯K L
$str
¯¯L Y
]
¯¯Y Z
;
¯¯Z [(
oComprobantesElectronicosE
˚˚ 2
.
˚˚2 3
	FormaPago
˚˚3 <
=
˚˚= >
(
˚˚? @
string
˚˚@ F
)
˚˚F G
dr
˚˚G I
[
˚˚I J
$str
˚˚J V
]
˚˚V W
+
˚˚X Y
$str
˚˚Z \
;
˚˚\ ](
oComprobantesElectronicosE
˛˛ 2
.
˛˛2 3
D_Dscto_Unitario
˛˛3 C
=
˛˛D E
(
˛˛F G
string
˛˛G M
)
˛˛M N
dr
˛˛N P
[
˛˛P Q
$str
˛˛Q c
]
˛˛c d
;
˛˛d e(
oComprobantesElectronicosE
ˇˇ 2
.
ˇˇ2 3!
D_Total_ConDsctoIGV
ˇˇ3 F
=
ˇˇG H
(
ˇˇI J
string
ˇˇJ P
)
ˇˇP Q
dr
ˇˇQ S
[
ˇˇS T
$str
ˇˇT i
]
ˇˇi j
;
ˇˇj k(
oComprobantesElectronicosE
ÄÄ 2
.
ÄÄ2 3
D_Dscto_MontoBase
ÄÄ3 D
=
ÄÄE F
(
ÄÄG H
string
ÄÄH N
)
ÄÄN O
dr
ÄÄO Q
[
ÄÄQ R
$str
ÄÄR e
]
ÄÄe f
;
ÄÄf g(
oComprobantesElectronicosE
ÉÉ 2
.
ÉÉ2 3
D_Dscto_ConIGV
ÉÉ3 A
=
ÉÉB C
(
ÉÉD E
string
ÉÉE K
)
ÉÉK L
dr
ÉÉL N
[
ÉÉN O
$str
ÉÉO _
]
ÉÉ_ `
;
ÉÉ` a(
oComprobantesElectronicosE
ÑÑ 2
.
ÑÑ2 3 
D_MontoAseguradora
ÑÑ3 E
=
ÑÑF G
(
ÑÑH I
string
ÑÑI O
)
ÑÑO P
dr
ÑÑP R
[
ÑÑR S
$str
ÑÑS g
]
ÑÑg h
;
ÑÑh i(
oComprobantesElectronicosE
ÖÖ 2
.
ÖÖ2 3
D_Dscto_SinIGV
ÖÖ3 A
=
ÖÖB C
(
ÖÖD E
string
ÖÖE K
)
ÖÖK L
dr
ÖÖL N
[
ÖÖN O
$str
ÖÖO _
]
ÖÖ_ `
;
ÖÖ` a(
oComprobantesElectronicosE
ÜÜ 2
.
ÜÜ2 3
D_MontoBase
ÜÜ3 >
=
ÜÜ? @
(
ÜÜA B
string
ÜÜB H
)
ÜÜH I
dr
ÜÜI K
[
ÜÜK L
$str
ÜÜL Y
]
ÜÜY Z
;
ÜÜZ [
break
áá 
;
áá 
}
àà 
case
ää 
$num
ää 
:
ãã	 

{
åå (
oComprobantesElectronicosE
éé 2
.
éé2 3
CodComprobante
éé3 A
=
ééB C
(
ééD E
string
ééE K
)
ééK L
dr
ééL N
[
ééN O
$str
ééO _
]
éé_ `
;
éé` a(
oComprobantesElectronicosE
èè 2
.
èè2 3
CodComprobanteE
èè3 B
=
èèC D
(
èèE F
string
èèF L
)
èèL M
dr
èèM O
[
èèO P
$str
èèP b
]
èèb c
;
èèc d(
oComprobantesElectronicosE
êê 2
.
êê2 3
TipoPlantilla
êê3 @
=
êêA B
(
êêC D
string
êêD J
)
êêJ K
dr
êêK M
[
êêM N
$str
êêN ]
]
êê] ^
;
êê^ _(
oComprobantesElectronicosE
ëë 2
.
ëë2 3
TipoCompSunat
ëë3 @
=
ëëA B
(
ëëC D
string
ëëD J
)
ëëJ K
dr
ëëK M
[
ëëM N
$str
ëëN ^
]
ëë^ _
;
ëë_ `(
oComprobantesElectronicosE
íí 2
.
íí2 3
TipoCompTci
íí3 >
=
íí? @
(
ííA B
string
ííB H
)
ííH I
dr
ííI K
[
ííK L
$str
ííL Z
]
ííZ [
;
íí[ \(
oComprobantesElectronicosE
ïï 2
.
ïï2 3
Estado
ïï3 9
=
ïï: ;
(
ïï< =
string
ïï= C
)
ïïC D
dr
ïïD F
[
ïïF G
$str
ïïG O
]
ïïO P
;
ïïP Q(
oComprobantesElectronicosE
ññ 2
.
ññ2 3
NombreEstado
ññ3 ?
=
ññ@ A
(
ññB C
string
ññC I
)
ññI J
dr
ññJ L
[
ññL M
$str
ññM [
]
ññ[ \
;
ññ\ ](
oComprobantesElectronicosE
óó 2
.
óó2 3
FechaEmision
óó3 ?
=
óó@ A
(
óóB C
string
óóC I
)
óóI J
dr
óóJ L
[
óóL M
$str
óóM [
]
óó[ \
;
óó\ ](
oComprobantesElectronicosE
öö 2
.
öö2 3
	ANombreDe
öö3 <
=
öö= >
(
öö? @
string
öö@ F
)
ööF G
(
ööG H
dr
ööH J
[
ööJ K
$str
ööK V
]
ööV W
+
ööX Y
$str
ööZ \
)
öö\ ]
.
öö] ^
Trim
öö^ b
(
ööb c
)
ööc d
;
ööd e(
oComprobantesElectronicosE
õõ 2
.
õõ2 3
	Direccion
õõ3 <
=
õõ= >
(
õõ? @
string
õõ@ F
)
õõF G
dr
õõG I
[
õõI J
$str
õõJ U
]
õõU V
;
õõV W(
oComprobantesElectronicosE
úú 2
.
úú2 3
Ruc
úú3 6
=
úú7 8
(
úú9 :
string
úú: @
)
úú@ A
dr
úúA C
[
úúC D
$str
úúD I
]
úúI J
;
úúJ K(
oComprobantesElectronicosE
ùù 2
.
ùù2 3"
TipDocIdentidadSunat
ùù3 G
=
ùùH I
(
ùùJ K
string
ùùK Q
)
ùùQ R
dr
ùùR T
[
ùùT U
$str
ùùU l
]
ùùl m
+
ùùn o
$str
ùùp r
;
ùùr s(
oComprobantesElectronicosE
ûû 2
.
ûû2 3
RucSunat
ûû3 ;
=
ûû< =
(
ûû> ?
string
ûû? E
)
ûûE F
dr
ûûF H
[
ûûH I
$str
ûûI T
]
ûûT U
;
ûûU V(
oComprobantesElectronicosE
°° 2
.
°°2 3
ReceptorCorreo
°°3 A
=
°°B C
(
°°D E
string
°°E K
)
°°K L
dr
°°L N
[
°°N O
$str
°°O `
]
°°` a
;
°°a b(
oComprobantesElectronicosE
¢¢ 2
.
¢¢2 3

EmpresaRuc
¢¢3 =
=
¢¢> ?
(
¢¢@ A
string
¢¢A G
)
¢¢G H
dr
¢¢H J
[
¢¢J K
$str
¢¢K X
]
¢¢X Y
;
¢¢Y Z(
oComprobantesElectronicosE
££ 2
.
££2 3%
EmpresaTipoDocIdentidad
££3 J
=
££K L
(
££M N
string
££N T
)
££T U
dr
££U W
[
££W X
$str
££X r
]
££r s
;
££s t(
oComprobantesElectronicosE
§§ 2
.
§§2 3
EmpresaNombre
§§3 @
=
§§A B
(
§§C D
string
§§D J
)
§§J K
dr
§§K M
[
§§M N
$str
§§N ^
]
§§^ _
;
§§_ `(
oComprobantesElectronicosE
ßß 2
.
ßß2 3
EmpresaDireccion
ßß3 C
=
ßßD E
(
ßßF G
string
ßßG M
)
ßßM N
dr
ßßN P
[
ßßP Q
$str
ßßQ d
]
ßßd e
;
ßße f(
oComprobantesElectronicosE
®® 2
.
®®2 3
EmpresaTelefono
®®3 B
=
®®C D
(
®®E F
string
®®F L
)
®®L M
dr
®®M O
[
®®O P
$str
®®P b
]
®®b c
;
®®c d(
oComprobantesElectronicosE
©© 2
.
©©2 3
Concepto
©©3 ;
=
©©< =
(
©©> ?
string
©©? E
)
©©E F
dr
©©F H
[
©©H I
$str
©©I S
]
©©S T
;
©©T U(
oComprobantesElectronicosE
™™ 2
.
™™2 3
CodAtencion
™™3 >
=
™™? @
(
™™A B
string
™™B H
)
™™H I
dr
™™I K
[
™™K L
$str
™™L Y
]
™™Y Z
;
™™Z [(
oComprobantesElectronicosE
´´ 2
.
´´2 3
CodPaciente
´´3 >
=
´´? @
(
´´A B
string
´´B H
)
´´H I
dr
´´I K
[
´´K L
$str
´´L Y
]
´´Y Z
;
´´Z [(
oComprobantesElectronicosE
ÆÆ 2
.
ÆÆ2 3
NombrePaciente
ÆÆ3 A
=
ÆÆB C
(
ÆÆD E
string
ÆÆE K
)
ÆÆK L
dr
ÆÆL N
[
ÆÆN O
$str
ÆÆO _
]
ÆÆ_ `
;
ÆÆ` a(
oComprobantesElectronicosE
ØØ 2
.
ØØ2 3
NombreTitular
ØØ3 @
=
ØØA B
(
ØØC D
string
ØØD J
)
ØØJ K
dr
ØØK M
[
ØØM N
$str
ØØN ]
]
ØØ] ^
;
ØØ^ _(
oComprobantesElectronicosE
∞∞ 2
.
∞∞2 3
	NombreCia
∞∞3 <
=
∞∞= >
(
∞∞? @
string
∞∞@ F
)
∞∞F G
dr
∞∞G I
[
∞∞I J
$str
∞∞J U
]
∞∞U V
+
∞∞W X
$str
∞∞Y [
;
∞∞[ \(
oComprobantesElectronicosE
±± 2
.
±±2 3
	CodPoliza
±±3 <
=
±±= >
(
±±? @
string
±±@ F
)
±±F G
dr
±±G I
[
±±I J
$str
±±J U
]
±±U V
;
±±V W(
oComprobantesElectronicosE
≤≤ 2
.
≤≤2 3
Observaciones
≤≤3 @
=
≤≤A B
(
≤≤C D
string
≤≤D J
)
≤≤J K
dr
≤≤K M
[
≤≤M N
$str
≤≤N ]
]
≤≤] ^
;
≤≤^ _(
oComprobantesElectronicosE
µµ 2
.
µµ2 3
Texto1
µµ3 9
=
µµ: ;
(
µµ< =
string
µµ= C
)
µµC D
dr
µµD F
[
µµF G
$str
µµG O
]
µµO P
;
µµP Q(
oComprobantesElectronicosE
∂∂ 2
.
∂∂2 3
SucDireccion
∂∂3 ?
=
∂∂@ A
(
∂∂B C
string
∂∂C I
)
∂∂I J
dr
∂∂J L
[
∂∂L M
$str
∂∂M \
]
∂∂\ ]
;
∂∂] ^(
oComprobantesElectronicosE
∑∑ 2
.
∑∑2 3
TipoPagoTxt
∑∑3 >
=
∑∑? @
(
∑∑A B
string
∑∑B H
)
∑∑H I
dr
∑∑I K
[
∑∑K L
$str
∑∑L Y
]
∑∑Y Z
;
∑∑Z [(
oComprobantesElectronicosE
∏∏ 2
.
∏∏2 3
RefElectronico
∏∏3 A
=
∏∏B C
(
∏∏D E
string
∏∏E K
)
∏∏K L
dr
∏∏L N
[
∏∏N O
$str
∏∏O `
]
∏∏` a
;
∏∏a b(
oComprobantesElectronicosE
ππ 2
.
ππ2 3 
RefCodComprobanteE
ππ3 E
=
ππF G
(
ππH I
string
ππI O
)
ππO P
dr
ππP R
[
ππR S
$str
ππS i
]
ππi j
;
ππj k(
oComprobantesElectronicosE
∫∫ 2
.
∫∫2 3
RefTipoCompSunat
∫∫3 C
=
∫∫D E
(
∫∫F G
string
∫∫G M
)
∫∫M N
dr
∫∫N P
[
∫∫P Q
$str
∫∫Q e
]
∫∫e f
;
∫∫f g(
oComprobantesElectronicosE
ΩΩ 2
.
ΩΩ2 3
RefFechaEmision
ΩΩ3 B
=
ΩΩC D
dr
ΩΩE G
[
ΩΩG H
$str
ΩΩH Z
]
ΩΩZ [
is
ΩΩ\ ^
DBNull
ΩΩ_ e
?
ΩΩf g
new
ΩΩh k
DateTime
ΩΩl t
(
ΩΩt u
$num
ΩΩu y
,
ΩΩy z
$num
ΩΩ{ }
,
ΩΩ} ~
$numΩΩ Å
)ΩΩÅ Ç
.ΩΩÇ É
ToStringΩΩÉ ã
(ΩΩã å
)ΩΩå ç
:ΩΩé è
ConvertΩΩê ó
.ΩΩó ò

ToDateTimeΩΩò ¢
(ΩΩ¢ £
drΩΩ£ •
[ΩΩ• ¶
$strΩΩ¶ ∏
]ΩΩ∏ π
)ΩΩπ ∫
.ΩΩ∫ ª
ToStringΩΩª √
(ΩΩ√ ƒ
)ΩΩƒ ≈
;ΩΩ≈ ∆(
oComprobantesElectronicosE
ææ 2
.
ææ2 3
C_CodMotivo_Sunat
ææ3 D
=
ææE F
(
ææG H
string
ææH N
)
ææN O
dr
ææO Q
[
ææQ R
$str
ææR e
]
ææe f
;
ææf g(
oComprobantesElectronicosE
øø 2
.
øø2 3
C_MotivoNota
øø3 ?
=
øø@ A
(
øøB C
string
øøC I
)
øøI J
dr
øøJ L
[
øøL M
$str
øøM [
]
øø[ \
;
øø\ ](
oComprobantesElectronicosE
¬¬ 2
.
¬¬2 3
C_Moneda
¬¬3 ;
=
¬¬< =
(
¬¬> ?
string
¬¬? E
)
¬¬E F
dr
¬¬F H
[
¬¬H I
$str
¬¬I S
]
¬¬S T
;
¬¬T U(
oComprobantesElectronicosE
√√ 2
.
√√2 3
C_NombreMoneda
√√3 A
=
√√B C
(
√√D E
string
√√E K
)
√√K L
dr
√√L N
[
√√N O
$str
√√O _
]
√√_ `
;
√√` a(
oComprobantesElectronicosE
ƒƒ 2
.
ƒƒ2 3
C_SimboloMoneda
ƒƒ3 B
=
ƒƒC D
(
ƒƒE F
string
ƒƒF L
)
ƒƒL M
dr
ƒƒM O
[
ƒƒO P
$str
ƒƒP a
]
ƒƒa b
;
ƒƒb c(
oComprobantesElectronicosE
≈≈ 2
.
≈≈2 3
C_MontoAfecto
≈≈3 @
=
≈≈A B
(
≈≈C D
string
≈≈D J
)
≈≈J K
dr
≈≈K M
[
≈≈M N
$str
≈≈N ]
]
≈≈] ^
;
≈≈^ _(
oComprobantesElectronicosE
∆∆ 2
.
∆∆2 3
C_MontoInafecto
∆∆3 B
=
∆∆C D
(
∆∆E F
string
∆∆F L
)
∆∆L M
dr
∆∆M O
[
∆∆O P
$str
∆∆P a
]
∆∆a b
;
∆∆b c(
oComprobantesElectronicosE
«« 2
.
««2 3
C_MontoExonerado
««3 C
=
««D E
(
««F G
string
««G M
)
««M N
dr
««N P
[
««P Q
$str
««Q c
]
««c d
;
««d e(
oComprobantesElectronicosE
   2
.
  2 3
C_MontoGratuito
  3 B
=
  C D
(
  E F
string
  F L
)
  L M
dr
  M O
[
  O P
$str
  P a
]
  a b
;
  b c(
oComprobantesElectronicosE
ÀÀ 2
.
ÀÀ2 3

C_MontoIgv
ÀÀ3 =
=
ÀÀ> ?
(
ÀÀ@ A
string
ÀÀA G
)
ÀÀG H
dr
ÀÀH J
[
ÀÀJ K
$str
ÀÀK W
]
ÀÀW X
;
ÀÀX Y(
oComprobantesElectronicosE
ÃÃ 2
.
ÃÃ2 3
C_MontoNeto
ÃÃ3 >
=
ÃÃ? @
(
ÃÃA B
string
ÃÃB H
)
ÃÃH I
dr
ÃÃI K
[
ÃÃK L
$str
ÃÃL Y
]
ÃÃY Z
;
ÃÃZ [(
oComprobantesElectronicosE
ÕÕ 2
.
ÕÕ2 3 
PorcentajeImpuesto
ÕÕ3 E
=
ÕÕF G
(
ÕÕH I
string
ÕÕI O
)
ÕÕO P
dr
ÕÕP R
[
ÕÕR S
$str
ÕÕS g
]
ÕÕg h
;
ÕÕh i(
oComprobantesElectronicosE
ŒŒ 2
.
ŒŒ2 3!
PorcentajeCoAseguro
ŒŒ3 F
=
ŒŒG H
(
ŒŒI J
string
ŒŒJ P
)
ŒŒP Q
dr
ŒŒQ S
[
ŒŒS T
$str
ŒŒT i
]
ŒŒi j
;
ŒŒj k(
oComprobantesElectronicosE
—— 2
.
——2 3
FlgGratuito
——3 >
=
——? @
(
——A B
string
——B H
)
——H I
dr
——I K
[
——K L
$str
——L Z
]
——Z [
;
——[ \(
oComprobantesElectronicosE
““ 2
.
““2 3
D_Orden
““3 :
=
““; <
(
““= >
string
““> D
)
““D E
dr
““E G
[
““G H
$str
““H Q
]
““Q R
;
““R S(
oComprobantesElectronicosE
”” 2
.
””2 3
D_Unidad
””3 ;
=
””< =
(
””> ?
string
””? E
)
””E F
dr
””F H
[
””H I
$str
””I S
]
””S T
;
””T U(
oComprobantesElectronicosE
‘‘ 2
.
‘‘2 3
D_Cant_Sunat
‘‘3 ?
=
‘‘@ A
(
‘‘B C
string
‘‘C I
)
‘‘I J
dr
‘‘J L
[
‘‘L M
$str
‘‘M [
]
‘‘[ \
;
‘‘\ ](
oComprobantesElectronicosE
ÿÿ 2
.
ÿÿ2 3
D_CodProducto
ÿÿ3 @
=
ÿÿA B
(
ÿÿC D
string
ÿÿD J
)
ÿÿJ K
dr
ÿÿK M
[
ÿÿM N
$str
ÿÿN ]
]
ÿÿ] ^
;
ÿÿ^ _(
oComprobantesElectronicosE
ŸŸ 2
.
ŸŸ2 3
NombreProducto
ŸŸ3 A
=
ŸŸB C
(
ŸŸD E
string
ŸŸE K
)
ŸŸK L
dr
ŸŸL N
[
ŸŸN O
$str
ŸŸO _
]
ŸŸ_ `
;
ŸŸ` a(
oComprobantesElectronicosE
‹‹ 2
.
‹‹2 3
D_StockFraccion
‹‹3 B
=
‹‹C D
(
‹‹E F
string
‹‹F L
)
‹‹L M
dr
‹‹M O
[
‹‹O P
$str
‹‹P a
]
‹‹a b
;
‹‹b c(
oComprobantesElectronicosE
›› 2
.
››2 3

D_Cantidad
››3 =
=
››> ?
(
››@ A
string
››A G
)
››G H
dr
››H J
[
››J K
$str
››K W
]
››W X
;
››X Y(
oComprobantesElectronicosE
ﬁﬁ 2
.
ﬁﬁ2 3!
D_Cantidad_Fraccion
ﬁﬁ3 F
=
ﬁﬁG H
(
ﬁﬁI J
string
ﬁﬁJ P
)
ﬁﬁP Q
dr
ﬁﬁQ S
[
ﬁﬁS T
$str
ﬁﬁT i
]
ﬁﬁi j
;
ﬁﬁj k(
oComprobantesElectronicosE
ﬂﬂ 2
.
ﬂﬂ2 3

D_ValorVVP
ﬂﬂ3 =
=
ﬂﬂ> ?
(
ﬂﬂ@ A
string
ﬂﬂA G
)
ﬂﬂG H
dr
ﬂﬂH J
[
ﬂﬂJ K
$str
ﬂﬂK W
]
ﬂﬂW X
;
ﬂﬂX Y(
oComprobantesElectronicosE
‡‡ 2
.
‡‡2 3
D_PrecioVentaPVP
‡‡3 C
=
‡‡D E
(
‡‡F G
string
‡‡G M
)
‡‡M N
dr
‡‡N P
[
‡‡P Q
$str
‡‡Q c
]
‡‡c d
;
‡‡d e(
oComprobantesElectronicosE
„„ 2
.
„„2 3 
D_PorcDctoProducto
„„3 E
=
„„F G
(
„„H I
string
„„I O
)
„„O P
dr
„„P R
[
„„R S
$str
„„S g
]
„„g h
;
„„h i(
oComprobantesElectronicosE
‰‰ 2
.
‰‰2 3
D_PorcDctoPlan
‰‰3 A
=
‰‰B C
(
‰‰D E
string
‰‰E K
)
‰‰K L
dr
‰‰L N
[
‰‰N O
$str
‰‰O _
]
‰‰_ `
;
‰‰` a(
oComprobantesElectronicosE
ÂÂ 2
.
ÂÂ2 3#
D_PrecioUnidadConDcto
ÂÂ3 H
=
ÂÂI J
(
ÂÂK L
string
ÂÂL R
)
ÂÂR S
dr
ÂÂS U
[
ÂÂU V
$str
ÂÂV m
]
ÂÂm n
;
ÂÂn o(
oComprobantesElectronicosE
ÊÊ 2
.
ÊÊ2 3
D_MontoTotal
ÊÊ3 ?
=
ÊÊ@ A
(
ÊÊB C
string
ÊÊC I
)
ÊÊI J
dr
ÊÊJ L
[
ÊÊL M
$str
ÊÊM [
]
ÊÊ[ \
;
ÊÊ\ ](
oComprobantesElectronicosE
ÁÁ 2
.
ÁÁ2 3
D_MontoPaciente
ÁÁ3 B
=
ÁÁC D
(
ÁÁE F
string
ÁÁF L
)
ÁÁL M
dr
ÁÁM O
[
ÁÁO P
$str
ÁÁP a
]
ÁÁa b
;
ÁÁb c(
oComprobantesElectronicosE
ÏÏ 2
.
ÏÏ2 3$
D_VentaUnitario_SinIgv
ÏÏ3 I
=
ÏÏJ K
(
ÏÏL M
string
ÏÏM S
)
ÏÏS T
dr
ÏÏT V
[
ÏÏV W
$str
ÏÏW o
]
ÏÏo p
;
ÏÏp q(
oComprobantesElectronicosE
ÌÌ 2
.
ÌÌ2 3$
D_VentaUnitario_ConIgv
ÌÌ3 I
=
ÌÌJ K
(
ÌÌL M
string
ÌÌM S
)
ÌÌS T
dr
ÌÌT V
[
ÌÌV W
$str
ÌÌW o
]
ÌÌo p
;
ÌÌp q(
oComprobantesElectronicosE
 2
.
2 3
D_Total_SinIgv
3 A
=
B C
(
D E
string
E K
)
K L
dr
L N
[
N O
$str
O _
]
_ `
;
` a(
oComprobantesElectronicosE
ÒÒ 2
.
ÒÒ2 3
D_Total_ConIgv
ÒÒ3 A
=
ÒÒB C
(
ÒÒD E
string
ÒÒE K
)
ÒÒK L
dr
ÒÒL N
[
ÒÒN O
$str
ÒÒO _
]
ÒÒ_ `
;
ÒÒ` a(
oComprobantesElectronicosE
ÚÚ 2
.
ÚÚ2 3
D_Total_SinIgv2
ÚÚ3 B
=
ÚÚC D
(
ÚÚE F
string
ÚÚF L
)
ÚÚL M
dr
ÚÚM O
[
ÚÚO P
$str
ÚÚP a
]
ÚÚa b
;
ÚÚb c(
oComprobantesElectronicosE
ÛÛ 2
.
ÛÛ2 3

D_MontoIgv
ÛÛ3 =
=
ÛÛ> ?
(
ÛÛ@ A
string
ÛÛA G
)
ÛÛG H
dr
ÛÛH J
[
ÛÛJ K
$str
ÛÛK W
]
ÛÛW X
;
ÛÛX Y(
oComprobantesElectronicosE
ÙÙ 2
.
ÙÙ2 3
D_Determinante
ÙÙ3 A
=
ÙÙB C
(
ÙÙD E
string
ÙÙE K
)
ÙÙK L
dr
ÙÙL N
[
ÙÙN O
$str
ÙÙO _
]
ÙÙ_ `
;
ÙÙ` a(
oComprobantesElectronicosE
˜˜ 2
.
˜˜2 3 
D_CodigoTipoPrecio
˜˜3 E
=
˜˜F G
(
˜˜H I
string
˜˜I O
)
˜˜O P
dr
˜˜P R
[
˜˜R S
$str
˜˜S g
]
˜˜g h
;
˜˜h i(
oComprobantesElectronicosE
¯¯ 2
.
¯¯2 3
D_AfectacionIgv
¯¯3 B
=
¯¯C D
(
¯¯E F
string
¯¯F L
)
¯¯L M
dr
¯¯M O
[
¯¯O P
$str
¯¯P a
]
¯¯a b
;
¯¯b c(
oComprobantesElectronicosE
˚˚ 2
.
˚˚2 3
TipoOperacion
˚˚3 @
=
˚˚A B
(
˚˚C D
string
˚˚D J
)
˚˚J K
dr
˚˚K M
[
˚˚M N
$str
˚˚N ^
]
˚˚^ _
;
˚˚_ `(
oComprobantesElectronicosE
¸¸ 2
.
¸¸2 3
HoraEmision
¸¸3 >
=
¸¸? @
(
¸¸A B
string
¸¸B H
)
¸¸H I
dr
¸¸I K
[
¸¸K L
$str
¸¸L Z
]
¸¸Z [
;
¸¸[ \(
oComprobantesElectronicosE
˝˝ 2
.
˝˝2 3
TotalImpuesto
˝˝3 @
=
˝˝A B
(
˝˝C D
string
˝˝D J
)
˝˝J K
dr
˝˝K M
[
˝˝M N
$str
˝˝N ^
]
˝˝^ _
;
˝˝_ `(
oComprobantesElectronicosE
˛˛ 2
.
˛˛2 3
TotalValorVenta
˛˛3 B
=
˛˛C D
(
˛˛E F
string
˛˛F L
)
˛˛L M
dr
˛˛M O
[
˛˛O P
$str
˛˛P b
]
˛˛b c
;
˛˛c d(
oComprobantesElectronicosE
ˇˇ 2
.
ˇˇ2 3
TotalPrecioVenta
ˇˇ3 C
=
ˇˇD E
(
ˇˇF G
string
ˇˇG M
)
ˇˇM N
dr
ˇˇN P
[
ˇˇP Q
$str
ˇˇQ d
]
ˇˇd e
;
ˇˇe f(
oComprobantesElectronicosE
ÄÄ 2
.
ÄÄ2 3
VsUbl
ÄÄ3 8
=
ÄÄ9 :
(
ÄÄ; <
string
ÄÄ< B
)
ÄÄB C
dr
ÄÄC E
[
ÄÄE F
$str
ÄÄF N
]
ÄÄN O
;
ÄÄO P(
oComprobantesElectronicosE
ÅÅ 2
.
ÅÅ2 3
MtTotal
ÅÅ3 :
=
ÅÅ; <
(
ÅÅ= >
string
ÅÅ> D
)
ÅÅD E
dr
ÅÅE G
[
ÅÅG H
$str
ÅÅH R
]
ÅÅR S
;
ÅÅS T(
oComprobantesElectronicosE
ÑÑ 2
.
ÑÑ2 3
MtgBase
ÑÑ3 :
=
ÑÑ; <
(
ÑÑ= >
string
ÑÑ> D
)
ÑÑD E
dr
ÑÑE G
[
ÑÑG H
$str
ÑÑH R
]
ÑÑR S
;
ÑÑS T(
oComprobantesElectronicosE
ÖÖ 2
.
ÖÖ2 3
MtgValorImpuesto
ÖÖ3 C
=
ÖÖD E
(
ÖÖF G
string
ÖÖG M
)
ÖÖM N
dr
ÖÖN P
[
ÖÖP Q
$str
ÖÖQ d
]
ÖÖd e
;
ÖÖe f(
oComprobantesElectronicosE
ÜÜ 2
.
ÜÜ2 3
MtgPorcentaje
ÜÜ3 @
=
ÜÜA B
(
ÜÜC D
string
ÜÜD J
)
ÜÜJ K
dr
ÜÜK M
[
ÜÜM N
$str
ÜÜN ^
]
ÜÜ^ _
;
ÜÜ_ `(
oComprobantesElectronicosE
ââ 2
.
ââ2 3
CodigoEstabSUNAT
ââ3 C
=
ââD E
(
ââF G
string
ââG M
)
ââM N
dr
ââN P
[
ââP Q
$str
ââQ c
]
ââc d
;
ââd e(
oComprobantesElectronicosE
ää 2
.
ää2 3
CodDistrito
ää3 >
=
ää? @
(
ääA B
string
ääB H
)
ääH I
dr
ääI K
[
ääK L
$str
ääL Y
]
ääY Z
;
ääZ [(
oComprobantesElectronicosE
ãã 2
.
ãã2 3
	FormaPago
ãã3 <
=
ãã= >
(
ãã? @
string
ãã@ F
)
ããF G
dr
ããG I
[
ããI J
$str
ããJ V
]
ããV W
;
ããW X(
oComprobantesElectronicosE
åå 2
.
åå2 3

CodTributo
åå3 =
=
åå> ?
(
åå@ A
string
ååA G
)
ååG H
dr
ååH J
[
ååJ K
$str
ååK X
]
ååX Y
;
ååY Z(
oComprobantesElectronicosE
çç 2
.
çç2 3
CodAfectacionIGV
çç3 C
=
ççD E
(
ççF G
string
ççG M
)
ççM N
dr
ççN P
[
ççP Q
$str
ççQ d
]
ççd e
;
ççe f(
oComprobantesElectronicosE
êê 2
.
êê2 3

DesTributo
êê3 =
=
êê> ?
(
êê@ A
string
êêA G
)
êêG H
dr
êêH J
[
êêJ K
$str
êêK X
]
êêX Y
;
êêY Z(
oComprobantesElectronicosE
ëë 2
.
ëë2 3
CodUN
ëë3 8
=
ëë9 :
(
ëë; <
string
ëë< B
)
ëëB C
dr
ëëC E
[
ëëE F
$str
ëëF N
]
ëëN O
;
ëëO P(
oComprobantesElectronicosE
íí 2
.
íí2 3
CodProductoSUNAT
íí3 C
=
ííD E
(
ííF G
string
ííG M
)
ííM N
dr
ííN P
[
ííP Q
$str
ííQ c
]
ííc d
;
ííd e(
oComprobantesElectronicosE
ìì 2
.
ìì2 3
Cuadre
ìì3 9
=
ìì: ;
(
ìì< =
string
ìì= C
)
ììC D
dr
ììD F
[
ììF G
$str
ììG O
]
ììO P
;
ììP Q(
oComprobantesElectronicosE
óó 2
.
óó2 3
CodTipoCliente
óó3 A
=
óóB C
(
óóD E
string
óóE K
)
óóK L
dr
óóL N
[
óóN O
$str
óóO _
]
óó_ `
;
óó` a(
oComprobantesElectronicosE
òò 2
.
òò2 3
TipoMovimiento
òò3 A
=
òòB C
(
òòD E
string
òòE K
)
òòK L
dr
òòL N
[
òòN O
$str
òòO _
]
òò_ `
;
òò` a(
oComprobantesElectronicosE
ôô 2
.
ôô2 3
CodVenta
ôô3 ;
=
ôô< =
(
ôô> ?
string
ôô? E
)
ôôE F
dr
ôôF H
[
ôôH I
$str
ôôI S
]
ôôS T
;
ôôT U(
oComprobantesElectronicosE
öö 2
.
öö2 3
C_MontoDsctoPlan
öö3 C
=
ööD E
(
ööF G
string
ööG M
)
ööM N
dr
ööN P
[
ööP Q
$str
ööQ c
]
ööc d
;
ööd e(
oComprobantesElectronicosE
ùù 2
.
ùù2 3
D_Dscto_Unitario
ùù3 C
=
ùùD E
(
ùùF G
string
ùùG M
)
ùùM N
dr
ùùN P
[
ùùP Q
$str
ùùQ c
]
ùùc d
;
ùùd e(
oComprobantesElectronicosE
ûû 2
.
ûû2 3!
D_Total_ConDsctoIGV
ûû3 F
=
ûûG H
(
ûûI J
string
ûûJ P
)
ûûP Q
dr
ûûQ S
[
ûûS T
$str
ûûT i
]
ûûi j
;
ûûj k(
oComprobantesElectronicosE
üü 2
.
üü2 3
D_Dscto_MontoBase
üü3 D
=
üüE F
(
üüG H
string
üüH N
)
üüN O
dr
üüO Q
[
üüQ R
$str
üüR e
]
üüe f
;
üüf g(
oComprobantesElectronicosE
¢¢ 2
.
¢¢2 3
D_Dscto_ConIGV
¢¢3 A
=
¢¢B C
(
¢¢D E
string
¢¢E K
)
¢¢K L
dr
¢¢L N
[
¢¢N O
$str
¢¢O _
]
¢¢_ `
;
¢¢` a(
oComprobantesElectronicosE
££ 2
.
££2 3 
D_MontoAseguradora
££3 E
=
££F G
(
££H I
string
££I O
)
££O P
dr
££P R
[
££R S
$str
££S g
]
££g h
;
££h i(
oComprobantesElectronicosE
§§ 2
.
§§2 3
D_Dscto_SinIGV
§§3 A
=
§§B C
(
§§D E
string
§§E K
)
§§K L
dr
§§L N
[
§§N O
$str
§§O _
]
§§_ `
;
§§` a(
oComprobantesElectronicosE
•• 2
.
••2 3
D_MontoBase
••3 >
=
••? @
(
••A B
string
••B H
)
••H I
dr
••I K
[
••K L
$str
••L Y
]
••Y Z
;
••Z [(
oComprobantesElectronicosE
®® 2
.
®®2 3"
Sunat_Tipo_FormaPago
®®3 G
=
®®H I
(
®®J K
string
®®K Q
)
®®Q R
dr
®®R T
[
®®T U
$str
®®U k
]
®®k l
+
®®m n
$str
®®o q
;
®®q r(
oComprobantesElectronicosE
©© 2
.
©©2 3'
Sunat_Monto_PendientePago
©©3 L
=
©©M N
(
©©O P
string
©©P V
)
©©V W
dr
©©W Y
[
©©Y Z
$str
©©Z u
]
©©u v
+
©©w x
$str
©©y {
;
©©{ |(
oComprobantesElectronicosE
™™ 2
.
™™2 3
Sunat_Cuota_Monto
™™3 D
=
™™E F
(
™™G H
string
™™H N
)
™™N O
dr
™™O Q
[
™™Q R
$str
™™R e
]
™™e f
+
™™g h
$str
™™i k
;
™™k l(
oComprobantesElectronicosE
´´ 2
.
´´2 3
Sunat_Cuota_Fecha
´´3 D
=
´´E F
(
´´G H
string
´´H N
)
´´N O
dr
´´O Q
[
´´Q R
$str
´´R e
]
´´e f
+
´´g h
$str
´´i k
;
´´k l(
oComprobantesElectronicosE
¨¨ 2
.
¨¨2 3#
Sunat_Retencion_Monto
¨¨3 H
=
¨¨I J
(
¨¨K L
string
¨¨L R
)
¨¨R S
dr
¨¨S U
[
¨¨U V
$str
¨¨V m
]
¨¨m n
+
¨¨o p
$str
¨¨q s
;
¨¨s t(
oComprobantesElectronicosE
≠≠ 2
.
≠≠2 3"
Sunat_Retencion_Porc
≠≠3 G
=
≠≠H I
(
≠≠J K
string
≠≠K Q
)
≠≠Q R
dr
≠≠R T
[
≠≠T U
$str
≠≠U k
]
≠≠k l
+
≠≠m n
$str
≠≠o q
;
≠≠q r(
oComprobantesElectronicosE
ÆÆ 2
.
ÆÆ2 3'
Sunat_Retencion_MontoBase
ÆÆ3 L
=
ÆÆM N
(
ÆÆO P
string
ÆÆP V
)
ÆÆV W
dr
ÆÆW Y
[
ÆÆY Z
$str
ÆÆZ u
]
ÆÆu v
+
ÆÆw x
$str
ÆÆy {
;
ÆÆ{ |
break
ØØ 
;
ØØ 
}
∞∞ 
}
±± 
return
≥≥ (
oComprobantesElectronicosE
≥≥ -
;
≥≥- .
}
¥¥ 	
public
∂∂ 
List
∂∂ 
<
∂∂ '
ComprobantesElectronicosE
∂∂ -
>
∂∂- .2
$Sp_ComprobantesElectronicos_Consulta
∂∂/ S
(
∂∂S T'
ComprobantesElectronicosE
∂∂T m)
pComprobantesElectronicosE∂∂n à
)∂∂à â
{
∑∑ 	
IDataReader
∏∏ 
dr
∏∏ 
;
∏∏ '
ComprobantesElectronicosE
ππ %(
oComprobantesElectronicosE
ππ& @
;
ππ@ A
List
∫∫ 
<
∫∫ '
ComprobantesElectronicosE
∫∫ *
>
∫∫* +
oListar
∫∫, 3
=
∫∫4 5
new
∫∫6 9
List
∫∫: >
<
∫∫> ?'
ComprobantesElectronicosE
∫∫? X
>
∫∫X Y
(
∫∫Y Z
)
∫∫Z [
;
∫∫[ \
try
ªª 
{
ºº 
using
ΩΩ 
(
ΩΩ 
SqlConnection
ΩΩ $
cnn
ΩΩ% (
=
ΩΩ) *
new
ΩΩ+ .
SqlConnection
ΩΩ/ <
(
ΩΩ< =
VariablesGlobales
ΩΩ= N
.
ΩΩN O

CnnClinica
ΩΩO Y
)
ΩΩY Z
)
ΩΩZ [
{
ææ 
using
øø 
(
øø 

SqlCommand
øø %
cmd
øø& )
=
øø* +
new
øø, /

SqlCommand
øø0 :
(
øø: ;
$str
øø; a
,
øøa b
cnn
øøc f
)
øøf g
)
øøg h
{
¿¿ 
cmd
¡¡ 
.
¡¡ 
CommandType
¡¡ '
=
¡¡( )
CommandType
¡¡* 5
.
¡¡5 6
StoredProcedure
¡¡6 E
;
¡¡E F
cmd
√√ 
.
√√ 

Parameters
√√ &
.
√√& '
AddWithValue
√√' 3
(
√√3 4
$str
√√4 G
,
√√G H(
pComprobantesElectronicosE
√√I c
.
√√c d
Codcomprobante
√√d r
)
√√r s
;
√√s t
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ &
.
ƒƒ& '
AddWithValue
ƒƒ' 3
(
ƒƒ3 4
$str
ƒƒ4 E
,
ƒƒE F(
pComprobantesElectronicosE
ƒƒG a
.
ƒƒa b
EstadoRegistro
ƒƒb p
)
ƒƒp q
;
ƒƒq r
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ &
.
≈≈& '
AddWithValue
≈≈' 3
(
≈≈3 4
$str
≈≈4 @
,
≈≈@ A(
pComprobantesElectronicosE
≈≈B \
.
≈≈\ ]
	EstadoCdr
≈≈] f
)
≈≈f g
;
≈≈g h
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ &
.
∆∆& '
AddWithValue
∆∆' 3
(
∆∆3 4
$str
∆∆4 ?
,
∆∆? @(
pComprobantesElectronicosE
∆∆A [
.
∆∆[ \
FechaInicio
∆∆\ g
)
∆∆g h
;
∆∆h i
cmd
«« 
.
«« 

Parameters
«« &
.
««& '
AddWithValue
««' 3
(
««3 4
$str
««4 ?
,
««? @(
pComprobantesElectronicosE
««A [
.
««[ \
FechaFin
««\ d
)
««d e
;
««e f
cmd
»» 
.
»» 

Parameters
»» &
.
»»& '
AddWithValue
»»' 3
(
»»3 4
$str
»»4 A
,
»»A B(
pComprobantesElectronicosE
»»C ]
.
»»] ^

CodSistema
»»^ h
)
»»h i
;
»»i j
cmd
…… 
.
…… 

Parameters
…… &
.
……& '
AddWithValue
……' 3
(
……3 4
$str
……4 D
,
……D E(
pComprobantesElectronicosE
……F `
.
……` a"
TipoComprobanteSunat
……a u
)
……u v
;
……v w
cmd
   
.
   

Parameters
   &
.
  & '
AddWithValue
  ' 3
(
  3 4
$str
  4 B
,
  B C(
pComprobantesElectronicosE
  D ^
.
  ^ _ 
TipoComprobanteCSF
  _ q
)
  q r
;
  r s
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ &
.
ÀÀ& '
AddWithValue
ÀÀ' 3
(
ÀÀ3 4
$str
ÀÀ4 I
,
ÀÀI J(
pComprobantesElectronicosE
ÀÀK e
.
ÀÀe f
CodComprobanteEle
ÀÀf w
)
ÀÀw x
;
ÀÀx y
cmd
ÃÃ 
.
ÃÃ 

Parameters
ÃÃ &
.
ÃÃ& '
AddWithValue
ÃÃ' 3
(
ÃÃ3 4
$str
ÃÃ4 <
,
ÃÃ< =(
pComprobantesElectronicosE
ÃÃ> X
.
ÃÃX Y
Orden
ÃÃY ^
)
ÃÃ^ _
;
ÃÃ_ `
cnn
ÕÕ 
.
ÕÕ 
Open
ÕÕ  
(
ÕÕ  !
)
ÕÕ! "
;
ÕÕ" #
dr
ŒŒ 
=
ŒŒ 
cmd
ŒŒ  
.
ŒŒ  !
ExecuteReader
ŒŒ! .
(
ŒŒ. /
)
ŒŒ/ 0
;
ŒŒ0 1
while
œœ 
(
œœ 
dr
œœ !
.
œœ! "
Read
œœ" &
(
œœ& '
)
œœ' (
)
œœ( )
{
–– (
oComprobantesElectronicosE
—— 6
=
——7 8
LlenarEntidad
——9 F
(
——F G
dr
——G I
,
——I J(
pComprobantesElectronicosE
——K e
)
——e f
;
——f g
oListar
““ #
.
““# $
Add
““$ '
(
““' ((
oComprobantesElectronicosE
““( B
)
““B C
;
““C D
}
”” 
dr
‘‘ 
.
‘‘ 
Close
‘‘  
(
‘‘  !
)
‘‘! "
;
‘‘" #
cnn
’’ 
.
’’ 
Close
’’ !
(
’’! "
)
’’" #
;
’’# $
return
◊◊ 
oListar
◊◊ &
;
◊◊& '
}
ÿÿ 
}
ŸŸ 
}
⁄⁄ 
catch
€€ 
(
€€ 
	Exception
€€ 
ex
€€ 
)
€€  
{
‹‹ 
throw
›› 
new
›› 
	Exception
›› #
(
››# $
ex
››$ &
.
››& '
Message
››' .
)
››. /
;
››/ 0
}
ﬁﬁ 
}
ﬂﬂ 	
public
·· 
List
·· 
<
·· +
ComprobanteElectronicoXMLCabE
·· 1
>
··1 24
&Sp_ComprobantesElectronicosCSF_XML_Cab
··3 Y
(
··Y Z'
ComprobantesElectronicosE
··Z s)
pComprobantesElectronicosE··t é
)··é è
{
‚‚ 	
IDataReader
„„ 
dr
„„ 
;
„„ +
ComprobanteElectronicoXMLCabE
‰‰ )(
oComprobantesElectronicosE
‰‰* D
;
‰‰D E
List
ÂÂ 
<
ÂÂ +
ComprobanteElectronicoXMLCabE
ÂÂ .
>
ÂÂ. /
oListar
ÂÂ0 7
=
ÂÂ8 9
new
ÂÂ: =
List
ÂÂ> B
<
ÂÂB C+
ComprobanteElectronicoXMLCabE
ÂÂC `
>
ÂÂ` a
(
ÂÂa b
)
ÂÂb c
;
ÂÂc d
try
ÊÊ 
{
ÁÁ 
using
ËË 
(
ËË 
SqlConnection
ËË $
cnn
ËË% (
=
ËË) *
new
ËË+ .
SqlConnection
ËË/ <
(
ËË< =
VariablesGlobales
ËË= N
.
ËËN O

CnnClinica
ËËO Y
)
ËËY Z
)
ËËZ [
{
ÈÈ 
using
ÍÍ 
(
ÍÍ 

SqlCommand
ÍÍ %
cmd
ÍÍ& )
=
ÍÍ* +
new
ÍÍ, /

SqlCommand
ÍÍ0 :
(
ÍÍ: ;
$str
ÍÍ; c
,
ÍÍc d
cnn
ÍÍe h
)
ÍÍh i
)
ÍÍi j
{
ÎÎ 
cmd
ÏÏ 
.
ÏÏ 
CommandType
ÏÏ '
=
ÏÏ( )
CommandType
ÏÏ* 5
.
ÏÏ5 6
StoredProcedure
ÏÏ6 E
;
ÏÏE F
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ &
.
ÓÓ& '
AddWithValue
ÓÓ' 3
(
ÓÓ3 4
$str
ÓÓ4 E
,
ÓÓE F(
pComprobantesElectronicosE
ÓÓG a
.
ÓÓa b
Codcomprobante
ÓÓb p
)
ÓÓp q
;
ÓÓq r
cnn
ÔÔ 
.
ÔÔ 
Open
ÔÔ  
(
ÔÔ  !
)
ÔÔ! "
;
ÔÔ" #
dr
 
=
 
cmd
  
.
  !
ExecuteReader
! .
(
. /
)
/ 0
;
0 1
while
ÒÒ 
(
ÒÒ 
dr
ÒÒ !
.
ÒÒ! "
Read
ÒÒ" &
(
ÒÒ& '
)
ÒÒ' (
)
ÒÒ( )
{
ÚÚ (
oComprobantesElectronicosE
ÛÛ 6
=
ÛÛ7 8!
LlenarEntidadXMLCab
ÛÛ9 L
(
ÛÛL M
dr
ÛÛM O
,
ÛÛO P
$num
ÛÛQ R
)
ÛÛR S
;
ÛÛS T
oListar
ÙÙ #
.
ÙÙ# $
Add
ÙÙ$ '
(
ÙÙ' ((
oComprobantesElectronicosE
ÙÙ( B
)
ÙÙB C
;
ÙÙC D
}
ıı 
dr
ˆˆ 
.
ˆˆ 
Close
ˆˆ  
(
ˆˆ  !
)
ˆˆ! "
;
ˆˆ" #
cnn
˜˜ 
.
˜˜ 
Close
˜˜ !
(
˜˜! "
)
˜˜" #
;
˜˜# $
return
˘˘ 
oListar
˘˘ &
;
˘˘& '
}
˙˙ 
}
˚˚ 
}
¸¸ 
catch
˝˝ 
(
˝˝ 
	Exception
˝˝ 
ex
˝˝ 
)
˝˝  
{
˛˛ 
throw
ˇˇ 
new
ˇˇ 
	Exception
ˇˇ #
(
ˇˇ# $
ex
ˇˇ$ &
.
ˇˇ& '
Message
ˇˇ' .
)
ˇˇ. /
;
ˇˇ/ 0
}
ÄÄ 
}
ÅÅ 	
public
ÉÉ 
List
ÉÉ 
<
ÉÉ +
ComprobanteElectronicoXMLCabE
ÉÉ 1
>
ÉÉ1 2'
Sp_NotaElectronicaCSF_XML
ÉÉ3 L
(
ÉÉL M'
ComprobantesElectronicosE
ÉÉM f)
pComprobantesElectronicosEÉÉg Å
)ÉÉÅ Ç
{
ÑÑ 	
IDataReader
ÖÖ 
dr
ÖÖ 
;
ÖÖ +
ComprobanteElectronicoXMLCabE
ÜÜ )(
oComprobantesElectronicosE
ÜÜ* D
;
ÜÜD E
List
áá 
<
áá +
ComprobanteElectronicoXMLCabE
áá .
>
áá. /
oListar
áá0 7
=
áá8 9
new
áá: =
List
áá> B
<
ááB C+
ComprobanteElectronicoXMLCabE
ááC `
>
áá` a
(
ááa b
)
ááb c
;
áác d
try
àà 
{
ââ 
using
ää 
(
ää 
SqlConnection
ää $
cnn
ää% (
=
ää) *
new
ää+ .
SqlConnection
ää/ <
(
ää< =
VariablesGlobales
ää= N
.
ääN O

CnnClinica
ääO Y
)
ääY Z
)
ääZ [
{
ãã 
using
åå 
(
åå 

SqlCommand
åå %
cmd
åå& )
=
åå* +
new
åå, /

SqlCommand
åå0 :
(
åå: ;
$str
åå; V
,
ååV W
cnn
ååX [
)
åå[ \
)
åå\ ]
{
çç 
cmd
éé 
.
éé 
CommandType
éé '
=
éé( )
CommandType
éé* 5
.
éé5 6
StoredProcedure
éé6 E
;
ééE F
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 >
,
êê> ?(
pComprobantesElectronicosE
êê@ Z
.
êêZ [
Codcomprobante
êê[ i
)
êêi j
;
êêj k
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 A
,
ëëA B(
pComprobantesElectronicosE
ëëC ]
.
ëë] ^

Codempresa
ëë^ h
)
ëëh i
;
ëëi j
cnn
íí 
.
íí 
Open
íí  
(
íí  !
)
íí! "
;
íí" #
dr
ìì 
=
ìì 
cmd
ìì  
.
ìì  !
ExecuteReader
ìì! .
(
ìì. /
)
ìì/ 0
;
ìì0 1
while
îî 
(
îî 
dr
îî !
.
îî! "
Read
îî" &
(
îî& '
)
îî' (
)
îî( )
{
ïï (
oComprobantesElectronicosE
ññ 6
=
ññ7 8!
LlenarEntidadXMLCab
ññ9 L
(
ññL M
dr
ññM O
,
ññO P
$num
ññQ R
)
ññR S
;
ññS T
oListar
óó #
.
óó# $
Add
óó$ '
(
óó' ((
oComprobantesElectronicosE
óó( B
)
óóB C
;
óóC D
}
òò 
dr
ôô 
.
ôô 
Close
ôô  
(
ôô  !
)
ôô! "
;
ôô" #
cnn
öö 
.
öö 
Close
öö !
(
öö! "
)
öö" #
;
öö# $
return
úú 
oListar
úú &
;
úú& '
}
ùù 
}
ûû 
}
üü 
catch
†† 
(
†† 
	Exception
†† 
ex
†† 
)
††  
{
°° 
throw
¢¢ 
new
¢¢ 
	Exception
¢¢ #
(
¢¢# $
ex
¢¢$ &
.
¢¢& '
Message
¢¢' .
)
¢¢. /
;
¢¢/ 0
}
££ 
}
§§ 	
public
¶¶ 
List
¶¶ 
<
¶¶ +
ComprobanteElectronicoXMLCabE
¶¶ 1
>
¶¶1 24
&Sp_ComprobantesElectronicosLOG_XML_Cab
¶¶3 Y
(
¶¶Y Z'
ComprobantesElectronicosE
¶¶Z s)
pComprobantesElectronicosE¶¶t é
)¶¶é è
{
ßß 	
IDataReader
®® 
dr
®® 
;
®® +
ComprobanteElectronicoXMLCabE
©© )(
oComprobantesElectronicosE
©©* D
;
©©D E
List
™™ 
<
™™ +
ComprobanteElectronicoXMLCabE
™™ .
>
™™. /
oListar
™™0 7
=
™™8 9
new
™™: =
List
™™> B
<
™™B C+
ComprobanteElectronicoXMLCabE
™™C `
>
™™` a
(
™™a b
)
™™b c
;
™™c d
try
´´ 
{
¨¨ 
using
≠≠ 
(
≠≠ 
SqlConnection
≠≠ $
cnn
≠≠% (
=
≠≠) *
new
≠≠+ .
SqlConnection
≠≠/ <
(
≠≠< =
VariablesGlobales
≠≠= N
.
≠≠N O

CnnClinica
≠≠O Y
)
≠≠Y Z
)
≠≠Z [
{
ÆÆ 
using
ØØ 
(
ØØ 

SqlCommand
ØØ %
cmd
ØØ& )
=
ØØ* +
new
ØØ, /

SqlCommand
ØØ0 :
(
ØØ: ;
$str
ØØ; o
,
ØØo p
cnn
ØØq t
)
ØØt u
)
ØØu v
{
∞∞ 
cmd
±± 
.
±± 
CommandType
±± '
=
±±( )
CommandType
±±* 5
.
±±5 6
StoredProcedure
±±6 E
;
±±E F
cmd
≥≥ 
.
≥≥ 

Parameters
≥≥ &
.
≥≥& '
AddWithValue
≥≥' 3
(
≥≥3 4
$str
≥≥4 E
,
≥≥E F(
pComprobantesElectronicosE
≥≥G a
.
≥≥a b
Codcomprobante
≥≥b p
)
≥≥p q
;
≥≥q r
cmd
¥¥ 
.
¥¥ 

Parameters
¥¥ &
.
¥¥& '
AddWithValue
¥¥' 3
(
¥¥3 4
$str
¥¥4 <
,
¥¥< =
$num
¥¥> ?
)
¥¥? @
;
¥¥@ A
cnn
µµ 
.
µµ 
Open
µµ  
(
µµ  !
)
µµ! "
;
µµ" #
dr
∂∂ 
=
∂∂ 
cmd
∂∂  
.
∂∂  !
ExecuteReader
∂∂! .
(
∂∂. /
)
∂∂/ 0
;
∂∂0 1
while
∑∑ 
(
∑∑ 
dr
∑∑ !
.
∑∑! "
Read
∑∑" &
(
∑∑& '
)
∑∑' (
)
∑∑( )
{
∏∏ (
oComprobantesElectronicosE
ππ 6
=
ππ7 8!
LlenarEntidadXMLCab
ππ9 L
(
ππL M
dr
ππM O
,
ππO P
$num
ππQ R
)
ππR S
;
ππS T
oListar
∫∫ #
.
∫∫# $
Add
∫∫$ '
(
∫∫' ((
oComprobantesElectronicosE
∫∫( B
)
∫∫B C
;
∫∫C D
}
ªª 
dr
ºº 
.
ºº 
Close
ºº  
(
ºº  !
)
ºº! "
;
ºº" #
cnn
ΩΩ 
.
ΩΩ 
Close
ΩΩ !
(
ΩΩ! "
)
ΩΩ" #
;
ΩΩ# $
return
øø 
oListar
øø &
;
øø& '
}
¿¿ 
}
¡¡ 
}
¬¬ 
catch
√√ 
(
√√ 
	Exception
√√ 
ex
√√ 
)
√√  
{
ƒƒ 
throw
≈≈ 
new
≈≈ 
	Exception
≈≈ #
(
≈≈# $
ex
≈≈$ &
.
≈≈& '
Message
≈≈' .
)
≈≈. /
;
≈≈/ 0
}
∆∆ 
}
«« 	
public
…… 
List
…… 
<
…… +
ComprobanteElectronicoXMLCabE
…… 1
>
……1 2'
Sp_NotaElectronicaLOG_XML
……3 L
(
……L M'
ComprobantesElectronicosE
……M f)
pComprobantesElectronicosE……g Å
)……Å Ç
{
   	
IDataReader
ÀÀ 
dr
ÀÀ 
;
ÀÀ +
ComprobanteElectronicoXMLCabE
ÃÃ )(
oComprobantesElectronicosE
ÃÃ* D
;
ÃÃD E
List
ÕÕ 
<
ÕÕ +
ComprobanteElectronicoXMLCabE
ÕÕ .
>
ÕÕ. /
oListar
ÕÕ0 7
=
ÕÕ8 9
new
ÕÕ: =
List
ÕÕ> B
<
ÕÕB C+
ComprobanteElectronicoXMLCabE
ÕÕC `
>
ÕÕ` a
(
ÕÕa b
)
ÕÕb c
;
ÕÕc d
try
ŒŒ 
{
œœ 
using
–– 
(
–– 
SqlConnection
–– $
cnn
––% (
=
––) *
new
––+ .
SqlConnection
––/ <
(
––< =
VariablesGlobales
––= N
.
––N O

CnnClinica
––O Y
)
––Y Z
)
––Z [
{
—— 
using
““ 
(
““ 

SqlCommand
““ %
cmd
““& )
=
““* +
new
““, /

SqlCommand
““0 :
(
““: ;
$str
““; b
,
““b c
cnn
““d g
)
““g h
)
““h i
{
”” 
cmd
‘‘ 
.
‘‘ 
CommandType
‘‘ '
=
‘‘( )
CommandType
‘‘* 5
.
‘‘5 6
StoredProcedure
‘‘6 E
;
‘‘E F
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
AddWithValue
÷÷' 3
(
÷÷3 4
$str
÷÷4 >
,
÷÷> ?(
pComprobantesElectronicosE
÷÷@ Z
.
÷÷Z [
Codcomprobante
÷÷[ i
)
÷÷i j
;
÷÷j k
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ &
.
◊◊& '
AddWithValue
◊◊' 3
(
◊◊3 4
$str
◊◊4 <
,
◊◊< =
$num
◊◊> ?
)
◊◊? @
;
◊◊@ A
cnn
ÿÿ 
.
ÿÿ 
Open
ÿÿ  
(
ÿÿ  !
)
ÿÿ! "
;
ÿÿ" #
dr
ŸŸ 
=
ŸŸ 
cmd
ŸŸ  
.
ŸŸ  !
ExecuteReader
ŸŸ! .
(
ŸŸ. /
)
ŸŸ/ 0
;
ŸŸ0 1
while
⁄⁄ 
(
⁄⁄ 
dr
⁄⁄ !
.
⁄⁄! "
Read
⁄⁄" &
(
⁄⁄& '
)
⁄⁄' (
)
⁄⁄( )
{
€€ (
oComprobantesElectronicosE
‹‹ 6
=
‹‹7 8!
LlenarEntidadXMLCab
‹‹9 L
(
‹‹L M
dr
‹‹M O
,
‹‹O P
$num
‹‹Q R
)
‹‹R S
;
‹‹S T
oListar
›› #
.
››# $
Add
››$ '
(
››' ((
oComprobantesElectronicosE
››( B
)
››B C
;
››C D
}
ﬁﬁ 
dr
ﬂﬂ 
.
ﬂﬂ 
Close
ﬂﬂ  
(
ﬂﬂ  !
)
ﬂﬂ! "
;
ﬂﬂ" #
cnn
‡‡ 
.
‡‡ 
Close
‡‡ !
(
‡‡! "
)
‡‡" #
;
‡‡# $
return
‚‚ 
oListar
‚‚ &
;
‚‚& '
}
„„ 
}
‰‰ 
}
ÂÂ 
catch
ÊÊ 
(
ÊÊ 
	Exception
ÊÊ 
ex
ÊÊ 
)
ÊÊ  
{
ÁÁ 
throw
ËË 
new
ËË 
	Exception
ËË #
(
ËË# $
ex
ËË$ &
.
ËË& '
Message
ËË' .
)
ËË. /
;
ËË/ 0
}
ÈÈ 
}
ÍÍ 	
public
ÏÏ 
bool
ÏÏ 0
"Sp_ComprobantesElectronicos_Update
ÏÏ 6
(
ÏÏ6 7'
ComprobantesElectronicosE
ÏÏ7 P(
pComprobantesElectronicosE
ÏÏQ k
)
ÏÏk l
{
ÌÌ 	
try
ÓÓ 
{
ÔÔ 
using
 
(
 
SqlConnection
 $
cnn
% (
=
) *
new
+ .
SqlConnection
/ <
(
< =
VariablesGlobales
= N
.
N O

CnnClinica
O Y
)
Y Z
)
Z [
{
ÒÒ 
using
ÚÚ 
(
ÚÚ 

SqlCommand
ÚÚ %
cmd
ÚÚ& )
=
ÚÚ* +
new
ÚÚ, /

SqlCommand
ÚÚ0 :
(
ÚÚ: ;
$str
ÚÚ; _
,
ÚÚ_ `
cnn
ÚÚa d
)
ÚÚd e
)
ÚÚe f
{
ÛÛ 
cmd
ÙÙ 
.
ÙÙ 
CommandType
ÙÙ '
=
ÙÙ( )
CommandType
ÙÙ* 5
.
ÙÙ5 6
StoredProcedure
ÙÙ6 E
;
ÙÙE F
cmd
ˆˆ 
.
ˆˆ 

Parameters
ˆˆ &
.
ˆˆ& '
AddWithValue
ˆˆ' 3
(
ˆˆ3 4
$str
ˆˆ4 <
,
ˆˆ< =(
pComprobantesElectronicosE
ˆˆ> X
.
ˆˆX Y
Campo
ˆˆY ^
)
ˆˆ^ _
;
ˆˆ_ `
cmd
˜˜ 
.
˜˜ 

Parameters
˜˜ &
.
˜˜& '
AddWithValue
˜˜' 3
(
˜˜3 4
$str
˜˜4 A
,
˜˜A B(
pComprobantesElectronicosE
˜˜C ]
.
˜˜] ^

NuevoValor
˜˜^ h
)
˜˜h i
;
˜˜i j
cmd
¯¯ 
.
¯¯ 

Parameters
¯¯ &
.
¯¯& '
AddWithValue
¯¯' 3
(
¯¯3 4
$str
¯¯4 :
,
¯¯: ;(
pComprobantesElectronicosE
¯¯< V
.
¯¯V W
XmlRegistro
¯¯W b
)
¯¯b c
;
¯¯c d
cmd
˘˘ 
.
˘˘ 

Parameters
˘˘ &
.
˘˘& '
AddWithValue
˘˘' 3
(
˘˘3 4
$str
˘˘4 E
,
˘˘E F(
pComprobantesElectronicosE
˘˘G a
.
˘˘a b
CodigoBarra
˘˘b m
)
˘˘m n
;
˘˘n o
cmd
˙˙ 
.
˙˙ 

Parameters
˙˙ &
.
˙˙& '
AddWithValue
˙˙' 3
(
˙˙3 4
$str
˙˙4 =
,
˙˙= >(
pComprobantesElectronicosE
˙˙? Y
.
˙˙Y Z
Codcomprobante
˙˙Z h
)
˙˙h i
;
˙˙i j
cnn
¸¸ 
.
¸¸ 
Open
¸¸  
(
¸¸  !
)
¸¸! "
;
¸¸" #
if
˝˝ 
(
˝˝ 
cmd
˝˝ 
.
˝˝  
ExecuteNonQuery
˝˝  /
(
˝˝/ 0
)
˝˝0 1
>=
˝˝2 4
$num
˝˝5 6
)
˝˝6 7
return
˛˛ "
true
˛˛# '
;
˛˛' (
else
ˇˇ 
return
ÄÄ "
false
ÄÄ# (
;
ÄÄ( )
cnn
ÅÅ 
.
ÅÅ 
Close
ÅÅ !
(
ÅÅ! "
)
ÅÅ" #
;
ÅÅ# $
cmd
ÇÇ 
.
ÇÇ 
Dispose
ÇÇ #
(
ÇÇ# $
)
ÇÇ$ %
;
ÇÇ% &
}
ÉÉ 
}
ÑÑ 
}
ÖÖ 
catch
ÜÜ 
(
ÜÜ 
	Exception
ÜÜ 
ex
ÜÜ 
)
ÜÜ  
{
áá 
throw
àà 
new
àà 
	Exception
àà #
(
àà# $
ex
àà$ &
.
àà& '
Message
àà' .
)
àà. /
;
àà/ 0
}
ââ 
}
ää 	
}
ãã 
}åå ⁄ö
cD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\ComprobantesAD\ComprobantesAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
ComprobantesAD *
{ 
public 

class 
ComprobantesAD 
{ 
private 
ComprobantesE 
LlenarEntidad +
(+ ,
IDataReader, 7
dr8 :
,: ;
ComprobantesE< I
pComprobantesEJ X
)X Y
{ 	
ComprobantesE 
oComprobantesE (
=) *
new+ .
ComprobantesE/ <
(< =
)= >
;> ?
switch 
( 
pComprobantesE "
." #
Orden# (
)( )
{ 
case 
$num 
: 
oComprobantesE "
." #
CodComprobante# 1
=2 3
(4 5
string5 ;
); <
dr< >
[> ?
$str? O
]O P
;P Q
oComprobantesE "
." #
CodLiquidacion# 1
=2 3
(4 5
string5 ;
); <
dr< >
[> ?
$str? O
]O P
;P Q
oComprobantesE "
." #
CodAtencion# .
=/ 0
(1 2
string2 8
)8 9
dr9 ;
[; <
$str< I
]I J
;J K
oComprobantesE   "
.  " #
ANombreDeQuien  # 1
=  2 3
(  4 5
string  5 ;
)  ; <
dr  < >
[  > ?
$str  ? O
]  O P
;  P Q
oComprobantesE!! "
.!!" #
Ruc!!# &
=!!' (
(!!) *
string!!* 0
)!!0 1
dr!!1 3
[!!3 4
$str!!4 9
]!!9 :
;!!: ;
oComprobantesE"" "
.""" #
FechaEmision""# /
=""0 1
(""2 3
DateTime""3 ;
)""; <
dr""< >
[""> ?
$str""? M
]""M N
;""N O
oComprobantesE## "
.##" #
FechaFacturacion### 3
=##4 5
(##6 7
DateTime##7 ?
)##? @
dr##@ B
[##B C
$str##C U
]##U V
;##V W
oComprobantesE$$ "
.$$" #
FechaCancelacion$$# 3
=$$4 5
($$6 7
DateTime$$7 ?
)$$? @
dr$$@ B
[$$B C
$str$$C U
]$$U V
;$$V W
oComprobantesE%% "
.%%" #
Estado%%# )
=%%* +
(%%, -
string%%- 3
)%%3 4
dr%%4 6
[%%6 7
$str%%7 ?
]%%? @
;%%@ A
oComprobantesE&& "
.&&" #
	SaldoPago&&# ,
=&&- .
(&&/ 0
double&&0 6
)&&6 7
dr&&7 9
[&&9 :
$str&&: E
]&&E F
;&&F G
oComprobantesE'' "
.''" #
Interes''# *
=''+ ,
(''- .
double''. 4
)''4 5
dr''5 7
[''7 8
$str''8 A
]''A B
;''B C
oComprobantesE(( "
.((" #
NumeroLetras((# /
=((0 1
(((2 3
double((3 9
)((9 :
dr((: <
[((< =
$str((= K
]((K L
;((L M
oComprobantesE)) "
.))" #
Porcentajeimpuesto))# 5
=))6 7
())8 9
double))9 ?
)))? @
dr))@ B
[))B C
$str))C W
]))W X
;))X Y
oComprobantesE** "
.**" #
CodImpuesto**# .
=**/ 0
(**1 2
string**2 8
)**8 9
dr**9 ;
[**; <
$str**< I
]**I J
;**J K
oComprobantesE++ "
.++" #
MontoImpuesto++# 0
=++1 2
(++3 4
double++4 :
)++: ;
dr++; =
[++= >
$str++> M
]++M N
;++N O
oComprobantesE,, "
.,," #
Monto,,# (
=,,) *
(,,+ ,
double,,, 2
),,2 3
dr,,3 5
[,,5 6
$str,,6 =
],,= >
;,,> ?
oComprobantesE-- "
.--" #
Fechaanulacion--# 1
=--2 3
(--4 5
DateTime--5 =
)--= >
dr--> @
[--@ A
$str--A Q
]--Q R
;--R S
oComprobantesE.. "
..." #
Codturno..# +
=.., -
(... /
string../ 5
)..5 6
dr..6 8
[..8 9
$str..9 C
]..C D
;..D E
oComprobantesE// "
.//" #
Correlativo//# .
=/// 0
(//1 2
string//2 8
)//8 9
dr//9 ;
[//; <
$str//< I
]//I J
;//J K
oComprobantesE00 "
.00" #
Fechagenerafactura00# 5
=006 7
(008 9
DateTime009 A
)00A B
dr00B D
[00D E
$str00E Y
]00Y Z
;00Z [
oComprobantesE11 "
.11" #
Flagprocesada11# 0
=111 2
(113 4
bool114 8
)118 9
dr119 ;
[11; <
$str11< K
]11K L
;11L M
oComprobantesE22 "
.22" #
	Paraquien22# ,
=22- .
(22/ 0
string220 6
)226 7
dr227 9
[229 :
$str22: E
]22E F
;22F G
oComprobantesE33 "
.33" #
	Direccion33# ,
=33- .
(33/ 0
string330 6
)336 7
dr337 9
[339 :
$str33: E
]33E F
;33F G
oComprobantesE44 "
.44" #
Nuevocomprobante44# 3
=444 5
(446 7
string447 =
)44= >
dr44> @
[44@ A
$str44A S
]44S T
;44T U
oComprobantesE55 "
.55" #
Observacion55# .
=55/ 0
(551 2
string552 8
)558 9
dr559 ;
[55; <
$str55< I
]55I J
;55J K
oComprobantesE66 "
.66" #
Quiencreoregistro66# 4
=665 6
(667 8
string668 >
)66> ?
dr66? A
[66A B
$str66B U
]66U V
;66V W
oComprobantesE77 "
.77" #
Flagdolares77# .
=77/ 0
(771 2
string772 8
)778 9
dr779 ;
[77; <
$str77< I
]77I J
;77J K
oComprobantesE88 "
.88" #
Montodolares88# /
=880 1
(882 3
double883 9
)889 :
dr88: <
[88< =
$str88= K
]88K L
;88L M
oComprobantesE99 "
.99" # 
Montoimpuestodolares99# 7
=998 9
(99: ;
double99; A
)99A B
dr99B D
[99D E
$str99E [
]99[ \
;99\ ]
oComprobantesE:: "
.::" #
Tipodecambio::# /
=::0 1
(::2 3
double::3 9
)::9 :
dr::: <
[::< =
$str::= K
]::K L
;::L M
oComprobantesE;; "
.;;" #
Concepto;;# +
=;;, -
(;;. /
string;;/ 5
);;5 6
dr;;6 8
[;;8 9
$str;;9 C
];;C D
;;;D E
oComprobantesE<< "
.<<" #
Tipoimpresion<<# 0
=<<1 2
(<<3 4
string<<4 :
)<<: ;
dr<<; =
[<<= >
$str<<> M
]<<M N
;<<N O
oComprobantesE== "
.==" #
Codaseguradora==# 1
===2 3
(==4 5
string==5 ;
)==; <
dr==< >
[==> ?
$str==? O
]==O P
;==P Q
oComprobantesE>> "
.>>" #
Codpaciente>># .
=>>/ 0
(>>1 2
string>>2 8
)>>8 9
dr>>9 ;
[>>; <
$str>>< I
]>>I J
;>>J K
oComprobantesE?? "
.??" #
Numeroplanilla??# 1
=??2 3
(??4 5
string??5 ;
)??; <
dr??< >
[??> ?
$str??? O
]??O P
;??P Q
oComprobantesE@@ "
.@@" #
Correlativoletra@@# 3
=@@4 5
(@@6 7
string@@7 =
)@@= >
dr@@> @
[@@@ A
$str@@A S
]@@S T
;@@T U
oComprobantesEAA "
.AA" #
	ProvisionAA# ,
=AA- .
(AA/ 0
stringAA0 6
)AA6 7
drAA7 9
[AA9 :
$strAA: E
]AAE F
;AAF G
oComprobantesEBB "
.BB" #
FechaprovisionBB# 1
=BB2 3
(BB4 5
DateTimeBB5 =
)BB= >
drBB> @
[BB@ A
$strBBA Q
]BBQ R
;BBR S
oComprobantesECC "
.CC" #

CodEmpresaCC# -
=CC. /
(CC0 1
stringCC1 7
)CC7 8
drCC8 :
[CC: ;
$strCC; G
]CCG H
;CCH I
oComprobantesEDD "
.DD" #
CodmedicoterceroDD# 3
=DD4 5
(DD6 7
stringDD7 =
)DD= >
drDD> @
[DD@ A
$strDDA S
]DDS T
;DDT U
oComprobantesEEE "
.EE" #
TipofacturaEE# .
=EE/ 0
(EE1 2
stringEE2 8
)EE8 9
drEE9 ;
[EE; <
$strEE< I
]EEI J
;EEJ K
oComprobantesEFF "
.FF" #
CodTipoFacturaFF# 1
=FF2 3
(FF4 5
stringFF5 ;
)FF; <
drFF< >
[FF> ?
$strFF? O
]FFO P
;FFP Q
oComprobantesEGG "
.GG" #
CodciaGG# )
=GG* +
(GG, -
stringGG- 3
)GG3 4
drGG4 6
[GG6 7
$strGG7 ?
]GG? @
;GG@ A
oComprobantesEHH "
.HH" #
TipooperacionHH# 0
=HH1 2
(HH3 4
stringHH4 :
)HH: ;
drHH; =
[HH= >
$strHH> M
]HHM N
;HHN O
oComprobantesEII "
.II" #
FechaoperacionII# 1
=II2 3
(II4 5
DateTimeII5 =
)II= >
drII> @
[II@ A
$strIIA Q
]IIQ R
;IIR S
oComprobantesEJJ "
.JJ" #
CodigoJJ# )
=JJ* +
(JJ, -
stringJJ- 3
)JJ3 4
drJJ4 6
[JJ6 7
$strJJ7 ?
]JJ? @
;JJ@ A
oComprobantesEKK "
.KK" #
MontoinafectoKK# 0
=KK1 2
(KK3 4
doubleKK4 :
)KK: ;
drKK; =
[KK= >
$strKK> M
]KKM N
;KKN O
oComprobantesELL "
.LL" # 
MontoinafectodolaresLL# 7
=LL8 9
(LL: ;
doubleLL; A
)LLA B
drLLB D
[LLD E
$strLLE [
]LL[ \
;LL\ ]
oComprobantesEMM "
.MM" #
CuentaMM# )
=MM* +
(MM, -
stringMM- 3
)MM3 4
drMM4 6
[MM6 7
$strMM7 ?
]MM? @
;MM@ A
oComprobantesENN "
.NN" #
CodpersonalNN# .
=NN/ 0
(NN1 2
stringNN2 8
)NN8 9
drNN9 ;
[NN; <
$strNN< I
]NNI J
;NNJ K
oComprobantesEOO "
.OO" #$
FechaprovisiontributariaOO# ;
=OO< =
(OO> ?
DateTimeOO? G
)OOG H
drOOH J
[OOJ K
$strOOK e
]OOe f
;OOf g
oComprobantesEPP "
.PP" #
ProvisiontributariaPP# 6
=PP7 8
(PP9 :
stringPP: @
)PP@ A
drPPA C
[PPC D
$strPPD Y
]PPY Z
;PPZ [
oComprobantesEQQ "
.QQ" #
TipdocidentidadQQ# 2
=QQ3 4
(QQ5 6
stringQQ6 <
)QQ< =
drQQ= ?
[QQ? @
$strQQ@ Q
]QQQ R
;QQR S
oComprobantesERR "
.RR" #
DocidentidadRR# /
=RR0 1
(RR2 3
stringRR3 9
)RR9 :
drRR: <
[RR< =
$strRR= K
]RRK L
;RRL M
oComprobantesESS "
.SS" #
UsrRegistraSS# .
=SS/ 0
(SS1 2
intSS2 5
)SS5 6
drSS6 8
[SS8 9
$strSS9 G
]SSG H
;SSH I
oComprobantesETT "
.TT" #
FecRegistraTT# .
=TT/ 0
(TT1 2
DateTimeTT2 :
)TT: ;
drTT; =
[TT= >
$strTT> L
]TTL M
;TTM N
oComprobantesEUU "
.UU" #
CodcomprobanteeUU# 2
=UU3 4
(UU5 6
stringUU6 <
)UU< =
drUU= ?
[UU? @
$strUU@ Q
]UUQ R
;UUR S
oComprobantesEVV "
.VV" #
FlgElectronicoVV# 1
=VV2 3
(VV4 5
boolVV5 9
)VV9 :
drVV: <
[VV< =
$strVV= N
]VVN O
;VVO P
oComprobantesEWW "
.WW" #
FlgGratuitoWW# .
=WW/ 0
(WW1 2
boolWW2 6
)WW6 7
drWW7 9
[WW9 :
$strWW: H
]WWH I
;WWI J
oComprobantesEXX "
.XX" #
CardcodeXX# +
=XX, -
(XX. /
stringXX/ 5
)XX5 6
drXX6 8
[XX8 9
$strXX9 C
]XXC D
;XXD E
breakYY 
;YY 
default[[ 
:[[ 
oComprobantesE\\ "
.\\" #
Estado\\# )
=\\* +
(\\, -
string\\- 3
)\\3 4
dr\\4 6
[\\6 7
$str\\7 ?
]\\? @
;\\@ A
break]] 
;]] 
}^^ 
return__ 
oComprobantesE__ !
;__! "
}`` 	
privatebb 
ComprobantesEbb 
LlenarEntidadV2bb -
(bb- .
IDataReaderbb. 9
drbb: <
,bb< =
ComprobantesEbb> K
pComprobantesEbbL Z
)bbZ [
{cc 	
ComprobantesEdd 
oComprobantesEdd (
=dd) *
newdd+ .
ComprobantesEdd/ <
(dd< =
)dd= >
;dd> ?
switchee 
(ee 
pComprobantesEee "
.ee" #
Ordenee# (
)ee( )
{ff 
casegg 
$numgg 
:gg 
oComprobantesEhh "
.hh" #
FechaEmisionTexhh# 2
=hh3 4
Converthh5 <
.hh< =
ToStringhh= E
(hhE F
drhhF H
[hhH I
$strhhI W
]hhW X
)hhX Y
;hhY Z
oComprobantesEii "
.ii" #
CodComprobanteii# 1
=ii2 3
Convertii4 ;
.ii; <
ToStringii< D
(iiD E
driiE G
[iiG H
$striiH X
]iiX Y
)iiY Z
;iiZ [
oComprobantesEjj "
.jj" #
IDSedejj# )
=jj) *
Convertjj+ 2
.jj2 3
ToInt32jj3 :
(jj: ;
drjj; =
[jj= >
$strjj> F
]jjF G
)jjG H
;jjH I
oComprobantesEkk "
.kk" #
Sedekk# '
=kk' (
Convertkk) 0
.kk0 1
ToStringkk1 9
(kk9 :
drkk: <
[kk< =
$strkk= C
]kkC D
)kkD E
;kkE F
oComprobantesEll "
.ll" #
Montoll# (
=ll( )
Convertll* 1
.ll1 2
ToDoublell2 :
(ll: ;
drll; =
[ll= >
$strll> E
]llE F
)llF G
;llG H
oComprobantesEmm "
.mm" #
Estadomm# )
=mm) *
Convertmm+ 2
.mm2 3
ToStringmm3 ;
(mm; <
drmm< >
[mm> ?
$strmm? G
]mmG H
)mmH I
;mmI J
oComprobantesEnn "
.nn" #
	DscEstadonn# ,
=nn, -
Convertnn. 5
.nn5 6
ToStringnn6 >
(nn> ?
drnn? A
[nnA B
$strnnB M
]nnM N
)nnN O
;nnO P
breakoo 
;oo 
defaultqq 
:qq 
oComprobantesErr "
.rr" #
Estadorr# )
=rr* +
(rr, -
stringrr- 3
)rr3 4
drrr4 6
[rr6 7
$strrr7 ?
]rr? @
;rr@ A
breakss 
;ss 
}tt 
returnuu 
oComprobantesEuu !
;uu! "
}vv 	
publicxx 
Listxx 
<xx 
ComprobantesExx !
>xx! "$
Sp_Comprobantes_Consultaxx# ;
(xx; <
ComprobantesExx< I
pComprobantesExxJ X
)xxX Y
{yy 	
IDataReaderzz 
drzz 
;zz 
ComprobantesE{{ 
oComprobantesE{{ (
;{{( )
List|| 
<|| 
ComprobantesE|| 
>|| 
oListar||  '
=||( )
new||* -
List||. 2
<||2 3
ComprobantesE||3 @
>||@ A
(||A B
)||B C
;||C D
try}} 
{~~ 
using 
( 
SqlConnection $
cnn% (
=) *
new+ .
SqlConnection/ <
(< =
VariablesGlobales= N
.N O

CnnClinicaO Y
)Y Z
)Z [
{
ÄÄ 
using
ÅÅ 
(
ÅÅ 

SqlCommand
ÅÅ %
cmd
ÅÅ& )
=
ÅÅ* +
new
ÅÅ, /

SqlCommand
ÅÅ0 :
(
ÅÅ: ;
$str
ÅÅ; U
,
ÅÅU V
cnn
ÅÅW Z
)
ÅÅZ [
)
ÅÅ[ \
{
ÇÇ 
cmd
ÉÉ 
.
ÉÉ 
CommandType
ÉÉ '
=
ÉÉ( )
CommandType
ÉÉ* 5
.
ÉÉ5 6
StoredProcedure
ÉÉ6 E
;
ÉÉE F
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 ?
,
ÖÖ? @
pComprobantesE
ÖÖA O
.
ÖÖO P
IDBuscar
ÖÖP X
)
ÖÖX Y
;
ÖÖY Z
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 =
,
ÜÜ= >
pComprobantesE
ÜÜ? M
.
ÜÜM N
Buscar
ÜÜN T
)
ÜÜT U
;
ÜÜU V
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 =
,
áá= >
pComprobantesE
áá? M
.
ááM N
Medico
ááN T
)
ááT U
;
ááU V
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 :
,
àà: ;
pComprobantesE
àà< J
.
ààJ K
Ruc
ààK N
)
ààN O
;
ààO P
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 B
,
ââB C
pComprobantesE
ââD R
.
ââR S
Comprobante
ââS ^
)
ââ^ _
;
ââ_ `
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 <
,
ää< =
pComprobantesE
ää> L
.
ääL M
Fecha
ääM R
)
ääR S
;
ääS T
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 C
,
ããC D
pComprobantesE
ããE S
.
ããS T
NumeroLineas
ããT `
)
ãã` a
;
ããa b
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 <
,
åå< =
pComprobantesE
åå> L
.
ååL M
Orden
ååM R
)
ååR S
;
ååS T
cnn
çç 
.
çç 
Open
çç  
(
çç  !
)
çç! "
;
çç" #
dr
éé 
=
éé 
cmd
éé  
.
éé  !
ExecuteReader
éé! .
(
éé. /
)
éé/ 0
;
éé0 1
while
èè 
(
èè 
dr
èè !
.
èè! "
Read
èè" &
(
èè& '
)
èè' (
)
èè( )
{
êê 
oComprobantesE
ëë *
=
ëë+ ,
LlenarEntidadV2
ëë- <
(
ëë< =
dr
ëë= ?
,
ëë? @
pComprobantesE
ëëA O
)
ëëO P
;
ëëP Q
oListar
íí #
.
íí# $
Add
íí$ '
(
íí' (
oComprobantesE
íí( 6
)
íí6 7
;
íí7 8
}
ìì 
dr
îî 
.
îî 
Close
îî  
(
îî  !
)
îî! "
;
îî" #
cnn
ïï 
.
ïï 
Close
ïï !
(
ïï! "
)
ïï" #
;
ïï# $
return
óó 
oListar
óó &
;
óó& '
}
òò 
}
ôô 
}
öö 
catch
õõ 
(
õõ 
	Exception
õõ 
ex
õõ 
)
õõ  
{
úú 
throw
ùù 
new
ùù 
	Exception
ùù #
(
ùù# $
ex
ùù$ &
.
ùù& '
Message
ùù' .
)
ùù. /
;
ùù/ 0
}
ûû 
}
üü 	
public
°° 
List
°° 
<
°° 
ComprobantesE
°° !
>
°°! "%
Sp_Comprobante_Buscando
°°# :
(
°°: ;
ComprobantesE
°°; H
pComprobantesE
°°I W
)
°°W X
{
¢¢ 	
IDataReader
££ 
dr
££ 
;
££ 
ComprobantesE
§§ 
oComprobantesE
§§ (
;
§§( )
List
•• 
<
•• 
ComprobantesE
•• 
>
•• 
oListar
••  '
=
••( )
new
••* -
List
••. 2
<
••2 3
ComprobantesE
••3 @
>
••@ A
(
••A B
)
••B C
;
••C D
try
¶¶ 
{
ßß 
using
®® 
(
®® 
SqlConnection
®® $
cnn
®®% (
=
®®) *
new
®®+ .
SqlConnection
®®/ <
(
®®< =
VariablesGlobales
®®= N
.
®®N O

CnnClinica
®®O Y
)
®®Y Z
)
®®Z [
{
©© 
using
™™ 
(
™™ 

SqlCommand
™™ %
cmd
™™& )
=
™™* +
new
™™, /

SqlCommand
™™0 :
(
™™: ;
$str
™™; T
,
™™T U
cnn
™™V Y
)
™™Y Z
)
™™Z [
{
´´ 
cmd
¨¨ 
.
¨¨ 
CommandType
¨¨ '
=
¨¨( )
CommandType
¨¨* 5
.
¨¨5 6
StoredProcedure
¨¨6 E
;
¨¨E F
cmd
ÆÆ 
.
ÆÆ 

Parameters
ÆÆ &
.
ÆÆ& '
AddWithValue
ÆÆ' 3
(
ÆÆ3 4
$str
ÆÆ4 =
,
ÆÆ= >
pComprobantesE
ÆÆ? M
.
ÆÆM N
CodComprobante
ÆÆN \
)
ÆÆ\ ]
;
ÆÆ] ^
cmd
ØØ 
.
ØØ 

Parameters
ØØ &
.
ØØ& '
AddWithValue
ØØ' 3
(
ØØ3 4
$str
ØØ4 A
,
ØØA B
pComprobantesE
ØØC Q
.
ØØQ R

CodEmpresa
ØØR \
)
ØØ\ ]
;
ØØ] ^
cnn
∞∞ 
.
∞∞ 
Open
∞∞  
(
∞∞  !
)
∞∞! "
;
∞∞" #
dr
±± 
=
±± 
cmd
±±  
.
±±  !
ExecuteReader
±±! .
(
±±. /
)
±±/ 0
;
±±0 1
while
≤≤ 
(
≤≤ 
dr
≤≤ !
.
≤≤! "
Read
≤≤" &
(
≤≤& '
)
≤≤' (
)
≤≤( )
{
≥≥ 
oComprobantesE
¥¥ *
=
¥¥+ ,
LlenarEntidad
¥¥- :
(
¥¥: ;
dr
¥¥; =
,
¥¥= >
pComprobantesE
¥¥? M
)
¥¥M N
;
¥¥N O
oListar
µµ #
.
µµ# $
Add
µµ$ '
(
µµ' (
oComprobantesE
µµ( 6
)
µµ6 7
;
µµ7 8
}
∂∂ 
dr
∑∑ 
.
∑∑ 
Close
∑∑  
(
∑∑  !
)
∑∑! "
;
∑∑" #
cnn
∏∏ 
.
∏∏ 
Close
∏∏ !
(
∏∏! "
)
∏∏" #
;
∏∏# $
return
∫∫ 
oListar
∫∫ &
;
∫∫& '
}
ªª 
}
ºº 
}
ΩΩ 
catch
ææ 
(
ææ 
	Exception
ææ 
ex
ææ 
)
ææ  
{
øø 
throw
¿¿ 
new
¿¿ 
	Exception
¿¿ #
(
¿¿# $
ex
¿¿$ &
.
¿¿& '
Message
¿¿' .
)
¿¿. /
;
¿¿/ 0
}
¡¡ 
}
¬¬ 	
public
ƒƒ 
int
ƒƒ ,
Sp_ComprobanteManuales2_Insert
ƒƒ 1
(
ƒƒ1 2
ref
ƒƒ2 5
ComprobantesE
ƒƒ6 C
pComprobantesE
ƒƒD R
)
ƒƒR S
{
≈≈ 	
bool
∆∆ 
xResult
∆∆ 
=
∆∆ 
false
∆∆  
;
∆∆  !
int
«« 
xReturn
«« 
;
«« 
try
»» 
{
…… 
using
   
(
   
SqlConnection
   $
cnn
  % (
=
  ) *
new
  + .
SqlConnection
  / <
(
  < =
VariablesGlobales
  = N
.
  N O

CnnClinica
  O Y
)
  Y Z
)
  Z [
{
ÀÀ 
using
ÃÃ 
(
ÃÃ 

SqlCommand
ÃÃ %
cmd
ÃÃ& )
=
ÃÃ* +
new
ÃÃ, /

SqlCommand
ÃÃ0 :
(
ÃÃ: ;
$str
ÃÃ; [
,
ÃÃ[ \
cnn
ÃÃ] `
)
ÃÃ` a
)
ÃÃa b
{
ÕÕ 
cmd
ŒŒ 
.
ŒŒ 
CommandType
ŒŒ '
=
ŒŒ( )
CommandType
ŒŒ* 5
.
ŒŒ5 6
StoredProcedure
ŒŒ6 E
;
ŒŒE F
cmd
–– 
.
–– 

Parameters
–– &
.
––& '
AddWithValue
––' 3
(
––3 4
$str
––4 E
,
––E F
pComprobantesE
––G U
.
––U V
CodLiquidacion
––V d
)
––d e
;
––e f
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 <
,
——< =
pComprobantesE
——> L
.
——L M
Monto
——M R
)
——R S
;
——S T
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 E
,
““E F
pComprobantesE
““G U
.
““U V
ANombreDeQuien
““V d
)
““d e
;
““e f
cmd
”” 
.
”” 

Parameters
”” &
.
””& '
AddWithValue
””' 3
(
””3 4
$str
””4 :
,
””: ;
pComprobantesE
””< J
.
””J K
Ruc
””K N
)
””N O
;
””O P
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ &
.
‘‘& '
AddWithValue
‘‘' 3
(
‘‘3 4
$str
‘‘4 @
,
‘‘@ A
pComprobantesE
‘‘B P
.
‘‘P Q
	Direccion
‘‘Q Z
)
‘‘Z [
;
‘‘[ \
cmd
’’ 
.
’’ 

Parameters
’’ &
.
’’& '
AddWithValue
’’' 3
(
’’3 4
$str
’’4 <
,
’’< =
pComprobantesE
’’> L
.
’’L M
FechaCancelacion
’’M ]
.
’’] ^
ToString
’’^ f
(
’’f g
$str
’’g s
)
’’s t
)
’’t u
;
’’u v
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
AddWithValue
÷÷' 3
(
÷÷3 4
$str
÷÷4 E
,
÷÷E F
pComprobantesE
÷÷G U
.
÷÷U V
CodComprobante
÷÷V d
)
÷÷d e
;
÷÷e f
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ &
.
ÿÿ& '
AddWithValue
ÿÿ' 3
(
ÿÿ3 4
$str
ÿÿ4 ?
,
ÿÿ? @
pComprobantesE
ÿÿA O
.
ÿÿO P
TipoPago
ÿÿP X
)
ÿÿX Y
;
ÿÿY Z
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ &
.
ŸŸ& '
AddWithValue
ŸŸ' 3
(
ŸŸ3 4
$str
ŸŸ4 D
,
ŸŸD E
pComprobantesE
ŸŸF T
.
ŸŸT U
NombreEntidad
ŸŸU b
)
ŸŸb c
;
ŸŸc d
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ &
.
⁄⁄& '
AddWithValue
⁄⁄' 3
(
⁄⁄3 4
$str
⁄⁄4 D
,
⁄⁄D E
pComprobantesE
⁄⁄F T
.
⁄⁄T U
NumeroEntidad
⁄⁄U b
)
⁄⁄b c
;
⁄⁄c d
cmd
€€ 
.
€€ 

Parameters
€€ &
.
€€& '
AddWithValue
€€' 3
(
€€3 4
$str
€€4 @
,
€€@ A
pComprobantesE
€€B P
.
€€P Q
	Operacion
€€Q Z
)
€€Z [
;
€€[ \
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ &
.
‹‹& '
AddWithValue
‹‹' 3
(
‹‹3 4
$str
‹‹4 E
,
‹‹E F
pComprobantesE
‹‹G U
.
‹‹U V
VariosTipoPago
‹‹V d
)
‹‹d e
;
‹‹e f
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 =
,
››= >
pComprobantesE
››? M
.
››M N
Moneda
››N T
)
››T U
;
››U V
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ &
.
ﬁﬁ& '
AddWithValue
ﬁﬁ' 3
(
ﬁﬁ3 4
$str
ﬁﬁ4 B
,
ﬁﬁB C
pComprobantesE
ﬁﬁD R
.
ﬁﬁR S
Flagdolares
ﬁﬁS ^
)
ﬁﬁ^ _
;
ﬁﬁ_ `
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ &
.
ﬂﬂ& '
AddWithValue
ﬂﬂ' 3
(
ﬂﬂ3 4
$str
ﬂﬂ4 ?
,
ﬂﬂ? @
pComprobantesE
ﬂﬂA O
.
ﬂﬂO P
Concepto
ﬂﬂP X
)
ﬂﬂX Y
;
ﬂﬂY Z
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ &
.
‡‡& '
AddWithValue
‡‡' 3
(
‡‡3 4
$str
‡‡4 A
,
‡‡A B
pComprobantesE
‡‡C Q
.
‡‡Q R
Tipodecambio
‡‡R ^
)
‡‡^ _
;
‡‡_ `
cmd
·· 
.
·· 

Parameters
·· &
.
··& '
AddWithValue
··' 3
(
··3 4
$str
··4 D
,
··D E
pComprobantesE
··F T
.
··T U
Tipoimpresion
··U b
)
··b c
;
··c d
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ &
.
‚‚& '
AddWithValue
‚‚' 3
(
‚‚3 4
$str
‚‚4 A
,
‚‚A B
pComprobantesE
‚‚C Q
.
‚‚Q R

CodEmpresa
‚‚R \
)
‚‚\ ]
;
‚‚] ^
cmd
„„ 
.
„„ 

Parameters
„„ &
.
„„& '
AddWithValue
„„' 3
(
„„3 4
$str
„„4 B
,
„„B C
pComprobantesE
„„D R
.
„„R S
CodTerminal
„„S ^
)
„„^ _
;
„„_ `
cnn
ÂÂ 
.
ÂÂ 
Open
ÂÂ  
(
ÂÂ  !
)
ÂÂ! "
;
ÂÂ" #
cmd
ÊÊ 
.
ÊÊ 
ExecuteNonQuery
ÊÊ +
(
ÊÊ+ ,
)
ÊÊ, -
;
ÊÊ- .
pComprobantesE
ËË &
.
ËË& '
CodComprobante
ËË' 5
=
ËË6 7
cmd
ËË8 ;
.
ËË; <

Parameters
ËË< F
[
ËËF G
$str
ËËG X
]
ËËX Y
.
ËËY Z
Value
ËËZ _
+
ËË` a
$str
ËËb d
;
ËËd e
xResult
ÈÈ 
=
ÈÈ  !
true
ÈÈ" &
;
ÈÈ& '
cnn
ÎÎ 
.
ÎÎ 
Close
ÎÎ !
(
ÎÎ! "
)
ÎÎ" #
;
ÎÎ# $
cmd
ÏÏ 
.
ÏÏ 
Dispose
ÏÏ #
(
ÏÏ# $
)
ÏÏ$ %
;
ÏÏ% &
}
ÌÌ 
}
ÓÓ 
return
 
Convert
 
.
 
ToInt32
 &
(
& '
xResult
' .
)
. /
;
/ 0
}
ÒÒ 
catch
ÚÚ 
(
ÚÚ 
	Exception
ÚÚ 
ex
ÚÚ 
)
ÚÚ  
{
ÛÛ 
throw
ÙÙ 
new
ÙÙ 
	Exception
ÙÙ #
(
ÙÙ# $
ex
ÙÙ$ &
.
ÙÙ& '
Message
ÙÙ' .
)
ÙÙ. /
;
ÙÙ/ 0
}
ıı 
}
ˆˆ 	
public
¯¯ 
int
¯¯ 4
&Sp_ComprobanteManual_EFACT_Insert_Host
¯¯ 9
(
¯¯9 :
ref
¯¯: =
ComprobantesE
¯¯> K
pComprobantesE
¯¯L Z
,
¯¯Z [
string
¯¯\ b
pPCHostname
¯¯c n
)
¯¯n o
{
˘˘ 	
bool
˙˙ 
xResult
˙˙ 
=
˙˙ 
false
˙˙  
;
˙˙  !
int
˚˚ 
xReturn
˚˚ 
;
˚˚ 
try
¸¸ 
{
˝˝ 
using
˛˛ 
(
˛˛ 
SqlConnection
˛˛ $
cnn
˛˛% (
=
˛˛) *
new
˛˛+ .
SqlConnection
˛˛/ <
(
˛˛< =
VariablesGlobales
˛˛= N
.
˛˛N O

CnnClinica
˛˛O Y
)
˛˛Y Z
)
˛˛Z [
{
ˇˇ 
using
ÄÄ 
(
ÄÄ 

SqlCommand
ÄÄ %
cmd
ÄÄ& )
=
ÄÄ* +
new
ÄÄ, /

SqlCommand
ÄÄ0 :
(
ÄÄ: ;
$str
ÄÄ; c
,
ÄÄc d
cnn
ÄÄe h
)
ÄÄh i
)
ÄÄi j
{
ÅÅ 
cmd
ÇÇ 
.
ÇÇ 
CommandType
ÇÇ '
=
ÇÇ( )
CommandType
ÇÇ* 5
.
ÇÇ5 6
StoredProcedure
ÇÇ6 E
;
ÇÇE F
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 E
,
ÑÑE F
pComprobantesE
ÑÑG U
.
ÑÑU V
CodLiquidacion
ÑÑV d
)
ÑÑd e
;
ÑÑe f
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 G
,
ÖÖG H
pComprobantesE
ÖÖI W
.
ÖÖW X
FlgElectronico
ÖÖX f
==
ÖÖg i
true
ÖÖj n
?
ÖÖo p
$str
ÖÖq t
:
ÖÖu v
$str
ÖÖw z
)
ÖÖz {
;
ÖÖ{ |
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 F
,
ÜÜF G
pComprobantesE
ÜÜH V
.
ÜÜV W
TipoComprobante
ÜÜW f
)
ÜÜf g
;
ÜÜg h
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
Add
áá' *
(
áá* +
VariablesGlobales
áá+ <
.
áá< =
ParametroSql
áá= I
(
ááI J
$str
ááJ [
,
áá[ \ 
ParameterDirection
áá] o
.
ááo p
InputOutput
ááp {
,
áá{ |
	SqlDbTypeáá} Ü
.ááÜ á
VarCharááá é
,ááé è
$numááê í
,ááí ì
pComprobantesEááî ¢
.áá¢ £
CodComprobanteáá£ ±
)áá± ≤
)áá≤ ≥
;áá≥ ¥
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 <
,
àà< =
pComprobantesE
àà> L
.
ààL M
Monto
ààM R
)
ààR S
;
ààS T
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 E
,
ââE F
pComprobantesE
ââG U
.
ââU V
ANombreDeQuien
ââV d
)
ââd e
;
ââe f
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 :
,
ää: ;
pComprobantesE
ää< J
.
ääJ K
Ruc
ääK N
)
ääN O
;
ääO P
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 @
,
ãã@ A
pComprobantesE
ããB P
.
ããP Q
	Direccion
ããQ Z
)
ããZ [
;
ãã[ \
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 <
,
åå< =
pComprobantesE
åå> L
.
ååL M
FechaCancelacion
ååM ]
.
åå] ^
ToString
åå^ f
(
ååf g
$str
ååg s
)
åås t
)
ååt u
;
ååu v
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 ?
,
çç? @
pComprobantesE
ççA O
.
ççO P
TipoPago
ççP X
)
ççX Y
;
ççY Z
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 D
,
ééD E
pComprobantesE
ééF T
.
ééT U
NombreEntidad
ééU b
)
ééb c
;
ééc d
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 D
,
èèD E
pComprobantesE
èèF T
.
èèT U
NumeroEntidad
èèU b
)
èèb c
;
èèc d
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 @
,
êê@ A
pComprobantesE
êêB P
.
êêP Q
	Operacion
êêQ Z
)
êêZ [
;
êê[ \
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 E
,
ëëE F
pComprobantesE
ëëG U
.
ëëU V
VariosTipoPago
ëëV d
)
ëëd e
;
ëëe f
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 =
,
íí= >
pComprobantesE
íí? M
.
ííM N
Moneda
ííN T
)
ííT U
;
ííU V
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 B
,
ììB C
pComprobantesE
ììD R
.
ììR S
Flagdolares
ììS ^
)
ìì^ _
;
ìì_ `
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 ?
,
îî? @
pComprobantesE
îîA O
.
îîO P
Concepto
îîP X
)
îîX Y
;
îîY Z
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 A
,
ïïA B
pComprobantesE
ïïC Q
.
ïïQ R
Tipodecambio
ïïR ^
)
ïï^ _
;
ïï_ `
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 D
,
ññD E
pComprobantesE
ññF T
.
ññT U
Tipoimpresion
ññU b
)
ññb c
;
ññc d
cmd
óó 
.
óó 

Parameters
óó &
.
óó& '
AddWithValue
óó' 3
(
óó3 4
$str
óó4 A
,
óóA B
pComprobantesE
óóC Q
.
óóQ R

CodEmpresa
óóR \
)
óó\ ]
;
óó] ^
cmd
òò 
.
òò 

Parameters
òò &
.
òò& '
AddWithValue
òò' 3
(
òò3 4
$str
òò4 B
,
òòB C
pComprobantesE
òòD R
.
òòR S
CodTerminal
òòS ^
)
òò^ _
;
òò_ `
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 ?
,
ôô? @
pPCHostname
ôôA L
)
ôôL M
;
ôôM N
cnn
õõ 
.
õõ 
Open
õõ  
(
õõ  !
)
õõ! "
;
õõ" #
cmd
úú 
.
úú 
ExecuteNonQuery
úú +
(
úú+ ,
)
úú, -
;
úú- .
pComprobantesE
ûû &
.
ûû& '
CodComprobante
ûû' 5
=
ûû6 7
cmd
ûû8 ;
.
ûû; <

Parameters
ûû< F
[
ûûF G
$str
ûûG X
]
ûûX Y
.
ûûY Z
Value
ûûZ _
+
ûû` a
$str
ûûb d
;
ûûd e
xResult
üü 
=
üü  !
true
üü" &
;
üü& '
cnn
°° 
.
°° 
Close
°° !
(
°°! "
)
°°" #
;
°°# $
cmd
¢¢ 
.
¢¢ 
Dispose
¢¢ #
(
¢¢# $
)
¢¢$ %
;
¢¢% &
}
££ 
}
§§ 
return
¶¶ 
Convert
¶¶ 
.
¶¶ 
ToInt32
¶¶ &
(
¶¶& '
xResult
¶¶' .
)
¶¶. /
;
¶¶/ 0
}
ßß 
catch
®® 
(
®® 
	Exception
®® 
ex
®® 
)
®®  
{
©© 
throw
™™ 
new
™™ 
	Exception
™™ #
(
™™# $
ex
™™$ &
.
™™& '
Message
™™' .
)
™™. /
;
™™/ 0
}
´´ 
}
¨¨ 	
public
ÆÆ 
int
ÆÆ #
Sp_Comprobante_Insert
ÆÆ (
(
ÆÆ( )
ref
ÆÆ) ,
ComprobantesE
ÆÆ- :
pComprobantesE
ÆÆ; I
)
ÆÆI J
{
ØØ 	
bool
∞∞ 
xResult
∞∞ 
=
∞∞ 
false
∞∞  
;
∞∞  !
int
±± 
xReturn
±± 
;
±± 
try
≤≤ 
{
≥≥ 
using
¥¥ 
(
¥¥ 
SqlConnection
¥¥ $
cnn
¥¥% (
=
¥¥) *
new
¥¥+ .
SqlConnection
¥¥/ <
(
¥¥< =
VariablesGlobales
¥¥= N
.
¥¥N O

CnnClinica
¥¥O Y
)
¥¥Y Z
)
¥¥Z [
{
µµ 
using
∂∂ 
(
∂∂ 

SqlCommand
∂∂ %
cmd
∂∂& )
=
∂∂* +
new
∂∂, /

SqlCommand
∂∂0 :
(
∂∂: ;
$str
∂∂; R
,
∂∂R S
cnn
∂∂T W
)
∂∂W X
)
∂∂X Y
{
∑∑ 
cmd
∏∏ 
.
∏∏ 
CommandType
∏∏ '
=
∏∏( )
CommandType
∏∏* 5
.
∏∏5 6
StoredProcedure
∏∏6 E
;
∏∏E F
cmd
∫∫ 
.
∫∫ 

Parameters
∫∫ &
.
∫∫& '
AddWithValue
∫∫' 3
(
∫∫3 4
$str
∫∫4 =
,
∫∫= >
$str
∫∫? A
)
∫∫A B
.
∫∫B C
	Direction
∫∫C L
=
∫∫M N 
ParameterDirection
∫∫O a
.
∫∫a b
ReturnValue
∫∫b m
;
∫∫m n
cmd
ªª 
.
ªª 

Parameters
ªª &
.
ªª& '
AddWithValue
ªª' 3
(
ªª3 4
$str
ªª4 F
,
ªªF G
pComprobantesE
ªªH V
.
ªªV W
TipoComprobante
ªªW f
)
ªªf g
;
ªªg h
cmd
ºº 
.
ºº 

Parameters
ºº &
.
ºº& '
AddWithValue
ºº' 3
(
ºº3 4
$str
ºº4 E
,
ººE F
pComprobantesE
ººG U
.
ººU V
CodLiquidacion
ººV d
)
ººd e
;
ººe f
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ &
.
ΩΩ& '
AddWithValue
ΩΩ' 3
(
ΩΩ3 4
$str
ΩΩ4 <
,
ΩΩ< =
pComprobantesE
ΩΩ> L
.
ΩΩL M
Monto
ΩΩM R
)
ΩΩR S
;
ΩΩS T
cmd
ææ 
.
ææ 

Parameters
ææ &
.
ææ& '
AddWithValue
ææ' 3
(
ææ3 4
$str
ææ4 E
,
ææE F
pComprobantesE
ææG U
.
ææU V
ANombreDeQuien
ææV d
)
ææd e
;
ææe f
cmd
øø 
.
øø 

Parameters
øø &
.
øø& '
AddWithValue
øø' 3
(
øø3 4
$str
øø4 :
,
øø: ;
pComprobantesE
øø< J
.
øøJ K
Ruc
øøK N
)
øøN O
;
øøO P
cmd
¿¿ 
.
¿¿ 

Parameters
¿¿ &
.
¿¿& '
AddWithValue
¿¿' 3
(
¿¿3 4
$str
¿¿4 @
,
¿¿@ A
pComprobantesE
¿¿B P
.
¿¿P Q
	Direccion
¿¿Q Z
)
¿¿Z [
;
¿¿[ \
cmd
¡¡ 
.
¡¡ 

Parameters
¡¡ &
.
¡¡& '
AddWithValue
¡¡' 3
(
¡¡3 4
$str
¡¡4 ?
,
¡¡? @
pComprobantesE
¡¡A O
.
¡¡O P
TipoPago
¡¡P X
)
¡¡X Y
;
¡¡Y Z
cmd
¬¬ 
.
¬¬ 

Parameters
¬¬ &
.
¬¬& '
AddWithValue
¬¬' 3
(
¬¬3 4
$str
¬¬4 D
,
¬¬D E
pComprobantesE
¬¬F T
.
¬¬T U
NombreEntidad
¬¬U b
)
¬¬b c
;
¬¬c d
cmd
√√ 
.
√√ 

Parameters
√√ &
.
√√& '
AddWithValue
√√' 3
(
√√3 4
$str
√√4 D
,
√√D E
pComprobantesE
√√F T
.
√√T U
NumeroEntidad
√√U b
)
√√b c
;
√√c d
cmd
ƒƒ 
.
ƒƒ 

Parameters
ƒƒ &
.
ƒƒ& '
AddWithValue
ƒƒ' 3
(
ƒƒ3 4
$str
ƒƒ4 @
,
ƒƒ@ A
pComprobantesE
ƒƒB P
.
ƒƒP Q
	Operacion
ƒƒQ Z
)
ƒƒZ [
;
ƒƒ[ \
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ &
.
≈≈& '
AddWithValue
≈≈' 3
(
≈≈3 4
$str
≈≈4 E
,
≈≈E F
pComprobantesE
≈≈G U
.
≈≈U V
VariosTipoPago
≈≈V d
)
≈≈d e
;
≈≈e f
cmd
«« 
.
«« 

Parameters
«« &
.
««& '
Add
««' *
(
««* +
VariablesGlobales
««+ <
.
««< =
ParametroSql
««= I
(
««I J
$str
««J [
,
««[ \ 
ParameterDirection
««] o
.
««o p
InputOutput
««p {
,
««{ |
	SqlDbType««} Ü
.««Ü á
VarChar««á é
,««é è
$num««ê í
,««í ì
pComprobantesE««î ¢
.««¢ £
CodComprobante««£ ±
)««± ≤
)««≤ ≥
;««≥ ¥
cmd
»» 
.
»» 

Parameters
»» &
.
»»& '
AddWithValue
»»' 3
(
»»3 4
$str
»»4 =
,
»»= >
pComprobantesE
»»? M
.
»»M N
Moneda
»»N T
)
»»T U
;
»»U V
cmd
…… 
.
…… 

Parameters
…… &
.
……& '
AddWithValue
……' 3
(
……3 4
$str
……4 A
,
……A B
pComprobantesE
……C Q
.
……Q R

CodEmpresa
……R \
)
……\ ]
;
……] ^
cmd
   
.
   

Parameters
   &
.
  & '
AddWithValue
  ' 3
(
  3 4
$str
  4 B
,
  B C
pComprobantesE
  D R
.
  R S
CodTerminal
  S ^
)
  ^ _
;
  _ `
cnn
ÀÀ 
.
ÀÀ 
Open
ÀÀ  
(
ÀÀ  !
)
ÀÀ! "
;
ÀÀ" #
cmd
ÃÃ 
.
ÃÃ 
ExecuteNonQuery
ÃÃ +
(
ÃÃ+ ,
)
ÃÃ, -
;
ÃÃ- .
xReturn
ÕÕ 
=
ÕÕ  !
System
ÕÕ" (
.
ÕÕ( )
Convert
ÕÕ) 0
.
ÕÕ0 1
ToInt32
ÕÕ1 8
(
ÕÕ8 9
cmd
ÕÕ9 <
.
ÕÕ< =

Parameters
ÕÕ= G
[
ÕÕG H
$str
ÕÕH Q
]
ÕÕQ R
.
ÕÕR S
Value
ÕÕS X
)
ÕÕX Y
;
ÕÕY Z
pComprobantesE
ŒŒ &
.
ŒŒ& '
CodComprobante
ŒŒ' 5
=
ŒŒ6 7
cmd
ŒŒ8 ;
.
ŒŒ; <

Parameters
ŒŒ< F
[
ŒŒF G
$str
ŒŒG X
]
ŒŒX Y
.
ŒŒY Z
Value
ŒŒZ _
+
ŒŒ` a
$str
ŒŒb d
;
ŒŒd e
xResult
œœ 
=
œœ  !
true
œœ" &
;
œœ& '
cnn
—— 
.
—— 
Close
—— !
(
——! "
)
——" #
;
——# $
cmd
““ 
.
““ 
Dispose
““ #
(
““# $
)
““$ %
;
““% &
}
”” 
}
‘‘ 
return
÷÷ 
Convert
÷÷ 
.
÷÷ 
ToInt32
÷÷ &
(
÷÷& '
xResult
÷÷' .
)
÷÷. /
;
÷÷/ 0
}
◊◊ 
catch
ÿÿ 
(
ÿÿ 
	Exception
ÿÿ 
ex
ÿÿ 
)
ÿÿ  
{
ŸŸ 
throw
⁄⁄ 
new
⁄⁄ 
	Exception
⁄⁄ #
(
⁄⁄# $
ex
⁄⁄$ &
.
⁄⁄& '
Message
⁄⁄' .
)
⁄⁄. /
;
⁄⁄/ 0
}
€€ 
}
‹‹ 	
public
ﬁﬁ 
bool
ﬁﬁ #
Sp_Comprobante_Update
ﬁﬁ )
(
ﬁﬁ) *
ComprobantesE
ﬁﬁ* 7
pComprobantesE
ﬁﬁ8 F
)
ﬁﬁF G
{
ﬂﬂ 	
try
‡‡ 
{
·· 
using
‚‚ 
(
‚‚ 
SqlConnection
‚‚ $
cnn
‚‚% (
=
‚‚) *
new
‚‚+ .
SqlConnection
‚‚/ <
(
‚‚< =
VariablesGlobales
‚‚= N
.
‚‚N O

CnnClinica
‚‚O Y
)
‚‚Y Z
)
‚‚Z [
{
„„ 
using
‰‰ 
(
‰‰ 

SqlCommand
‰‰ %
cmd
‰‰& )
=
‰‰* +
new
‰‰, /

SqlCommand
‰‰0 :
(
‰‰: ;
$str
‰‰; R
,
‰‰R S
cnn
‰‰T W
)
‰‰W X
)
‰‰X Y
{
ÂÂ 
cmd
ÊÊ 
.
ÊÊ 
CommandType
ÊÊ '
=
ÊÊ( )
CommandType
ÊÊ* 5
.
ÊÊ5 6
StoredProcedure
ÊÊ6 E
;
ÊÊE F
cmd
ËË 
.
ËË 

Parameters
ËË &
.
ËË& '
AddWithValue
ËË' 3
(
ËË3 4
$str
ËË4 <
,
ËË< =
pComprobantesE
ËË> L
.
ËËL M
Campo
ËËM R
)
ËËR S
;
ËËS T
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ &
.
ÈÈ& '
AddWithValue
ÈÈ' 3
(
ÈÈ3 4
$str
ÈÈ4 =
,
ÈÈ= >
pComprobantesE
ÈÈ? M
.
ÈÈM N
CodComprobante
ÈÈN \
)
ÈÈ\ ]
;
ÈÈ] ^
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ &
.
ÍÍ& '
AddWithValue
ÍÍ' 3
(
ÍÍ3 4
$str
ÍÍ4 A
,
ÍÍA B
pComprobantesE
ÍÍC Q
.
ÍÍQ R

CodEmpresa
ÍÍR \
)
ÍÍ\ ]
;
ÍÍ] ^
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ &
.
ÎÎ& '
AddWithValue
ÎÎ' 3
(
ÎÎ3 4
$str
ÎÎ4 A
,
ÎÎA B
pComprobantesE
ÎÎC Q
.
ÎÎQ R

NuevoValor
ÎÎR \
)
ÎÎ\ ]
;
ÎÎ] ^
cnn
ÏÏ 
.
ÏÏ 
Open
ÏÏ  
(
ÏÏ  !
)
ÏÏ! "
;
ÏÏ" #
int
ÓÓ 
	rowResult
ÓÓ %
=
ÓÓ& '
cmd
ÓÓ( +
.
ÓÓ+ ,
ExecuteNonQuery
ÓÓ, ;
(
ÓÓ; <
)
ÓÓ< =
;
ÓÓ= >
cnn
ÔÔ 
.
ÔÔ 
Close
ÔÔ !
(
ÔÔ! "
)
ÔÔ" #
;
ÔÔ# $
cmd
 
.
 
Dispose
 #
(
# $
)
$ %
;
% &
if
ÒÒ 
(
ÒÒ 
	rowResult
ÒÒ %
>=
ÒÒ& (
$num
ÒÒ) *
)
ÒÒ* +
return
ÚÚ "
true
ÚÚ# '
;
ÚÚ' (
else
ÛÛ 
return
ÙÙ "
false
ÙÙ# (
;
ÙÙ( )
}
ˆˆ 
}
˜˜ 
}
¯¯ 
catch
˘˘ 
(
˘˘ 
	Exception
˘˘ 
ex
˘˘ 
)
˘˘  
{
˙˙ 
throw
˚˚ 
new
˚˚ 
	Exception
˚˚ #
(
˚˚# $
ex
˚˚$ &
.
˚˚& '
Message
˚˚' .
)
˚˚. /
;
˚˚/ 0
}
¸¸ 
}
˝˝ 	
}
˛˛ 
}ˇˇ ÷ì
dD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\ClinicaAD\CirugiaAD\RolSalaOperacionesAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
	ClinicaAD 
. 
	CirugiaAD %
{ 
public 

class  
RolSalaOperacionesAD %
{ 
private		 
RolSalaOperacionesE		 #
LlenarEntidad3		$ 2
(		2 3
IDataReader		3 >
dr		? A
,		A B
RolSalaOperacionesE		C V 
pRolsalaoperacionesE		W k
)		k l
{

 	
RolSalaOperacionesE  
oRolsalaoperacionesE  4
=5 6
new7 :
RolSalaOperacionesE; N
(N O
)O P
;P Q 
oRolsalaoperacionesE  
.  !

Codrolsala! +
=, -
(. /
decimal/ 6
)6 7
dr7 9
[9 :
$str: F
]F G
;G H 
oRolsalaoperacionesE  
.  !
Codatencion! ,
=- .
(/ 0
string0 6
)6 7
dr7 9
[9 :
$str: G
]G H
;H I
return  
oRolsalaoperacionesE '
;' (
} 	
private 
RolSalaOperacionesE #
LlenarEntidad$ 1
(1 2
IDataReader2 =
dr> @
,@ A
RolSalaOperacionesEB U 
pRolsalaoperacionesEV j
)j k
{ 	
RolSalaOperacionesE  
oRolsalaoperacionesE  4
=5 6
new7 :
RolSalaOperacionesE; N
(N O
)O P
;P Q 
oRolsalaoperacionesE  
.  !

Codrolsala! +
=, -
(. /
decimal/ 6
)6 7
dr7 9
[9 :
$str: F
]F G
;G H 
oRolsalaoperacionesE  
.  !
Codatencion! ,
=- .
(/ 0
string0 6
)6 7
dr7 9
[9 :
$str: G
]G H
;H I
return  
oRolsalaoperacionesE '
;' (
} 	
public 
List 
< 
RolSalaOperacionesE '
>' (+
Sp_RolSalaOperaciones3_Consulta) H
(H I
RolSalaOperacionesEI \ 
pRolsalaoperacionesE] q
)q r
{ 	
IDataReader 
dr 
; 
RolSalaOperacionesE  
oRolsalaoperacionesE  4
;4 5
List 
< 
RolSalaOperacionesE $
>$ %
oListar& -
=. /
new0 3
List4 8
<8 9
RolSalaOperacionesE9 L
>L M
(M N
)N O
;O P
try   
{!! 
using"" 
("" 
SqlConnection"" $
cnn""% (
="") *
new""+ .
SqlConnection""/ <
(""< =
VariablesGlobales""= N
.""N O

CnnClinica""O Y
)""Y Z
)""Z [
{## 
using$$ 
($$ 

SqlCommand$$ %
cmd$$& )
=$$* +
new$$, /

SqlCommand$$0 :
($$: ;
$str$$; \
,$$\ ]
cnn$$^ a
)$$a b
)$$b c
{%% 
cmd&& 
.&& 
CommandType&& '
=&&( )
CommandType&&* 5
.&&5 6
StoredProcedure&&6 E
;&&E F
cmd(( 
.(( 

Parameters(( &
.((& '
AddWithValue((' 3
(((3 4
$str((4 B
,((B C 
pRolsalaoperacionesE((D X
.((X Y
Codatencion((Y d
)((d e
;((e f
cnn)) 
.)) 
Open))  
())  !
)))! "
;))" #
dr** 
=** 
cmd**  
.**  !
ExecuteReader**! .
(**. /
)**/ 0
;**0 1
while++ 
(++ 
dr++ !
.++! "
Read++" &
(++& '
)++' (
)++( )
{,,  
oRolsalaoperacionesE-- 0
=--1 2
LlenarEntidad3--3 A
(--A B
dr--B D
,--D E 
pRolsalaoperacionesE--F Z
)--Z [
;--[ \
oListar.. #
...# $
Add..$ '
(..' ( 
oRolsalaoperacionesE..( <
)..< =
;..= >
}// 
dr00 
.00 
Close00  
(00  !
)00! "
;00" #
dr11 
.11 
Dispose11 "
(11" #
)11# $
;11$ %
cmd22 
.22 
Dispose22 #
(22# $
)22$ %
;22% &
cnn33 
.33 
Close33 !
(33! "
)33" #
;33# $
cnn44 
.44 
Dispose44 #
(44# $
)44$ %
;44% &
return66 
oListar66 &
;66& '
}77 
}88 
}99 
catch:: 
(:: 
	Exception:: 
ex:: 
)::  
{;; 
throw<< 
new<< 
	Exception<< #
(<<# $
ex<<$ &
.<<& '
Message<<' .
)<<. /
;<</ 0
}== 
}>> 	
public@@ 
List@@ 
<@@ 
RolSalaOperacionesE@@ '
>@@' (3
'Sp_RolSalaAdmisionHospitalaria_Consulta@@) P
(@@P Q
RolSalaOperacionesE@@Q d 
pRolsalaoperacionesE@@e y
)@@y z
{AA 	
IDataReaderBB 
drBB 
;BB 
RolSalaOperacionesECC  
oRolsalaoperacionesECC  4
;CC4 5
ListDD 
<DD 
RolSalaOperacionesEDD $
>DD$ %
oListarDD& -
=DD. /
newDD0 3
ListDD4 8
<DD8 9
RolSalaOperacionesEDD9 L
>DDL M
(DDM N
)DDN O
;DDO P
tryEE 
{FF 
usingGG 
(GG 
SqlConnectionGG $
cnnGG% (
=GG) *
newGG+ .
SqlConnectionGG/ <
(GG< =
VariablesGlobalesGG= N
.GGN O

CnnClinicaGGO Y
)GGY Z
)GGZ [
{HH 
usingII 
(II 

SqlCommandII %
cmdII& )
=II* +
newII, /

SqlCommandII0 :
(II: ;
$strII; d
,IId e
cnnIIf i
)IIi j
)IIj k
{JJ 
cmdKK 
.KK 
CommandTypeKK '
=KK( )
CommandTypeKK* 5
.KK5 6
StoredProcedureKK6 E
;KKE F
cmdMM 
.MM 

ParametersMM &
.MM& '
AddWithValueMM' 3
(MM3 4
$strMM4 C
,MMC D 
pRolsalaoperacionesEMME Y
.MMY Z
CodatencionMMZ e
)MMe f
;MMf g
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 B
,NNB C 
pRolsalaoperacionesENND X
.NNX Y

IdePrimaryNNY c
)NNc d
;NNd e
cmdOO 
.OO 

ParametersOO &
.OO& '
AddWithValueOO' 3
(OO3 4
$strOO4 <
,OO< = 
pRolsalaoperacionesEOO> R
.OOR S
OrdenOOS X
)OOX Y
;OOY Z
cnnPP 
.PP 
OpenPP  
(PP  !
)PP! "
;PP" #
drQQ 
=QQ 
cmdQQ  
.QQ  !
ExecuteReaderQQ! .
(QQ. /
)QQ/ 0
;QQ0 1
whileRR 
(RR 
drRR !
.RR! "
ReadRR" &
(RR& '
)RR' (
)RR( )
{SS  
oRolsalaoperacionesETT 0
=TT1 2
LlenarEntidadTT3 @
(TT@ A
drTTA C
,TTC D 
pRolsalaoperacionesETTE Y
)TTY Z
;TTZ [
oListarUU #
.UU# $
AddUU$ '
(UU' ( 
oRolsalaoperacionesEUU( <
)UU< =
;UU= >
}VV 
drWW 
.WW 
CloseWW  
(WW  !
)WW! "
;WW" #
drXX 
.XX 
DisposeXX "
(XX" #
)XX# $
;XX$ %
cmdYY 
.YY 
DisposeYY #
(YY# $
)YY$ %
;YY% &
cnnZZ 
.ZZ 
CloseZZ !
(ZZ! "
)ZZ" #
;ZZ# $
cnn[[ 
.[[ 
Dispose[[ #
([[# $
)[[$ %
;[[% &
return]] 
oListar]] &
;]]& '
}^^ 
}__ 
}`` 
catchaa 
(aa 
	Exceptionaa 
exaa 
)aa  
{bb 
throwcc 
newcc 
	Exceptioncc #
(cc# $
excc$ &
.cc& '
Messagecc' .
)cc. /
;cc/ 0
}dd 
}ee 	
publicgg 
boolgg (
Sp_Rolsalaoperaciones_Insertgg 0
(gg0 1
RolSalaOperacionesEgg1 D 
pRolsalaoperacionesEggE Y
)ggY Z
{hh 	
tryii 
{jj 
usingkk 
(kk 
SqlConnectionkk $
cnnkk% (
=kk) *
newkk+ .
SqlConnectionkk/ <
(kk< =
VariablesGlobaleskk= N
.kkN O

CnnClinicakkO Y
)kkY Z
)kkZ [
{ll 
usingmm 
(mm 

SqlCommandmm %
cmdmm& )
=mm* +
newmm, /

SqlCommandmm0 :
(mm: ;
$strmm; Y
,mmY Z
cnnmm[ ^
)mm^ _
)mm_ `
{nn 
cmdoo 
.oo 
CommandTypeoo '
=oo( )
CommandTypeoo* 5
.oo5 6
StoredProcedureoo6 E
;ooE F
cmdqq 
.qq 

Parametersqq &
.qq& '
AddWithValueqq' 3
(qq3 4
$strqq4 ;
,qq; < 
pRolsalaoperacionesEqq= Q
.qqQ R
SalaqqR V
)qqV W
;qqW X
cmdrr 
.rr 

Parametersrr &
.rr& '
AddWithValuerr' 3
(rr3 4
$strrr4 E
,rrE F 
pRolsalaoperacionesErrG [
.rr[ \
Fechaoperacionrr\ j
)rrj k
;rrk l
cmdss 
.ss 

Parametersss &
.ss& '
AddWithValuess' 3
(ss3 4
$strss4 A
,ssA B 
pRolsalaoperacionesEssC W
.ssW X

HorainiciossX b
)ssb c
;ssc d
cmdtt 
.tt 

Parameterstt &
.tt& '
AddWithValuett' 3
(tt3 4
$strtt4 >
,tt> ? 
pRolsalaoperacionesEtt@ T
.ttT U
HorafinttU \
)tt\ ]
;tt] ^
cmduu 
.uu 

Parametersuu &
.uu& '
AddWithValueuu' 3
(uu3 4
$struu4 B
,uuB C 
pRolsalaoperacionesEuuD X
.uuX Y
CodatencionuuY d
)uud e
;uue f
cmdvv 
.vv 

Parametersvv &
.vv& '
AddWithValuevv' 3
(vv3 4
$strvv4 =
,vv= > 
pRolsalaoperacionesEvv? S
.vvS T
EstadovvT Z
)vvZ [
;vv[ \
cmdww 
.ww 

Parametersww &
.ww& '
AddWithValueww' 3
(ww3 4
$strww4 @
,ww@ A 
pRolsalaoperacionesEwwB V
.wwV W
	OperacionwwW `
)ww` a
;wwa b
cmdxx 
.xx 

Parametersxx &
.xx& '
AddWithValuexx' 3
(xx3 4
$strxx4 D
,xxD E 
pRolsalaoperacionesExxF Z
.xxZ [
Codprestacionxx[ h
)xxh i
;xxi j
cmdyy 
.yy 

Parametersyy &
.yy& '
AddWithValueyy' 3
(yy3 4
$stryy4 @
,yy@ A 
pRolsalaoperacionesEyyB V
.yyV W
	AnestesiayyW `
)yy` a
;yya b
cmdzz 
.zz 

Parameterszz &
.zz& '
AddWithValuezz' 3
(zz3 4
$strzz4 A
,zzA B 
pRolsalaoperacionesEzzC W
.zzW X

EmergenciazzX b
)zzb c
;zzc d
cmd{{ 
.{{ 

Parameters{{ &
.{{& '
AddWithValue{{' 3
({{3 4
$str{{4 E
,{{E F 
pRolsalaoperacionesE{{G [
.{{[ \
Nombrepaciente{{\ j
){{j k
;{{k l
cmd|| 
.|| 

Parameters|| &
.||& '
AddWithValue||' 3
(||3 4
$str||4 ;
,||; < 
pRolsalaoperacionesE||= Q
.||Q R
Edad||R V
)||V W
;||W X
cmd}} 
.}} 

Parameters}} &
.}}& '
AddWithValue}}' 3
(}}3 4
$str}}4 =
,}}= > 
pRolsalaoperacionesE}}? S
.}}S T
Cuarto}}T Z
)}}Z [
;}}[ \
cmd~~ 
.~~ 

Parameters~~ &
.~~& '
AddWithValue~~' 3
(~~3 4
$str~~4 D
,~~D E 
pRolsalaoperacionesE~~F Z
.~~Z [
Observaciones~~[ h
)~~h i
;~~i j
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 E
,E F 
pRolsalaoperacionesEG [
.[ \
Horainicioreal\ j
)j k
;k l
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 B
,
ÄÄB C"
pRolsalaoperacionesE
ÄÄD X
.
ÄÄX Y
Horafinreal
ÄÄY d
)
ÄÄd e
;
ÄÄe f
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 G
,
ÅÅG H"
pRolsalaoperacionesE
ÅÅI ]
.
ÅÅ] ^
Muertexanestesia
ÅÅ^ n
)
ÅÅn o
;
ÅÅo p
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 G
,
ÇÇG H"
pRolsalaoperacionesE
ÇÇI ]
.
ÇÇ] ^
Tiempooperatorio
ÇÇ^ n
)
ÇÇn o
;
ÇÇo p
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 D
,
ÉÉD E"
pRolsalaoperacionesE
ÉÉF Z
.
ÉÉZ [
Tipoanestesia
ÉÉ[ h
)
ÉÉh i
;
ÉÉi j
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 C
,
ÑÑC D"
pRolsalaoperacionesE
ÑÑE Y
.
ÑÑY Z
Laparoscopia
ÑÑZ f
)
ÑÑf g
;
ÑÑg h
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 F
,
ÖÖF G"
pRolsalaoperacionesE
ÖÖH \
.
ÖÖ\ ]
Electrocauterio
ÖÖ] l
)
ÖÖl m
;
ÖÖm n
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 >
,
ÜÜ> ?"
pRolsalaoperacionesE
ÜÜ@ T
.
ÜÜT U
Oxigeno
ÜÜU \
)
ÜÜ\ ]
;
ÜÜ] ^
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 D
,
ááD E"
pRolsalaoperacionesE
ááF Z
.
ááZ [
Tiempooxigeno
áá[ h
)
ááh i
;
áái j
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 B
,
ààB C"
pRolsalaoperacionesE
ààD X
.
ààX Y
Codpresotor
ààY d
)
ààd e
;
ààe f
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 U
,
ââU V"
pRolsalaoperacionesE
ââW k
.
ââk l-
Complicacionesintraoperatoriasââl ä
)ââä ã
;ââã å
cmd
ää 
.
ää 

Parameters
ää &
.
ää& '
AddWithValue
ää' 3
(
ää3 4
$str
ää4 O
,
ääO P"
pRolsalaoperacionesE
ääQ e
.
ääe f&
Intquirurgicainnecesaria
ääf ~
)
ää~ 
;ää Ä
cmd
ãã 
.
ãã 

Parameters
ãã &
.
ãã& '
AddWithValue
ãã' 3
(
ãã3 4
$str
ãã4 L
,
ããL M"
pRolsalaoperacionesE
ããN b
.
ããb c"
ClasificacionCirugia
ããc w
)
ããw x
;
ããx y
cmd
åå 
.
åå 

Parameters
åå &
.
åå& '
AddWithValue
åå' 3
(
åå3 4
$str
åå4 C
,
ååC D"
pRolsalaoperacionesE
ååE Y
.
ååY Z
Reprogramado
ååZ f
)
ååf g
;
ååg h
cmd
çç 
.
çç 

Parameters
çç &
.
çç& '
AddWithValue
çç' 3
(
çç3 4
$str
çç4 D
,
ççD E"
pRolsalaoperacionesE
ççF Z
.
ççZ [
FlagSinfecha
çç[ g
)
ççg h
;
ççh i
cmd
éé 
.
éé 

Parameters
éé &
.
éé& '
AddWithValue
éé' 3
(
éé3 4
$str
éé4 E
,
ééE F"
pRolsalaoperacionesE
ééG [
.
éé[ \
RolsalaOrigen
éé\ i
)
ééi j
;
ééj k
cmd
èè 
.
èè 

Parameters
èè &
.
èè& '
AddWithValue
èè' 3
(
èè3 4
$str
èè4 A
,
èèA B"
pRolsalaoperacionesE
èèC W
.
èèW X

Derivacion
èèX b
)
èèb c
;
èèc d
cmd
êê 
.
êê 

Parameters
êê &
.
êê& '
AddWithValue
êê' 3
(
êê3 4
$str
êê4 >
,
êê> ?"
pRolsalaoperacionesE
êê@ T
.
êêT U
Anulado
êêU \
)
êê\ ]
;
êê] ^
cmd
ëë 
.
ëë 

Parameters
ëë &
.
ëë& '
AddWithValue
ëë' 3
(
ëë3 4
$str
ëë4 >
,
ëë> ?"
pRolsalaoperacionesE
ëë@ T
.
ëëT U
Externo
ëëU \
)
ëë\ ]
;
ëë] ^
cmd
íí 
.
íí 

Parameters
íí &
.
íí& '
AddWithValue
íí' 3
(
íí3 4
$str
íí4 ?
,
íí? @"
pRolsalaoperacionesE
ííA U
.
ííU V
UsuCrea
ííV ]
)
íí] ^
;
íí^ _
cmd
ìì 
.
ìì 

Parameters
ìì &
.
ìì& '
AddWithValue
ìì' 3
(
ìì3 4
$str
ìì4 C
,
ììC D"
pRolsalaoperacionesE
ììE Y
.
ììY Z
UsuModifica
ììZ e
)
ììe f
;
ììf g
cmd
îî 
.
îî 

Parameters
îî &
.
îî& '
AddWithValue
îî' 3
(
îî3 4
$str
îî4 E
,
îîE F"
pRolsalaoperacionesE
îîG [
.
îî[ \
UsuReprograma
îî\ i
)
îîi j
;
îîj k
cmd
ïï 
.
ïï 

Parameters
ïï &
.
ïï& '
AddWithValue
ïï' 3
(
ïï3 4
$str
ïï4 B
,
ïïB C"
pRolsalaoperacionesE
ïïD X
.
ïïX Y

UsuRealiza
ïïY c
)
ïïc d
;
ïïd e
cmd
ññ 
.
ññ 

Parameters
ññ &
.
ññ& '
AddWithValue
ññ' 3
(
ññ3 4
$str
ññ4 @
,
ññ@ A"
pRolsalaoperacionesE
ññB V
.
ññV W
UsuAnula
ññW _
)
ññ_ `
;
ññ` a
cmd
óó 
.
óó 

Parameters
óó &
.
óó& '
AddWithValue
óó' 3
(
óó3 4
$str
óó4 ?
,
óó? @"
pRolsalaoperacionesE
óóA U
.
óóU V
FecCrea
óóV ]
)
óó] ^
;
óó^ _
cmd
òò 
.
òò 

Parameters
òò &
.
òò& '
AddWithValue
òò' 3
(
òò3 4
$str
òò4 E
,
òòE F"
pRolsalaoperacionesE
òòG [
.
òò[ \
FecReprograma
òò\ i
)
òòi j
;
òòj k
cmd
ôô 
.
ôô 

Parameters
ôô &
.
ôô& '
AddWithValue
ôô' 3
(
ôô3 4
$str
ôô4 B
,
ôôB C"
pRolsalaoperacionesE
ôôD X
.
ôôX Y

FecRealiza
ôôY c
)
ôôc d
;
ôôd e
cmd
öö 
.
öö 

Parameters
öö &
.
öö& '
AddWithValue
öö' 3
(
öö3 4
$str
öö4 @
,
öö@ A"
pRolsalaoperacionesE
ööB V
.
ööV W
FecAnula
ööW _
)
öö_ `
;
öö` a
cmd
õõ 
.
õõ 

Parameters
õõ &
.
õõ& '
AddWithValue
õõ' 3
(
õõ3 4
$str
õõ4 C
,
õõC D"
pRolsalaoperacionesE
õõE Y
.
õõY Z
FecModifica
õõZ e
)
õõe f
;
õõf g
cmd
úú 
.
úú 

Parameters
úú &
.
úú& '
AddWithValue
úú' 3
(
úú3 4
$str
úú4 H
,
úúH I"
pRolsalaoperacionesE
úúJ ^
.
úú^ _
FlagRecuperacion
úú_ o
)
úúo p
;
úúp q
cmd
ùù 
.
ùù 

Parameters
ùù &
.
ùù& '
AddWithValue
ùù' 3
(
ùù3 4
$str
ùù4 C
,
ùùC D"
pRolsalaoperacionesE
ùùE Y
.
ùùY Z
Noprogramado
ùùZ f
)
ùùf g
;
ùùg h
cmd
ûû 
.
ûû 

Parameters
ûû &
.
ûû& '
AddWithValue
ûû' 3
(
ûû3 4
$str
ûû4 <
,
ûû< ="
pRolsalaoperacionesE
ûû> R
.
ûûR S
Parto
ûûS X
)
ûûX Y
;
ûûY Z
cmd
üü 
.
üü 

Parameters
üü &
.
üü& '
AddWithValue
üü' 3
(
üü3 4
$str
üü4 @
,
üü@ A"
pRolsalaoperacionesE
üüB V
.
üüV W
	Tipoparto
üüW `
)
üü` a
;
üüa b
cmd
†† 
.
†† 

Parameters
†† &
.
††& '
AddWithValue
††' 3
(
††3 4
$str
††4 >
,
††> ?"
pRolsalaoperacionesE
††@ T
.
††T U
Cesarea
††U \
)
††\ ]
;
††] ^
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 E
,
°°E F"
pRolsalaoperacionesE
°°G [
.
°°[ \
TurnoNocturno
°°\ i
)
°°i j
;
°°j k
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ &
.
¢¢& '
AddWithValue
¢¢' 3
(
¢¢3 4
$str
¢¢4 I
,
¢¢I J"
pRolsalaoperacionesE
¢¢K _
.
¢¢_ ` 
Videolaringoscopio
¢¢` r
)
¢¢r s
;
¢¢s t
cmd
££ 
.
££ 

Parameters
££ &
.
££& '
AddWithValue
££' 3
(
££3 4
$str
££4 E
,
££E F"
pRolsalaoperacionesE
££G [
.
££[ \
Codpresupuesto
££\ j
)
££j k
;
££k l
cmd
§§ 
.
§§ 

Parameters
§§ &
.
§§& '
AddWithValue
§§' 3
(
§§3 4
$str
§§4 =
,
§§= >"
pRolsalaoperacionesE
§§? S
.
§§S T
Correo
§§T Z
)
§§Z [
;
§§[ \
cmd
•• 
.
•• 

Parameters
•• &
.
••& '
AddWithValue
••' 3
(
••3 4
$str
••4 L
,
••L M"
pRolsalaoperacionesE
••N b
.
••b c#
Horainiactoquirurgico
••c x
)
••x y
;
••y z
cmd
¶¶ 
.
¶¶ 

Parameters
¶¶ &
.
¶¶& '
AddWithValue
¶¶' 3
(
¶¶3 4
$str
¶¶4 K
,
¶¶K L"
pRolsalaoperacionesE
¶¶M a
.
¶¶a b"
Horafinactoquirugico
¶¶b v
)
¶¶v w
;
¶¶w x
cmd
ßß 
.
ßß 

Parameters
ßß &
.
ßß& '
AddWithValue
ßß' 3
(
ßß3 4
$str
ßß4 @
,
ßß@ A"
pRolsalaoperacionesE
ßßB V
.
ßßV W
TipoSala
ßßW _
)
ßß_ `
;
ßß` a
cmd
®® 
.
®® 

Parameters
®® &
.
®®& '
AddWithValue
®®' 3
(
®®3 4
$str
®®4 G
,
®®G H"
pRolsalaoperacionesE
®®I ]
.
®®] ^
FlagComplejidad
®®^ m
)
®®m n
;
®®n o
cmd
©© 
.
©© 

Parameters
©© &
.
©©& '
AddWithValue
©©' 3
(
©©3 4
$str
©©4 E
,
©©E F"
pRolsalaoperacionesE
©©G [
.
©©[ \
TipoOperacion
©©\ i
)
©©i j
;
©©j k
cmd
™™ 
.
™™ 

Parameters
™™ &
.
™™& '
Add
™™' *
(
™™* +
VariablesGlobales
™™+ <
.
™™< =
ParametroSql
™™= I
(
™™I J
$str
™™J W
,
™™W X 
ParameterDirection
™™Y k
.
™™k l
InputOutput
™™l w
,
™™w x
	SqlDbType™™y Ç
.™™Ç É
BigInt™™É â
,™™â ä
$num™™ã å
,™™å ç$
pRolsalaoperacionesE™™é ¢
.™™¢ £

Codrolsala™™£ ≠
.™™≠ Æ
ToString™™Æ ∂
(™™∂ ∑
)™™∑ ∏
)™™∏ π
)™™π ∫
;™™∫ ª
cnn
´´ 
.
´´ 
Open
´´  
(
´´  !
)
´´! "
;
´´" #
if
¨¨ 
(
¨¨ 
cmd
¨¨ 
.
¨¨  
ExecuteNonQuery
¨¨  /
(
¨¨/ 0
)
¨¨0 1
>=
¨¨2 4
$num
¨¨5 6
)
¨¨6 7
{
≠≠ "
pRolsalaoperacionesE
ÆÆ 0
.
ÆÆ0 1

Codrolsala
ÆÆ1 ;
=
ÆÆ< =
(
ÆÆ> ?
decimal
ÆÆ? F
)
ÆÆF G
cmd
ÆÆG J
.
ÆÆJ K

Parameters
ÆÆK U
[
ÆÆU V
$str
ÆÆV c
]
ÆÆc d
.
ÆÆd e
Value
ÆÆe j
;
ÆÆj k
cmd
∞∞ 
.
∞∞  
Dispose
∞∞  '
(
∞∞' (
)
∞∞( )
;
∞∞) *
cnn
±± 
.
±±  
Close
±±  %
(
±±% &
)
±±& '
;
±±' (
cnn
≤≤ 
.
≤≤  
Dispose
≤≤  '
(
≤≤' (
)
≤≤( )
;
≤≤) *
return
≥≥ "
true
≥≥# '
;
≥≥' (
}
¥¥ 
else
µµ 
{
∂∂ 
cmd
∑∑ 
.
∑∑  
Dispose
∑∑  '
(
∑∑' (
)
∑∑( )
;
∑∑) *
cnn
∏∏ 
.
∏∏  
Close
∏∏  %
(
∏∏% &
)
∏∏& '
;
∏∏' (
cnn
ππ 
.
ππ  
Dispose
ππ  '
(
ππ' (
)
ππ( )
;
ππ) *
return
∫∫ "
false
∫∫# (
;
∫∫( )
}
ªª 
}
ΩΩ 
}
ææ 
}
øø 
catch
¿¿ 
(
¿¿ 
	Exception
¿¿ 
ex
¿¿ 
)
¿¿  
{
¡¡ 
throw
¬¬ 
new
¬¬ 
	Exception
¬¬ #
(
¬¬# $
ex
¬¬$ &
.
¬¬& '
Message
¬¬' .
)
¬¬. /
;
¬¬/ 0
}
√√ 
}
ƒƒ 	
public
∆∆ 
bool
∆∆ *
Sp_Rolsalaoperaciones_Update
∆∆ 0
(
∆∆0 1!
RolSalaOperacionesE
∆∆1 D"
pRolsalaoperacionesE
∆∆E Y
)
∆∆Y Z
{
«« 	
try
»» 
{
…… 
using
   
(
   
SqlConnection
   $
cnn
  % (
=
  ) *
new
  + .
SqlConnection
  / <
(
  < =
VariablesGlobales
  = N
.
  N O

CnnClinica
  O Y
)
  Y Z
)
  Z [
{
ÀÀ 
using
ÃÃ 
(
ÃÃ 

SqlCommand
ÃÃ %
cmd
ÃÃ& )
=
ÃÃ* +
new
ÃÃ, /

SqlCommand
ÃÃ0 :
(
ÃÃ: ;
$str
ÃÃ; Y
,
ÃÃY Z
cnn
ÃÃ[ ^
)
ÃÃ^ _
)
ÃÃ_ `
{
ÕÕ 
cmd
ŒŒ 
.
ŒŒ 
CommandType
ŒŒ '
=
ŒŒ( )
CommandType
ŒŒ* 5
.
ŒŒ5 6
StoredProcedure
ŒŒ6 E
;
ŒŒE F
cmd
–– 
.
–– 

Parameters
–– &
.
––& '
AddWithValue
––' 3
(
––3 4
$str
––4 ;
,
––; <"
pRolsalaoperacionesE
––= Q
.
––Q R
Sala
––R V
)
––V W
;
––W X
cmd
—— 
.
—— 

Parameters
—— &
.
——& '
AddWithValue
——' 3
(
——3 4
$str
——4 E
,
——E F"
pRolsalaoperacionesE
——G [
.
——[ \
Fechaoperacion
——\ j
)
——j k
;
——k l
cmd
““ 
.
““ 

Parameters
““ &
.
““& '
AddWithValue
““' 3
(
““3 4
$str
““4 A
,
““A B"
pRolsalaoperacionesE
““C W
.
““W X

Horainicio
““X b
)
““b c
;
““c d
cmd
”” 
.
”” 

Parameters
”” &
.
””& '
AddWithValue
””' 3
(
””3 4
$str
””4 >
,
””> ?"
pRolsalaoperacionesE
””@ T
.
””T U
Horafin
””U \
)
””\ ]
;
””] ^
cmd
‘‘ 
.
‘‘ 

Parameters
‘‘ &
.
‘‘& '
AddWithValue
‘‘' 3
(
‘‘3 4
$str
‘‘4 B
,
‘‘B C"
pRolsalaoperacionesE
‘‘D X
.
‘‘X Y
Codatencion
‘‘Y d
)
‘‘d e
;
‘‘e f
cmd
’’ 
.
’’ 

Parameters
’’ &
.
’’& '
AddWithValue
’’' 3
(
’’3 4
$str
’’4 =
,
’’= >"
pRolsalaoperacionesE
’’? S
.
’’S T
Estado
’’T Z
)
’’Z [
;
’’[ \
cmd
÷÷ 
.
÷÷ 

Parameters
÷÷ &
.
÷÷& '
AddWithValue
÷÷' 3
(
÷÷3 4
$str
÷÷4 @
,
÷÷@ A"
pRolsalaoperacionesE
÷÷B V
.
÷÷V W
	Operacion
÷÷W `
)
÷÷` a
;
÷÷a b
cmd
◊◊ 
.
◊◊ 

Parameters
◊◊ &
.
◊◊& '
AddWithValue
◊◊' 3
(
◊◊3 4
$str
◊◊4 D
,
◊◊D E"
pRolsalaoperacionesE
◊◊F Z
.
◊◊Z [
Codprestacion
◊◊[ h
)
◊◊h i
;
◊◊i j
cmd
ÿÿ 
.
ÿÿ 

Parameters
ÿÿ &
.
ÿÿ& '
AddWithValue
ÿÿ' 3
(
ÿÿ3 4
$str
ÿÿ4 @
,
ÿÿ@ A"
pRolsalaoperacionesE
ÿÿB V
.
ÿÿV W
	Anestesia
ÿÿW `
)
ÿÿ` a
;
ÿÿa b
cmd
ŸŸ 
.
ŸŸ 

Parameters
ŸŸ &
.
ŸŸ& '
AddWithValue
ŸŸ' 3
(
ŸŸ3 4
$str
ŸŸ4 A
,
ŸŸA B"
pRolsalaoperacionesE
ŸŸC W
.
ŸŸW X

Emergencia
ŸŸX b
)
ŸŸb c
;
ŸŸc d
cmd
⁄⁄ 
.
⁄⁄ 

Parameters
⁄⁄ &
.
⁄⁄& '
AddWithValue
⁄⁄' 3
(
⁄⁄3 4
$str
⁄⁄4 E
,
⁄⁄E F"
pRolsalaoperacionesE
⁄⁄G [
.
⁄⁄[ \
Nombrepaciente
⁄⁄\ j
)
⁄⁄j k
;
⁄⁄k l
cmd
€€ 
.
€€ 

Parameters
€€ &
.
€€& '
AddWithValue
€€' 3
(
€€3 4
$str
€€4 ;
,
€€; <"
pRolsalaoperacionesE
€€= Q
.
€€Q R
Edad
€€R V
)
€€V W
;
€€W X
cmd
‹‹ 
.
‹‹ 

Parameters
‹‹ &
.
‹‹& '
AddWithValue
‹‹' 3
(
‹‹3 4
$str
‹‹4 =
,
‹‹= >"
pRolsalaoperacionesE
‹‹? S
.
‹‹S T
Cuarto
‹‹T Z
)
‹‹Z [
;
‹‹[ \
cmd
›› 
.
›› 

Parameters
›› &
.
››& '
AddWithValue
››' 3
(
››3 4
$str
››4 D
,
››D E"
pRolsalaoperacionesE
››F Z
.
››Z [
Observaciones
››[ h
)
››h i
;
››i j
cmd
ﬁﬁ 
.
ﬁﬁ 

Parameters
ﬁﬁ &
.
ﬁﬁ& '
AddWithValue
ﬁﬁ' 3
(
ﬁﬁ3 4
$str
ﬁﬁ4 E
,
ﬁﬁE F"
pRolsalaoperacionesE
ﬁﬁG [
.
ﬁﬁ[ \
Horainicioreal
ﬁﬁ\ j
)
ﬁﬁj k
;
ﬁﬁk l
cmd
ﬂﬂ 
.
ﬂﬂ 

Parameters
ﬂﬂ &
.
ﬂﬂ& '
AddWithValue
ﬂﬂ' 3
(
ﬂﬂ3 4
$str
ﬂﬂ4 B
,
ﬂﬂB C"
pRolsalaoperacionesE
ﬂﬂD X
.
ﬂﬂX Y
Horafinreal
ﬂﬂY d
)
ﬂﬂd e
;
ﬂﬂe f
cmd
‡‡ 
.
‡‡ 

Parameters
‡‡ &
.
‡‡& '
AddWithValue
‡‡' 3
(
‡‡3 4
$str
‡‡4 G
,
‡‡G H"
pRolsalaoperacionesE
‡‡I ]
.
‡‡] ^
Muertexanestesia
‡‡^ n
)
‡‡n o
;
‡‡o p
cmd
·· 
.
·· 

Parameters
·· &
.
··& '
AddWithValue
··' 3
(
··3 4
$str
··4 G
,
··G H"
pRolsalaoperacionesE
··I ]
.
··] ^
Tiempooperatorio
··^ n
)
··n o
;
··o p
cmd
‚‚ 
.
‚‚ 

Parameters
‚‚ &
.
‚‚& '
AddWithValue
‚‚' 3
(
‚‚3 4
$str
‚‚4 D
,
‚‚D E"
pRolsalaoperacionesE
‚‚F Z
.
‚‚Z [
Tipoanestesia
‚‚[ h
)
‚‚h i
;
‚‚i j
cmd
„„ 
.
„„ 

Parameters
„„ &
.
„„& '
AddWithValue
„„' 3
(
„„3 4
$str
„„4 C
,
„„C D"
pRolsalaoperacionesE
„„E Y
.
„„Y Z
Laparoscopia
„„Z f
)
„„f g
;
„„g h
cmd
‰‰ 
.
‰‰ 

Parameters
‰‰ &
.
‰‰& '
AddWithValue
‰‰' 3
(
‰‰3 4
$str
‰‰4 F
,
‰‰F G"
pRolsalaoperacionesE
‰‰H \
.
‰‰\ ]
Electrocauterio
‰‰] l
)
‰‰l m
;
‰‰m n
cmd
ÂÂ 
.
ÂÂ 

Parameters
ÂÂ &
.
ÂÂ& '
AddWithValue
ÂÂ' 3
(
ÂÂ3 4
$str
ÂÂ4 >
,
ÂÂ> ?"
pRolsalaoperacionesE
ÂÂ@ T
.
ÂÂT U
Oxigeno
ÂÂU \
)
ÂÂ\ ]
;
ÂÂ] ^
cmd
ÊÊ 
.
ÊÊ 

Parameters
ÊÊ &
.
ÊÊ& '
AddWithValue
ÊÊ' 3
(
ÊÊ3 4
$str
ÊÊ4 D
,
ÊÊD E"
pRolsalaoperacionesE
ÊÊF Z
.
ÊÊZ [
Tiempooxigeno
ÊÊ[ h
)
ÊÊh i
;
ÊÊi j
cmd
ÁÁ 
.
ÁÁ 

Parameters
ÁÁ &
.
ÁÁ& '
AddWithValue
ÁÁ' 3
(
ÁÁ3 4
$str
ÁÁ4 B
,
ÁÁB C"
pRolsalaoperacionesE
ÁÁD X
.
ÁÁX Y
Codpresotor
ÁÁY d
)
ÁÁd e
;
ÁÁe f
cmd
ËË 
.
ËË 

Parameters
ËË &
.
ËË& '
AddWithValue
ËË' 3
(
ËË3 4
$str
ËË4 U
,
ËËU V"
pRolsalaoperacionesE
ËËW k
.
ËËk l-
ComplicacionesintraoperatoriasËËl ä
)ËËä ã
;ËËã å
cmd
ÈÈ 
.
ÈÈ 

Parameters
ÈÈ &
.
ÈÈ& '
AddWithValue
ÈÈ' 3
(
ÈÈ3 4
$str
ÈÈ4 O
,
ÈÈO P"
pRolsalaoperacionesE
ÈÈQ e
.
ÈÈe f&
Intquirurgicainnecesaria
ÈÈf ~
)
ÈÈ~ 
;ÈÈ Ä
cmd
ÍÍ 
.
ÍÍ 

Parameters
ÍÍ &
.
ÍÍ& '
AddWithValue
ÍÍ' 3
(
ÍÍ3 4
$str
ÍÍ4 L
,
ÍÍL M"
pRolsalaoperacionesE
ÍÍN b
.
ÍÍb c"
ClasificacionCirugia
ÍÍc w
)
ÍÍw x
;
ÍÍx y
cmd
ÎÎ 
.
ÎÎ 

Parameters
ÎÎ &
.
ÎÎ& '
AddWithValue
ÎÎ' 3
(
ÎÎ3 4
$str
ÎÎ4 C
,
ÎÎC D"
pRolsalaoperacionesE
ÎÎE Y
.
ÎÎY Z
Reprogramado
ÎÎZ f
)
ÎÎf g
;
ÎÎg h
cmd
ÏÏ 
.
ÏÏ 

Parameters
ÏÏ &
.
ÏÏ& '
AddWithValue
ÏÏ' 3
(
ÏÏ3 4
$str
ÏÏ4 D
,
ÏÏD E"
pRolsalaoperacionesE
ÏÏF Z
.
ÏÏZ [
FlagSinfecha
ÏÏ[ g
)
ÏÏg h
;
ÏÏh i
cmd
ÌÌ 
.
ÌÌ 

Parameters
ÌÌ &
.
ÌÌ& '
AddWithValue
ÌÌ' 3
(
ÌÌ3 4
$str
ÌÌ4 E
,
ÌÌE F"
pRolsalaoperacionesE
ÌÌG [
.
ÌÌ[ \
RolsalaOrigen
ÌÌ\ i
)
ÌÌi j
;
ÌÌj k
cmd
ÓÓ 
.
ÓÓ 

Parameters
ÓÓ &
.
ÓÓ& '
AddWithValue
ÓÓ' 3
(
ÓÓ3 4
$str
ÓÓ4 A
,
ÓÓA B"
pRolsalaoperacionesE
ÓÓC W
.
ÓÓW X

Derivacion
ÓÓX b
)
ÓÓb c
;
ÓÓc d
cmd
ÔÔ 
.
ÔÔ 

Parameters
ÔÔ &
.
ÔÔ& '
AddWithValue
ÔÔ' 3
(
ÔÔ3 4
$str
ÔÔ4 >
,
ÔÔ> ?"
pRolsalaoperacionesE
ÔÔ@ T
.
ÔÔT U
Anulado
ÔÔU \
)
ÔÔ\ ]
;
ÔÔ] ^
cmd
 
.
 

Parameters
 &
.
& '
AddWithValue
' 3
(
3 4
$str
4 >
,
> ?"
pRolsalaoperacionesE
@ T
.
T U
Externo
U \
)
\ ]
;
] ^
cmd
ÒÒ 
.
ÒÒ 

Parameters
ÒÒ &
.
ÒÒ& '
AddWithValue
ÒÒ' 3
(
ÒÒ3 4
$str
ÒÒ4 ?
,
ÒÒ? @"
pRolsalaoperacionesE
ÒÒA U
.
ÒÒU V
UsuCrea
ÒÒV ]
)
ÒÒ] ^
;
ÒÒ^ _
cmd
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ &
.
ÚÚ& '
AddWithValue
ÚÚ' 3
(
ÚÚ3 4
$str
ÚÚ4 C
,
ÚÚC D"
pRolsalaoperacionesE
ÚÚE Y
.
ÚÚY Z
UsuModifica
ÚÚZ e
)
ÚÚe f
;
ÚÚf g
cmd
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ &
.
ÛÛ& '
AddWithValue
ÛÛ' 3
(
ÛÛ3 4
$str
ÛÛ4 E
,
ÛÛE F"
pRolsalaoperacionesE
ÛÛG [
.
ÛÛ[ \
UsuReprograma
ÛÛ\ i
)
ÛÛi j
;
ÛÛj k
cmd
ÙÙ 
.
ÙÙ 

Parameters
ÙÙ &
.
ÙÙ& '
AddWithValue
ÙÙ' 3
(
ÙÙ3 4
$str
ÙÙ4 B
,
ÙÙB C"
pRolsalaoperacionesE
ÙÙD X
.
ÙÙX Y

UsuRealiza
ÙÙY c
)
ÙÙc d
;
ÙÙd e
cmd
ıı 
.
ıı 

Parameters
ıı &
.
ıı& '
AddWithValue
ıı' 3
(
ıı3 4
$str
ıı4 @
,
ıı@ A"
pRolsalaoperacionesE
ııB V
.
ııV W
UsuAnula
ııW _
)
ıı_ `
;
ıı` a
cmd
ˆˆ 
.
ˆˆ 

Parameters
ˆˆ &
.
ˆˆ& '
AddWithValue
ˆˆ' 3
(
ˆˆ3 4
$str
ˆˆ4 ?
,
ˆˆ? @"
pRolsalaoperacionesE
ˆˆA U
.
ˆˆU V
FecCrea
ˆˆV ]
)
ˆˆ] ^
;
ˆˆ^ _
cmd
˜˜ 
.
˜˜ 

Parameters
˜˜ &
.
˜˜& '
AddWithValue
˜˜' 3
(
˜˜3 4
$str
˜˜4 E
,
˜˜E F"
pRolsalaoperacionesE
˜˜G [
.
˜˜[ \
FecReprograma
˜˜\ i
)
˜˜i j
;
˜˜j k
cmd
¯¯ 
.
¯¯ 

Parameters
¯¯ &
.
¯¯& '
AddWithValue
¯¯' 3
(
¯¯3 4
$str
¯¯4 B
,
¯¯B C"
pRolsalaoperacionesE
¯¯D X
.
¯¯X Y

FecRealiza
¯¯Y c
)
¯¯c d
;
¯¯d e
cmd
˘˘ 
.
˘˘ 

Parameters
˘˘ &
.
˘˘& '
AddWithValue
˘˘' 3
(
˘˘3 4
$str
˘˘4 @
,
˘˘@ A"
pRolsalaoperacionesE
˘˘B V
.
˘˘V W
FecAnula
˘˘W _
)
˘˘_ `
;
˘˘` a
cmd
˙˙ 
.
˙˙ 

Parameters
˙˙ &
.
˙˙& '
AddWithValue
˙˙' 3
(
˙˙3 4
$str
˙˙4 C
,
˙˙C D"
pRolsalaoperacionesE
˙˙E Y
.
˙˙Y Z
FecModifica
˙˙Z e
)
˙˙e f
;
˙˙f g
cmd
˚˚ 
.
˚˚ 

Parameters
˚˚ &
.
˚˚& '
AddWithValue
˚˚' 3
(
˚˚3 4
$str
˚˚4 H
,
˚˚H I"
pRolsalaoperacionesE
˚˚J ^
.
˚˚^ _
FlagRecuperacion
˚˚_ o
)
˚˚o p
;
˚˚p q
cmd
¸¸ 
.
¸¸ 

Parameters
¸¸ &
.
¸¸& '
AddWithValue
¸¸' 3
(
¸¸3 4
$str
¸¸4 C
,
¸¸C D"
pRolsalaoperacionesE
¸¸E Y
.
¸¸Y Z
Noprogramado
¸¸Z f
)
¸¸f g
;
¸¸g h
cmd
˝˝ 
.
˝˝ 

Parameters
˝˝ &
.
˝˝& '
AddWithValue
˝˝' 3
(
˝˝3 4
$str
˝˝4 <
,
˝˝< ="
pRolsalaoperacionesE
˝˝> R
.
˝˝R S
Parto
˝˝S X
)
˝˝X Y
;
˝˝Y Z
cmd
˛˛ 
.
˛˛ 

Parameters
˛˛ &
.
˛˛& '
AddWithValue
˛˛' 3
(
˛˛3 4
$str
˛˛4 @
,
˛˛@ A"
pRolsalaoperacionesE
˛˛B V
.
˛˛V W
	Tipoparto
˛˛W `
)
˛˛` a
;
˛˛a b
cmd
ˇˇ 
.
ˇˇ 

Parameters
ˇˇ &
.
ˇˇ& '
AddWithValue
ˇˇ' 3
(
ˇˇ3 4
$str
ˇˇ4 >
,
ˇˇ> ?"
pRolsalaoperacionesE
ˇˇ@ T
.
ˇˇT U
Cesarea
ˇˇU \
)
ˇˇ\ ]
;
ˇˇ] ^
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 E
,
ÄÄE F"
pRolsalaoperacionesE
ÄÄG [
.
ÄÄ[ \
TurnoNocturno
ÄÄ\ i
)
ÄÄi j
;
ÄÄj k
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 I
,
ÅÅI J"
pRolsalaoperacionesE
ÅÅK _
.
ÅÅ_ ` 
Videolaringoscopio
ÅÅ` r
)
ÅÅr s
;
ÅÅs t
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 E
,
ÇÇE F"
pRolsalaoperacionesE
ÇÇG [
.
ÇÇ[ \
Codpresupuesto
ÇÇ\ j
)
ÇÇj k
;
ÇÇk l
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ &
.
ÉÉ& '
AddWithValue
ÉÉ' 3
(
ÉÉ3 4
$str
ÉÉ4 =
,
ÉÉ= >"
pRolsalaoperacionesE
ÉÉ? S
.
ÉÉS T
Correo
ÉÉT Z
)
ÉÉZ [
;
ÉÉ[ \
cmd
ÑÑ 
.
ÑÑ 

Parameters
ÑÑ &
.
ÑÑ& '
AddWithValue
ÑÑ' 3
(
ÑÑ3 4
$str
ÑÑ4 L
,
ÑÑL M"
pRolsalaoperacionesE
ÑÑN b
.
ÑÑb c#
Horainiactoquirurgico
ÑÑc x
)
ÑÑx y
;
ÑÑy z
cmd
ÖÖ 
.
ÖÖ 

Parameters
ÖÖ &
.
ÖÖ& '
AddWithValue
ÖÖ' 3
(
ÖÖ3 4
$str
ÖÖ4 K
,
ÖÖK L"
pRolsalaoperacionesE
ÖÖM a
.
ÖÖa b"
Horafinactoquirugico
ÖÖb v
)
ÖÖv w
;
ÖÖw x
cmd
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ &
.
ÜÜ& '
AddWithValue
ÜÜ' 3
(
ÜÜ3 4
$str
ÜÜ4 @
,
ÜÜ@ A"
pRolsalaoperacionesE
ÜÜB V
.
ÜÜV W
TipoSala
ÜÜW _
)
ÜÜ_ `
;
ÜÜ` a
cmd
áá 
.
áá 

Parameters
áá &
.
áá& '
AddWithValue
áá' 3
(
áá3 4
$str
áá4 G
,
ááG H"
pRolsalaoperacionesE
ááI ]
.
áá] ^
FlagComplejidad
áá^ m
)
áám n
;
áán o
cmd
àà 
.
àà 

Parameters
àà &
.
àà& '
AddWithValue
àà' 3
(
àà3 4
$str
àà4 E
,
ààE F"
pRolsalaoperacionesE
ààG [
.
àà[ \
TipoOperacion
àà\ i
)
àài j
;
ààj k
cmd
ââ 
.
ââ 

Parameters
ââ &
.
ââ& '
AddWithValue
ââ' 3
(
ââ3 4
$str
ââ4 A
,
ââA B"
pRolsalaoperacionesE
ââC W
.
ââW X

Codrolsala
ââX b
)
ââb c
;
ââc d
cnn
ää 
.
ää 
Open
ää  
(
ää  !
)
ää! "
;
ää" #
int
åå 
	rowResult
åå %
=
åå& '
cmd
åå( +
.
åå+ ,
ExecuteNonQuery
åå, ;
(
åå; <
)
åå< =
;
åå= >
cmd
çç 
.
çç 
Dispose
çç #
(
çç# $
)
çç$ %
;
çç% &
cnn
éé 
.
éé 
Close
éé !
(
éé! "
)
éé" #
;
éé# $
cnn
èè 
.
èè 
Dispose
èè #
(
èè# $
)
èè$ %
;
èè% &
if
ëë 
(
ëë 
	rowResult
ëë %
>=
ëë& (
$num
ëë) *
)
ëë* +
return
íí "
true
íí# '
;
íí' (
else
ìì 
return
îî "
false
îî# (
;
îî( )
}
ññ 
}
óó 
}
òò 
catch
ôô 
(
ôô 
	Exception
ôô 
ex
ôô 
)
ôô  
{
öö 
throw
õõ 
new
õõ 
	Exception
õõ #
(
õõ# $
ex
õõ$ &
.
õõ& '
Message
õõ' .
)
õõ. /
;
õõ/ 0
}
úú 
}
ùù 	
public
üü 
bool
üü 0
"Sp_Rolsalaoperaciones_UpdatexCampo
üü 6
(
üü6 7!
RolSalaOperacionesE
üü7 J"
pRolsalaoperacionesE
üüK _
)
üü_ `
{
†† 	
try
°° 
{
¢¢ 
using
££ 
(
££ 
SqlConnection
££ $
cnn
££% (
=
££) *
new
££+ .
SqlConnection
££/ <
(
££< =
VariablesGlobales
££= N
.
££N O

CnnClinica
££O Y
)
££Y Z
)
££Z [
{
§§ 
using
•• 
(
•• 

SqlCommand
•• %
cmd
••& )
=
••* +
new
••, /

SqlCommand
••0 :
(
••: ;
$str
••; _
,
••_ `
cnn
••a d
)
••d e
)
••e f
{
¶¶ 
cmd
ßß 
.
ßß 
CommandType
ßß '
=
ßß( )
CommandType
ßß* 5
.
ßß5 6
StoredProcedure
ßß6 E
;
ßßE F
cmd
©© 
.
©© 

Parameters
©© &
.
©©& '
AddWithValue
©©' 3
(
©©3 4
$str
©©4 A
,
©©A B"
pRolsalaoperacionesE
©©C W
.
©©W X

Codrolsala
©©X b
)
©©b c
;
©©c d
cmd
™™ 
.
™™ 

Parameters
™™ &
.
™™& '
AddWithValue
™™' 3
(
™™3 4
$str
™™4 B
,
™™B C"
pRolsalaoperacionesE
™™D X
.
™™X Y

NuevoValor
™™Y c
)
™™c d
;
™™d e
cmd
´´ 
.
´´ 

Parameters
´´ &
.
´´& '
AddWithValue
´´' 3
(
´´3 4
$str
´´4 <
,
´´< ="
pRolsalaoperacionesE
´´> R
.
´´R S
Campo
´´S X
)
´´X Y
;
´´Y Z
cnn
¨¨ 
.
¨¨ 
Open
¨¨  
(
¨¨  !
)
¨¨! "
;
¨¨" #
int
ÆÆ 
	rowResult
ÆÆ %
=
ÆÆ& '
cmd
ÆÆ( +
.
ÆÆ+ ,
ExecuteNonQuery
ÆÆ, ;
(
ÆÆ; <
)
ÆÆ< =
;
ÆÆ= >
cmd
ØØ 
.
ØØ 
Dispose
ØØ #
(
ØØ# $
)
ØØ$ %
;
ØØ% &
cnn
∞∞ 
.
∞∞ 
Close
∞∞ !
(
∞∞! "
)
∞∞" #
;
∞∞# $
cnn
±± 
.
±± 
Dispose
±± #
(
±±# $
)
±±$ %
;
±±% &
if
≥≥ 
(
≥≥ 
	rowResult
≥≥ %
>=
≥≥& (
$num
≥≥) *
)
≥≥* +
return
¥¥ "
true
¥¥# '
;
¥¥' (
else
µµ 
return
∂∂ "
false
∂∂# (
;
∂∂( )
}
∏∏ 
}
ππ 
}
∫∫ 
catch
ªª 
(
ªª 
	Exception
ªª 
ex
ªª 
)
ªª  
{
ºº 
throw
ΩΩ 
new
ΩΩ 
	Exception
ΩΩ #
(
ΩΩ# $
ex
ΩΩ$ &
.
ΩΩ& '
Message
ΩΩ' .
)
ΩΩ. /
;
ΩΩ/ 0
}
ææ 
}
øø 	
public
¡¡ 
bool
¡¡ *
Sp_Rolsalaoperaciones_Delete
¡¡ 0
(
¡¡0 1!
RolSalaOperacionesE
¡¡1 D"
pRolsalaoperacionesE
¡¡E Y
)
¡¡Y Z
{
¬¬ 	
try
√√ 
{
ƒƒ 
using
≈≈ 
(
≈≈ 
SqlConnection
≈≈ $
cnn
≈≈% (
=
≈≈) *
new
≈≈+ .
SqlConnection
≈≈/ <
(
≈≈< =
VariablesGlobales
≈≈= N
.
≈≈N O

CnnClinica
≈≈O Y
)
≈≈Y Z
)
≈≈Z [
{
∆∆ 
using
«« 
(
«« 

SqlCommand
«« %
cmd
««& )
=
««* +
new
««, /

SqlCommand
««0 :
(
««: ;
$str
««; Y
,
««Y Z
cnn
««[ ^
)
««^ _
)
««_ `
{
»» 
cmd
…… 
.
…… 
CommandType
…… '
=
……( )
CommandType
……* 5
.
……5 6
StoredProcedure
……6 E
;
……E F
cmd
ÀÀ 
.
ÀÀ 

Parameters
ÀÀ &
.
ÀÀ& '
AddWithValue
ÀÀ' 3
(
ÀÀ3 4
$str
ÀÀ4 A
,
ÀÀA B"
pRolsalaoperacionesE
ÀÀC W
.
ÀÀW X

Codrolsala
ÀÀX b
)
ÀÀb c
;
ÀÀc d
cnn
ÃÃ 
.
ÃÃ 
Open
ÃÃ  
(
ÃÃ  !
)
ÃÃ! "
;
ÃÃ" #
int
ŒŒ 
	rowResult
ŒŒ %
=
ŒŒ& '
cmd
ŒŒ( +
.
ŒŒ+ ,
ExecuteNonQuery
ŒŒ, ;
(
ŒŒ; <
)
ŒŒ< =
;
ŒŒ= >
cmd
œœ 
.
œœ 
Dispose
œœ #
(
œœ# $
)
œœ$ %
;
œœ% &
cnn
–– 
.
–– 
Close
–– !
(
––! "
)
––" #
;
––# $
cnn
—— 
.
—— 
Dispose
—— #
(
——# $
)
——$ %
;
——% &
if
”” 
(
”” 
	rowResult
”” %
>=
””& (
$num
””) *
)
””* +
return
‘‘ "
true
‘‘# '
;
‘‘' (
else
’’ 
return
÷÷ "
false
÷÷# (
;
÷÷( )
}
ÿÿ 
}
ŸŸ 
}
⁄⁄ 
catch
€€ 
(
€€ 
	Exception
€€ 
ex
€€ 
)
€€  
{
‹‹ 
throw
›› 
new
›› 
	Exception
›› #
(
››# $
ex
››$ &
.
››& '
Message
››' .
)
››. /
;
››/ 0
}
ﬁﬁ 
}
ﬂﬂ 	
}
‡‡ 
}·· ñ8
PD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\CitaAD\SedeAD\SedeAD.cs
	namespace

 	
Dat


 
.

 
Sql

 
.

 
CitaAD

 
.

 
SedeAD

 
{ 
public 

class 
SedeAD 
{ 

Utilitario 
util 
= 
new 

Utilitario (
(( )
)) *
;* +
public 
ClinicaE 
LlenarEntidad %
(% &
IDataReader& 1
dr2 4
,4 5
int6 9
pOrden: @
)@ A
{ 	
ClinicaE 
	oClinicaE 
=  
new! $
ClinicaE% -
(- .
). /
;/ 0
switch 
( 
pOrden 
) 
{ 
case 
$num 
: 
{ 
	oClinicaE !
.! "
	IDClinica" +
=, -
util. 2
.2 3
ValInt3 9
(9 :
dr: <
[< =
$str= H
]H I
.I J
ToStringJ R
(R S
)S T
)T U
;U V
	oClinicaE !
.! "
Nombre" (
=) *
dr+ -
[- .
$str. 6
]6 7
.7 8
ToString8 @
(@ A
)A B
;B C
	oClinicaE !
.! "
	RUCSpring" +
=, -
dr. 0
[0 1
$str1 <
]< =
.= >
ToString> F
(F G
)G H
;H I
	oClinicaE !
.! "
	RUCSunasa" +
=, -
dr. 0
[0 1
$str1 <
]< =
.= >
ToString> F
(F G
)G H
;H I
	oClinicaE !
.! "
CodigoSunasa" .
=/ 0
dr1 3
[3 4
$str4 B
]B C
.C D
ToStringD L
(L M
)M N
;N O
	oClinicaE !
.! "
Tipo" &
=' (
util) -
.- .
ValInt. 4
(4 5
dr5 7
[7 8
$str8 >
]> ?
.? @
ToString@ H
(H I
)I J
)J K
;K L
	oClinicaE(( !
.((! "
EstadoActivo((" .
=((/ 0
bool((1 5
.((5 6
Parse((6 ;
(((; <
dr((< >
[((> ?
$str((? M
]((M N
.((N O
ToString((O W
(((W X
)((X Y
)((Y Z
;((Z [
	oClinicaE?? !
.??! "
Synap_ApiKey??" .
=??/ 0
dr??1 3
[??3 4
$str??4 B
]??B C
.??C D
ToString??D L
(??L M
)??M N
;??N O
	oClinicaE@@ !
.@@! "
Synap_SignatureKey@@" 4
=@@5 6
dr@@7 9
[@@9 :
$str@@: N
]@@N O
.@@O P
ToString@@P X
(@@X Y
)@@Y Z
;@@Z [
breakOO 
;OO 
}PP 
}RR 
returnTT 
	oClinicaETT 
;TT 
}UU 	
publicWW 
ListWW 
<WW 
ClinicaEWW 
>WW 
Sp_Clinica_ConsultaWW 1
(WW1 2
ClinicaEWW2 :
	pClinicaEWW; D
)WWD E
{XX 	
IDataReaderYY 
drYY 
;YY 
ClinicaEZZ 
	oClinicaEZZ 
=ZZ  
nullZZ! %
;ZZd e
List[[ 
<[[ 
ClinicaE[[ 
>[[ 
oListar[[ "
=[[# $
new[[% (
List[[) -
<[[- .
ClinicaE[[. 6
>[[6 7
([[7 8
)[[8 9
;[[9 :
try\\ 
{]] 
using^^ 
(^^ 
SqlConnection^^ $
cnn^^% (
=^^) *
new^^+ .
SqlConnection^^/ <
(^^< =
VariablesGlobales^^= N
.^^N O

CnnClinica^^O Y
)^^Y Z
)^^Z [
{__ 
using`` 
(`` 

SqlCommand`` %
cmd``& )
=``* +
new``, /

SqlCommand``0 :
(``: ;
$str``; P
,``P Q
cnn``R U
)``U V
)``V W
{aa 
cmdbb 
.bb 
CommandTypebb '
=bb( )
CommandTypebb* 5
.bb5 6
StoredProcedurebb6 E
;bbE F
cmddd 
.dd 

Parametersdd &
.dd& '
AddWithValuedd' 3
(dd3 4
$strdd4 =
,dd= >
	pClinicaEdd? H
.ddH I
BuscarddI O
)ddO P
;ddP Q
cmdee 
.ee 

Parametersee &
.ee& '
AddWithValueee' 3
(ee3 4
$stree4 :
,ee: ;
	pClinicaEee< E
.eeE F
KeyeeF I
)eeI J
;eeJ K
cmdff 
.ff 

Parametersff &
.ff& '
AddWithValueff' 3
(ff3 4
$strff4 C
,ffC D
	pClinicaEffE N
.ffN O
NumeroLineasffO [
)ff[ \
;ff\ ]
cmdgg 
.gg 

Parametersgg &
.gg& '
AddWithValuegg' 3
(gg3 4
$strgg4 <
,gg< =
	pClinicaEgg> G
.ggG H
OrdenggH M
)ggM N
;ggN O
cnnhh 
.hh 
Openhh  
(hh  !
)hh! "
;hh" #
drii 
=ii 
cmdii  
.ii  !
ExecuteReaderii! .
(ii. /
)ii/ 0
;ii0 1
whilejj 
(jj 
drjj !
.jj! "
Readjj" &
(jj& '
)jj' (
)jj( )
{kk 
	oClinicaEll %
=ll& '
LlenarEntidadll( 5
(ll5 6
drll6 8
,ll8 9
	pClinicaEll: C
.llC D
OrdenllD I
)llI J
;llJ K
oListarmm #
.mm# $
Addmm$ '
(mm' (
	oClinicaEmm( 1
)mm1 2
;mm2 3
}nn 
droo 
.oo 
Closeoo  
(oo  !
)oo! "
;oo" #
drpp 
.pp 
Disposepp "
(pp" #
)pp# $
;pp$ %
cmdqq 
.qq 
Disposeqq #
(qq# $
)qq$ %
;qq% &
cnnrr 
.rr 
Closerr !
(rr! "
)rr" #
;rr# $
cnnss 
.ss 
Disposess #
(ss# $
)ss$ %
;ss% &
returnuu 
oListaruu &
;uu& '
}vv 
}ww 
}xx 
catchyy 
(yy 
	Exceptionyy 
exyy 
)yy  
{zz 
throw{{ 
new{{ 
	Exception{{ #
({{# $
ex{{$ &
.{{& '
Message{{' .
){{. /
;{{/ 0
}|| 
}}} 	
}
ÄÄ 
}ÅÅ ±ò
]D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\CitaAD\GestorColas\CitasDisplayAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
CitaAD 
. 
GestorColas $
{ 
public 

class 
CitasDisplayAD 
{ 
public 
async 
Task 
< 
CitasDisplayE '
>' (
CitasDisplay_Listar) <
(< ="
CitasDisplayJsonParamE= S
objParametrosT a
)a b
{ 	
var 
objCitasDisplay 
=  !
new" %
CitasDisplayE& 3
(3 4
)4 5
;5 6
List 
< 
CitasE 
> 
Lista 
=  
new! $
List% )
<) *
CitasE* 0
>0 1
(1 2
)2 3
;3 4
try 
{ 
using 
( 
var 
con 
=  
new! $
SqlConnection% 2
(2 3
VariablesGlobales3 D
.D E
CnnCitasSanFelipeE V
)V W
)W X
{ 
using 
( 
var 
cmd "
=# $
new% (

SqlCommand) 3
(3 4
$str4 S
,S T
conU X
)X Y
)Y Z
{ 
await 
con !
.! "
	OpenAsync" +
(+ ,
), -
;- .
cmd 
. 
CommandType '
=( )
CommandType* 5
.5 6
StoredProcedure6 E
;E F
cmd 
. 

Parameters &
.& '
AddWithValue' 3
(3 4
$str4 >
,> ?
objParametros@ M
.M N
localN S
)S T
;T U
cmd   
.   

Parameters   &
.  & '
AddWithValue  ' 3
(  3 4
$str  4 ?
,  ? @
objParametros  A N
.  N O
sector  O U
)  U V
;  V W
using!! 
(!! 
var!! "
dr!!# %
=!!& '
await!!( -
cmd!!. 1
.!!1 2
ExecuteReaderAsync!!2 D
(!!D E
)!!E F
)!!F G
{"" 
while## !
(##" #
await### (
dr##) +
.##+ ,
	ReadAsync##, 5
(##5 6
)##6 7
)##7 8
{$$ 
CitasE%%  &
_obj%%' +
=%%, -
new%%. 1
CitasE%%2 8
(%%8 9
)%%9 :
;%%: ;
_obj&&  $
.&&$ %
Paciente&&% -
=&&. /
dr&&0 2
[&&2 3
$str&&3 =
]&&= >
.&&> ?
ToString&&? G
(&&G H
)&&H I
;&&I J
_obj''  $
.''$ %

CodigoCita''% /
=''0 1
dr''2 4
[''4 5
$str''5 A
]''A B
.''B C
ToString''C K
(''K L
)''L M
;''M N
_obj((  $
.(($ %
Medico((% +
=((, -
dr((. 0
[((0 1
$str((1 9
]((9 :
.((: ;
ToString((; C
(((C D
)((D E
;((E F
_obj))  $
.))$ %
Especialidad))% 1
=))2 3
dr))4 6
[))6 7
$str))7 E
]))E F
.))F G
ToString))G O
())O P
)))P Q
;))Q R
_obj**  $
.**$ %
Consultorio**% 0
=**1 2
dr**3 5
[**5 6
$str**6 C
]**C D
.**D E
ToString**E M
(**M N
)**N O
;**O P
_obj++  $
.++$ %
HoraCita++% -
=++. /
dr++0 2
[++2 3
$str++3 =
]++= >
.++> ?
ToString++? G
(++G H
)++H I
;++I J
_obj,,  $
.,,$ %
Estado,,% +
=,,, -
dr,,. 0
[,,0 1
$str,,1 9
],,9 :
.,,: ;
ToString,,; C
(,,C D
),,D E
;,,E F
_obj--  $
.--$ %
UbicacionCita--% 2
=--3 4
dr--5 7
[--7 8
$str--8 G
]--G H
.--H I
ToString--I Q
(--Q R
)--R S
;--S T
_obj..  $
...$ % 
nroDocumentoPaciente..% 9
=..: ;
dr..< >
[..> ?
$str..? O
]..O P
...P Q
ToString..Q Y
(..Y Z
)..Z [
;..[ \
_obj//  $
.//$ %

estadoPago//% /
=//0 1
dr//2 4
[//4 5
$str//5 A
]//A B
.//B C
ToString//C K
(//K L
)//L M
;//M N
Lista00  %
.00% &
Add00& )
(00) *
_obj00* .
)00. /
;00/ 0
}11 
objCitasDisplay22 +
.22+ ,

listaCitas22, 6
=227 8
Lista229 >
;22> ?
if33 
(33  
Lista33  %
.33% &
Count33& +
>33, -
$num33. /
)33/ 0
objCitasDisplay44  /
.44/ 0
UbicacionCita440 =
=44> ?
Lista44@ E
[44E F
$num44F G
]44G H
.44H I
UbicacionCita44I V
;44V W
return66 "
objCitasDisplay66# 2
;662 3
}77 
}88 
}99 
}:: 
catch;; 
(;; 
	Exception;; 
ex;; 
);;  
{<< 
throw== 
new== 
	Exception== #
(==# $
ex==$ &
.==& '
Message==' .
)==. /
;==/ 0
}>> 
}?? 	
publicAA 
asyncAA 
TaskAA 
<AA 
CitasDisplayTicketEAA -
>AA- .%
CitasDisplayTicket_ListarAA/ H
(AAH I!
CitasTicketJsonParamEAAI ^
objParametrosAA_ l
)AAl m
{BB 	
varCC 
objCitasCC 
=CC 
newCC 
CitasDisplayTicketECC 2
(CC2 3
)CC3 4
;CC4 5
ListDD 
<DD 
CitasTicketEDD 
>DD 
ListaDD $
=DD% &
newDD' *
ListDD+ /
<DD/ 0
CitasTicketEDD0 <
>DD< =
(DD= >
)DD> ?
;DD? @
tryFF 
{GG 
usingHH 
(HH 
varHH 
conHH 
=HH  
newHH! $
SqlConnectionHH% 2
(HH2 3
VariablesGlobalesHH3 D
.HHD E
CnnCitasSanFelipeHHE V
)HHV W
)HHW X
{II 
usingJJ 
(JJ 
varJJ 
cmdJJ "
=JJ# $
newJJ% (

SqlCommandJJ) 3
(JJ3 4
$strJJ4 Y
,JJY Z
conJJ[ ^
)JJ^ _
)JJ_ `
{KK 
awaitLL 
conLL !
.LL! "
	OpenAsyncLL" +
(LL+ ,
)LL, -
;LL- .
cmdMM 
.MM 
CommandTypeMM '
=MM( )
CommandTypeMM* 5
.MM5 6
StoredProcedureMM6 E
;MME F
cmdNN 
.NN 

ParametersNN &
.NN& '
AddWithValueNN' 3
(NN3 4
$strNN4 F
,NNF G
objParametrosNNH U
.NNU V
TipoDocumentoNNV c
)NNc d
;NNd e
cmdOO 
.OO 

ParametersOO &
.OO& '
AddWithValueOO' 3
(OO3 4
$strOO4 H
,OOH I
objParametrosOOJ W
.OOW X
NumeroDocumentoOOX g
)OOg h
;OOh i
cmdPP 
.PP 

ParametersPP &
.PP& '
AddWithValuePP' 3
(PP3 4
$strPP4 >
,PP> ?
objParametrosPP@ M
.PPM N
localPPN S
)PPS T
;PPT U
usingQQ 
(QQ 
varQQ "
drQQ# %
=QQ& '
awaitQQ( -
cmdQQ. 1
.QQ1 2
ExecuteReaderAsyncQQ2 D
(QQD E
)QQE F
)QQF G
{RR 
whileSS !
(SS" #
awaitSS# (
drSS) +
.SS+ ,
	ReadAsyncSS, 5
(SS5 6
)SS6 7
)SS7 8
{TT 
CitasTicketEUU  ,
_objUU- 1
=UU2 3
newUU4 7
CitasTicketEUU8 D
(UUD E
)UUE F
;UUF G
_objVV  $
.VV$ %
MedicoVV% +
=VV, -
drVV. 0
[VV0 1
$strVV1 9
]VV9 :
.VV: ;
ToStringVV; C
(VVC D
)VVD E
;VVE F
_objWW  $
.WW$ %
EspecialidadWW% 1
=WW2 3
drWW4 6
[WW6 7
$strWW7 E
]WWE F
.WWF G
ToStringWWG O
(WWO P
)WWP Q
;WWQ R
_objXX  $
.XX$ %
HoraCitaXX% -
=XX. /
drXX0 2
[XX2 3
$strXX3 =
]XX= >
.XX> ?
ToStringXX? G
(XXG H
)XXH I
;XXI J
_objYY  $
.YY$ %

EstadoPagoYY% /
=YY0 1
ConvertYY2 9
.YY9 :
ToInt16YY: A
(YYA B
drYYB D
[YYD E
$strYYE Q
]YYQ R
)YYR S
;YYS T
_objZZ  $
.ZZ$ %
VigenciaCitaZZ% 1
=ZZ2 3
ConvertZZ4 ;
.ZZ; <
ToInt16ZZ< C
(ZZC D
drZZD F
[ZZF G
$strZZG U
]ZZU V
)ZZV W
;ZZW X
_obj[[  $
.[[$ %
Paciente[[% -
=[[. /
dr[[0 2
[[[2 3
$str[[3 =
][[= >
.[[> ?
ToString[[? G
([[G H
)[[H I
;[[I J
var\\  #
_resp\\$ )
=\\* +
dr\\, .
[\\. /
$str\\/ 8
]\\8 9
.\\9 :
ToString\\: B
(\\B C
)\\C D
;\\D E
if]]  "
(]]# $
_resp]]$ )
!=]]* ,
null]]- 1
)]]1 2
{^^  !
string__$ *
[__* +
]__+ ,
_msg__- 1
=__2 3
_resp__4 9
.__9 :
Split__: ?
(__? @
$char__@ C
)__C D
;__D E
if``$ &
(``' (
_msg``( ,
.``, -
Length``- 3
>``4 5
$num``6 7
)``7 8
_objaa( ,
.aa, -
Mensajeaa- 4
=aa5 6
_msgaa7 ;
;aa; <
elsebb$ (
_objcc( ,
.cc, -
Mensajecc- 4
=cc5 6
newcc7 :
stringcc; A
[ccA B
]ccB C
{ccD E
_respccE J
}ccK L
;ccL M
}dd  !
Listaee  %
.ee% &
Addee& )
(ee) *
_objee* .
)ee. /
;ee/ 0
}ff 
objCitashh $
.hh$ %

listaCitashh% /
=hh0 1
Listahh2 7
;hh7 8
ifii 
(ii  
Listaii  %
.ii% &
Countii& +
>ii, -
$numii. /
)ii/ 0
objCitasjj  (
.jj( )
pacientejj) 1
=jj2 3
Listajj4 9
[jj9 :
$numjj: ;
]jj; <
.jj< =
Pacientejj= E
;jjE F
returnkk "
objCitaskk# +
;kk+ ,
}ll 
}mm 
}nn 
}oo 
catchpp 
(pp 
	Exceptionpp 
expp 
)pp  !
{qq 
throwrr 
newrr 
	Exceptionrr #
(rr# $
exrr$ &
.rr& '
Messagerr' .
)rr. /
;rr/ 0
}ss 
}tt 	
publicvv 
stringvv !
uspCitaGetProximaCitavv +
(vv+ ,!
CitasTicketJsonParamEvv, A
objParametrosvvB O
)vvO P
{ww 	
stringxx 
_respProximaCitaxx #
=xx$ %
$strxx& (
;xx( )
tryyy 
{zz 
using{{ 
({{ 
SqlConnection{{ $
cnn{{% (
={{) *
new{{+ .
SqlConnection{{/ <
({{< =
VariablesGlobales{{= N
.{{N O
CnnCitasSanFelipe{{O `
){{` a
){{a b
{|| 
using}} 
(}} 

SqlCommand}} %
cmd}}& )
=}}* +
new}}, /

SqlCommand}}0 :
(}}: ;
$str}}; R
,}}R S
cnn}}T W
)}}W X
)}}X Y
{~~ 
cmd 
. 
CommandType '
=( )
CommandType* 5
.5 6
StoredProcedure6 E
;E F
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ &
.
ÄÄ& '
AddWithValue
ÄÄ' 3
(
ÄÄ3 4
$str
ÄÄ4 F
,
ÄÄF G
objParametros
ÄÄH U
.
ÄÄU V
TipoDocumento
ÄÄV c
)
ÄÄc d
;
ÄÄd e
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ &
.
ÅÅ& '
AddWithValue
ÅÅ' 3
(
ÅÅ3 4
$str
ÅÅ4 H
,
ÅÅH I
objParametros
ÅÅJ W
.
ÅÅW X
NumeroDocumento
ÅÅX g
)
ÅÅg h
;
ÅÅh i
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ &
.
ÇÇ& '
AddWithValue
ÇÇ' 3
(
ÇÇ3 4
$str
ÇÇ4 >
,
ÇÇ> ?
objParametros
ÇÇ@ M
.
ÇÇM N
local
ÇÇN S
)
ÇÇS T
;
ÇÇT U
cnn
ÉÉ 
.
ÉÉ 
Open
ÉÉ  
(
ÉÉ  !
)
ÉÉ! "
;
ÉÉ" #
using
ÑÑ 
(
ÑÑ 
var
ÑÑ "
dr
ÑÑ# %
=
ÑÑ& '
cmd
ÑÑ( +
.
ÑÑ+ ,
ExecuteReader
ÑÑ, 9
(
ÑÑ9 :
)
ÑÑ: ;
)
ÑÑ; <
{
ÖÖ 
while
ÜÜ !
(
ÜÜ" #
dr
ÜÜ# %
.
ÜÜ% &
Read
ÜÜ& *
(
ÜÜ* +
)
ÜÜ+ ,
)
ÜÜ, -
{
áá 
if
àà  "
(
àà# $
dr
àà$ &
[
àà& '
$str
àà' 4
]
àà4 5
!=
àà6 8
null
àà9 =
)
àà= >
_respProximaCita
ââ$ 4
=
ââ5 6
dr
ââ7 9
[
ââ9 :
$str
ââ: G
]
ââG H
.
ââH I
ToString
ââI Q
(
ââQ R
)
ââR S
;
ââS T
}
ää 
return
ãã "
_respProximaCita
ãã# 3
;
ãã3 4
}
åå 
}
çç 
}
éé 
}
èè 
catch
êê 
(
êê 
	Exception
êê 
ex
êê 
)
êê  
{
ëë 
throw
íí 
new
íí 
	Exception
íí #
(
íí# $
ex
íí$ &
.
íí& '
Message
íí' .
)
íí. /
;
íí/ 0
}
ìì 
}
îî 	
public
óó 
CitasRegTurno
óó $
GetCitasBMaticRegTurno
óó 3
(
óó3 4
int
óó4 7
pIDCita
óó8 ?
)
óó? @
{
òò 	
CitasRegTurno
ôô 
_objCitasTurno
ôô (
=
ôô) *
new
ôô+ .
CitasRegTurno
ôô/ <
(
ôô< =
)
ôô= >
;
ôô> ?
try
öö 
{
õõ 
using
úú 
(
úú 
SqlConnection
úú $
cnn
úú% (
=
úú) *
new
úú+ .
SqlConnection
úú/ <
(
úú< =
VariablesGlobales
úú= N
.
úúN O
CnnCitasSanFelipe
úúO `
)
úú` a
)
úúa b
{
ùù 
using
ûû 
(
ûû 

SqlCommand
ûû %
cmd
ûû& )
=
ûû* +
new
ûû, /

SqlCommand
ûû0 :
(
ûû: ;
$str
ûû; X
,
ûûX Y
cnn
ûûZ ]
)
ûû] ^
)
ûû^ _
{
üü 
cmd
†† 
.
†† 
CommandType
†† '
=
††( )
CommandType
††* 5
.
††5 6
StoredProcedure
††6 E
;
††E F
cmd
°° 
.
°° 

Parameters
°° &
.
°°& '
AddWithValue
°°' 3
(
°°3 4
$str
°°4 ?
,
°°? @
pIDCita
°°A H
)
°°H I
;
°°I J
cnn
¢¢ 
.
¢¢ 
Open
¢¢  
(
¢¢  !
)
¢¢! "
;
¢¢" #
using
££ 
(
££ 
var
££ "
dr
££# %
=
££& '
cmd
££( +
.
££+ ,
ExecuteReader
££, 9
(
££9 :
)
££: ;
)
££; <
{
§§ 
while
•• !
(
••" #
dr
••# %
.
••% &
Read
••& *
(
••* +
)
••+ ,
)
••, -
{
¶¶ 
_objCitasTurno
ßß  .
.
ßß. /
local
ßß/ 4
=
ßß5 6
dr
ßß7 9
[
ßß9 :
$str
ßß: A
]
ßßA B
.
ßßB C
ToString
ßßC K
(
ßßK L
)
ßßL M
;
ßßM N
_objCitasTurno
®®  .
.
®®. /
sector
®®/ 5
=
®®6 7
dr
®®8 :
[
®®: ;
$str
®®; C
]
®®C D
.
®®D E
ToString
®®E M
(
®®M N
)
®®N O
;
®®O P
_objCitasTurno
©©  .
.
©©. /

CodigoCita
©©/ 9
=
©©: ;
dr
©©< >
[
©©> ?
$str
©©? K
]
©©K L
.
©©L M
ToString
©©M U
(
©©U V
)
©©V W
;
©©W X
_objCitasTurno
™™  .
.
™™. /
NombreCliente
™™/ <
=
™™= >
dr
™™? A
[
™™A B
$str
™™B Q
]
™™Q R
.
™™R S
ToString
™™S [
(
™™[ \
)
™™\ ]
;
™™] ^
_objCitasTurno
´´  .
.
´´. /
Especialidad
´´/ ;
=
´´< =
dr
´´> @
[
´´@ A
$str
´´A O
]
´´O P
.
´´P Q
ToString
´´Q Y
(
´´Y Z
)
´´Z [
;
´´[ \
_objCitasTurno
¨¨  .
.
¨¨. /
CodEspecialidad
¨¨/ >
=
¨¨? @
dr
¨¨A C
[
¨¨C D
$str
¨¨D U
]
¨¨U V
.
¨¨V W
ToString
¨¨W _
(
¨¨_ `
)
¨¨` a
;
¨¨a b
_objCitasTurno
≠≠ 
.
≠≠ 
Consultorio
≠≠ "
=
≠≠# $
dr
≠≠% '
[
≠≠' (
$str
≠≠( 5
]
≠≠5 6
.
≠≠6 7
ToString
≠≠7 ?
(
≠≠? @
)
≠≠@ A
;
≠≠A B
_objCitasTurno
ÆÆ  .
.
ÆÆ. /
HoraCita
ÆÆ/ 7
=
ÆÆ8 9
dr
ÆÆ: <
[
ÆÆ< =
$str
ÆÆ= G
]
ÆÆG H
.
ÆÆH I
ToString
ÆÆI Q
(
ÆÆQ R
)
ÆÆR S
;
ÆÆS T
}
∞∞ 
return
±± "
_objCitasTurno
±±# 1
;
±±1 2
}
≤≤ 
}
≥≥ 
}
¥¥ 
}
µµ 
catch
∂∂ 
(
∂∂ 
	Exception
∂∂ 
ex
∂∂ 
)
∂∂  
{
∑∑ 
throw
∏∏ 
new
∏∏ 
	Exception
∏∏ #
(
∏∏# $
ex
∏∏$ &
.
∏∏& '
Message
∏∏' .
)
∏∏. /
;
∏∏/ 0
}
ππ 
}
∫∫ 	
}
¬¬ 
}√√ ë
]D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\AuditoriaAD\TablasBdAD\TablasBdAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
AuditoriaAD 
. 

TablasBdAD (
{ 
public 
class 

TablasBdAD 
{ 
private 	
	TablasBdE
 
LlenarEntidad !
(! "
IDataReader" -
dr. 0
,0 1
	TablasBdE2 ;

pTablasBdE< F
)F G
{ 
	TablasBdE 

oTablasBdE 
= 
new 
	TablasBdE '
(' (
)( )
;) *

oTablasBdE 
. 

Nomtablabd 
= 
Convert "
." #
ToString# +
(+ ,
dr, .
[. /
$str/ 6
]6 7
)7 8
;8 9
return 	

oTablasBdE
 
; 
} 
public 
List	 
< 
	TablasBdE 
> "
Sp_Tablasbd_ConsultaV2 /
(/ 0
	TablasBdE0 9

pTablasBdE: D
)D E
{ 
List 
< 
	TablasBdE 
> 
oListar 
= 
new  
List! %
<% &
	TablasBdE& /
>/ 0
(0 1
)1 2
;2 3
	TablasBdE 

oTablasBdE 
= 
new 
	TablasBdE '
(' (
)( )
;) *
using 
(	 

SqlConnection
 
cnn 
= 
new !
SqlConnection" /
(/ 0
VariablesGlobales0 A
.A B

CnnClinicaB L
)L M
)M N
{ 
using 	
(
 

SqlCommand 
cmd 
= 
new 

SqlCommand  *
(* +
$str+ A
,A B
cnnC F
)F G
)G H
{ 
cmd   
.   	
CommandType  	 
=   
System   
.   
Data   "
.  " #
CommandType  # .
.  . /
StoredProcedure  / >
;  > ?
cmd"" 
."" 	

Parameters""	 
."" 
AddWithValue""  
(""  !
$str""! 5
,""5 6

pTablasBdE""7 A
.""A B

Nomtablabd""B L
)""L M
;""M N
cmd## 
.## 	

Parameters##	 
.## 
AddWithValue##  
(##  !
$str##! 6
,##6 7

pTablasBdE##8 B
.##B C
Nombasedatos##C O
)##O P
;##P Q
cnn$$ 
.$$ 	
Open$$	 
($$ 
)$$ 
;$$ 
IDataReader%% 
dr%% 
=%% 
cmd%% 
.%% 
ExecuteReader%% '
(%%' (
)%%( )
;%%) *
while&& 

(&& 
dr&& 
.&& 
Read&& 
(&& 
)&& 
)&& 
{'' 

oTablasBdE(( 
=(( 
LlenarEntidad((  
(((  !
dr((! #
,((# $

pTablasBdE((% /
)((/ 0
;((0 1
oListar)) 
.)) 
Add)) 
()) 

oTablasBdE)) 
))) 
;)) 
}** 
dr++ 
.++ 
Close++ 
(++ 
)++ 
;++ 
cnn,, 
.,, 	
Close,,	 
(,, 
),, 
;,, 
}-- 
}.. 
return// 	
oListar//
 
;// 
}00 
}11 
}22 Ÿ
YD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\AuditoriaAD\CamposAD\CamposAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
AuditoriaAD 
. 
CamposAD &
{ 
public 
class 
CamposAD 
{ 
private 	
CamposE
 
LlenarEntidad 
(  
IDataReader  +
dr, .
,. /
CamposE0 7
pCamposE8 @
)@ A
{ 
CamposE 

oCamposE 
= 
new 
CamposE !
(! "
)" #
;# $
oCamposE 
. 
NomCampo 
= 
Convert 
. 
ToString '
(' (
dr( *
[* +
$str+ 3
]3 4
)4 5
;5 6
return 	
oCamposE
 
; 
} 
public 
List	 
< 
CamposE 
>  
Sp_Campos_ConsultaV2 +
(+ ,
CamposE, 3
pCamposE4 <
)< =
{ 
List 
< 
CamposE 
> 
oListar 
= 
new 
List #
<# $
CamposE$ +
>+ ,
(, -
)- .
;. /
CamposE 

oCamposE 
= 
new 
CamposE !
(! "
)" #
;# $
using 
(	 

SqlConnection
 
cnn 
= 
new !
SqlConnection" /
(/ 0
VariablesGlobales0 A
.A B

CnnClinicaB L
)L M
)M N
{ 
using 	
(
 

SqlCommand 
cmd 
= 
new 

SqlCommand  *
(* +
$str+ G
,G H
cnnI L
)L M
)M N
{ 
cmd   
.   	
CommandType  	 
=   
System   
.   
Data   "
.  " #
CommandType  # .
.  . /
StoredProcedure  / >
;  > ?
cmd"" 
."" 	

Parameters""	 
."" 
AddWithValue""  
(""  !
$str""! 5
,""5 6
pCamposE""7 ?
.""? @
NomTabla""@ H
)""H I
;""I J
cmd## 
.## 	

Parameters##	 
.## 
AddWithValue##  
(##  !
$str##! 6
,##6 7
pCamposE##8 @
.##@ A
Nombasedatos##A M
)##M N
;##N O
cnn$$ 
.$$ 	
Open$$	 
($$ 
)$$ 
;$$ 
IDataReader%% 
dr%% 
=%% 
cmd%% 
.%% 
ExecuteReader%% '
(%%' (
)%%( )
;%%) *
while&& 

(&& 
dr&& 
.&& 
Read&& 
(&& 
)&& 
)&& 
{'' 
oCamposE(( 
=(( 
LlenarEntidad(( 
((( 
dr(( !
,((! "
pCamposE((# +
)((+ ,
;((, -
oListar)) 
.)) 
Add)) 
()) 
oCamposE)) 
))) 
;)) 
}** 
dr++ 
.++ 
Close++ 
(++ 
)++ 
;++ 
cnn,, 
.,, 	
Close,,	 
(,, 
),, 
;,, 
}-- 
}.. 
return// 	
oListar//
 
;// 
}00 
}11 
}22 Ö
YD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\AuditoriaAD\BDatosAD\BDatosAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
AuditoriaAD 
. 
BDatosAD &
{ 
public 
class 
BDatosAD 
{ 
private 	
BDatosE
 
LlenarEntidad 
(  
IDataReader  +
dr, .
,. /
BDatosE0 7
pBDatosE8 @
)@ A
{ 
BDatosE 

oBDatosE 
= 
new 
BDatosE !
(! "
)" #
;# $
oBDatosE 
. 
	Nombdatos 
= 
Convert 
.  
ToString  (
(( )
dr) +
[+ ,
$str, :
]: ;
); <
;< =
return 	
oBDatosE
 
; 
} 
public 
List	 
< 
BDatosE 
> #
Sp_Basedatos_ConsultaV2 .
(. /
BDatosE/ 6
pBDatosE7 ?
)? @
{ 
List 
< 
BDatosE 
> 
oListar 
= 
new 
List #
<# $
BDatosE$ +
>+ ,
(, -
)- .
;. /
BDatosE 

oBDatosE 
= 
new 
BDatosE !
(! "
)" #
;# $
using 
(	 

SqlConnection
 
cnn 
= 
new !
SqlConnection" /
(/ 0
VariablesGlobales0 A
.A B

CnnClinicaB L
)L M
)M N
{ 
using 	
(
 

SqlCommand 
cmd 
= 
new 

SqlCommand  *
(* +
$str+ D
,D E
cnnF I
)I J
)J K
{ 
cmd   
.   	
CommandType  	 
=   
System   
.   
Data   "
.  " #
CommandType  # .
.  . /
StoredProcedure  / >
;  > ?
cnn"" 
."" 	
Open""	 
("" 
)"" 
;"" 
IDataReader## 
dr## 
=## 
cmd## 
.## 
ExecuteReader## '
(##' (
)##( )
;##) *
while$$ 

($$ 
dr$$ 
.$$ 
Read$$ 
($$ 
)$$ 
)$$ 
{%% 
oBDatosE&& 
=&& 
LlenarEntidad&& 
(&& 
dr&& !
,&&! "
pBDatosE&&# +
)&&+ ,
;&&, -
oListar'' 
.'' 
Add'' 
('' 
oBDatosE'' 
)'' 
;'' 
}(( 
dr)) 
.)) 
Close)) 
()) 
))) 
;)) 
cnn** 
.** 	
Close**	 
(** 
)** 
;** 
}++ 
},, 
return-- 	
oListar--
 
;-- 
}.. 
}// 
}00 ∆B
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Dat.Sql\AuditoriaAD\AuditoriaAD\AuditoriaAD.cs
	namespace 	
Dat
 
. 
Sql 
. 
AuditoriaAD 
. 
AuditoriaAD )
{ 
public 
class 
AuditoriaAD 
{ 
private 	

AuditoriaE
 
LlenarEntidad "
(" #
IDataReader# .
dr/ 1
,1 2

AuditoriaE3 =
pAuditoriasE> J
)J K
{ 

AuditoriaE 
oAuditoriasE 
= 
new  

AuditoriaE! +
(+ ,
), -
;- .
oAuditoriasE 
. 
Idecorrelativo 
=  
Convert! (
.( )
ToInt32) 0
(0 1
dr1 3
[3 4
$str4 E
]E F
)F G
;G H
oAuditoriasE 
. 
Idetransaccional  
=! "
Convert# *
.* +
ToString+ 3
(3 4
dr4 6
[6 7
$str7 J
]J K
)K L
;L M
oAuditoriasE 
. 
Ideusuariosistema !
=" #
Convert$ +
.+ ,
ToInt32, 3
(3 4
dr4 6
[6 7
$str7 L
]L M
)M N
;N O
oAuditoriasE 
. 
Dscusuariosistema !
=" #
Convert$ +
.+ ,
ToString, 4
(4 5
dr5 7
[7 8
$str8 P
]P Q
)Q R
;R S
oAuditoriasE 
. 
Dscestacion 
= 
Convert %
.% &
ToString& .
(. /
dr/ 1
[1 2
$str2 @
]@ A
)A B
;B C
oAuditoriasE 
. 

Dscesquema 
= 
Convert $
.$ %
ToString% -
(- .
dr. 0
[0 1
$str1 >
]> ?
)? @
;@ A
oAuditoriasE 
. 
Dsctabla 
= 
Convert "
." #
ToString# +
(+ ,
dr, .
[. /
$str/ :
]: ;
); <
;< =
oAuditoriasE 
. 
Dsccampo 
= 
Convert "
." #
ToString# +
(+ ,
dr, .
[. /
$str/ :
]: ;
); <
;< =
oAuditoriasE 
. 
Fechora 
= 
Convert !
.! "

ToDateTime" ,
(, -
dr- /
[/ 0
$str0 :
]: ;
); <
;< =
oAuditoriasE 
. 
	Codaccion 
= 
Convert #
.# $
ToString$ ,
(, -
dr- /
[/ 0
$str0 <
]< =
)= >
;> ?
oAuditoriasE 
. 
Dscvalorantiguo 
=  !
Convert" )
.) *
ToString* 2
(2 3
dr3 5
[5 6
$str6 I
]I J
)J K
;K L
oAuditoriasE 
. 
Dscvalornuevo 
= 
Convert  '
.' (
ToString( 0
(0 1
dr1 3
[3 4
$str4 E
]E F
)F G
;G H
oAuditoriasE   
.   
Dscusuariobd   
=   
Convert   &
.  & '
ToString  ' /
(  / 0
dr  0 2
[  2 3
$str  3 C
]  C D
)  D E
;  E F
return"" 	
oAuditoriasE""
 
;"" 
}## 
public%% 
List%%	 
<%% 

AuditoriaE%% 
>%% $
Sp_Auditorias_ConsultaV2%% 2
(%%2 3

AuditoriaE%%3 =
pAuditoriasE%%> J
)%%J K
{&& 
List'' 
<'' 

AuditoriaE'' 
>'' 
oListar'' 
='' 
new'' !
List''" &
<''& '

AuditoriaE''' 1
>''1 2
(''2 3
)''3 4
;''4 5

AuditoriaE(( 
oAuditoriasE(( 
=(( 
new((  

AuditoriaE((! +
(((+ ,
)((, -
;((- .
using)) 
())	 

SqlConnection))
 
cnn)) 
=)) 
new)) !
SqlConnection))" /
())/ 0
VariablesGlobales))0 A
.))A B

CnnClinica))B L
)))L M
)))M N
{** 
using++ 	
(++
 

SqlCommand++ 
cmd++ 
=++ 
new++ 

SqlCommand++  *
(++* +
$str+++ D
,++D E
cnn++F I
)++I J
)++J K
{,, 
var-- 
dt--	 
=-- 
new-- 
	DataTable-- 
(-- 
)-- 
;-- 
dt.. 
... 
Columns.. 
... 
Add.. 
(.. 
$str.. 
,.. 
typeof.. "
(.." #
string..# )
)..) *
)..* +
;..+ ,
foreach// 
(// 
var//  
item//! %
in//& (
pAuditoriasE//) 5
.//5 6%
SelectCamposSeleccionados//6 O
)//O P
{00 
dt11 
.11 
Rows11 
.11  
Add11  #
(11# $
item11$ (
)11( )
;11) *
}22 
cmd44 
.44 
CommandType44 #
=44$ %
System44& ,
.44, -
Data44- 1
.441 2
CommandType442 =
.44= >
StoredProcedure44> M
;44M N
cmd66 
.66 	

Parameters66	 
.66 
AddWithValue66  
(66  !
$str66! 0
,660 1
pAuditoriasE662 >
.66> ?
Dscbasedatos66? K
)66K L
;66L M
cmd77 
.77 	

Parameters77	 
.77 
AddWithValue77  
(77  !
$str77! ,
,77, -
pAuditoriasE77. :
.77: ;
Dsctabla77; C
)77C D
;77D E
cmd88 
.88 	

Parameters88	 
.88 
AddWithValue88  
(88  !
$str88! 4
,884 5
pAuditoriasE886 B
.88B C
Idetransaccional88C S
)88S T
;88T U
cmd99 
.99 	

Parameters99	 
.99 
AddWithValue99  
(99  !
$str99! 8
,998 9
dt99: <
)99< =
;99= >
cmd:: 
.:: 	

Parameters::	 
.:: 
AddWithValue::  
(::  !
$str::! ,
,::, -
pAuditoriasE::. :
.::: ;
FecDesde::; C
)::C D
;::D E
cmd;; 
.;; 	

Parameters;;	 
.;; 
AddWithValue;;  
(;;  !
$str;;! ,
,;;, -
pAuditoriasE;;. :
.;;: ;
FecHasta;;; C
);;C D
;;;D E
cnn== 
.== 	
Open==	 
(== 
)== 
;== 
IDataReader>> 
dr>> 
=>> 
cmd>> 
.>> 
ExecuteReader>> '
(>>' (
)>>( )
;>>) *
while?? 

(?? 
dr?? 
.?? 
Read?? 
(?? 
)?? 
)?? 
{@@ 
oAuditoriasEAA 
=AA 
LlenarEntidadAA "
(AA" #
drAA# %
,AA% &
pAuditoriasEAA' 3
)AA3 4
;AA4 5
oListarBB 
.BB 
AddBB 
(BB 
oAuditoriasEBB 
)BB 
;BB  
}CC 
drDD 
.DD 
CloseDD 
(DD 
)DD 
;DD 
cnnEE 
.EE 	
CloseEE	 
(EE 
)EE 
;EE 
}FF 
}GG 
returnHH 	
oListarHH
 
;HH 
}II 
}JJ 
}KK 