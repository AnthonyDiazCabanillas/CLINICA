™Î
WD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Bus.AgendaClinica\VariablesGlobales.cs
	namespace 	
Bus
 
. 
AgendaClinica 
. 
Clinica #
{ 
public 

static 
class 
VariablesGlobales )
{ 
public 
static 
string 
gAsegParticular ,
=- .
$str/ 5
;5 6
public 
const 
string 
gAsegPacifico )
=* +
$str, 2
;2 3
public 
const 
string 
gAsegPacificoVida -
=. /
$str0 6
;6 7
public 
const 
string 
gAsegPacificoEps ,
=- .
$str/ 5
;5 6
public 
const 
string 

gAsegRimac &
=' (
$str) /
;/ 0
public 
const 
string 
gAsegRimacEps )
=* +
$str, 2
;2 3
public 
const 
string 
gAsegNovasalud *
=+ ,
$str- 3
;3 4
public 
const 
string 
gAsegPositiva )
=* +
$str, 2
;2 3
public 
const 
string 
gAsegGenerali )
=* +
$str, 2
;2 3
public 
const 
string 

gAsegFenix &
=' (
$str) /
;/ 0
public 
const 
string 

gAsegWiese &
=' (
$str) /
;/ 0
public 
const 
string 
gAsegMapfreEps *
=+ ,
$str- 3
;3 4
public 
const 
string 
gAsegMapfreSeguros .
=/ 0
$str1 7
;7 8
public 
const 
string 
gAsegColsanitas +
=, -
$str. 4
;4 5
public 
const 
string 

gAsegFeban &
=' (
$str) /
;/ 0
public 
const 
string 
gAsegCardif '
=( )
$str* 0
;0 1
public!! 
static!! 
string!! 
CodTerminal!! (
{!!) *
get!!+ .
;!!. /
set!!0 3
;!!3 4
}!!5 6
=!!7 8
$str!!9 >
;!!> ?
public## 
static## 
System## 
.## 
ServiceModel## )
.##) *
EndpointAddress##* 9
?##9 :
EndPoint##; C
;##C D
public$$ 
static$$ 
System$$ 
.$$ 
ServiceModel$$ )
.$$) *
BasicHttpBinding$$* :
?$$: ;
BindingNormal$$< I
;$$I J
public%% 
static%% 
System%% 
.%% 
ServiceModel%% )
.%%) *
BasicHttpsBinding%%* ;
?%%; <
BindingSecure%%= J
;%%J K
public&& 
static&& 
System&& 
.&& 
ServiceModel&& )
.&&) *
Channels&&* 2
.&&2 3
Binding&&3 :
?&&: ;
Binding&&< C
;&&C D
public(( 
static(( 
System(( 
.(( 
ServiceModel(( )
.(() *
BasicHttpBinding((* :
?((: ;

BindingTci((< F
;((F G
public** 
static** 
bool** 
ActivarLogGuardar** ,
{**- .
get**/ 2
;**2 3
set**4 7
;**7 8
}**9 :
public,, 
static,, 
string,, (
HorarioRestringidoPresencial,, 9
{,,: ;
get,,< ?
;,,? @
set,,A D
;,,D E
},,F G
=,,H I
$str,,J L
;,,L M
public-- 
static-- 
string-- %
HorarioRestringidoVirtual-- 6
{--7 8
get--9 <
;--< =
set--> A
;--A B
}--C D
=--E F
$str--G I
;--I J
public.. 
static.. 
string.. $
MsjRestringidoPresencial.. 5
{..6 7
get..8 ;
;..; <
set..= @
;..@ A
}..B C
=..D E
$str..F H
;..H I
public// 
static// 
string// !
MsjRestringidoVirtual// 2
{//3 4
get//5 8
;//8 9
set//: =
;//= >
}//? @
=//A B
$str//C E
;//E F
private11 
static11 
string11 
_Synapsis_ApiKey11 .
=11/ 0
$str111 3
;113 4
public:: 
static:: 
string:: 
Synapsis_ApiKey:: ,
{;; 	
get<< 
{== 
return>> 
_Synapsis_ApiKey>> '
;>>' (
}?? 
}@@ 	
privateBB 
staticBB 
stringBB "
_Synapsis_SignatureKeyBB 4
=BB5 6
$strBB7 9
;BB9 :
publicGG 
staticGG 
stringGG !
Synapsis_SignatureKeyGG 2
{HH 	
getII 
{JJ 
returnKK "
_Synapsis_SignatureKeyKK -
;KK- .
}LL 
}MM 	
privateOO 
staticOO 
stringOO 
_Synapsis_Ws_UrlOO .
=OO/ 0
$strOO1 3
;OO3 4
publicTT 
staticTT 
stringTT 
Synapsis_Ws_UrlTT ,
{UU 	
getVV 
{WW 
returnXX 
_Synapsis_Ws_UrlXX '
;XX' (
}YY 
}ZZ 	
private\\ 
static\\ 
string\\ %
_RutaWsAgendaCitasMedisyn\\ 7
=\\8 9
$str\\: <
;\\< =
public]] 
static]] 
string]] $
RutaWsAgendaCitasMedisyn]] 5
{^^ 	
get__ 
{`` 
returnaa %
_RutaWsAgendaCitasMedisynaa 0
;aa0 1
}bb 
}cc 	
privateee 
staticee 
stringee 
_CnnClinicaee )
=ee* +
$stree, .
;ee. /
publicjj 
staticjj 
stringjj 

CnnClinicajj '
{kk 	
getll 
{mm 
returnnn 
_CnnClinicann "
;nn" #
}oo 
}pp 	
privaterr 
staticrr 
stringrr 
_CnnLogisticarr +
=rr, -
$strrr. 0
;rr0 1
publicww 
staticww 
stringww 
CnnLogisticaww )
{xx 	
getyy 
{zz 
return{{ 
_CnnLogistica{{ $
;{{$ %
}|| 
}}} 	
private 
static 
string 
_CnnMedisynOracle /
=0 1
$str2 4
;4 5
public
€€ 
static
€€ 
string
€€ 
CnnMedisynOracle
€€ -
{
 	
get
‚‚ 
{
ƒƒ 
return
„„ 
_CnnMedisynOracle
„„ (
;
„„( )
}
…… 
}
†† 	
private
ˆˆ 
static
ˆˆ 
double
ˆˆ 
_IGV
ˆˆ "
;
ˆˆ" #
public
 
static
 
double
 
IGV
  
{
 	
get
 
{
 
return
‘‘ 
_IGV
‘‘ 
;
‘‘ 
}
’’ 
}
““ 	
private
•• 
static
•• 
string
•• 
_CentroCosto
•• *
=
••+ ,
$str
••- /
;
••/ 0
public
—— 
static
—— 
string
—— 
CentroCosto
—— (
{
˜˜ 	
get
™™ 
{
šš 
return
›› 
_CentroCosto
›› #
;
››# $
}
œœ 
}
 	
private
ŸŸ 
static
ŸŸ 
string
ŸŸ 
_CodUser
ŸŸ &
=
ŸŸ' (
$str
ŸŸ) +
;
ŸŸ+ ,
public
   
static
   
string
   
CodUser
   $
{
¡¡ 	
get
¢¢ 
{
££ 
return
¤¤ 
_CodUser
¤¤ 
;
¤¤  
}
¥¥ 
}
¦¦ 	
public
«« 
enum
«« 
ListDataBase
««  
{
¬¬ 	
clinica
­­ 
=
­­ 
$num
­­ 
,
­­ 
	logistica
®® 
=
®® 
$num
®® 
,
®® 
	seguridad
¯¯ 
=
¯¯ 
$num
¯¯ 
,
¯¯ 

dw_clinica
°° 
=
°° 
$num
°° 
,
°° 
medisyn
±± 
=
±± 
$num
±± 
}
²² 	
public
¹¹ 
static
¹¹ 
void
¹¹ !
LoadConectionString
¹¹ .
(
¹¹. /
string
¹¹/ 5"
pNameConectionString
¹¹6 J
,
¹¹J K
ListDataBase
¹¹L X
pDataBaseServer
¹¹Y h
)
¹¹h i
{
ºº 	
string
»» 
StringConection
»» "
=
»»# $"
pNameConectionString
»»% 9
;
»»9 :
if
½½ 
(
½½ "
ConfigurationManager
½½ $
.
½½$ %
ConnectionStrings
½½% 6
[
½½6 7"
pNameConectionString
½½7 K
]
½½K L
!=
½½M O
null
½½P T
)
½½T U
StringConection
¾¾ 
=
¾¾  !"
ConfigurationManager
¾¾" 6
.
¾¾6 7
ConnectionStrings
¾¾7 H
[
¾¾H I"
pNameConectionString
¾¾I ]
]
¾¾] ^
.
¾¾^ _
ConnectionString
¾¾_ o
;
¾¾o p
if
ÀÀ 
(
ÀÀ 
StringConection
ÀÀ 
.
ÀÀ  
ToLower
ÀÀ  '
(
ÀÀ' (
)
ÀÀ( )
.
ÀÀ) *
IndexOf
ÀÀ* 1
(
ÀÀ1 2
$str
ÀÀ2 ?
)
ÀÀ? @
==
ÀÀA C
-
ÀÀD E
$num
ÀÀE F
)
ÀÀF G
StringConection
ÁÁ 
=
ÁÁ  !
Criptography
ÁÁ" .
.
ÁÁ. /$
DecryptConectionString
ÁÁ/ E
(
ÁÁE F
StringConection
ÁÁF U
)
ÁÁU V
;
ÁÁV W
ConnectionsString
ÅÅ 
.
ÅÅ 
Server
ÅÅ $
=
ÅÅ% &
ConnectionsString
ÅÅ' 8
.
ÅÅ8 9
getDataString
ÅÅ9 F
(
ÅÅF G
$str
ÅÅG O
,
ÅÅO P
StringConection
ÅÅQ `
)
ÅÅ` a
;
ÅÅa b
ConnectionsString
ÆÆ 
.
ÆÆ 
DataBase
ÆÆ &
=
ÆÆ' (
ConnectionsString
ÆÆ) :
.
ÆÆ: ;
getDataString
ÆÆ; H
(
ÆÆH I
$str
ÆÆI R
,
ÆÆR S
StringConection
ÆÆT c
)
ÆÆc d
;
ÆÆd e
ConnectionsString
ÇÇ 
.
ÇÇ 

UserServer
ÇÇ (
=
ÇÇ) *
ConnectionsString
ÇÇ+ <
.
ÇÇ< =
getDataString
ÇÇ= J
(
ÇÇJ K
$str
ÇÇK O
,
ÇÇO P
StringConection
ÇÇQ `
)
ÇÇ` a
;
ÇÇa b
ConnectionsString
ÈÈ 
.
ÈÈ 
PasswordServer
ÈÈ ,
=
ÈÈ- .
ConnectionsString
ÈÈ/ @
.
ÈÈ@ A
getDataString
ÈÈA N
(
ÈÈN O
$str
ÈÈO Y
,
ÈÈY Z
StringConection
ÈÈ[ j
)
ÈÈj k
;
ÈÈk l
switch
ÊÊ 
(
ÊÊ 
pDataBaseServer
ÊÊ #
)
ÊÊ# $
{
ËË 
case
ÌÌ 
ListDataBase
ÌÌ !
.
ÌÌ! "
clinica
ÌÌ" )
:
ÌÌ) *
{
ÍÍ 
_CnnClinica
ÎÎ #
=
ÎÎ$ %
StringConection
ÎÎ& 5
;
ÎÎ5 6
Dat
ÏÏ 
.
ÏÏ 
Sql
ÏÏ 
.
ÏÏ  
VariablesGlobales
ÏÏ  1
.
ÏÏ1 2

CnnClinica
ÏÏ2 <
=
ÏÏ= >
_CnnClinica
ÏÏ? J
;
ÏÏJ K
break
ĞĞ 
;
ĞĞ 
}
ÑÑ 
case
ÓÓ 
ListDataBase
ÓÓ !
.
ÓÓ! "
	logistica
ÓÓ" +
:
ÓÓ+ ,
{
ÔÔ 
_CnnLogistica
ÕÕ %
=
ÕÕ& '
StringConection
ÕÕ( 7
;
ÕÕ7 8
Dat
ÖÖ 
.
ÖÖ 
Sql
ÖÖ 
.
ÖÖ  
VariablesGlobales
ÖÖ  1
.
ÖÖ1 2
CnnLogistica
ÖÖ2 >
=
ÖÖ? @
_CnnLogistica
ÖÖA N
;
ÖÖN O
break
×× 
;
×× 
}
ØØ 
case
ÚÚ 
ListDataBase
ÚÚ !
.
ÚÚ! "
medisyn
ÚÚ" )
:
ÚÚ) *
{
ÛÛ 
_CnnMedisynOracle
ÜÜ )
=
ÜÜ* +
StringConection
ÜÜ, ;
;
ÜÜ; <
Dat
İİ 
.
İİ 
Oracle
İİ "
.
İİ" #
VariablesGlobales
İİ# 4
.
İİ4 5

CnnMedisyn
İİ5 ?
=
İİ@ A
_CnnMedisynOracle
İİB S
;
İİS T
break
ŞŞ 
;
ŞŞ 
}
ßß 
}
àà 
}
áá 	
public
ææ 
static
ææ 
void
ææ 
LoadInitialData
ææ *
(
ææ* +
)
ææ+ ,
{
çç 	
Dat
èè 
.
èè 
Sql
èè 
.
èè 
	ClinicaAD
èè 
.
èè 
OtrosAD
èè %
.
èè% &
TablasAD
èè& .
objTablasAD
èè/ :
=
èè; <
new
èè= @
Dat
èèA D
.
èèD E
Sql
èèE H
.
èèH I
	ClinicaAD
èèI R
.
èèR S
OtrosAD
èèS Z
.
èèZ [
TablasAD
èè[ c
(
èèc d
)
èèd e
;
èèe f
List
éé 
<
éé 
Ent
éé 
.
éé 
Sql
éé 
.
éé 
ClinicaE
éé !
.
éé! "
OtrosE
éé" (
.
éé( )
TablasE
éé) 0
>
éé0 1
oListTablasE
éé2 >
=
éé? @
new
ééA D
List
ééE I
<
ééI J
Ent
ééJ M
.
ééM N
Sql
ééN Q
.
ééQ R
ClinicaE
ééR Z
.
ééZ [
OtrosE
éé[ a
.
ééa b
TablasE
ééb i
>
ééi j
(
ééj k
)
éék l
;
éél m
oListTablasE
ëë 
=
ëë 
objTablasAD
ëë &
.
ëë& ' 
Sp_Tablas_Consulta
ëë' 9
(
ëë9 :
new
ëë: =
Ent
ëë> A
.
ëëA B
Sql
ëëB E
.
ëëE F
ClinicaE
ëëF N
.
ëëN O
OtrosE
ëëO U
.
ëëU V
TablasE
ëëV ]
(
ëë] ^
$str
ëë^ i
,
ëëi j
$str
ëëk o
,
ëëo p
$num
ëëq s
,
ëës t
$num
ëëu v
,
ëëv w
-
ëëx y
$num
ëëy z
)
ëëz {
)
ëë{ |
;
ëë| }
if
ìì 
(
ìì 
oListTablasE
ìì 
.
ìì 
Count
ìì "
>
ìì# $
$num
ìì% &
)
ìì& '
_IGV
íí 
=
íí 
oListTablasE
íí #
[
íí# $
$num
íí$ %
]
íí% &
.
íí& '
Valor
íí' ,
;
íí, -
oListTablasE
ïï 
=
ïï 
new
ïï 
List
ïï #
<
ïï# $
Ent
ïï$ '
.
ïï' (
Sql
ïï( +
.
ïï+ ,
ClinicaE
ïï, 4
.
ïï4 5
OtrosE
ïï5 ;
.
ïï; <
TablasE
ïï< C
>
ïïC D
(
ïïD E
)
ïïE F
;
ïïF G
oListTablasE
ğğ 
=
ğğ 
objTablasAD
ğğ &
.
ğğ& ' 
Sp_Tablas_Consulta
ğğ' 9
(
ğğ9 :
new
ğğ: =
Ent
ğğ> A
.
ğğA B
Sql
ğğB E
.
ğğE F
ClinicaE
ğğF N
.
ğğN O
OtrosE
ğğO U
.
ğğU V
TablasE
ğğV ]
(
ğğ] ^
$str
ğğ^ w
,
ğğw x
$str
ğğy }
,
ğğ} ~
$numğğ 
,ğğ ‚
$numğğƒ „
,ğğ„ …
-ğğ† ‡
$numğğ‡ ˆ
)ğğˆ ‰
)ğğ‰ Š
;ğğŠ ‹
if
ññ 
(
ññ 
oListTablasE
ññ 
.
ññ 
Count
ññ "
>
ññ# $
$num
ññ% &
)
ññ& '
_CentroCosto
òò 
=
òò 
oListTablasE
òò +
[
òò+ ,
$num
òò, -
]
òò- .
.
òò. /
Nombre
òò/ 5
.
òò5 6
Trim
òò6 :
(
òò: ;
)
òò; <
;
òò< =
oListTablasE
ôô 
=
ôô 
new
ôô 
List
ôô #
<
ôô# $
Ent
ôô$ '
.
ôô' (
Sql
ôô( +
.
ôô+ ,
ClinicaE
ôô, 4
.
ôô4 5
OtrosE
ôô5 ;
.
ôô; <
TablasE
ôô< C
>
ôôC D
(
ôôD E
)
ôôE F
;
ôôF G
oListTablasE
õõ 
=
õõ 
objTablasAD
õõ &
.
õõ& ' 
Sp_Tablas_Consulta
õõ' 9
(
õõ9 :
new
õõ: =
Ent
õõ> A
.
õõA B
Sql
õõB E
.
õõE F
ClinicaE
õõF N
.
õõN O
OtrosE
õõO U
.
õõU V
TablasE
õõV ]
(
õõ] ^
$str
õõ^ v
,
õõv w
$str
õõx z
,
õõz {
$num
õõ| ~
,
õõ~ 
$numõõ€ 
,õõ ‚
-õõƒ „
$numõõ„ …
)õõ… †
)õõ† ‡
;õõ‡ ˆ
if
öö 
(
öö 
oListTablasE
öö 
.
öö 
Count
öö "
>
öö# $
$num
öö% &
)
öö& '
_CodUser
÷÷ 
=
÷÷ 
oListTablasE
÷÷ '
[
÷÷' (
$num
÷÷( )
]
÷÷) *
.
÷÷* +
Codigo
÷÷+ 1
.
÷÷1 2
Trim
÷÷2 6
(
÷÷6 7
)
÷÷7 8
;
÷÷8 9
oListTablasE
ùù 
=
ùù 
new
ùù 
List
ùù #
<
ùù# $
Ent
ùù$ '
.
ùù' (
Sql
ùù( +
.
ùù+ ,
ClinicaE
ùù, 4
.
ùù4 5
OtrosE
ùù5 ;
.
ùù; <
TablasE
ùù< C
>
ùùC D
(
ùùD E
)
ùùE F
;
ùùF G
oListTablasE
úú 
=
úú 
objTablasAD
úú &
.
úú& ' 
Sp_Tablas_Consulta
úú' 9
(
úú9 :
new
úú: =
Ent
úú> A
.
úúA B
Sql
úúB E
.
úúE F
ClinicaE
úúF N
.
úúN O
OtrosE
úúO U
.
úúU V
TablasE
úúV ]
(
úú] ^
$str
úú^ y
,
úúy z
$str
úú{ }
,
úú} ~
$numúú 
,úú ‚
$numúúƒ „
,úú„ …
-úú† ‡
$numúú‡ ˆ
)úúˆ ‰
)úú‰ Š
;úúŠ ‹
if
ûû 
(
ûû 
oListTablasE
ûû 
.
ûû 
Count
ûû "
>
ûû# $
$num
ûû% &
)
ûû& '
CodTerminal
üü 
=
üü 
oListTablasE
üü *
[
üü* +
$num
üü+ ,
]
üü, -
.
üü- .
Nombre
üü. 4
.
üü4 5
Trim
üü5 9
(
üü9 :
)
üü: ;
;
üü; <
oListTablasE
‚‚ 
=
‚‚ 
new
‚‚ 
List
‚‚ #
<
‚‚# $
Ent
‚‚$ '
.
‚‚' (
Sql
‚‚( +
.
‚‚+ ,
ClinicaE
‚‚, 4
.
‚‚4 5
OtrosE
‚‚5 ;
.
‚‚; <
TablasE
‚‚< C
>
‚‚C D
(
‚‚D E
)
‚‚E F
;
‚‚F G
oListTablasE
ƒƒ 
=
ƒƒ 
objTablasAD
ƒƒ &
.
ƒƒ& ' 
Sp_Tablas_Consulta
ƒƒ' 9
(
ƒƒ9 :
new
ƒƒ: =
Ent
ƒƒ> A
.
ƒƒA B
Sql
ƒƒB E
.
ƒƒE F
ClinicaE
ƒƒF N
.
ƒƒN O
OtrosE
ƒƒO U
.
ƒƒU V
TablasE
ƒƒV ]
(
ƒƒ] ^
$str
ƒƒ^ q
,
ƒƒq r
$str
ƒƒs u
,
ƒƒu v
$num
ƒƒw x
,
ƒƒx y
$num
ƒƒz {
,
ƒƒ{ |
$num
ƒƒ} 
)ƒƒ €
)ƒƒ€ 
;ƒƒ ‚
}
†† 	
public
ˆˆ 
static
ˆˆ 
void
ˆˆ (
LoadInitial_WS_AgendaCitas
ˆˆ 5
(
ˆˆ5 6
)
ˆˆ6 7
{
‰‰ 	
Dat
ŠŠ 
.
ŠŠ 
Sql
ŠŠ 
.
ŠŠ 
	ClinicaAD
ŠŠ 
.
ŠŠ 
OtrosAD
ŠŠ %
.
ŠŠ% &
TablasAD
ŠŠ& .
objTablasAD
ŠŠ/ :
=
ŠŠ; <
new
ŠŠ= @
Dat
ŠŠA D
.
ŠŠD E
Sql
ŠŠE H
.
ŠŠH I
	ClinicaAD
ŠŠI R
.
ŠŠR S
OtrosAD
ŠŠS Z
.
ŠŠZ [
TablasAD
ŠŠ[ c
(
ŠŠc d
)
ŠŠd e
;
ŠŠe f
List
‹‹ 
<
‹‹ 
Ent
‹‹ 
.
‹‹ 
Sql
‹‹ 
.
‹‹ 
ClinicaE
‹‹ !
.
‹‹! "
OtrosE
‹‹" (
.
‹‹( )
TablasE
‹‹) 0
>
‹‹0 1
oListTablasE
‹‹2 >
=
‹‹? @
new
‹‹A D
List
‹‹E I
<
‹‹I J
Ent
‹‹J M
.
‹‹M N
Sql
‹‹N Q
.
‹‹Q R
ClinicaE
‹‹R Z
.
‹‹Z [
OtrosE
‹‹[ a
.
‹‹a b
TablasE
‹‹b i
>
‹‹i j
(
‹‹j k
)
‹‹k l
;
‹‹l m
oListTablasE
 
=
 
objTablasAD
 &
.
& ' 
Sp_Tablas_Consulta
' 9
(
9 :
new
: =
Ent
> A
.
A B
Sql
B E
.
E F
ClinicaE
F N
.
N O
OtrosE
O U
.
U V
TablasE
V ]
(
] ^
$str
^ w
,
w x
$str
y {
,
{ |
$num
} ~
,
~ 
$num€ 
, ‚
$numƒ …
)… †
)† ‡
;‡ ˆ
if
 
(
 
oListTablasE
 
.
 
Count
 "
>
# $
$num
% &
)
& ''
_RutaWsAgendaCitasMedisyn
 )
=
* +
oListTablasE
, 8
[
8 9
$num
9 :
]
: ;
.
; <
Nombre
< B
;
B C
System
‘‘ 
.
‘‘ 
Net
‘‘ 
.
‘‘ !
ServicePointManager
‘‘ *
.
‘‘* +
SecurityProtocol
‘‘+ ;
=
‘‘< =
System
‘‘> D
.
‘‘D E
Net
‘‘E H
.
‘‘H I"
SecurityProtocolType
‘‘I ]
.
‘‘] ^
Tls12
‘‘^ c
;
‘‘c d
}
’’ 	
public
”” 
static
”” 
void
”” -
LoadInitial_WS_Solo_AgendaCitas
”” :
(
””: ;
)
””; <
{
•• 	
Dat
–– 
.
–– 
Sql
–– 
.
–– 
	ClinicaAD
–– 
.
–– 
	MedisynAD
–– '
.
––' (
MdsynTablasAD
––( 5
objMdsynTablasAD
––6 F
=
––G H
new
––I L
Dat
––M P
.
––P Q
Sql
––Q T
.
––T U
	ClinicaAD
––U ^
.
––^ _
	MedisynAD
––_ h
.
––h i
MdsynTablasAD
––i v
(
––v w
)
––w x
;
––x y
List
—— 
<
—— 
Ent
—— 
.
—— 
Sql
—— 
.
—— 
ClinicaE
—— !
.
——! "
MedisynE
——" *
.
——* +
MdsynTablasE
——+ 7
>
——7 8
oListMdsynTablasE
——9 J
=
——K L
new
——M P
List
——Q U
<
——U V
Ent
——V Y
.
——Y Z
Sql
——Z ]
.
——] ^
ClinicaE
——^ f
.
——f g
MedisynE
——g o
.
——o p
MdsynTablasE
——p |
>
——| }
(
——} ~
)
——~ 
;—— €
oListMdsynTablasE
™™ 
=
™™ 
objMdsynTablasAD
™™  0
.
™™0 1%
Sp_MdsynTablas_Consulta
™™1 H
(
™™H I
new
™™I L
Ent
™™M P
.
™™P Q
Sql
™™Q T
.
™™T U
ClinicaE
™™U ]
.
™™] ^
MedisynE
™™^ f
.
™™f g
MdsynTablasE
™™g s
(
™™s t
$str™™t ”
,™™” •
$str™™– ˜
,™™˜ ™
$str™™š 
,™™ 
$str™™Ÿ ¡
,™™¡ ¢
$num™™£ ¤
)™™¤ ¥
)™™¥ ¦
;™™¦ §
if
šš 
(
šš 
oListMdsynTablasE
šš !
.
šš! "
Count
šš" '
>
šš( )
$num
šš* +
)
šš+ ,*
HorarioRestringidoPresencial
›› ,
=
››- .
oListMdsynTablasE
››/ @
[
››@ A
$num
››A B
]
››B C
.
››C D
Nombre
››D J
;
››J K
oListMdsynTablasE
 
=
 
objMdsynTablasAD
  0
.
0 1%
Sp_MdsynTablas_Consulta
1 H
(
H I
new
I L
Ent
M P
.
P Q
Sql
Q T
.
T U
ClinicaE
U ]
.
] ^
MedisynE
^ f
.
f g
MdsynTablasE
g s
(
s t
$strt ”
,” •
$str– ˜
,˜ ™
$strš 
, 
$strŸ ¡
,¡ ¢
$num£ ¤
)¤ ¥
)¥ ¦
;¦ §
if
 
(
 
oListMdsynTablasE
 !
.
! "
Count
" '
>
( )
$num
* +
)
+ ,'
HorarioRestringidoVirtual
ŸŸ )
=
ŸŸ* +
oListMdsynTablasE
ŸŸ, =
[
ŸŸ= >
$num
ŸŸ> ?
]
ŸŸ? @
.
ŸŸ@ A
Nombre
ŸŸA G
;
ŸŸG H
oListMdsynTablasE
¡¡ 
=
¡¡ 
objMdsynTablasAD
¡¡  0
.
¡¡0 1%
Sp_MdsynTablas_Consulta
¡¡1 H
(
¡¡H I
new
¡¡I L
Ent
¡¡M P
.
¡¡P Q
Sql
¡¡Q T
.
¡¡T U
ClinicaE
¡¡U ]
.
¡¡] ^
MedisynE
¡¡^ f
.
¡¡f g
MdsynTablasE
¡¡g s
(
¡¡s t
$str¡¡t ”
,¡¡” •
$str¡¡– ˜
,¡¡˜ ™
$str¡¡š 
,¡¡ 
$str¡¡Ÿ ¡
,¡¡¡ ¢
$num¡¡£ ¤
)¡¡¤ ¥
)¡¡¥ ¦
;¡¡¦ §
if
¢¢ 
(
¢¢ 
oListMdsynTablasE
¢¢ !
.
¢¢! "
Count
¢¢" '
>
¢¢( )
$num
¢¢* +
)
¢¢+ ,&
MsjRestringidoPresencial
££ (
=
££) *
oListMdsynTablasE
££+ <
[
££< =
$num
££= >
]
££> ?
.
££? @
Nombre
££@ F
;
££F G
oListMdsynTablasE
¥¥ 
=
¥¥ 
objMdsynTablasAD
¥¥  0
.
¥¥0 1%
Sp_MdsynTablas_Consulta
¥¥1 H
(
¥¥H I
new
¥¥I L
Ent
¥¥M P
.
¥¥P Q
Sql
¥¥Q T
.
¥¥T U
ClinicaE
¥¥U ]
.
¥¥] ^
MedisynE
¥¥^ f
.
¥¥f g
MdsynTablasE
¥¥g s
(
¥¥s t
$str¥¥t ”
,¥¥” •
$str¥¥– ˜
,¥¥˜ ™
$str¥¥š 
,¥¥ 
$str¥¥Ÿ ¡
,¥¥¡ ¢
$num¥¥£ ¤
)¥¥¤ ¥
)¥¥¥ ¦
;¥¥¦ §
if
¦¦ 
(
¦¦ 
oListMdsynTablasE
¦¦ !
.
¦¦! "
Count
¦¦" '
>
¦¦( )
$num
¦¦* +
)
¦¦+ ,#
MsjRestringidoVirtual
§§ %
=
§§& '
oListMdsynTablasE
§§( 9
[
§§9 :
$num
§§: ;
]
§§; <
.
§§< =
Nombre
§§= C
;
§§C D
}
¨¨ 	
public
­­ 
static
­­ 
void
­­ #
Load_Initial_Synapsis
­­ 0
(
­­0 1
)
­­1 2
{
®® 	
Dat
¯¯ 
.
¯¯ 
Sql
¯¯ 
.
¯¯ 
	ClinicaAD
¯¯ 
.
¯¯ 
OtrosAD
¯¯ %
.
¯¯% &
TablasAD
¯¯& .
objTablasAD
¯¯/ :
=
¯¯; <
new
¯¯= @
Dat
¯¯A D
.
¯¯D E
Sql
¯¯E H
.
¯¯H I
	ClinicaAD
¯¯I R
.
¯¯R S
OtrosAD
¯¯S Z
.
¯¯Z [
TablasAD
¯¯[ c
(
¯¯c d
)
¯¯d e
;
¯¯e f
List
°° 
<
°° 
Ent
°° 
.
°° 
Sql
°° 
.
°° 
ClinicaE
°° !
.
°°! "
OtrosE
°°" (
.
°°( )
TablasE
°°) 0
>
°°0 1
oListTablasE
°°2 >
=
°°? @
new
°°A D
List
°°E I
<
°°I J
Ent
°°J M
.
°°M N
Sql
°°N Q
.
°°Q R
ClinicaE
°°R Z
.
°°Z [
OtrosE
°°[ a
.
°°a b
TablasE
°°b i
>
°°i j
(
°°j k
)
°°k l
;
°°l m
oListTablasE
²² 
=
²² 
objTablasAD
²² &
.
²²& ' 
Sp_Tablas_Consulta
²²' 9
(
²²9 :
new
²²: =
Ent
²²> A
.
²²A B
Sql
²²B E
.
²²E F
ClinicaE
²²F N
.
²²N O
OtrosE
²²O U
.
²²U V
TablasE
²²V ]
(
²²] ^
$str
²²^ w
,
²²w x
$str
²²y }
,
²²} ~
$num²² 
,²² ‚
$num²²ƒ „
,²²„ …
-²²† ‡
$num²²‡ ˆ
)²²ˆ ‰
)²²‰ Š
;²²Š ‹
if
³³ 
(
³³ 
oListTablasE
³³ 
.
³³ 
Count
³³ "
>
³³# $
$num
³³% &
)
³³& '
_Synapsis_ApiKey
´´  
=
´´! "
oListTablasE
´´# /
[
´´/ 0
$num
´´0 1
]
´´1 2
.
´´2 3
Nombre
´´3 9
.
´´9 :
Trim
´´: >
(
´´> ?
)
´´? @
;
´´@ A
oListTablasE
¶¶ 
=
¶¶ 
objTablasAD
¶¶ &
.
¶¶& ' 
Sp_Tablas_Consulta
¶¶' 9
(
¶¶9 :
new
¶¶: =
Ent
¶¶> A
.
¶¶A B
Sql
¶¶B E
.
¶¶E F
ClinicaE
¶¶F N
.
¶¶N O
OtrosE
¶¶O U
.
¶¶U V
TablasE
¶¶V ]
(
¶¶] ^
$str
¶¶^ z
,
¶¶z {
$str¶¶| €
,¶¶€ 
$num¶¶‚ „
,¶¶„ …
$num¶¶† ‡
,¶¶‡ ˆ
-¶¶‰ Š
$num¶¶Š ‹
)¶¶‹ Œ
)¶¶Œ 
;¶¶ 
if
·· 
(
·· 
oListTablasE
·· 
.
·· 
Count
·· "
>
··# $
$num
··% &
)
··& '$
_Synapsis_SignatureKey
¸¸ &
=
¸¸' (
oListTablasE
¸¸) 5
[
¸¸5 6
$num
¸¸6 7
]
¸¸7 8
.
¸¸8 9
Nombre
¸¸9 ?
.
¸¸? @
Trim
¸¸@ D
(
¸¸D E
)
¸¸E F
;
¸¸F G
oListTablasE
ºº 
=
ºº 
objTablasAD
ºº &
.
ºº& ' 
Sp_Tablas_Consulta
ºº' 9
(
ºº9 :
new
ºº: =
Ent
ºº> A
.
ººA B
Sql
ººB E
.
ººE F
ClinicaE
ººF N
.
ººN O
OtrosE
ººO U
.
ººU V
TablasE
ººV ]
(
ºº] ^
$str
ºº^ t
,
ººt u
$str
ººv z
,
ººz {
$num
ºº| ~
,
ºº~ 
$numºº€ 
,ºº ‚
-ººƒ „
$numºº„ …
)ºº… †
)ºº† ‡
;ºº‡ ˆ
if
»» 
(
»» 
oListTablasE
»» 
.
»» 
Count
»» "
>
»»# $
$num
»»% &
)
»»& '
_Synapsis_Ws_Url
¼¼  
=
¼¼! "
oListTablasE
¼¼# /
[
¼¼/ 0
$num
¼¼0 1
]
¼¼1 2
.
¼¼2 3
Nombre
¼¼3 9
.
¼¼9 :
Trim
¼¼: >
(
¼¼> ?
)
¼¼? @
;
¼¼@ A
}
½½ 	
public
ÃÃ 
static
ÃÃ 
void
ÃÃ #
OpenConfigWebServices
ÃÃ 0
(
ÃÃ0 1
string
ÃÃ1 7
pUrlWS
ÃÃ8 >
)
ÃÃ> ?
{
ÄÄ 	
EndPoint
ÅÅ 
=
ÅÅ 
new
ÅÅ 
System
ÅÅ !
.
ÅÅ! "
ServiceModel
ÅÅ" .
.
ÅÅ. /
EndpointAddress
ÅÅ/ >
(
ÅÅ> ?
pUrlWS
ÅÅ? E
)
ÅÅE F
;
ÅÅF G
if
ÇÇ 
(
ÇÇ 
EndPoint
ÇÇ 
.
ÇÇ 
Uri
ÇÇ 
.
ÇÇ 
Scheme
ÇÇ #
==
ÇÇ$ &
$str
ÇÇ' .
)
ÇÇ. /
{
ÈÈ 
BindingSecure
ÉÉ 
=
ÉÉ 
new
ÉÉ  #
System
ÉÉ$ *
.
ÉÉ* +
ServiceModel
ÉÉ+ 7
.
ÉÉ7 8
BasicHttpsBinding
ÉÉ8 I
(
ÉÉI J
)
ÉÉJ K
;
ÉÉK L
BindingSecure
ËË 
.
ËË $
MaxReceivedMessageSize
ËË 4
=
ËË5 6
$num
ËË7 >
;
ËË> ?
BindingSecure
ÌÌ 
.
ÌÌ 
MaxBufferPoolSize
ÌÌ /
=
ÌÌ0 1
$num
ÌÌ2 9
;
ÌÌ9 :
BindingSecure
ÍÍ 
.
ÍÍ 
MaxBufferSize
ÍÍ +
=
ÍÍ, -
$num
ÍÍ. 5
;
ÍÍ5 6
Binding
ÏÏ 
=
ÏÏ 
BindingSecure
ÏÏ '
;
ÏÏ' (
}
ĞĞ 
else
ÑÑ 
{
ÒÒ 
BindingNormal
ÓÓ 
=
ÓÓ 
new
ÓÓ  #
System
ÓÓ$ *
.
ÓÓ* +
ServiceModel
ÓÓ+ 7
.
ÓÓ7 8
BasicHttpBinding
ÓÓ8 H
(
ÓÓH I
)
ÓÓI J
;
ÓÓJ K
BindingNormal
ÕÕ 
.
ÕÕ $
MaxReceivedMessageSize
ÕÕ 4
=
ÕÕ5 6
$num
ÕÕ7 >
;
ÕÕ> ?
BindingNormal
ÖÖ 
.
ÖÖ 
MaxBufferPoolSize
ÖÖ /
=
ÖÖ0 1
$num
ÖÖ2 9
;
ÖÖ9 :
BindingNormal
×× 
.
×× 
MaxBufferSize
×× +
=
××, -
$num
××. 5
;
××5 6
Binding
ÙÙ 
=
ÙÙ 
BindingNormal
ÙÙ '
;
ÙÙ' (
}
ÚÚ 
}
ÛÛ 	
public
àà 
static
àà 
void
àà $
CloseConfigWebServices
àà 1
(
àà1 2
)
àà2 3
{
áá 	
BindingNormal
ââ 
=
ââ 
null
ââ  
;
ââ  !
BindingSecure
ãã 
=
ãã 
null
ãã  
;
ãã  !
Binding
åå 
=
åå 
null
åå 
;
åå 
EndPoint
ææ 
=
ææ 
null
ææ 
;
ææ 
}
çç 	
public
íí 
static
íí 
void
íí &
OpenConfigWebServicesTci
íí 3
(
íí3 4
string
íí4 :
pUrlWS
íí; A
)
ííA B
{
îî 	
EndPoint
ïï 
=
ïï 
new
ïï 
System
ïï !
.
ïï! "
ServiceModel
ïï" .
.
ïï. /
EndpointAddress
ïï/ >
(
ïï> ?
pUrlWS
ïï? E
)
ïïE F
;
ïïF G

BindingTci
ññ 
=
ññ 
new
ññ 
System
ññ #
.
ññ# $
ServiceModel
ññ$ 0
.
ññ0 1
BasicHttpBinding
ññ1 A
(
ññA B
)
ññB C
;
ññC D

BindingTci
óó 
.
óó $
MaxReceivedMessageSize
óó -
=
óó. /
$num
óó0 7
;
óó7 8

BindingTci
ôô 
.
ôô 
MaxBufferPoolSize
ôô (
=
ôô) *
$num
ôô+ 2
;
ôô2 3

BindingTci
õõ 
.
õõ 
MaxBufferSize
õõ $
=
õõ% &
$num
õõ' .
;
õõ. /
}
öö 	
public
ûû 
static
ûû 
void
ûû '
CloseConfigWebServicesTci
ûû 4
(
ûû4 5
)
ûû5 6
{
üü 	

BindingTci
ıı 
=
ıı 
null
ıı 
;
ıı 
EndPoint
şş 
=
şş 
null
şş 
;
şş 
}
ÿÿ 	
public
 
static
 
void
 %
Guardar_Error_BaseDatos
 2
(
2 3
string
3 9
pMensaje
: B
,
B C
string
D J
pMetodo
K R
)
R S
{
‚‚ 	
if
ƒƒ 
(
ƒƒ 
ActivarLogGuardar
ƒƒ !
==
ƒƒ" $
true
ƒƒ% )
)
ƒƒ) *
{
„„ 
Dat
…… 
.
…… 
Sql
…… 
.
…… 
	ClinicaAD
…… !
.
……! "
	MedisynAD
……" +
.
……+ ,$
MdsynReservalogErrorAD
……, B%
oMdsynReservalogErrorAD
……C Z
=
……[ \
new
……] `
Dat
……a d
.
……d e
Sql
……e h
.
……h i
	ClinicaAD
……i r
.
……r s
	MedisynAD
……s |
.
……| }%
MdsynReservalogErrorAD……} “
(……“ ”
)……” •
;……• –
pMensaje
†† 
=
†† 
pMensaje
†† #
+
††$ %
$str
††& 2
+
††3 4
$str
††5 E
+
††F G
pMetodo
††H O
;
††O P%
oMdsynReservalogErrorAD
‡‡ '
.
‡‡' (,
Sp_MdsynReservalogError_Insert
‡‡( F
(
‡‡F G
new
‡‡G J
Ent
‡‡K N
.
‡‡N O
Sql
‡‡O R
.
‡‡R S
ClinicaE
‡‡S [
.
‡‡[ \
MedisynE
‡‡\ d
.
‡‡d e#
MdsynReservalogErrorE
‡‡e z
(
‡‡z {
pMensaje‡‡{ ƒ
,‡‡ƒ „
$str‡‡… ‡
,‡‡‡ ˆ
$str‡‡‰ ‹
)‡‡‹ Œ
)‡‡Œ 
;‡‡ 
new
‰‰ 
CorreoAgenda
‰‰  
(
‰‰  !
)
‰‰! "
.
‰‰" ##
GuardarMensajeNotepad
‰‰# 8
(
‰‰8 9
pMensaje
‰‰9 A
,
‰‰A B
pMetodo
‰‰C J
)
‰‰J K
;
‰‰K L
}
ŠŠ 
}
‹‹ 	
public
 
enum
 "
ListTipoPagoOrdenBot
 (
{
‘‘ 	
Reserva
’’ 
=
’’ 
$num
’’ 
,
’’ 
Farmacia
““ 
=
““ 
$num
““ 
,
““ 
ReprogramarCitas
”” 
=
”” 
$num
””  
,
””  !"
MantenimientoMedicos
••  
=
••! "
$num
••# $
,
••$ %%
PantallaCitasReservadas
–– #
=
––$ %
$num
––& '
,
––' ("
RecuperarContrasenia
——  
=
——! "
$num
——# $
,
——$ %&
PreAdmision_EnviarCorreo
˜˜ $
=
˜˜% &
$num
˜˜' )
,
˜˜) *,
PreAdmision_SeguimientoDigital
™™ *
=
™™+ ,
$num
™™- /
,
™™/ 0"
ContratoConsultorios
šš  
=
šš  !
$num
šš! #
,
šš# $
}
›› 	
public
ŸŸ 
static
ŸŸ 
string
ŸŸ 
DirrecionLog
ŸŸ )
{
ŸŸ* +
get
ŸŸ, /
;
ŸŸ/ 0
set
ŸŸ1 4
;
ŸŸ4 5
}
ŸŸ6 7
=
ŸŸ8 9
$str
ŸŸ: <
;
ŸŸ< =
public
   
static
   
string
   
NombreNoteLog
   *
{
  + ,
get
  - 0
;
  0 1
set
  2 5
;
  5 6
}
  7 8
=
  9 :
$str
  ; =
;
  = >
public
¡¡ 
static
¡¡ 
string
¡¡ 
NombreServicio
¡¡ +
{
¡¡, -
get
¡¡. 1
;
¡¡1 2
set
¡¡3 6
;
¡¡6 7
}
¡¡8 9
=
¡¡: ;
$str
¡¡< >
;
¡¡> ?
public
¢¢ 
static
¢¢ 
string
¢¢ 
	UserRedQR
¢¢ &
{
¢¢' (
get
¢¢) ,
;
¢¢, -
set
¢¢. 1
;
¢¢1 2
}
¢¢3 4
=
¢¢5 6
$str
¢¢7 9
;
¢¢9 :
public
££ 
static
££ 
string
££ 

ClaveRedQR
££ '
{
££( )
get
££* -
;
££- .
set
££/ 2
;
££2 3
}
££4 5
=
££6 7
$str
££8 :
;
££: ;
public
¦¦ 
static
¦¦ 
void
¦¦ 

Grabar_log
¦¦ %
(
¦¦% &
string
¦¦& ,
pMensaje
¦¦- 5
,
¦¦5 6
string
¦¦7 =
pMetodo
¦¦> E
)
¦¦E F
{
§§ 	
try
¨¨ 
{
©© 
string
«« 
pathDirectory
«« $
=
««% &
DirrecionLog
««' 3
;
««3 4
string
­­ 
NameFileLog
­­ "
=
­­# $
NombreNoteLog
­­% 2
;
­­2 3
string
®® 
pathLog
®® 
=
®®  
pathDirectory
®®! .
+
®®/ 0
$str
®®0 4
+
®®4 5
NameFileLog
®®6 A
;
®®A B
if
°° 
(
°° 
	Directory
°° 
.
°° 
Exists
°° $
(
°°$ %
pathDirectory
°°% 2
)
°°2 3
==
°°4 6
false
°°7 <
)
°°< =
	Directory
±± 
.
±± 
CreateDirectory
±± -
(
±±- .
pathDirectory
±±. ;
)
±±; <
;
±±< =

TextWriter
³³ 
xFile
³³  
=
³³! "
new
³³# &
StreamWriter
³³' 3
(
³³3 4
pathLog
³³4 ;
,
³³; <
true
³³= A
)
³³A B
;
³³B C
xFile
´´ 
.
´´ 
	WriteLine
´´ 
(
´´  
$str
´´  0
+
´´1 2
DateTime
´´3 ;
.
´´; <
Now
´´< ?
.
´´? @
ToString
´´@ H
(
´´H I
)
´´I J
)
´´J K
;
´´K L
xFile
µµ 
.
µµ 
	WriteLine
µµ 
(
µµ  
$str
µµ  +
+
µµ, -
pMensaje
µµ. 6
)
µµ6 7
;
µµ7 8
xFile
¶¶ 
.
¶¶ 
	WriteLine
¶¶ 
(
¶¶  
$str
¶¶  *
+
¶¶+ ,
pMetodo
¶¶- 4
+
¶¶5 6
$str
¶¶7 ;
)
¶¶; <
;
¶¶< =
xFile
·· 
.
·· 
Close
·· 
(
·· 
)
·· 
;
·· 
}
¸¸ 
catch
¹¹ 
(
¹¹ 
	Exception
¹¹ 
ex
¹¹ 
)
¹¹  
{
¹¹! "
}
¹¹# $
}
ºº 	
}
»» 
}½½ Ú
_D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Bus.AgendaClinica\Proveedores\ResultadosROE.cs
	namespace

 	
Bus


 
.

 
AgendaClinica

 
.

 
Proveedores

 '
{ 
public 

class 
ResultadosROE 
{ 
public 
List 
< 
string 
> 
ObtenerAnalisis +
(+ ,
ResultadosRoeE, :
.: ;&
ReqObtenerResultadoSoftvan; U
pRequestV ^
)^ _
{ 	
var 
	LAnalisis 
= 
new 
List  $
<$ %
string% +
>+ ,
(, -
)- .
;. /
string 
urlEndPointDetalle %
=& '
new( +
AgendaCitas, 7
(7 8
)8 9
.9 :
pValorCodigoTabla: K
(K L
$strL ^
,^ _
$str` d
)d e
;e f
string 
body 
= 
JsonConvert %
.% &
SerializeObject& 5
(5 6
pRequest6 >
)> ?
;? @
using 
( 

HttpClient 

httpClient (
=) *
new+ .

HttpClient/ 9
(9 :
): ;
); <
{ 

httpClient 
. !
DefaultRequestHeaders 0
.0 1#
TryAddWithoutValidation1 H
(H I
$strI W
,W X
$strY k
)k l
;l m

httpClient 
. !
DefaultRequestHeaders 0
.0 1
Add1 4
(4 5
$str5 D
,D E
$strF P
)P Q
;Q R
HttpContent 
content #
=$ %
new& )
StringContent* 7
(7 8
body8 <
,< =
Encoding> F
.F G
UTF8G K
,K L
$strM _
)_ `
;` a
HttpResponseMessage #
response$ ,
=- .

httpClient/ 9
.9 :
	PostAsync: C
(C D
urlEndPointDetalleD V
,V W
contentX _
)_ `
.` a
Resulta g
;g h
if 
( 
response 
. 
IsSuccessStatusCode 0
)0 1
{ 
string 
responseBody '
=( )
response* 2
.2 3
Content3 :
.: ;
ReadAsStringAsync; L
(L M
)M N
.N O
ResultO U
;U V
var 
LResultadosE $
=% &
JsonConvert' 2
.2 3
DeserializeObject3 D
<D E
ResultadosRoeEE S
.S T
ResListarHistoricoT f
>f g
(g h
responseBodyh t
)t u
;u v
foreach!! 
(!! 
var!!  
item!!! %
in!!& (
LResultadosE!!) 5
.!!5 6
listadoHistoricos!!6 G
)!!G H
{"" 
var## 
analisis## $
=##% &
item##' +
.##+ ,
CodigoAnalisis##, :
;##: ;
	LAnalisis$$ !
.$$! "
Add$$" %
($$% &
analisis$$& .
)$$. /
;$$/ 0
}%% 
}&& 
}'' 
return)) 
	LAnalisis)) 
;)) 
}** 	
}-- 
}.. ’
^D:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Bus.AgendaClinica\GestorColas\CitasDisplay.cs
	namespace 	
Bus
 
. 
AgendaClinica 
. 
GestorColas '
{ 
public 

class 
CitasDisplay 
{ 
CitasDisplayAD 
_ObjAD 
= 
new  #
CitasDisplayAD$ 2
(2 3
)3 4
;4 5
public 
async 
Task 
< 
CitasDisplayE (
>( )
CitasDisplay_Listar* =
(= >"
CitasDisplayJsonParamE> T
objParametrosU b
)b c
{ 	
try 
{ 
return 
await 
_ObjAD #
.# $
CitasDisplay_Listar$ 7
(7 8
objParametros8 E
)E F
;F G
} 
catch 
( 
	Exception 
ex 
)  
{! "
throw# (
ex) +
;+ ,
}- .
} 	
public 
async 
Task 
< 
CitasDisplayTicketE .
>. /%
CitasDisplayTicket_Listar0 I
(I J!
CitasTicketJsonParamEJ _
objParametros` m
)m n
{ 	
try 
{ 
return   
await   
_ObjAD   #
.  # $%
CitasDisplayTicket_Listar  $ =
(  = >
objParametros  > K
)  K L
;  L M
}!! 
catch"" 
("" 
	Exception"" 
ex"" 
)""  
{""! "
throw""# (
ex"") +
;""+ ,
}""- .
}## 	
public$$ 
string$$ !
uspCitaGetProximaCita$$ +
($$+ ,!
CitasTicketJsonParamE$$, A
objParametros$$B O
)$$O P
{%% 	
try&& 
{'' 
return(( 
_ObjAD(( 
.(( !
uspCitaGetProximaCita(( 3
(((3 4
objParametros((4 A
)((A B
;((B C
})) 
catch** 
(** 
	Exception** 
ex** 
)**  
{**! "
throw**# (
ex**) +
;**+ ,
}**- .
}++ 	
public00 
CitasRegTurno00 "
GetCitasBMaticRegTurno00 3
(003 4
int004 7
pIDCita008 ?
)00? @
{11 	
try22 
{33 
return44 
_ObjAD44 
.44 "
GetCitasBMaticRegTurno44 4
(444 5
pIDCita445 <
)44< =
;44= >
}55 
catch66 
(66 
	Exception66 
ex66 
)66  
{66! "
throw66# (
ex66) +
;66+ ,
}66- .
}77 	
}99 
}:: ¢³
XD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Bus.AgendaClinica\Clinica\SynapsisWS.cs
	namespace 	
Bus
 
. 
AgendaClinica 
. 
Clinica #
{ 
public 

class 

SynapsisWS 
{ 
public 
partial 
class 
RequestOrderApi ,
{ 	
public 
order_ 
order 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
new0 3
order_4 :
(: ;
); <
;< =
public 
partial 
class  
order_! '
{ 
public 
double 
amount $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
$num5 7
;7 8
public"" 
int"" 
number"" !
{""" #
get""$ '
;""' (
set"") ,
;"", -
}"". /
=""0 1
$num""2 3
;""3 4
public)) 
	customer_))  
customer))! )
{))* +
get)), /
;))/ 0
set))1 4
;))4 5
}))6 7
=))8 9
new)): =
	customer_))> G
())G H
)))H I
;))I J
public** 
partial** 
class** $
	customer_**% .
{++ 
public,, 
string,, !
name,," &
{,,' (
get,,) ,
;,,, -
set,,. 1
;,,1 2
},,3 4
=,,5 6
$str,,7 9
;,,9 :
public-- 
string-- !
lastName--" *
{--+ ,
get--- 0
;--0 1
set--2 5
;--5 6
}--7 8
=--9 :
$str--; =
;--= >
public.. 
string.. !
phone.." '
{..( )
get..* -
;..- .
set../ 2
;..2 3
}..4 5
=..6 7
$str..8 :
;..: ;
public// 
string// !
email//" '
{//( )
get//* -
;//- .
set/// 2
;//2 3
}//4 5
=//6 7
$str//8 :
;//: ;
public11 
	document_11 $
document11% -
{11. /
get110 3
;113 4
set115 8
;118 9
}11: ;
=11< =
new11> A
	document_11B K
(11K L
)11L M
;11M N
public22 
partial22 "
class22# (
	document_22) 2
{33 
public44 
string44 %
type44& *
{44+ ,
get44- 0
;440 1
set442 5
;445 6
}447 8
=449 :
$str44; =
;44= >
public55 
string55 %
number55& ,
{55- .
get55/ 2
;552 3
set554 7
;557 8
}559 :
=55; <
$str55= ?
;55? @
}66 
public88 
address_88 #
address88$ +
{88, -
get88. 1
;881 2
set883 6
;886 7
}888 9
=88: ;
new88< ?
address_88@ H
(88H I
)88I J
;88J K
public99 
partial99 "
class99# (
address_99) 1
{:: 
public;; 
string;; %
country;;& -
{;;. /
get;;0 3
;;;3 4
set;;5 8
;;;8 9
};;: ;
=;;< =
$str;;> @
;;;@ A
public<< 
string<< %
[<<% &
]<<& '
levels<<( .
{<</ 0
get<<1 4
;<<4 5
set<<6 9
;<<9 :
}<<; <
=<<= >
Array<<? D
.<<D E
Empty<<E J
<<<J K
string<<K Q
><<Q R
(<<R S
)<<S T
;<<T U
public== 
string== %
line1==& +
{==, -
get==. 1
;==1 2
set==3 6
;==6 7
}==8 9
===: ;
$str==< >
;==> ?
public>> 
string>> %
zip>>& )
{>>* +
get>>, /
;>>/ 0
set>>1 4
;>>4 5
}>>6 7
=>>8 9
$str>>: <
;>>< =
}?? 
}@@ 
publicCC 
	currency_CC  
currencyCC! )
{CC* +
getCC, /
;CC/ 0
setCC1 4
;CC4 5
}CC6 7
=CC8 9
newCC: =
	currency_CC> G
(CCG H
)CCH I
;CCI J
publicDD 
partialDD 
classDD $
	currency_DD% .
{EE 
publicFF 
stringFF !
codeFF" &
{FF' (
getFF) ,
;FF, -
setFF. 1
;FF1 2
}FF3 4
=FF5 6
$strFF7 9
;FF9 :
}GG 
publicII 
country_II 
countryII  '
{II( )
getII* -
;II- .
setII/ 2
;II2 3
}II4 5
=II6 7
newII8 ;
country_II< D
(IID E
)IIE F
;IIF G
publicJJ 
partialJJ 
classJJ $
country_JJ% -
{KK 
publicLL 
stringLL !
codeLL" &
{LL' (
getLL) ,
;LL, -
setLL. 1
;LL1 2
}LL3 4
=LL5 6
$strLL7 9
;LL9 :
}MM 
publicTT 
ListTT 
<TT 
	products_TT %
>TT% &
productsTT' /
{TT0 1
getTT2 5
;TT5 6
setTT7 :
;TT: ;
}TT< =
=TT> ?
newTT@ C
ListTTD H
<TTH I
	products_TTI R
>TTR S
(TTS T
)TTT U
;TTU V
publicUU 
partialUU 
classUU $
	products_UU% .
{VV 
public[[ 
string[[ !
name[[" &
{[[' (
get[[) ,
;[[, -
set[[. 1
;[[1 2
}[[3 4
=[[5 6
$str[[7 9
;[[9 :
public]] 
int]] 
quantity]] '
{]]( )
get]]* -
;]]- .
set]]/ 2
;]]2 3
}]]4 5
=]]6 7
$num]]8 9
;]]9 :
public^^ 
double^^ !

unitAmount^^" ,
{^^- .
get^^/ 2
;^^2 3
set^^4 7
;^^7 8
}^^9 :
=^^; <
$num^^= ?
;^^? @
public__ 
double__ !
amount__" (
{__) *
get__+ .
;__. /
set__0 3
;__3 4
}__5 6
=__7 8
$num__9 ;
;__; <
}`` 
publiccc 

orderType_cc !
	orderTypecc" +
{cc, -
getcc. 1
;cc1 2
setcc3 6
;cc6 7
}cc8 9
=cc: ;
newcc< ?

orderType_cc@ J
(ccJ K
)ccK L
;ccL M
publicdd 
partialdd 
classdd $

orderType_dd% /
{ee 
publicff 
stringff !
codeff" &
{ff' (
getff) ,
;ff, -
setff. 1
;ff1 2
}ff3 4
=ff5 6
$strff7 9
;ff9 :
}gg 
publicii 
targetType_ii "

targetTypeii# -
{ii. /
getii0 3
;ii3 4
setii5 8
;ii8 9
}ii: ;
=ii< =
newii> A
targetType_iiB M
(iiM N
)iiN O
;iiO P
publicjj 
partialjj 
classjj $
targetType_jj% 0
{kk 
publicll 
stringll !
codell" &
{ll' (
getll) ,
;ll, -
setll. 1
;ll1 2
}ll3 4
=ll5 6
$strll7 9
;ll9 :
}mm 
}nn 
publicrr 
	settings_rr 
settingsrr %
{rr& '
getrr( +
;rr+ ,
setrr- 0
;rr0 1
}rr2 3
=rr4 5
newrr6 9
	settings_rr: C
(rrC D
)rrD E
;rrE F
publicss 
partialss 
classss  
	settings_ss! *
{tt 
publicuu 
stringuu 
languageuu &
{uu' (
getuu) ,
;uu, -
setuu. 1
;uu1 2
}uu3 4
=uu5 6
$struu7 ;
;uu; <
publicww 
autogenerate_ww $
autogenerateww% 1
{ww2 3
getww4 7
;ww7 8
setww9 <
;ww< =
}ww> ?
=ww@ A
newwwB E
autogenerate_wwF S
(wwS T
)wwT U
;wwU V
publicxx 
partialxx 
classxx $
autogenerate_xx% 2
{yy 
publiczz 
boolzz 
paymentCodezz  +
{zz, -
getzz. 1
;zz1 2
setzz3 6
;zz6 7
}zz8 9
=zz: ;
truezz< @
;zz@ A
}{{ 
public}} 
expiration_}} "

expiration}}# -
{}}. /
get}}0 3
;}}3 4
set}}5 8
;}}8 9
}}}: ;
=}}< =
new}}> A
expiration_}}B M
(}}M N
)}}N O
;}}O P
public~~ 
partial~~ 
class~~ $
expiration_~~% 0
{ 
public
€€ 
string
€€ !
type
€€" &
{
€€' (
get
€€) ,
;
€€, -
set
€€. 1
;
€€1 2
}
€€3 4
public
 
string
 !
date
" &
{
' (
get
) ,
;
, -
set
. 1
;
1 2
}
3 4
}
‚‚ 
}
ƒƒ 
}
†† 	
public
ŠŠ 
partial
ŠŠ 
class
ŠŠ 
ResponseOrderApi
ŠŠ -
{
‹‹ 	
public
 
data_
 
data
 
{
 
get
  #
;
# $
set
% (
;
( )
}
* +
=
, -
new
. 1
data_
2 7
(
7 8
)
8 9
;
9 :
public
 
partial
 
class
  
data_
! &
{
 
public
‘‘ 
order_
‘‘ 
order
‘‘ #
{
‘‘$ %
get
‘‘& )
;
‘‘) *
set
‘‘+ .
;
‘‘. /
}
‘‘0 1
=
‘‘2 3
new
‘‘4 7
order_
‘‘8 >
(
‘‘> ?
)
‘‘? @
;
‘‘@ A
public
’’ 
partial
’’ 
class
’’ $
order_
’’% +
{
““ 
public
”” 
string
”” !
uniqueIdentifier
””" 2
{
””3 4
get
””5 8
;
””8 9
set
””: =
;
””= >
}
””? @
=
””A B
$str
””C E
;
””E F
public
•• 
int
•• 
number
•• %
{
••& '
get
••( +
;
••+ ,
set
••- 0
;
••0 1
}
••2 3
=
••4 5
$num
••6 7
;
••7 8
public
–– 
double
–– !
amount
––" (
{
––) *
get
––+ .
;
––. /
set
––0 3
;
––3 4
}
––5 6
=
––7 8
$num
––9 ;
;
––; <
public
˜˜ 
entity_
˜˜ "
entity
˜˜# )
{
˜˜* +
get
˜˜, /
;
˜˜/ 0
set
˜˜1 4
;
˜˜4 5
}
˜˜6 7
=
˜˜8 9
new
˜˜: =
entity_
˜˜> E
(
˜˜E F
)
˜˜F G
;
˜˜G H
public
™™ 
partial
™™ "
class
™™# (
entity_
™™) 0
{
šš 
public
›› 
string
›› %
name
››& *
{
››+ ,
get
››- 0
;
››0 1
set
››2 5
;
››5 6
}
››7 8
=
››9 :
$str
››; =
;
››= >
public
œœ 
string
œœ %

identifier
œœ& 0
{
œœ1 2
get
œœ3 6
;
œœ6 7
set
œœ8 ;
;
œœ; <
}
œœ= >
=
œœ? @
$str
œœA C
;
œœC D
public
 
string
 %
logoUrl
& -
{
. /
get
0 3
;
3 4
set
5 8
;
8 9
}
: ;
=
< =
$str
> @
;
@ A
}
 
public
   
country_
   #
country
  $ +
{
  , -
get
  . 1
;
  1 2
set
  3 6
;
  6 7
}
  8 9
=
  : ;
new
  < ?
country_
  @ H
(
  H I
)
  I J
;
  J K
public
¡¡ 
partial
¡¡ "
class
¡¡# (
country_
¡¡) 1
{
¢¢ 
public
££ 
string
££ %
code
££& *
{
££+ ,
get
££- 0
;
££0 1
set
££2 5
;
££5 6
}
££7 8
=
££9 :
$str
££; =
;
££= >
}
¤¤ 
public
¦¦ 
	currency_
¦¦ $
currency
¦¦% -
{
¦¦. /
get
¦¦0 3
;
¦¦3 4
set
¦¦5 8
;
¦¦8 9
}
¦¦: ;
=
¦¦< =
new
¦¦> A
	currency_
¦¦B K
(
¦¦K L
)
¦¦L M
;
¦¦M N
public
§§ 
partial
§§ "
class
§§# (
	currency_
§§) 2
{
¨¨ 
public
©© 
string
©© %
code
©©& *
{
©©+ ,
get
©©- 0
;
©©0 1
set
©©2 5
;
©©5 6
}
©©7 8
=
©©9 :
$str
©©; =
;
©©= >
public
ªª 
string
ªª %
name
ªª& *
{
ªª+ ,
get
ªª- 0
;
ªª0 1
set
ªª2 5
;
ªª5 6
}
ªª7 8
=
ªª9 :
$str
ªª; =
;
ªª= >
public
«« 
string
«« %
symbol
««& ,
{
««- .
get
««/ 2
;
««2 3
set
««4 7
;
««7 8
}
««9 :
=
««; <
$str
««= ?
;
««? @
}
¬¬ 
public
¯¯ 
partial
¯¯ "
class
¯¯# (
	products_
¯¯) 2
{
°° 
public
±± 
string
±± %
name
±±& *
{
±±+ ,
get
±±- 0
;
±±0 1
set
±±2 5
;
±±5 6
}
±±7 8
=
±±9 :
$str
±±; =
;
±±= >
public
²² 
int
²² "
quantity
²²# +
{
²², -
get
²². 1
;
²²1 2
set
²²3 6
;
²²6 7
}
²²8 9
=
²²: ;
$num
²²< =
;
²²= >
public
³³ 
double
³³ %

unitAmount
³³& 0
{
³³1 2
get
³³3 6
;
³³6 7
set
³³8 ;
;
³³; <
}
³³= >
=
³³? @
$num
³³A C
;
³³C D
public
´´ 
double
´´ %
amount
´´& ,
{
´´- .
get
´´/ 2
;
´´2 3
set
´´4 7
;
´´7 8
}
´´9 :
=
´´; <
$num
´´= ?
;
´´? @
}
µµ 
public
·· 
	customer_
·· $
customer
··% -
{
··. /
get
··0 3
;
··3 4
set
··5 8
;
··8 9
}
··: ;
=
··< =
new
··> A
	customer_
··B K
(
··K L
)
··L M
;
··M N
public
¸¸ 
partial
¸¸ "
class
¸¸# (
	customer_
¸¸) 2
{
¹¹ 
public
ºº 
string
ºº %
name
ºº& *
{
ºº+ ,
get
ºº- 0
;
ºº0 1
set
ºº2 5
;
ºº5 6
}
ºº7 8
=
ºº9 :
$str
ºº; =
;
ºº= >
public
»» 
string
»» %
lastname
»»& .
{
»»/ 0
get
»»1 4
;
»»4 5
set
»»6 9
;
»»9 :
}
»»; <
=
»»= >
$str
»»? A
;
»»A B
public
¼¼ 
address_
¼¼ '
address
¼¼( /
{
¼¼0 1
get
¼¼2 5
;
¼¼5 6
set
¼¼7 :
;
¼¼: ;
}
¼¼< =
=
¼¼> ?
new
¼¼@ C
address_
¼¼D L
(
¼¼L M
)
¼¼M N
;
¼¼N O
public
½½ 
partial
½½ &
class
½½' ,
address_
½½- 5
{
¾¾ 
public
¿¿ "
string
¿¿# )
country
¿¿* 1
{
¿¿2 3
get
¿¿4 7
;
¿¿7 8
set
¿¿9 <
;
¿¿< =
}
¿¿> ?
=
¿¿@ A
$str
¿¿B D
;
¿¿D E
public
ÀÀ "
string
ÀÀ# )
[
ÀÀ) *
]
ÀÀ* +
levels
ÀÀ, 2
{
ÀÀ3 4
get
ÀÀ5 8
;
ÀÀ8 9
set
ÀÀ: =
;
ÀÀ= >
}
ÀÀ? @
=
ÀÀA B
Array
ÀÀC H
.
ÀÀH I
Empty
ÀÀI N
<
ÀÀN O
string
ÀÀO U
>
ÀÀU V
(
ÀÀV W
)
ÀÀW X
;
ÀÀX Y
public
ÁÁ "
string
ÁÁ# )
line1
ÁÁ* /
{
ÁÁ0 1
get
ÁÁ2 5
;
ÁÁ5 6
set
ÁÁ7 :
;
ÁÁ: ;
}
ÁÁ< =
=
ÁÁ> ?
$str
ÁÁ@ B
;
ÁÁB C
public
ÂÂ "
string
ÂÂ# )
zip
ÂÂ* -
{
ÂÂ. /
get
ÂÂ0 3
;
ÂÂ3 4
set
ÂÂ5 8
;
ÂÂ8 9
}
ÂÂ: ;
=
ÂÂ< =
$str
ÂÂ> @
;
ÂÂ@ A
}
ÃÃ 
public
ÅÅ 
string
ÅÅ %
email
ÅÅ& +
{
ÅÅ, -
get
ÅÅ. 1
;
ÅÅ1 2
set
ÅÅ3 6
;
ÅÅ6 7
}
ÅÅ8 9
=
ÅÅ: ;
$str
ÅÅ< >
;
ÅÅ> ?
public
ÆÆ 
string
ÆÆ %
phone
ÆÆ& +
{
ÆÆ, -
get
ÆÆ. 1
;
ÆÆ1 2
set
ÆÆ3 6
;
ÆÆ6 7
}
ÆÆ8 9
=
ÆÆ: ;
$str
ÆÆ< >
;
ÆÆ> ?
public
ÈÈ 
	document_
ÈÈ (
document
ÈÈ) 1
{
ÈÈ2 3
get
ÈÈ4 7
;
ÈÈ7 8
set
ÈÈ9 <
;
ÈÈ< =
}
ÈÈ> ?
=
ÈÈ@ A
new
ÈÈB E
	document_
ÈÈF O
(
ÈÈO P
)
ÈÈP Q
;
ÈÈQ R
public
ÉÉ 
partial
ÉÉ &
class
ÉÉ' ,
	document_
ÉÉ- 6
{
ÊÊ 
public
ËË "
string
ËË# )
type
ËË* .
{
ËË/ 0
get
ËË1 4
;
ËË4 5
set
ËË6 9
;
ËË9 :
}
ËË; <
=
ËË= >
$str
ËË? A
;
ËËA B
public
ÌÌ "
string
ÌÌ# )
number
ÌÌ* 0
{
ÌÌ1 2
get
ÌÌ3 6
;
ÌÌ6 7
set
ÌÌ8 ;
;
ÌÌ; <
}
ÌÌ= >
=
ÌÌ? @
$str
ÌÌA C
;
ÌÌC D
}
ÍÍ 
}
ÎÎ 
public
ĞĞ 
string
ĞĞ !
paymentCode
ĞĞ" -
{
ĞĞ. /
get
ĞĞ0 3
;
ĞĞ3 4
set
ĞĞ5 8
;
ĞĞ8 9
}
ĞĞ: ;
=
ĞĞ< =
$str
ĞĞ> @
;
ĞĞ@ A
public
ÑÑ 
DateTime
ÑÑ #
creation
ÑÑ$ ,
{
ÑÑ- .
get
ÑÑ/ 2
;
ÑÑ2 3
set
ÑÑ4 7
;
ÑÑ7 8
}
ÑÑ9 :
public
ÒÒ 
DateTime
ÒÒ #

lastUpdate
ÒÒ$ .
{
ÒÒ/ 0
get
ÒÒ1 4
;
ÒÒ4 5
set
ÒÒ6 9
;
ÒÒ9 :
}
ÒÒ; <
public
ÓÓ 
DateTime
ÓÓ #

expiration
ÓÓ$ .
{
ÓÓ/ 0
get
ÓÓ1 4
;
ÓÓ4 5
set
ÓÓ6 9
;
ÓÓ9 :
}
ÓÓ; <
public
ÕÕ 
state_
ÕÕ !
state
ÕÕ" '
{
ÕÕ( )
get
ÕÕ* -
;
ÕÕ- .
set
ÕÕ/ 2
;
ÕÕ2 3
}
ÕÕ4 5
=
ÕÕ6 7
new
ÕÕ8 ;
state_
ÕÕ< B
(
ÕÕB C
)
ÕÕC D
;
ÕÕD E
public
ÖÖ 
partial
ÖÖ "
class
ÖÖ# (
state_
ÖÖ) /
{
×× 
public
ØØ 
string
ØØ %
code
ØØ& *
{
ØØ+ ,
get
ØØ- 0
;
ØØ0 1
set
ØØ2 5
;
ØØ5 6
}
ØØ7 8
=
ØØ9 :
$str
ØØ; =
;
ØØ= >
}
ÙÙ 
public
ÛÛ 

orderType_
ÛÛ %
	orderType
ÛÛ& /
{
ÛÛ0 1
get
ÛÛ2 5
;
ÛÛ5 6
set
ÛÛ7 :
;
ÛÛ: ;
}
ÛÛ< =
=
ÛÛ> ?
new
ÛÛ@ C

orderType_
ÛÛD N
(
ÛÛN O
)
ÛÛO P
;
ÛÛP Q
public
ÜÜ 
partial
ÜÜ "
class
ÜÜ# (

orderType_
ÜÜ) 3
{
İİ 
public
ŞŞ 
string
ŞŞ %
code
ŞŞ& *
{
ŞŞ+ ,
get
ŞŞ- 0
;
ŞŞ0 1
set
ŞŞ2 5
;
ŞŞ5 6
}
ŞŞ7 8
=
ŞŞ9 :
$str
ŞŞ; =
;
ŞŞ= >
}
ßß 
public
áá 
targetType_
áá &

targetType
áá' 1
{
áá2 3
get
áá4 7
;
áá7 8
set
áá9 <
;
áá< =
}
áá> ?
=
áá@ A
new
ááB E
targetType_
ááF Q
(
ááQ R
)
ááR S
;
ááS T
public
ââ 
partial
ââ "
class
ââ# (
targetType_
ââ) 4
{
ãã 
public
ää 
string
ää %
code
ää& *
{
ää+ ,
get
ää- 0
;
ää0 1
set
ää2 5
;
ää5 6
}
ää7 8
=
ää9 :
$str
ää; =
;
ää= >
}
åå 
}
ææ 
public
èè 
partial
èè 
class
èè $
	settings_
èè% .
{
éé 
public
êê 
string
êê !
language
êê" *
{
êê+ ,
get
êê- 0
;
êê0 1
set
êê2 5
;
êê5 6
}
êê7 8
=
êê9 :
$str
êê; =
;
êê= >
public
ìì 
autogenerate_
ìì (
autogenerate
ìì) 5
{
ìì6 7
get
ìì8 ;
;
ìì; <
set
ìì= @
;
ìì@ A
}
ììB C
=
ììD E
new
ììF I
autogenerate_
ììJ W
(
ììW X
)
ììX Y
;
ììY Z
public
íí 
partial
íí "
class
íí# (
autogenerate_
íí) 6
{
îî 
public
ïï 
bool
ïï #
paymentCode
ïï$ /
{
ïï0 1
get
ïï2 5
;
ïï5 6
set
ïï7 :
;
ïï: ;
}
ïï< =
}
ğğ 
public
òò 
string
òò !
[
òò! "
]
òò" #
brands
òò$ *
{
òò+ ,
get
òò- 0
;
òò0 1
set
òò2 5
;
òò5 6
}
òò7 8
=
òò9 :
Array
òò; @
.
òò@ A
Empty
òòA F
<
òòF G
string
òòG M
>
òòM N
(
òòN O
)
òòO P
;
òòP Q
}
óó 
}
ôô 
public
öö 
bool
öö 
success
öö 
{
öö  !
get
öö" %
;
öö% &
set
öö' *
;
öö* +
}
öö, -
=
öö. /
false
öö0 5
;
öö5 6
public
øø 
message_
øø 
message
øø #
{
øø$ %
get
øø& )
;
øø) *
set
øø+ .
;
øø. /
}
øø0 1
=
øø2 3
new
øø4 7
message_
øø8 @
(
øø@ A
)
øøA B
;
øøB C
public
ùù 
partial
ùù 
class
ùù  
message_
ùù! )
{
úú 
public
ûû 
string
ûû 
code
ûû "
{
ûû# $
get
ûû% (
;
ûû( )
set
ûû* -
;
ûû- .
}
ûû/ 0
=
ûû1 2
$str
ûû3 5
;
ûû5 6
public
üü 
string
üü 
text
üü "
{
üü# $
get
üü% (
;
üü( )
set
üü* -
;
üü- .
}
üü/ 0
=
üü1 2
$str
üü3 5
;
üü5 6
}
ıı 
}
ÿÿ 	
public
ƒƒ 
partial
ƒƒ 
class
ƒƒ $
ResponseOrderApiResult
ƒƒ 3
{
„„ 	
public
…… 
string
…… 
jsonBody
…… "
{
……# $
get
……% (
;
……( )
set
……* -
;
……- .
}
……/ 0
=
……1 2
$str
……3 5
;
……5 6
public
†† 
ResponseOrderApi
†† #
responseOrderApi
††$ 4
{
††5 6
get
††7 :
;
††: ;
set
††< ?
;
††? @
}
††A B
=
††C D
new
††E H
ResponseOrderApi
††I Y
(
††Y Z
)
††Z [
;
††[ \
}
‡‡ 	
public
‹‹ 
partial
‹‹ 
class
‹‹ *
ResponseNotificationOrderApi
‹‹ 9
{
ŒŒ 	
public
 
partial
 
class
  '
ResponseNotificationOrder
! :
{
 
public
 
Order
 
order
 "
{
# $
get
% (
;
( )
set
* -
;
- .
}
/ 0
public
 
Payment
 
payment
 &
{
' (
get
) ,
;
, -
set
. 1
;
1 2
}
3 4
public
‘‘ 
Result
‘‘ 
result
‘‘ $
{
‘‘% &
get
‘‘' *
;
‘‘* +
set
‘‘, /
;
‘‘/ 0
}
‘‘1 2
public
˜˜ 
string
˜˜ 
	signature
˜˜ '
{
˜˜( )
get
˜˜* -
;
˜˜- .
set
˜˜/ 2
;
˜˜2 3
}
˜˜4 5
public
šš 
bool
šš 
success
šš #
{
šš$ %
get
šš& )
;
šš) *
set
šš+ .
;
šš. /
}
šš0 1
public
›› 
Message
›› 
message
›› &
{
››' (
get
››) ,
;
››, -
set
››. 1
;
››1 2
}
››3 4
}
œœ 
public
 
partial
 
class
  
Order
! &
{
ŸŸ 
public
   
string
   
uniqueIdentifier
   .
{
  / 0
get
  1 4
;
  4 5
set
  6 9
;
  9 :
}
  ; <
public
¡¡ 
string
¡¡ 
number
¡¡ $
{
¡¡% &
get
¡¡' *
;
¡¡* +
set
¡¡, /
;
¡¡/ 0
}
¡¡1 2
public
¢¢ 
string
¢¢ 
amount
¢¢ $
{
¢¢% &
get
¢¢' *
;
¢¢* +
set
¢¢, /
;
¢¢/ 0
}
¢¢1 2
public
££ 
Entity
££ 
entity
££ $
{
££% &
get
££' *
;
££* +
set
££, /
;
££/ 0
}
££1 2
public
¤¤ 
Country
¤¤ 
country
¤¤ &
{
¤¤' (
get
¤¤) ,
;
¤¤, -
set
¤¤. 1
;
¤¤1 2
}
¤¤3 4
public
¥¥ 
Currency
¥¥ 
currency
¥¥  (
{
¥¥) *
get
¥¥+ .
;
¥¥. /
set
¥¥0 3
;
¥¥3 4
}
¥¥5 6
public
¦¦ 
Product
¦¦ 
products
¦¦ '
{
¦¦( )
get
¦¦* -
;
¦¦- .
set
¦¦/ 2
;
¦¦2 3
}
¦¦4 5
public
§§ 
Customer
§§ 
customer
§§  (
{
§§) *
get
§§+ .
;
§§. /
set
§§0 3
;
§§3 4
}
§§5 6
public
¨¨ 
string
¨¨ 
paymentCode
¨¨ )
{
¨¨* +
get
¨¨, /
;
¨¨/ 0
set
¨¨1 4
;
¨¨4 5
}
¨¨6 7
public
©© 
DateTime
©© 
creation
©©  (
{
©©) *
get
©©+ .
;
©©. /
set
©©0 3
;
©©3 4
}
©©5 6
public
ªª 
DateTime
ªª 

expiration
ªª  *
{
ªª+ ,
get
ªª- 0
;
ªª0 1
set
ªª2 5
;
ªª5 6
}
ªª7 8
public
«« 
State
«« 
state
«« "
{
««# $
get
««% (
;
««( )
set
««* -
;
««- .
}
««/ 0
public
¬¬ 

Targettype
¬¬ !

targetType
¬¬" ,
{
¬¬- .
get
¬¬/ 2
;
¬¬2 3
set
¬¬4 7
;
¬¬7 8
}
¬¬9 :
public
­­ 
	Ordertype
­­  
	orderType
­­! *
{
­­+ ,
get
­­- 0
;
­­0 1
set
­­2 5
;
­­5 6
}
­­7 8
}
®® 
public
°° 
partial
°° 
class
°°  
Entity
°°! '
{
±± 
public
²² 
string
²² 
name
²² "
{
²²# $
get
²²% (
;
²²( )
set
²²* -
;
²²- .
}
²²/ 0
public
³³ 
string
³³ 

identifier
³³ (
{
³³) *
get
³³+ .
;
³³. /
set
³³0 3
;
³³3 4
}
³³5 6
}
´´ 
public
¶¶ 
partial
¶¶ 
class
¶¶  
Country
¶¶! (
{
·· 
public
¸¸ 
string
¸¸ 
code
¸¸ "
{
¸¸# $
get
¸¸% (
;
¸¸( )
set
¸¸* -
;
¸¸- .
}
¸¸/ 0
}
¹¹ 
public
»» 
partial
»» 
class
»»  
Currency
»»! )
{
¼¼ 
public
½½ 
string
½½ 
code
½½ "
{
½½# $
get
½½% (
;
½½( )
set
½½* -
;
½½- .
}
½½/ 0
public
¾¾ 
string
¾¾ 
name
¾¾ "
{
¾¾# $
get
¾¾% (
;
¾¾( )
set
¾¾* -
;
¾¾- .
}
¾¾/ 0
public
¿¿ 
string
¿¿ 
symbol
¿¿ $
{
¿¿% &
get
¿¿' *
;
¿¿* +
set
¿¿, /
;
¿¿/ 0
}
¿¿1 2
}
ÀÀ 
public
ÂÂ 
partial
ÂÂ 
class
ÂÂ  
Customer
ÂÂ! )
{
ÃÃ 
public
ÄÄ 
string
ÄÄ 
name
ÄÄ "
{
ÄÄ# $
get
ÄÄ% (
;
ÄÄ( )
set
ÄÄ* -
;
ÄÄ- .
}
ÄÄ/ 0
public
ÅÅ 
string
ÅÅ 
lastName
ÅÅ &
{
ÅÅ' (
get
ÅÅ) ,
;
ÅÅ, -
set
ÅÅ. 1
;
ÅÅ1 2
}
ÅÅ3 4
public
ÆÆ 
Address
ÆÆ 
address
ÆÆ &
{
ÆÆ' (
get
ÆÆ) ,
;
ÆÆ, -
set
ÆÆ. 1
;
ÆÆ1 2
}
ÆÆ3 4
public
ÇÇ 
string
ÇÇ 
email
ÇÇ #
{
ÇÇ$ %
get
ÇÇ& )
;
ÇÇ) *
set
ÇÇ+ .
;
ÇÇ. /
}
ÇÇ0 1
public
ÈÈ 
string
ÈÈ 
phone
ÈÈ #
{
ÈÈ$ %
get
ÈÈ& )
;
ÈÈ) *
set
ÈÈ+ .
;
ÈÈ. /
}
ÈÈ0 1
public
ÉÉ 
Document
ÉÉ 
document
ÉÉ  (
{
ÉÉ) *
get
ÉÉ+ .
;
ÉÉ. /
set
ÉÉ0 3
;
ÉÉ3 4
}
ÉÉ5 6
}
ÊÊ 
public
ÌÌ 
partial
ÌÌ 
class
ÌÌ  
Address
ÌÌ! (
{
ÍÍ 
public
ÎÎ 
string
ÎÎ 
country
ÎÎ %
{
ÎÎ& '
get
ÎÎ( +
;
ÎÎ+ ,
set
ÎÎ- 0
;
ÎÎ0 1
}
ÎÎ2 3
public
ÏÏ 
object
ÏÏ 
levels
ÏÏ $
{
ÏÏ% &
get
ÏÏ' *
;
ÏÏ* +
set
ÏÏ, /
;
ÏÏ/ 0
}
ÏÏ1 2
}
ĞĞ 
public
ÒÒ 
partial
ÒÒ 
class
ÒÒ  
Document
ÒÒ! )
{
ÓÓ 
public
ÔÔ 
string
ÔÔ 
type
ÔÔ "
{
ÔÔ# $
get
ÔÔ% (
;
ÔÔ( )
set
ÔÔ* -
;
ÔÔ- .
}
ÔÔ/ 0
public
ÕÕ 
string
ÕÕ 
number
ÕÕ $
{
ÕÕ% &
get
ÕÕ' *
;
ÕÕ* +
set
ÕÕ, /
;
ÕÕ/ 0
}
ÕÕ1 2
}
ÖÖ 
public
ØØ 
partial
ØØ 
class
ØØ  
State
ØØ! &
{
ÙÙ 
public
ÚÚ 
string
ÚÚ 
code
ÚÚ "
{
ÚÚ# $
get
ÚÚ% (
;
ÚÚ( )
set
ÚÚ* -
;
ÚÚ- .
}
ÚÚ/ 0
}
ÛÛ 
public
İİ 
partial
İİ 
class
İİ  

Targettype
İİ! +
{
ŞŞ 
public
ßß 
string
ßß 
code
ßß "
{
ßß# $
get
ßß% (
;
ßß( )
set
ßß* -
;
ßß- .
}
ßß/ 0
}
àà 
public
ââ 
partial
ââ 
class
ââ  
	Ordertype
ââ! *
{
ãã 
public
ää 
string
ää 
code
ää "
{
ää# $
get
ää% (
;
ää( )
set
ää* -
;
ää- .
}
ää/ 0
}
åå 
public
çç 
partial
çç 
class
çç  
Product
çç! (
{
èè 
public
éé 
string
éé 
name
éé "
{
éé# $
get
éé% (
;
éé( )
set
éé* -
;
éé- .
}
éé/ 0
public
êê 
string
êê 
quantity
êê &
{
êê' (
get
êê) ,
;
êê, -
set
êê. 1
;
êê1 2
}
êê3 4
public
ëë 
string
ëë 

unitAmount
ëë (
{
ëë) *
get
ëë+ .
;
ëë. /
set
ëë0 3
;
ëë3 4
}
ëë5 6
}
ìì 
public
îî 
partial
îî 
class
îî  
Payment
îî! (
{
ïï 
public
ğğ 
Card
ğğ 
card
ğğ  
{
ğğ! "
get
ğğ# &
;
ğğ& '
set
ğğ( +
;
ğğ+ ,
}
ğğ- .
public
ññ 
string
ññ 
uniqueIdentifier
ññ .
{
ññ/ 0
get
ññ1 4
;
ññ4 5
set
ññ6 9
;
ññ9 :
}
ññ; <
public
òò 
Brand
òò 
brand
òò "
{
òò# $
get
òò% (
;
òò( )
set
òò* -
;
òò- .
}
òò/ 0
}
óó 
public
õõ 
partial
õõ 
class
õõ  
Card
õõ! %
{
öö 
public
÷÷ 
string
÷÷ 
bin
÷÷ !
{
÷÷" #
get
÷÷$ '
;
÷÷' (
set
÷÷) ,
;
÷÷, -
}
÷÷. /
public
øø 
string
øø 
lastPan
øø %
{
øø& '
get
øø( +
;
øø+ ,
set
øø- 0
;
øø0 1
}
øø2 3
}
ùù 
public
ûû 
partial
ûû 
class
ûû  
Brand
ûû! &
{
üü 
public
ıı 
string
ıı 
code
ıı "
{
ıı# $
get
ıı% (
;
ıı( )
set
ıı* -
;
ıı- .
}
ıı/ 0
}
şş 
public
€€ 
partial
€€ 
class
€€  
Result
€€! '
{
 
public
‚‚ 
bool
‚‚ 
accepted
‚‚ $
{
‚‚% &
get
‚‚' *
;
‚‚* +
set
‚‚, /
;
‚‚/ 0
}
‚‚1 2
public
ƒƒ 
string
ƒƒ 
code
ƒƒ "
{
ƒƒ# $
get
ƒƒ% (
;
ƒƒ( )
set
ƒƒ* -
;
ƒƒ- .
}
ƒƒ/ 0
public
„„ 
string
„„ 
message
„„ %
{
„„& '
get
„„( +
;
„„+ ,
set
„„- 0
;
„„0 1
}
„„2 3
public
…… 
Processorresult
…… &
processorResult
……' 6
{
……7 8
get
……9 <
;
……< =
set
……> A
;
……A B
}
……C D
public
†† 
DateTime
†† !
processingTimestamp
††  3
{
††4 5
get
††6 9
;
††9 :
set
††; >
;
††> ?
}
††@ A
}
‡‡ 
public
‰‰ 
partial
‰‰ 
class
‰‰  
Processorresult
‰‰! 0
{
ŠŠ 
public
‹‹ 
string
‹‹ 
code
‹‹ "
{
‹‹# $
get
‹‹% (
;
‹‹( )
set
‹‹* -
;
‹‹- .
}
‹‹/ 0
public
ŒŒ 
string
ŒŒ 
message
ŒŒ %
{
ŒŒ& '
get
ŒŒ( +
;
ŒŒ+ ,
set
ŒŒ- 0
;
ŒŒ0 1
}
ŒŒ2 3
public
 
string
 #
transactionIdentifier
 3
{
4 5
get
6 9
;
9 :
set
; >
;
> ?
}
@ A
}
 
public
 
partial
 
class
  
Message
! (
{
‘‘ 
public
’’ 
string
’’ 
code
’’ "
{
’’# $
get
’’% (
;
’’( )
set
’’* -
;
’’- .
}
’’/ 0
public
““ 
string
““ 
text
““ "
{
““# $
get
““% (
;
““( )
set
““* -
;
““- .
}
““/ 0
}
”” 
}
•• 	
public
¡¡ $
ResponseOrderApiResult
¡¡ %!
GenerateOrderApiBot
¡¡& 9
(
¡¡9 :
MdsynPagosE
¡¡: E
pMdsynPagosE
¡¡F R
)
¡¡R S
{
¢¢ 	
var
££  
objRequestOrderApi
££ "
=
££# $
new
££% (
RequestOrderApi
££) 8
(
££8 9
)
££9 :
;
££: ;
var
¤¤ 
settings
¤¤ 
=
¤¤ 
new
¤¤ 
RequestOrderApi
¤¤ .
.
¤¤. /
	settings_
¤¤/ 8
(
¤¤8 9
)
¤¤9 :
;
¤¤: ;
var
¥¥ 
Order
¥¥ 
=
¥¥ 
new
¥¥ 
RequestOrderApi
¥¥ +
.
¥¥+ ,
order_
¥¥, 2
(
¥¥2 3
)
¥¥3 4
;
¥¥4 5
var
§§ 
responseOrdenApi
§§  
=
§§! "
new
§§# &
ResponseOrderApi
§§' 7
(
§§7 8
)
§§8 9
;
§§9 :
var
¨¨ %
oResponseOrderApiResult
¨¨ '
=
¨¨( )
new
¨¨* -$
ResponseOrderApiResult
¨¨. D
(
¨¨D E
)
¨¨E F
;
¨¨F G
var
©© 
dt
©© 
=
©© 
new
©© 
	DataTable
©© "
(
©©" #
)
©©# $
;
©©$ %
string
«« 
jsonBody
«« 
=
«« 
$str
««  
;
««  !
string
¬¬ 
rpta
¬¬ 
=
¬¬ 
$str
¬¬ 
;
¬¬ 
string
­­ 
	signature
­­ 
=
­­ 
$str
­­ !
;
­­! "
string
®® 
valueToSign
®® 
=
®®  
$str
®®! #
;
®®# $
string
¯¯ 
signedElement
¯¯  
=
¯¯! "
$str
¯¯# %
;
¯¯% &
{
±± 
var
²² 
	withBlock
²² 
=
²² 
pMdsynPagosE
²²  ,
.
²², -$
objSynapsisOrderApiBot
²²- C
;
²²C D
Order
³³ 
.
³³ 
amount
³³ 
=
³³ 
double
³³ %
.
³³% &
Parse
³³& +
(
³³+ ,
	withBlock
³³, 5
.
³³5 6
amount
³³6 <
)
³³< =
;
³³= >
Order
´´ 
.
´´ 
number
´´ 
=
´´ 
int
´´ "
.
´´" #
Parse
´´# (
(
´´( )
	withBlock
´´) 2
.
´´2 3
number
´´3 9
)
´´9 :
;
´´: ;
Order
µµ 
.
µµ 
customer
µµ 
.
µµ 
name
µµ #
=
µµ$ %
	withBlock
µµ& /
.
µµ/ 0
	cust_name
µµ0 9
;
µµ9 :
Order
¶¶ 
.
¶¶ 
customer
¶¶ 
.
¶¶ 
lastName
¶¶ '
=
¶¶( )
	withBlock
¶¶* 3
.
¶¶3 4
cust_lastname
¶¶4 A
;
¶¶A B
Order
·· 
.
·· 
customer
·· 
.
·· 
phone
·· $
=
··% &
	withBlock
··' 0
.
··0 1

cust_phone
··1 ;
;
··; <
Order
¸¸ 
.
¸¸ 
customer
¸¸ 
.
¸¸ 
email
¸¸ $
=
¸¸% &
	withBlock
¸¸' 0
.
¸¸0 1

cust_email
¸¸1 ;
;
¸¸; <
Order
¹¹ 
.
¹¹ 
customer
¹¹ 
.
¹¹ 
document
¹¹ '
.
¹¹' (
type
¹¹( ,
=
¹¹- .
	withBlock
¹¹/ 8
.
¹¹8 9
cust_doc_type
¹¹9 F
;
¹¹F G
Order
ºº 
.
ºº 
customer
ºº 
.
ºº 
document
ºº '
.
ºº' (
number
ºº( .
=
ºº/ 0
	withBlock
ºº1 :
.
ºº: ;
cust_doc_number
ºº; J
;
ººJ K
Order
»» 
.
»» 
customer
»» 
.
»» 
address
»» &
.
»»& '
country
»»' .
=
»»/ 0
	withBlock
»»1 :
.
»»: ;!
cust_adress_country
»»; N
;
»»N O
Order
¼¼ 
.
¼¼ 
customer
¼¼ 
.
¼¼ 
address
¼¼ &
.
¼¼& '
levels
¼¼' -
=
¼¼. /
new
¼¼0 3
string
¼¼4 :
[
¼¼: ;
$num
¼¼; <
]
¼¼< =
{
¼¼> ?
	withBlock
¼¼@ I
.
¼¼I J 
cust_adress_levels
¼¼J \
.
¼¼\ ]
	Substring
¼¼] f
(
¼¼f g
$num
¼¼g h
,
¼¼h i
$num
¼¼j k
)
¼¼k l
+
¼¼m n
$str
¼¼o u
,
¼¼u v
	withBlock¼¼w €
.¼¼€ "
cust_adress_levels¼¼ “
.¼¼“ ”
	Substring¼¼” 
(¼¼ 
$num¼¼ Ÿ
,¼¼Ÿ  
$num¼¼¡ ¢
)¼¼¢ £
+¼¼¤ ¥
$str¼¼¦ ª
,¼¼ª «
	withBlock¼¼¬ µ
.¼¼µ ¶"
cust_adress_levels¼¼¶ È
.¼¼È É
	Substring¼¼É Ò
(¼¼Ò Ó
$num¼¼Ó Ô
,¼¼Ô Õ
$num¼¼Ö ×
)¼¼× Ø
+¼¼Ù Ú
$str¼¼Û ß
}¼¼à á
;¼¼á â
Order
½½ 
.
½½ 
customer
½½ 
.
½½ 
address
½½ &
.
½½& '
line1
½½' ,
=
½½- .
	withBlock
½½/ 8
.
½½8 9
cust_adress_line1
½½9 J
;
½½J K
Order
¾¾ 
.
¾¾ 
customer
¾¾ 
.
¾¾ 
address
¾¾ &
.
¾¾& '
zip
¾¾' *
=
¾¾+ ,
	withBlock
¾¾- 6
.
¾¾6 7
cust_adress_zip
¾¾7 F
;
¾¾F G
Order
¿¿ 
.
¿¿ 
currency
¿¿ 
.
¿¿ 
code
¿¿ #
=
¿¿$ %
	withBlock
¿¿& /
.
¿¿/ 0
currency_code
¿¿0 =
;
¿¿= >
Order
ÀÀ 
.
ÀÀ 
country
ÀÀ 
.
ÀÀ 
code
ÀÀ "
=
ÀÀ# $
	withBlock
ÀÀ% .
.
ÀÀ. /
country_code
ÀÀ/ ;
;
ÀÀ; <
Order
ÂÂ 
.
ÂÂ 
products
ÂÂ 
.
ÂÂ 
Add
ÂÂ "
(
ÂÂ" #
new
ÂÂ# &
RequestOrderApi
ÂÂ' 6
.
ÂÂ6 7
order_
ÂÂ7 =
.
ÂÂ= >
	products_
ÂÂ> G
(
ÂÂG H
)
ÂÂH I
)
ÂÂI J
;
ÂÂJ K
Order
ÃÃ 
.
ÃÃ 
products
ÃÃ 
[
ÃÃ 
$num
ÃÃ  
]
ÃÃ  !
.
ÃÃ! "
name
ÃÃ" &
=
ÃÃ' (
	withBlock
ÃÃ) 2
.
ÃÃ2 3
products_name
ÃÃ3 @
;
ÃÃ@ A
Order
ÄÄ 
.
ÄÄ 
products
ÄÄ 
[
ÄÄ 
$num
ÄÄ  
]
ÄÄ  !
.
ÄÄ! "
quantity
ÄÄ" *
=
ÄÄ+ ,
int
ÄÄ- 0
.
ÄÄ0 1
Parse
ÄÄ1 6
(
ÄÄ6 7
	withBlock
ÄÄ7 @
.
ÄÄ@ A
products_quantity
ÄÄA R
)
ÄÄR S
;
ÄÄS T
Order
ÅÅ 
.
ÅÅ 
products
ÅÅ 
[
ÅÅ 
$num
ÅÅ  
]
ÅÅ  !
.
ÅÅ! "

unitAmount
ÅÅ" ,
=
ÅÅ- .
double
ÅÅ/ 5
.
ÅÅ5 6
Parse
ÅÅ6 ;
(
ÅÅ; <
	withBlock
ÅÅ< E
.
ÅÅE F!
products_unitAmount
ÅÅF Y
)
ÅÅY Z
;
ÅÅZ [
Order
ÆÆ 
.
ÆÆ 
products
ÆÆ 
[
ÆÆ 
$num
ÆÆ  
]
ÆÆ  !
.
ÆÆ! "
amount
ÆÆ" (
=
ÆÆ) *
double
ÆÆ+ 1
.
ÆÆ1 2
Parse
ÆÆ2 7
(
ÆÆ7 8
	withBlock
ÆÆ8 A
.
ÆÆA B
products_amount
ÆÆB Q
)
ÆÆQ R
;
ÆÆR S
Order
ÇÇ 
.
ÇÇ 
	orderType
ÇÇ 
.
ÇÇ  
code
ÇÇ  $
=
ÇÇ% &
	withBlock
ÇÇ' 0
.
ÇÇ0 1
ordTyp_code
ÇÇ1 <
;
ÇÇ< =
Order
ÈÈ 
.
ÈÈ 

targetType
ÈÈ  
.
ÈÈ  !
code
ÈÈ! %
=
ÈÈ& '
	withBlock
ÈÈ( 1
.
ÈÈ1 2
targTyp_code
ÈÈ2 >
;
ÈÈ> ?
settings
ÊÊ 
.
ÊÊ 

expiration
ÊÊ #
.
ÊÊ# $
type
ÊÊ$ (
=
ÊÊ) *
$str
ÊÊ+ 1
;
ÊÊ1 2
settings
ËË 
.
ËË 

expiration
ËË #
.
ËË# $
date
ËË$ (
=
ËË) *
	withBlock
ËË+ 4
.
ËË4 5%
setting_expiration_date
ËË5 L
.
ËËL M
ToString
ËËM U
(
ËËU V
$str
ËËV t
)
ËËt u
;
ËËu v
}
ÌÌ  
objRequestOrderApi
ÎÎ 
.
ÎÎ 
order
ÎÎ $
=
ÎÎ% &
Order
ÎÎ' ,
;
ÎÎ, - 
objRequestOrderApi
ÏÏ 
.
ÏÏ 
settings
ÏÏ '
=
ÏÏ( )
settings
ÏÏ* 2
;
ÏÏ2 3
jsonBody
ÑÑ 
=
ÑÑ 
JsonConvert
ÑÑ "
.
ÑÑ" #
SerializeObject
ÑÑ# 2
(
ÑÑ2 3 
objRequestOrderApi
ÑÑ3 E
)
ÑÑE F
;
ÑÑF G
valueToSign
ÓÓ 
=
ÓÓ 
Convert
ÓÓ !
.
ÓÓ! "
ToString
ÓÓ" *
(
ÓÓ* +
Order
ÓÓ+ 0
.
ÓÓ0 1
number
ÓÓ1 7
)
ÓÓ7 8
+
ÓÓ9 :
Convert
ÓÓ; B
.
ÓÓB C
ToString
ÓÓC K
(
ÓÓK L
Order
ÓÓL Q
.
ÓÓQ R
currency
ÓÓR Z
.
ÓÓZ [
code
ÓÓ[ _
)
ÓÓ_ `
+
ÓÓa b
Convert
ÓÓc j
.
ÓÓj k
ToString
ÓÓk s
(
ÓÓs t
Order
ÓÓt y
.
ÓÓy z
amountÓÓz €
)ÓÓ€ 
;ÓÓ ‚
signedElement
ÔÔ 
=
ÔÔ 
valueToSign
ÔÔ '
;
ÔÔ' (
	signature
ÕÕ 
=
ÕÕ 
Criptography
ÕÕ $
.
ÕÕ$ %
SHA
ÕÕ% (
.
ÕÕ( )"
GenerateSHA512String
ÕÕ) =
(
ÕÕ= >
VariablesGlobales
ÕÕ> O
.
ÕÕO P
Synapsis_ApiKey
ÕÕP _
+
ÕÕ` a
valueToSign
ÕÕb m
+
ÕÕn o 
VariablesGlobalesÕÕp 
.ÕÕ ‚%
Synapsis_SignatureKeyÕÕ‚ —
)ÕÕ— ˜
.ÕÕ˜ ™
ToLowerÕÕ™  
(ÕÕ  ¡
)ÕÕ¡ ¢
;ÕÕ¢ £
rpta
×× 
=
×× 
Json
×× 
.
×× !
MethodPostSignature
×× +
(
××+ ,
VariablesGlobales
××, =
.
××= >
Synapsis_Ws_Url
××> M
+
××N O
$str
××P o
,
××o p
jsonBody
××q y
,
××y z
new
ØØ 
Json
ØØ 
.
ØØ 

Parameters
ØØ #
(
ØØ# $
$str
ØØ$ 2
,
ØØ2 3
$str
ØØ4 F
,
ØØF G
Json
ØØH L
.
ØØL M

TipoFormat
ØØM W
.
ØØW X
Header
ØØX ^
)
ØØ^ _
,
ØØ_ `
new
ÙÙ 
Json
ÙÙ 
.
ÙÙ 

Parameters
ÙÙ #
(
ÙÙ# $
$str
ÙÙ$ 0
,
ÙÙ0 1
VariablesGlobales
ÙÙ2 C
.
ÙÙC D
Synapsis_ApiKey
ÙÙD S
,
ÙÙS T
Json
ÙÙU Y
.
ÙÙY Z

TipoFormat
ÙÙZ d
.
ÙÙd e
Header
ÙÙe k
)
ÙÙk l
,
ÙÙl m
new
ÚÚ 
Json
ÚÚ 
.
ÚÚ 

Parameters
ÚÚ #
(
ÚÚ# $
$str
ÚÚ$ .
,
ÚÚ. /
$str
ÚÚ0 8
,
ÚÚ8 9
Json
ÚÚ: >
.
ÚÚ> ?

TipoFormat
ÚÚ? I
.
ÚÚI J
Header
ÚÚJ P
)
ÚÚP Q
,
ÚÚQ R
new
ÛÛ 
Json
ÛÛ 
.
ÛÛ 

Parameters
ÛÛ #
(
ÛÛ# $
$str
ÛÛ$ 2
,
ÛÛ2 3
$str
ÛÛ4 ;
,
ÛÛ; <
Json
ÛÛ= A
.
ÛÛA B

TipoFormat
ÛÛB L
.
ÛÛL M
Header
ÛÛM S
)
ÛÛS T
,
ÛÛT U
new
ÜÜ 
Json
ÜÜ 
.
ÜÜ 

Parameters
ÜÜ #
(
ÜÜ# $
$str
ÜÜ$ 3
,
ÜÜ3 4
signedElement
ÜÜ5 B
,
ÜÜB C
Json
ÜÜD H
.
ÜÜH I

TipoFormat
ÜÜI S
.
ÜÜS T
Header
ÜÜT Z
)
ÜÜZ [
,
ÜÜ[ \
new
İİ 
Json
İİ 
.
İİ 

Parameters
İİ #
(
İİ# $
$str
İİ$ /
,
İİ/ 0
	signature
İİ1 :
,
İİ: ;
Json
İİ< @
.
İİ@ A

TipoFormat
İİA K
.
İİK L
Header
İİL R
)
İİR S
)
İİS T
;
İİT U
try
ßß 
{
àà 
if
áá 
(
áá 
string
áá 
.
áá 
IsNullOrEmpty
áá (
(
áá( )
rpta
áá) -
)
áá- .
)
áá. /
{
ââ 
throw
ãã 
new
ãã 
	Exception
ãã '
(
ãã' (
$str
ãã( s
)
ããs t
;
ããt u
}
ää 
else
åå 
{
ææ 
responseOrdenApi
çç $
=
çç% &
(
çç' (
ResponseOrderApi
çç( 8
)
çç8 9
JsonConvert
çç9 D
.
ççD E
DeserializeObject
ççE V
(
ççV W
rpta
ççW [
,
çç[ \
typeof
çç] c
(
ççc d
ResponseOrderApi
ççd t
)
ççt u
)
ççu v
;
ççv w%
oResponseOrderApiResult
éé +
.
éé+ ,
jsonBody
éé, 4
=
éé5 6
jsonBody
éé7 ?
;
éé? @%
oResponseOrderApiResult
êê +
.
êê+ ,
responseOrderApi
êê, <
=
êê= >
responseOrdenApi
êê? O
;
êêO P
}
ëë 
}
ìì 
catch
îî 
(
îî 
	Exception
îî 
ex
îî 
)
îî  
{
ïï %
oResponseOrderApiResult
ğğ '
.
ğğ' (
responseOrderApi
ğğ( 8
.
ğğ8 9
message
ğğ9 @
.
ğğ@ A
text
ğğA E
=
ğğF G
ex
ğğH J
.
ğğJ K
Message
ğğK R
;
ğğR S
}
ññ 
return
óó %
oResponseOrderApiResult
óó *
;
óó* +
}
ôô 	
public
øø 
bool
øø &
NotificationOrderPagoBot
øø ,
(
øø, -*
ResponseNotificationOrderApi
øø- I
.
øøI J'
ResponseNotificationOrder
øøJ c+
objResponseNotificationOrderøød €
,øø€ 
stringøø‚ ˆ
JsonBodyøø‰ ‘
)øø‘ ’
{
ùù 	
bool
úú 
result
úú 
=
úú 
false
úú 
;
úú  
string
ûû 
	Signature
ûû 
=
ûû 
$str
ûû !
;
ûû! "
	Signature
ıı 
=
ıı 
Criptography
ıı $
.
ıı$ %
SHA
ıı% (
.
ıı( )"
GenerateSHA512String
ıı) =
(
ıı= >
VariablesGlobales
ıı> O
.
ııO P
Synapsis_ApiKey
ııP _
+
ıı` a*
objResponseNotificationOrder
ııb ~
.
ıı~ 
orderıı „
.ıı„ …
numberıı… ‹
+ııŒ ,
objResponseNotificationOrderıı ª
.ııª «
orderıı« °
.ıı° ±
currencyıı± ¹
.ıı¹ º
codeııº ¾
+ıı¿ À,
objResponseNotificationOrderııÁ İ
.ııİ Ş
orderııŞ ã
.ııã ä
amountııä ê
+ııë ì,
objResponseNotificationOrderııí ‰
.ıı‰ Š
paymentııŠ ‘
.ıı‘ ’ 
uniqueIdentifierıı’ ¢
+ıı£ ¤,
objResponseNotificationOrderıı¥ Á
.ııÁ Â
resultııÂ È
.ııÈ É
codeııÉ Í
+ııÎ Ï!
VariablesGlobalesııĞ á
.ııá â%
Synapsis_SignatureKeyııâ ÷
)ıı÷ ø
.ııø ù
ToLowerııù €
(ıı€ 
)ıı ‚
;ıı‚ ƒ
{
€€ 
var
 
	withBlock
 
=
 *
objResponseNotificationOrder
  <
.
< =
order
= B
;
B C
if
‚‚ 
(
‚‚ *
objResponseNotificationOrder
‚‚ 0
.
‚‚0 1
success
‚‚1 8
==
‚‚9 ;
true
‚‚< @
)
‚‚@ A
{
ƒƒ 
if
„„ 
(
„„ 
(
„„ 
	Signature
„„ "
??
„„# %
$str
„„& (
)
„„( )
==
„„* ,
(
„„- .*
objResponseNotificationOrder
„„. J
.
„„J K
	signature
„„K T
??
„„U W
$str
„„X Z
)
„„Z [
)
„„[ \
{
…… 
result
†† 
=
††  
new
††! $
MdsynPagosAD
††% 1
(
††1 2
)
††2 3
.
††3 4'
Sp_MdsynPagos_Cita_Update
††4 M
(
††M N
new
††N Q
MdsynPagosE
††R ]
(
††] ^
long
††^ b
.
††b c
Parse
††c h
(
††h i
	withBlock
††i r
.
††r s
number
††s y
)
††y z
,
††z {
$str
††| ~
,
††~ 
$num†† ‚
,††‚ ƒ
$str††„ †
,††† ‡
$str††ˆ Š
,††Š ‹
$num††Œ 
,†† 
$str†† ‘
,††‘ ’
$str††“ •
,††• –
$num††— ˜
,††˜ ™
$str††š œ
,††œ 
$str†† ¡
,††¡ ¢,
objResponseNotificationOrder††£ ¿
.††¿ À
result††À Æ
.††Æ Ç
processorResult††Ç Ö
.††Ö ×%
transactionIdentifier††× ì
,††ì í,
objResponseNotificationOrder††î Š
.††Š ‹
payment††‹ ’
.††’ “
brand††“ ˜
.††˜ ™
code††™ 
,†† ,
objResponseNotificationOrder††Ÿ »
.††» ¼
payment††¼ Ã
.††Ã Ä
card††Ä È
.††È É
lastPan††É Ğ
,††Ğ Ñ
JsonBody††Ò Ú
,††Ú Û
$str††Ü ó
)††ó ô
)††ô õ
;††õ ö
}
‡‡ 
else
ˆˆ 
{
‰‰ 
}
‹‹ 
}
ŒŒ 
}
 
return
 
result
 
;
 
}
 	
}
–– 
}—— ¨Ü
VD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Bus.AgendaClinica\Clinica\SitedsWs.cs
	namespace

 	
Bus


 
.

 
AgendaClinica

 
.

 
Clinica

 #
{ 
public 

class 
SitedsWs 
{ 
public 
string 
RutaWS_Siteds #
{$ %
get& )
;) *
set+ .
;. /
}0 1
=2 3
$str4 \
;\ ]
private 
string 
xRuc 
{ 
get !
;! "
set# &
;& '
}( )
=* +
$str, .
;. /
private 
string 
xIAFAS 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
$str. 0
;0 1
private 
string 
xSunasa 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
$str/ 1
;1 2
List 
< 
ClinicaE 
> 

lstClinica !
=" #
new$ '
List( ,
<, -
ClinicaE- 5
>5 6
(6 7
)7 8
;8 9
public 
SitedsWs 
( 
) 
{ 	
} 	
public33 
void33 

AsignaIAFA33 
(33 
string33 %
pRuc33& *
,33* +
string33, 2
pSunasa333 :
,33: ;
string33< B
pIAFAS33C I
)33I J
{44 	
xSunasa55 
=55 
pSunasa55 
;55 
xRuc66 
=66 
pRuc66 
;66 
xIAFAS77 
=77 
pIAFAS77 
;77 
}88 	
public;; 
class;; 
AsegNombRequest;; $
{<< 	
public== 
string== 
RUC== 
{== 
get==  #
;==# $
set==% (
;==( )
}==* +
===, -
$str==. 0
;==0 1
public>> 
string>> 
SUNASA>>  
{>>! "
get>># &
;>>& '
set>>( +
;>>+ ,
}>>- .
=>>/ 0
$str>>1 3
;>>3 4
publicDD 
stringDD 
IAFASDD 
{DD  !
getDD" %
;DD% &
setDD' *
;DD* +
}DD, -
=DD. /
$strDD0 2
;DD2 3
publicFF 
stringFF $
CodTipoDocumentoAfiliadoFF 2
{FF3 4
getFF5 8
;FF8 9
setFF: =
;FF= >
}FF? @
=FFA B
$strFFC E
;FFE F
publicGG 
stringGG #
NumeroDocumentoAfiliadoGG 1
{GG2 3
getGG4 7
;GG7 8
setGG9 <
;GG< =
}GG> ?
=GG@ A
$strGGB D
;GGD E
publicHH 
stringHH 
NombresAfiliadoHH )
{HH* +
getHH, /
;HH/ 0
setHH1 4
;HH4 5
}HH6 7
=HH8 9
$strHH: <
;HH< =
publicII 
stringII #
ApellidoPaternoAfiliadoII 1
{II2 3
getII4 7
;II7 8
setII9 <
;II< =
}II> ?
=II@ A
$strIIB D
;IID E
publicJJ 
stringJJ #
ApellidoMaternoAfiliadoJJ 1
{JJ2 3
getJJ4 7
;JJ7 8
setJJ9 <
;JJ< =
}JJ> ?
=JJ@ A
$strJJB D
;JJD E
publicKK 
stringKK 
CodEspecialidadKK )
{KK* +
getKK, /
;KK/ 0
setKK1 4
;KK4 5
}KK6 7
=KK8 9
$strKK: <
;KK< =
publicNN 
AsegNombRequestNN "
(NN" #
)NN# $
{OO 
}PP 
publicRR 
AsegNombRequestRR "
(RR" #
stringRR# )
pRUCRR* .
,RR. /
stringRR0 6
pSUNASARR7 >
,RR> ?
stringRR@ F
pIAFASRRG M
)RRM N
{SS 
RUCTT 
=TT 
pRUCTT 
;TT 
SUNASAUU 
=UU 
pSUNASAUU  
;UU  !
IAFASVV 
=VV 
pIAFASVV 
;VV 
}WW 
publicYY 
AsegNombRequestYY "
(YY" #
stringYY# )
pRUCYY* .
,YY. /
stringYY0 6
pSUNASAYY7 >
,YY> ?
stringYY@ F
pIAFASYYG M
,YYM N
stringYYO U
pTipDocumentoYYV c
,YYc d
stringYYe k
pDocIdentidadYYl y
)YYy z
{ZZ 
RUC[[ 
=[[ 
pRUC[[ 
;[[ 
SUNASA\\ 
=\\ 
pSUNASA\\  
;\\  !
IAFAS]] 
=]] 
pIAFAS]] 
;]] $
CodTipoDocumentoAfiliado^^ (
=^^) *
pTipDocumento^^+ 8
;^^8 9#
NumeroDocumentoAfiliado__ '
=__( )
pDocIdentidad__* 7
;__7 8
}`` 
}aa 	
publiccc 
classcc 
AsegNombResponsecc %
{dd 	
publicee 
stringee 
CodProductoee %
{ee& '
getee( +
;ee+ ,
setee- 0
;ee0 1
}ee2 3
=ee4 5
$stree6 8
;ee8 9
publicff 
stringff 
DesProductoff %
{ff& '
getff( +
;ff+ ,
setff- 0
;ff0 1
}ff2 3
=ff4 5
$strff6 8
;ff8 9
publicgg 
stringgg #
ApellidoPaternoAfiliadogg 1
{gg2 3
getgg4 7
;gg7 8
setgg9 <
;gg< =
}gg> ?
=gg@ A
$strggB D
;ggD E
publichh 
stringhh #
ApellidoMaternoAfiliadohh 1
{hh2 3
gethh4 7
;hh7 8
sethh9 <
;hh< =
}hh> ?
=hh@ A
$strhhB D
;hhD E
publicii 
stringii 
NombresAfiliadoii )
{ii* +
getii, /
;ii/ 0
setii1 4
;ii4 5
}ii6 7
=ii8 9
$strii: <
;ii< =
publicjj 
stringjj 
CodParentescojj '
{jj( )
getjj* -
;jj- .
setjj/ 2
;jj2 3
}jj4 5
=jj6 7
$strjj8 :
;jj: ;
publickk 
stringkk 
DesParentescokk '
{kk( )
getkk* -
;kk- .
setkk/ 2
;kk2 3
}kk4 5
=kk6 7
$strkk8 :
;kk: ;
publicll 
stringll 
NombreContratantell +
{ll, -
getll. 1
;ll1 2
setll3 6
;ll6 7
}ll8 9
=ll: ;
$strll< >
;ll> ?
publicmm 
stringmm 
	CodEstadomm #
{mm$ %
getmm& )
;mm) *
setmm+ .
;mm. /
}mm0 1
=mm2 3
$strmm4 6
;mm6 7
publicnn 
stringnn 
	DesEstadonn #
{nn$ %
getnn& )
;nn) *
setnn+ .
;nn. /
}nn0 1
=nn2 3
$strnn4 6
;nn6 7
publicoo 
stringoo 
CodigoAfiliadooo (
{oo) *
getoo+ .
;oo. /
setoo0 3
;oo3 4
}oo5 6
=oo7 8
$stroo9 ;
;oo; <
publicpp 
stringpp 
FechaNacimientopp )
{pp* +
getpp, /
;pp/ 0
setpp1 4
;pp4 5
}pp6 7
=pp8 9
$strpp: <
;pp< =
publicqq 
stringqq 
	CodGeneroqq #
{qq$ %
getqq& )
;qq) *
setqq+ .
;qq. /
}qq0 1
=qq2 3
$strqq4 6
;qq6 7
publicrr 
stringrr 
	DesGenerorr #
{rr$ %
getrr& )
;rr) *
setrr+ .
;rr. /
}rr0 1
=rr2 3
$strrr4 6
;rr6 7
publicss 
stringss $
CodTipoDocumentoAfiliadoss 2
{ss3 4
getss5 8
;ss8 9
setss: =
;ss= >
}ss? @
=ssA B
$strssC E
;ssE F
publictt 
stringtt $
DesTipoDocumentoAfiliadott 2
{tt3 4
gettt5 8
;tt8 9
settt: =
;tt= >
}tt? @
=ttA B
$strttC E
;ttE F
publicuu 
stringuu #
NumeroDocumentoAfiliadouu 1
{uu2 3
getuu4 7
;uu7 8
setuu9 <
;uu< =
}uu> ?
=uu@ A
$struuB D
;uuD E
publicvv 
stringvv 

NumeroPlanvv $
{vv% &
getvv' *
;vv* +
setvv, /
;vv/ 0
}vv1 2
=vv3 4
$strvv5 7
;vv7 8
publicww 
stringww "
NumeroContratoAfiliadoww 0
{ww1 2
getww3 6
;ww6 7
setww8 ;
;ww; <
}ww= >
=ww? @
$strwwA C
;wwC D
publicxx 
stringxx &
NumeroDocumentoContratantexx 4
{xx5 6
getxx7 :
;xx: ;
setxx< ?
;xx? @
}xxA B
=xxC D
$strxxE G
;xxG H
publicyy 
stringyy &
TipoCalificadorContratanteyy 4
{yy5 6
getyy7 :
;yy: ;
setyy< ?
;yy? @
}yyA B
=yyC D
$stryyE G
;yyG H
publiczz 
stringzz '
CodTipoDocumentoContratantezz 5
{zz6 7
getzz8 ;
;zz; <
setzz= @
;zz@ A
}zzB C
=zzD E
$strzzF H
;zzH I
public{{ 
string{{ '
DesTipoDocumentoContratante{{ 5
{{{6 7
get{{8 ;
;{{; <
set{{= @
;{{@ A
}{{B C
={{D E
$str{{F H
;{{H I
}|| 	
public~~ 
class~~ 
AsegCodRequest~~ #
{ 	
public
€€ 
string
€€ 
SUNASA
€€  
{
€€! "
get
€€# &
;
€€& '
set
€€( +
;
€€+ ,
}
€€- .
=
€€/ 0
$str
€€1 3
;
€€3 4
public
 
string
 
IAFAS
 
{
  !
get
" %
;
% &
set
' *
;
* +
}
, -
=
. /
$str
0 2
;
2 3
public
‚‚ 
string
‚‚ 
RUC
‚‚ 
{
‚‚ 
get
‚‚  #
;
‚‚# $
set
‚‚% (
;
‚‚( )
}
‚‚* +
=
‚‚, -
$str
‚‚. 0
;
‚‚0 1
public
ƒƒ 
string
ƒƒ 
NombresAfiliado
ƒƒ )
{
ƒƒ* +
get
ƒƒ, /
;
ƒƒ/ 0
set
ƒƒ1 4
;
ƒƒ4 5
}
ƒƒ6 7
=
ƒƒ8 9
$str
ƒƒ: <
;
ƒƒ< =
public
„„ 
string
„„ %
ApellidoPaternoAfiliado
„„ 1
{
„„2 3
get
„„4 7
;
„„7 8
set
„„9 <
;
„„< =
}
„„> ?
=
„„@ A
$str
„„B D
;
„„D E
public
…… 
string
…… %
ApellidoMaternoAfiliado
…… 1
{
……2 3
get
……4 7
;
……7 8
set
……9 <
;
……< =
}
……> ?
=
……@ A
$str
……B D
;
……D E
public
†† 
string
†† 
CodigoAfiliado
†† (
{
††) *
get
††+ .
;
††. /
set
††0 3
;
††3 4
}
††5 6
=
††7 8
$str
††9 ;
;
††; <
public
‡‡ 
string
‡‡ &
CodTipoDocumentoAfiliado
‡‡ 2
{
‡‡3 4
get
‡‡5 8
;
‡‡8 9
set
‡‡: =
;
‡‡= >
}
‡‡? @
=
‡‡A B
$str
‡‡C E
;
‡‡E F
public
ˆˆ 
string
ˆˆ %
NumeroDocumentoAfiliado
ˆˆ 1
{
ˆˆ2 3
get
ˆˆ4 7
;
ˆˆ7 8
set
ˆˆ9 <
;
ˆˆ< =
}
ˆˆ> ?
=
ˆˆ@ A
$str
ˆˆB D
;
ˆˆD E
public
‰‰ 
string
‰‰ 
CodProducto
‰‰ %
{
‰‰& '
get
‰‰( +
;
‰‰+ ,
set
‰‰- 0
;
‰‰0 1
}
‰‰2 3
=
‰‰4 5
$str
‰‰6 8
;
‰‰8 9
public
ŠŠ 
string
ŠŠ 
DesProducto
ŠŠ %
{
ŠŠ& '
get
ŠŠ( +
;
ŠŠ+ ,
set
ŠŠ- 0
;
ŠŠ0 1
}
ŠŠ2 3
=
ŠŠ4 5
$str
ŠŠ6 8
;
ŠŠ8 9
public
‹‹ 
string
‹‹ 

NumeroPlan
‹‹ $
{
‹‹% &
get
‹‹' *
;
‹‹* +
set
‹‹, /
;
‹‹/ 0
}
‹‹1 2
=
‹‹3 4
$str
‹‹5 7
;
‹‹7 8
public
ŒŒ 
string
ŒŒ )
CodTipoDocumentoContratante
ŒŒ 5
{
ŒŒ6 7
get
ŒŒ8 ;
;
ŒŒ; <
set
ŒŒ= @
;
ŒŒ@ A
}
ŒŒB C
=
ŒŒD E
$str
ŒŒF H
;
ŒŒH I
public
 
string
 (
NumeroDocumentoContratante
 4
{
5 6
get
7 :
;
: ;
set
< ?
;
? @
}
A B
=
C D
$str
E G
;
G H
public
 
string
 
NombreContratante
 +
{
, -
get
. 1
;
1 2
set
3 6
;
6 7
}
8 9
=
: ;
$str
< >
;
> ?
public
 
string
 
CodParentesco
 '
{
( )
get
* -
;
- .
set
/ 2
;
2 3
}
4 5
=
6 7
$str
8 :
;
: ;
public
 
string
 (
TipoCalificadorContratante
 4
{
5 6
get
7 :
;
: ;
set
< ?
;
? @
}
A B
=
C D
$str
E G
;
G H
public
‘‘ 
string
‘‘ 
CodEspecialidad
‘‘ )
{
‘‘* +
get
‘‘, /
;
‘‘/ 0
set
‘‘1 4
;
‘‘4 5
}
‘‘6 7
=
‘‘8 9
$str
‘‘: <
;
‘‘< =
public
““ 
AsegCodRequest
““ !
(
““! "
)
““" #
{
”” 
}
•• 
public
—— 
AsegCodRequest
—— !
(
——! "
string
——" (
pSUNASA
——) 0
,
——0 1
string
——2 8
pIAFAS
——9 ?
,
——? @
string
——A G
pRUC
——H L
)
——L M
{
˜˜ 
SUNASA
™™ 
=
™™ 
pSUNASA
™™  
;
™™  !
IAFAS
šš 
=
šš 
pIAFAS
šš 
;
šš 
RUC
›› 
=
›› 
pRUC
›› 
;
›› 
}
œœ 
}
 	
public
   
class
    
AsegCodRequestFull
   '
:
  ( )
AsegCodRequest
  * 8
{
¡¡ 	
public
¢¢ 
AsegCodResponse
¢¢ "
oAsegCodResponse
¢¢# 3
=
¢¢4 5
new
¢¢6 9
AsegCodResponse
¢¢: I
(
¢¢I J
)
¢¢J K
;
¢¢K L
public
¤¤  
AsegCodRequestFull
¤¤ %
(
¤¤% &
AsegCodRequest
¤¤& 4
pAsegCodRequest
¤¤5 D
)
¤¤D E
{
¥¥ 
SUNASA
¦¦ 
=
¦¦ 
pAsegCodRequest
¦¦ (
.
¦¦( )
SUNASA
¦¦) /
;
¦¦/ 0
IAFAS
§§ 
=
§§ 
pAsegCodRequest
§§ '
.
§§' (
IAFAS
§§( -
;
§§- .
RUC
¨¨ 
=
¨¨ 
pAsegCodRequest
¨¨ %
.
¨¨% &
RUC
¨¨& )
;
¨¨) *
NombresAfiliado
©© 
=
©©  !
pAsegCodRequest
©©" 1
.
©©1 2
NombresAfiliado
©©2 A
;
©©A B%
ApellidoPaternoAfiliado
ªª '
=
ªª( )
pAsegCodRequest
ªª* 9
.
ªª9 :%
ApellidoPaternoAfiliado
ªª: Q
;
ªªQ R%
ApellidoMaternoAfiliado
«« '
=
««( )
pAsegCodRequest
««* 9
.
««9 :%
ApellidoMaternoAfiliado
««: Q
;
««Q R
CodigoAfiliado
¬¬ 
=
¬¬  
pAsegCodRequest
¬¬! 0
.
¬¬0 1
CodigoAfiliado
¬¬1 ?
;
¬¬? @&
CodTipoDocumentoAfiliado
­­ (
=
­­) *
pAsegCodRequest
­­+ :
.
­­: ;&
CodTipoDocumentoAfiliado
­­; S
;
­­S T%
NumeroDocumentoAfiliado
®® '
=
®®( )
pAsegCodRequest
®®* 9
.
®®9 :%
NumeroDocumentoAfiliado
®®: Q
;
®®Q R
CodProducto
¯¯ 
=
¯¯ 
pAsegCodRequest
¯¯ -
.
¯¯- .
CodProducto
¯¯. 9
;
¯¯9 :
DesProducto
°° 
=
°° 
pAsegCodRequest
°° -
.
°°- .
DesProducto
°°. 9
;
°°9 :

NumeroPlan
±± 
=
±± 
pAsegCodRequest
±± ,
.
±±, -

NumeroPlan
±±- 7
;
±±7 8)
CodTipoDocumentoContratante
²² +
=
²², -
pAsegCodRequest
²². =
.
²²= >)
CodTipoDocumentoContratante
²²> Y
;
²²Y Z(
NumeroDocumentoContratante
³³ *
=
³³+ ,
pAsegCodRequest
³³- <
.
³³< =(
NumeroDocumentoContratante
³³= W
;
³³W X
NombreContratante
´´ !
=
´´" #
pAsegCodRequest
´´$ 3
.
´´3 4
NombreContratante
´´4 E
;
´´E F
CodParentesco
µµ 
=
µµ 
pAsegCodRequest
µµ  /
.
µµ/ 0
CodParentesco
µµ0 =
;
µµ= >(
TipoCalificadorContratante
¶¶ *
=
¶¶+ ,
pAsegCodRequest
¶¶- <
.
¶¶< =(
TipoCalificadorContratante
¶¶= W
;
¶¶W X
CodEspecialidad
·· 
=
··  !
pAsegCodRequest
··" 1
.
··1 2
CodEspecialidad
··2 A
;
··A B
}
¸¸ 
}
»» 	
public
½½ 
class
½½ 
AsegCodResponse
½½ $
{
¾¾ 	
public
¿¿ $
DatosAfiliado_AsegCode
¿¿ )
DatosAfiliado
¿¿* 7
{
¿¿8 9
get
¿¿: =
;
¿¿= >
set
¿¿? B
;
¿¿B C
}
¿¿D E
public
ÀÀ 
List
ÀÀ 
<
ÀÀ !
Coberturas_AsegCode
ÀÀ +
>
ÀÀ+ ,

Coberturas
ÀÀ- 7
{
ÀÀ8 9
get
ÀÀ: =
;
ÀÀ= >
set
ÀÀ? B
;
ÀÀB C
}
ÀÀD E
=
ÀÀF G
new
ÀÀH K
List
ÀÀL P
<
ÀÀP Q!
Coberturas_AsegCode
ÀÀQ d
>
ÀÀd e
(
ÀÀe f
)
ÀÀf g
;
ÀÀg h
}
ÁÁ 	
public
ÃÃ 
class
ÃÃ $
DatosAfiliado_AsegCode
ÃÃ +
{
ÄÄ 	
public
ÅÅ 
string
ÅÅ 
CodigoAfiliado
ÅÅ (
{
ÅÅ) *
get
ÅÅ+ .
;
ÅÅ. /
set
ÅÅ0 3
;
ÅÅ3 4
}
ÅÅ5 6
=
ÅÅ7 8
$str
ÅÅ9 ;
;
ÅÅ; <
public
ÆÆ 
string
ÆÆ 
NumeroPoliza
ÆÆ &
{
ÆÆ' (
get
ÆÆ) ,
;
ÆÆ, -
set
ÆÆ. 1
;
ÆÆ1 2
}
ÆÆ3 4
=
ÆÆ5 6
$str
ÆÆ7 9
;
ÆÆ9 :
public
ÇÇ 
string
ÇÇ 
NumeroContrato
ÇÇ (
{
ÇÇ) *
get
ÇÇ+ .
;
ÇÇ. /
set
ÇÇ0 3
;
ÇÇ3 4
}
ÇÇ5 6
=
ÇÇ7 8
$str
ÇÇ9 ;
;
ÇÇ; <
public
ÈÈ 
string
ÈÈ 
NumeroCertificado
ÈÈ +
{
ÈÈ, -
get
ÈÈ. 1
;
ÈÈ1 2
set
ÈÈ3 6
;
ÈÈ6 7
}
ÈÈ8 9
=
ÈÈ: ;
$str
ÈÈ< >
;
ÈÈ> ?
public
ÉÉ 
string
ÉÉ 
CodProducto
ÉÉ %
{
ÉÉ& '
get
ÉÉ( +
;
ÉÉ+ ,
set
ÉÉ- 0
;
ÉÉ0 1
}
ÉÉ2 3
=
ÉÉ4 5
$str
ÉÉ6 8
;
ÉÉ8 9
public
ÊÊ 
string
ÊÊ 
DesProducto
ÊÊ %
{
ÊÊ& '
get
ÊÊ( +
;
ÊÊ+ ,
set
ÊÊ- 0
;
ÊÊ0 1
}
ÊÊ2 3
=
ÊÊ4 5
$str
ÊÊ6 8
;
ÊÊ8 9
public
ËË 
string
ËË %
ApellidoPaternoAfiliado
ËË 1
{
ËË2 3
get
ËË4 7
;
ËË7 8
set
ËË9 <
;
ËË< =
}
ËË> ?
=
ËË@ A
$str
ËËB D
;
ËËD E
public
ÌÌ 
string
ÌÌ %
ApellidoMaternoAfiliado
ÌÌ 1
{
ÌÌ2 3
get
ÌÌ4 7
;
ÌÌ7 8
set
ÌÌ9 <
;
ÌÌ< =
}
ÌÌ> ?
=
ÌÌ@ A
$str
ÌÌB D
;
ÌÌD E
public
ÍÍ 
string
ÍÍ 
NombresAfiliado
ÍÍ )
{
ÍÍ* +
get
ÍÍ, /
;
ÍÍ/ 0
set
ÍÍ1 4
;
ÍÍ4 5
}
ÍÍ6 7
=
ÍÍ8 9
$str
ÍÍ: <
;
ÍÍ< =
public
ÎÎ 
string
ÎÎ 
	CodGenero
ÎÎ #
{
ÎÎ$ %
get
ÎÎ& )
;
ÎÎ) *
set
ÎÎ+ .
;
ÎÎ. /
}
ÎÎ0 1
=
ÎÎ2 3
$str
ÎÎ4 6
;
ÎÎ6 7
public
ÏÏ 
string
ÏÏ 
	DesGenero
ÏÏ #
{
ÏÏ$ %
get
ÏÏ& )
;
ÏÏ) *
set
ÏÏ+ .
;
ÏÏ. /
}
ÏÏ0 1
=
ÏÏ2 3
$str
ÏÏ4 6
;
ÏÏ6 7
public
ĞĞ 
string
ĞĞ  
CodFechaNacimiento
ĞĞ ,
{
ĞĞ- .
get
ĞĞ/ 2
;
ĞĞ2 3
set
ĞĞ4 7
;
ĞĞ7 8
}
ĞĞ9 :
=
ĞĞ; <
$str
ĞĞ= ?
;
ĞĞ? @
public
ÑÑ 
string
ÑÑ 
FechaNacimiento
ÑÑ )
{
ÑÑ* +
get
ÑÑ, /
;
ÑÑ/ 0
set
ÑÑ1 4
;
ÑÑ4 5
}
ÑÑ6 7
=
ÑÑ8 9
$str
ÑÑ: <
;
ÑÑ< =
public
ÒÒ 
string
ÒÒ 
CodParentesco
ÒÒ '
{
ÒÒ( )
get
ÒÒ* -
;
ÒÒ- .
set
ÒÒ/ 2
;
ÒÒ2 3
}
ÒÒ4 5
=
ÒÒ6 7
$str
ÒÒ8 :
;
ÒÒ: ;
public
ÓÓ 
string
ÓÓ 
DesParentesco
ÓÓ '
{
ÓÓ( )
get
ÓÓ* -
;
ÓÓ- .
set
ÓÓ/ 2
;
ÓÓ2 3
}
ÓÓ4 5
=
ÓÓ6 7
$str
ÓÓ8 :
;
ÓÓ: ;
public
ÔÔ 
string
ÔÔ &
CodTipoDocumentoAfiliado
ÔÔ 2
{
ÔÔ3 4
get
ÔÔ5 8
;
ÔÔ8 9
set
ÔÔ: =
;
ÔÔ= >
}
ÔÔ? @
=
ÔÔA B
$str
ÔÔC E
;
ÔÔE F
public
ÕÕ 
string
ÕÕ &
DesTipoDocumentoAfiliado
ÕÕ 2
{
ÕÕ3 4
get
ÕÕ5 8
;
ÕÕ8 9
set
ÕÕ: =
;
ÕÕ= >
}
ÕÕ? @
=
ÕÕA B
$str
ÕÕC E
;
ÕÕE F
public
ÖÖ 
string
ÖÖ %
NumeroDocumentoAfiliado
ÖÖ 1
{
ÖÖ2 3
get
ÖÖ4 7
;
ÖÖ7 8
set
ÖÖ9 <
;
ÖÖ< =
}
ÖÖ> ?
=
ÖÖ@ A
$str
ÖÖB D
;
ÖÖD E
public
×× 
string
×× 
Edad
×× 
{
××  
get
××! $
;
××$ %
set
××& )
;
××) *
}
××+ ,
=
××- .
$str
××/ 1
;
××1 2
public
ØØ 
string
ØØ $
CodFechaInicioVigencia
ØØ 0
{
ØØ1 2
get
ØØ3 6
;
ØØ6 7
set
ØØ8 ;
;
ØØ; <
}
ØØ= >
=
ØØ? @
$str
ØØA C
;
ØØC D
public
ÙÙ 
string
ÙÙ !
FechaInicioVigencia
ÙÙ -
{
ÙÙ. /
get
ÙÙ0 3
;
ÙÙ3 4
set
ÙÙ5 8
;
ÙÙ8 9
}
ÙÙ: ;
=
ÙÙ< =
$str
ÙÙ> @
;
ÙÙ@ A
public
ÚÚ 
string
ÚÚ !
CodFechaFinVigencia
ÚÚ -
{
ÚÚ. /
get
ÚÚ0 3
;
ÚÚ3 4
set
ÚÚ5 8
;
ÚÚ8 9
}
ÚÚ: ;
=
ÚÚ< =
$str
ÚÚ> @
;
ÚÚ@ A
public
ÛÛ 
string
ÛÛ 
FechaFinVigencia
ÛÛ *
{
ÛÛ+ ,
get
ÛÛ- 0
;
ÛÛ0 1
set
ÛÛ2 5
;
ÛÛ5 6
}
ÛÛ7 8
=
ÛÛ9 :
$str
ÛÛ; =
;
ÛÛ= >
public
ÜÜ 
string
ÜÜ 
CodEstadoCivil
ÜÜ (
{
ÜÜ) *
get
ÜÜ+ .
;
ÜÜ. /
set
ÜÜ0 3
;
ÜÜ3 4
}
ÜÜ5 6
=
ÜÜ7 8
$str
ÜÜ9 ;
;
ÜÜ; <
public
İİ 
string
İİ 
DesEstadoCivil
İİ (
{
İİ) *
get
İİ+ .
;
İİ. /
set
İİ0 3
;
İİ3 4
}
İİ5 6
=
İİ7 8
$str
İİ9 ;
;
İİ; <
public
ŞŞ 
string
ŞŞ 
CodTipoPlan
ŞŞ %
{
ŞŞ& '
get
ŞŞ( +
;
ŞŞ+ ,
set
ŞŞ- 0
;
ŞŞ0 1
}
ŞŞ2 3
=
ŞŞ4 5
$str
ŞŞ6 8
;
ŞŞ8 9
public
ßß 
string
ßß 
DesTipoPlan
ßß %
{
ßß& '
get
ßß( +
;
ßß+ ,
set
ßß- 0
;
ßß0 1
}
ßß2 3
=
ßß4 5
$str
ßß6 8
;
ßß8 9
public
àà 
string
àà 

NumeroPlan
àà $
{
àà% &
get
àà' *
;
àà* +
set
àà, /
;
àà/ 0
}
àà1 2
=
àà3 4
$str
àà5 7
;
àà7 8
public
áá 
string
áá 
	CodEstado
áá #
{
áá$ %
get
áá& )
;
áá) *
set
áá+ .
;
áá. /
}
áá0 1
=
áá2 3
$str
áá4 6
;
áá6 7
public
ââ 
string
ââ 
	DesEstado
ââ #
{
ââ$ %
get
ââ& )
;
ââ) *
set
ââ+ .
;
ââ. /
}
ââ0 1
=
ââ2 3
$str
ââ4 6
;
ââ6 7
public
ãã 
string
ãã '
CodFechaActualizacionFoto
ãã 3
{
ãã4 5
get
ãã6 9
;
ãã9 :
set
ãã; >
;
ãã> ?
}
ãã@ A
=
ããB C
$str
ããD F
;
ããF G
public
ää 
string
ää $
FechaActualizacionFoto
ää 0
{
ää1 2
get
ää3 6
;
ää6 7
set
ää8 ;
;
ää; <
}
ää= >
=
ää? @
$str
ääA C
;
ääC D
public
åå 
string
åå $
ApellidoPaternoTitular
åå 0
{
åå1 2
get
åå3 6
;
åå6 7
set
åå8 ;
;
åå; <
}
åå= >
=
åå? @
$str
ååA C
;
ååC D
public
ææ 
string
ææ $
ApellidoMaternoTitular
ææ 0
{
ææ1 2
get
ææ3 6
;
ææ6 7
set
ææ8 ;
;
ææ; <
}
ææ= >
=
ææ? @
$str
ææA C
;
ææC D
public
çç 
string
çç 
NombresTitular
çç (
{
çç) *
get
çç+ .
;
çç. /
set
çç0 3
;
çç3 4
}
çç5 6
=
çç7 8
$str
çç9 ;
;
çç; <
public
èè 
string
èè 
CodigoTitular
èè '
{
èè( )
get
èè* -
;
èè- .
set
èè/ 2
;
èè2 3
}
èè4 5
=
èè6 7
$str
èè8 :
;
èè: ;
public
éé 
string
éé %
CodTipoDocumentoTitular
éé 1
{
éé2 3
get
éé4 7
;
éé7 8
set
éé9 <
;
éé< =
}
éé> ?
=
éé@ A
$str
ééB D
;
ééD E
public
êê 
string
êê %
DesTipoDocumentoTitular
êê 1
{
êê2 3
get
êê4 7
;
êê7 8
set
êê9 <
;
êê< =
}
êê> ?
=
êê@ A
$str
êêB D
;
êêD E
public
ëë 
string
ëë $
NumeroDocumentoTitular
ëë 0
{
ëë1 2
get
ëë3 6
;
ëë6 7
set
ëë8 ;
;
ëë; <
}
ëë= >
=
ëë? @
$str
ëëA C
;
ëëC D
public
ìì 
string
ìì 
	CodMoneda
ìì #
{
ìì$ %
get
ìì& )
;
ìì) *
set
ìì+ .
;
ìì. /
}
ìì0 1
=
ìì2 3
$str
ìì4 6
;
ìì6 7
public
íí 
string
íí 
	DesMoneda
íí #
{
íí$ %
get
íí& )
;
íí) *
set
íí+ .
;
íí. /
}
íí0 1
=
íí2 3
$str
íí4 6
;
íí6 7
public
îî 
string
îî 
NombreContratante
îî +
{
îî, -
get
îî. 1
;
îî1 2
set
îî3 6
;
îî6 7
}
îî8 9
=
îî: ;
$str
îî< >
;
îî> ?
public
ïï 
string
ïï )
CodTipoDocumentoContratante
ïï 5
{
ïï6 7
get
ïï8 ;
;
ïï; <
set
ïï= @
;
ïï@ A
}
ïïB C
=
ïïD E
$str
ïïF H
;
ïïH I
public
ğğ 
string
ğğ )
DesTipoDocumentoContratante
ğğ 5
{
ğğ6 7
get
ğğ8 ;
;
ğğ; <
set
ğğ= @
;
ğğ@ A
}
ğğB C
=
ğğD E
$str
ğğF H
;
ğğH I
public
ññ 
string
ññ 
CodTipoAfiliacion
ññ +
{
ññ, -
get
ññ. 1
;
ññ1 2
set
ññ3 6
;
ññ6 7
}
ññ8 9
=
ññ: ;
$str
ññ< >
;
ññ> ?
public
òò 
string
òò 
DesTipoAfiliacion
òò +
{
òò, -
get
òò. 1
;
òò1 2
set
òò3 6
;
òò6 7
}
òò8 9
=
òò: ;
$str
òò< >
;
òò> ?
public
óó 
string
óó  
CodFechaAfiliacion
óó ,
{
óó- .
get
óó/ 2
;
óó2 3
set
óó4 7
;
óó7 8
}
óó9 :
=
óó; <
$str
óó= ?
;
óó? @
public
ôô 
string
ôô 
FechaAfiliacion
ôô )
{
ôô* +
get
ôô, /
;
ôô/ 0
set
ôô1 4
;
ôô4 5
}
ôô6 7
=
ôô8 9
$str
ôô: <
;
ôô< =
public
õõ 
string
õõ (
NumeroDocumentoContratante
õõ 4
{
õõ5 6
get
õõ7 :
;
õõ: ;
set
õõ< ?
;
õõ? @
}
õõA B
=
õõC D
$str
õõE G
;
õõG H
}
öö 	
public
øø 
class
øø !
Coberturas_AsegCode
øø (
{
ùù 	
public
úú 
string
úú !
CodigoTipoCobertura
úú -
{
úú. /
get
úú0 3
;
úú3 4
set
úú5 8
;
úú8 9
}
úú: ;
=
úú< =
$str
úú> @
;
úú@ A
public
ûû 
string
ûû $
CodigoSubTipoCobertura
ûû 0
{
ûû1 2
get
ûû3 6
;
ûû6 7
set
ûû8 ;
;
ûû; <
}
ûû= >
=
ûû? @
$str
ûûA C
;
ûûC D
public
üü 
string
üü 
CodigoCobertura
üü )
{
üü* +
get
üü, /
;
üü/ 0
set
üü1 4
;
üü4 5
}
üü6 7
=
üü8 9
$str
üü: <
;
üü< =
public
ıı 
string
ıı 

Beneficios
ıı $
{
ıı% &
get
ıı' *
;
ıı* +
set
ıı, /
;
ıı/ 0
}
ıı1 2
=
ıı3 4
$str
ıı5 7
;
ıı7 8
public
şş 
string
şş %
CodIndicadorRestriccion
şş 1
{
şş2 3
get
şş4 7
;
şş7 8
set
şş9 <
;
şş< =
}
şş> ?
=
şş@ A
$str
şşB D
;
şşD E
public
ÿÿ 
string
ÿÿ 
Restricciones
ÿÿ '
{
ÿÿ( )
get
ÿÿ* -
;
ÿÿ- .
set
ÿÿ/ 2
;
ÿÿ2 3
}
ÿÿ4 5
=
ÿÿ6 7
$str
ÿÿ8 :
;
ÿÿ: ;
public
€€ 
string
€€ 
CodCopagoFijo
€€ '
{
€€( )
get
€€* -
;
€€- .
set
€€/ 2
;
€€2 3
}
€€4 5
=
€€6 7
$str
€€8 :
;
€€: ;
public
 
string
 
DesCopagoFijo
 '
{
( )
get
* -
;
- .
set
/ 2
;
2 3
}
4 5
=
6 7
$str
8 :
;
: ;
public
‚‚ 
string
‚‚ 
CodCopagoVariable
‚‚ +
{
‚‚, -
get
‚‚. 1
;
‚‚1 2
set
‚‚3 6
;
‚‚6 7
}
‚‚8 9
=
‚‚: ;
$str
‚‚< >
;
‚‚> ?
public
ƒƒ 
string
ƒƒ 
DesCopagoVariable
ƒƒ +
{
ƒƒ, -
get
ƒƒ. 1
;
ƒƒ1 2
set
ƒƒ3 6
;
ƒƒ6 7
}
ƒƒ8 9
=
ƒƒ: ;
$str
ƒƒ< >
;
ƒƒ> ?
public
„„ 
string
„„ !
CodFechaFinCarencia
„„ -
{
„„. /
get
„„0 3
;
„„3 4
set
„„5 8
;
„„8 9
}
„„: ;
=
„„< =
$str
„„> @
;
„„@ A
public
…… 
string
…… 
FechaFinCarencia
…… *
{
……+ ,
get
……- 0
;
……0 1
set
……2 5
;
……5 6
}
……7 8
=
……9 :
$str
……; =
;
……= >
public
†† 
string
†† #
CondicionesEspeciales
†† /
{
††0 1
get
††2 5
;
††5 6
set
††7 :
;
††: ;
}
††< =
=
††> ?
$str
††@ B
;
††B C
public
‡‡ 
string
‡‡ 
Observaciones
‡‡ '
{
‡‡( )
get
‡‡* -
;
‡‡- .
set
‡‡/ 2
;
‡‡2 3
}
‡‡4 5
=
‡‡6 7
$str
‡‡8 :
;
‡‡: ;
public
ˆˆ 
string
ˆˆ %
CodCalificacionServicio
ˆˆ 1
{
ˆˆ2 3
get
ˆˆ4 7
;
ˆˆ7 8
set
ˆˆ9 <
;
ˆˆ< =
}
ˆˆ> ?
=
ˆˆ@ A
$str
ˆˆB D
;
ˆˆD E
public
‰‰ 
string
‰‰ %
DesCalificacionServicio
‰‰ 1
{
‰‰2 3
get
‰‰4 7
;
‰‰7 8
set
‰‰9 <
;
‰‰< =
}
‰‰> ?
=
‰‰@ A
$str
‰‰B D
;
‰‰D E
public
ŠŠ 
string
ŠŠ $
BeneficioMaximoInicial
ŠŠ 0
{
ŠŠ1 2
get
ŠŠ3 6
;
ŠŠ6 7
set
ŠŠ8 ;
;
ŠŠ; <
}
ŠŠ= >
=
ŠŠ? @
$str
ŠŠA C
;
ŠŠC D
public
‹‹ 
string
‹‹ 
NumeroCobertura
‹‹ )
{
‹‹* +
get
‹‹, /
;
‹‹/ 0
set
‹‹1 4
;
‹‹4 5
}
‹‹6 7
=
‹‹8 9
$str
‹‹: <
;
‹‹< =
public
ŒŒ 
string
ŒŒ 
CodTipoMoneda
ŒŒ '
{
ŒŒ( )
get
ŒŒ* -
;
ŒŒ- .
set
ŒŒ/ 2
;
ŒŒ2 3
}
ŒŒ4 5
=
ŒŒ6 7
$str
ŒŒ8 :
;
ŒŒ: ;
public
 
string
 
DesTipoMoneda
 '
{
( )
get
* -
;
- .
set
/ 2
;
2 3
}
4 5
=
6 7
$str
8 :
;
: ;
public
 
string
 

cIafasCode
 $
{
% &
get
' *
;
* +
set
, /
;
/ 0
}
1 2
=
3 4
$str
5 7
;
7 8
public
‘‘ 
string
‘‘ 
	cAsegCode
‘‘ #
{
‘‘$ %
get
‘‘& )
;
‘‘) *
set
‘‘+ .
;
‘‘. /
}
‘‘0 1
=
‘‘2 3
$str
‘‘4 6
;
‘‘6 7
public
’’ 
string
’’ 
	cAutoCode
’’ #
{
’’$ %
get
’’& )
;
’’) *
set
’’+ .
;
’’. /
}
’’0 1
=
’’2 3
$str
’’4 6
;
’’6 7
public
““ 
string
““ 

cCoberCode
““ $
{
““% &
get
““' *
;
““* +
set
““, /
;
““/ 0
}
““1 2
=
““3 4
$str
““5 7
;
““7 8
public
”” 
string
”” 
cSubTipoCober
”” '
{
””( )
get
””* -
;
””- .
set
””/ 2
;
””2 3
}
””4 5
=
””6 7
$str
””8 :
;
””: ;
public
•• 
string
•• 
nSubTipoCober
•• '
{
••( )
get
••* -
;
••- .
set
••/ 2
;
••2 3
}
••4 5
=
••6 7
$str
••8 :
;
••: ;
public
–– 
string
–– 
cIndiProCode
–– &
{
––' (
get
––) ,
;
––, -
set
––. 1
;
––1 2
}
––3 4
=
––5 6
$str
––7 9
;
––9 :
public
—— 
string
—— 
	nCopgFijo
—— #
{
——$ %
get
——& )
;
——) *
set
——+ .
;
——. /
}
——0 1
=
——2 3
$str
——4 6
;
——6 7
public
˜˜ 
string
˜˜ 
	cMoneCode
˜˜ #
{
˜˜$ %
get
˜˜& )
;
˜˜) *
set
˜˜+ .
;
˜˜. /
}
˜˜0 1
=
˜˜2 3
$str
˜˜4 6
;
˜˜6 7
public
™™ 
string
™™ 
cCalifServCode
™™ (
{
™™) *
get
™™+ .
;
™™. /
set
™™0 3
;
™™3 4
}
™™5 6
=
™™7 8
$str
™™9 ;
;
™™; <
public
šš 
string
šš 
	nCopgVari
šš #
{
šš$ %
get
šš& )
;
šš) *
set
šš+ .
;
šš. /
}
šš0 1
=
šš2 3
$str
šš4 6
;
šš6 7
public
›› 
string
›› 
dBeneficioMax
›› '
{
››( )
get
››* -
;
››- .
set
››/ 2
;
››2 3
}
››4 5
=
››6 7
$str
››8 :
;
››: ;
public
œœ 
string
œœ 

fFeCarDate
œœ $
{
œœ% &
get
œœ' *
;
œœ* +
set
œœ, /
;
œœ/ 0
}
œœ1 2
=
œœ3 4
$str
œœ5 7
;
œœ7 8
public
 
string
 

fEsperDate
 $
{
% &
get
' *
;
* +
set
, /
;
/ 0
}
1 2
=
3 4
$str
5 7
;
7 8
public
 
string
 

cFlagCarta
 $
{
% &
get
' *
;
* +
set
, /
;
/ 0
}
1 2
=
3 4
$str
5 7
;
7 8
public
ŸŸ 
string
ŸŸ 
	cProdCode
ŸŸ #
{
ŸŸ$ %
get
ŸŸ& )
;
ŸŸ) *
set
ŸŸ+ .
;
ŸŸ. /
}
ŸŸ0 1
=
ŸŸ2 3
$str
ŸŸ4 6
;
ŸŸ6 7
public
   
string
   
	cEspeCode
   #
{
  $ %
get
  & )
;
  ) *
set
  + .
;
  . /
}
  0 1
=
  2 3
$str
  4 6
;
  6 7
public
¡¡ 
string
¡¡ 
	dIpssHost
¡¡ #
{
¡¡$ %
get
¡¡& )
;
¡¡) *
set
¡¡+ .
;
¡¡. /
}
¡¡0 1
=
¡¡2 3
$str
¡¡4 6
;
¡¡6 7
public
¢¢ 
string
¢¢ 

cOrigenAte
¢¢ $
{
¢¢% &
get
¢¢' *
;
¢¢* +
set
¢¢, /
;
¢¢/ 0
}
¢¢1 2
=
¢¢3 4
$str
¢¢5 7
;
¢¢7 8
public
££ 
string
££ 
cAccidentes
££ %
{
££& '
get
££( +
;
££+ ,
set
££- 0
;
££0 1
}
££2 3
=
££4 5
$str
££6 8
;
££8 9
public
¤¤ 
string
¤¤ 
cTiDeclaracion
¤¤ (
{
¤¤) *
get
¤¤+ .
;
¤¤. /
set
¤¤0 3
;
¤¤3 4
}
¤¤5 6
=
¤¤7 8
$str
¤¤9 ;
;
¤¤; <
public
¥¥ 
string
¥¥ 
dObserva
¥¥ "
{
¥¥# $
get
¥¥% (
;
¥¥( )
set
¥¥* -
;
¥¥- .
}
¥¥/ 0
=
¥¥1 2
$str
¥¥3 5
;
¥¥5 6
public
¦¦ 
string
¦¦ 
dComercName
¦¦ %
{
¦¦& '
get
¦¦( +
;
¦¦+ ,
set
¦¦- 0
;
¦¦0 1
}
¦¦2 3
=
¦¦4 5
$str
¦¦6 8
;
¦¦8 9
public
§§ 
string
§§ 
fAccidentes
§§ %
{
§§& '
get
§§( +
;
§§+ ,
set
§§- 0
;
§§0 1
}
§§2 3
=
§§4 5
$str
§§6 8
;
§§8 9
public
¨¨ 
string
¨¨ 
fOrigenAten
¨¨ %
{
¨¨& '
get
¨¨( +
;
¨¨+ ,
set
¨¨- 0
;
¨¨0 1
}
¨¨2 3
=
¨¨4 5
$str
¨¨6 8
;
¨¨8 9
public
©© 
string
©© 
	cUserCode
©© #
{
©©$ %
get
©©& )
;
©©) *
set
©©+ .
;
©©. /
}
©©0 1
=
©©2 3
$str
©©4 6
;
©©6 7
public
ªª 
string
ªª 
	nUserName
ªª #
{
ªª$ %
get
ªª& )
;
ªª) *
set
ªª+ .
;
ªª. /
}
ªª0 1
=
ªª2 3
$str
ªª4 6
;
ªª6 7
public
«« 
string
«« 
cFlagCGCode
«« %
{
««& '
get
««( +
;
««+ ,
set
««- 0
;
««0 1
}
««2 3
=
««4 5
$str
««6 8
;
««8 9
public
¬¬ 
string
¬¬ 
dFlagCGName
¬¬ %
{
¬¬& '
get
¬¬( +
;
¬¬+ ,
set
¬¬- 0
;
¬¬0 1
}
¬¬2 3
=
¬¬4 5
$str
¬¬6 8
;
¬¬8 9
public
­­ 
string
­­ 
cIndiRestriCode
­­ )
{
­­* +
get
­­, /
;
­­/ 0
set
­­1 4
;
­­4 5
}
­­6 7
=
­­8 9
$str
­­: <
;
­­< =
public
®® 
string
®® 
dObsCarencia
®® &
{
®®' (
get
®®) ,
;
®®, -
set
®®. 1
;
®®1 2
}
®®3 4
=
®®5 6
$str
®®7 9
;
®®9 :
}
¯¯ 	
public
±± 
class
±± '
NumeroAutorizacionRequest
±± .
{
²² 	
public
³³ 
string
³³ %
ApellidoMaternoAfiliado
³³ 1
{
³³2 3
get
³³4 7
;
³³7 8
set
³³9 <
;
³³< =
}
³³> ?
=
³³@ A
$str
³³B D
;
³³D E
public
´´ 
string
´´ %
ApellidoPaternoAfiliado
´´ 1
{
´´2 3
get
´´4 7
;
´´7 8
set
´´9 <
;
´´< =
}
´´> ?
=
´´@ A
$str
´´B D
;
´´D E
public
µµ 
string
µµ $
BeneficioMaximoInicial
µµ 0
{
µµ1 2
get
µµ3 6
;
µµ6 7
set
µµ8 ;
;
µµ; <
}
µµ= >
=
µµ? @
$str
µµA C
;
µµC D
public
¶¶ 
string
¶¶ 
CodigoAfiliado
¶¶ (
{
¶¶) *
get
¶¶+ .
;
¶¶. /
set
¶¶0 3
;
¶¶3 4
}
¶¶5 6
=
¶¶7 8
$str
¶¶9 ;
;
¶¶; <
public
·· 
string
·· 
CodigoTitular
·· '
{
··( )
get
··* -
;
··- .
set
··/ 2
;
··2 3
}
··4 5
=
··6 7
$str
··8 :
;
··: ;
public
¸¸ 
string
¸¸ %
CodCalificacionServicio
¸¸ 1
{
¸¸2 3
get
¸¸4 7
;
¸¸7 8
set
¸¸9 <
;
¸¸< =
}
¸¸> ?
=
¸¸@ A
$str
¸¸B D
;
¸¸D E
public
¹¹ 
string
¹¹ 
	CodEstado
¹¹ #
{
¹¹$ %
get
¹¹& )
;
¹¹) *
set
¹¹+ .
;
¹¹. /
}
¹¹0 1
=
¹¹2 3
$str
¹¹4 6
;
¹¹6 7
public
ºº 
string
ºº 
CodEspecialidad
ºº )
{
ºº* +
get
ºº, /
;
ºº/ 0
set
ºº1 4
;
ºº4 5
}
ºº6 7
=
ºº8 9
$str
ºº: <
;
ºº< =
public
»» 
string
»» 
	CodMoneda
»» #
{
»»$ %
get
»»& )
;
»») *
set
»»+ .
;
»». /
}
»»0 1
=
»»2 3
$str
»»4 6
;
»»6 7
public
¼¼ 
string
¼¼ 
CodCopagoFijo
¼¼ '
{
¼¼( )
get
¼¼* -
;
¼¼- .
set
¼¼/ 2
;
¼¼2 3
}
¼¼4 5
=
¼¼6 7
$str
¼¼8 :
;
¼¼: ;
public
½½ 
string
½½ 
CodCopagoVariable
½½ +
{
½½, -
get
½½. 1
;
½½1 2
set
½½3 6
;
½½6 7
}
½½8 9
=
½½: ;
$str
½½< >
;
½½> ?
public
¾¾ 
string
¾¾ 
CodParentesco
¾¾ '
{
¾¾( )
get
¾¾* -
;
¾¾- .
set
¾¾/ 2
;
¾¾2 3
}
¾¾4 5
=
¾¾6 7
$str
¾¾8 :
;
¾¾: ;
public
¿¿ 
string
¿¿ 
CodProducto
¿¿ %
{
¿¿& '
get
¿¿( +
;
¿¿+ ,
set
¿¿- 0
;
¿¿0 1
}
¿¿2 3
=
¿¿4 5
$str
¿¿6 8
;
¿¿8 9
public
ÀÀ 
string
ÀÀ (
NumeroDocumentoContratante
ÀÀ 4
{
ÀÀ5 6
get
ÀÀ7 :
;
ÀÀ: ;
set
ÀÀ< ?
;
ÀÀ? @
}
ÀÀA B
=
ÀÀC D
$str
ÀÀE G
;
ÀÀG H
public
ÁÁ 
string
ÁÁ !
CodSubTipoCobertura
ÁÁ -
{
ÁÁ. /
get
ÁÁ0 3
;
ÁÁ3 4
set
ÁÁ5 8
;
ÁÁ8 9
}
ÁÁ: ;
=
ÁÁ< =
$str
ÁÁ> @
;
ÁÁ@ A
public
ÂÂ 
string
ÂÂ 
CodTipoCobertura
ÂÂ *
{
ÂÂ+ ,
get
ÂÂ- 0
;
ÂÂ0 1
set
ÂÂ2 5
;
ÂÂ5 6
}
ÂÂ7 8
=
ÂÂ9 :
$str
ÂÂ; =
;
ÂÂ= >
public
ÃÃ 
string
ÃÃ 
CodTipoAfiliacion
ÃÃ +
{
ÃÃ, -
get
ÃÃ. 1
;
ÃÃ1 2
set
ÃÃ3 6
;
ÃÃ6 7
}
ÃÃ8 9
=
ÃÃ: ;
$str
ÃÃ< >
;
ÃÃ> ?
public
ÄÄ 
string
ÄÄ 
DesProducto
ÄÄ %
{
ÄÄ& '
get
ÄÄ( +
;
ÄÄ+ ,
set
ÄÄ- 0
;
ÄÄ0 1
}
ÄÄ2 3
=
ÄÄ4 5
$str
ÄÄ6 8
;
ÄÄ8 9
public
ÅÅ 
string
ÅÅ 
CodEstadoMarital
ÅÅ *
{
ÅÅ+ ,
get
ÅÅ- 0
;
ÅÅ0 1
set
ÅÅ2 5
;
ÅÅ5 6
}
ÅÅ7 8
=
ÅÅ9 :
$str
ÅÅ; =
;
ÅÅ= >
public
ÆÆ 
string
ÆÆ !
CodFechaFinCarencia
ÆÆ -
{
ÆÆ. /
get
ÆÆ0 3
;
ÆÆ3 4
set
ÆÆ5 8
;
ÆÆ8 9
}
ÆÆ: ;
=
ÆÆ< =
$str
ÆÆ> @
;
ÆÆ@ A
public
ÇÇ 
string
ÇÇ  
CodFechaAfiliacion
ÇÇ ,
{
ÇÇ- .
get
ÇÇ/ 2
;
ÇÇ2 3
set
ÇÇ4 7
;
ÇÇ7 8
}
ÇÇ9 :
=
ÇÇ; <
$str
ÇÇ= ?
;
ÇÇ? @
public
ÈÈ 
string
ÈÈ $
CodFechaInicioVigencia
ÈÈ 0
{
ÈÈ1 2
get
ÈÈ3 6
;
ÈÈ6 7
set
ÈÈ8 ;
;
ÈÈ; <
}
ÈÈ= >
=
ÈÈ? @
$str
ÈÈA C
;
ÈÈC D
public
ÉÉ 
string
ÉÉ  
CodFechaNacimiento
ÉÉ ,
{
ÉÉ- .
get
ÉÉ/ 2
;
ÉÉ2 3
set
ÉÉ4 7
;
ÉÉ7 8
}
ÉÉ9 :
=
ÉÉ; <
$str
ÉÉ= ?
;
ÉÉ? @
public
ÊÊ 
string
ÊÊ 
	CodGenero
ÊÊ #
{
ÊÊ$ %
get
ÊÊ& )
;
ÊÊ) *
set
ÊÊ+ .
;
ÊÊ. /
}
ÊÊ0 1
=
ÊÊ2 3
$str
ÊÊ4 6
;
ÊÊ6 7
public
ËË 
string
ËË 
SUNASA
ËË  
{
ËË! "
get
ËË# &
;
ËË& '
set
ËË( +
;
ËË+ ,
}
ËË- .
=
ËË/ 0
$str
ËË1 3
;
ËË3 4
public
ÌÌ 
string
ÌÌ 
IAFAS
ÌÌ 
{
ÌÌ  !
get
ÌÌ" %
;
ÌÌ% &
set
ÌÌ' *
;
ÌÌ* +
}
ÌÌ, -
=
ÌÌ. /
$str
ÌÌ0 2
;
ÌÌ2 3
public
ÍÍ 
string
ÍÍ #
CondicionesEspeciales
ÍÍ /
{
ÍÍ0 1
get
ÍÍ2 5
;
ÍÍ5 6
set
ÍÍ7 :
;
ÍÍ: ;
}
ÍÍ< =
=
ÍÍ> ?
$str
ÍÍ@ B
;
ÍÍB C
public
ÎÎ 
string
ÎÎ $
ApellidoMaternoTitular
ÎÎ 0
{
ÎÎ1 2
get
ÎÎ3 6
;
ÎÎ6 7
set
ÎÎ8 ;
;
ÎÎ; <
}
ÎÎ= >
=
ÎÎ? @
$str
ÎÎA C
;
ÎÎC D
public
ÏÏ 
string
ÏÏ 
NombreContratante
ÏÏ +
{
ÏÏ, -
get
ÏÏ. 1
;
ÏÏ1 2
set
ÏÏ3 6
;
ÏÏ6 7
}
ÏÏ8 9
=
ÏÏ: ;
$str
ÏÏ< >
;
ÏÏ> ?
public
ĞĞ 
string
ĞĞ $
ApellidoPaternoTitular
ĞĞ 0
{
ĞĞ1 2
get
ĞĞ3 6
;
ĞĞ6 7
set
ĞĞ8 ;
;
ĞĞ; <
}
ĞĞ= >
=
ĞĞ? @
$str
ĞĞA C
;
ĞĞC D
public
ÑÑ 
string
ÑÑ 
NombresAfiliado
ÑÑ )
{
ÑÑ* +
get
ÑÑ, /
;
ÑÑ/ 0
set
ÑÑ1 4
;
ÑÑ4 5
}
ÑÑ6 7
=
ÑÑ8 9
$str
ÑÑ: <
;
ÑÑ< =
public
ÒÒ 
string
ÒÒ 
NombresTitular
ÒÒ (
{
ÒÒ) *
get
ÒÒ+ .
;
ÒÒ. /
set
ÒÒ0 3
;
ÒÒ3 4
}
ÒÒ5 6
=
ÒÒ7 8
$str
ÒÒ9 ;
;
ÒÒ; <
public
ÓÓ 
string
ÓÓ 
NumeroCertificado
ÓÓ +
{
ÓÓ, -
get
ÓÓ. 1
;
ÓÓ1 2
set
ÓÓ3 6
;
ÓÓ6 7
}
ÓÓ8 9
=
ÓÓ: ;
$str
ÓÓ< >
;
ÓÓ> ?
public
ÔÔ 
string
ÔÔ 
NumeroContrato
ÔÔ (
{
ÔÔ) *
get
ÔÔ+ .
;
ÔÔ. /
set
ÔÔ0 3
;
ÔÔ3 4
}
ÔÔ5 6
=
ÔÔ7 8
$str
ÔÔ9 ;
;
ÔÔ; <
public
ÕÕ 
string
ÕÕ %
NumeroDocumentoAfiliado
ÕÕ 1
{
ÕÕ2 3
get
ÕÕ4 7
;
ÕÕ7 8
set
ÕÕ9 <
;
ÕÕ< =
}
ÕÕ> ?
=
ÕÕ@ A
$str
ÕÕB D
;
ÕÕD E
public
ÖÖ 
string
ÖÖ $
NumeroDocumentoTitular
ÖÖ 0
{
ÖÖ1 2
get
ÖÖ3 6
;
ÖÖ6 7
set
ÖÖ8 ;
;
ÖÖ; <
}
ÖÖ= >
=
ÖÖ? @
$str
ÖÖA C
;
ÖÖC D
public
×× 
string
×× 

NumeroPlan
×× $
{
××% &
get
××' *
;
××* +
set
××, /
;
××/ 0
}
××1 2
=
××3 4
$str
××5 7
;
××7 8
public
ØØ 
string
ØØ 
NumeroPoliza
ØØ &
{
ØØ' (
get
ØØ) ,
;
ØØ, -
set
ØØ. 1
;
ØØ1 2
}
ØØ3 4
=
ØØ5 6
$str
ØØ7 9
;
ØØ9 :
public
ÙÙ 
string
ÙÙ 
RUC
ÙÙ 
{
ÙÙ 
get
ÙÙ  #
;
ÙÙ# $
set
ÙÙ% (
;
ÙÙ( )
}
ÙÙ* +
=
ÙÙ, -
$str
ÙÙ. 0
;
ÙÙ0 1
public
ÚÚ 
string
ÚÚ )
CodTipoDocumentoContratante
ÚÚ 5
{
ÚÚ6 7
get
ÚÚ8 ;
;
ÚÚ; <
set
ÚÚ= @
;
ÚÚ@ A
}
ÚÚB C
=
ÚÚD E
$str
ÚÚF H
;
ÚÚH I
public
ÛÛ 
string
ÛÛ &
CodTipoDocumentoAfiliado
ÛÛ 2
{
ÛÛ3 4
get
ÛÛ5 8
;
ÛÛ8 9
set
ÛÛ: =
;
ÛÛ= >
}
ÛÛ? @
=
ÛÛA B
$str
ÛÛC E
;
ÛÛE F
public
ÜÜ 
string
ÜÜ %
CodTipoDocumentoTitular
ÜÜ 1
{
ÜÜ2 3
get
ÜÜ4 7
;
ÜÜ7 8
set
ÜÜ9 <
;
ÜÜ< =
}
ÜÜ> ?
=
ÜÜ@ A
$str
ÜÜB D
;
ÜÜD E
public
İİ 
string
İİ 
CodTipoPlan
İİ %
{
İİ& '
get
İİ( +
;
İİ+ ,
set
İİ- 0
;
İİ0 1
}
İİ2 3
=
İİ4 5
$str
İİ6 8
;
İİ8 9
public
ŞŞ 
string
ŞŞ %
CodIndicadorRestriccion
ŞŞ 1
{
ŞŞ2 3
get
ŞŞ4 7
;
ŞŞ7 8
set
ŞŞ9 <
;
ŞŞ< =
}
ŞŞ> ?
=
ŞŞ@ A
$str
ŞŞB D
;
ŞŞD E
public
ßß 
string
ßß '
CodFechaActualizacionFoto
ßß 3
{
ßß4 5
get
ßß6 9
;
ßß9 :
set
ßß; >
;
ßß> ?
}
ßß@ A
=
ßßB C
$str
ßßD F
;
ßßF G
public
àà 
string
àà 
CodTipoMoneda
àà '
{
àà( )
get
àà* -
;
àà- .
set
àà/ 2
;
àà2 3
}
àà4 5
=
àà6 7
$str
àà8 :
;
àà: ;
public
ââ '
NumeroAutorizacionRequest
ââ ,
(
ââ, -
)
ââ- .
{
ãã 
}
ää 
public
ææ '
NumeroAutorizacionRequest
ææ ,
(
ææ, -
string
ææ- 3
pSUNASA
ææ4 ;
,
ææ; <
string
ææ= C
pIAFAS
ææD J
,
ææJ K
string
ææL R
pRUC
ææS W
)
ææW X
{
çç 
SUNASA
èè 
=
èè 
pSUNASA
èè  
;
èè  !
IAFAS
éé 
=
éé 
pIAFAS
éé 
;
éé 
RUC
êê 
=
êê 
pRUC
êê 
;
êê 
}
ëë 
}
ìì 	
public
îî 
class
îî (
NumeroAutorizacionResponse
îî /
{
ïï 	
public
ğğ 
string
ğğ  
NumeroAutorizacion
ğğ ,
{
ğğ- .
get
ğğ/ 2
;
ğğ2 3
set
ğğ4 7
;
ğğ7 8
}
ğğ9 :
=
ğğ; <
$str
ğğ= ?
;
ğğ? @
public
ññ 
string
ññ 
	Documento
ññ #
{
ññ$ %
get
ññ& )
;
ññ) *
set
ññ+ .
;
ññ. /
}
ññ0 1
=
ññ2 3
$str
ññ4 6
;
ññ6 7
}
òò 	
public
ôô 
class
ôô 
CoberturaRequest
ôô %
{
õõ 	
public
öö 
string
öö 

cIafasCode
öö $
{
öö% &
get
öö' *
;
öö* +
set
öö, /
;
öö/ 0
}
öö1 2
=
öö3 4
$str
öö5 7
;
öö7 8
public
÷÷ 
string
÷÷ 
	cAsegCode
÷÷ #
{
÷÷$ %
get
÷÷& )
;
÷÷) *
set
÷÷+ .
;
÷÷. /
}
÷÷0 1
=
÷÷2 3
$str
÷÷4 6
;
÷÷6 7
public
øø 
string
øø 
	cAutoCode
øø #
{
øø$ %
get
øø& )
;
øø) *
set
øø+ .
;
øø. /
}
øø0 1
=
øø2 3
$str
øø4 6
;
øø6 7
public
ùù 
string
ùù 

cCoberCode
ùù $
{
ùù% &
get
ùù' *
;
ùù* +
set
ùù, /
;
ùù/ 0
}
ùù1 2
=
ùù3 4
$str
ùù5 7
;
ùù7 8
public
úú 
string
úú 
cSubTipoCober
úú '
{
úú( )
get
úú* -
;
úú- .
set
úú/ 2
;
úú2 3
}
úú4 5
=
úú6 7
$str
úú8 :
;
úú: ;
public
ûû 
string
ûû 
nSubTipoCober
ûû '
{
ûû( )
get
ûû* -
;
ûû- .
set
ûû/ 2
;
ûû2 3
}
ûû4 5
=
ûû6 7
$str
ûû8 :
;
ûû: ;
public
üü 
string
üü 
cIndiProCode
üü &
{
üü' (
get
üü) ,
;
üü, -
set
üü. 1
;
üü1 2
}
üü3 4
=
üü5 6
$str
üü7 9
;
üü9 :
public
ıı 
string
ıı 
	nCopgFijo
ıı #
{
ıı$ %
get
ıı& )
;
ıı) *
set
ıı+ .
;
ıı. /
}
ıı0 1
=
ıı2 3
$str
ıı4 6
;
ıı6 7
public
şş 
string
şş 
	cMoneCode
şş #
{
şş$ %
get
şş& )
;
şş) *
set
şş+ .
;
şş. /
}
şş0 1
=
şş2 3
$str
şş4 6
;
şş6 7
public
ÿÿ 
string
ÿÿ 
cCalifServCode
ÿÿ (
{
ÿÿ) *
get
ÿÿ+ .
;
ÿÿ. /
set
ÿÿ0 3
;
ÿÿ3 4
}
ÿÿ5 6
=
ÿÿ7 8
$str
ÿÿ9 ;
;
ÿÿ; <
public
€€ 
string
€€ 
	nCopgVari
€€ #
{
€€$ %
get
€€& )
;
€€) *
set
€€+ .
;
€€. /
}
€€0 1
=
€€2 3
$str
€€4 6
;
€€6 7
public
 
string
 
dBeneficioMax
 '
{
( )
get
* -
;
- .
set
/ 2
;
2 3
}
4 5
=
6 7
$str
8 :
;
: ;
public
‚‚ 
string
‚‚ 

fFeCarDate
‚‚ $
{
‚‚% &
get
‚‚' *
;
‚‚* +
set
‚‚, /
;
‚‚/ 0
}
‚‚1 2
=
‚‚3 4
$str
‚‚5 7
;
‚‚7 8
public
ƒƒ 
string
ƒƒ 

fEsperDate
ƒƒ $
{
ƒƒ% &
get
ƒƒ' *
;
ƒƒ* +
set
ƒƒ, /
;
ƒƒ/ 0
}
ƒƒ1 2
=
ƒƒ3 4
$str
ƒƒ5 7
;
ƒƒ7 8
public
„„ 
string
„„ 

cFlagCarta
„„ $
{
„„% &
get
„„' *
;
„„* +
set
„„, /
;
„„/ 0
}
„„1 2
=
„„3 4
$str
„„5 7
;
„„7 8
public
…… 
string
…… 
	cProdCode
…… #
{
……$ %
get
……& )
;
……) *
set
……+ .
;
……. /
}
……0 1
=
……2 3
$str
……4 6
;
……6 7
public
†† 
string
†† 
	cEspeCode
†† #
{
††$ %
get
††& )
;
††) *
set
††+ .
;
††. /
}
††0 1
=
††2 3
$str
††4 6
;
††6 7
public
‡‡ 
string
‡‡ 
	dIpssHost
‡‡ #
{
‡‡$ %
get
‡‡& )
;
‡‡) *
set
‡‡+ .
;
‡‡. /
}
‡‡0 1
=
‡‡2 3
$str
‡‡4 6
;
‡‡6 7
public
ˆˆ 
string
ˆˆ 

cOrigenAte
ˆˆ $
{
ˆˆ% &
get
ˆˆ' *
;
ˆˆ* +
set
ˆˆ, /
;
ˆˆ/ 0
}
ˆˆ1 2
=
ˆˆ3 4
$str
ˆˆ5 7
;
ˆˆ7 8
public
‰‰ 
string
‰‰ 
cAccidentes
‰‰ %
{
‰‰& '
get
‰‰( +
;
‰‰+ ,
set
‰‰- 0
;
‰‰0 1
}
‰‰2 3
=
‰‰4 5
$str
‰‰6 8
;
‰‰8 9
public
ŠŠ 
string
ŠŠ 
cTiDeclaracion
ŠŠ (
{
ŠŠ) *
get
ŠŠ+ .
;
ŠŠ. /
set
ŠŠ0 3
;
ŠŠ3 4
}
ŠŠ5 6
=
ŠŠ7 8
$str
ŠŠ9 ;
;
ŠŠ; <
public
‹‹ 
string
‹‹ 
dObserva
‹‹ "
{
‹‹# $
get
‹‹% (
;
‹‹( )
set
‹‹* -
;
‹‹- .
}
‹‹/ 0
=
‹‹1 2
$str
‹‹3 5
;
‹‹5 6
public
ŒŒ 
string
ŒŒ 
dComercName
ŒŒ %
{
ŒŒ& '
get
ŒŒ( +
;
ŒŒ+ ,
set
ŒŒ- 0
;
ŒŒ0 1
}
ŒŒ2 3
=
ŒŒ4 5
$str
ŒŒ6 8
;
ŒŒ8 9
public
 
string
 
fAccidentes
 %
{
& '
get
( +
;
+ ,
set
- 0
;
0 1
}
2 3
=
4 5
$str
6 8
;
8 9
public
 
string
 
fOrigenAten
 %
{
& '
get
( +
;
+ ,
set
- 0
;
0 1
}
2 3
=
4 5
$str
6 8
;
8 9
public
 
string
 
	cUserCode
 #
{
$ %
get
& )
;
) *
set
+ .
;
. /
}
0 1
=
2 3
$str
4 6
;
6 7
public
 
string
 
	nUserName
 #
{
$ %
get
& )
;
) *
set
+ .
;
. /
}
0 1
=
2 3
$str
4 6
;
6 7
public
‘‘ 
string
‘‘ 
cFlagCGCode
‘‘ %
{
‘‘& '
get
‘‘( +
;
‘‘+ ,
set
‘‘- 0
;
‘‘0 1
}
‘‘2 3
=
‘‘4 5
$str
‘‘6 8
;
‘‘8 9
public
’’ 
string
’’ 
dFlagCGName
’’ %
{
’’& '
get
’’( +
;
’’+ ,
set
’’- 0
;
’’0 1
}
’’2 3
=
’’4 5
$str
’’6 8
;
’’8 9
public
““ 
string
““ 
cIndiRestriCode
““ )
{
““* +
get
““, /
;
““/ 0
set
““1 4
;
““4 5
}
““6 7
=
““8 9
$str
““: <
;
““< =
public
”” 
string
”” 
dObsCarencia
”” &
{
””' (
get
””) ,
;
””, -
set
””. 1
;
””1 2
}
””3 4
=
””5 6
$str
””7 9
;
””9 :
}
•• 	
public
—— 
class
——  
ObservacionRequest
—— '
{
˜˜ 	
public
™™ 
string
™™ 
SUNASA
™™  
{
™™! "
get
™™# &
;
™™& '
set
™™( +
;
™™+ ,
}
™™- .
=
™™/ 0
$str
™™1 3
;
™™3 4
public
šš 
string
šš 
IAFAS
šš 
{
šš  !
get
šš" %
;
šš% &
set
šš' *
;
šš* +
}
šš, -
=
šš. /
$str
šš0 2
;
šš2 3
public
›› 
string
›› 
RUC
›› 
{
›› 
get
››  #
;
››# $
set
››% (
;
››( )
}
››* +
=
››, -
$str
››. 0
;
››0 1
public
œœ 
string
œœ 
NombresAfiliado
œœ )
{
œœ* +
get
œœ, /
;
œœ/ 0
set
œœ1 4
;
œœ4 5
}
œœ6 7
=
œœ8 9
$str
œœ: <
;
œœ< =
public
 
string
 %
ApellidoPaternoAfiliado
 1
{
2 3
get
4 7
;
7 8
set
9 <
;
< =
}
> ?
=
@ A
$str
B D
;
D E
public
 
string
 %
ApellidoMaternoAfiliado
 1
{
2 3
get
4 7
;
7 8
set
9 <
;
< =
}
> ?
=
@ A
$str
B D
;
D E
public
ŸŸ 
string
ŸŸ 
CodigoAfiliado
ŸŸ (
{
ŸŸ) *
get
ŸŸ+ .
;
ŸŸ. /
set
ŸŸ0 3
;
ŸŸ3 4
}
ŸŸ5 6
=
ŸŸ7 8
$str
ŸŸ9 ;
;
ŸŸ; <
public
   
string
   &
CodTipoDocumentoAfiliado
   2
{
  3 4
get
  5 8
;
  8 9
set
  : =
;
  = >
}
  ? @
=
  A B
$str
  C E
;
  E F
public
¡¡ 
string
¡¡ %
NumeroDocumentoAfiliado
¡¡ 1
{
¡¡2 3
get
¡¡4 7
;
¡¡7 8
set
¡¡9 <
;
¡¡< =
}
¡¡> ?
=
¡¡@ A
$str
¡¡B D
;
¡¡D E
public
¢¢ 
string
¢¢ 
CodProducto
¢¢ %
{
¢¢& '
get
¢¢( +
;
¢¢+ ,
set
¢¢- 0
;
¢¢0 1
}
¢¢2 3
=
¢¢4 5
$str
¢¢6 8
;
¢¢8 9
public
££ 
string
££ 
DesProducto
££ %
{
££& '
get
££( +
;
££+ ,
set
££- 0
;
££0 1
}
££2 3
=
££4 5
$str
££6 8
;
££8 9
public
¤¤ 
string
¤¤ 

NumeroPlan
¤¤ $
{
¤¤% &
get
¤¤' *
;
¤¤* +
set
¤¤, /
;
¤¤/ 0
}
¤¤1 2
=
¤¤3 4
$str
¤¤5 7
;
¤¤7 8
public
¥¥ 
string
¥¥ )
CodTipoDocumentoContratante
¥¥ 5
{
¥¥6 7
get
¥¥8 ;
;
¥¥; <
set
¥¥= @
;
¥¥@ A
}
¥¥B C
=
¥¥D E
$str
¥¥F H
;
¥¥H I
public
¦¦ 
string
¦¦ (
NumeroDocumentoContratante
¦¦ 4
{
¦¦5 6
get
¦¦7 :
;
¦¦: ;
set
¦¦< ?
;
¦¦? @
}
¦¦A B
=
¦¦C D
$str
¦¦E G
;
¦¦G H
public
§§ 
string
§§ 
NombreContratante
§§ +
{
§§, -
get
§§. 1
;
§§1 2
set
§§3 6
;
§§6 7
}
§§8 9
=
§§: ;
$str
§§< >
;
§§> ?
public
¨¨ 
string
¨¨ 
CodParentesco
¨¨ '
{
¨¨( )
get
¨¨* -
;
¨¨- .
set
¨¨/ 2
;
¨¨2 3
}
¨¨4 5
=
¨¨6 7
$str
¨¨8 :
;
¨¨: ;
public
©© 
string
©© (
TipoCalificadorContratante
©© 4
{
©©5 6
get
©©7 :
;
©©: ;
set
©©< ?
;
©©? @
}
©©A B
=
©©C D
$str
©©E G
;
©©G H
public
ªª 
string
ªª 
CodEspecialidad
ªª )
{
ªª* +
get
ªª, /
;
ªª/ 0
set
ªª1 4
;
ªª4 5
}
ªª6 7
=
ªª8 9
$str
ªª: <
;
ªª< =
public
¬¬  
ObservacionRequest
¬¬ %
(
¬¬% &
)
¬¬& '
{
­­ 
}
®® 
public
°°  
ObservacionRequest
°° %
(
°°% &
string
°°& ,
pSUNASA
°°- 4
,
°°4 5
string
°°6 <
pIAFAS
°°= C
,
°°C D
string
°°E K
pRUC
°°L P
)
°°P Q
{
±± 
SUNASA
²² 
=
²² 
pSUNASA
²²  
;
²²  !
IAFAS
³³ 
=
³³ 
pIAFAS
³³ 
;
³³ 
RUC
´´ 
=
´´ 
pRUC
´´ 
;
´´ 
}
µµ 
}
¶¶ 	
public
¸¸ 
class
¸¸ !
ObservacionResponse
¸¸ (
{
¹¹ 	
public
ºº 
string
ºº %
IndObservacionAsegurado
ºº 1
{
ºº2 3
get
ºº4 7
;
ºº7 8
set
ºº9 <
;
ºº< =
}
ºº> ?
=
ºº@ A
$str
ººB D
;
ººD E
public
»» 
string
»» (
IndObservacionesEspeciales
»» 4
{
»»5 6
get
»»7 :
;
»»: ;
set
»»< ?
;
»»? @
}
»»A B
=
»»C D
$str
»»E G
;
»»G H
public
¼¼ 
string
¼¼ 
Observaciones
¼¼ '
{
¼¼( )
get
¼¼* -
;
¼¼- .
set
¼¼/ 2
;
¼¼2 3
}
¼¼4 5
=
¼¼6 7
$str
¼¼8 :
;
¼¼: ;
}
½½ 	
public
¿¿ 
class
¿¿ %
DatosAdicionalesRequest
¿¿ ,
{
ÀÀ 	
public
ÁÁ 
string
ÁÁ 
SUNASA
ÁÁ  
{
ÁÁ! "
get
ÁÁ# &
;
ÁÁ& '
set
ÁÁ( +
;
ÁÁ+ ,
}
ÁÁ- .
=
ÁÁ/ 0
$str
ÁÁ1 3
;
ÁÁ3 4
public
ÂÂ 
string
ÂÂ 
IAFAS
ÂÂ 
{
ÂÂ  !
get
ÂÂ" %
;
ÂÂ% &
set
ÂÂ' *
;
ÂÂ* +
}
ÂÂ, -
=
ÂÂ. /
$str
ÂÂ0 2
;
ÂÂ2 3
public
ÃÃ 
string
ÃÃ 
RUC
ÃÃ 
{
ÃÃ 
get
ÃÃ  #
;
ÃÃ# $
set
ÃÃ% (
;
ÃÃ( )
}
ÃÃ* +
=
ÃÃ, -
$str
ÃÃ. 0
;
ÃÃ0 1
public
ÄÄ 
string
ÄÄ 
NombresAfiliado
ÄÄ )
{
ÄÄ* +
get
ÄÄ, /
;
ÄÄ/ 0
set
ÄÄ1 4
;
ÄÄ4 5
}
ÄÄ6 7
=
ÄÄ8 9
$str
ÄÄ: <
;
ÄÄ< =
public
ÅÅ 
string
ÅÅ %
ApellidoPaternoAfiliado
ÅÅ 1
{
ÅÅ2 3
get
ÅÅ4 7
;
ÅÅ7 8
set
ÅÅ9 <
;
ÅÅ< =
}
ÅÅ> ?
=
ÅÅ@ A
$str
ÅÅB D
;
ÅÅD E
public
ÆÆ 
string
ÆÆ %
ApellidoMaternoAfiliado
ÆÆ 1
{
ÆÆ2 3
get
ÆÆ4 7
;
ÆÆ7 8
set
ÆÆ9 <
;
ÆÆ< =
}
ÆÆ> ?
=
ÆÆ@ A
$str
ÆÆB D
;
ÆÆD E
public
ÇÇ 
string
ÇÇ 
CodigoAfiliado
ÇÇ (
{
ÇÇ) *
get
ÇÇ+ .
;
ÇÇ. /
set
ÇÇ0 3
;
ÇÇ3 4
}
ÇÇ5 6
=
ÇÇ7 8
$str
ÇÇ9 ;
;
ÇÇ; <
public
ÈÈ 
string
ÈÈ &
CodTipoDocumentoAfiliado
ÈÈ 2
{
ÈÈ3 4
get
ÈÈ5 8
;
ÈÈ8 9
set
ÈÈ: =
;
ÈÈ= >
}
ÈÈ? @
=
ÈÈA B
$str
ÈÈC E
;
ÈÈE F
public
ÉÉ 
string
ÉÉ %
NumeroDocumentoAfiliado
ÉÉ 1
{
ÉÉ2 3
get
ÉÉ4 7
;
ÉÉ7 8
set
ÉÉ9 <
;
ÉÉ< =
}
ÉÉ> ?
=
ÉÉ@ A
$str
ÉÉB D
;
ÉÉD E
public
ÊÊ 
string
ÊÊ 
CodProducto
ÊÊ %
{
ÊÊ& '
get
ÊÊ( +
;
ÊÊ+ ,
set
ÊÊ- 0
;
ÊÊ0 1
}
ÊÊ2 3
=
ÊÊ4 5
$str
ÊÊ6 8
;
ÊÊ8 9
public
ËË 
string
ËË 
DesProducto
ËË %
{
ËË& '
get
ËË( +
;
ËË+ ,
set
ËË- 0
;
ËË0 1
}
ËË2 3
=
ËË4 5
$str
ËË6 8
;
ËË8 9
public
ÌÌ 
string
ÌÌ 

NumeroPlan
ÌÌ $
{
ÌÌ% &
get
ÌÌ' *
;
ÌÌ* +
set
ÌÌ, /
;
ÌÌ/ 0
}
ÌÌ1 2
=
ÌÌ3 4
$str
ÌÌ5 7
;
ÌÌ7 8
public
ÍÍ 
string
ÍÍ )
CodTipoDocumentoContratante
ÍÍ 5
{
ÍÍ6 7
get
ÍÍ8 ;
;
ÍÍ; <
set
ÍÍ= @
;
ÍÍ@ A
}
ÍÍB C
=
ÍÍD E
$str
ÍÍF H
;
ÍÍH I
public
ÎÎ 
string
ÎÎ (
NumeroDocumentoContratante
ÎÎ 4
{
ÎÎ5 6
get
ÎÎ7 :
;
ÎÎ: ;
set
ÎÎ< ?
;
ÎÎ? @
}
ÎÎA B
=
ÎÎC D
$str
ÎÎE G
;
ÎÎG H
public
ÏÏ 
string
ÏÏ 
NombreContratante
ÏÏ +
{
ÏÏ, -
get
ÏÏ. 1
;
ÏÏ1 2
set
ÏÏ3 6
;
ÏÏ6 7
}
ÏÏ8 9
=
ÏÏ: ;
$str
ÏÏ< >
;
ÏÏ> ?
public
ĞĞ 
string
ĞĞ 
CodParentesco
ĞĞ '
{
ĞĞ( )
get
ĞĞ* -
;
ĞĞ- .
set
ĞĞ/ 2
;
ĞĞ2 3
}
ĞĞ4 5
=
ĞĞ6 7
$str
ĞĞ8 :
;
ĞĞ: ;
public
ÑÑ 
string
ÑÑ (
TipoCalificadorContratante
ÑÑ 4
{
ÑÑ5 6
get
ÑÑ7 :
;
ÑÑ: ;
set
ÑÑ< ?
;
ÑÑ? @
}
ÑÑA B
=
ÑÑC D
$str
ÑÑE G
;
ÑÑG H
public
ÒÒ 
string
ÒÒ 
CodEspecialidad
ÒÒ )
{
ÒÒ* +
get
ÒÒ, /
;
ÒÒ/ 0
set
ÒÒ1 4
;
ÒÒ4 5
}
ÒÒ6 7
=
ÒÒ8 9
$str
ÒÒ: <
;
ÒÒ< =
public
ÔÔ %
DatosAdicionalesRequest
ÔÔ *
(
ÔÔ* +
)
ÔÔ+ ,
{
ÕÕ 
}
ÖÖ 
public
ØØ %
DatosAdicionalesRequest
ØØ *
(
ØØ* +
string
ØØ+ 1
pSUNASA
ØØ2 9
,
ØØ9 :
string
ØØ; A
pIAFAS
ØØB H
,
ØØH I
string
ØØJ P
pRUC
ØØQ U
)
ØØU V
{
ÙÙ 
SUNASA
ÚÚ 
=
ÚÚ 
pSUNASA
ÚÚ  
;
ÚÚ  !
IAFAS
ÛÛ 
=
ÛÛ 
pIAFAS
ÛÛ 
;
ÛÛ 
RUC
ÜÜ 
=
ÜÜ 
pRUC
ÜÜ 
;
ÜÜ 
}
İİ 
}
ŞŞ 	
public
àà 
class
àà &
DatosAdicionalesResponse
àà -
{
áá 	
public
ââ 
string
ââ 

Direccion1
ââ $
{
ââ% &
get
ââ' *
;
ââ* +
set
ââ, /
;
ââ/ 0
}
ââ1 2
=
ââ3 4
$str
ââ5 7
;
ââ7 8
public
ãã 
string
ãã 

Direccion2
ãã $
{
ãã% &
get
ãã' *
;
ãã* +
set
ãã, /
;
ãã/ 0
}
ãã1 2
=
ãã3 4
$str
ãã5 7
;
ãã7 8
public
ää 
string
ää 
Ubigeo
ää  
{
ää! "
get
ää# &
;
ää& '
set
ää( +
;
ää+ ,
}
ää- .
=
ää/ 0
$str
ää1 3
;
ää3 4
public
åå 
string
åå 
Contacto
åå "
{
åå# $
get
åå% (
;
åå( )
set
åå* -
;
åå- .
}
åå/ 0
=
åå1 2
$str
åå3 5
;
åå5 6
public
ææ 
string
ææ 
Calificador
ææ %
{
ææ& '
get
ææ( +
;
ææ+ ,
set
ææ- 0
;
ææ0 1
}
ææ2 3
=
ææ4 5
$str
ææ6 8
;
ææ8 9
public
çç 
string
çç 
Email
çç 
{
çç  !
get
çç" %
;
çç% &
set
çç' *
;
çç* +
}
çç, -
=
çç. /
$str
çç0 2
;
çç2 3
public
èè 
string
èè 
NumeroTelefono
èè (
{
èè) *
get
èè+ .
;
èè. /
set
èè0 3
;
èè3 4
}
èè5 6
=
èè7 8
$str
èè9 ;
;
èè; <
}
éé 	
public
ëë 
class
ëë $
CondicionMedicaRequest
ëë +
{
ìì 	
public
íí 
string
íí 
SUNASA
íí  
{
íí! "
get
íí# &
;
íí& '
set
íí( +
;
íí+ ,
}
íí- .
=
íí/ 0
$str
íí1 3
;
íí3 4
public
îî 
string
îî 
IAFAS
îî 
{
îî  !
get
îî" %
;
îî% &
set
îî' *
;
îî* +
}
îî, -
=
îî. /
$str
îî0 2
;
îî2 3
public
ïï 
string
ïï 
RUC
ïï 
{
ïï 
get
ïï  #
;
ïï# $
set
ïï% (
;
ïï( )
}
ïï* +
=
ïï, -
$str
ïï. 0
;
ïï0 1
public
ğğ 
string
ğğ 
NombresAfiliado
ğğ )
{
ğğ* +
get
ğğ, /
;
ğğ/ 0
set
ğğ1 4
;
ğğ4 5
}
ğğ6 7
=
ğğ8 9
$str
ğğ: <
;
ğğ< =
public
ññ 
string
ññ %
ApellidoPaternoAfiliado
ññ 1
{
ññ2 3
get
ññ4 7
;
ññ7 8
set
ññ9 <
;
ññ< =
}
ññ> ?
=
ññ@ A
$str
ññB D
;
ññD E
public
òò 
string
òò %
ApellidoMaternoAfiliado
òò 1
{
òò2 3
get
òò4 7
;
òò7 8
set
òò9 <
;
òò< =
}
òò> ?
=
òò@ A
$str
òòB D
;
òòD E
public
óó 
string
óó 
CodigoAfiliado
óó (
{
óó) *
get
óó+ .
;
óó. /
set
óó0 3
;
óó3 4
}
óó5 6
=
óó7 8
$str
óó9 ;
;
óó; <
public
ôô 
string
ôô &
CodTipoDocumentoAfiliado
ôô 2
{
ôô3 4
get
ôô5 8
;
ôô8 9
set
ôô: =
;
ôô= >
}
ôô? @
=
ôôA B
$str
ôôC E
;
ôôE F
public
õõ 
string
õõ %
NumeroDocumentoAfiliado
õõ 1
{
õõ2 3
get
õõ4 7
;
õõ7 8
set
õõ9 <
;
õõ< =
}
õõ> ?
=
õõ@ A
$str
õõB D
;
õõD E
public
öö 
string
öö 
CodProducto
öö %
{
öö& '
get
öö( +
;
öö+ ,
set
öö- 0
;
öö0 1
}
öö2 3
=
öö4 5
$str
öö6 8
;
öö8 9
public
÷÷ 
string
÷÷ 
DesProducto
÷÷ %
{
÷÷& '
get
÷÷( +
;
÷÷+ ,
set
÷÷- 0
;
÷÷0 1
}
÷÷2 3
=
÷÷4 5
$str
÷÷6 8
;
÷÷8 9
public
øø 
string
øø 

NumeroPlan
øø $
{
øø% &
get
øø' *
;
øø* +
set
øø, /
;
øø/ 0
}
øø1 2
=
øø3 4
$str
øø5 7
;
øø7 8
public
ùù 
string
ùù )
CodTipoDocumentoContratante
ùù 5
{
ùù6 7
get
ùù8 ;
;
ùù; <
set
ùù= @
;
ùù@ A
}
ùùB C
=
ùùD E
$str
ùùF H
;
ùùH I
public
úú 
string
úú (
NumeroDocumentoContratante
úú 4
{
úú5 6
get
úú7 :
;
úú: ;
set
úú< ?
;
úú? @
}
úúA B
=
úúC D
$str
úúE G
;
úúG H
public
ûû 
string
ûû 
NombreContratante
ûû +
{
ûû, -
get
ûû. 1
;
ûû1 2
set
ûû3 6
;
ûû6 7
}
ûû8 9
=
ûû: ;
$str
ûû< >
;
ûû> ?
public
üü 
string
üü 
CodParentesco
üü '
{
üü( )
get
üü* -
;
üü- .
set
üü/ 2
;
üü2 3
}
üü4 5
=
üü6 7
$str
üü8 :
;
üü: ;
public
ıı 
string
ıı (
TipoCalificadorContratante
ıı 4
{
ıı5 6
get
ıı7 :
;
ıı: ;
set
ıı< ?
;
ıı? @
}
ııA B
=
ııC D
$str
ııE G
;
ııG H
public
şş 
string
şş 
CodEspecialidad
şş )
{
şş* +
get
şş, /
;
şş/ 0
set
şş1 4
;
şş4 5
}
şş6 7
=
şş8 9
$str
şş: <
;
şş< =
public
€€ $
CondicionMedicaRequest
€€ )
(
€€) *
)
€€* +
{
 
}
‚‚ 
public
„„ $
CondicionMedicaRequest
„„ )
(
„„) *
string
„„* 0
pSUNASA
„„1 8
,
„„8 9
string
„„: @
pIAFAS
„„A G
,
„„G H
string
„„I O
pRUC
„„P T
)
„„T U
{
…… 
SUNASA
†† 
=
†† 
pSUNASA
††  
;
††  !
IAFAS
‡‡ 
=
‡‡ 
pIAFAS
‡‡ 
;
‡‡ 
RUC
ˆˆ 
=
ˆˆ 
pRUC
ˆˆ 
;
ˆˆ 
}
‰‰ 
}
ŠŠ 	
public
ŒŒ 
class
ŒŒ %
CondicionMedicaResponse
ŒŒ ,
{
 	
public
 
PreExistencia
  
PreExistencia
! .
{
/ 0
get
1 4
;
4 5
set
6 9
;
9 :
}
; <
=
= >
new
? B
PreExistencia
C P
(
P Q
)
Q R
;
R S
public
 
Exclusiones
 
Exclusiones
 *
{
+ ,
get
- 0
;
0 1
set
2 5
;
5 6
}
7 8
=
9 :
new
; >
Exclusiones
? J
(
J K
)
K L
;
L M
public
 
Carencia
 
Carencia
 $
{
% &
get
' *
;
* +
set
, /
;
/ 0
}
1 2
=
3 4
new
5 8
Carencia
9 A
(
A B
)
B C
;
C D
public
‘‘ 
Antecedentes
‘‘ 
Antecedentes
‘‘  ,
{
‘‘- .
get
‘‘/ 2
;
‘‘2 3
set
‘‘4 7
;
‘‘7 8
}
‘‘9 :
=
‘‘; <
new
‘‘= @
Antecedentes
‘‘A M
(
‘‘M N
)
‘‘N O
;
‘‘O P
public
’’ 

Enfermedad
’’ 

Enfermedad
’’ (
{
’’) *
get
’’+ .
;
’’. /
set
’’0 3
;
’’3 4
}
’’5 6
=
’’7 8
new
’’9 <

Enfermedad
’’= G
(
’’G H
)
’’H I
;
’’I J
}
““ 	
public
•• 
class
•• 
PreExistencia
•• "
{
–– 	
public
—— 
string
—— 
CodRestriccion
—— (
{
——) *
get
——+ .
;
——. /
set
——0 3
;
——3 4
}
——5 6
=
——7 8
$str
——9 ;
;
——; <
public
˜˜ 
string
˜˜ 
DesRestriccion
˜˜ (
{
˜˜) *
get
˜˜+ .
;
˜˜. /
set
˜˜0 3
;
˜˜3 4
}
˜˜5 6
=
˜˜7 8
$str
˜˜9 ;
;
˜˜; <
public
™™ 
List
™™ 
<
™™ 
	Condicion
™™ !
>
™™! "
	Condicion
™™# ,
{
™™- .
get
™™/ 2
;
™™2 3
set
™™4 7
;
™™7 8
}
™™9 :
=
™™; <
new
™™= @
List
™™A E
<
™™E F
	Condicion
™™F O
>
™™O P
(
™™P Q
)
™™Q R
;
™™R S
}
šš 	
public
œœ 
class
œœ 
Exclusiones
œœ  
{
 	
public
 
string
 
CodRestriccion
 (
{
) *
get
+ .
;
. /
set
0 3
;
3 4
}
5 6
=
7 8
$str
9 ;
;
; <
public
ŸŸ 
string
ŸŸ 
DesRestriccion
ŸŸ (
{
ŸŸ) *
get
ŸŸ+ .
;
ŸŸ. /
set
ŸŸ0 3
;
ŸŸ3 4
}
ŸŸ5 6
=
ŸŸ7 8
$str
ŸŸ9 ;
;
ŸŸ; <
public
   
List
   
<
   
	Condicion
   !
>
  ! "
	Condicion
  # ,
{
  - .
get
  / 2
;
  2 3
set
  4 7
;
  7 8
}
  9 :
=
  ; <
new
  = @
List
  A E
<
  E F
	Condicion
  F O
>
  O P
(
  P Q
)
  Q R
;
  R S
}
¡¡ 	
public
££ 
class
££ 
Carencia
££ 
{
¤¤ 	
public
¥¥ 
string
¥¥ 
CodRestriccion
¥¥ (
{
¥¥) *
get
¥¥+ .
;
¥¥. /
set
¥¥0 3
;
¥¥3 4
}
¥¥5 6
=
¥¥7 8
$str
¥¥9 ;
;
¥¥; <
public
¦¦ 
string
¦¦ 
DesRestriccion
¦¦ (
{
¦¦) *
get
¦¦+ .
;
¦¦. /
set
¦¦0 3
;
¦¦3 4
}
¦¦5 6
=
¦¦7 8
$str
¦¦9 ;
;
¦¦; <
public
§§ 
List
§§ 
<
§§ 
	Condicion
§§ !
>
§§! "
	Condicion
§§# ,
{
§§- .
get
§§/ 2
;
§§2 3
set
§§4 7
;
§§7 8
}
§§9 :
=
§§; <
new
§§= @
List
§§A E
<
§§E F
	Condicion
§§F O
>
§§O P
(
§§P Q
)
§§Q R
;
§§R S
}
¨¨ 	
public
ªª 
class
ªª 
Antecedentes
ªª !
{
«« 	
public
¬¬ 
string
¬¬ 
CodRestriccion
¬¬ (
{
¬¬) *
get
¬¬+ .
;
¬¬. /
set
¬¬0 3
;
¬¬3 4
}
¬¬5 6
=
¬¬7 8
$str
¬¬9 ;
;
¬¬; <
public
­­ 
string
­­ 
DesRestriccion
­­ (
{
­­) *
get
­­+ .
;
­­. /
set
­­0 3
;
­­3 4
}
­­5 6
=
­­7 8
$str
­­9 ;
;
­­; <
public
®® 
List
®® 
<
®® 
	Condicion
®® !
>
®®! "
	Condicion
®®# ,
{
®®- .
get
®®/ 2
;
®®2 3
set
®®4 7
;
®®7 8
}
®®9 :
=
®®; <
new
®®= @
List
®®A E
<
®®E F
	Condicion
®®F O
>
®®O P
(
®®P Q
)
®®Q R
;
®®R S
}
¯¯ 	
public
±± 
class
±± 

Enfermedad
±± 
{
²² 	
public
³³ 
string
³³ 
CodRestriccion
³³ (
{
³³) *
get
³³+ .
;
³³. /
set
³³0 3
;
³³3 4
}
³³5 6
=
³³7 8
$str
³³9 ;
;
³³; <
public
´´ 
string
´´ 
DesRestriccion
´´ (
{
´´) *
get
´´+ .
;
´´. /
set
´´0 3
;
´´3 4
}
´´5 6
=
´´7 8
$str
´´9 ;
;
´´; <
public
µµ 
List
µµ 
<
µµ 
	Condicion
µµ !
>
µµ! "
	Condicion
µµ# ,
{
µµ- .
get
µµ/ 2
;
µµ2 3
set
µµ4 7
;
µµ7 8
}
µµ9 :
=
µµ; <
new
µµ= @
List
µµA E
<
µµE F
	Condicion
µµF O
>
µµO P
(
µµP Q
)
µµQ R
;
µµR S
}
¶¶ 	
public
¸¸ 
class
¸¸ 
	Condicion
¸¸ 
{
¹¹ 	
public
ºº 
string
ºº 
Codigo
ºº  
{
ºº! "
get
ºº# &
;
ºº& '
set
ºº( +
;
ºº+ ,
}
ºº- .
=
ºº/ 0
$str
ºº1 3
;
ºº3 4
public
»» 
string
»» 
Diagnostico
»» %
{
»»& '
get
»»( +
;
»»+ ,
set
»»- 0
;
»»0 1
}
»»2 3
=
»»4 5
$str
»»6 8
;
»»8 9
public
¼¼ 
string
¼¼ 
Observaciones
¼¼ '
{
¼¼( )
get
¼¼* -
;
¼¼- .
set
¼¼/ 2
;
¼¼2 3
}
¼¼4 5
=
¼¼6 7
$str
¼¼8 :
;
¼¼: ;
}
½½ 	
public
¿¿ 
class
¿¿ 
FotoRequest
¿¿  
{
ÀÀ 	
public
ÁÁ 
string
ÁÁ 
IAFAS
ÁÁ 
{
ÁÁ  !
get
ÁÁ" %
;
ÁÁ% &
set
ÁÁ' *
;
ÁÁ* +
}
ÁÁ, -
=
ÁÁ. /
$str
ÁÁ0 2
;
ÁÁ2 3
public
ÂÂ 
string
ÂÂ 
CodigoAfiliado
ÂÂ (
{
ÂÂ) *
get
ÂÂ+ .
;
ÂÂ. /
set
ÂÂ0 3
;
ÂÂ3 4
}
ÂÂ5 6
=
ÂÂ7 8
$str
ÂÂ9 ;
;
ÂÂ; <
public
ÃÃ 
string
ÃÃ '
CodFechaActualizacionFoto
ÃÃ 3
{
ÃÃ4 5
get
ÃÃ6 9
;
ÃÃ9 :
set
ÃÃ; >
;
ÃÃ> ?
}
ÃÃ@ A
=
ÃÃB C
$str
ÃÃD F
;
ÃÃF G
}
ÄÄ 	
public
ÆÆ 
class
ÆÆ 
FotoResponse
ÆÆ !
{
ÇÇ 	
public
ÈÈ 
byte
ÈÈ 
[
ÈÈ 
]
ÈÈ 
Foto
ÈÈ 
{
ÈÈ  
get
ÈÈ! $
;
ÈÈ$ %
set
ÈÈ& )
;
ÈÈ) *
}
ÈÈ+ ,
}
ÉÉ 	
public
ËË 
class
ËË %
CasoTiempoEsperaRequest
ËË ,
{
ÌÌ 	
public
ÍÍ 
string
ÍÍ 
SUNASA
ÍÍ  
{
ÍÍ! "
get
ÍÍ# &
;
ÍÍ& '
set
ÍÍ( +
;
ÍÍ+ ,
}
ÍÍ- .
=
ÍÍ/ 0
$str
ÍÍ1 3
;
ÍÍ3 4
public
ÎÎ 
string
ÎÎ 
IAFAS
ÎÎ 
{
ÎÎ  !
get
ÎÎ" %
;
ÎÎ% &
set
ÎÎ' *
;
ÎÎ* +
}
ÎÎ, -
=
ÎÎ. /
$str
ÎÎ0 2
;
ÎÎ2 3
public
ÏÏ 
string
ÏÏ 
RUC
ÏÏ 
{
ÏÏ 
get
ÏÏ  #
;
ÏÏ# $
set
ÏÏ% (
;
ÏÏ( )
}
ÏÏ* +
=
ÏÏ, -
$str
ÏÏ. 0
;
ÏÏ0 1
public
ĞĞ 
string
ĞĞ 
NombresAfiliado
ĞĞ )
{
ĞĞ* +
get
ĞĞ, /
;
ĞĞ/ 0
set
ĞĞ1 4
;
ĞĞ4 5
}
ĞĞ6 7
=
ĞĞ8 9
$str
ĞĞ: <
;
ĞĞ< =
public
ÑÑ 
string
ÑÑ %
ApellidoPaternoAfiliado
ÑÑ 1
{
ÑÑ2 3
get
ÑÑ4 7
;
ÑÑ7 8
set
ÑÑ9 <
;
ÑÑ< =
}
ÑÑ> ?
=
ÑÑ@ A
$str
ÑÑB D
;
ÑÑD E
public
ÒÒ 
string
ÒÒ %
ApellidoMaternoAfiliado
ÒÒ 1
{
ÒÒ2 3
get
ÒÒ4 7
;
ÒÒ7 8
set
ÒÒ9 <
;
ÒÒ< =
}
ÒÒ> ?
=
ÒÒ@ A
$str
ÒÒB D
;
ÒÒD E
public
ÓÓ 
string
ÓÓ 
CodigoAfiliado
ÓÓ (
{
ÓÓ) *
get
ÓÓ+ .
;
ÓÓ. /
set
ÓÓ0 3
;
ÓÓ3 4
}
ÓÓ5 6
=
ÓÓ7 8
$str
ÓÓ9 ;
;
ÓÓ; <
public
ÔÔ 
string
ÔÔ &
CodTipoDocumentoAfiliado
ÔÔ 2
{
ÔÔ3 4
get
ÔÔ5 8
;
ÔÔ8 9
set
ÔÔ: =
;
ÔÔ= >
}
ÔÔ? @
=
ÔÔA B
$str
ÔÔC E
;
ÔÔE F
public
ÕÕ 
string
ÕÕ %
NumeroDocumentoAfiliado
ÕÕ 1
{
ÕÕ2 3
get
ÕÕ4 7
;
ÕÕ7 8
set
ÕÕ9 <
;
ÕÕ< =
}
ÕÕ> ?
=
ÕÕ@ A
$str
ÕÕB D
;
ÕÕD E
public
ÖÖ 
string
ÖÖ 
CodProducto
ÖÖ %
{
ÖÖ& '
get
ÖÖ( +
;
ÖÖ+ ,
set
ÖÖ- 0
;
ÖÖ0 1
}
ÖÖ2 3
=
ÖÖ4 5
$str
ÖÖ6 8
;
ÖÖ8 9
public
×× 
string
×× 
DesProducto
×× %
{
××& '
get
××( +
;
××+ ,
set
××- 0
;
××0 1
}
××2 3
=
××4 5
$str
××6 8
;
××8 9
public
ØØ 
string
ØØ 

NumeroPlan
ØØ $
{
ØØ% &
get
ØØ' *
;
ØØ* +
set
ØØ, /
;
ØØ/ 0
}
ØØ1 2
=
ØØ3 4
$str
ØØ5 7
;
ØØ7 8
public
ÙÙ 
string
ÙÙ )
CodTipoDocumentoContratante
ÙÙ 5
{
ÙÙ6 7
get
ÙÙ8 ;
;
ÙÙ; <
set
ÙÙ= @
;
ÙÙ@ A
}
ÙÙB C
=
ÙÙD E
$str
ÙÙF H
;
ÙÙH I
public
ÚÚ 
string
ÚÚ (
NumeroDocumentoContratante
ÚÚ 4
{
ÚÚ5 6
get
ÚÚ7 :
;
ÚÚ: ;
set
ÚÚ< ?
;
ÚÚ? @
}
ÚÚA B
=
ÚÚC D
$str
ÚÚE G
;
ÚÚG H
public
ÛÛ 
string
ÛÛ 
NombreContratante
ÛÛ +
{
ÛÛ, -
get
ÛÛ. 1
;
ÛÛ1 2
set
ÛÛ3 6
;
ÛÛ6 7
}
ÛÛ8 9
=
ÛÛ: ;
$str
ÛÛ< >
;
ÛÛ> ?
public
ÜÜ 
string
ÜÜ 
CodParentesco
ÜÜ '
{
ÜÜ( )
get
ÜÜ* -
;
ÜÜ- .
set
ÜÜ/ 2
;
ÜÜ2 3
}
ÜÜ4 5
=
ÜÜ6 7
$str
ÜÜ8 :
;
ÜÜ: ;
public
İİ 
string
İİ 
NumeroCobertura
İİ )
{
İİ* +
get
İİ, /
;
İİ/ 0
set
İİ1 4
;
İİ4 5
}
İİ6 7
=
İİ8 9
$str
İİ: <
;
İİ< =
public
ŞŞ 
string
ŞŞ $
BeneficioMaximoInicial
ŞŞ 0
{
ŞŞ1 2
get
ŞŞ3 6
;
ŞŞ6 7
set
ŞŞ8 ;
;
ŞŞ; <
}
ŞŞ= >
=
ŞŞ? @
$str
ŞŞA C
;
ŞŞC D
public
ßß 
string
ßß !
CodigoTipoCobertura
ßß -
{
ßß. /
get
ßß0 3
;
ßß3 4
set
ßß5 8
;
ßß8 9
}
ßß: ;
=
ßß< =
$str
ßß> @
;
ßß@ A
public
àà 
string
àà $
CodigoSubTipoCobertura
àà 0
{
àà1 2
get
àà3 6
;
àà6 7
set
àà8 ;
;
àà; <
}
àà= >
=
àà? @
$str
ààA C
;
ààC D
public
áá 
string
áá 
CodEspecialidad
áá )
{
áá* +
get
áá, /
;
áá/ 0
set
áá1 4
;
áá4 5
}
áá6 7
=
áá8 9
$str
áá: <
;
áá< =
public
ãã %
CasoTiempoEsperaRequest
ãã *
(
ãã* +
)
ãã+ ,
{
ää 
}
åå 
public
çç %
CasoTiempoEsperaRequest
çç *
(
çç* +
string
çç+ 1
pSUNASA
çç2 9
,
çç9 :
string
çç; A
pIAFAS
ççB H
,
ççH I
string
ççJ P
pRUC
ççQ U
)
ççU V
{
èè 
SUNASA
éé 
=
éé 
pSUNASA
éé  
;
éé  !
IAFAS
êê 
=
êê 
pIAFAS
êê 
;
êê 
RUC
ëë 
=
ëë 
pRUC
ëë 
;
ëë 
}
ìì 
}
íí 	
public
ïï 
class
ïï &
CasoTiempoEsperaResponse
ïï -
{
ğğ 	
public
ññ 
Procedimiento
ññ  
Procedimiento
ññ! .
{
ññ/ 0
get
ññ1 4
;
ññ4 5
set
ññ6 9
;
ññ9 :
}
ññ; <
=
ññ= >
new
ññ? B
Procedimiento
ññC P
(
ññP Q
)
ññQ R
;
ññR S
public
òò 
TiempoEspera
òò 
TiempoEspera
òò  ,
{
òò- .
get
òò/ 2
;
òò2 3
set
òò4 7
;
òò7 8
}
òò9 :
=
òò; <
new
òò= @
TiempoEspera
òòA M
(
òòM N
)
òòN O
;
òòO P
public
óó 
ExcepcionCarencia
óó $
ExcepcionCarencia
óó% 6
{
óó7 8
get
óó9 <
;
óó< =
set
óó> A
;
óóA B
}
óóC D
=
óóE F
new
óóG J
ExcepcionCarencia
óóK \
(
óó\ ]
)
óó] ^
;
óó^ _
}
ôô 	
public
öö 
class
öö -
ProcedimientosEspecialesRequest
öö 4
{
÷÷ 	
public
øø 
string
øø 
SUNASA
øø  
{
øø! "
get
øø# &
;
øø& '
set
øø( +
;
øø+ ,
}
øø- .
=
øø/ 0
$str
øø1 3
;
øø3 4
public
ùù 
string
ùù 
IAFAS
ùù 
{
ùù  !
get
ùù" %
;
ùù% &
set
ùù' *
;
ùù* +
}
ùù, -
=
ùù. /
$str
ùù0 2
;
ùù2 3
public
úú 
string
úú 
RUC
úú 
{
úú 
get
úú  #
;
úú# $
set
úú% (
;
úú( )
}
úú* +
=
úú, -
$str
úú. 0
;
úú0 1
public
ûû 
string
ûû 
NombresAfiliado
ûû )
{
ûû* +
get
ûû, /
;
ûû/ 0
set
ûû1 4
;
ûû4 5
}
ûû6 7
=
ûû8 9
$str
ûû: <
;
ûû< =
public
üü 
string
üü %
ApellidoPaternoAfiliado
üü 1
{
üü2 3
get
üü4 7
;
üü7 8
set
üü9 <
;
üü< =
}
üü> ?
=
üü@ A
$str
üüB D
;
üüD E
public
ıı 
string
ıı %
ApellidoMaternoAfiliado
ıı 1
{
ıı2 3
get
ıı4 7
;
ıı7 8
set
ıı9 <
;
ıı< =
}
ıı> ?
=
ıı@ A
$str
ııB D
;
ııD E
public
şş 
string
şş 
CodigoAfiliado
şş (
{
şş) *
get
şş+ .
;
şş. /
set
şş0 3
;
şş3 4
}
şş5 6
=
şş7 8
$str
şş9 ;
;
şş; <
public
ÿÿ 
string
ÿÿ &
CodTipoDocumentoAfiliado
ÿÿ 2
{
ÿÿ3 4
get
ÿÿ5 8
;
ÿÿ8 9
set
ÿÿ: =
;
ÿÿ= >
}
ÿÿ? @
=
ÿÿA B
$str
ÿÿC E
;
ÿÿE F
public
€€ 
string
€€ %
NumeroDocumentoAfiliado
€€ 1
{
€€2 3
get
€€4 7
;
€€7 8
set
€€9 <
;
€€< =
}
€€> ?
=
€€@ A
$str
€€B D
;
€€D E
public
 
string
 
CodProducto
 %
{
& '
get
( +
;
+ ,
set
- 0
;
0 1
}
2 3
=
4 5
$str
6 8
;
8 9
public
‚‚ 
string
‚‚ 
DesProducto
‚‚ %
{
‚‚& '
get
‚‚( +
;
‚‚+ ,
set
‚‚- 0
;
‚‚0 1
}
‚‚2 3
=
‚‚4 5
$str
‚‚6 8
;
‚‚8 9
public
ƒƒ 
string
ƒƒ 

NumeroPlan
ƒƒ $
{
ƒƒ% &
get
ƒƒ' *
;
ƒƒ* +
set
ƒƒ, /
;
ƒƒ/ 0
}
ƒƒ1 2
=
ƒƒ3 4
$str
ƒƒ5 7
;
ƒƒ7 8
public
„„ 
string
„„ )
CodTipoDocumentoContratante
„„ 5
{
„„6 7
get
„„8 ;
;
„„; <
set
„„= @
;
„„@ A
}
„„B C
=
„„D E
$str
„„F H
;
„„H I
public
…… 
string
…… (
NumeroDocumentoContratante
…… 4
{
……5 6
get
……7 :
;
……: ;
set
……< ?
;
……? @
}
……A B
=
……C D
$str
……E G
;
……G H
public
†† 
string
†† 
NombreContratante
†† +
{
††, -
get
††. 1
;
††1 2
set
††3 6
;
††6 7
}
††8 9
=
††: ;
$str
††< >
;
††> ?
public
‡‡ 
string
‡‡ 
CodParentesco
‡‡ '
{
‡‡( )
get
‡‡* -
;
‡‡- .
set
‡‡/ 2
;
‡‡2 3
}
‡‡4 5
=
‡‡6 7
$str
‡‡8 :
;
‡‡: ;
public
ˆˆ 
string
ˆˆ 
NumeroCobertura
ˆˆ )
{
ˆˆ* +
get
ˆˆ, /
;
ˆˆ/ 0
set
ˆˆ1 4
;
ˆˆ4 5
}
ˆˆ6 7
=
ˆˆ8 9
$str
ˆˆ: <
;
ˆˆ< =
public
‰‰ 
string
‰‰ $
BeneficioMaximoInicial
‰‰ 0
{
‰‰1 2
get
‰‰3 6
;
‰‰6 7
set
‰‰8 ;
;
‰‰; <
}
‰‰= >
=
‰‰? @
$str
‰‰A C
;
‰‰C D
public
ŠŠ 
string
ŠŠ !
CodigoTipoCobertura
ŠŠ -
{
ŠŠ. /
get
ŠŠ0 3
;
ŠŠ3 4
set
ŠŠ5 8
;
ŠŠ8 9
}
ŠŠ: ;
=
ŠŠ< =
$str
ŠŠ> @
;
ŠŠ@ A
public
‹‹ 
string
‹‹ $
CodigoSubTipoCobertura
‹‹ 0
{
‹‹1 2
get
‹‹3 6
;
‹‹6 7
set
‹‹8 ;
;
‹‹; <
}
‹‹= >
=
‹‹? @
$str
‹‹A C
;
‹‹C D
public
ŒŒ 
string
ŒŒ 
CodEspecialidad
ŒŒ )
{
ŒŒ* +
get
ŒŒ, /
;
ŒŒ/ 0
set
ŒŒ1 4
;
ŒŒ4 5
}
ŒŒ6 7
=
ŒŒ8 9
$str
ŒŒ: <
;
ŒŒ< =
public
 -
ProcedimientosEspecialesRequest
 2
(
2 3
)
3 4
{
 
}
 
public
’’ -
ProcedimientosEspecialesRequest
’’ 2
(
’’2 3
string
’’3 9
pSUNASA
’’: A
,
’’A B
string
’’C I
pIAFAS
’’J P
,
’’P Q
string
’’R X
pRUC
’’Y ]
)
’’] ^
{
““ 
SUNASA
”” 
=
”” 
pSUNASA
””  
;
””  !
IAFAS
•• 
=
•• 
pIAFAS
•• 
;
•• 
RUC
–– 
=
–– 
pRUC
–– 
;
–– 
}
—— 
}
˜˜ 	
public
šš 
class
šš .
 ProcedimientosEspecialesResponse
šš 5
{
›› 	
public
œœ 
Procedimiento
œœ  
Procedimiento
œœ! .
{
œœ/ 0
get
œœ1 4
;
œœ4 5
set
œœ6 9
;
œœ9 :
}
œœ; <
=
œœ= >
new
œœ? B
Procedimiento
œœC P
(
œœP Q
)
œœQ R
;
œœR S
public
 
List
 
<
 
Detalle
 
>
  
Detalle
! (
{
) *
get
+ .
;
. /
set
0 3
;
3 4
}
5 6
=
7 8
new
9 <
List
= A
<
A B
Detalle
B I
>
I J
(
J K
)
K L
;
L M
}
 	
public
   
class
   *
CasoExcepcionCarenciaRequest
   1
{
¡¡ 	
public
¢¢ 
string
¢¢ 
SUNASA
¢¢  
{
¢¢! "
get
¢¢# &
;
¢¢& '
set
¢¢( +
;
¢¢+ ,
}
¢¢- .
=
¢¢/ 0
$str
¢¢1 3
;
¢¢3 4
public
££ 
string
££ 
IAFAS
££ 
{
££  !
get
££" %
;
££% &
set
££' *
;
££* +
}
££, -
=
££. /
$str
££0 2
;
££2 3
public
¤¤ 
string
¤¤ 
RUC
¤¤ 
{
¤¤ 
get
¤¤  #
;
¤¤# $
set
¤¤% (
;
¤¤( )
}
¤¤* +
=
¤¤, -
$str
¤¤. 0
;
¤¤0 1
public
¥¥ 
string
¥¥ 
NombresAfiliado
¥¥ )
{
¥¥* +
get
¥¥, /
;
¥¥/ 0
set
¥¥1 4
;
¥¥4 5
}
¥¥6 7
=
¥¥8 9
$str
¥¥: <
;
¥¥< =
public
¦¦ 
string
¦¦ %
ApellidoPaternoAfiliado
¦¦ 1
{
¦¦2 3
get
¦¦4 7
;
¦¦7 8
set
¦¦9 <
;
¦¦< =
}
¦¦> ?
=
¦¦@ A
$str
¦¦B D
;
¦¦D E
public
§§ 
string
§§ %
ApellidoMaternoAfiliado
§§ 1
{
§§2 3
get
§§4 7
;
§§7 8
set
§§9 <
;
§§< =
}
§§> ?
=
§§@ A
$str
§§B D
;
§§D E
public
¨¨ 
string
¨¨ 
CodigoAfiliado
¨¨ (
{
¨¨) *
get
¨¨+ .
;
¨¨. /
set
¨¨0 3
;
¨¨3 4
}
¨¨5 6
=
¨¨7 8
$str
¨¨9 ;
;
¨¨; <
public
©© 
string
©© &
CodTipoDocumentoAfiliado
©© 2
{
©©3 4
get
©©5 8
;
©©8 9
set
©©: =
;
©©= >
}
©©? @
=
©©A B
$str
©©C E
;
©©E F
public
ªª 
string
ªª %
NumeroDocumentoAfiliado
ªª 1
{
ªª2 3
get
ªª4 7
;
ªª7 8
set
ªª9 <
;
ªª< =
}
ªª> ?
=
ªª@ A
$str
ªªB D
;
ªªD E
public
«« 
string
«« 
CodProducto
«« %
{
««& '
get
««( +
;
««+ ,
set
««- 0
;
««0 1
}
««2 3
=
««4 5
$str
««6 8
;
««8 9
public
¬¬ 
string
¬¬ 
DesProducto
¬¬ %
{
¬¬& '
get
¬¬( +
;
¬¬+ ,
set
¬¬- 0
;
¬¬0 1
}
¬¬2 3
=
¬¬4 5
$str
¬¬6 8
;
¬¬8 9
public
­­ 
string
­­ 

NumeroPlan
­­ $
{
­­% &
get
­­' *
;
­­* +
set
­­, /
;
­­/ 0
}
­­1 2
=
­­3 4
$str
­­5 7
;
­­7 8
public
®® 
string
®® )
CodTipoDocumentoContratante
®® 5
{
®®6 7
get
®®8 ;
;
®®; <
set
®®= @
;
®®@ A
}
®®B C
=
®®D E
$str
®®F H
;
®®H I
public
¯¯ 
string
¯¯ (
NumeroDocumentoContratante
¯¯ 4
{
¯¯5 6
get
¯¯7 :
;
¯¯: ;
set
¯¯< ?
;
¯¯? @
}
¯¯A B
=
¯¯C D
$str
¯¯E G
;
¯¯G H
public
°° 
string
°° 
NombreContratante
°° +
{
°°, -
get
°°. 1
;
°°1 2
set
°°3 6
;
°°6 7
}
°°8 9
=
°°: ;
$str
°°< >
;
°°> ?
public
±± 
string
±± 
CodParentesco
±± '
{
±±( )
get
±±* -
;
±±- .
set
±±/ 2
;
±±2 3
}
±±4 5
=
±±6 7
$str
±±8 :
;
±±: ;
public
²² 
string
²² 
NumeroCobertura
²² )
{
²²* +
get
²², /
;
²²/ 0
set
²²1 4
;
²²4 5
}
²²6 7
=
²²8 9
$str
²²: <
;
²²< =
public
³³ 
string
³³ $
BeneficioMaximoInicial
³³ 0
{
³³1 2
get
³³3 6
;
³³6 7
set
³³8 ;
;
³³; <
}
³³= >
=
³³? @
$str
³³A C
;
³³C D
public
´´ 
string
´´ !
CodigoTipoCobertura
´´ -
{
´´. /
get
´´0 3
;
´´3 4
set
´´5 8
;
´´8 9
}
´´: ;
=
´´< =
$str
´´> @
;
´´@ A
public
µµ 
string
µµ $
CodigoSubTipoCobertura
µµ 0
{
µµ1 2
get
µµ3 6
;
µµ6 7
set
µµ8 ;
;
µµ; <
}
µµ= >
=
µµ? @
$str
µµA C
;
µµC D
public
¶¶ 
string
¶¶ 
CodEspecialidad
¶¶ )
{
¶¶* +
get
¶¶, /
;
¶¶/ 0
set
¶¶1 4
;
¶¶4 5
}
¶¶6 7
=
¶¶8 9
$str
¶¶: <
;
¶¶< =
public
¹¹ *
CasoExcepcionCarenciaRequest
¹¹ /
(
¹¹/ 0
)
¹¹0 1
{
ºº 
}
»» 
public
½½ *
CasoExcepcionCarenciaRequest
½½ /
(
½½/ 0
string
½½0 6
pSUNASA
½½7 >
,
½½> ?
string
½½@ F
pIAFAS
½½G M
,
½½M N
string
½½O U
pRUC
½½V Z
)
½½Z [
{
¾¾ 
SUNASA
¿¿ 
=
¿¿ 
pSUNASA
¿¿  
;
¿¿  !
IAFAS
ÀÀ 
=
ÀÀ 
pIAFAS
ÀÀ 
;
ÀÀ 
RUC
ÁÁ 
=
ÁÁ 
pRUC
ÁÁ 
;
ÁÁ 
}
ÂÂ 
}
ÃÃ 	
public
ÅÅ 
class
ÅÅ +
CasoExcepcionCarenciaResponse
ÅÅ 2
{
ÆÆ 	
public
ÇÇ 
Procedimiento
ÇÇ  
Procedimiento
ÇÇ! .
{
ÇÇ/ 0
get
ÇÇ1 4
;
ÇÇ4 5
set
ÇÇ6 9
;
ÇÇ9 :
}
ÇÇ; <
=
ÇÇ= >
new
ÇÇ? B
Procedimiento
ÇÇC P
(
ÇÇP Q
)
ÇÇQ R
;
ÇÇR S
public
ÈÈ 
TiempoEspera
ÈÈ 
TiempoEspera
ÈÈ  ,
{
ÈÈ- .
get
ÈÈ/ 2
;
ÈÈ2 3
set
ÈÈ4 7
;
ÈÈ7 8
}
ÈÈ9 :
=
ÈÈ; <
new
ÈÈ= @
TiempoEspera
ÈÈA M
(
ÈÈM N
)
ÈÈN O
;
ÈÈO P
public
ÉÉ 
ExcepcionCarencia
ÉÉ $
ExcepcionCarencia
ÉÉ% 6
{
ÉÉ7 8
get
ÉÉ9 <
;
ÉÉ< =
set
ÉÉ> A
;
ÉÉA B
}
ÉÉC D
=
ÉÉE F
new
ÉÉG J
ExcepcionCarencia
ÉÉK \
(
ÉÉ\ ]
)
ÉÉ] ^
;
ÉÉ^ _
}
ÊÊ 	
public
ÌÌ 
class
ÌÌ 
Procedimiento
ÌÌ "
{
ÍÍ 	
public
ÎÎ 
string
ÎÎ 
Descripcion
ÎÎ %
{
ÎÎ& '
get
ÎÎ( +
;
ÎÎ+ ,
set
ÎÎ- 0
;
ÎÎ0 1
}
ÎÎ2 3
=
ÎÎ4 5
$str
ÎÎ6 8
;
ÎÎ8 9
public
ÏÏ 
string
ÏÏ '
CodIndicadorProcedimiento
ÏÏ 3
{
ÏÏ4 5
get
ÏÏ6 9
;
ÏÏ9 :
set
ÏÏ; >
;
ÏÏ> ?
}
ÏÏ@ A
=
ÏÏB C
$str
ÏÏD F
;
ÏÏF G
public
ĞĞ 
string
ĞĞ '
DesIndicadorProcedimiento
ĞĞ 3
{
ĞĞ4 5
get
ĞĞ6 9
;
ĞĞ9 :
set
ĞĞ; >
;
ĞĞ> ?
}
ĞĞ@ A
=
ĞĞB C
$str
ĞĞD F
;
ĞĞF G
public
ÑÑ 
List
ÑÑ 
<
ÑÑ 
Detalle
ÑÑ 
>
ÑÑ  
Detalle
ÑÑ! (
{
ÑÑ) *
get
ÑÑ+ .
;
ÑÑ. /
set
ÑÑ0 3
;
ÑÑ3 4
}
ÑÑ5 6
=
ÑÑ7 8
new
ÑÑ9 <
List
ÑÑ= A
<
ÑÑA B
Detalle
ÑÑB I
>
ÑÑI J
(
ÑÑJ K
)
ÑÑK L
;
ÑÑL M
}
ÒÒ 	
public
ÔÔ 
class
ÔÔ 
TiempoEspera
ÔÔ !
{
ÕÕ 	
public
ÖÖ 
string
ÖÖ 
Descripcion
ÖÖ %
{
ÖÖ& '
get
ÖÖ( +
;
ÖÖ+ ,
set
ÖÖ- 0
;
ÖÖ0 1
}
ÖÖ2 3
=
ÖÖ4 5
$str
ÖÖ6 8
;
ÖÖ8 9
public
×× 
List
×× 
<
×× 
Detalle
×× 
>
××  
Detalle
××! (
{
××) *
get
××+ .
;
××. /
set
××0 3
;
××3 4
}
××5 6
=
××7 8
new
××9 <
List
××= A
<
××A B
Detalle
××B I
>
××I J
(
××J K
)
××K L
;
××L M
}
ØØ 	
public
ÚÚ 
class
ÚÚ 
ExcepcionCarencia
ÚÚ &
{
ÛÛ 	
public
ÜÜ 
string
ÜÜ 
Descripcion
ÜÜ %
{
ÜÜ& '
get
ÜÜ( +
;
ÜÜ+ ,
set
ÜÜ- 0
;
ÜÜ0 1
}
ÜÜ2 3
=
ÜÜ4 5
$str
ÜÜ6 8
;
ÜÜ8 9
public
İİ 
List
İİ 
<
İİ 
Detalle
İİ 
>
İİ  
Detalle
İİ! (
{
İİ) *
get
İİ+ .
;
İİ. /
set
İİ0 3
;
İİ3 4
}
İİ5 6
=
İİ7 8
new
İİ9 <
List
İİ= A
<
İİA B
Detalle
İİB I
>
İİI J
(
İİJ K
)
İİK L
;
İİL M
}
ŞŞ 	
public
àà 
class
àà 
Detalle
àà 
{
áá 	
public
ââ 
string
ââ 
Codigo
ââ  
{
ââ! "
get
ââ# &
;
ââ& '
set
ââ( +
;
ââ+ ,
}
ââ- .
=
ââ/ 0
$str
ââ1 3
;
ââ3 4
public
ãã 
string
ãã 
Procedimiento
ãã '
{
ãã( )
get
ãã* -
;
ãã- .
set
ãã/ 2
;
ãã2 3
}
ãã4 5
=
ãã6 7
$str
ãã8 :
;
ãã: ;
public
ää 
string
ää 
Genero
ää  
{
ää! "
get
ää# &
;
ää& '
set
ää( +
;
ää+ ,
}
ää- .
=
ää/ 0
$str
ää1 3
;
ää3 4
public
åå 
string
åå 
CodCopagoFijo
åå '
{
åå( )
get
åå* -
;
åå- .
set
åå/ 2
;
åå2 3
}
åå4 5
=
åå6 7
$str
åå8 :
;
åå: ;
public
ææ 
string
ææ 
DesCopagoFijo
ææ '
{
ææ( )
get
ææ* -
;
ææ- .
set
ææ/ 2
;
ææ2 3
}
ææ4 5
=
ææ6 7
$str
ææ8 :
;
ææ: ;
public
çç 
string
çç 
CodCopagoVariable
çç +
{
çç, -
get
çç. 1
;
çç1 2
set
çç3 6
;
çç6 7
}
çç8 9
=
çç: ;
$str
çç< >
;
çç> ?
public
èè 
string
èè 
DesCopagoVariable
èè +
{
èè, -
get
èè. 1
;
èè1 2
set
èè3 6
;
èè6 7
}
èè8 9
=
èè: ;
$str
èè< >
;
èè> ?
public
éé 
string
éé 

Frecuencia
éé $
{
éé% &
get
éé' *
;
éé* +
set
éé, /
;
éé/ 0
}
éé1 2
=
éé3 4
$str
éé5 7
;
éé7 8
public
êê 
string
êê 
Tiempo
êê  
{
êê! "
get
êê# &
;
êê& '
set
êê( +
;
êê+ ,
}
êê- .
=
êê/ 0
$str
êê1 3
;
êê3 4
public
ëë 
string
ëë 
FechaFinVigencia
ëë *
{
ëë+ ,
get
ëë- 0
;
ëë0 1
set
ëë2 5
;
ëë5 6
}
ëë7 8
=
ëë9 :
$str
ëë; =
;
ëë= >
public
ìì 
string
ìì 
Observaciones
ìì '
{
ìì( )
get
ìì* -
;
ìì- .
set
ìì/ 2
;
ìì2 3
}
ìì4 5
=
ìì6 7
$str
ìì8 :
;
ìì: ;
}
íí 	
public
ññ 
static
ññ 
string
ññ 
ConsultaAsegNom
ññ ,
(
ññ, -
string
ññ- 3
Url
ññ4 7
,
ññ7 8
AsegNombRequest
ññ9 H

objRequest
ññI S
)
ññS T
{
òò 	
string
óó 

stringJson
óó 
=
óó 
Json
óó  $
.
óó$ %

MethodPost
óó% /
(
óó/ 0
Url
óó0 3
+
óó4 5
$str
óó6 G
,
ôô 
new
ôô 
Json
ôô 
.
ôô 

Parameters
ôô %
(
ôô% &
$str
ôô& @
,
ôô@ A

objRequest
ôôB L
.
ôôL M&
CodTipoDocumentoAfiliado
ôôM e
)
ôôe f
,
õõ 
new
õõ 
Json
õõ 
.
õõ 

Parameters
õõ %
(
õõ% &
$str
õõ& ?
,
õõ? @

objRequest
õõA K
.
õõK L%
NumeroDocumentoAfiliado
õõL c
)
õõc d
,
öö 
new
öö 
Json
öö 
.
öö 

Parameters
öö %
(
öö% &
$str
öö& +
,
öö+ ,

objRequest
öö- 7
.
öö7 8
RUC
öö8 ;
)
öö; <
,
÷÷ 
new
÷÷ 
Json
÷÷ 
.
÷÷ 

Parameters
÷÷ %
(
÷÷% &
$str
÷÷& .
,
÷÷. /

objRequest
÷÷0 :
.
÷÷: ;
SUNASA
÷÷; A
)
÷÷A B
,
øø 
new
øø 
Json
øø 
.
øø 

Parameters
øø %
(
øø% &
$str
øø& -
,
øø- .

objRequest
øø/ 9
.
øø9 :
IAFAS
øø: ?
)
øø? @
,
ùù 
new
ùù 
Json
ùù 
.
ùù 

Parameters
ùù %
(
ùù% &
$str
ùù& 7
,
ùù7 8

objRequest
ùù9 C
.
ùùC D
NombresAfiliado
ùùD S
)
ùùS T
,
úú 
new
úú 
Json
úú 
.
úú 

Parameters
úú %
(
úú% &
$str
úú& ?
,
úú? @

objRequest
úúA K
.
úúK L%
ApellidoPaternoAfiliado
úúL c
)
úúc d
,
ûû 
new
ûû 
Json
ûû 
.
ûû 

Parameters
ûû %
(
ûû% &
$str
ûû& ?
,
ûû? @

objRequest
ûûA K
.
ûûK L%
ApellidoMaternoAfiliado
ûûL c
)
ûûc d
,
üü 
new
üü 
Json
üü 
.
üü 

Parameters
üü %
(
üü% &
$str
üü& 7
,
üü7 8

objRequest
üü9 C
.
üüC D
CodEspecialidad
üüD S
)
üüS T
)
üüT U
;
üüU V
return
ıı 

stringJson
ıı 
;
ıı 
}
şş 	
public
 
static
 
Task
 
<
 
string
 !
>
! ""
ConsultaAsegNomAsync
# 7
(
7 8
string
8 >
Url
? B
,
B C
AsegNombRequest
D S

objRequest
T ^
)
^ _
{
‚‚ 	
return
ƒƒ 
Task
ƒƒ 
.
ƒƒ 
Run
ƒƒ 
(
ƒƒ 
(
ƒƒ 
)
ƒƒ 
=>
ƒƒ !
{
„„ 
string
…… 

stringJson
…… !
=
……" #
Json
……$ (
.
……( )

MethodPost
……) 3
(
……3 4
Url
……4 7
+
……8 9
$str
……: K
,
†† 
new
†† 
Json
†† 
.
†† 

Parameters
†† %
(
††% &
$str
††& @
,
††@ A

objRequest
††B L
.
††L M&
CodTipoDocumentoAfiliado
††M e
)
††e f
,
‡‡ 
new
‡‡ 
Json
‡‡ 
.
‡‡ 

Parameters
‡‡ %
(
‡‡% &
$str
‡‡& ?
,
‡‡? @

objRequest
‡‡A K
.
‡‡K L%
NumeroDocumentoAfiliado
‡‡L c
)
‡‡c d
,
ˆˆ 
new
ˆˆ 
Json
ˆˆ 
.
ˆˆ 

Parameters
ˆˆ %
(
ˆˆ% &
$str
ˆˆ& +
,
ˆˆ+ ,

objRequest
ˆˆ- 7
.
ˆˆ7 8
RUC
ˆˆ8 ;
)
ˆˆ; <
,
‰‰ 
new
‰‰ 
Json
‰‰ 
.
‰‰ 

Parameters
‰‰ %
(
‰‰% &
$str
‰‰& .
,
‰‰. /

objRequest
‰‰0 :
.
‰‰: ;
SUNASA
‰‰; A
)
‰‰A B
,
ŠŠ 
new
ŠŠ 
Json
ŠŠ 
.
ŠŠ 

Parameters
ŠŠ %
(
ŠŠ% &
$str
ŠŠ& -
,
ŠŠ- .

objRequest
ŠŠ/ 9
.
ŠŠ9 :
IAFAS
ŠŠ: ?
)
ŠŠ? @
,
‹‹ 
new
‹‹ 
Json
‹‹ 
.
‹‹ 

Parameters
‹‹ %
(
‹‹% &
$str
‹‹& 7
,
‹‹7 8

objRequest
‹‹9 C
.
‹‹C D
NombresAfiliado
‹‹D S
)
‹‹S T
,
ŒŒ 
new
ŒŒ 
Json
ŒŒ 
.
ŒŒ 

Parameters
ŒŒ %
(
ŒŒ% &
$str
ŒŒ& ?
,
ŒŒ? @

objRequest
ŒŒA K
.
ŒŒK L%
ApellidoPaternoAfiliado
ŒŒL c
)
ŒŒc d
,
 
new
 
Json
 
.
 

Parameters
 %
(
% &
$str
& ?
,
? @

objRequest
A K
.
K L%
ApellidoMaternoAfiliado
L c
)
c d
,
 
new
 
Json
 
.
 

Parameters
 %
(
% &
$str
& 7
,
7 8

objRequest
9 C
.
C D
CodEspecialidad
D S
)
S T
)
T U
;
U V
return
 

stringJson
 !
;
! "
}
 
)
 
;
 
}
‘‘ 	
public
”” 
static
”” 
string
”” 
ConsultaAsegCod
”” ,
(
””, -
string
””- 3
Url
””4 7
,
””7 8
AsegCodRequest
””9 G

objRequest
””H R
)
””R S
{
•• 	
string
–– 

stringJson
–– 
=
–– 
Json
––  $
.
––$ %

MethodPost
––% /
(
––/ 0
Url
––0 3
+
––4 5
$str
––6 G
,
––G H
new
––I L
Json
––M Q
.
––Q R

Parameters
––R \
(
––\ ]
$str
––] e
,
––e f

objRequest
––g q
.
––q r
SUNASA
––r x
)
––x y
,
––y z
new
––{ ~
Json–– ƒ
.––ƒ „

Parameters––„ 
(–– 
$str–– –
,––– —

objRequest––˜ ¢
.––¢ £
IAFAS––£ ¨
)––¨ ©
,––© ª
new––« ®
Json––¯ ³
.––³ ´

Parameters––´ ¾
(––¾ ¿
$str––¿ Ä
,––Ä Å

objRequest––Æ Ğ
.––Ğ Ñ
RUC––Ñ Ô
)––Ô Õ
,––Õ Ö
new––× Ú
Json––Û ß
.––ß à

Parameters––à ê
(––ê ë
$str––ë ü
,––ü ı

objRequest––ş ˆ
.––ˆ ‰
NombresAfiliado––‰ ˜
)––˜ ™
,––™ š
new––› 
Json––Ÿ £
.––£ ¤

Parameters––¤ ®
(––® ¯
$str––¯ È
,––È É

objRequest––Ê Ô
.––Ô Õ'
ApellidoPaternoAfiliado––Õ ì
)––ì í
,––í î
new––ï ò
Json––ó ÷
.––÷ ø

Parameters––ø ‚
(––‚ ƒ
$str––ƒ œ
,––œ 

objRequest–– ¨
.––¨ ©'
ApellidoMaternoAfiliado––© À
)––À Á
,––Á Â
new––Ã Æ
Json––Ç Ë
.––Ë Ì

Parameters––Ì Ö
(––Ö ×
$str––× ç
,––ç è

objRequest––é ó
.––ó ô
CodigoAfiliado––ô ‚
)––‚ ƒ
,––ƒ „
new––… ˆ
Json––‰ 
.–– 

Parameters–– ˜
(––˜ ™
$str––™ ³
,––³ ´

objRequest––µ ¿
.––¿ À(
CodTipoDocumentoAfiliado––À Ø
)––Ø Ù
,––Ù Ú
new––Û Ş
Json––ß ã
.––ã ä

Parameters––ä î
(––î ï
$str––ï ˆ
,––ˆ ‰

objRequest––Š ”
.––” •'
NumeroDocumentoAfiliado––• ¬
)––¬ ­
,––­ ®
new––¯ ²
Json––³ ·
.––· ¸

Parameters––¸ Â
(––Â Ã
$str––Ã Ğ
,––Ğ Ñ

objRequest––Ò Ü
.––Ü İ
CodProducto––İ è
)––è é
,––é ê
new––ë î
Json––ï ó
.––ó ô

Parameters––ô ş
(––ş ÿ
$str––ÿ Œ
,––Œ 

objRequest–– ˜
.––˜ ™
DesProducto––™ ¤
)––¤ ¥
,––¥ ¦
new––§ ª
Json––« ¯
.––¯ °

Parameters––° º
(––º »
$str––» Ç
,––Ç È

objRequest––É Ó
.––Ó Ô

NumeroPlan––Ô Ş
)––Ş ß
,––ß à
new––á ä
Json––å é
.––é ê

Parameters––ê ô
(––ô õ
$str––õ ’
,––’ “

objRequest––” 
.–– Ÿ+
CodTipoDocumentoContratante––Ÿ º
)––º »
,––» ¼
new––½ À
Json––Á Å
.––Å Æ

Parameters––Æ Ğ
(––Ğ Ñ
$str––Ñ í
,––í î

objRequest––ï ù
.––ù ú*
NumeroDocumentoContratante––ú ”
)––” •
,––• –
new––— š
Json––› Ÿ
.––Ÿ  

Parameters––  ª
(––ª «
$str––« ¾
,––¾ ¿

objRequest––À Ê
.––Ê Ë!
NombreContratante––Ë Ü
)––Ü İ
,––İ Ş
new––ß â
Json––ã ç
.––ç è

Parameters––è ò
(––ò ó
$str––ó ‚	
,––‚	 ƒ	

objRequest––„	 	
.––	 	
CodParentesco––	 œ	
)––œ	 	
,––	 	
new––Ÿ	 ¢	
Json––£	 §	
.––§	 ¨	

Parameters––¨	 ²	
(––²	 ³	
$str––³	 Ï	
,––Ï	 Ğ	

objRequest––Ñ	 Û	
.––Û	 Ü	*
TipoCalificadorContratante––Ü	 ö	
)––ö	 ÷	
,––÷	 ø	
new––ù	 ü	
Json––ı	 

.––
 ‚


Parameters––‚
 Œ

(––Œ
 

$str––
 

,––
 Ÿ


objRequest–– 
 ª

.––ª
 «

CodEspecialidad––«
 º

)––º
 »

)––»
 ¼

;––¼
 ½

return
—— 

stringJson
—— 
;
—— 
}
˜˜ 	
public
šš 
static
šš 
string
šš (
ConsultaNumeroAutorizacion
šš 7
(
šš7 8
string
šš8 >
Url
šš? B
,
ššB C'
NumeroAutorizacionRequest
ššD ]

objRequest
šš^ h
)
ššh i
{
›› 	
string
œœ 

stringJson
œœ 
=
œœ 
Json
œœ  $
.
œœ$ %

MethodPost
œœ% /
(
œœ/ 0
Url
œœ0 3
+
œœ4 5
$str
œœ6 R
,
œœR S
new
œœT W
Json
œœX \
.
œœ\ ]

Parameters
œœ] g
(
œœg h
$strœœh 
,œœ ‚

objRequestœœƒ 
.œœ '
ApellidoMaternoAfiliadoœœ ¥
)œœ¥ ¦
,œœ¦ §
newœœ¨ «
Jsonœœ¬ °
.œœ° ±

Parametersœœ± »
(œœ» ¼
$strœœ¼ Õ
,œœÕ Ö

objRequestœœ× á
.œœá â'
ApellidoPaternoAfiliadoœœâ ù
)œœù ú
,œœú û
newœœü ÿ
Jsonœœ€ „
.œœ„ …

Parametersœœ… 
(œœ 
$strœœ ¨
,œœ¨ ©

objRequestœœª ´
.œœ´ µ&
BeneficioMaximoInicialœœµ Ë
)œœË Ì
,œœÌ Í
newœœÎ Ñ
JsonœœÒ Ö
.œœÖ ×

Parametersœœ× á
(œœá â
$strœœâ ò
,œœò ó

objRequestœœô ş
.œœş ÿ
CodigoAfiliadoœœÿ 
)œœ 
,œœ 
newœœ “
Jsonœœ” ˜
.œœ˜ ™

Parametersœœ™ £
(œœ£ ¤
$strœœ¤ ³
,œœ³ ´

objRequestœœµ ¿
.œœ¿ À
CodigoTitularœœÀ Í
)œœÍ Î
,œœÎ Ï
newœœĞ Ó
JsonœœÔ Ø
.œœØ Ù

ParametersœœÙ ã
(œœã ä
$strœœä ı
,œœı ş

objRequestœœÿ ‰
.œœ‰ Š'
CodCalificacionServicioœœŠ ¡
)œœ¡ ¢
,œœ¢ £
newœœ¤ §
Jsonœœ¨ ¬
.œœ¬ ­

Parametersœœ­ ·
(œœ· ¸
$strœœ¸ Ã
,œœÃ Ä

objRequestœœÅ Ï
.œœÏ Ğ
	CodEstadoœœĞ Ù
)œœÙ Ú
,œœÚ Û
newœœÜ ß
Jsonœœà ä
.œœä å

Parametersœœå ï
(œœï ğ
$strœœğ 
,œœ ‚

objRequestœœƒ 
.œœ 
CodEspecialidadœœ 
)œœ 
,œœ Ÿ
newœœ  £
Jsonœœ¤ ¨
.œœ¨ ©

Parametersœœ© ³
(œœ³ ´
$strœœ´ ¿
,œœ¿ À

objRequestœœÁ Ë
.œœË Ì
	CodMonedaœœÌ Õ
)œœÕ Ö
,œœÖ ×
newœœØ Û
JsonœœÜ à
.œœà á

Parametersœœá ë
(œœë ì
$strœœì û
,œœû ü

objRequestœœı ‡
.œœ‡ ˆ
CodCopagoFijoœœˆ •
)œœ• –
,œœ– —
newœœ˜ ›
Jsonœœœ  
.œœ  ¡

Parametersœœ¡ «
(œœ« ¬
$strœœ¬ ¿
,œœ¿ À

objRequestœœÁ Ë
.œœË Ì!
CodCopagoVariableœœÌ İ
)œœİ Ş
,œœŞ ß
newœœà ã
Jsonœœä è
.œœè é

Parametersœœé ó
(œœó ô
$strœœô ƒ
,œœƒ „

objRequestœœ… 
.œœ 
CodParentescoœœ 
)œœ 
,œœ Ÿ
newœœ  £
Jsonœœ¤ ¨
.œœ¨ ©

Parametersœœ© ³
(œœ³ ´
$strœœ´ Á
,œœÁ Â

objRequestœœÃ Í
.œœÍ Î
CodProductoœœÎ Ù
)œœÙ Ú
,œœÚ Û
newœœÜ ß
Jsonœœà ä
.œœä å

Parametersœœå ï
(œœï ğ
$strœœğ Œ
,œœŒ 

objRequestœœ ˜
.œœ˜ ™*
NumeroDocumentoContratanteœœ™ ³
)œœ³ ´
,œœ´ µ
newœœ¶ ¹
Jsonœœº ¾
.œœ¾ ¿

Parametersœœ¿ É
(œœÉ Ê
$strœœÊ ß
,œœß à

objRequestœœá ë
.œœë ì#
CodSubTipoCoberturaœœì ÿ
)œœÿ €	
,œœ€	 	
newœœ‚	 …	
Jsonœœ†	 Š	
.œœŠ	 ‹	

Parametersœœ‹	 •	
(œœ•	 –	
$strœœ–	 ¨	
,œœ¨	 ©	

objRequestœœª	 ´	
.œœ´	 µ	 
CodTipoCoberturaœœµ	 Å	
)œœÅ	 Æ	
,œœÆ	 Ç	
newœœÈ	 Ë	
JsonœœÌ	 Ğ	
.œœĞ	 Ñ	

ParametersœœÑ	 Û	
(œœÛ	 Ü	
$strœœÜ	 ï	
,œœï	 ğ	

objRequestœœñ	 û	
.œœû	 ü	!
CodTipoAfiliacionœœü	 

)œœ
 

,œœ
 

newœœ
 “

Jsonœœ”
 ˜

.œœ˜
 ™


Parametersœœ™
 £

(œœ£
 ¤

$strœœ¤
 ±

,œœ±
 ²


objRequestœœ³
 ½

.œœ½
 ¾

DesProductoœœ¾
 É

)œœÉ
 Ê

,œœÊ
 Ë

newœœÌ
 Ï

JsonœœĞ
 Ô

.œœÔ
 Õ


ParametersœœÕ
 ß

(œœß
 à

$strœœà
 ò

,œœò
 ó


objRequestœœô
 ş

.œœş
 ÿ
 
CodEstadoMaritalœœÿ
 
)œœ 
,œœ ‘
newœœ’ •
Jsonœœ– š
.œœš ›

Parametersœœ› ¥
(œœ¥ ¦
$strœœ¦ »
,œœ» ¼

objRequestœœ½ Ç
.œœÇ È#
CodFechaFinCarenciaœœÈ Û
)œœÛ Ü
,œœÜ İ
newœœŞ á
Jsonœœâ æ
.œœæ ç

Parametersœœç ñ
(œœñ ò
$strœœò †
,œœ† ‡

objRequestœœˆ ’
.œœ’ “"
CodFechaAfiliacionœœ“ ¥
)œœ¥ ¦
,œœ¦ §
newœœ¨ «
Jsonœœ¬ °
.œœ° ±

Parametersœœ± »
(œœ» ¼
$strœœ¼ Ô
,œœÔ Õ

objRequestœœÖ à
.œœà á&
CodFechaInicioVigenciaœœá ÷
)œœ÷ ø
,œœø ù
newœœú ı
Jsonœœş ‚
.œœ‚ ƒ

Parametersœœƒ 
(œœ 
$strœœ ¢
,œœ¢ £

objRequestœœ¤ ®
.œœ® ¯"
CodFechaNacimientoœœ¯ Á
)œœÁ Â
,œœÂ Ã
newœœÄ Ç
JsonœœÈ Ì
.œœÌ Í

ParametersœœÍ ×
(œœ× Ø
$strœœØ ã
,œœã ä

objRequestœœå ï
.œœï ğ
	CodGeneroœœğ ù
)œœù ú
,œœú û
newœœü ÿ
Jsonœœ€ „
.œœ„ …

Parametersœœ… 
(œœ 
$strœœ ˜
,œœ˜ ™

objRequestœœš ¤
.œœ¤ ¥
SUNASAœœ¥ «
)œœ« ¬
,œœ¬ ­
newœœ® ±
Jsonœœ² ¶
.œœ¶ ·

Parametersœœ· Á
(œœÁ Â
$strœœÂ É
,œœÉ Ê

objRequestœœË Õ
.œœÕ Ö
IAFASœœÖ Û
)œœÛ Ü
,œœÜ İ
newœœŞ á
Jsonœœâ æ
.œœæ ç

Parametersœœç ñ
(œœñ ò
$strœœò ‰
,œœ‰ Š

objRequestœœ‹ •
.œœ• –%
CondicionesEspecialesœœ– «
)œœ« ¬
,œœ¬ ­
newœœ® ±
Jsonœœ² ¶
.œœ¶ ·

Parametersœœ· Á
(œœÁ Â
$strœœÂ Ú
,œœÚ Û

objRequestœœÜ æ
.œœæ ç&
ApellidoMaternoTitularœœç ı
)œœı ş
,œœş ÿ
newœœ€ ƒ
Jsonœœ„ ˆ
.œœˆ ‰

Parametersœœ‰ “
(œœ“ ”
$strœœ” §
,œœ§ ¨

objRequestœœ© ³
.œœ³ ´!
NombreContratanteœœ´ Å
)œœÅ Æ
,œœÆ Ç
newœœÈ Ë
JsonœœÌ Ğ
.œœĞ Ñ

ParametersœœÑ Û
(œœÛ Ü
$strœœÜ ô
,œœô õ

objRequestœœö €
.œœ€ &
ApellidoPaternoTitularœœ —
)œœ— ˜
,œœ˜ ™
newœœš 
Jsonœœ ¢
.œœ¢ £

Parametersœœ£ ­
(œœ­ ®
$strœœ® ¿
,œœ¿ À

objRequestœœÁ Ë
.œœË Ì
NombresAfiliadoœœÌ Û
)œœÛ Ü
,œœÜ İ
newœœŞ á
Jsonœœâ æ
.œœæ ç

Parametersœœç ñ
(œœñ ò
$strœœò ‚
,œœ‚ ƒ

objRequestœœ„ 
.œœ 
NombresTitularœœ 
)œœ 
,œœ Ÿ
newœœ  £
Jsonœœ¤ ¨
.œœ¨ ©

Parametersœœ© ³
(œœ³ ´
$strœœ´ Ç
,œœÇ È

objRequestœœÉ Ó
.œœÓ Ô!
NumeroCertificadoœœÔ å
)œœå æ
,œœæ ç
newœœè ë
Jsonœœì ğ
.œœğ ñ

Parametersœœñ û
(œœû ü
$strœœü Œ
,œœŒ 

objRequestœœ ˜
.œœ˜ ™
NumeroContratoœœ™ §
)œœ§ ¨
,œœ¨ ©
newœœª ­
Jsonœœ® ²
.œœ² ³

Parametersœœ³ ½
(œœ½ ¾
$strœœ¾ ×
,œœ× Ø

objRequestœœÙ ã
.œœã ä'
NumeroDocumentoAfiliadoœœä û
)œœû ü
,œœü ı
newœœş 
Jsonœœ‚ †
.œœ† ‡

Parametersœœ‡ ‘
(œœ‘ ’
$strœœ’ ª
,œœª «

objRequestœœ¬ ¶
.œœ¶ ·&
NumeroDocumentoTitularœœ· Í
)œœÍ Î
,œœÎ Ï
newœœĞ Ó
JsonœœÔ Ø
.œœØ Ù

ParametersœœÙ ã
(œœã ä
$strœœä ğ
,œœğ ñ

objRequestœœò ü
.œœü ı

NumeroPlanœœı ‡
)œœ‡ ˆ
,œœˆ ‰
newœœŠ 
Jsonœœ ’
.œœ’ “

Parametersœœ“ 
(œœ 
$strœœ ¬
,œœ¬ ­

objRequestœœ® ¸
.œœ¸ ¹
NumeroPolizaœœ¹ Å
)œœÅ Æ
,œœÆ Ç
newœœÈ Ë
JsonœœÌ Ğ
.œœĞ Ñ

ParametersœœÑ Û
(œœÛ Ü
$strœœÜ á
,œœá â

objRequestœœã í
.œœí î
RUCœœî ñ
)œœñ ò
,œœò ó
newœœô ÷
Jsonœœø ü
.œœü ı

Parametersœœı ‡
(œœ‡ ˆ
$strœœˆ ¥
,œœ¥ ¦

objRequestœœ§ ±
.œœ± ²+
CodTipoDocumentoContratanteœœ² Í
)œœÍ Î
,œœÎ Ï
newœœĞ Ó
JsonœœÔ Ø
.œœØ Ù

ParametersœœÙ ã
(œœã ä
$strœœä ş
,œœş ÿ

objRequestœœ€ Š
.œœŠ ‹(
CodTipoDocumentoAfiliadoœœ‹ £
)œœ£ ¤
,œœ¤ ¥
newœœ¦ ©
Jsonœœª ®
.œœ® ¯

Parametersœœ¯ ¹
(œœ¹ º
$strœœº Ó
,œœÓ Ô

objRequestœœÕ ß
.œœß à'
CodTipoDocumentoTitularœœà ÷
)œœ÷ ø
,œœø ù
newœœú ı
Jsonœœş ‚
.œœ‚ ƒ

Parametersœœƒ 
(œœ 
$strœœ ›
,œœ› œ

objRequestœœ §
.œœ§ ¨
CodTipoPlanœœ¨ ³
)œœ³ ´
,œœ´ µ
newœœ¶ ¹
Jsonœœº ¾
.œœ¾ ¿

Parametersœœ¿ É
(œœÉ Ê
$strœœÊ ã
,œœã ä

objRequestœœå ï
.œœï ğ'
CodIndicadorRestriccionœœğ ‡
)œœ‡ ˆ
,œœˆ ‰
newœœŠ 
Jsonœœ ’
.œœ’ “

Parametersœœ“ 
(œœ 
$strœœ ¹
,œœ¹ º

objRequestœœ» Å
.œœÅ Æ)
CodFechaActualizacionFotoœœÆ ß
)œœß à
,œœà á
newœœâ å
Jsonœœæ ê
.œœê ë

Parametersœœë õ
(œœõ ö
$strœœö …
,œœ… †

objRequestœœ‡ ‘
.œœ‘ ’
CodTipoMonedaœœ’ Ÿ
)œœŸ  
)œœ  ¡
;œœ¡ ¢
return
 

stringJson
 
;
 
}
ŸŸ 	
public
¡¡ 
static
¡¡ 
string
¡¡ !
ConsultaObservacion
¡¡ 0
(
¡¡0 1
string
¡¡1 7
Url
¡¡8 ;
,
¡¡; < 
ObservacionRequest
¡¡= O

objRequest
¡¡P Z
)
¡¡Z [
{
¢¢ 	
string
££ 

stringJson
££ 
=
££ 
Json
££  $
.
££$ %

MethodPost
££% /
(
££/ 0
Url
££0 3
+
££4 5
$str
££6 K
,
££K L
new
££M P
Json
££Q U
.
££U V

Parameters
££V `
(
££` a
$str
££a i
,
££i j

objRequest
££k u
.
££u v
SUNASA
££v |
)
££| }
,
££} ~
new££ ‚
Json££ƒ ‡
.££‡ ˆ

Parameters££ˆ ’
(££’ “
$str££“ š
,££š ›

objRequest££œ ¦
.££¦ §
IAFAS££§ ¬
)££¬ ­
,££­ ®
new££¯ ²
Json££³ ·
.££· ¸

Parameters££¸ Â
(££Â Ã
$str££Ã È
,££È É

objRequest££Ê Ô
.££Ô Õ
RUC££Õ Ø
)££Ø Ù
,££Ù Ú
new££Û Ş
Json££ß ã
.££ã ä

Parameters££ä î
(££î ï
$str££ï €
,££€ 

objRequest££‚ Œ
.££Œ 
NombresAfiliado££ œ
)££œ 
,££ 
new££Ÿ ¢
Json£££ §
.££§ ¨

Parameters££¨ ²
(££² ³
$str££³ Ì
,££Ì Í

objRequest££Î Ø
.££Ø Ù'
ApellidoPaternoAfiliado££Ù ğ
)££ğ ñ
,££ñ ò
new££ó ö
Json££÷ û
.££û ü

Parameters££ü †
(££† ‡
$str££‡  
,££  ¡

objRequest££¢ ¬
.££¬ ­'
ApellidoMaternoAfiliado££­ Ä
)££Ä Å
,££Å Æ
new££Ç Ê
Json££Ë Ï
.££Ï Ğ

Parameters££Ğ Ú
(££Ú Û
$str££Û ë
,££ë ì

objRequest££í ÷
.££÷ ø
CodigoAfiliado££ø †
)££† ‡
,££‡ ˆ
new££‰ Œ
Json££ ‘
.££‘ ’

Parameters££’ œ
(££œ 
$str££ ·
,££· ¸

objRequest££¹ Ã
.££Ã Ä(
CodTipoDocumentoAfiliado££Ä Ü
)££Ü İ
,££İ Ş
new££ß â
Json££ã ç
.££ç è

Parameters££è ò
(££ò ó
$str££ó Œ
,££Œ 

objRequest££ ˜
.££˜ ™'
NumeroDocumentoAfiliado££™ °
)££° ±
,££± ²
new££³ ¶
Json££· »
.££» ¼

Parameters££¼ Æ
(££Æ Ç
$str££Ç Ô
,££Ô Õ

objRequest££Ö à
.££à á
CodProducto££á ì
)££ì í
,££í î
new££ï ò
Json££ó ÷
.££÷ ø

Parameters££ø ‚
(££‚ ƒ
$str££ƒ 
,££ ‘

objRequest££’ œ
.££œ 
DesProducto££ ¨
)££¨ ©
,££© ª
new££« ®
Json££¯ ³
.££³ ´

Parameters££´ ¾
(££¾ ¿
$str££¿ Ë
,££Ë Ì

objRequest££Í ×
.££× Ø

NumeroPlan££Ø â
)££â ã
,££ã ä
new££å è
Json££é í
.££í î

Parameters££î ø
(££ø ù
$str££ù –
,££– —

objRequest££˜ ¢
.££¢ £+
CodTipoDocumentoContratante£££ ¾
)££¾ ¿
,££¿ À
new££Á Ä
Json££Å É
.££É Ê

Parameters££Ê Ô
(££Ô Õ
$str££Õ ñ
,££ñ ò

objRequest££ó ı
.££ı ş*
NumeroDocumentoContratante££ş ˜
)££˜ ™
,££™ š
new££› 
Json££Ÿ £
.£££ ¤

Parameters££¤ ®
(££® ¯
$str££¯ Â
,££Â Ã

objRequest££Ä Î
.££Î Ï!
NombreContratante££Ï à
)££à á
,££á â
new££ã æ
Json££ç ë
.££ë ì

Parameters££ì ö
(££ö ÷
$str££÷ †	
,££†	 ‡	

objRequest££ˆ	 ’	
.££’	 “	
CodParentesco££“	  	
)££ 	 ¡	
,££¡	 ¢	
new£££	 ¦	
Json££§	 «	
.££«	 ¬	

Parameters££¬	 ¶	
(££¶	 ·	
$str££·	 Ó	
,££Ó	 Ô	

objRequest££Õ	 ß	
.££ß	 à	*
TipoCalificadorContratante££à	 ú	
)££ú	 û	
,££û	 ü	
new££ı	 €

Json££
 …

.££…
 †


Parameters££†
 

(££
 ‘

$str££‘
 ¢

,££¢
 £


objRequest££¤
 ®

.££®
 ¯

CodEspecialidad££¯
 ¾

)££¾
 ¿

)££¿
 À

;££À
 Á

return
¤¤ 

stringJson
¤¤ 
;
¤¤ 
}
¥¥ 	
public
§§ 
static
§§ 
string
§§ &
ConsultaDatosAdicionales
§§ 5
(
§§5 6
string
§§6 <
Url
§§= @
,
§§@ A%
DatosAdicionalesRequest
§§B Y

objRequest
§§Z d
)
§§d e
{
¨¨ 	
string
©© 

stringJson
©© 
=
©© 
Json
©©  $
.
©©$ %

MethodPost
©©% /
(
©©/ 0
Url
©©0 3
+
©©4 5
$str
©©6 P
,
©©P Q
new
©©R U
Json
©©V Z
.
©©Z [

Parameters
©©[ e
(
©©e f
$str
©©f n
,
©©n o

objRequest
©©p z
.
©©z {
SUNASA©©{ 
)©© ‚
,©©‚ ƒ
new©©„ ‡
Json©©ˆ Œ
.©©Œ 

Parameters©© —
(©©— ˜
$str©©˜ Ÿ
,©©Ÿ  

objRequest©©¡ «
.©©« ¬
IAFAS©©¬ ±
)©©± ²
,©©² ³
new©©´ ·
Json©©¸ ¼
.©©¼ ½

Parameters©©½ Ç
(©©Ç È
$str©©È Í
,©©Í Î

objRequest©©Ï Ù
.©©Ù Ú
RUC©©Ú İ
)©©İ Ş
,©©Ş ß
new©©à ã
Json©©ä è
.©©è é

Parameters©©é ó
(©©ó ô
$str©©ô …
,©©… †

objRequest©©‡ ‘
.©©‘ ’
NombresAfiliado©©’ ¡
)©©¡ ¢
,©©¢ £
new©©¤ §
Json©©¨ ¬
.©©¬ ­

Parameters©©­ ·
(©©· ¸
$str©©¸ Ñ
,©©Ñ Ò

objRequest©©Ó İ
.©©İ Ş'
ApellidoPaternoAfiliado©©Ş õ
)©©õ ö
,©©ö ÷
new©©ø û
Json©©ü €
.©©€ 

Parameters©© ‹
(©©‹ Œ
$str©©Œ ¥
,©©¥ ¦

objRequest©©§ ±
.©©± ²'
ApellidoMaternoAfiliado©©² É
)©©É Ê
,©©Ê Ë
new©©Ì Ï
Json©©Ğ Ô
.©©Ô Õ

Parameters©©Õ ß
(©©ß à
$str©©à ğ
,©©ğ ñ

objRequest©©ò ü
.©©ü ı
CodigoAfiliado©©ı ‹
)©©‹ Œ
,©©Œ 
new©© ‘
Json©©’ –
.©©– —

Parameters©©— ¡
(©©¡ ¢
$str©©¢ ¼
,©©¼ ½

objRequest©©¾ È
.©©È É(
CodTipoDocumentoAfiliado©©É á
)©©á â
,©©â ã
new©©ä ç
Json©©è ì
.©©ì í

Parameters©©í ÷
(©©÷ ø
$str©©ø ‘
,©©‘ ’

objRequest©©“ 
.©© '
NumeroDocumentoAfiliado©© µ
)©©µ ¶
,©©¶ ·
new©©¸ »
Json©©¼ À
.©©À Á

Parameters©©Á Ë
(©©Ë Ì
$str©©Ì Ù
,©©Ù Ú

objRequest©©Û å
.©©å æ
CodProducto©©æ ñ
)©©ñ ò
,©©ò ó
new©©ô ÷
Json©©ø ü
.©©ü ı

Parameters©©ı ‡
(©©‡ ˆ
$str©©ˆ •
,©©• –

objRequest©©— ¡
.©©¡ ¢
DesProducto©©¢ ­
)©©­ ®
,©©® ¯
new©©° ³
Json©©´ ¸
.©©¸ ¹

Parameters©©¹ Ã
(©©Ã Ä
$str©©Ä Ğ
,©©Ğ Ñ

objRequest©©Ò Ü
.©©Ü İ

NumeroPlan©©İ ç
)©©ç è
,©©è é
new©©ê í
Json©©î ò
.©©ò ó

Parameters©©ó ı
(©©ı ş
$str©©ş ›
,©©› œ

objRequest©© §
.©©§ ¨+
CodTipoDocumentoContratante©©¨ Ã
)©©Ã Ä
,©©Ä Å
new©©Æ É
Json©©Ê Î
.©©Î Ï

Parameters©©Ï Ù
(©©Ù Ú
$str©©Ú ö
,©©ö ÷

objRequest©©ø ‚
.©©‚ ƒ*
NumeroDocumentoContratante©©ƒ 
)©© 
,©© Ÿ
new©©  £
Json©©¤ ¨
.©©¨ ©

Parameters©©© ³
(©©³ ´
$str©©´ Ç
,©©Ç È

objRequest©©É Ó
.©©Ó Ô!
NombreContratante©©Ô å
)©©å æ
,©©æ ç
new©©è ë
Json©©ì ğ
.©©ğ ñ

Parameters©©ñ û
(©©û ü
$str©©ü ‹	
,©©‹	 Œ	

objRequest©©	 —	
.©©—	 ˜	
CodParentesco©©˜	 ¥	
)©©¥	 ¦	
,©©¦	 §	
new©©¨	 «	
Json©©¬	 °	
.©©°	 ±	

Parameters©©±	 »	
(©©»	 ¼	
$str©©¼	 Ø	
,©©Ø	 Ù	

objRequest©©Ú	 ä	
.©©ä	 å	*
TipoCalificadorContratante©©å	 ÿ	
)©©ÿ	 €

,©©€
 

new©©‚
 …

Json©©†
 Š

.©©Š
 ‹


Parameters©©‹
 •

(©©•
 –

$str©©–
 §

,©©§
 ¨


objRequest©©©
 ³

.©©³
 ´

CodEspecialidad©©´
 Ã

)©©Ã
 Ä

)©©Ä
 Å

;©©Å
 Æ

return
ªª 

stringJson
ªª 
;
ªª 
}
«« 	
public
­­ 
static
­­ 
string
­­ %
ConsultaCondicionMedica
­­ 4
(
­­4 5
string
­­5 ;
Url
­­< ?
,
­­? @$
CondicionMedicaRequest
­­A W

objRequest
­­X b
)
­­b c
{
®® 	
string
¯¯ 

stringJson
¯¯ 
=
¯¯ 
Json
¯¯  $
.
¯¯$ %

MethodPost
¯¯% /
(
¯¯/ 0
Url
¯¯0 3
+
¯¯4 5
$str
¯¯6 O
,
¯¯O P
new
¯¯Q T
Json
¯¯U Y
.
¯¯Y Z

Parameters
¯¯Z d
(
¯¯d e
$str
¯¯e m
,
¯¯m n

objRequest
¯¯o y
.
¯¯y z
SUNASA¯¯z €
)¯¯€ 
,¯¯ ‚
new¯¯ƒ †
Json¯¯‡ ‹
.¯¯‹ Œ

Parameters¯¯Œ –
(¯¯– —
$str¯¯— 
,¯¯ Ÿ

objRequest¯¯  ª
.¯¯ª «
IAFAS¯¯« °
)¯¯° ±
,¯¯± ²
new¯¯³ ¶
Json¯¯· »
.¯¯» ¼

Parameters¯¯¼ Æ
(¯¯Æ Ç
$str¯¯Ç Ì
,¯¯Ì Í

objRequest¯¯Î Ø
.¯¯Ø Ù
RUC¯¯Ù Ü
)¯¯Ü İ
,¯¯İ Ş
new¯¯ß â
Json¯¯ã ç
.¯¯ç è

Parameters¯¯è ò
(¯¯ò ó
$str¯¯ó „
,¯¯„ …

objRequest¯¯† 
.¯¯ ‘
NombresAfiliado¯¯‘  
)¯¯  ¡
,¯¯¡ ¢
new¯¯£ ¦
Json¯¯§ «
.¯¯« ¬

Parameters¯¯¬ ¶
(¯¯¶ ·
$str¯¯· Ğ
,¯¯Ğ Ñ

objRequest¯¯Ò Ü
.¯¯Ü İ'
ApellidoPaternoAfiliado¯¯İ ô
)¯¯ô õ
,¯¯õ ö
new¯¯÷ ú
Json¯¯û ÿ
.¯¯ÿ €

Parameters¯¯€ Š
(¯¯Š ‹
$str¯¯‹ ¤
,¯¯¤ ¥

objRequest¯¯¦ °
.¯¯° ±'
ApellidoMaternoAfiliado¯¯± È
)¯¯È É
,¯¯É Ê
new¯¯Ë Î
Json¯¯Ï Ó
.¯¯Ó Ô

Parameters¯¯Ô Ş
(¯¯Ş ß
$str¯¯ß ï
,¯¯ï ğ

objRequest¯¯ñ û
.¯¯û ü
CodigoAfiliado¯¯ü Š
)¯¯Š ‹
,¯¯‹ Œ
new¯¯ 
Json¯¯‘ •
.¯¯• –

Parameters¯¯–  
(¯¯  ¡
$str¯¯¡ »
,¯¯» ¼

objRequest¯¯½ Ç
.¯¯Ç È(
CodTipoDocumentoAfiliado¯¯È à
)¯¯à á
,¯¯á â
new¯¯ã æ
Json¯¯ç ë
.¯¯ë ì

Parameters¯¯ì ö
(¯¯ö ÷
$str¯¯÷ 
,¯¯ ‘

objRequest¯¯’ œ
.¯¯œ '
NumeroDocumentoAfiliado¯¯ ´
)¯¯´ µ
,¯¯µ ¶
new¯¯· º
Json¯¯» ¿
.¯¯¿ À

Parameters¯¯À Ê
(¯¯Ê Ë
$str¯¯Ë Ø
,¯¯Ø Ù

objRequest¯¯Ú ä
.¯¯ä å
CodProducto¯¯å ğ
)¯¯ğ ñ
,¯¯ñ ò
new¯¯ó ö
Json¯¯÷ û
.¯¯û ü

Parameters¯¯ü †
(¯¯† ‡
$str¯¯‡ ”
,¯¯” •

objRequest¯¯–  
.¯¯  ¡
DesProducto¯¯¡ ¬
)¯¯¬ ­
,¯¯­ ®
new¯¯¯ ²
Json¯¯³ ·
.¯¯· ¸

Parameters¯¯¸ Â
(¯¯Â Ã
$str¯¯Ã Ï
,¯¯Ï Ğ

objRequest¯¯Ñ Û
.¯¯Û Ü

NumeroPlan¯¯Ü æ
)¯¯æ ç
,¯¯ç è
new¯¯é ì
Json¯¯í ñ
.¯¯ñ ò

Parameters¯¯ò ü
(¯¯ü ı
$str¯¯ı š
,¯¯š ›

objRequest¯¯œ ¦
.¯¯¦ §+
CodTipoDocumentoContratante¯¯§ Â
)¯¯Â Ã
,¯¯Ã Ä
new¯¯Å È
Json¯¯É Í
.¯¯Í Î

Parameters¯¯Î Ø
(¯¯Ø Ù
$str¯¯Ù õ
,¯¯õ ö

objRequest¯¯÷ 
.¯¯ ‚*
NumeroDocumentoContratante¯¯‚ œ
)¯¯œ 
,¯¯ 
new¯¯Ÿ ¢
Json¯¯£ §
.¯¯§ ¨

Parameters¯¯¨ ²
(¯¯² ³
$str¯¯³ Æ
,¯¯Æ Ç

objRequest¯¯È Ò
.¯¯Ò Ó!
NombreContratante¯¯Ó ä
)¯¯ä å
,¯¯å æ
new¯¯ç ê
Json¯¯ë ï
.¯¯ï ğ

Parameters¯¯ğ ú
(¯¯ú û
$str¯¯û Š	
,¯¯Š	 ‹	

objRequest¯¯Œ	 –	
.¯¯–	 —	
CodParentesco¯¯—	 ¤	
)¯¯¤	 ¥	
,¯¯¥	 ¦	
new¯¯§	 ª	
Json¯¯«	 ¯	
.¯¯¯	 °	

Parameters¯¯°	 º	
(¯¯º	 »	
$str¯¯»	 ×	
,¯¯×	 Ø	

objRequest¯¯Ù	 ã	
.¯¯ã	 ä	*
TipoCalificadorContratante¯¯ä	 ş	
)¯¯ş	 ÿ	
,¯¯ÿ	 €

new¯¯
 „

Json¯¯…
 ‰

.¯¯‰
 Š


Parameters¯¯Š
 ”

(¯¯”
 •

$str¯¯•
 ¦

,¯¯¦
 §


objRequest¯¯¨
 ²

.¯¯²
 ³

CodEspecialidad¯¯³
 Â

)¯¯Â
 Ã

)¯¯Ã
 Ä

;¯¯Ä
 Å

return
°° 

stringJson
°° 
;
°° 
}
±± 	
public
³³ 
static
³³ 
string
³³ $
ConsultaCoberturaAcred
³³ 3
(
³³3 4
string
³³4 :
Url
³³; >
,
³³> ?
CoberturaRequest
³³@ P

objRequest
³³Q [
)
³³[ \
{
´´ 	
string
µµ 

stringJson
µµ 
=
µµ 
Json
µµ  $
.
µµ$ %

MethodPost
µµ% /
(
µµ/ 0
Url
µµ0 3
+
µµ4 5
$str
µµ6 O
,
µµO P
new
µµQ T
Json
µµU Y
.
µµY Z

Parameters
µµZ d
(
µµd e
$str
µµe q
,
µµq r

objRequest
µµs }
.
µµ} ~

cIafasCodeµµ~ ˆ
)µµˆ ‰
,µµ‰ Š
newµµ‹ 
Jsonµµ “
.µµ“ ”

Parametersµµ” 
(µµ Ÿ
$strµµŸ ª
,µµª «

objRequestµµ¬ ¶
.µµ¶ ·
	cAsegCodeµµ· À
)µµÀ Á
,µµÁ Â
newµµÃ Æ
JsonµµÇ Ë
.µµË Ì

ParametersµµÌ Ö
(µµÖ ×
$strµµ× â
,µµâ ã

objRequestµµä î
.µµî ï
	cAutoCodeµµï ø
)µµø ù
,µµù ú
newµµû ş
Jsonµµÿ ƒ
.µµƒ „

Parametersµµ„ 
(µµ 
$strµµ ›
,µµ› œ

objRequestµµ §
.µµ§ ¨

cCoberCodeµµ¨ ²
)µµ² ³
,µµ³ ´
newµµµ ¸
Jsonµµ¹ ½
.µµ½ ¾

Parametersµµ¾ È
(µµÈ É
$strµµÉ Ø
,µµØ Ù

objRequestµµÚ ä
.µµä å
cSubTipoCoberµµå ò
)µµò ó
,µµó ô
newµµõ ø
Jsonµµù ı
.µµı ş

Parametersµµş ˆ
(µµˆ ‰
$strµµ‰ ˜
,µµ˜ ™

objRequestµµš ¤
.µµ¤ ¥
nSubTipoCoberµµ¥ ²
)µµ² ³
,µµ³ ´
newµµµ ¸
Jsonµµ¹ ½
.µµ½ ¾

Parametersµµ¾ È
(µµÈ É
$strµµÉ ×
,µµ× Ø

objRequestµµÙ ã
.µµã ä
cIndiProCodeµµä ğ
)µµğ ñ
,µµñ ò
newµµó ö
Jsonµµ÷ û
.µµû ü

Parametersµµü †
(µµ† ‡
$strµµ‡ ’
,µµ’ “

objRequestµµ” 
.µµ Ÿ
	nCopgFijoµµŸ ¨
)µµ¨ ©
,µµ© ª
newµµ« ®
Jsonµµ¯ ³
.µµ³ ´

Parametersµµ´ ¾
(µµ¾ ¿
$strµµ¿ Ê
,µµÊ Ë

objRequestµµÌ Ö
.µµÖ ×
	cMoneCodeµµ× à
)µµà á
,µµá â
newµµã æ
Jsonµµç ë
.µµë ì

Parametersµµì ö
(µµö ÷
$strµµ÷ ‡
,µµ‡ ˆ

objRequestµµ‰ “
.µµ“ ”
cCalifServCodeµµ” ¢
)µµ¢ £
,µµ£ ¤
newµµ¥ ¨
Jsonµµ© ­
.µµ­ ®

Parametersµµ® ¸
(µµ¸ ¹
$strµµ¹ Ä
,µµÄ Å

objRequestµµÆ Ğ
.µµĞ Ñ
	nCopgVariµµÑ Ú
)µµÚ Û
,µµÛ Ü
newµµİ à
Jsonµµá å
.µµå æ

Parametersµµæ ğ
(µµğ ñ
$strµµñ €
,µµ€ 

objRequestµµ‚ Œ
.µµŒ 
dBeneficioMaxµµ š
)µµš ›
,µµ› œ
newµµ  
Jsonµµ¡ ¥
.µµ¥ ¦

Parametersµµ¦ °
(µµ° ±
$strµµ± ½
,µµ½ ¾

objRequestµµ¿ É
.µµÉ Ê

fFeCarDateµµÊ Ô
)µµÔ Õ
,µµÕ Ö
newµµ× Ú
JsonµµÛ ß
.µµß à

Parametersµµà ê
(µµê ë
$strµµë ÷
,µµ÷ ø

objRequestµµù ƒ
.µµƒ „

fEsperDateµµ„ 
)µµ 
,µµ 
newµµ‘ ”
Jsonµµ• ™
.µµ™ š

Parametersµµš ¤
(µµ¤ ¥
$strµµ¥ ±
,µµ± ²

objRequestµµ³ ½
.µµ½ ¾

cFlagCartaµµ¾ È
)µµÈ É
,µµÉ Ê
newµµË Î
JsonµµÏ Ó
.µµÓ Ô

ParametersµµÔ Ş
(µµŞ ß
$strµµß ê
,µµê ë

objRequestµµì ö
.µµö ÷
	cProdCodeµµ÷ €
)µµ€ 
,µµ ‚
newµµƒ †
Jsonµµ‡ ‹
.µµ‹ Œ

ParametersµµŒ –
(µµ– —
$strµµ— ¢
,µµ¢ £

objRequestµµ¤ ®
.µµ® ¯
	cEspeCodeµµ¯ ¸
)µµ¸ ¹
,µµ¹ º
newµµ» ¾
Jsonµµ¿ Ã
.µµÃ Ä

ParametersµµÄ Î
(µµÎ Ï
$strµµÏ Ú
,µµÚ Û

objRequestµµÜ æ
.µµæ ç
	dIpssHostµµç ğ
)µµğ ñ
,µµñ ò
newµµó ö
Jsonµµ÷ û
.µµû ü

Parametersµµü †	
(µµ†	 ‡	
$strµµ‡	 “	
,µµ“	 ”	

objRequestµµ•	 Ÿ	
.µµŸ	  	

cOrigenAteµµ 	 ª	
)µµª	 «	
,µµ«	 ¬	
newµµ­	 °	
Jsonµµ±	 µ	
.µµµ	 ¶	

Parametersµµ¶	 À	
(µµÀ	 Á	
$strµµÁ	 Î	
,µµÎ	 Ï	

objRequestµµĞ	 Ú	
.µµÚ	 Û	
cAccidentesµµÛ	 æ	
)µµæ	 ç	
,µµç	 è	
newµµé	 ì	
Jsonµµí	 ñ	
.µµñ	 ò	

Parametersµµò	 ü	
(µµü	 ı	
$strµµı	 

,µµ
 


objRequestµµ
 ™

.µµ™
 š

cTiDeclaracionµµš
 ¨

)µµ¨
 ©

,µµ©
 ª

newµµ«
 ®

Jsonµµ¯
 ³

.µµ³
 ´


Parametersµµ´
 ¾

(µµ¾
 ¿

$strµµ¿
 Ï

,µµÏ
 Ğ


objRequestµµÑ
 Û

.µµÛ
 Ü

cTiDeclaracionµµÜ
 ê

)µµê
 ë

,µµë
 ì

newµµí
 ğ

Jsonµµñ
 õ

.µµõ
 ö


Parametersµµö
 €
(µµ€ 
$strµµ ‹
,µµ‹ Œ

objRequestµµ —
.µµ— ˜
dObservaµµ˜  
)µµ  ¡
,µµ¡ ¢
newµµ£ ¦
Jsonµµ§ «
.µµ« ¬

Parametersµµ¬ ¶
(µµ¶ ·
$strµµ· Ä
,µµÄ Å

objRequestµµÆ Ğ
.µµĞ Ñ
dComercNameµµÑ Ü
)µµÜ İ
,µµİ Ş
newµµß â
Jsonµµã ç
.µµç è

Parametersµµè ò
(µµò ó
$strµµó €
,µµ€ 

objRequestµµ‚ Œ
.µµŒ 
fAccidentesµµ ˜
)µµ˜ ™
,µµ™ š
newµµ› 
JsonµµŸ £
.µµ£ ¤

Parametersµµ¤ ®
(µµ® ¯
$strµµ¯ ¼
,µµ¼ ½

objRequestµµ¾ È
.µµÈ É
fOrigenAtenµµÉ Ô
)µµÔ Õ
,µµÕ Ö
newµµ× Ú
JsonµµÛ ß
.µµß à

Parametersµµà ê
(µµê ë
$strµµë ö
,µµö ÷

objRequestµµø ‚
.µµ‚ ƒ
	cUserCodeµµƒ Œ
)µµŒ 
,µµ 
newµµ ’
Jsonµµ“ —
.µµ— ˜

Parametersµµ˜ ¢
(µµ¢ £
$strµµ£ ®
,µµ® ¯

objRequestµµ° º
.µµº »
	nUserNameµµ» Ä
)µµÄ Å
,µµÅ Æ
newµµÇ Ê
JsonµµË Ï
.µµÏ Ğ

ParametersµµĞ Ú
(µµÚ Û
$strµµÛ è
,µµè é

objRequestµµê ô
.µµô õ
cFlagCGCodeµµõ €
)µµ€ 
,µµ ‚
newµµƒ †
Jsonµµ‡ ‹
.µµ‹ Œ

ParametersµµŒ –
(µµ– —
$strµµ— ¤
,µµ¤ ¥

objRequestµµ¦ °
.µµ° ±
dFlagCGNameµµ± ¼
)µµ¼ ½
,µµ½ ¾
newµµ¿ Â
JsonµµÃ Ç
.µµÇ È

ParametersµµÈ Ò
(µµÒ Ó
$strµµÓ ä
,µµä å

objRequestµµæ ğ
.µµğ ñ
cIndiRestriCodeµµñ €
)µµ€ 
,µµ ‚
newµµƒ †
Jsonµµ‡ ‹
.µµ‹ Œ

ParametersµµŒ –
(µµ– —
$strµµ— ¥
,µµ¥ ¦

objRequestµµ§ ±
.µµ± ²
dObsCarenciaµµ² ¾
)µµ¾ ¿
)µµ¿ À
;µµÀ Á
return
·· 

stringJson
·· 
;
·· 
}
¸¸ 	
public
ºº 
static
ºº 
string
ºº 
ObtenerFoto
ºº (
(
ºº( )
string
ºº) /
Url
ºº0 3
,
ºº3 4
FotoRequest
ºº5 @

objRequest
ººA K
)
ººK L
{
»» 	
string
¼¼ 

stringJson
¼¼ 
=
¼¼ 
Json
¼¼  $
.
¼¼$ %

MethodPost
¼¼% /
(
¼¼/ 0
Url
¼¼0 3
+
¼¼4 5
$str
¼¼6 C
,
¼¼C D
new
¼¼E H
Json
¼¼I M
.
¼¼M N

Parameters
¼¼N X
(
¼¼X Y
$str
¼¼Y `
,
¼¼` a

objRequest
¼¼b l
.
¼¼l m
IAFAS
¼¼m r
)
¼¼r s
,
¼¼s t
new
¼¼u x
Json
¼¼y }
.
¼¼} ~

Parameters¼¼~ ˆ
(¼¼ˆ ‰
$str¼¼‰ ™
,¼¼™ š

objRequest¼¼› ¥
.¼¼¥ ¦
CodigoAfiliado¼¼¦ ´
)¼¼´ µ
,¼¼µ ¶
new¼¼· º
Json¼¼» ¿
.¼¼¿ À

Parameters¼¼À Ê
(¼¼Ê Ë
$str¼¼Ë æ
,¼¼æ ç

objRequest¼¼è ò
.¼¼ò ó)
CodFechaActualizacionFoto¼¼ó Œ
)¼¼Œ 
)¼¼ 
;¼¼ 
return
½½ 

stringJson
½½ 
;
½½ 
}
¾¾ 	
public
ÀÀ 
static
ÀÀ 
string
ÀÀ 
CasoTiempoEspera
ÀÀ -
(
ÀÀ- .
string
ÀÀ. 4
Url
ÀÀ5 8
,
ÀÀ8 9%
CasoTiempoEsperaRequest
ÀÀ: Q

objRequest
ÀÀR \
)
ÀÀ\ ]
{
ÁÁ 	
string
ÂÂ 

stringJson
ÂÂ 
=
ÂÂ 
Json
ÂÂ  $
.
ÂÂ$ %

MethodPost
ÂÂ% /
(
ÂÂ/ 0
Url
ÂÂ0 3
+
ÂÂ4 5
$str
ÂÂ6 X
,
ÂÂX Y
new
ÂÂZ ]
Json
ÂÂ^ b
.
ÂÂb c

Parameters
ÂÂc m
(
ÂÂm n
$str
ÂÂn v
,
ÂÂv w

objRequestÂÂx ‚
.ÂÂ‚ ƒ
SUNASAÂÂƒ ‰
)ÂÂ‰ Š
,ÂÂŠ ‹
newÂÂŒ 
JsonÂÂ ”
.ÂÂ” •

ParametersÂÂ• Ÿ
(ÂÂŸ  
$strÂÂ  §
,ÂÂ§ ¨

objRequestÂÂ© ³
.ÂÂ³ ´
IAFASÂÂ´ ¹
)ÂÂ¹ º
,ÂÂº »
newÂÂ¼ ¿
JsonÂÂÀ Ä
.ÂÂÄ Å

ParametersÂÂÅ Ï
(ÂÂÏ Ğ
$strÂÂĞ Õ
,ÂÂÕ Ö

objRequestÂÂ× á
.ÂÂá â
RUCÂÂâ å
)ÂÂå æ
,ÂÂæ ç
newÂÂè ë
JsonÂÂì ğ
.ÂÂğ ñ

ParametersÂÂñ û
(ÂÂû ü
$strÂÂü 
,ÂÂ 

objRequestÂÂ ™
.ÂÂ™ š
NombresAfiliadoÂÂš ©
)ÂÂ© ª
,ÂÂª «
newÂÂ¬ ¯
JsonÂÂ° ´
.ÂÂ´ µ

ParametersÂÂµ ¿
(ÂÂ¿ À
$strÂÂÀ Ù
,ÂÂÙ Ú

objRequestÂÂÛ å
.ÂÂå æ'
ApellidoPaternoAfiliadoÂÂæ ı
)ÂÂı ş
,ÂÂş ÿ
newÂÂ€ ƒ
JsonÂÂ„ ˆ
.ÂÂˆ ‰

ParametersÂÂ‰ “
(ÂÂ“ ”
$strÂÂ” ­
,ÂÂ­ ®

objRequestÂÂ¯ ¹
.ÂÂ¹ º'
ApellidoMaternoAfiliadoÂÂº Ñ
)ÂÂÑ Ò
,ÂÂÒ Ó
newÂÂÔ ×
JsonÂÂØ Ü
.ÂÂÜ İ

ParametersÂÂİ ç
(ÂÂç è
$strÂÂè ø
,ÂÂø ù

objRequestÂÂú „
.ÂÂ„ …
CodigoAfiliadoÂÂ… “
)ÂÂ“ ”
,ÂÂ” •
newÂÂ– ™
JsonÂÂš 
.ÂÂ Ÿ

ParametersÂÂŸ ©
(ÂÂ© ª
$strÂÂª Ä
,ÂÂÄ Å

objRequestÂÂÆ Ğ
.ÂÂĞ Ñ(
CodTipoDocumentoAfiliadoÂÂÑ é
)ÂÂé ê
,ÂÂê ë
newÂÂì ï
JsonÂÂğ ô
.ÂÂô õ

ParametersÂÂõ ÿ
(ÂÂÿ €
$strÂÂ€ ™
,ÂÂ™ š

objRequestÂÂ› ¥
.ÂÂ¥ ¦'
NumeroDocumentoAfiliadoÂÂ¦ ½
)ÂÂ½ ¾
,ÂÂ¾ ¿
newÂÂÀ Ã
JsonÂÂÄ È
.ÂÂÈ É

ParametersÂÂÉ Ó
(ÂÂÓ Ô
$strÂÂÔ á
,ÂÂá â

objRequestÂÂã í
.ÂÂí î
CodProductoÂÂî ù
)ÂÂù ú
,ÂÂú û
newÂÂü ÿ
JsonÂÂ€ „
.ÂÂ„ …

ParametersÂÂ… 
(ÂÂ 
$strÂÂ 
,ÂÂ 

objRequestÂÂŸ ©
.ÂÂ© ª
DesProductoÂÂª µ
)ÂÂµ ¶
,ÂÂ¶ ·
newÂÂ¸ »
JsonÂÂ¼ À
.ÂÂÀ Á

ParametersÂÂÁ Ë
(ÂÂË Ì
$strÂÂÌ Ø
,ÂÂØ Ù

objRequestÂÂÚ ä
.ÂÂä å

NumeroPlanÂÂå ï
)ÂÂï ğ
,ÂÂğ ñ
newÂÂò õ
JsonÂÂö ú
.ÂÂú û

ParametersÂÂû …
(ÂÂ… †
$strÂÂ† £
,ÂÂ£ ¤

objRequestÂÂ¥ ¯
.ÂÂ¯ °+
CodTipoDocumentoContratanteÂÂ° Ë
)ÂÂË Ì
,ÂÂÌ Í
newÂÂÎ Ñ
JsonÂÂÒ Ö
.ÂÂÖ ×

ParametersÂÂ× á
(ÂÂá â
$strÂÂâ ş
,ÂÂş ÿ

objRequestÂÂ€ Š
.ÂÂŠ ‹*
NumeroDocumentoContratanteÂÂ‹ ¥
)ÂÂ¥ ¦
,ÂÂ¦ §
newÂÂ¨ «
JsonÂÂ¬ °
.ÂÂ° ±

ParametersÂÂ± »
(ÂÂ» ¼
$strÂÂ¼ Ï
,ÂÂÏ Ğ

objRequestÂÂÑ Û
.ÂÂÛ Ü!
NombreContratanteÂÂÜ í
)ÂÂí î
,ÂÂî ï
newÂÂğ ó
JsonÂÂô ø
.ÂÂø ù

ParametersÂÂù ƒ	
(ÂÂƒ	 „	
$strÂÂ„	 “	
,ÂÂ“	 ”	

objRequestÂÂ•	 Ÿ	
.ÂÂŸ	  	
CodParentescoÂÂ 	 ­	
)ÂÂ­	 ®	
,ÂÂ®	 ¯	
newÂÂ°	 ³	
JsonÂÂ´	 ¸	
.ÂÂ¸	 ¹	

ParametersÂÂ¹	 Ã	
(ÂÂÃ	 Ä	
$strÂÂÄ	 Õ	
,ÂÂÕ	 Ö	

objRequestÂÂ×	 á	
.ÂÂá	 â	
NumeroCoberturaÂÂâ	 ñ	
)ÂÂñ	 ò	
,ÂÂò	 ó	
newÂÂô	 ÷	
JsonÂÂø	 ü	
.ÂÂü	 ı	

ParametersÂÂı	 ‡

(ÂÂ‡
 ˆ

$strÂÂˆ
  

,ÂÂ 
 ¡


objRequestÂÂ¢
 ¬

.ÂÂ¬
 ­
&
BeneficioMaximoInicialÂÂ­
 Ã

)ÂÂÃ
 Ä

,ÂÂÄ
 Å

newÂÂÆ
 É

JsonÂÂÊ
 Î

.ÂÂÎ
 Ï


ParametersÂÂÏ
 Ù

(ÂÂÙ
 Ú

$strÂÂÚ
 ï

,ÂÂï
 ğ


objRequestÂÂñ
 û

.ÂÂû
 ü
#
CodigoTipoCoberturaÂÂü
 
)ÂÂ 
,ÂÂ ‘
newÂÂ’ •
JsonÂÂ– š
.ÂÂš ›

ParametersÂÂ› ¥
(ÂÂ¥ ¦
$strÂÂ¦ ¾
,ÂÂ¾ ¿

objRequestÂÂÀ Ê
.ÂÂÊ Ë&
CodigoSubTipoCoberturaÂÂË á
)ÂÂá â
,ÂÂâ ã
newÂÂä ç
JsonÂÂè ì
.ÂÂì í

ParametersÂÂí ÷
(ÂÂ÷ ø
$strÂÂø ‰
,ÂÂ‰ Š

objRequestÂÂ‹ •
.ÂÂ• –
CodEspecialidadÂÂ– ¥
)ÂÂ¥ ¦
)ÂÂ¦ §
;ÂÂ§ ¨
return
ÃÃ 

stringJson
ÃÃ 
;
ÃÃ 
}
ÄÄ 	
public
ÆÆ 
static
ÆÆ 
string
ÆÆ &
ProcedimientosEspeciales
ÆÆ 5
(
ÆÆ5 6
string
ÆÆ6 <
Url
ÆÆ= @
,
ÆÆ@ A-
ProcedimientosEspecialesRequest
ÆÆB a

objRequest
ÆÆb l
)
ÆÆl m
{
ÇÇ 	
string
ÈÈ 

stringJson
ÈÈ 
=
ÈÈ 
Json
ÈÈ  $
.
ÈÈ$ %

MethodPost
ÈÈ% /
(
ÈÈ/ 0
Url
ÈÈ0 3
+
ÈÈ4 5
$str
ÈÈ6 X
,
ÈÈX Y
new
ÈÈZ ]
Json
ÈÈ^ b
.
ÈÈb c

Parameters
ÈÈc m
(
ÈÈm n
$str
ÈÈn v
,
ÈÈv w

objRequestÈÈx ‚
.ÈÈ‚ ƒ
SUNASAÈÈƒ ‰
)ÈÈ‰ Š
,ÈÈŠ ‹
newÈÈŒ 
JsonÈÈ ”
.ÈÈ” •

ParametersÈÈ• Ÿ
(ÈÈŸ  
$strÈÈ  §
,ÈÈ§ ¨

objRequestÈÈ© ³
.ÈÈ³ ´
IAFASÈÈ´ ¹
)ÈÈ¹ º
,ÈÈº »
newÈÈ¼ ¿
JsonÈÈÀ Ä
.ÈÈÄ Å

ParametersÈÈÅ Ï
(ÈÈÏ Ğ
$strÈÈĞ Õ
,ÈÈÕ Ö

objRequestÈÈ× á
.ÈÈá â
RUCÈÈâ å
)ÈÈå æ
,ÈÈæ ç
newÈÈè ë
JsonÈÈì ğ
.ÈÈğ ñ

ParametersÈÈñ û
(ÈÈû ü
$strÈÈü 
,ÈÈ 

objRequestÈÈ ™
.ÈÈ™ š
NombresAfiliadoÈÈš ©
)ÈÈ© ª
,ÈÈª «
newÈÈ¬ ¯
JsonÈÈ° ´
.ÈÈ´ µ

ParametersÈÈµ ¿
(ÈÈ¿ À
$strÈÈÀ Ù
,ÈÈÙ Ú

objRequestÈÈÛ å
.ÈÈå æ'
ApellidoPaternoAfiliadoÈÈæ ı
)ÈÈı ş
,ÈÈş ÿ
newÈÈ€ ƒ
JsonÈÈ„ ˆ
.ÈÈˆ ‰

ParametersÈÈ‰ “
(ÈÈ“ ”
$strÈÈ” ­
,ÈÈ­ ®

objRequestÈÈ¯ ¹
.ÈÈ¹ º'
ApellidoMaternoAfiliadoÈÈº Ñ
)ÈÈÑ Ò
,ÈÈÒ Ó
newÈÈÔ ×
JsonÈÈØ Ü
.ÈÈÜ İ

ParametersÈÈİ ç
(ÈÈç è
$strÈÈè ø
,ÈÈø ù

objRequestÈÈú „
.ÈÈ„ …
CodigoAfiliadoÈÈ… “
)ÈÈ“ ”
,ÈÈ” •
newÈÈ– ™
JsonÈÈš 
.ÈÈ Ÿ

ParametersÈÈŸ ©
(ÈÈ© ª
$strÈÈª Ä
,ÈÈÄ Å

objRequestÈÈÆ Ğ
.ÈÈĞ Ñ(
CodTipoDocumentoAfiliadoÈÈÑ é
)ÈÈé ê
,ÈÈê ë
newÈÈì ï
JsonÈÈğ ô
.ÈÈô õ

ParametersÈÈõ ÿ
(ÈÈÿ €
$strÈÈ€ ™
,ÈÈ™ š

objRequestÈÈ› ¥
.ÈÈ¥ ¦'
NumeroDocumentoAfiliadoÈÈ¦ ½
)ÈÈ½ ¾
,ÈÈ¾ ¿
newÈÈÀ Ã
JsonÈÈÄ È
.ÈÈÈ É

ParametersÈÈÉ Ó
(ÈÈÓ Ô
$strÈÈÔ á
,ÈÈá â

objRequestÈÈã í
.ÈÈí î
CodProductoÈÈî ù
)ÈÈù ú
,ÈÈú û
newÈÈü ÿ
JsonÈÈ€ „
.ÈÈ„ …

ParametersÈÈ… 
(ÈÈ 
$strÈÈ 
,ÈÈ 

objRequestÈÈŸ ©
.ÈÈ© ª
DesProductoÈÈª µ
)ÈÈµ ¶
,ÈÈ¶ ·
newÈÈ¸ »
JsonÈÈ¼ À
.ÈÈÀ Á

ParametersÈÈÁ Ë
(ÈÈË Ì
$strÈÈÌ Ø
,ÈÈØ Ù

objRequestÈÈÚ ä
.ÈÈä å

NumeroPlanÈÈå ï
)ÈÈï ğ
,ÈÈğ ñ
newÈÈò õ
JsonÈÈö ú
.ÈÈú û

ParametersÈÈû …
(ÈÈ… †
$strÈÈ† £
,ÈÈ£ ¤

objRequestÈÈ¥ ¯
.ÈÈ¯ °+
CodTipoDocumentoContratanteÈÈ° Ë
)ÈÈË Ì
,ÈÈÌ Í
newÈÈÎ Ñ
JsonÈÈÒ Ö
.ÈÈÖ ×

ParametersÈÈ× á
(ÈÈá â
$strÈÈâ ş
,ÈÈş ÿ

objRequestÈÈ€ Š
.ÈÈŠ ‹*
NumeroDocumentoContratanteÈÈ‹ ¥
)ÈÈ¥ ¦
,ÈÈ¦ §
newÈÈ¨ «
JsonÈÈ¬ °
.ÈÈ° ±

ParametersÈÈ± »
(ÈÈ» ¼
$strÈÈ¼ Ï
,ÈÈÏ Ğ

objRequestÈÈÑ Û
.ÈÈÛ Ü!
NombreContratanteÈÈÜ í
)ÈÈí î
,ÈÈî ï
newÈÈğ ó
JsonÈÈô ø
.ÈÈø ù

ParametersÈÈù ƒ	
(ÈÈƒ	 „	
$strÈÈ„	 “	
,ÈÈ“	 ”	

objRequestÈÈ•	 Ÿ	
.ÈÈŸ	  	
CodParentescoÈÈ 	 ­	
)ÈÈ­	 ®	
,ÈÈ®	 ¯	
newÈÈ°	 ³	
JsonÈÈ´	 ¸	
.ÈÈ¸	 ¹	

ParametersÈÈ¹	 Ã	
(ÈÈÃ	 Ä	
$strÈÈÄ	 Õ	
,ÈÈÕ	 Ö	

objRequestÈÈ×	 á	
.ÈÈá	 â	
NumeroCoberturaÈÈâ	 ñ	
)ÈÈñ	 ò	
,ÈÈò	 ó	
newÈÈô	 ÷	
JsonÈÈø	 ü	
.ÈÈü	 ı	

ParametersÈÈı	 ‡

(ÈÈ‡
 ˆ

$strÈÈˆ
  

,ÈÈ 
 ¡


objRequestÈÈ¢
 ¬

.ÈÈ¬
 ­
&
BeneficioMaximoInicialÈÈ­
 Ã

)ÈÈÃ
 Ä

,ÈÈÄ
 Å

newÈÈÆ
 É

JsonÈÈÊ
 Î

.ÈÈÎ
 Ï


ParametersÈÈÏ
 Ù

(ÈÈÙ
 Ú

$strÈÈÚ
 ï

,ÈÈï
 ğ


objRequestÈÈñ
 û

.ÈÈû
 ü
#
CodigoTipoCoberturaÈÈü
 
)ÈÈ 
,ÈÈ ‘
newÈÈ’ •
JsonÈÈ– š
.ÈÈš ›

ParametersÈÈ› ¥
(ÈÈ¥ ¦
$strÈÈ¦ ¾
,ÈÈ¾ ¿

objRequestÈÈÀ Ê
.ÈÈÊ Ë&
CodigoSubTipoCoberturaÈÈË á
)ÈÈá â
,ÈÈâ ã
newÈÈä ç
JsonÈÈè ì
.ÈÈì í

ParametersÈÈí ÷
(ÈÈ÷ ø
$strÈÈø ‰
,ÈÈ‰ Š

objRequestÈÈ‹ •
.ÈÈ• –
CodEspecialidadÈÈ– ¥
)ÈÈ¥ ¦
)ÈÈ¦ §
;ÈÈ§ ¨
return
ÉÉ 

stringJson
ÉÉ 
;
ÉÉ 
}
ÊÊ 	
public
ÌÌ 
static
ÌÌ 
string
ÌÌ #
CasoExcepcionCarencia
ÌÌ 2
(
ÌÌ2 3
string
ÌÌ3 9
Url
ÌÌ: =
,
ÌÌ= >*
CasoExcepcionCarenciaRequest
ÌÌ? [

objRequest
ÌÌ\ f
)
ÌÌf g
{
ÍÍ 	
string
ÎÎ 

stringJson
ÎÎ 
=
ÎÎ 
Json
ÎÎ  $
.
ÎÎ$ %

MethodPost
ÎÎ% /
(
ÎÎ/ 0
Url
ÎÎ0 3
+
ÎÎ4 5
$str
ÎÎ6 X
,
ÎÎX Y
new
ÎÎZ ]
Json
ÎÎ^ b
.
ÎÎb c

Parameters
ÎÎc m
(
ÎÎm n
$str
ÎÎn v
,
ÎÎv w

objRequestÎÎx ‚
.ÎÎ‚ ƒ
SUNASAÎÎƒ ‰
)ÎÎ‰ Š
,ÎÎŠ ‹
newÎÎŒ 
JsonÎÎ ”
.ÎÎ” •

ParametersÎÎ• Ÿ
(ÎÎŸ  
$strÎÎ  §
,ÎÎ§ ¨

objRequestÎÎ© ³
.ÎÎ³ ´
IAFASÎÎ´ ¹
)ÎÎ¹ º
,ÎÎº »
newÎÎ¼ ¿
JsonÎÎÀ Ä
.ÎÎÄ Å

ParametersÎÎÅ Ï
(ÎÎÏ Ğ
$strÎÎĞ Õ
,ÎÎÕ Ö

objRequestÎÎ× á
.ÎÎá â
RUCÎÎâ å
)ÎÎå æ
,ÎÎæ ç
newÎÎè ë
JsonÎÎì ğ
.ÎÎğ ñ

ParametersÎÎñ û
(ÎÎû ü
$strÎÎü 
,ÎÎ 

objRequestÎÎ ™
.ÎÎ™ š
NombresAfiliadoÎÎš ©
)ÎÎ© ª
,ÎÎª «
newÎÎ¬ ¯
JsonÎÎ° ´
.ÎÎ´ µ

ParametersÎÎµ ¿
(ÎÎ¿ À
$strÎÎÀ Ù
,ÎÎÙ Ú

objRequestÎÎÛ å
.ÎÎå æ'
ApellidoPaternoAfiliadoÎÎæ ı
)ÎÎı ş
,ÎÎş ÿ
newÎÎ€ ƒ
JsonÎÎ„ ˆ
.ÎÎˆ ‰

ParametersÎÎ‰ “
(ÎÎ“ ”
$strÎÎ” ­
,ÎÎ­ ®

objRequestÎÎ¯ ¹
.ÎÎ¹ º'
ApellidoMaternoAfiliadoÎÎº Ñ
)ÎÎÑ Ò
,ÎÎÒ Ó
newÎÎÔ ×
JsonÎÎØ Ü
.ÎÎÜ İ

ParametersÎÎİ ç
(ÎÎç è
$strÎÎè ø
,ÎÎø ù

objRequestÎÎú „
.ÎÎ„ …
CodigoAfiliadoÎÎ… “
)ÎÎ“ ”
,ÎÎ” •
newÎÎ– ™
JsonÎÎš 
.ÎÎ Ÿ

ParametersÎÎŸ ©
(ÎÎ© ª
$strÎÎª Ä
,ÎÎÄ Å

objRequestÎÎÆ Ğ
.ÎÎĞ Ñ(
CodTipoDocumentoAfiliadoÎÎÑ é
)ÎÎé ê
,ÎÎê ë
newÎÎì ï
JsonÎÎğ ô
.ÎÎô õ

ParametersÎÎõ ÿ
(ÎÎÿ €
$strÎÎ€ ™
,ÎÎ™ š

objRequestÎÎ› ¥
.ÎÎ¥ ¦'
NumeroDocumentoAfiliadoÎÎ¦ ½
)ÎÎ½ ¾
,ÎÎ¾ ¿
newÎÎÀ Ã
JsonÎÎÄ È
.ÎÎÈ É

ParametersÎÎÉ Ó
(ÎÎÓ Ô
$strÎÎÔ á
,ÎÎá â

objRequestÎÎã í
.ÎÎí î
CodProductoÎÎî ù
)ÎÎù ú
,ÎÎú û
newÎÎü ÿ
JsonÎÎ€ „
.ÎÎ„ …

ParametersÎÎ… 
(ÎÎ 
$strÎÎ 
,ÎÎ 

objRequestÎÎŸ ©
.ÎÎ© ª
DesProductoÎÎª µ
)ÎÎµ ¶
,ÎÎ¶ ·
newÎÎ¸ »
JsonÎÎ¼ À
.ÎÎÀ Á

ParametersÎÎÁ Ë
(ÎÎË Ì
$strÎÎÌ Ø
,ÎÎØ Ù

objRequestÎÎÚ ä
.ÎÎä å

NumeroPlanÎÎå ï
)ÎÎï ğ
,ÎÎğ ñ
newÎÎò õ
JsonÎÎö ú
.ÎÎú û

ParametersÎÎû …
(ÎÎ… †
$strÎÎ† £
,ÎÎ£ ¤

objRequestÎÎ¥ ¯
.ÎÎ¯ °+
CodTipoDocumentoContratanteÎÎ° Ë
)ÎÎË Ì
,ÎÎÌ Í
newÎÎÎ Ñ
JsonÎÎÒ Ö
.ÎÎÖ ×

ParametersÎÎ× á
(ÎÎá â
$strÎÎâ ş
,ÎÎş ÿ

objRequestÎÎ€ Š
.ÎÎŠ ‹*
NumeroDocumentoContratanteÎÎ‹ ¥
)ÎÎ¥ ¦
,ÎÎ¦ §
newÎÎ¨ «
JsonÎÎ¬ °
.ÎÎ° ±

ParametersÎÎ± »
(ÎÎ» ¼
$strÎÎ¼ Ï
,ÎÎÏ Ğ

objRequestÎÎÑ Û
.ÎÎÛ Ü!
NombreContratanteÎÎÜ í
)ÎÎí î
,ÎÎî ï
newÎÎğ ó
JsonÎÎô ø
.ÎÎø ù

ParametersÎÎù ƒ	
(ÎÎƒ	 „	
$strÎÎ„	 “	
,ÎÎ“	 ”	

objRequestÎÎ•	 Ÿ	
.ÎÎŸ	  	
CodParentescoÎÎ 	 ­	
)ÎÎ­	 ®	
,ÎÎ®	 ¯	
newÎÎ°	 ³	
JsonÎÎ´	 ¸	
.ÎÎ¸	 ¹	

ParametersÎÎ¹	 Ã	
(ÎÎÃ	 Ä	
$strÎÎÄ	 Õ	
,ÎÎÕ	 Ö	

objRequestÎÎ×	 á	
.ÎÎá	 â	
NumeroCoberturaÎÎâ	 ñ	
)ÎÎñ	 ò	
,ÎÎò	 ó	
newÎÎô	 ÷	
JsonÎÎø	 ü	
.ÎÎü	 ı	

ParametersÎÎı	 ‡

(ÎÎ‡
 ˆ

$strÎÎˆ
  

,ÎÎ 
 ¡


objRequestÎÎ¢
 ¬

.ÎÎ¬
 ­
&
BeneficioMaximoInicialÎÎ­
 Ã

)ÎÎÃ
 Ä

,ÎÎÄ
 Å

newÎÎÆ
 É

JsonÎÎÊ
 Î

.ÎÎÎ
 Ï


ParametersÎÎÏ
 Ù

(ÎÎÙ
 Ú

$strÎÎÚ
 ï

,ÎÎï
 ğ


objRequestÎÎñ
 û

.ÎÎû
 ü
#
CodigoTipoCoberturaÎÎü
 
)ÎÎ 
,ÎÎ ‘
newÎÎ’ •
JsonÎÎ– š
.ÎÎš ›

ParametersÎÎ› ¥
(ÎÎ¥ ¦
$strÎÎ¦ ¾
,ÎÎ¾ ¿

objRequestÎÎÀ Ê
.ÎÎÊ Ë&
CodigoSubTipoCoberturaÎÎË á
)ÎÎá â
,ÎÎâ ã
newÎÎä ç
JsonÎÎè ì
.ÎÎì í

ParametersÎÎí ÷
(ÎÎ÷ ø
$strÎÎø ‰
,ÎÎ‰ Š

objRequestÎÎ‹ •
.ÎÎ• –
CodEspecialidadÎÎ– ¥
)ÎÎ¥ ¦
)ÎÎ¦ §
;ÎÎ§ ¨
return
ÏÏ 

stringJson
ÏÏ 
;
ÏÏ 
}
ĞĞ 	
public
ÔÔ 
AsegCodRequest
ÔÔ 
	fnAsegCod
ÔÔ '
(
ÔÔ' (
AsegNombResponse
ÔÔ( 8
	pAsegNomb
ÔÔ9 B
)
ÔÔB C
{
ÕÕ 	
AsegCodRequest
ÖÖ 
xAsegCodRequest
ÖÖ *
=
ÖÖ+ ,
new
ÖÖ- 0
AsegCodRequest
ÖÖ1 ?
(
ÖÖ? @
xSunasa
ÖÖ@ G
,
ÖÖG H
xIAFAS
ÖÖI O
,
ÖÖO P
xRuc
ÖÖQ U
)
ÖÖU V
;
ÖÖV W
xAsegCodRequest
ØØ 
.
ØØ 
NombresAfiliado
ØØ +
=
ØØ, -
	pAsegNomb
ØØ. 7
.
ØØ7 8
NombresAfiliado
ØØ8 G
;
ØØG H
xAsegCodRequest
ÙÙ 
.
ÙÙ %
ApellidoPaternoAfiliado
ÙÙ 3
=
ÙÙ4 5
	pAsegNomb
ÙÙ6 ?
.
ÙÙ? @%
ApellidoPaternoAfiliado
ÙÙ@ W
;
ÙÙW X
xAsegCodRequest
ÚÚ 
.
ÚÚ %
ApellidoMaternoAfiliado
ÚÚ 3
=
ÚÚ4 5
	pAsegNomb
ÚÚ6 ?
.
ÚÚ? @%
ApellidoMaternoAfiliado
ÚÚ@ W
;
ÚÚW X
xAsegCodRequest
ÛÛ 
.
ÛÛ 
CodigoAfiliado
ÛÛ *
=
ÛÛ+ ,
	pAsegNomb
ÛÛ- 6
.
ÛÛ6 7
CodigoAfiliado
ÛÛ7 E
;
ÛÛE F
xAsegCodRequest
ÜÜ 
.
ÜÜ &
CodTipoDocumentoAfiliado
ÜÜ 4
=
ÜÜ5 6
	pAsegNomb
ÜÜ7 @
.
ÜÜ@ A&
CodTipoDocumentoAfiliado
ÜÜA Y
;
ÜÜY Z
xAsegCodRequest
İİ 
.
İİ %
NumeroDocumentoAfiliado
İİ 3
=
İİ4 5
	pAsegNomb
İİ6 ?
.
İİ? @%
NumeroDocumentoAfiliado
İİ@ W
;
İİW X
xAsegCodRequest
ŞŞ 
.
ŞŞ 
CodProducto
ŞŞ '
=
ŞŞ( )
	pAsegNomb
ŞŞ* 3
.
ŞŞ3 4
CodProducto
ŞŞ4 ?
;
ŞŞ? @
xAsegCodRequest
ßß 
.
ßß 
DesProducto
ßß '
=
ßß( )
	pAsegNomb
ßß* 3
.
ßß3 4
DesProducto
ßß4 ?
;
ßß? @
xAsegCodRequest
àà 
.
àà 

NumeroPlan
àà &
=
àà' (
	pAsegNomb
àà) 2
.
àà2 3

NumeroPlan
àà3 =
;
àà= >
xAsegCodRequest
áá 
.
áá )
CodTipoDocumentoContratante
áá 7
=
áá8 9
	pAsegNomb
áá: C
.
ááC D)
CodTipoDocumentoContratante
ááD _
;
áá_ `
xAsegCodRequest
ââ 
.
ââ (
NumeroDocumentoContratante
ââ 6
=
ââ7 8
	pAsegNomb
ââ9 B
.
ââB C(
NumeroDocumentoContratante
ââC ]
;
ââ] ^
xAsegCodRequest
ãã 
.
ãã 
NombreContratante
ãã -
=
ãã. /
	pAsegNomb
ãã0 9
.
ãã9 :
NombreContratante
ãã: K
;
ããK L
xAsegCodRequest
ää 
.
ää 
CodParentesco
ää )
=
ää* +
	pAsegNomb
ää, 5
.
ää5 6
CodParentesco
ää6 C
;
ääC D
xAsegCodRequest
åå 
.
åå (
TipoCalificadorContratante
åå 6
=
åå7 8
	pAsegNomb
åå9 B
.
ååB C(
TipoCalificadorContratante
ååC ]
;
åå] ^
xAsegCodRequest
ææ 
.
ææ 
CodEspecialidad
ææ +
=
ææ, -
$str
ææ. 0
;
ææ0 1
return
èè 
xAsegCodRequest
èè "
;
èè" #
}
éé 	
public
ëë '
NumeroAutorizacionRequest
ëë ("
fnNumeroAutorizacion
ëë) =
(
ëë= >!
Coberturas_AsegCode
ëë> Q
oCoberturas
ëëR ]
,
ëë] ^
AsegCodResponse
ëë_ n
oAsegCodResponse
ëëo 
)ëë €
{
ìì 	'
NumeroAutorizacionRequest
íí %%
xNumAutorizacionRequest
íí& =
=
íí> ?
new
íí@ C'
NumeroAutorizacionRequest
ííD ]
(
íí] ^
xSunasa
íí^ e
,
ííe f
xIAFAS
ííg m
,
íím n
xRuc
íío s
)
íís t
;
íít u
{
îî 
var
ïï 
	withBlock
ïï 
=
ïï %
xNumAutorizacionRequest
ïï  7
;
ïï7 8
	withBlock
ğğ 
.
ğğ $
BeneficioMaximoInicial
ğğ 0
=
ğğ1 2
oCoberturas
ğğ3 >
.
ğğ> ?$
BeneficioMaximoInicial
ğğ? U
;
ğğU V
	withBlock
ññ 
.
ññ %
CodCalificacionServicio
ññ 1
=
ññ2 3
oCoberturas
ññ4 ?
.
ññ? @%
CodCalificacionServicio
ññ@ W
;
ññW X
	withBlock
òò 
.
òò 
CodCopagoFijo
òò '
=
òò( )
oCoberturas
òò* 5
.
òò5 6
CodCopagoFijo
òò6 C
;
òòC D
	withBlock
óó 
.
óó 
CodCopagoVariable
óó +
=
óó, -
oCoberturas
óó. 9
.
óó9 :
CodCopagoVariable
óó: K
;
óóK L
	withBlock
ôô 
.
ôô !
CodSubTipoCobertura
ôô -
=
ôô. /
oCoberturas
ôô0 ;
.
ôô; <$
CodigoSubTipoCobertura
ôô< R
;
ôôR S
	withBlock
õõ 
.
õõ 
CodTipoCobertura
õõ *
=
õõ+ ,
oCoberturas
õõ- 8
.
õõ8 9!
CodigoTipoCobertura
õõ9 L
;
õõL M
	withBlock
öö 
.
öö !
CodFechaFinCarencia
öö -
=
öö. /
oCoberturas
öö0 ;
.
öö; <!
CodFechaFinCarencia
öö< O
;
ööO P
	withBlock
÷÷ 
.
÷÷ #
CondicionesEspeciales
÷÷ /
=
÷÷0 1
oCoberturas
÷÷2 =
.
÷÷= >#
CondicionesEspeciales
÷÷> S
;
÷÷S T
	withBlock
øø 
.
øø %
CodIndicadorRestriccion
øø 1
=
øø2 3
oCoberturas
øø4 ?
.
øø? @%
CodIndicadorRestriccion
øø@ W
;
øøW X
	withBlock
úú 
.
úú %
ApellidoMaternoAfiliado
úú 1
=
úú2 3
oAsegCodResponse
úú4 D
.
úúD E
DatosAfiliado
úúE R
.
úúR S%
ApellidoMaternoAfiliado
úúS j
;
úúj k
	withBlock
ûû 
.
ûû %
ApellidoPaternoAfiliado
ûû 1
=
ûû2 3
oAsegCodResponse
ûû4 D
.
ûûD E
DatosAfiliado
ûûE R
.
ûûR S%
ApellidoPaternoAfiliado
ûûS j
;
ûûj k
	withBlock
üü 
.
üü 
CodigoAfiliado
üü (
=
üü) *
oAsegCodResponse
üü+ ;
.
üü; <
DatosAfiliado
üü< I
.
üüI J
CodigoAfiliado
üüJ X
;
üüX Y
	withBlock
ıı 
.
ıı 
CodigoTitular
ıı '
=
ıı( )
oAsegCodResponse
ıı* :
.
ıı: ;
DatosAfiliado
ıı; H
.
ııH I
CodigoTitular
ııI V
;
ııV W
	withBlock
şş 
.
şş 
	CodEstado
şş #
=
şş$ %
oAsegCodResponse
şş& 6
.
şş6 7
DatosAfiliado
şş7 D
.
şşD E
	CodEstado
şşE N
;
şşN O
	withBlock
ÿÿ 
.
ÿÿ 
CodEspecialidad
ÿÿ )
=
ÿÿ* +
$str
ÿÿ, .
;
ÿÿ. /
	withBlock
€€ 
.
€€ 
	CodMoneda
€€ #
=
€€$ %
oAsegCodResponse
€€& 6
.
€€6 7
DatosAfiliado
€€7 D
.
€€D E
	CodMoneda
€€E N
;
€€N O
	withBlock
 
.
 
CodParentesco
 '
=
( )
oAsegCodResponse
* :
.
: ;
DatosAfiliado
; H
.
H I
CodParentesco
I V
;
V W
	withBlock
‚‚ 
.
‚‚ 
CodProducto
‚‚ %
=
‚‚& '
oAsegCodResponse
‚‚( 8
.
‚‚8 9
DatosAfiliado
‚‚9 F
.
‚‚F G
CodProducto
‚‚G R
;
‚‚R S
	withBlock
ƒƒ 
.
ƒƒ (
NumeroDocumentoContratante
ƒƒ 4
=
ƒƒ5 6
oAsegCodResponse
ƒƒ7 G
.
ƒƒG H
DatosAfiliado
ƒƒH U
.
ƒƒU V(
NumeroDocumentoContratante
ƒƒV p
;
ƒƒp q
	withBlock
„„ 
.
„„ 
CodTipoAfiliacion
„„ +
=
„„, -
oAsegCodResponse
„„. >
.
„„> ?
DatosAfiliado
„„? L
.
„„L M
CodTipoAfiliacion
„„M ^
;
„„^ _
	withBlock
…… 
.
…… 
DesProducto
…… %
=
……& '
oAsegCodResponse
……( 8
.
……8 9
DatosAfiliado
……9 F
.
……F G
DesProducto
……G R
;
……R S
	withBlock
†† 
.
†† 
CodEstadoMarital
†† *
=
††+ ,
oAsegCodResponse
††- =
.
††= >
DatosAfiliado
††> K
.
††K L
CodEstadoCivil
††L Z
;
††Z [
	withBlock
‡‡ 
.
‡‡  
CodFechaAfiliacion
‡‡ ,
=
‡‡- .
oAsegCodResponse
‡‡/ ?
.
‡‡? @
DatosAfiliado
‡‡@ M
.
‡‡M N 
CodFechaAfiliacion
‡‡N `
;
‡‡` a
	withBlock
ˆˆ 
.
ˆˆ $
CodFechaInicioVigencia
ˆˆ 0
=
ˆˆ1 2
oAsegCodResponse
ˆˆ3 C
.
ˆˆC D
DatosAfiliado
ˆˆD Q
.
ˆˆQ R$
CodFechaInicioVigencia
ˆˆR h
;
ˆˆh i
	withBlock
‰‰ 
.
‰‰  
CodFechaNacimiento
‰‰ ,
=
‰‰- .
oAsegCodResponse
‰‰/ ?
.
‰‰? @
DatosAfiliado
‰‰@ M
.
‰‰M N 
CodFechaNacimiento
‰‰N `
;
‰‰` a
	withBlock
ŠŠ 
.
ŠŠ 
	CodGenero
ŠŠ #
=
ŠŠ$ %
oAsegCodResponse
ŠŠ& 6
.
ŠŠ6 7
DatosAfiliado
ŠŠ7 D
.
ŠŠD E
	CodGenero
ŠŠE N
;
ŠŠN O
	withBlock
‹‹ 
.
‹‹ $
ApellidoMaternoTitular
‹‹ 0
=
‹‹1 2
oAsegCodResponse
‹‹3 C
.
‹‹C D
DatosAfiliado
‹‹D Q
.
‹‹Q R$
ApellidoMaternoTitular
‹‹R h
;
‹‹h i
	withBlock
ŒŒ 
.
ŒŒ 
NombreContratante
ŒŒ +
=
ŒŒ, -
oAsegCodResponse
ŒŒ. >
.
ŒŒ> ?
DatosAfiliado
ŒŒ? L
.
ŒŒL M
NombreContratante
ŒŒM ^
;
ŒŒ^ _
	withBlock
 
.
 $
ApellidoPaternoTitular
 0
=
1 2
oAsegCodResponse
3 C
.
C D
DatosAfiliado
D Q
.
Q R$
ApellidoPaternoTitular
R h
;
h i
	withBlock
 
.
 
NombresAfiliado
 )
=
* +
oAsegCodResponse
, <
.
< =
DatosAfiliado
= J
.
J K
NombresAfiliado
K Z
;
Z [
	withBlock
 
.
 
NombresTitular
 (
=
) *
oAsegCodResponse
+ ;
.
; <
DatosAfiliado
< I
.
I J
NombresTitular
J X
;
X Y
	withBlock
 
.
 
NumeroCertificado
 +
=
, -
oAsegCodResponse
. >
.
> ?
DatosAfiliado
? L
.
L M
NumeroCertificado
M ^
;
^ _
	withBlock
‘‘ 
.
‘‘ 
NumeroContrato
‘‘ (
=
‘‘) *
oAsegCodResponse
‘‘+ ;
.
‘‘; <
DatosAfiliado
‘‘< I
.
‘‘I J
NumeroContrato
‘‘J X
;
‘‘X Y
	withBlock
’’ 
.
’’ %
NumeroDocumentoAfiliado
’’ 1
=
’’2 3
oAsegCodResponse
’’4 D
.
’’D E
DatosAfiliado
’’E R
.
’’R S%
NumeroDocumentoAfiliado
’’S j
;
’’j k
	withBlock
““ 
.
““ $
NumeroDocumentoTitular
““ 0
=
““1 2
oAsegCodResponse
““3 C
.
““C D
DatosAfiliado
““D Q
.
““Q R$
NumeroDocumentoTitular
““R h
;
““h i
	withBlock
”” 
.
”” 

NumeroPlan
”” $
=
””% &
oAsegCodResponse
””' 7
.
””7 8
DatosAfiliado
””8 E
.
””E F

NumeroPlan
””F P
;
””P Q
	withBlock
•• 
.
•• 
NumeroPoliza
•• &
=
••' (
oAsegCodResponse
••) 9
.
••9 :
DatosAfiliado
••: G
.
••G H
NumeroPoliza
••H T
;
••T U
	withBlock
–– 
.
–– )
CodTipoDocumentoContratante
–– 5
=
––6 7
oAsegCodResponse
––8 H
.
––H I
DatosAfiliado
––I V
.
––V W)
CodTipoDocumentoContratante
––W r
;
––r s
	withBlock
—— 
.
—— &
CodTipoDocumentoAfiliado
—— 2
=
——3 4
oAsegCodResponse
——5 E
.
——E F
DatosAfiliado
——F S
.
——S T&
CodTipoDocumentoAfiliado
——T l
;
——l m
	withBlock
˜˜ 
.
˜˜ %
CodTipoDocumentoTitular
˜˜ 1
=
˜˜2 3
oAsegCodResponse
˜˜4 D
.
˜˜D E
DatosAfiliado
˜˜E R
.
˜˜R S%
CodTipoDocumentoTitular
˜˜S j
;
˜˜j k
	withBlock
™™ 
.
™™ 
CodTipoPlan
™™ %
=
™™& '
oAsegCodResponse
™™( 8
.
™™8 9
DatosAfiliado
™™9 F
.
™™F G
CodTipoPlan
™™G R
;
™™R S
	withBlock
šš 
.
šš '
CodFechaActualizacionFoto
šš 3
=
šš4 5
oAsegCodResponse
šš6 F
.
ššF G
DatosAfiliado
ššG T
.
ššT U'
CodFechaActualizacionFoto
ššU n
;
ššn o
	withBlock
œœ 
.
œœ 
CodTipoMoneda
œœ '
=
œœ( )
oCoberturas
œœ* 5
.
œœ5 6
CodTipoMoneda
œœ6 C
;
œœC D
}
 
return
ŸŸ %
xNumAutorizacionRequest
ŸŸ *
;
ŸŸ* +
}
   	
public
¢¢  
ObservacionRequest
¢¢ !"
fnObservacionRequest
¢¢" 6
(
¢¢6 7'
NumeroAutorizacionRequest
¢¢7 P%
pNumAutorizacionRequest
¢¢Q h
,
¢¢h i
AsegCodRequest
¢¢j x
pAsegCodRequest¢¢y ˆ
)¢¢ˆ ‰
{
££ 	 
ObservacionRequest
¤¤ !
xObservacionRequest
¤¤ 2
=
¤¤3 4
new
¤¤5 8 
ObservacionRequest
¤¤9 K
(
¤¤K L
xSunasa
¤¤L S
,
¤¤S T
xIAFAS
¤¤U [
,
¤¤[ \
xRuc
¤¤] a
)
¤¤a b
;
¤¤b c
{
¥¥ 
var
¦¦ 
	withBlock
¦¦ 
=
¦¦ !
xObservacionRequest
¦¦  3
;
¦¦3 4
	withBlock
§§ 
.
§§ 
NombresAfiliado
§§ )
=
§§* +%
pNumAutorizacionRequest
§§, C
.
§§C D
NombresAfiliado
§§D S
;
§§S T
	withBlock
¨¨ 
.
¨¨ %
ApellidoPaternoAfiliado
¨¨ 1
=
¨¨2 3%
pNumAutorizacionRequest
¨¨4 K
.
¨¨K L%
ApellidoPaternoAfiliado
¨¨L c
;
¨¨c d
	withBlock
©© 
.
©© %
ApellidoMaternoAfiliado
©© 1
=
©©2 3%
pNumAutorizacionRequest
©©4 K
.
©©K L%
ApellidoMaternoAfiliado
©©L c
;
©©c d
	withBlock
ªª 
.
ªª 
CodigoAfiliado
ªª (
=
ªª) *%
pNumAutorizacionRequest
ªª+ B
.
ªªB C
CodigoAfiliado
ªªC Q
;
ªªQ R
	withBlock
«« 
.
«« &
CodTipoDocumentoAfiliado
«« 2
=
««3 4%
pNumAutorizacionRequest
««5 L
.
««L M&
CodTipoDocumentoAfiliado
««M e
;
««e f
	withBlock
¬¬ 
.
¬¬ %
NumeroDocumentoAfiliado
¬¬ 1
=
¬¬2 3%
pNumAutorizacionRequest
¬¬4 K
.
¬¬K L%
NumeroDocumentoAfiliado
¬¬L c
;
¬¬c d
	withBlock
­­ 
.
­­ 
CodProducto
­­ %
=
­­& '%
pNumAutorizacionRequest
­­( ?
.
­­? @
CodProducto
­­@ K
;
­­K L
	withBlock
®® 
.
®® 
DesProducto
®® %
=
®®& '%
pNumAutorizacionRequest
®®( ?
.
®®? @
DesProducto
®®@ K
;
®®K L
	withBlock
¯¯ 
.
¯¯ 

NumeroPlan
¯¯ $
=
¯¯% &%
pNumAutorizacionRequest
¯¯' >
.
¯¯> ?

NumeroPlan
¯¯? I
;
¯¯I J
	withBlock
°° 
.
°° )
CodTipoDocumentoContratante
°° 5
=
°°6 7%
pNumAutorizacionRequest
°°8 O
.
°°O P)
CodTipoDocumentoContratante
°°P k
;
°°k l
	withBlock
±± 
.
±± (
NumeroDocumentoContratante
±± 4
=
±±5 6%
pNumAutorizacionRequest
±±7 N
.
±±N O(
NumeroDocumentoContratante
±±O i
;
±±i j
	withBlock
²² 
.
²² 
NombreContratante
²² +
=
²², -%
pNumAutorizacionRequest
²². E
.
²²E F
NombreContratante
²²F W
;
²²W X
	withBlock
³³ 
.
³³ 
CodParentesco
³³ '
=
³³( )%
pNumAutorizacionRequest
³³* A
.
³³A B
CodParentesco
³³B O
;
³³O P
	withBlock
´´ 
.
´´ (
TipoCalificadorContratante
´´ 4
=
´´5 6
pAsegCodRequest
´´7 F
.
´´F G(
TipoCalificadorContratante
´´G a
;
´´a b
	withBlock
µµ 
.
µµ 
CodEspecialidad
µµ )
=
µµ* +
pAsegCodRequest
µµ, ;
.
µµ; <
CodEspecialidad
µµ< K
;
µµK L
}
¶¶ 
return
·· !
xObservacionRequest
·· &
;
··& '
}
¸¸ 	
public
ºº %
DatosAdicionalesRequest
ºº &'
fnDatosAdicionalesRequest
ºº' @
(
ºº@ A'
NumeroAutorizacionRequest
ººA Z%
pNumAutorizacionRequest
ºº[ r
,
ººr s
AsegCodRequestººt ‚
pAsegCodRequestººƒ ’
)ºº’ “
{
»» 	%
DatosAdicionalesRequest
¼¼ #&
xDatosAdicionalesRequest
¼¼$ <
=
¼¼= >
new
¼¼? B%
DatosAdicionalesRequest
¼¼C Z
(
¼¼Z [
xSunasa
¼¼[ b
,
¼¼b c
xIAFAS
¼¼d j
,
¼¼j k
xRuc
¼¼l p
)
¼¼p q
;
¼¼q r
{
½½ 
var
¾¾ 
	withBlock
¾¾ 
=
¾¾ &
xDatosAdicionalesRequest
¾¾  8
;
¾¾8 9
	withBlock
¿¿ 
.
¿¿ 
NombresAfiliado
¿¿ )
=
¿¿* +%
pNumAutorizacionRequest
¿¿, C
.
¿¿C D
NombresAfiliado
¿¿D S
;
¿¿S T
	withBlock
ÀÀ 
.
ÀÀ %
ApellidoPaternoAfiliado
ÀÀ 1
=
ÀÀ2 3%
pNumAutorizacionRequest
ÀÀ4 K
.
ÀÀK L%
ApellidoPaternoAfiliado
ÀÀL c
;
ÀÀc d
	withBlock
ÁÁ 
.
ÁÁ %
ApellidoMaternoAfiliado
ÁÁ 1
=
ÁÁ2 3%
pNumAutorizacionRequest
ÁÁ4 K
.
ÁÁK L%
ApellidoMaternoAfiliado
ÁÁL c
;
ÁÁc d
	withBlock
ÂÂ 
.
ÂÂ 
CodigoAfiliado
ÂÂ (
=
ÂÂ) *%
pNumAutorizacionRequest
ÂÂ+ B
.
ÂÂB C
CodigoAfiliado
ÂÂC Q
;
ÂÂQ R
	withBlock
ÃÃ 
.
ÃÃ &
CodTipoDocumentoAfiliado
ÃÃ 2
=
ÃÃ3 4%
pNumAutorizacionRequest
ÃÃ5 L
.
ÃÃL M&
CodTipoDocumentoAfiliado
ÃÃM e
;
ÃÃe f
	withBlock
ÄÄ 
.
ÄÄ %
NumeroDocumentoAfiliado
ÄÄ 1
=
ÄÄ2 3%
pNumAutorizacionRequest
ÄÄ4 K
.
ÄÄK L%
NumeroDocumentoAfiliado
ÄÄL c
;
ÄÄc d
	withBlock
ÅÅ 
.
ÅÅ 
CodProducto
ÅÅ %
=
ÅÅ& '%
pNumAutorizacionRequest
ÅÅ( ?
.
ÅÅ? @
CodProducto
ÅÅ@ K
;
ÅÅK L
	withBlock
ÆÆ 
.
ÆÆ 
DesProducto
ÆÆ %
=
ÆÆ& '%
pNumAutorizacionRequest
ÆÆ( ?
.
ÆÆ? @
DesProducto
ÆÆ@ K
;
ÆÆK L
	withBlock
ÇÇ 
.
ÇÇ 

NumeroPlan
ÇÇ $
=
ÇÇ% &%
pNumAutorizacionRequest
ÇÇ' >
.
ÇÇ> ?

NumeroPlan
ÇÇ? I
;
ÇÇI J
	withBlock
ÈÈ 
.
ÈÈ )
CodTipoDocumentoContratante
ÈÈ 5
=
ÈÈ6 7%
pNumAutorizacionRequest
ÈÈ8 O
.
ÈÈO P)
CodTipoDocumentoContratante
ÈÈP k
;
ÈÈk l
	withBlock
ÉÉ 
.
ÉÉ (
NumeroDocumentoContratante
ÉÉ 4
=
ÉÉ5 6%
pNumAutorizacionRequest
ÉÉ7 N
.
ÉÉN O(
NumeroDocumentoContratante
ÉÉO i
;
ÉÉi j
	withBlock
ÊÊ 
.
ÊÊ 
NombreContratante
ÊÊ +
=
ÊÊ, -%
pNumAutorizacionRequest
ÊÊ. E
.
ÊÊE F
NombreContratante
ÊÊF W
;
ÊÊW X
	withBlock
ËË 
.
ËË 
CodParentesco
ËË '
=
ËË( )%
pNumAutorizacionRequest
ËË* A
.
ËËA B
CodParentesco
ËËB O
;
ËËO P
	withBlock
ÌÌ 
.
ÌÌ (
TipoCalificadorContratante
ÌÌ 4
=
ÌÌ5 6
pAsegCodRequest
ÌÌ7 F
.
ÌÌF G(
TipoCalificadorContratante
ÌÌG a
;
ÌÌa b
	withBlock
ÍÍ 
.
ÍÍ 
CodEspecialidad
ÍÍ )
=
ÍÍ* +
pAsegCodRequest
ÍÍ, ;
.
ÍÍ; <
CodEspecialidad
ÍÍ< K
;
ÍÍK L
}
ÎÎ 
return
ĞĞ &
xDatosAdicionalesRequest
ĞĞ +
;
ĞĞ+ ,
}
ÑÑ 	
public
ÓÓ $
CondicionMedicaRequest
ÓÓ %&
fnCondicionMedicaRequest
ÓÓ& >
(
ÓÓ> ?'
NumeroAutorizacionRequest
ÓÓ? X%
pNumAutorizacionRequest
ÓÓY p
,
ÓÓp q
AsegCodRequestÓÓr €
pAsegCodRequestÓÓ 
)ÓÓ ‘
{
ÔÔ 	$
CondicionMedicaRequest
ÕÕ "%
xCondicionMedicaRequest
ÕÕ# :
=
ÕÕ; <
new
ÕÕ= @$
CondicionMedicaRequest
ÕÕA W
(
ÕÕW X
xSunasa
ÕÕX _
,
ÕÕ_ `
xIAFAS
ÕÕa g
,
ÕÕg h
xRuc
ÕÕi m
)
ÕÕm n
;
ÕÕn o
{
ÖÖ 
var
×× 
	withBlock
×× 
=
×× %
xCondicionMedicaRequest
××  7
;
××7 8
	withBlock
ØØ 
.
ØØ 
NombresAfiliado
ØØ )
=
ØØ* +%
pNumAutorizacionRequest
ØØ, C
.
ØØC D
NombresAfiliado
ØØD S
;
ØØS T
	withBlock
ÙÙ 
.
ÙÙ %
ApellidoPaternoAfiliado
ÙÙ 1
=
ÙÙ2 3%
pNumAutorizacionRequest
ÙÙ4 K
.
ÙÙK L%
ApellidoPaternoAfiliado
ÙÙL c
;
ÙÙc d
	withBlock
ÚÚ 
.
ÚÚ %
ApellidoMaternoAfiliado
ÚÚ 1
=
ÚÚ2 3%
pNumAutorizacionRequest
ÚÚ4 K
.
ÚÚK L%
ApellidoMaternoAfiliado
ÚÚL c
;
ÚÚc d
	withBlock
ÛÛ 
.
ÛÛ 
CodigoAfiliado
ÛÛ (
=
ÛÛ) *%
pNumAutorizacionRequest
ÛÛ+ B
.
ÛÛB C
CodigoAfiliado
ÛÛC Q
;
ÛÛQ R
	withBlock
ÜÜ 
.
ÜÜ &
CodTipoDocumentoAfiliado
ÜÜ 2
=
ÜÜ3 4%
pNumAutorizacionRequest
ÜÜ5 L
.
ÜÜL M&
CodTipoDocumentoAfiliado
ÜÜM e
;
ÜÜe f
	withBlock
İİ 
.
İİ %
NumeroDocumentoAfiliado
İİ 1
=
İİ2 3%
pNumAutorizacionRequest
İİ4 K
.
İİK L%
NumeroDocumentoAfiliado
İİL c
;
İİc d
	withBlock
ŞŞ 
.
ŞŞ 
CodProducto
ŞŞ %
=
ŞŞ& '%
pNumAutorizacionRequest
ŞŞ( ?
.
ŞŞ? @
CodProducto
ŞŞ@ K
;
ŞŞK L
	withBlock
ßß 
.
ßß 
DesProducto
ßß %
=
ßß& '%
pNumAutorizacionRequest
ßß( ?
.
ßß? @
DesProducto
ßß@ K
;
ßßK L
	withBlock
àà 
.
àà 

NumeroPlan
àà $
=
àà% &%
pNumAutorizacionRequest
àà' >
.
àà> ?

NumeroPlan
àà? I
;
ààI J
	withBlock
áá 
.
áá )
CodTipoDocumentoContratante
áá 5
=
áá6 7%
pNumAutorizacionRequest
áá8 O
.
ááO P)
CodTipoDocumentoContratante
ááP k
;
áák l
	withBlock
ââ 
.
ââ (
NumeroDocumentoContratante
ââ 4
=
ââ5 6%
pNumAutorizacionRequest
ââ7 N
.
ââN O(
NumeroDocumentoContratante
ââO i
;
ââi j
	withBlock
ãã 
.
ãã 
NombreContratante
ãã +
=
ãã, -%
pNumAutorizacionRequest
ãã. E
.
ããE F
NombreContratante
ããF W
;
ããW X
	withBlock
ää 
.
ää 
CodParentesco
ää '
=
ää( )%
pNumAutorizacionRequest
ää* A
.
ääA B
CodParentesco
ääB O
;
ääO P
	withBlock
åå 
.
åå (
TipoCalificadorContratante
åå 4
=
åå5 6
pAsegCodRequest
åå7 F
.
ååF G(
TipoCalificadorContratante
ååG a
;
ååa b
	withBlock
ææ 
.
ææ 
CodEspecialidad
ææ )
=
ææ* +
pAsegCodRequest
ææ, ;
.
ææ; <
CodEspecialidad
ææ< K
;
ææK L
}
çç 
return
éé %
xCondicionMedicaRequest
éé *
;
éé* +
}
êê 	
public
ìì 
FotoRequest
ìì 
fnFotoRequest
ìì (
(
ìì( )'
NumeroAutorizacionRequest
ìì) B%
pNumAutorizacionRequest
ììC Z
)
ììZ [
{
íí 	
FotoRequest
îî 
xFotoRequest
îî $
=
îî% &
new
îî' *
FotoRequest
îî+ 6
(
îî6 7
)
îî7 8
;
îî8 9
{
ïï 
var
ğğ 
	withBlock
ğğ 
=
ğğ 
xFotoRequest
ğğ  ,
;
ğğ, -
	withBlock
ññ 
.
ññ '
CodFechaActualizacionFoto
ññ 3
=
ññ4 5%
pNumAutorizacionRequest
ññ6 M
.
ññM N'
CodFechaActualizacionFoto
ññN g
;
ññg h
	withBlock
òò 
.
òò 
CodigoAfiliado
òò (
=
òò) *%
pNumAutorizacionRequest
òò+ B
.
òòB C
CodigoAfiliado
òòC Q
;
òòQ R
	withBlock
óó 
.
óó 
IAFAS
óó 
=
óó  !%
pNumAutorizacionRequest
óó" 9
.
óó9 :
IAFAS
óó: ?
;
óó? @
}
ôô 
return
öö 
xFotoRequest
öö 
;
öö  
}
÷÷ 	
public
ùù %
CasoTiempoEsperaRequest
ùù &'
fnCasoTiempoEsperaRequest
ùù' @
(
ùù@ A'
NumeroAutorizacionRequest
ùùA Z%
pNumAutorizacionRequest
ùù[ r
,
ùùr s"
Coberturas_AsegCodeùùt ‡
pCoberturasùùˆ “
)ùù“ ”
{
úú 	%
CasoTiempoEsperaRequest
ûû #&
xCasoTiempoEsperaRequest
ûû$ <
=
ûû= >
new
ûû? B%
CasoTiempoEsperaRequest
ûûC Z
(
ûûZ [
xSunasa
ûû[ b
,
ûûb c
xIAFAS
ûûd j
,
ûûj k
xRuc
ûûl p
)
ûûp q
;
ûûq r
{
üü 
var
ıı 
	withBlock
ıı 
=
ıı &
xCasoTiempoEsperaRequest
ıı  8
;
ıı8 9
	withBlock
şş 
.
şş 
NombresAfiliado
şş )
=
şş* +%
pNumAutorizacionRequest
şş, C
.
şşC D
NombresAfiliado
şşD S
;
şşS T
	withBlock
ÿÿ 
.
ÿÿ %
ApellidoPaternoAfiliado
ÿÿ 1
=
ÿÿ2 3%
pNumAutorizacionRequest
ÿÿ4 K
.
ÿÿK L%
ApellidoPaternoAfiliado
ÿÿL c
;
ÿÿc d
	withBlock
€€ 
.
€€ %
ApellidoMaternoAfiliado
€€ 1
=
€€2 3%
pNumAutorizacionRequest
€€4 K
.
€€K L%
ApellidoMaternoAfiliado
€€L c
;
€€c d
	withBlock
 
.
 
CodigoAfiliado
 (
=
) *%
pNumAutorizacionRequest
+ B
.
B C
CodigoAfiliado
C Q
;
Q R
	withBlock
‚‚ 
.
‚‚ &
CodTipoDocumentoAfiliado
‚‚ 2
=
‚‚3 4%
pNumAutorizacionRequest
‚‚5 L
.
‚‚L M&
CodTipoDocumentoAfiliado
‚‚M e
;
‚‚e f
	withBlock
ƒƒ 
.
ƒƒ %
NumeroDocumentoAfiliado
ƒƒ 1
=
ƒƒ2 3%
pNumAutorizacionRequest
ƒƒ4 K
.
ƒƒK L%
NumeroDocumentoAfiliado
ƒƒL c
;
ƒƒc d
	withBlock
„„ 
.
„„ 
CodProducto
„„ %
=
„„& '%
pNumAutorizacionRequest
„„( ?
.
„„? @
CodProducto
„„@ K
;
„„K L
	withBlock
…… 
.
…… 
DesProducto
…… %
=
……& '%
pNumAutorizacionRequest
……( ?
.
……? @
DesProducto
……@ K
;
……K L
	withBlock
†† 
.
†† 

NumeroPlan
†† $
=
††% &%
pNumAutorizacionRequest
††' >
.
††> ?

NumeroPlan
††? I
;
††I J
	withBlock
‡‡ 
.
‡‡ )
CodTipoDocumentoContratante
‡‡ 5
=
‡‡6 7%
pNumAutorizacionRequest
‡‡8 O
.
‡‡O P)
CodTipoDocumentoContratante
‡‡P k
;
‡‡k l
	withBlock
ˆˆ 
.
ˆˆ (
NumeroDocumentoContratante
ˆˆ 4
=
ˆˆ5 6%
pNumAutorizacionRequest
ˆˆ7 N
.
ˆˆN O(
NumeroDocumentoContratante
ˆˆO i
;
ˆˆi j
	withBlock
‰‰ 
.
‰‰ 
NombreContratante
‰‰ +
=
‰‰, -%
pNumAutorizacionRequest
‰‰. E
.
‰‰E F
NombreContratante
‰‰F W
;
‰‰W X
	withBlock
ŠŠ 
.
ŠŠ 
CodParentesco
ŠŠ '
=
ŠŠ( )%
pNumAutorizacionRequest
ŠŠ* A
.
ŠŠA B
CodParentesco
ŠŠB O
;
ŠŠO P
	withBlock
‹‹ 
.
‹‹ 
NumeroCobertura
‹‹ )
=
‹‹* +
pCoberturas
‹‹, 7
.
‹‹7 8
NumeroCobertura
‹‹8 G
;
‹‹G H
	withBlock
ŒŒ 
.
ŒŒ $
BeneficioMaximoInicial
ŒŒ 0
=
ŒŒ1 2%
pNumAutorizacionRequest
ŒŒ3 J
.
ŒŒJ K$
BeneficioMaximoInicial
ŒŒK a
;
ŒŒa b
	withBlock
 
.
 !
CodigoTipoCobertura
 -
=
. /%
pNumAutorizacionRequest
0 G
.
G H
CodTipoCobertura
H X
;
X Y
	withBlock
 
.
 $
CodigoSubTipoCobertura
 0
=
1 2%
pNumAutorizacionRequest
3 J
.
J K!
CodSubTipoCobertura
K ^
;
^ _
	withBlock
 
.
 
CodEspecialidad
 )
=
* +%
pNumAutorizacionRequest
, C
.
C D
CodEspecialidad
D S
;
S T
}
 
return
’’ &
xCasoTiempoEsperaRequest
’’ +
;
’’+ ,
}
““ 	
public
•• -
ProcedimientosEspecialesRequest
•• .7
)fnConsultaProcedimientosEspecialesRequest
••/ X
(
••X Y'
NumeroAutorizacionRequest
••Y r&
pNumAutorizacionRequest••s Š
,••Š ‹#
Coberturas_AsegCode••Œ Ÿ
pCoberturas••  «
)••« ¬
{
–– 	-
ProcedimientosEspecialesRequest
—— +.
 xProcedimientosEspecialesRequest
——, L
=
——M N
new
——O R-
ProcedimientosEspecialesRequest
——S r
(
——r s
xSunasa
——s z
,
——z {
xIAFAS——| ‚
,——‚ ƒ
xRuc——„ ˆ
)——ˆ ‰
;——‰ Š
{
šš 
var
›› 
	withBlock
›› 
=
›› .
 xProcedimientosEspecialesRequest
››  @
;
››@ A
	withBlock
œœ 
.
œœ 
NombresAfiliado
œœ )
=
œœ* +%
pNumAutorizacionRequest
œœ, C
.
œœC D
NombresAfiliado
œœD S
;
œœS T
	withBlock
 
.
 %
ApellidoPaternoAfiliado
 1
=
2 3%
pNumAutorizacionRequest
4 K
.
K L%
ApellidoPaternoAfiliado
L c
;
c d
	withBlock
 
.
 %
ApellidoMaternoAfiliado
 1
=
2 3%
pNumAutorizacionRequest
4 K
.
K L%
ApellidoMaternoAfiliado
L c
;
c d
	withBlock
ŸŸ 
.
ŸŸ 
CodigoAfiliado
ŸŸ (
=
ŸŸ) *%
pNumAutorizacionRequest
ŸŸ+ B
.
ŸŸB C
CodigoAfiliado
ŸŸC Q
;
ŸŸQ R
	withBlock
   
.
   &
CodTipoDocumentoAfiliado
   2
=
  3 4%
pNumAutorizacionRequest
  5 L
.
  L M&
CodTipoDocumentoAfiliado
  M e
;
  e f
	withBlock
¡¡ 
.
¡¡ %
NumeroDocumentoAfiliado
¡¡ 1
=
¡¡2 3%
pNumAutorizacionRequest
¡¡4 K
.
¡¡K L%
NumeroDocumentoAfiliado
¡¡L c
;
¡¡c d
	withBlock
¢¢ 
.
¢¢ 
CodProducto
¢¢ %
=
¢¢& '%
pNumAutorizacionRequest
¢¢( ?
.
¢¢? @
CodProducto
¢¢@ K
;
¢¢K L
	withBlock
££ 
.
££ 
DesProducto
££ %
=
££& '%
pNumAutorizacionRequest
££( ?
.
££? @
DesProducto
££@ K
;
££K L
	withBlock
¤¤ 
.
¤¤ 

NumeroPlan
¤¤ $
=
¤¤% &%
pNumAutorizacionRequest
¤¤' >
.
¤¤> ?

NumeroPlan
¤¤? I
;
¤¤I J
	withBlock
¥¥ 
.
¥¥ )
CodTipoDocumentoContratante
¥¥ 5
=
¥¥6 7%
pNumAutorizacionRequest
¥¥8 O
.
¥¥O P)
CodTipoDocumentoContratante
¥¥P k
;
¥¥k l
	withBlock
¦¦ 
.
¦¦ (
NumeroDocumentoContratante
¦¦ 4
=
¦¦5 6%
pNumAutorizacionRequest
¦¦7 N
.
¦¦N O(
NumeroDocumentoContratante
¦¦O i
;
¦¦i j
	withBlock
§§ 
.
§§ 
NombreContratante
§§ +
=
§§, -%
pNumAutorizacionRequest
§§. E
.
§§E F
NombreContratante
§§F W
;
§§W X
	withBlock
¨¨ 
.
¨¨ 
CodParentesco
¨¨ '
=
¨¨( )%
pNumAutorizacionRequest
¨¨* A
.
¨¨A B
CodParentesco
¨¨B O
;
¨¨O P
	withBlock
©© 
.
©© 
NumeroCobertura
©© )
=
©©* +
pCoberturas
©©, 7
.
©©7 8
NumeroCobertura
©©8 G
;
©©G H
	withBlock
ªª 
.
ªª $
BeneficioMaximoInicial
ªª 0
=
ªª1 2%
pNumAutorizacionRequest
ªª3 J
.
ªªJ K$
BeneficioMaximoInicial
ªªK a
;
ªªa b
	withBlock
«« 
.
«« !
CodigoTipoCobertura
«« -
=
««. /%
pNumAutorizacionRequest
««0 G
.
««G H
CodTipoCobertura
««H X
;
««X Y
	withBlock
¬¬ 
.
¬¬ $
CodigoSubTipoCobertura
¬¬ 0
=
¬¬1 2%
pNumAutorizacionRequest
¬¬3 J
.
¬¬J K!
CodSubTipoCobertura
¬¬K ^
;
¬¬^ _
	withBlock
­­ 
.
­­ 
CodEspecialidad
­­ )
=
­­* +%
pNumAutorizacionRequest
­­, C
.
­­C D
CodEspecialidad
­­D S
;
­­S T
}
®® 
return
°° .
 xProcedimientosEspecialesRequest
°° 3
;
°°3 4
}
±± 	
public
³³ *
CasoExcepcionCarenciaRequest
³³ +,
fnCasoExcepcionCarenciaRequest
³³, J
(
³³J K'
NumeroAutorizacionRequest
³³K d%
pNumAutorizacionRequest
³³e |
,
³³| }"
Coberturas_AsegCode³³~ ‘
pCoberturas³³’ 
)³³ 
{
´´ 	*
CasoExcepcionCarenciaRequest
µµ (+
xCasoExcepcionCarenciaRequest
µµ) F
=
µµG H
new
µµI L*
CasoExcepcionCarenciaRequest
µµM i
(
µµi j
xSunasa
µµj q
,
µµq r
xIAFAS
µµs y
,
µµy z
xRuc
µµ{ 
)µµ €
;µµ€ 
{
¶¶ 
var
·· 
	withBlock
·· 
=
·· +
xCasoExcepcionCarenciaRequest
··  =
;
··= >
	withBlock
¸¸ 
.
¸¸ 
NombresAfiliado
¸¸ )
=
¸¸* +%
pNumAutorizacionRequest
¸¸, C
.
¸¸C D
NombresAfiliado
¸¸D S
;
¸¸S T
	withBlock
¹¹ 
.
¹¹ %
ApellidoPaternoAfiliado
¹¹ 1
=
¹¹2 3%
pNumAutorizacionRequest
¹¹4 K
.
¹¹K L%
ApellidoPaternoAfiliado
¹¹L c
;
¹¹c d
	withBlock
ºº 
.
ºº %
ApellidoMaternoAfiliado
ºº 1
=
ºº2 3%
pNumAutorizacionRequest
ºº4 K
.
ººK L%
ApellidoMaternoAfiliado
ººL c
;
ººc d
	withBlock
»» 
.
»» 
CodigoAfiliado
»» (
=
»») *%
pNumAutorizacionRequest
»»+ B
.
»»B C
CodigoAfiliado
»»C Q
;
»»Q R
	withBlock
¼¼ 
.
¼¼ &
CodTipoDocumentoAfiliado
¼¼ 2
=
¼¼3 4%
pNumAutorizacionRequest
¼¼5 L
.
¼¼L M&
CodTipoDocumentoAfiliado
¼¼M e
;
¼¼e f
	withBlock
½½ 
.
½½ %
NumeroDocumentoAfiliado
½½ 1
=
½½2 3%
pNumAutorizacionRequest
½½4 K
.
½½K L%
NumeroDocumentoAfiliado
½½L c
;
½½c d
	withBlock
¾¾ 
.
¾¾ 
CodProducto
¾¾ %
=
¾¾& '%
pNumAutorizacionRequest
¾¾( ?
.
¾¾? @
CodProducto
¾¾@ K
;
¾¾K L
	withBlock
¿¿ 
.
¿¿ 
DesProducto
¿¿ %
=
¿¿& '%
pNumAutorizacionRequest
¿¿( ?
.
¿¿? @
DesProducto
¿¿@ K
;
¿¿K L
	withBlock
ÀÀ 
.
ÀÀ 

NumeroPlan
ÀÀ $
=
ÀÀ% &%
pNumAutorizacionRequest
ÀÀ' >
.
ÀÀ> ?

NumeroPlan
ÀÀ? I
;
ÀÀI J
	withBlock
ÁÁ 
.
ÁÁ )
CodTipoDocumentoContratante
ÁÁ 5
=
ÁÁ6 7%
pNumAutorizacionRequest
ÁÁ8 O
.
ÁÁO P)
CodTipoDocumentoContratante
ÁÁP k
;
ÁÁk l
	withBlock
ÂÂ 
.
ÂÂ (
NumeroDocumentoContratante
ÂÂ 4
=
ÂÂ5 6%
pNumAutorizacionRequest
ÂÂ7 N
.
ÂÂN O(
NumeroDocumentoContratante
ÂÂO i
;
ÂÂi j
	withBlock
ÃÃ 
.
ÃÃ 
NombreContratante
ÃÃ +
=
ÃÃ, -%
pNumAutorizacionRequest
ÃÃ. E
.
ÃÃE F
NombreContratante
ÃÃF W
;
ÃÃW X
	withBlock
ÄÄ 
.
ÄÄ 
CodParentesco
ÄÄ '
=
ÄÄ( )%
pNumAutorizacionRequest
ÄÄ* A
.
ÄÄA B
CodParentesco
ÄÄB O
;
ÄÄO P
	withBlock
ÅÅ 
.
ÅÅ 
NumeroCobertura
ÅÅ )
=
ÅÅ* +
pCoberturas
ÅÅ, 7
.
ÅÅ7 8
NumeroCobertura
ÅÅ8 G
;
ÅÅG H
	withBlock
ÆÆ 
.
ÆÆ $
BeneficioMaximoInicial
ÆÆ 0
=
ÆÆ1 2%
pNumAutorizacionRequest
ÆÆ3 J
.
ÆÆJ K$
BeneficioMaximoInicial
ÆÆK a
;
ÆÆa b
	withBlock
ÇÇ 
.
ÇÇ !
CodigoTipoCobertura
ÇÇ -
=
ÇÇ. /%
pNumAutorizacionRequest
ÇÇ0 G
.
ÇÇG H
CodTipoCobertura
ÇÇH X
;
ÇÇX Y
	withBlock
ÈÈ 
.
ÈÈ $
CodigoSubTipoCobertura
ÈÈ 0
=
ÈÈ1 2%
pNumAutorizacionRequest
ÈÈ3 J
.
ÈÈJ K!
CodSubTipoCobertura
ÈÈK ^
;
ÈÈ^ _
	withBlock
ÉÉ 
.
ÉÉ 
CodEspecialidad
ÉÉ )
=
ÉÉ* +%
pNumAutorizacionRequest
ÉÉ, C
.
ÉÉC D
CodEspecialidad
ÉÉD S
;
ÉÉS T
}
ÊÊ 
return
ÌÌ +
xCasoExcepcionCarenciaRequest
ÌÌ 0
;
ÌÌ0 1
}
ÍÍ 	
public
ÑÑ 
AsegCodRequest
ÑÑ )
mtdAsignarAseguradoCorrecto
ÑÑ 9
(
ÑÑ9 :
List
ÑÑ: >
<
ÑÑ> ?
AsegNombResponse
ÑÑ? O
>
ÑÑO P#
oListAsegNombResponse
ÑÑQ f
,
ÑÑf g
string
ÑÑh n
DocIdentidad
ÑÑo {
,
ÑÑ{ |
boolÑÑ} 
SoloActivosÑÑ‚ 
=ÑÑ 
trueÑÑ ”
)ÑÑ” •
{
ÒÒ 	
AsegCodRequest
ÓÓ 
oAsegCodRequest
ÓÓ *
=
ÓÓ+ ,
new
ÓÓ- 0
AsegCodRequest
ÓÓ1 ?
(
ÓÓ? @
)
ÓÓ@ A
;
ÓÓA B
AsegNombResponse
ÔÔ 
	oAsegNomb
ÔÔ &
=
ÔÔ' (
new
ÔÔ) ,
AsegNombResponse
ÔÔ- =
(
ÔÔ= >
)
ÔÔ> ?
;
ÔÔ? @
for
ÖÖ 
(
ÖÖ 
int
ÖÖ 
j
ÖÖ 
=
ÖÖ 
$num
ÖÖ 
,
ÖÖ 
loopTo
ÖÖ "
=
ÖÖ# $#
oListAsegNombResponse
ÖÖ% :
.
ÖÖ: ;
Count
ÖÖ; @
-
ÖÖA B
$num
ÖÖC D
;
ÖÖD E
j
ÖÖF G
<=
ÖÖH J
loopTo
ÖÖK Q
;
ÖÖQ R
j
ÖÖS T
++
ÖÖT V
)
ÖÖV W
{
×× 
	oAsegNomb
ØØ 
=
ØØ #
oListAsegNombResponse
ØØ 1
[
ØØ1 2
j
ØØ2 3
]
ØØ3 4
;
ØØ4 5
if
ÚÚ 
(
ÚÚ 
	oAsegNomb
ÚÚ 
.
ÚÚ 
	CodEstado
ÚÚ '
==
ÚÚ( *
$str
ÚÚ+ .
&
ÚÚ/ 0
	oAsegNomb
ÚÚ1 :
.
ÚÚ: ;%
NumeroDocumentoAfiliado
ÚÚ; R
==
ÚÚS U
DocIdentidad
ÚÚV b
)
ÚÚb c
{
ÛÛ 
oAsegCodRequest
ÜÜ #
=
ÜÜ$ %
	fnAsegCod
ÜÜ& /
(
ÜÜ/ 0
	oAsegNomb
ÜÜ0 9
)
ÜÜ9 :
;
ÜÜ: ;
}
İİ 
}
÷÷ 
return
´	´	 
oAsegCodRequest
´	´	 "
;
´	´	" #
}
µ	µ	 	
public
·	·	 
List
·	·	 
<
·	·	 
AsegCodRequest
·	·	 "
>
·	·	" # 
RetornaIAFASporDni
·	·	$ 6
(
·	·	6 7
ClinicaE
·	·	7 ?
	pClinicaE
·	·	@ I
,
·	·	I J
string
·	·	K Q
tipo_documento
·	·	R `
,
·	·	` a
string
·	·	b h
nro_documento
·	·	i v
)
·	·	v w
{
¸	¸	 	
string
¹	¹	 

stringJson
¹	¹	 
;
¹	¹	 
string
º	º	 
[
º	º	 
]
º	º	 
	listaIafa
º	º	 
=
º	º	  
new
º	º	! $
string
º	º	% +
[
º	º	+ ,
]
º	º	, -
{
º	º	. /
$str
º	º	0 7
,
º	º	7 8
$str
º	º	9 @
,
º	º	@ A
$str
º	º	B I
,
º	º	I J
$str
º	º	K R
,
º	º	R S
$str
º	º	T [
,
º	º	[ \
$str
º	º	] d
,
º	º	d e
$str
º	º	f m
,
º	º	m n
$str
º	º	o v
}
º	º	w x
;
º	º	x y
List
»	»	 
<
»	»	 
AsegCodRequest
»	»	 
>
»	»	  
lstAsegCodRequest
»	»	! 2
=
»	»	3 4
new
»	»	5 8
List
»	»	9 =
<
»	»	= >
AsegCodRequest
»	»	> L
>
»	»	L M
(
»	»	M N
)
»	»	N O
;
»	»	O P
List
¼	¼	 
<
¼	¼	 
AsegCodResponse
¼	¼	  
>
¼	¼	  ! 
lstAsegCodResponse
¼	¼	" 4
=
¼	¼	5 6
new
¼	¼	7 :
List
¼	¼	; ?
<
¼	¼	? @
AsegCodResponse
¼	¼	@ O
>
¼	¼	O P
(
¼	¼	P Q
)
¼	¼	Q R
;
¼	¼	R S
if
¾	¾	 
(
¾	¾	 
	pClinicaE
¾	¾	 
==
¾	¾	 
null
¾	¾	 !
)
¾	¾	! "
return
¾	¾	# )
lstAsegCodRequest
¾	¾	* ;
;
¾	¾	; <
if
¿	¿	 
(
¿	¿	 
nro_documento
¿	¿	 
==
¿	¿	  
null
¿	¿	! %
)
¿	¿	% &
return
¿	¿	' -
lstAsegCodRequest
¿	¿	. ?
;
¿	¿	? @
if
À	À	 
(
À	À	 
nro_documento
À	À	 
==
À	À	  
$str
À	À	! #
)
À	À	# $
return
À	À	% +
lstAsegCodRequest
À	À	, =
;
À	À	= >
foreach
Â	Â	 
(
Â	Â	 
var
Â	Â	 
iafa
Â	Â	 
in
Â	Â	  
	listaIafa
Â	Â	! *
)
Â	Â	* +
{
Ã	Ã	 
AsegNombRequest
Ä	Ä	 
oAsegNombRequest
Ä	Ä	  0
=
Ä	Ä	1 2
new
Ä	Ä	3 6
AsegNombRequest
Ä	Ä	7 F
(
Ä	Ä	F G
	pClinicaE
Ä	Ä	G P
.
Ä	Ä	P Q
	RUCSunasa
Ä	Ä	Q Z
,
Ä	Ä	Z [
	pClinicaE
Ä	Ä	\ e
.
Ä	Ä	e f
CodigoSunasa
Ä	Ä	f r
,
Ä	Ä	r s
iafa
Ä	Ä	t x
)
Ä	Ä	x y
;
Ä	Ä	y z
oAsegNombRequest
Å	Å	  
.
Å	Å	  !&
CodTipoDocumentoAfiliado
Å	Å	! 9
=
Å	Å	: ;
tipo_documento
Å	Å	< J
;
Å	Å	J K
oAsegNombRequest
Æ	Æ	  
.
Æ	Æ	  !%
NumeroDocumentoAfiliado
Æ	Æ	! 8
=
Æ	Æ	9 :
nro_documento
Æ	Æ	; H
;
Æ	Æ	H I

stringJson
È	È	 
=
È	È	 
ConsultaAsegNom
È	È	 ,
(
È	È	, -
RutaWS_Siteds
È	È	- :
,
È	È	: ;
oAsegNombRequest
È	È	< L
)
È	È	L M
;
È	È	M N
if
É	É	 
(
É	É	 

stringJson
É	É	 
!=
É	É	 !
null
É	É	" &
)
É	É	& '
{
Ê	Ê	 
List
Ë	Ë	 
<
Ë	Ë	 
AsegNombResponse
Ë	Ë	 )
>
Ë	Ë	) *#
oListAsegNombResponse
Ë	Ë	+ @
=
Ë	Ë	A B
(
Ë	Ë	C D
List
Ë	Ë	D H
<
Ë	Ë	H I
AsegNombResponse
Ë	Ë	I Y
>
Ë	Ë	Y Z
)
Ë	Ë	Z [

Newtonsoft
Ë	Ë	[ e
.
Ë	Ë	e f
Json
Ë	Ë	f j
.
Ë	Ë	j k
JsonConvert
Ë	Ë	k v
.
Ë	Ë	v w 
DeserializeObjectË	Ë	w ˆ
(Ë	Ë	ˆ ‰

stringJsonË	Ë	‰ “
,Ë	Ë	“ ”
typeofË	Ë	• ›
(Ë	Ë	› œ
ListË	Ë	œ  
<Ë	Ë	  ¡ 
AsegNombResponseË	Ë	¡ ±
>Ë	Ë	± ²
)Ë	Ë	² ³
)Ë	Ë	³ ´
;Ë	Ë	´ µ
AsegCodRequest
Ì	Ì	 "
oAsegCodRequest
Ì	Ì	# 2
=
Ì	Ì	3 4)
mtdAsignarAseguradoCorrecto
Ì	Ì	5 P
(
Ì	Ì	P Q#
oListAsegNombResponse
Ì	Ì	Q f
,
Ì	Ì	f g
oAsegNombRequest
Ì	Ì	h x
.
Ì	Ì	x y&
NumeroDocumentoAfiliadoÌ	Ì	y 
,Ì	Ì	 ‘
trueÌ	Ì	’ –
)Ì	Ì	– —
;Ì	Ì	— ˜
oAsegCodRequest
Í	Í	 #
.
Í	Í	# $
RUC
Í	Í	$ '
=
Í	Í	( )
oAsegNombRequest
Í	Í	* :
.
Í	Í	: ;
RUC
Í	Í	; >
;
Í	Í	> ?
oAsegCodRequest
Î	Î	 #
.
Î	Î	# $
SUNASA
Î	Î	$ *
=
Î	Î	+ ,
oAsegNombRequest
Î	Î	- =
.
Î	Î	= >
SUNASA
Î	Î	> D
;
Î	Î	D E
oAsegCodRequest
Ï	Ï	 #
.
Ï	Ï	# $
IAFAS
Ï	Ï	$ )
=
Ï	Ï	* +
oAsegNombRequest
Ï	Ï	, <
.
Ï	Ï	< =
IAFAS
Ï	Ï	= B
;
Ï	Ï	B C

stringJson
Ñ	Ñ	 
=
Ñ	Ñ	  
ConsultaAsegCod
Ñ	Ñ	! 0
(
Ñ	Ñ	0 1
RutaWS_Siteds
Ñ	Ñ	1 >
,
Ñ	Ñ	> ?
oAsegCodRequest
Ñ	Ñ	@ O
)
Ñ	Ñ	O P
;
Ñ	Ñ	P Q
if
Ò	Ò	 
(
Ò	Ò	 

stringJson
Ò	Ò	 "
!=
Ò	Ò	# %
null
Ò	Ò	& *
)
Ò	Ò	* +
{
Ó	Ó	 
AsegCodResponse
Ô	Ô	 '
oAsegCodResponse
Ô	Ô	( 8
=
Ô	Ô	9 :
(
Ô	Ô	; <
AsegCodResponse
Ô	Ô	< K
)
Ô	Ô	K L

Newtonsoft
Ô	Ô	L V
.
Ô	Ô	V W
Json
Ô	Ô	W [
.
Ô	Ô	[ \
JsonConvert
Ô	Ô	\ g
.
Ô	Ô	g h
DeserializeObject
Ô	Ô	h y
(
Ô	Ô	y z

stringJsonÔ	Ô	z „
,Ô	Ô	„ …
typeofÔ	Ô	† Œ
(Ô	Ô	Œ 
AsegCodResponseÔ	Ô	 œ
)Ô	Ô	œ 
)Ô	Ô	 
;Ô	Ô	 Ÿ
if
Ö	Ö	 
(
Ö	Ö	 
oAsegCodResponse
Ö	Ö	 ,
!=
Ö	Ö	- /
null
Ö	Ö	0 4
)
Ö	Ö	4 5
{
×	×	 
lstAsegCodRequest
Ø	Ø	 -
.
Ø	Ø	- .
Add
Ø	Ø	. 1
(
Ø	Ø	1 2
oAsegCodRequest
Ø	Ø	2 A
)
Ø	Ø	A B
;
Ø	Ø	B C
}
Û	Û	 
}
Ü	Ü	 
}
İ	İ	 
}
Ş	Ş	 
return
à	à	 
lstAsegCodRequest
à	à	 $
;
à	à	$ %
}
á	á	 	
public
ä	ä	 
List
ä	ä	 
<
ä	ä	 
AsegCodRequest
ä	ä	 "
>
ä	ä	" #(
RetornaIAFASporDniParalelo
ä	ä	$ >
(
ä	ä	> ?
ClinicaE
ä	ä	? G
	pClinicaE
ä	ä	H Q
,
ä	ä	Q R
string
ä	ä	S Y
tipo_documento
ä	ä	Z h
,
ä	ä	h i
string
ä	ä	j p
nro_documento
ä	ä	q ~
)
ä	ä	~ 
{
å	å	 	
List
æ	æ	 
<
æ	æ	 
AsegCodRequest
æ	æ	 
>
æ	æ	  $
lstAsegCodRequestFinal
æ	æ	! 7
=
æ	æ	8 9
new
æ	æ	: =
List
æ	æ	> B
<
æ	æ	B C
AsegCodRequest
æ	æ	C Q
>
æ	æ	Q R
(
æ	æ	R S
)
æ	æ	S T
;
æ	æ	T U
try
ç	ç	 
{
è	è	 
string
é	é	 
[
é	é	 
]
é	é	 
	listaIafa
é	é	 "
=
é	é	# $
new
é	é	% (
string
é	é	) /
[
é	é	/ 0
]
é	é	0 1
{
é	é	2 3
$str
é	é	4 ;
,
é	é	; <
$str
é	é	= D
,
é	é	D E
$str
é	é	F M
,
é	é	M N
$str
é	é	O V
,
é	é	V W
$str
é	é	X _
,
é	é	_ `
$str
é	é	a h
,
é	é	h i
$str
é	é	j q
,
é	é	q r
$str
é	é	s z
}
é	é	{ |
;
é	é	| }
List
ê	ê	 
<
ê	ê	 
AsegCodRequest
ê	ê	 #
>
ê	ê	# $
lstAsegCodRequest
ê	ê	% 6
=
ê	ê	7 8
new
ê	ê	9 <
List
ê	ê	= A
<
ê	ê	A B
AsegCodRequest
ê	ê	B P
>
ê	ê	P Q
(
ê	ê	Q R
)
ê	ê	R S
;
ê	ê	S T
if
ì	ì	 
(
ì	ì	 
	pClinicaE
ì	ì	 
==
ì	ì	  
null
ì	ì	! %
)
ì	ì	% &
return
ì	ì	' -
lstAsegCodRequest
ì	ì	. ?
;
ì	ì	? @
if
í	í	 
(
í	í	 
nro_documento
í	í	 !
==
í	í	" $
null
í	í	% )
)
í	í	) *
return
í	í	+ 1
lstAsegCodRequest
í	í	2 C
;
í	í	C D
if
î	î	 
(
î	î	 
nro_documento
î	î	 !
==
î	î	" $
$str
î	î	% '
)
î	î	' (
return
î	î	) /
lstAsegCodRequest
î	î	0 A
;
î	î	A B
foreach
ğ	ğ	 
(
ğ	ğ	 
var
ğ	ğ	 
iafa
ğ	ğ	 !
in
ğ	ğ	" $
	listaIafa
ğ	ğ	% .
)
ğ	ğ	. /
{
ñ	ñ	 
AsegCodRequest
ò	ò	 "
oAsegCodRequest
ò	ò	# 2
=
ò	ò	3 4
new
ò	ò	5 8
AsegCodRequest
ò	ò	9 G
(
ò	ò	G H
	pClinicaE
ò	ò	H Q
.
ò	ò	Q R
CodigoSunasa
ò	ò	R ^
,
ò	ò	^ _
iafa
ò	ò	` d
,
ò	ò	d e
	pClinicaE
ò	ò	f o
.
ò	ò	o p
	RUCSunasa
ò	ò	p y
)
ò	ò	y z
;
ò	ò	z {
oAsegCodRequest
ó	ó	 #
.
ó	ó	# $&
CodTipoDocumentoAfiliado
ó	ó	$ <
=
ó	ó	= >
tipo_documento
ó	ó	? M
;
ó	ó	M N
oAsegCodRequest
ô	ô	 #
.
ô	ô	# $%
NumeroDocumentoAfiliado
ô	ô	$ ;
=
ô	ô	< =
nro_documento
ô	ô	> K
;
ô	ô	K L
lstAsegCodRequest
õ	õ	 %
.
õ	õ	% &
Add
õ	õ	& )
(
õ	õ	) *
oAsegCodRequest
õ	õ	* 9
)
õ	õ	9 :
;
õ	õ	: ;
}
ö	ö	  
ParallelLoopResult
ø	ø	 " 
parallelLoopResult
ø	ø	# 5
=
ø	ø	6 7
Parallel
ø	ø	8 @
.
ø	ø	@ A
ForEach
ø	ø	A H
(
ø	ø	H I
lstAsegCodRequest
ø	ø	I Z
,
ø	ø	Z [
(
ø	ø	\ ]#
oAsegCodRequestParall
ø	ø	] r
,
ø	ø	r s
	loopState
ø	ø	t }
)
ø	ø	} ~
=>ø	ø	 
{
ù	ù	 
new
ú	ú	 
ParallelOptions
ú	ú	 '
{
û	û	 $
MaxDegreeOfParallelism
ü	ü	 .
=
ü	ü	/ 0
Convert
ü	ü	1 8
.
ü	ü	8 9
ToInt32
ü	ü	9 @
(
ü	ü	@ A
Math
ü	ü	A E
.
ü	ü	E F
Ceiling
ü	ü	F M
(
ü	ü	M N
(
ı	ı	 
Environment
ı	ı	 &
.
ı	ı	& '
ProcessorCount
ı	ı	' 5
*
ı	ı	6 7
$num
ı	ı	8 <
)
ı	ı	< =
*
ı	ı	> ?
$num
ı	ı	@ C
)
ı	ı	C D
)
ı	ı	D E
}
ş	ş	 
;
ş	ş	 
AsegCodRequest
ÿ	ÿ	 "!
oAsegCodRequestTask
ÿ	ÿ	# 6
=
ÿ	ÿ	7 8
DoTask
ÿ	ÿ	9 ?
(
ÿ	ÿ	? @#
oAsegCodRequestParall
ÿ	ÿ	@ U
)
ÿ	ÿ	U V
;
ÿ	ÿ	V W
if
€
€
 
(
€
€
 !
oAsegCodRequestTask
€
€
 +
.
€
€
+ ,(
NumeroDocumentoContratante
€
€
, F
!=
€
€
G I
$str
€
€
J L
)
€
€
L M
{


 $
lstAsegCodRequestFinal
‚
‚
 .
.
‚
‚
. /
Add
‚
‚
/ 2
(
‚
‚
2 3!
oAsegCodRequestTask
‚
‚
3 F
)
‚
‚
F G
;
‚
‚
G H
	loopState
ƒ
ƒ
 !
.
ƒ
ƒ
! "
Stop
ƒ
ƒ
" &
(
ƒ
ƒ
& '
)
ƒ
ƒ
' (
;
ƒ
ƒ
( )
}
„
„
 
}
…
…
 
)
…
…
 
;
…
…
 
return
‡
‡
 $
lstAsegCodRequestFinal
‡
‡
 -
;
‡
‡
- .
}
ˆ
ˆ
 
catch
‰
‰
 
(
‰
‰
 
	Exception
‰
‰
 
)
‰
‰
 
{
Š
Š
 
return
Œ
Œ
 $
lstAsegCodRequestFinal
Œ
Œ
 -
;
Œ
Œ
- .
throw


 
;


 
}


 
}


 	
private
‘
‘
 
AsegCodRequest
‘
‘
 
DoTask
‘
‘
 %
(
‘
‘
% &
AsegCodRequest
‘
‘
& 4
pAsegCodRequest
‘
‘
5 D
)
‘
‘
D E
{
’
’
 	
AsegCodRequest
“
“
 
oAsegCodRequest
“
“
 *
=
“
“
+ ,
new
“
“
- 0
AsegCodRequest
“
“
1 ?
(
“
“
? @
)
“
“
@ A
;
“
“
A B
try
”
”
 
{
•
•
 
string
–
–
 

stringJson
–
–
 !
;
–
–
! "
AsegNombRequest
—
—
 
oAsegNombRequest
—
—
  0
=
—
—
1 2
new
—
—
3 6
AsegNombRequest
—
—
7 F
(
—
—
F G
pAsegCodRequest
—
—
G V
.
—
—
V W
RUC
—
—
W Z
,
—
—
Z [
pAsegCodRequest
—
—
\ k
.
—
—
k l
SUNASA
—
—
l r
,
—
—
r s
pAsegCodRequest—
—
t ƒ
.—
—
ƒ „
IAFAS—
—
„ ‰
)—
—
‰ Š
;—
—
Š ‹
oAsegNombRequest
˜
˜
  
.
˜
˜
  !&
CodTipoDocumentoAfiliado
˜
˜
! 9
=
˜
˜
: ;
pAsegCodRequest
˜
˜
< K
.
˜
˜
K L&
CodTipoDocumentoAfiliado
˜
˜
L d
;
˜
˜
d e
oAsegNombRequest
™
™
  
.
™
™
  !%
NumeroDocumentoAfiliado
™
™
! 8
=
™
™
9 :
pAsegCodRequest
™
™
; J
.
™
™
J K%
NumeroDocumentoAfiliado
™
™
K b
;
™
™
b c

stringJson
›
›
 
=
›
›
 
ConsultaAsegNom
›
›
 ,
(
›
›
, -
RutaWS_Siteds
›
›
- :
,
›
›
: ;
oAsegNombRequest
›
›
< L
)
›
›
L M
;
›
›
M N
if
œ
œ
 
(
œ
œ
 

stringJson
œ
œ
 
!=
œ
œ
 !
null
œ
œ
" &
)
œ
œ
& '
{


 
List


 
<


 
AsegNombResponse


 )
>


) *#
oListAsegNombResponse


+ @
=


A B
(


C D
List


D H
<


H I
AsegNombResponse


I Y
>


Y Z
)


Z [

Newtonsoft


[ e
.


e f
Json


f j
.


j k
JsonConvert


k v
.


v w 
DeserializeObject

w ˆ
(

ˆ ‰

stringJson

‰ “
,

“ ”
typeof

• ›
(

› œ
List

œ  
<

  ¡ 
AsegNombResponse

¡ ±
>

± ²
)

² ³
)

³ ´
;

´ µ
oAsegCodRequest
Ÿ
Ÿ
 #
=
Ÿ
Ÿ
$ %)
mtdAsignarAseguradoCorrecto
Ÿ
Ÿ
& A
(
Ÿ
Ÿ
A B#
oListAsegNombResponse
Ÿ
Ÿ
B W
,
Ÿ
Ÿ
W X
oAsegNombRequest
Ÿ
Ÿ
Y i
.
Ÿ
Ÿ
i j&
NumeroDocumentoAfiliadoŸ
Ÿ
j 
,Ÿ
Ÿ
 ‚
trueŸ
Ÿ
ƒ ‡
)Ÿ
Ÿ
‡ ˆ
;Ÿ
Ÿ
ˆ ‰
oAsegCodRequest
 
 
 #
.
 
 
# $
RUC
 
 
$ '
=
 
 
( )
oAsegNombRequest
 
 
* :
.
 
 
: ;
RUC
 
 
; >
;
 
 
> ?
oAsegCodRequest
¡
¡
 #
.
¡
¡
# $
SUNASA
¡
¡
$ *
=
¡
¡
+ ,
oAsegNombRequest
¡
¡
- =
.
¡
¡
= >
SUNASA
¡
¡
> D
;
¡
¡
D E
oAsegCodRequest
¢
¢
 #
.
¢
¢
# $
IAFAS
¢
¢
$ )
=
¢
¢
* +
oAsegNombRequest
¢
¢
, <
.
¢
¢
< =
IAFAS
¢
¢
= B
;
¢
¢
B C

stringJson
¤
¤
 
=
¤
¤
  
ConsultaAsegCod
¤
¤
! 0
(
¤
¤
0 1
RutaWS_Siteds
¤
¤
1 >
,
¤
¤
> ?
oAsegCodRequest
¤
¤
@ O
)
¤
¤
O P
;
¤
¤
P Q
if
¥
¥
 
(
¥
¥
 

stringJson
¥
¥
 "
!=
¥
¥
# %
null
¥
¥
& *
)
¥
¥
* +
{
¦
¦
 
AsegCodResponse
§
§
 '
oAsegCodResponse
§
§
( 8
=
§
§
9 :
(
§
§
; <
AsegCodResponse
§
§
< K
)
§
§
K L

Newtonsoft
§
§
L V
.
§
§
V W
Json
§
§
W [
.
§
§
[ \
JsonConvert
§
§
\ g
.
§
§
g h
DeserializeObject
§
§
h y
(
§
§
y z

stringJson§
§
z „
,§
§
„ …
typeof§
§
† Œ
(§
§
Œ 
AsegCodResponse§
§
 œ
)§
§
œ 
)§
§
 
;§
§
 Ÿ
if
¨
¨
 
(
¨
¨
 
oAsegCodResponse
¨
¨
 ,
!=
¨
¨
- /
null
¨
¨
0 4
)
¨
¨
4 5
{
©
©
 
return
«
«
 "
oAsegCodRequest
«
«
# 2
;
«
«
2 3
}
­
­
 
}
®
®
 
}
¯
¯
 
return
°
°
 
oAsegCodRequest
°
°
 &
;
°
°
& '
}
±
±
 
catch
²
²
 
(
²
²
 
	Exception
²
²
 
)
²
²
 
{
³
³
 
return
´
´
 
oAsegCodRequest
´
´
 &
;
´
´
& '
throw
µ
µ
 
;
µ
µ
 
}
¶
¶
 
}
·
·
 	
}
»
»
 
}¼
¼
 š¯
WD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Bus.AgendaClinica\Clinica\Generales.cs
	namespace33 	
Bus33
 
.33 
AgendaClinica33 
.33 
Clinica33 #
{44 
public55 

class55 
	Generales55 
{66 
General88 
funcGeneral88 
=88 
new88 !
General88" )
(88) *
)88* +
;88+ ,

Utilitario:: 
util:: 
=:: 
new:: 

Utilitario:: (
(::( )
)::) *
;::* +
string?? 
	CodSunasa?? 
=?? 
$str?? 
;?? 
string@@ 
CodIAFAS@@ 
=@@ 
$str@@ 
;@@ 
stringAA 
CodRucAA 
=AA 
$strAA %
;AA% &
ListDD 
<DD 
TablasEDD 
>DD 
oLTablasDD 
=DD  
newDD! $
ListDD% )
<DD) *
TablasEDD* 1
>DD1 2
(DD2 3
)DD3 4
;DD4 5
stringGG 
DscNombresPacienteGG !
=GG" #
$strGG$ &
;GG& '
stringHH 
SexoHH 
=HH 
$strHH 
;HH 
DateTimeII 
FechaNacimientoII  
=II! "
newII# &
DateTimeII' /
(II/ 0
$numII0 4
,II4 5
$numII6 8
,II8 9
$numII: <
)II< =
;II= >
stringJJ 
CardCodeJJ 
=JJ 
$strJJ 
;JJ 
stringKK 
TipDocumentoKK 
=KK 
$strKK  
;KK  !
stringLL 
DocIdentidadLL 
=LL 
$strLL  
;LL  !
stringMM 
	DscCorreoMM 
=MM 
$strMM 
;MM 
stringNN 

CodEmpresaNN 
=NN 
$strNN !
;NN! "
stringOO 
TipoAtencionOO 
=OO 
$strOO  
;OO  !
stringPP 
CodSedePP 
=PP 
$strPP 
;PP 
stringQQ 
	DireccionQQ 
=QQ 
$strQQ 
;QQ 
stringRR 
TipParentescoRR 
=RR 
$strRR !
;RR! "
DateTimeSS 
	FechaCitaSS 
;SS 
stringTT 
EstConsultaMedicaTT  
=TT! "
$strTT# &
;TT& '
stringUU 
NombrePacienteUU 
=UU 
$strUU  "
;UU" #
stringVV 
ApPaternoPacienteVV  
=VV! "
$strVV# %
;VV% &
stringWW 
ApMaternoPacienteWW  
=WW! "
$strWW# %
;WW% &
stringYY 
CodPacienteYY 
=YY 
$strYY 
;YY  
stringZZ 
DscNombresTitularZZ  
=ZZ! "
$strZZ# %
;ZZ% &
string[[ 
	CodMedico[[ 
=[[ 
$str[[ 
;[[ 
string\\ 
CodEspecialidad\\ 
=\\  
$str\\! #
;\\# $
string]] 
	CodPoliza]] 
=]] 
$str]] 
;]] 
string^^ 
NumeroPlanPoliza^^ 
=^^  !
$str^^" $
;^^$ %
string__ 
CodAseguradora__ 
=__ 
$str__  "
;__" #
string`` 
DscAseguradora`` 
=`` 
$str``  "
;``" #
stringaa 
CodCiaaa 
=aa 
$straa 
;aa 
stringbb 
CodigoAutorizacionbb !
=bb" #
$strbb$ &
;bb& '
stringcc 
Tarifacc 
=cc 
$strcc 
;cc 
stringdd 
Observacionesdd 
=dd 
$strdd !
;dd! "
stringee 
CodAseguradoee 
=ee 
$stree  
;ee  !
stringff 
TipoAfiliacionff 
=ff 
$strff  "
;ff" #
stringgg 
TipoPagogg 
=gg 
$strgg 
;gg 
stringhh 
CodCoberturahh 
=hh 
$strhh  
;hh  !
stringii 

CoPagoFijoii 
=ii 
$strii 
;ii 
stringjj 
CoPagoVariablejj 
=jj 
$strjj  "
;jj" #
intkk 
IdeDatosPagoskk 
=kk 
$numkk 
;kk 
stringll 
	TipMonedall 
=ll 
$strll 
;ll 
stringmm 
CodNombreEntidadmm 
=mm  !
$strmm" 1
;mm1 2
stringnn 

NumEntidadnn 
=nn 
$strnn !
;nn! "
stringoo "
TipProductoAseguradoraoo %
=oo& '
$stroo( *
;oo* +
stringpp 
NumDocEmpresapp 
=pp 
$strpp !
;pp! "
stringqq 
TipDocEmpresaqq 
=qq 
$strqq !
;qq! "
stringss *
Comprobante_CodTipoComprobantess -
=ss. /
$strss0 2
;ss2 3
stringtt '
Comprobante_TipDocIdentidadtt *
=tt+ ,
$strtt- /
;tt/ 0
stringuu '
Comprobante_RutDocIdentidaduu *
=uu+ ,
$struu- /
;uu/ 0
stringvv ,
 Comprobante_DscCorreoComprobantevv /
=vv0 1
$strvv2 4
;vv4 5
stringww *
Comprobante_NombresComprobanteww -
=ww. /
$strww0 2
;ww2 3
stringyy 
LineasCoberturasyy 
=yy  !
$stryy" $
;yy$ %
string{{ 
CodAtencion{{ 
={{ 
$str{{ 
;{{  
string|| 
CodLiquidacion|| 
=|| 
$str||  "
;||" #
string~~ 
CodSubTipoCobertura~~ "
=~~# $
$str~~% '
;~~' (
int
€€  
EstProcesoAtencion
€€ 
=
€€  
$num
€€! "
;
€€" #
string
ƒƒ 
CodPresotor
ƒƒ 
=
ƒƒ 
$str
ƒƒ 
;
ƒƒ  
string
„„ $
CorrelativoSerieBoleta
„„ %
=
„„& '
$str
„„( *
;
„„* +
string
…… %
CorrelativoSerieFactura
…… &
=
……' (
$str
……) +
;
……+ ,
string
†† /
!CorrelativoSerieNotaCreditoBoleta
†† 0
=
††1 2
$str
††3 5
;
††5 6
string
‡‡ 0
"CorrelativoSerieNotaCreditoFactura
‡‡ 1
=
‡‡2 3
$str
‡‡4 6
;
‡‡6 7
bool
ˆˆ 
FlgElectronico
ˆˆ 
=
ˆˆ 
false
ˆˆ #
;
ˆˆ# $
bool
‰‰ 
FlgGenerarE
‰‰ 
=
‰‰ 
false
‰‰  
;
‰‰  !
string
ŠŠ 
FlgOtorgarBoleta
ŠŠ 
=
ŠŠ  !
$str
ŠŠ" %
;
ŠŠ% &
string
‹‹ 
FlgOtorgarFactura
‹‹  
=
‹‹! "
$str
‹‹# &
;
‹‹& '
string
ŒŒ #
FlgOtorgarNotaCredito
ŒŒ $
=
ŒŒ% &
$str
ŒŒ' *
;
ŒŒ* +
string
 #
CodTipoConsultaMedica
 $
=
% &
$str
' *
;
* +
string
 
CodComprobante
 
=
 
$str
  "
;
" #
string
 
xEnviarASunat
 
=
 
$str
 !
;
! "
string
‘‘ 
	xUrlWsTCI
‘‘ 
=
‘‘ 
$str
‘‘ U
;
‘‘U V
string
’’ 
RutaWS_Siteds
’’ 
=
’’ 
$str
’’ G
;
’’G H
SitedsWs
˜˜ 
	oWsSiteds
˜˜ 
;
˜˜ 
AsegNombRequest
šš 
oAsegNombRequest
šš (
=
šš) *
new
šš+ .
AsegNombRequest
šš/ >
(
šš> ?
)
šš? @
;
šš@ A 
ObservacionRequest
›› !
oObservacionRequest
›› .
=
››/ 0
new
››1 4 
ObservacionRequest
››5 G
(
››G H
)
››H I
;
››I J
AsegCodRequest
œœ 
oAsegCodRequest
œœ &
=
œœ' (
new
œœ) ,
AsegCodRequest
œœ- ;
(
œœ; <
)
œœ< =
;
œœ= >'
NumeroAutorizacionRequest
 !%
oNumAutorizacionRequest
" 9
=
: ;
new
< ?'
NumeroAutorizacionRequest
@ Y
(
Y Z
)
Z [
;
[ \%
CasoTiempoEsperaRequest
   &
oCasoTiempoEsperaRequest
    8
=
  9 :
new
  ; >%
CasoTiempoEsperaRequest
  ? V
(
  V W
)
  W X
;
  X Y-
ProcedimientosEspecialesRequest
¡¡ '.
 oProcedimientosEspecialesRequest
¡¡( H
=
¡¡I J
new
¡¡K N-
ProcedimientosEspecialesRequest
¡¡O n
(
¡¡n o
)
¡¡o p
;
¡¡p q
AsegNombResponse
¢¢ 
	oAsegNomb
¢¢ "
=
¢¢# $
new
¢¢% (
AsegNombResponse
¢¢) 9
(
¢¢9 :
)
¢¢: ;
;
¢¢; <
DatosGeneralesE
¤¤ 
oDatosGenerales
¤¤ '
=
¤¤( )
new
¤¤* -
DatosGeneralesE
¤¤. =
(
¤¤= >
)
¤¤> ?
;
¤¤? @
Coberturas_AcredE
¥¥ 
oCoberturas_Acred
¥¥ +
=
¥¥, -
new
¥¥. 1
Coberturas_AcredE
¥¥2 C
(
¥¥C D
)
¥¥D E
;
¥¥E F
ExcepCarenciaE
¦¦ 
oExcepCarencia
¦¦ %
=
¦¦& '
new
¦¦( +
ExcepCarenciaE
¦¦, :
(
¦¦: ;
)
¦¦; <
;
¦¦< =
ProcedimientosE
§§ 
oProcedimientos
§§ '
=
§§( )
new
§§* -
ProcedimientosE
§§. =
(
§§= >
)
§§> ?
;
§§? @
	ProductoE
¨¨ 
	oProducto
¨¨ 
=
¨¨ 
new
¨¨ !
	ProductoE
¨¨" +
(
¨¨+ ,
)
¨¨, -
;
¨¨- .
SubTipoCoberturaE
©© 
oSubTipoCobertura
©© +
=
©©, -
new
©©. 1
SubTipoCoberturaE
©©2 C
(
©©C D
)
©©D E
;
©©E F
private
­­ 
string
­­ 
VisaNet_Ws_Url
­­ %
=
­­& '
$str
­­( G
;
­­G H
private
®® 
string
®® ,
VisaNet_ApiKeyAutorizacion_App
®® 5
=
®®6 7
$str
®®8 t
;
®®t u
private
¯¯ 
string
¯¯ ,
VisaNet_ApiKeyAutorizacion_Web
¯¯ 5
=
¯¯6 7
$str
¯¯8 :
;
¯¯: ;
private
°° 
string
°° $
VisaNet_merchantId_App
°° -
=
°°. /
$str
°°0 ;
;
°°; <
private
±± 
string
±± $
VisaNet_merchantId_Web
±± -
=
±±. /
$str
±±0 ;
;
±±; <
private
³³ 
string
³³ %
VisaNet_ApiAutorizacion
³³ .
=
³³/ 0
$str
³³1 3
;
³³3 4
private
µµ 
string
µµ 
RutaGuardarQR
µµ $
=
µµ% &
$str
µµ' )
;
µµ) *
private
¶¶ 
string
¶¶ 
UrlQR
¶¶ 
=
¶¶ 
$str
¶¶ !
;
¶¶! "
public
ÂÂ 
List
ÂÂ 
<
ÂÂ 
MdsynAmReservaE
ÂÂ #
>
ÂÂ# $$
Sp_Mdsyn_Cita_Consulta
ÂÂ% ;
(
ÂÂ; <
MdsynAmReservaE
ÂÂ< K
pMdsynAmReservaE
ÂÂL \
)
ÂÂ\ ]
{
ÃÃ 	
var
ÄÄ 
oList
ÄÄ 
=
ÄÄ 
new
ÄÄ 
List
ÄÄ  
<
ÄÄ  !
MdsynAmReservaE
ÄÄ! 0
>
ÄÄ0 1
(
ÄÄ1 2
)
ÄÄ2 3
;
ÄÄ3 4
oList
ÅÅ 
=
ÅÅ 
new
ÅÅ 
MdsynAmReservaAD
ÅÅ (
(
ÅÅ( )
)
ÅÅ) *
.
ÅÅ* +$
Sp_Mdsyn_Cita_Consulta
ÅÅ+ A
(
ÅÅA B
pMdsynAmReservaE
ÅÅB R
)
ÅÅR S
;
ÅÅS T
return
ÆÆ 
oList
ÆÆ 
;
ÆÆ 
}
ÇÇ 	
public
ÉÉ 
async
ÉÉ 
Task
ÉÉ 
<
ÉÉ 
List
ÉÉ 
<
ÉÉ 
MdsynAmReservaE
ÉÉ .
>
ÉÉ. /
>
ÉÉ/ 0*
Sp_Mdsyn_Cita_Consulta_Async
ÉÉ1 M
(
ÉÉM N
MdsynAmReservaE
ÉÉN ]
pMdsynAmReservaE
ÉÉ^ n
)
ÉÉn o
{
ÊÊ 	
var
ËË 
oList
ËË 
=
ËË 
new
ËË 
List
ËË  
<
ËË  !
MdsynAmReservaE
ËË! 0
>
ËË0 1
(
ËË1 2
)
ËË2 3
;
ËË3 4
oList
ÌÌ 
=
ÌÌ 
await
ÌÌ 
Task
ÌÌ 
.
ÌÌ 
Run
ÌÌ "
(
ÌÌ" #
(
ÌÌ# $
)
ÌÌ$ %
=>
ÌÌ& (
new
ÌÌ) ,
MdsynAmReservaAD
ÌÌ- =
(
ÌÌ= >
)
ÌÌ> ?
.
ÌÌ? @$
Sp_Mdsyn_Cita_Consulta
ÌÌ@ V
(
ÌÌV W
pMdsynAmReservaE
ÌÌW g
)
ÌÌg h
)
ÌÌh i
;
ÌÌi j
return
ÍÍ 
oList
ÍÍ 
;
ÍÍ 
}
ÎÎ 	
public
ÔÔ 
void
ÔÔ &
MtEnvioQrEstacionamiento
ÔÔ ,
(
ÔÔ, -
)
ÔÔ- .
{
ÕÕ 	
try
ÖÖ 
{
×× 
var
ØØ 
oList
ØØ 
=
ØØ 
new
ØØ 
List
ØØ  $
<
ØØ$ %
MdsynAmReservaE
ØØ% 4
>
ØØ4 5
(
ØØ5 6
)
ØØ6 7
;
ØØ7 8
oList
ÚÚ 
=
ÚÚ 
new
ÚÚ 
MdsynAmReservaAD
ÚÚ ,
(
ÚÚ, -
)
ÚÚ- .
.
ÚÚ. /$
Sp_Mdsyn_Cita_Consulta
ÚÚ/ E
(
ÚÚE F
new
ÚÚF I
MdsynAmReservaE
ÚÚJ Y
(
ÚÚY Z
$num
ÚÚZ [
,
ÚÚ[ \
$num
ÚÚ] ^
,
ÚÚ^ _
$str
ÚÚ` b
,
ÚÚb c
$str
ÚÚd f
,
ÚÚf g
$str
ÚÚh j
,
ÚÚj k
$str
ÚÚl n
,
ÚÚn o
$str
ÚÚp r
,
ÚÚr s
$str
ÚÚt v
,
ÚÚv w
$str
ÚÚx |
)
ÚÚ| }
)
ÚÚ} ~
;
ÚÚ~ 
var
ÛÛ 
oMdsynAmReservaE
ÛÛ $
=
ÛÛ% &
new
ÛÛ' *
MdsynAmReservaE
ÛÛ+ :
(
ÛÛ: ;
)
ÛÛ; <
;
ÛÛ< =
for
İİ 
(
İİ 
int
İİ 
index
İİ 
=
İİ  
$num
İİ! "
,
İİ" #
loopTo
İİ$ *
=
İİ+ ,
oList
İİ- 2
.
İİ2 3
Count
İİ3 8
-
İİ9 :
$num
İİ; <
;
İİ< =
index
İİ> C
<=
İİD F
loopTo
İİG M
;
İİM N
index
İİO T
++
İİT V
)
İİV W
{
ŞŞ 
oMdsynAmReservaE
ßß $
=
ßß% &
new
ßß' *
MdsynAmReservaE
ßß+ :
(
ßß: ;
)
ßß; <
;
ßß< =
oMdsynAmReservaE
àà $
=
àà% &
oList
àà' ,
[
àà, -
index
àà- 2
]
àà2 3
;
àà3 4
oMdsynAmReservaE
áá $
.
áá$ %
DscNombreQR
áá% 0
=
áá1 2
DateTime
áá3 ;
.
áá; <
Now
áá< ?
.
áá? @
ToString
áá@ H
(
ááH I
$str
ááI Y
)
ááY Z
+
áá[ \
Guid
áá] a
.
ááa b
NewGuid
ááb i
(
áái j
)
ááj k
.
áák l
ToString
áál t
(
áát u
)
ááu v
.
ááv w
	Substringááw €
(áá€ 
$numáá ‚
,áá‚ ƒ
$numáá„ †
)áá† ‡
+ááˆ ‰ 
oMdsynAmReservaEááŠ š
.ááš ›
CodAtencionáá› ¦
+áá§ ¨
$stráá© ¯
;áá¯ °
oMdsynAmReservaE
ââ $
.
ââ$ %
	DscPathQr
ââ% .
=
ââ/ 0
RutaGuardarQR
ââ1 >
+
ââ? @
oMdsynAmReservaE
ââA Q
.
ââQ R
DscNombreQR
ââR ]
;
ââ] ^
byte
ää 
[
ää 
]
ää 
imgQR
ää  
=
ää! "
Bus
ää# &
.
ää& '
	Utilities
ää' 0
.
ää0 1
QR
ää1 3
.
ää3 4
QR_
ää4 7
(
ää7 8
oMdsynAmReservaE
ää8 H
.
ääH I
DscQr
ääI N
)
ääN O
;
ääO P
bool
åå 
EsExito
åå  
=
åå! "
GrabaQREnCarpeta
åå# 3
(
åå3 4
oMdsynAmReservaE
åå4 D
.
ååD E
DscNombreQR
ååE P
,
ååP Q
imgQR
ååR W
)
ååW X
;
ååX Y
if
çç 
(
çç 
EsExito
çç 
)
çç  
{
èè 
if
ìì 
(
ìì 
oMdsynAmReservaE
ìì ,
.
ìì, -
IDCita
ìì- 3
==
ìì4 6
$num
ìì7 8
)
ìì8 9
{
íí 
var
îî 
	oHospital
îî  )
=
îî* +
new
îî, /
Hospital
îî0 8
(
îî8 9
)
îî9 :
;
îî: ;
var
ïï 
pHospitalQR
ïï  +
=
ïï, -
new
ïï. 1
	HospitalE
ïï2 ;
.
ïï; <

HospitalQR
ïï< F
(
ïïF G
)
ïïG H
;
ïïH I
pHospitalQR
ğğ '
.
ğğ' (
codatencion
ğğ( 3
=
ğğ4 5
oMdsynAmReservaE
ğğ6 F
.
ğğF G
CodAtencion
ğğG R
;
ğğR S
pHospitalQR
ññ '
.
ññ' (
dsc_nombre_qr
ññ( 5
=
ññ6 7
oMdsynAmReservaE
ññ8 H
.
ññH I
DscNombreQR
ññI T
;
ññT U
	oHospital
óó %
.
óó% &&
Sp_hospitalqr_Actualizar
óó& >
(
óó> ?
pHospitalQR
óó? J
)
óóJ K
;
óóK L
}
ôô 
else
õõ 
{
öö 
new
÷÷ 
MdsynAmReservaAD
÷÷  0
(
÷÷0 1
)
÷÷1 2
.
÷÷2 3(
Sp_Mdsyn_Cita_UpdatexCampo
÷÷3 M
(
÷÷M N
new
÷÷N Q
MdsynAmReservaE
÷÷R a
(
÷÷a b
oMdsynAmReservaE
÷÷b r
.
÷÷r s
IDCita
÷÷s y
,
÷÷y z
oMdsynAmReservaE÷÷{ ‹
.÷÷‹ Œ
DscNombreQR÷÷Œ —
,÷÷— ˜
$str÷÷™ ¨
,÷÷¨ ©
$num÷÷ª «
)÷÷« ¬
)÷÷¬ ­
;÷÷­ ®
}
øø 
}
úú 
else
üü 
{
ıı 
new
şş 
CorreoAgenda
şş (
(
şş( )
)
şş) *
.
şş* +#
GuardarMensajeNotepad
şş+ @
(
şş@ A
$str
şşA t
,
şşt u
$strşşv š
)şşš ›
;şş› œ
}
ÿÿ 
}
 
}
‚‚ 
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ 
ex
ƒƒ 
)
ƒƒ  
{
„„ %
Guardar_Error_BaseDatos
…… '
(
……' (
ex
……( *
.
……* +
ToString
……+ 3
(
……3 4
)
……4 5
,
……5 6
$str
……7 Y
)
……Y Z
;
……Z [
}
†† 
new
‡‡ 
TablasAD
‡‡ 
(
‡‡ 
)
‡‡ 
.
‡‡ 
Sp_Tablas_Update
‡‡ +
(
‡‡+ ,
new
‡‡, /
TablasE
‡‡0 7
(
‡‡7 8
$str
‡‡8 J
,
‡‡J K
$str
‡‡L P
,
‡‡P Q
DateTime
‡‡R Z
.
‡‡Z [
Now
‡‡[ ^
.
‡‡^ _
ToString
‡‡_ g
(
‡‡g h
$str‡‡h 
)‡‡ ‚
,‡‡‚ ƒ
$str‡‡„ Œ
)‡‡Œ 
)‡‡ 
;‡‡ 
}
ˆˆ 	
public
‹‹ 
bool
‹‹ 
GrabaQREnCarpeta
‹‹ $
(
‹‹$ %
string
‹‹% +
DscNombreQR
‹‹, 7
,
‹‹7 8
byte
‹‹9 =
[
‹‹= >
]
‹‹> ?
imgQR
‹‹@ E
)
‹‹E F
{
ŒŒ 	
string
 
	rutaDeRed
 
=
 
pValorCodigoTabla
 0
(
0 1
$str
1 =
,
= >
$str
? C
)
C D
;
D E
string
 
nombreArchivo
  
=
! "
DscNombreQR
# .
;
. /
string
‘‘ 
archivoCompleto
‘‘ "
=
‘‘# $
Path
‘‘% )
.
‘‘) *
Combine
‘‘* 1
(
‘‘1 2
	rutaDeRed
‘‘2 ;
,
‘‘; <
nombreArchivo
‘‘= J
)
‘‘J K
;
‘‘K L
string
’’ 
username
’’ 
=
’’ 
VariablesGlobales
’’ /
.
’’/ 0
	UserRedQR
’’0 9
;
’’9 :
string
““ 
password
““ 
=
““ 
VariablesGlobales
““ /
.
““/ 0

ClaveRedQR
““0 :
;
““: ;
bool
•• 
EsExito
•• 
=
•• 
false
••  
;
••  !
var
™™ 
netUseProcess
™™ 
=
™™ 
new
™™  #
Process
™™$ +
{
šš 
	StartInfo
›› 
=
›› 
new
›› 
ProcessStartInfo
››  0
{
œœ 
FileName
 
=
 
$str
 $
,
$ %
	Arguments
 
=
 
$@"
  #
$str
# '
{
' (
	rutaDeRed
( 1
}
1 2
$str
2 9
{
9 :
username
: B
}
B C
$str
C D
{
D E
password
E M
}
M N
"
N O
,
O P$
RedirectStandardOutput
ŸŸ *
=
ŸŸ+ ,
true
ŸŸ- 1
,
ŸŸ1 2
UseShellExecute
   #
=
  $ %
false
  & +
,
  + ,
CreateNoWindow
¡¡ "
=
¡¡# $
true
¡¡% )
}
¢¢ 
}
££ 
;
££ 
netUseProcess
¥¥ 
.
¥¥ 
Start
¥¥ 
(
¥¥  
)
¥¥  !
;
¥¥! "
netUseProcess
¦¦ 
.
¦¦ 
WaitForExit
¦¦ %
(
¦¦% &
)
¦¦& '
;
¦¦' (
if
¨¨ 
(
¨¨ 
netUseProcess
¨¨ 
.
¨¨ 
ExitCode
¨¨ &
==
¨¨' )
$num
¨¨* +
)
¨¨+ ,
{
©© 
try
ªª 
{
«« 
System
­­ 
.
­­ 
IO
­­ 
.
­­ 
File
­­ "
.
­­" #
WriteAllBytes
­­# 0
(
­­0 1
archivoCompleto
­­1 @
,
­­@ A
imgQR
­­B G
)
­­G H
;
­­H I
EsExito
¯¯ 
=
¯¯ 
true
¯¯ "
;
¯¯" #
}
±± 
catch
²² 
(
²² 
	Exception
²²  
ex
²²! #
)
²²# $
{
³³ 
new
µµ 
CorreoAgenda
µµ $
(
µµ$ %
)
µµ% &
.
µµ& '#
GuardarMensajeNotepad
µµ' <
(
µµ< =
ex
µµ= ?
.
µµ? @
Message
µµ@ G
,
µµG H
$str
µµI {
)
µµ{ |
;
µµ| }
}
·· 
finally
¸¸ 
{
¹¹ 
var
»» !
netUseDeleteProcess
»» +
=
»», -
new
»». 1
Process
»»2 9
{
¼¼ 
	StartInfo
½½ !
=
½½" #
new
½½$ '
ProcessStartInfo
½½( 8
{
¾¾ 
FileName
¿¿ $
=
¿¿% &
$str
¿¿' ,
,
¿¿, -
	Arguments
ÀÀ %
=
ÀÀ& '
$@"
ÀÀ( +
$str
ÀÀ+ /
{
ÀÀ/ 0
	rutaDeRed
ÀÀ0 9
}
ÀÀ9 :
$str
ÀÀ: B
"
ÀÀB C
,
ÀÀC D$
RedirectStandardOutput
ÁÁ 2
=
ÁÁ3 4
true
ÁÁ5 9
,
ÁÁ9 :
UseShellExecute
ÂÂ +
=
ÂÂ, -
false
ÂÂ. 3
,
ÂÂ3 4
CreateNoWindow
ÃÃ *
=
ÃÃ+ ,
true
ÃÃ- 1
}
ÄÄ 
}
ÅÅ 
;
ÅÅ !
netUseDeleteProcess
ÇÇ '
.
ÇÇ' (
Start
ÇÇ( -
(
ÇÇ- .
)
ÇÇ. /
;
ÇÇ/ 0!
netUseDeleteProcess
ÈÈ '
.
ÈÈ' (
WaitForExit
ÈÈ( 3
(
ÈÈ3 4
)
ÈÈ4 5
;
ÈÈ5 6
}
ÉÉ 
}
ÊÊ 
return
ÌÌ 
EsExito
ÌÌ 
;
ÌÌ 
}
ÎÎ 	
private
ÑÑ 
string
ÑÑ 
pValorCodigoTabla
ÑÑ (
(
ÑÑ( )
string
ÑÑ) /
tabla
ÑÑ0 5
,
ÑÑ5 6
string
ÑÑ7 =
codigo
ÑÑ> D
)
ÑÑD E
{
ÒÒ 	
string
ÓÓ 
	resultado
ÓÓ 
=
ÓÓ 
$str
ÓÓ !
;
ÓÓ! "
List
ÔÔ 
<
ÔÔ 
TablasE
ÔÔ 
>
ÔÔ 
oList
ÔÔ 
;
ÔÔ  
oList
ÕÕ 
=
ÕÕ 
new
ÕÕ 
TablasAD
ÕÕ  
(
ÕÕ  !
)
ÕÕ! "
.
ÕÕ" # 
Sp_Tablas_Consulta
ÕÕ# 5
(
ÕÕ5 6
new
ÕÕ6 9
TablasE
ÕÕ: A
(
ÕÕA B
tabla
ÕÕB G
,
ÕÕG H
codigo
ÕÕI O
,
ÕÕO P
$num
ÕÕQ S
,
ÕÕS T
$num
ÕÕU V
,
ÕÕV W
-
ÕÕX Y
$num
ÕÕY Z
)
ÕÕZ [
)
ÕÕ[ \
;
ÕÕ\ ]
if
ÖÖ 
(
ÖÖ 
oList
ÖÖ 
.
ÖÖ 
Count
ÖÖ 
>=
ÖÖ 
$num
ÖÖ  
)
ÖÖ  !
	resultado
ÖÖ" +
=
ÖÖ, -
oList
ÖÖ. 3
[
ÖÖ3 4
$num
ÖÖ4 5
]
ÖÖ5 6
.
ÖÖ6 7
Nombre
ÖÖ7 =
.
ÖÖ= >
Trim
ÖÖ> B
(
ÖÖB C
)
ÖÖC D
;
ÖÖD E
return
×× 
	resultado
×× 
;
×× 
}
ØØ 	
public
İİ 
async
İİ 
Task
İİ &
ObtenerPagosVisaNetAsync
İİ 2
(
İİ2 3
)
İİ3 4
{
ŞŞ 	
await
ßß 
Task
ßß 
.
ßß 
Run
ßß 
(
ßß 
(
ßß 
)
ßß 
=>
ßß  !
ObtenerPagosVisaNet
ßß! 4
(
ßß4 5
)
ßß5 6
)
ßß6 7
.
ßß7 8
ConfigureAwait
ßß8 F
(
ßßF G
false
ßßG L
)
ßßL M
;
ßßM N
}
àà 	
public
ââ 
void
ââ !
ObtenerPagosVisaNet
ââ '
(
ââ' (
)
ââ( )
{
ãã 	
try
ää 
{
åå 
var
ææ 
oList
ææ 
=
ææ 
new
ææ 
List
ææ  $
<
ææ$ %
MdsynDatosPagosE
ææ% 5
>
ææ5 6
(
ææ6 7
)
ææ7 8
;
ææ8 9
oList
çç 
=
çç 
new
çç 
MdsynDatosPagosAD
çç -
(
çç- .
)
çç. /
.
çç/ 0.
 Sp_MdsynDatosPagos_Cita_Consulta
çç0 P
(
ççP Q
new
ççQ T
MdsynDatosPagosE
ççU e
(
ççe f
$str
ççf h
,
ççh i
$str
ççj l
,
ççl m
$str
ççn p
,
ççp q
$num
ççr s
,
ççs t
$num
ççu w
)
ççw x
)
ççx y
;
ççy z
if
èè 
(
èè 
oList
èè 
.
èè 
Count
èè 
!=
èè  "
$num
èè# $
)
èè$ %
{
éé %
VisaNet_ApiAutorizacion
êê +
=
êê, -&
fnObtenerAutorizacionApi
êê. F
(
êêF G,
VisaNet_ApiKeyAutorizacion_App
êêG e
)
êêe f
;
êêf g'
ObtenerPagosPorPlataforma
ëë -
(
ëë- .
oList
ëë. 3
,
ëë3 4$
VisaNet_merchantId_App
ëë5 K
)
ëëK L
;
ëëL M
}
ìì 
oList
îî 
=
îî 
new
îî 
MdsynDatosPagosAD
îî -
(
îî- .
)
îî. /
.
îî/ 0.
 Sp_MdsynDatosPagos_Cita_Consulta
îî0 P
(
îîP Q
new
îîQ T
MdsynDatosPagosE
îîU e
(
îîe f
$str
îîf h
,
îîh i
$str
îîj l
,
îîl m
$str
îîn p
,
îîp q
$num
îîr s
,
îîs t
$num
îîu w
)
îîw x
)
îîx y
;
îîy z
if
ïï 
(
ïï 
oList
ïï 
.
ïï 
Count
ïï 
!=
ïï  "
$num
ïï# $
)
ïï$ %
{
ğğ %
VisaNet_ApiAutorizacion
ññ +
=
ññ, -&
fnObtenerAutorizacionApi
ññ. F
(
ññF G,
VisaNet_ApiKeyAutorizacion_Web
ññG e
)
ññe f
;
ññf g'
ObtenerPagosPorPlataforma
òò -
(
òò- .
oList
òò. 3
,
òò3 4$
VisaNet_merchantId_Web
òò5 K
)
òòK L
;
òòL M
}
óó 
}
ôô 
catch
õõ 
(
õõ 
	Exception
õõ 
ex
õõ 
)
õõ  
{
öö %
VisaNet_ApiAutorizacion
÷÷ '
=
÷÷( )
$str
÷÷* ,
;
÷÷, -%
Guardar_Error_BaseDatos
øø '
(
øø' (
ex
øø( *
.
øø* +
ToString
øø+ 3
(
øø3 4
)
øø4 5
,
øø5 6
$str
øø7 L
)
øøL M
;
øøM N
}
ùù 
new
úú 
TablasAD
úú 
(
úú 
)
úú 
.
úú 
Sp_Tablas_Update
úú +
(
úú+ ,
new
úú, /
TablasE
úú0 7
(
úú7 8
$str
úú8 X
,
úúX Y
$str
úúZ ^
,
úú^ _
DateTime
úú` h
.
úúh i
Now
úúi l
.
úúl m
ToString
úúm u
(
úúu v
$strúúv 
)úú 
,úú ‘
$strúú’ š
)úúš ›
)úú› œ
;úúœ 
}
ûû 	
private
ÿÿ 
string
ÿÿ &
fnObtenerAutorizacionApi
ÿÿ /
(
ÿÿ/ 0
string
ÿÿ0 6(
VisaNet_ApiKeyAutorizacion
ÿÿ7 Q
)
ÿÿQ R
{
€€ 	
return
 
Json
 
.
 
MethodSignature
 '
(
' (
Json
( ,
.
, -

MethodJson
- 7
.
7 8
POST
8 <
,
< =
VisaNet_Ws_Url
> L
+
M N
$str
O j
,
j k
$str
l n
,
n o
true
p t
,
t u
new
‚‚ 
Json
‚‚ 
.
‚‚ 

Parameters
‚‚ #
(
‚‚# $
$str
‚‚$ 3
,
‚‚3 4(
VisaNet_ApiKeyAutorizacion
‚‚5 O
,
‚‚O P
Json
‚‚Q U
.
‚‚U V

TipoFormat
‚‚V `
.
‚‚` a
Header
‚‚a g
)
‚‚g h
)
‚‚h i
;
‚‚i j
}
ƒƒ 	
private
ˆˆ 
void
ˆˆ '
ObtenerPagosPorPlataforma
ˆˆ .
(
ˆˆ. /
List
ˆˆ/ 3
<
ˆˆ3 4
MdsynDatosPagosE
ˆˆ4 D
>
ˆˆD E
oList
ˆˆF K
,
ˆˆK L
string
ˆˆM S 
VisaNet_merchantId
ˆˆT f
)
ˆˆf g
{
‰‰ 	
string
ŠŠ 
rpta
ŠŠ 
=
ŠŠ 
$str
ŠŠ 
;
ŠŠ 
string
‹‹ 
jsonBody
‹‹ 
=
‹‹ 
$str
‹‹  
;
‹‹  !
string
 
	QueryType
 
=
 
$str
 )
;
) *
string
 

identifier
 
=
 
$str
  "
;
" #
var
 
objVenta
 
=
 
new
 3
%ResponseConsultaVentaRealizadaVisaNet
 D
(
D E
)
E F
;
F G
string
‘‘ 
EstPagoExitoso
‘‘ !
=
‘‘" #
$str
‘‘$ &
;
‘‘& '
try
““ 
{
”” 
for
•• 
(
•• 
int
•• 
i
•• 
=
•• 
$num
•• 
,
•• 
loopTo
••  &
=
••' (
oList
••) .
.
••. /
Count
••/ 4
-
••5 6
$num
••7 8
;
••8 9
i
••: ;
<=
••< >
loopTo
••? E
;
••E F
i
••G H
++
••H J
)
••J K
{
–– 

identifier
—— 
=
——  
oList
——! &
[
——& '
i
——' (
]
——( )
.
——) *
NroOperacion
——* 6
.
——6 7
ToString
——7 ?
(
——? @
)
——@ A
;
——A B
rpta
˜˜ 
=
˜˜ 
Json
˜˜ 
.
˜˜  
MethodSignature
˜˜  /
(
˜˜/ 0
Json
˜˜0 4
.
˜˜4 5

MethodJson
˜˜5 ?
.
˜˜? @
GET
˜˜@ C
,
˜˜C D
VisaNet_Ws_Url
˜˜E S
+
˜˜T U
(
˜˜V W
$str
˜˜W x
+
˜˜y z
	QueryType˜˜{ „
+˜˜… †
$str˜˜‡ Š
+˜˜‹ Œ"
VisaNet_merchantId˜˜ Ÿ
+˜˜  ¡
$str˜˜¢ ¥
+˜˜¦ §

identifier˜˜¨ ²
+˜˜³ ´
$str˜˜µ ·
)˜˜· ¸
,˜˜¸ ¹
jsonBody˜˜º Â
,˜˜Â Ã
true˜˜Ä È
,˜˜È É
new˜˜Ê Í
Json˜˜Î Ò
.˜˜Ò Ó

Parameters˜˜Ó İ
(˜˜İ Ş
$str˜˜Ş æ
,˜˜æ ç
$str˜˜è ú
,˜˜ú û
Json˜˜ü €
.˜˜€ 

TipoFormat˜˜ ‹
.˜˜‹ Œ
Header˜˜Œ ’
)˜˜’ “
,˜˜“ ”
new˜˜• ˜
Json˜˜™ 
.˜˜ 

Parameters˜˜ ¨
(˜˜¨ ©
$str˜˜© ¸
,˜˜¸ ¹'
VisaNet_ApiAutorizacion˜˜º Ñ
,˜˜Ñ Ò
Json˜˜Ó ×
.˜˜× Ø

TipoFormat˜˜Ø â
.˜˜â ã
Header˜˜ã é
)˜˜é ê
)˜˜ê ë
;˜˜ë ì
objVenta
šš 
=
šš 
new
šš "3
%ResponseConsultaVentaRealizadaVisaNet
šš# H
(
ššH I
)
ššI J
;
ššJ K
objVenta
›› 
=
›› 
(
››  3
%ResponseConsultaVentaRealizadaVisaNet
››  E
)
››E F

Newtonsoft
››F P
.
››P Q
Json
››Q U
.
››U V
JsonConvert
››V a
.
››a b
DeserializeObject
››b s
(
››s t
rpta
››t x
,
››x y
typeof››z €
(››€ 5
%ResponseConsultaVentaRealizadaVisaNet›› ¦
)››¦ §
)››§ ¨
;››¨ ©
if
 
(
 
objVenta
  
!=
! #
null
$ (
)
( )
{
 
EstPagoExitoso
ŸŸ &
=
ŸŸ' ((
fnObtenerEstadoPagoExitoso
ŸŸ) C
(
ŸŸC D
objVenta
ŸŸD L
)
ŸŸL M
;
ŸŸM N
if
   
(
   
EstPagoExitoso
   *
!=
  + -
$str
  . 1
)
  1 2
{
¡¡ 
new
¢¢ 
MdsynDatosPagosAD
¢¢  1
(
¢¢1 2
)
¢¢2 3
.
¢¢3 4*
Sp_MdsynDatosPagos_Update_V2
¢¢4 P
(
¢¢P Q
new
¢¢Q T
MdsynDatosPagosE
¢¢U e
(
¢¢e f
oList
¢¢f k
[
¢¢k l
i
¢¢l m
]
¢¢m n
.
¢¢n o
IdeDatospagos
¢¢o |
,
¢¢| }
$str¢¢~ €
,¢¢€ 
$str¢¢‚ „
,¢¢„ …
$str¢¢† ˆ
,¢¢ˆ ‰
$str¢¢Š Œ
,¢¢Œ 
$num¢¢ 
,¢¢ 
objVenta¢¢‘ ™
.¢¢™ š
dataMap¢¢š ¡
.¢¢¡ ¢
STATUS¢¢¢ ¨
+¢¢© ª
$str¢¢« ¶
,¢¢¶ ·
EstPagoExitoso¢¢¸ Æ
,¢¢Æ Ç
objVenta¢¢È Ğ
.¢¢Ğ Ñ
dataMap¢¢Ñ Ø
.¢¢Ø Ù
BRAND¢¢Ù Ş
,¢¢Ş ß
objVenta¢¢à è
.¢¢è é
dataMap¢¢é ğ
.¢¢ğ ñ
CARD¢¢ñ õ
,¢¢õ ö
$str¢¢÷ ù
,¢¢ù ú
rpta¢¢û ÿ
)¢¢ÿ €
)¢¢€ 
;¢¢ ‚
}
££ 
else
¤¤ 
{
¥¥ 
new
¦¦ 
MdsynDatosPagosAD
¦¦  1
(
¦¦1 2
)
¦¦2 3
.
¦¦3 4*
Sp_MdsynDatosPagos_Update_V2
¦¦4 P
(
¦¦P Q
new
¦¦Q T
MdsynDatosPagosE
¦¦U e
(
¦¦e f
oList
¦¦f k
[
¦¦k l
i
¦¦l m
]
¦¦m n
.
¦¦n o
IdeDatospagos
¦¦o |
,
¦¦| }
$str¦¦~ €
,¦¦€ 
$str¦¦‚ „
,¦¦„ …
$str¦¦† ˆ
,¦¦ˆ ‰
$str¦¦Š Œ
,¦¦Œ 
$num¦¦ 
,¦¦ 
$str¦¦‘ ›
,¦¦› œ
EstPagoExitoso¦¦ «
,¦¦« ¬
$str¦¦­ ¯
,¦¦¯ °
$str¦¦± ³
,¦¦³ ´
$str¦¦µ ·
,¦¦· ¸
rpta¦¦¹ ½
)¦¦½ ¾
)¦¦¾ ¿
;¦¦¿ À
}
§§ 
}
¨¨ 
}
©© 
}
ªª 
catch
«« 
(
«« 
	Exception
«« 
ex
«« 
)
««  
{
¬¬ %
VisaNet_ApiAutorizacion
­­ '
=
­­( )
$str
­­* ,
;
­­, -%
Guardar_Error_BaseDatos
®® '
(
®®' (
$str
®®( 8
+
®®9 :

identifier
®®; E
+
®®F G
$str
®®H O
+
®®P Q
$str
¯¯( D
+
¯¯E F 
VisaNet_merchantId
¯¯G Y
+
¯¯Z [
$str
¯¯\ a
+
¯¯b c
(
¯¯d e 
VisaNet_merchantId
¯¯e w
==
¯¯x z%
VisaNet_merchantId_App¯¯{ ‘
?¯¯’ “
$str¯¯” ™
:¯¯š ›
$str¯¯œ ¡
)¯¯¡ ¢
+¯¯£ ¤
$str¯¯¥ ¬
+¯¯­ ®
$str
°°( 0
+
°°1 2
rpta
°°3 7
+
°°8 9
$str
°°: A
+
°°B C
$str
±±( 7
+
±±8 9
ex
±±: <
.
±±< =
ToString
±±= E
(
±±E F
)
±±F G
,
±±G H
$str
±±I d
)
±±d e
;
±±e f
}
²² 
}
´´ 	
private
ºº 
string
ºº (
fnObtenerEstadoPagoExitoso
ºº 1
(
ºº1 23
%ResponseConsultaVentaRealizadaVisaNet
ºº2 W
objVentaRealizada
ººX i
)
ººi j
{
»» 	
string
¼¼ 
xResult
¼¼ 
=
¼¼ 
$str
¼¼ 
;
¼¼  
if
¾¾ 
(
¾¾ 
objVentaRealizada
¾¾ !
.
¾¾! "
	errorCode
¾¾" +
==
¾¾, .
$num
¾¾/ 2
)
¾¾2 3
{
¿¿ 
xResult
ÀÀ 
=
ÀÀ 
$str
ÀÀ 
;
ÀÀ 
}
ÁÁ 
else
ÂÂ 
if
ÂÂ 
(
ÂÂ 
objVentaRealizada
ÂÂ &
.
ÂÂ& '
order
ÂÂ' ,
.
ÂÂ, -

actionCode
ÂÂ- 7
==
ÂÂ8 :
$str
ÂÂ; @
)
ÂÂ@ A
{
ÃÃ 
xResult
ÄÄ 
=
ÄÄ 
$str
ÄÄ 
;
ÄÄ 
}
ÅÅ 
else
ÆÆ 
{
ÇÇ 
xResult
ÈÈ 
=
ÈÈ 
$str
ÈÈ 
;
ÈÈ 
}
ÉÉ 
return
ËË 
xResult
ËË 
;
ËË 
}
ÌÌ 	
public
ÔÔ 
async
ÔÔ 
Task
ÔÔ #
mtConfirmarCitasAsync
ÔÔ /
(
ÔÔ/ 0
)
ÔÔ0 1
{
ÕÕ 	
await
ÖÖ 
Task
ÖÖ 
.
ÖÖ 
Run
ÖÖ 
(
ÖÖ 
(
ÖÖ 
)
ÖÖ 
=>
ÖÖ  
mtConfirmarCitas
ÖÖ! 1
(
ÖÖ1 2
)
ÖÖ2 3
)
ÖÖ3 4
.
ÖÖ4 5
ConfigureAwait
ÖÖ5 C
(
ÖÖC D
false
ÖÖD I
)
ÖÖI J
;
ÖÖJ K
}
×× 	
public
ÙÙ 

RespuestaE
ÙÙ 
mtConfirmarCitas
ÙÙ *
(
ÙÙ* +
)
ÙÙ+ ,
{
ÚÚ 	
var
ÛÛ 
oRespuestaE
ÛÛ 
=
ÛÛ 
new
ÛÛ !

RespuestaE
ÛÛ" ,
(
ÛÛ, -
)
ÛÛ- .
;
ÛÛ. /
var
ÜÜ 
oMdsynAmReservaE
ÜÜ  
=
ÜÜ! "
new
ÜÜ# &
MdsynAmReservaE
ÜÜ' 6
(
ÜÜ6 7
)
ÜÜ7 8
;
ÜÜ8 9
var
İİ 
oList
İİ 
=
İİ 
new
İİ 
List
İİ  
<
İİ  !
MdsynAmReservaE
İİ! 0
>
İİ0 1
(
İİ1 2
)
İİ2 3
;
İİ3 4
oList
ßß 
=
ßß 
new
ßß 
MdsynAmReservaAD
ßß (
(
ßß( )
)
ßß) *
.
ßß* +$
Sp_Mdsyn_Cita_Consulta
ßß+ A
(
ßßA B
new
ßßB E
MdsynAmReservaE
ßßF U
(
ßßU V
$num
ßßV W
,
ßßW X
$num
ßßY Z
,
ßßZ [
$str
ßß\ ^
,
ßß^ _
$str
ßß` b
,
ßßb c
$str
ßßd f
,
ßßf g
$str
ßßh j
,
ßßj k
$str
ßßl n
,
ßßn o
$str
ßßp r
,
ßßr s
$str
ßßt w
)
ßßw x
)
ßßx y
;
ßßy z
for
àà 
(
àà 
int
àà 
i
àà 
=
àà 
$num
àà 
,
àà 
loopTo
àà "
=
àà# $
oList
àà% *
.
àà* +
Count
àà+ 0
-
àà1 2
$num
àà3 4
;
àà4 5
i
àà6 7
<=
àà8 :
loopTo
àà; A
;
ààA B
i
ààC D
++
ààD F
)
ààF G
{
áá 
oMdsynAmReservaE
ââ  
=
ââ! "
new
ââ# &
MdsynAmReservaE
ââ' 6
(
ââ6 7
)
ââ7 8
;
ââ8 9
oMdsynAmReservaE
ää  
=
ää! "
oList
ää# (
[
ää( )
i
ää) *
]
ää* +
;
ää+ ,
if
ææ 
(
ææ 
oMdsynAmReservaE
ææ $
.
ææ$ %
CodAtencion
ææ% 0
!=
ææ1 3
$str
ææ4 6
)
ææ6 7
{
çç 
new
èè 
MdsynAmReservaAD
èè (
(
èè( )
)
èè) *
.
èè* ++
Sp_PresotorAmbulatorio_Insert
èè+ H
(
èèH I
oMdsynAmReservaE
èèI Y
)
èèY Z
;
èèZ [
oMdsynAmReservaE
êê $
.
êê$ %

NuevoValor
êê% /
=
êê0 1
CodUser
êê2 9
;
êê9 :
oMdsynAmReservaE
ëë $
.
ëë$ %
Campo
ëë% *
=
ëë+ ,
$str
ëë- <
;
ëë< =
new
ìì 
MdsynAmReservaAD
ìì (
(
ìì( )
)
ìì) *
.
ìì* +(
Sp_Mdsyn_Cita_UpdatexCampo
ìì+ E
(
ììE F
oMdsynAmReservaE
ììF V
)
ììV W
;
ììW X
}
íí 
else
îî 
{
ïï %
Guardar_Error_BaseDatos
ğğ +
(
ğğ+ ,
$str
ğğ, ;
+
ğğ< =
oMdsynAmReservaE
ğğ> N
.
ğğN O

IdeReserva
ğğO Y
.
ğğY Z
ToString
ğğZ b
(
ğğb c
)
ğğc d
+
ğğe f
$strğğg …
,ğğ… †
$strğğ‡ ™
)ğğ™ š
;ğğš ›
}
ññ 
}
òò 
new
ôô 
TablasAD
ôô 
(
ôô 
)
ôô 
.
ôô 
Sp_Tablas_Update
ôô +
(
ôô+ ,
new
ôô, /
TablasE
ôô0 7
(
ôô7 8
$str
ôô8 V
,
ôôV W
$str
ôôX \
,
ôô\ ]
DateTime
ôô^ f
.
ôôf g
Now
ôôg j
.
ôôj k
ToString
ôôk s
(
ôôs t
$strôôt 
)ôô 
,ôô 
$strôô ˜
)ôô˜ ™
)ôô™ š
;ôôš ›
return
öö 
oRespuestaE
öö 
;
öö 
}
÷÷ 	
public
ıı 
void
ıı 
mtProcesoPagoPre
ıı $
(
ıı$ %
)
ıı% &
{
şş 	
var
ÿÿ 
oList
ÿÿ 
=
ÿÿ 
new
ÿÿ 
List
ÿÿ  
<
ÿÿ  !
MdsynDatosPagosE
ÿÿ! 1
>
ÿÿ1 2
(
ÿÿ2 3
)
ÿÿ3 4
;
ÿÿ4 5
int
€€ 
i
€€ 
=
€€ 
$num
€€ 
;
€€ 
string
 
	msg_error
 
=
 
$str
 !
;
! "
try
‚‚ 
{
ƒƒ 
oList
„„ 
=
„„ 
new
„„ 
MdsynDatosPagosAD
„„ -
(
„„- .
)
„„. /
.
„„/ 0.
 Sp_MdsynDatosPagos_Cita_Consulta
„„0 P
(
„„P Q
new
„„Q T
MdsynDatosPagosE
„„U e
(
„„e f
$str
„„f h
,
„„h i
$str
„„j l
,
„„l m
$str
„„n p
,
„„p q
$num
„„r s
,
„„s t
$num
„„u x
)
„„x y
)
„„y z
;
„„z {
var
…… 
loopTo
…… 
=
…… 
oList
…… "
.
……" #
Count
……# (
-
……) *
$num
……+ ,
;
……, -
for
†† 
(
†† 
i
†† 
=
†† 
$num
†† 
;
†† 
i
†† 
<=
††  
loopTo
††! '
;
††' (
i
††) *
++
††* ,
)
††, -
{
‡‡ %
ProcesoPagoPorIdCitaPre
ˆˆ +
(
ˆˆ+ ,
oList
ˆˆ, 1
[
ˆˆ1 2
i
ˆˆ2 3
]
ˆˆ3 4
.
ˆˆ4 5
IdeCita
ˆˆ5 <
)
ˆˆ< =
;
ˆˆ= >
}
‰‰ 
}
ŠŠ 
catch
‹‹ 
(
‹‹ 
	Exception
‹‹ 
ex
‹‹ 
)
‹‹  
{
ŒŒ 
	msg_error
 
=
 
$str
 (
+
) *
i
+ ,
.
, -
ToString
- 5
(
5 6
)
6 7
+
8 9
$str
: A
+
B C
$str
D O
+
P Q
ex
R T
.
T U
Message
U \
+
] ^
$str
_ s
+
t u
ex
v x
.
x y

StackTracey ƒ
+„ …
$str† 
; %
Guardar_Error_BaseDatos
 '
(
' (
	msg_error
( 1
,
1 2
$str
3 _
)
_ `
;
` a
}
 
}
‘‘ 	
public
““ 
async
““ 
Task
““ #
mtProcesoPagoPreAsync
““ /
(
““/ 0
)
““0 1
{
”” 	
var
•• 
oList
•• 
=
•• 
new
•• 
List
••  
<
••  !
MdsynDatosPagosE
••! 1
>
••1 2
(
••2 3
)
••3 4
;
••4 5
int
–– 
i
–– 
=
–– 
$num
–– 
;
–– 
string
—— 
	msg_error
—— 
=
—— 
$str
—— !
;
——! "
try
˜˜ 
{
™™ 
oList
šš 
=
šš 
new
šš 
MdsynDatosPagosAD
šš -
(
šš- .
)
šš. /
.
šš/ 0.
 Sp_MdsynDatosPagos_Cita_Consulta
šš0 P
(
ššP Q
new
ššQ T
MdsynDatosPagosE
ššU e
(
šše f
$str
ššf h
,
ššh i
$str
ššj l
,
ššl m
$str
ššn p
,
ššp q
$num
ššr s
,
ššs t
$num
ššu x
)
ššx y
)
ššy z
;
ššz {
var
›› 
loopTo
›› 
=
›› 
oList
›› "
.
››" #
Count
››# (
-
››) *
$num
››+ ,
;
››, -
for
œœ 
(
œœ 
i
œœ 
=
œœ 
$num
œœ 
;
œœ 
i
œœ 
<=
œœ  
loopTo
œœ! '
;
œœ' (
i
œœ) *
++
œœ* ,
)
œœ, -
{
 
await
 
Task
 
.
 
Run
 "
(
" #
(
# $
)
$ %
=>
& (%
ProcesoPagoPorIdCitaPre
) @
(
@ A
oList
A F
[
F G
i
G H
]
H I
.
I J
IdeCita
J Q
)
Q R
)
R S
.
S T
ConfigureAwait
T b
(
b c
false
c h
)
h i
;
i j
}
ŸŸ 
}
   
catch
¡¡ 
(
¡¡ 
	Exception
¡¡ 
ex
¡¡ 
)
¡¡  
{
¢¢ 
	msg_error
££ 
=
££ 
$str
££ (
+
££) *
i
££+ ,
.
££, -
ToString
££- 5
(
££5 6
)
££6 7
+
££8 9
$str
££: A
+
££B C
$str
££D O
+
££P Q
ex
££R T
.
££T U
Message
££U \
+
££] ^
$str
££_ s
+
££t u
ex
££v x
.
££x y

StackTrace££y ƒ
+££„ …
$str££† 
;££ %
Guardar_Error_BaseDatos
¥¥ '
(
¥¥' (
	msg_error
¥¥( 1
,
¥¥1 2
$str
¥¥3 _
)
¥¥_ `
;
¥¥` a
}
¦¦ 
}
§§ 	
public
¬¬ 
string
¬¬ %
ProcesoPagoPorIdCitaPre
¬¬ -
(
¬¬- .
int
¬¬. 1
ide_cita
¬¬2 :
)
¬¬: ;
{
­­ 	
try
®® 
{
¯¯ 
string
±± 
	Resultado
±±  
=
±±! "
$str
±±# %
;
±±% &
MdsynDatosPagosE
²²  
oMdsynDatosPagosE
²²! 2
=
²²3 4
new
²²5 8
MdsynDatosPagosE
²²9 I
(
²²I J
)
²²J K
;
²²K L
MdsynDatosPagosE
³³  $
oMdsynDatosPagosE_base
³³! 7
=
³³8 9
new
³³: =
MdsynDatosPagosAD
³³> O
(
³³O P
)
³³P Q
.
³³Q R2
$Sp_MdsynDatosPagos_Cita_ConsultaBase
³³R v
(
³³v w
ide_cita
³³w 
,³³ €
$num³³ „
)³³„ …
;³³… †
if
µµ 
(
µµ $
oMdsynDatosPagosE_base
µµ *
.
µµ* +
IdeCita
µµ+ 2
==
µµ3 5
$num
µµ6 7
)
µµ7 8
return
µµ9 ?
$str
µµ@ Z
;
µµZ [
if
¶¶ 
(
¶¶ $
oMdsynDatosPagosE_base
¶¶ *
.
¶¶* +
CodCobertura
¶¶+ 7
==
¶¶8 :
$str
¶¶; =
)
¶¶= >
return
¶¶? E
$str
¶¶F c
;
¶¶c d
if
·· 
(
·· $
oMdsynDatosPagosE_base
·· *
.
··* +
Error
··+ 0
!=
··1 3
$str
··4 6
)
··6 7
return
··8 >$
oMdsynDatosPagosE_base
··? U
.
··U V
Error
··V [
;
··[ \
oMdsynDatosPagosE
ºº !
.
ºº! "
CodCobertura
ºº" .
=
ºº/ 0$
oMdsynDatosPagosE_base
ºº1 G
.
ººG H
CodCobertura
ººH T
;
ººT U
oMdsynDatosPagosE
¼¼ !
.
¼¼! "
	TipMoneda
¼¼" +
=
¼¼, -
$str
¼¼. 5
;
¼¼5 6
oMdsynDatosPagosE
¿¿ !
.
¿¿! "
CodAsegurado
¿¿" .
=
¿¿/ 0$
oMdsynDatosPagosE_base
¿¿1 G
.
¿¿G H
CodAsegurado
¿¿H T
;
¿¿T U
oMdsynDatosPagosE
ÀÀ !
.
ÀÀ! "
TipPrt
ÀÀ" (
=
ÀÀ) *$
oMdsynDatosPagosE_base
ÀÀ+ A
.
ÀÀA B
TipPrt
ÀÀB H
;
ÀÀH I
oMdsynDatosPagosE
ÁÁ !
.
ÁÁ! "
TipParentesco
ÁÁ" /
=
ÁÁ0 1$
oMdsynDatosPagosE_base
ÁÁ2 H
.
ÁÁH I
TipParentesco
ÁÁI V
;
ÁÁV W
oMdsynDatosPagosE
ÂÂ !
.
ÂÂ! "
NroPlan
ÂÂ" )
=
ÂÂ* +$
oMdsynDatosPagosE_base
ÂÂ, B
.
ÂÂB C
NroPlan
ÂÂC J
;
ÂÂJ K
oMdsynDatosPagosE
ÃÃ !
.
ÃÃ! "
TipDocempresa
ÃÃ" /
=
ÃÃ0 1$
oMdsynDatosPagosE_base
ÃÃ2 H
.
ÃÃH I
TipDocempresa
ÃÃI V
;
ÃÃV W
;
ÃÃX Y
oMdsynDatosPagosE
ÄÄ !
.
ÄÄ! "
NumDocempresa
ÄÄ" /
=
ÄÄ0 1$
oMdsynDatosPagosE_base
ÄÄ2 H
.
ÄÄH I
NumDocempresa
ÄÄI V
;
ÄÄV W
oMdsynDatosPagosE
ÆÆ !
.
ÆÆ! "
TipDocumento
ÆÆ" .
=
ÆÆ/ 0$
oMdsynDatosPagosE_base
ÆÆ1 G
.
ÆÆG H
TipDocumento
ÆÆH T
;
ÆÆT U
oMdsynDatosPagosE
ÇÇ !
.
ÇÇ! "
NumDocumento
ÇÇ" .
=
ÇÇ/ 0$
oMdsynDatosPagosE_base
ÇÇ1 G
.
ÇÇG H
NumDocumento
ÇÇH T
;
ÇÇT U
oMdsynDatosPagosE
ÈÈ !
.
ÈÈ! "
FecNacimiento
ÈÈ" /
=
ÈÈ0 1$
oMdsynDatosPagosE_base
ÈÈ2 H
.
ÈÈH I
FecNacimiento
ÈÈI V
;
ÈÈV W
oMdsynDatosPagosE
ÉÉ !
.
ÉÉ! "
FecIniciovigencia
ÉÉ" 3
=
ÉÉ4 5$
oMdsynDatosPagosE_base
ÉÉ6 L
.
ÉÉL M
FecIniciovigencia
ÉÉM ^
;
ÉÉ^ _
oMdsynDatosPagosE
ÊÊ !
.
ÊÊ! "
FecAfilicacion
ÊÊ" 0
=
ÊÊ1 2$
oMdsynDatosPagosE_base
ÊÊ3 I
.
ÊÊI J
FecAfilicacion
ÊÊJ X
;
ÊÊX Y
oMdsynDatosPagosE
ÍÍ !
.
ÍÍ! "

CoPagofijo
ÍÍ" ,
=
ÍÍ- .$
oMdsynDatosPagosE_base
ÍÍ/ E
.
ÍÍE F

CoPagofijo
ÍÍF P
;
ÍÍP Q
oMdsynDatosPagosE
ÎÎ !
.
ÎÎ! "
IdeCita
ÎÎ" )
=
ÎÎ* +$
oMdsynDatosPagosE_base
ÎÎ, B
.
ÎÎB C
IdeCita
ÎÎC J
;
ÎÎJ K
oMdsynDatosPagosE
ÏÏ !
.
ÏÏ! "
TipAtencion
ÏÏ" -
=
ÏÏ. /$
oMdsynDatosPagosE_base
ÏÏ0 F
.
ÏÏF G
TipAtencion
ÏÏG R
;
ÏÏR S
oMdsynDatosPagosE
ĞĞ !
.
ĞĞ! "
CodPaciente
ĞĞ" -
=
ĞĞ. /$
oMdsynDatosPagosE_base
ĞĞ0 F
.
ĞĞF G
CodPaciente
ĞĞG R
;
ĞĞR S
oMdsynDatosPagosE
ÑÑ !
.
ÑÑ! " 
CodPacienteTitular
ÑÑ" 4
=
ÑÑ5 6$
oMdsynDatosPagosE_base
ÑÑ7 M
.
ÑÑM N 
CodPacienteTitular
ÑÑN `
;
ÑÑ` a
oMdsynDatosPagosE
ÒÒ !
.
ÒÒ! "
CodIAFAS
ÒÒ" *
=
ÒÒ+ ,$
oMdsynDatosPagosE_base
ÒÒ- C
.
ÒÒC D
CodIAFAS
ÒÒD L
;
ÒÒL M
oMdsynDatosPagosE
ÓÓ !
.
ÓÓ! "
CodAseguradora
ÓÓ" 0
=
ÓÓ1 2$
oMdsynDatosPagosE_base
ÓÓ3 I
.
ÓÓI J
CodAseguradora
ÓÓJ X
;
ÓÓX Y
oMdsynDatosPagosE
ÔÔ !
.
ÔÔ! "
CodSede
ÔÔ" )
=
ÔÔ* +$
oMdsynDatosPagosE_base
ÔÔ, B
.
ÔÔB C
CodSede
ÔÔC J
;
ÔÔJ K
oMdsynDatosPagosE
ÕÕ !
.
ÕÕ! "
DscSede
ÕÕ" )
=
ÕÕ* +$
oMdsynDatosPagosE_base
ÕÕ, B
.
ÕÕB C
DscSede
ÕÕC J
;
ÕÕJ K
oMdsynDatosPagosE
ÖÖ !
.
ÖÖ! "
	CodSunasa
ÖÖ" +
=
ÖÖ, -$
oMdsynDatosPagosE_base
ÖÖ. D
.
ÖÖD E
	CodSunasa
ÖÖE N
;
ÖÖN O
oMdsynDatosPagosE
×× !
.
××! "
	CodMedico
××" +
=
××, -$
oMdsynDatosPagosE_base
××. D
.
××D E
	CodMedico
××E N
;
××N O
oMdsynDatosPagosE
ØØ !
.
ØØ! "
CodEspecialidad
ØØ" 1
=
ØØ2 3$
oMdsynDatosPagosE_base
ØØ4 J
.
ØØJ K
CodEspecialidad
ØØK Z
;
ØØZ [
oMdsynDatosPagosE
ÙÙ !
.
ÙÙ! "
	TipoEnvio
ÙÙ" +
=
ÙÙ, -$
oMdsynDatosPagosE_base
ÙÙ. D
.
ÙÙD E
	TipoEnvio
ÙÙE N
;
ÙÙN O
oMdsynDatosPagosE
ÚÚ !
.
ÚÚ! "
FecCita
ÚÚ" )
=
ÚÚ* +$
oMdsynDatosPagosE_base
ÚÚ, B
.
ÚÚB C
FecCita
ÚÚC J
;
ÚÚJ K
oMdsynDatosPagosE
ÜÜ !
.
ÜÜ! "
CodProfMedico
ÜÜ" /
=
ÜÜ0 1
$str
ÜÜ2 4
;
ÜÜ4 5
oMdsynDatosPagosE
İİ !
.
İİ! "$
CodEspecialidadMedisyn
İİ" 8
=
İİ9 :
$str
İİ; =
;
İİ= >
oMdsynDatosPagosE
ŞŞ !
.
ŞŞ! "
NroOperacion
ŞŞ" .
=
ŞŞ/ 0
$str
ŞŞ1 3
;
ŞŞ3 4
oMdsynDatosPagosE
ßß !
.
ßß! "!
DscMensajeRespuesta
ßß" 5
=
ßß6 7
$str
ßß8 :
;
ßß: ;
oMdsynDatosPagosE
àà !
.
àà! "
EstPagoExitoso
àà" 0
=
àà1 2
$str
àà3 5
;
àà5 6
oMdsynDatosPagosE
áá !
.
áá! "
FecRegistro
áá" -
=
áá. /
DateTime
áá0 8
.
áá8 9
Now
áá9 <
;
áá< =
oMdsynDatosPagosE
ââ !
.
ââ! "

TipTarjeta
ââ" ,
=
ââ- .
$str
ââ/ 1
;
ââ1 2
oMdsynDatosPagosE
ãã !
.
ãã! "

NumTarjeta
ãã" ,
=
ãã- .
$str
ãã/ 1
;
ãã1 2
oMdsynDatosPagosE
ää !
.
ää! " 
FlgProcesoAtencion
ää" 4
=
ää5 6
$str
ää7 9
;
ää9 :
oMdsynDatosPagosE
åå !
.
åå! " 
FecProcesoAtencion
åå" 4
=
åå5 6
DateTime
åå7 ?
.
åå? @
Now
åå@ C
.
ååC D
Date
ååD H
.
ååH I
ToString
ååI Q
(
ååQ R
)
ååR S
;
ååS T
oMdsynDatosPagosE
ææ !
.
ææ! "
CodAtencion
ææ" -
=
ææ. /
$str
ææ0 2
;
ææ2 3
oMdsynDatosPagosE
çç !
.
çç! "
CodLiquidacion
çç" 0
=
çç1 2
$str
çç3 5
;
çç5 6
oMdsynDatosPagosE
èè !
.
èè! "
CodComprobante
èè" 0
=
èè1 2
$str
èè3 5
;
èè5 6
oMdsynDatosPagosE
éé !
.
éé! "
CodNota
éé" )
=
éé* +
$str
éé, .
;
éé. /
oMdsynDatosPagosE
êê !
.
êê! "#
NumAutorizacionSiteds
êê" 7
=
êê8 9
$str
êê: <
;
êê< =
oMdsynDatosPagosE
ëë !
.
ëë! "
FlgRecepcion
ëë" .
=
ëë/ 0
$str
ëë1 3
;
ëë3 4
oMdsynDatosPagosE
ìì !
.
ìì! "
FlgAnulacion
ìì" .
=
ìì/ 0
$str
ìì1 3
;
ìì3 4
oMdsynDatosPagosE
íí !
.
íí! "!
FecProcesoAnulacion
íí" 5
=
íí6 7
DateTime
íí8 @
.
íí@ A
Now
ííA D
;
ííD E
oMdsynDatosPagosE
îî !
.
îî! "

FecAnulado
îî" ,
=
îî- .
DateTime
îî/ 7
.
îî7 8
Now
îî8 ;
;
îî; <
oMdsynDatosPagosE
ïï !
.
ïï! " 
EstProcesoAtencion
ïï" 4
=
ïï5 6
$num
ïï7 8
;
ïï8 9
oMdsynDatosPagosE
ğğ !
.
ğğ! "
Comp_DscTabla
ğğ" /
=
ğğ0 1
$str
ğğ2 5
;
ğğ5 6
bool
òò 
lswResultado
òò !
=
òò" #
new
òò$ '
MdsynDatosPagosAD
òò( 9
(
òò9 :
)
òò: ;
.
òò; <,
Sp_MdsynDatosPagos_Cita_Insert
òò< Z
(
òòZ [
oMdsynDatosPagosE
òò[ l
)
òòl m
;
òòm n
	Resultado
óó 
=
óó 
lswResultado
óó (
==
óó) +
true
óó, 0
?
óó1 2
$str
óó3 7
:
óó8 9
$str
óó: I
;
óóI J
return
õõ 
	Resultado
õõ  
;
õõ  !
}
öö 
catch
÷÷ 
(
÷÷ 
	Exception
÷÷ 
ex
÷÷ 
)
÷÷  
{
øø 
return
ùù 
$str
ùù (
+
ùù) *
ex
ùù+ -
.
ùù- .
Message
ùù. 5
;
ùù5 6
}
úú 
}
ûû 	
public
ıı 
string
ıı ,
ProcesoPagoPorIdCitaPre_SITEDS
ıı 4
(
ıı4 5
int
ıı5 8
ide_cita
ıı9 A
)
ııA B
{
şş 	
try
ÿÿ 
{
€€ 
string
ƒƒ 
	Resultado
ƒƒ  
=
ƒƒ! "
$str
ƒƒ# /
;
ƒƒ/ 0
MdsynDatosPagosE
„„  $
oMdsynDatosPagosE_base
„„! 7
=
„„8 9
new
„„: =
MdsynDatosPagosAD
„„> O
(
„„O P
)
„„P Q
.
„„Q R2
$Sp_MdsynDatosPagos_Cita_ConsultaBase
„„R v
(
„„v w
ide_cita
„„w 
,„„ €
$num„„ „
)„„„ …
;„„… †
if
†† 
(
†† $
oMdsynDatosPagosE_base
†† *
.
††* +
IdeCita
††+ 2
==
††3 5
$num
††6 7
)
††7 8
return
††9 ?
$str
††@ Z
;
††Z [
if
‡‡ 
(
‡‡ $
oMdsynDatosPagosE_base
‡‡ *
.
‡‡* +
CodCobertura
‡‡+ 7
==
‡‡8 :
$str
‡‡; =
)
‡‡= >
return
‡‡? E
$str
‡‡F c
;
‡‡c d
if
ˆˆ 
(
ˆˆ $
oMdsynDatosPagosE_base
ˆˆ *
.
ˆˆ* +
Error
ˆˆ+ 0
!=
ˆˆ1 3
$str
ˆˆ4 6
)
ˆˆ6 7
return
ˆˆ8 >$
oMdsynDatosPagosE_base
ˆˆ? U
.
ˆˆU V
Error
ˆˆV [
;
ˆˆ[ \
MdsynDatosPagosE
‹‹  
oMdsynDatosPagosE
‹‹! 2
=
‹‹3 4
new
‹‹5 8
MdsynDatosPagosE
‹‹9 I
(
‹‹I J
)
‹‹J K
;
‹‹K L!
Coberturas_AsegCode
ŒŒ #
oCoberturas
ŒŒ$ /
=
ŒŒ0 1
new
ŒŒ2 5!
Coberturas_AsegCode
ŒŒ6 I
(
ŒŒI J
)
ŒŒJ K
;
ŒŒK L
string
 

stringJson
 !
;
! "
AsegCodResponse
 
oAsegCodResponse
  0
=
1 2
new
3 6
AsegCodResponse
7 F
(
F G
)
G H
;
H I
	oWsSiteds
 
=
 
new
 
SitedsWs
  (
(
( )
)
) *
;
* +
	oWsSiteds
‘‘ 
.
‘‘ 

AsignaIAFA
‘‘ $
(
‘‘$ %$
oMdsynDatosPagosE_base
‘‘% ;
.
‘‘; <
	RucSunasa
‘‘< E
,
‘‘E F$
oMdsynDatosPagosE_base
‘‘G ]
.
‘‘] ^
	CodSunasa
‘‘^ g
,
‘‘g h$
oMdsynDatosPagosE_base
‘‘i 
.‘‘ €
CodIAFAS‘‘€ ˆ
)‘‘ˆ ‰
;‘‘‰ Š
oAsegNombRequest
““  
=
““! "
new
““# &
AsegNombRequest
““' 6
(
““6 7$
oMdsynDatosPagosE_base
““7 M
.
““M N
	RucSunasa
““N W
,
““W X$
oMdsynDatosPagosE_base
““Y o
.
““o p
	CodSunasa
““p y
,
““y z%
oMdsynDatosPagosE_base““{ ‘
.““‘ ’
CodIAFAS““’ š
)““š ›
;““› œ
oAsegNombRequest
””  
.
””  !&
CodTipoDocumentoAfiliado
””! 9
=
””: ;$
oMdsynDatosPagosE_base
””< R
.
””R S
TipoDocumento
””S `
.
””` a
ToString
””a i
(
””i j
)
””j k
;
””k l
oAsegNombRequest
••  
.
••  !%
NumeroDocumentoAfiliado
••! 8
=
••9 :$
oMdsynDatosPagosE_base
••; Q
.
••Q R
NumDocumento
••R ^
;
••^ _

stringJson
—— 
=
—— 
ConsultaAsegNom
—— ,
(
——, -
RutaWS_Siteds
——- :
,
——: ;
oAsegNombRequest
——< L
)
——L M
;
——M N
List
˜˜ 
<
˜˜ 
AsegNombResponse
˜˜ %
>
˜˜% &#
oListAsegNombResponse
˜˜' <
=
˜˜= >
(
˜˜? @
List
˜˜@ D
<
˜˜D E
AsegNombResponse
˜˜E U
>
˜˜U V
)
˜˜V W

Newtonsoft
˜˜W a
.
˜˜a b
Json
˜˜b f
.
˜˜f g
JsonConvert
˜˜g r
.
˜˜r s 
DeserializeObject˜˜s „
(˜˜„ …

stringJson˜˜… 
,˜˜ 
typeof˜˜‘ —
(˜˜— ˜
List˜˜˜ œ
<˜˜œ  
AsegNombResponse˜˜ ­
>˜˜­ ®
)˜˜® ¯
)˜˜¯ °
;˜˜° ±
oAsegCodRequest
šš 
=
šš  !
	oWsSiteds
šš" +
.
šš+ ,)
mtdAsignarAseguradoCorrecto
šš, G
(
ššG H#
oListAsegNombResponse
ššH ]
,
šš] ^
oAsegNombRequest
šš_ o
.
ššo p&
NumeroDocumentoAfiliadoššp ‡
,šš‡ ˆ
truešš‰ 
)šš 
;šš 
oAsegCodRequest
›› 
.
››  
RUC
››  #
=
››$ %
oAsegNombRequest
››& 6
.
››6 7
RUC
››7 :
;
››: ;
oAsegCodRequest
œœ 
.
œœ  
IAFAS
œœ  %
=
œœ& '
oAsegNombRequest
œœ( 8
.
œœ8 9
IAFAS
œœ9 >
;
œœ> ?
oAsegCodRequest
 
.
  
SUNASA
  &
=
' (
oAsegNombRequest
) 9
.
9 :
SUNASA
: @
;
@ A

stringJson
ŸŸ 
=
ŸŸ 
ConsultaAsegCod
ŸŸ ,
(
ŸŸ, -
RutaWS_Siteds
ŸŸ- :
,
ŸŸ: ;
oAsegCodRequest
ŸŸ< K
)
ŸŸK L
;
ŸŸL M
oAsegCodResponse
    
=
  ! "
(
  # $
AsegCodResponse
  $ 3
)
  3 4

Newtonsoft
  4 >
.
  > ?
Json
  ? C
.
  C D
JsonConvert
  D O
.
  O P
DeserializeObject
  P a
(
  a b

stringJson
  b l
,
  l m
typeof
  n t
(
  t u
AsegCodResponse  u „
)  „ …
)  … †
;  † ‡
if
¢¢ 
(
¢¢ 
oAsegCodResponse
¢¢ $
.
¢¢$ %

Coberturas
¢¢% /
!=
¢¢0 2
null
¢¢3 7
)
¢¢7 8
{
££ 
oCoberturas
¤¤ 
=
¤¤  !
oAsegCodResponse
¤¤" 2
.
¤¤2 3

Coberturas
¤¤3 =
.
¥¥ 
Where
¥¥ 
(
¥¥ 
x
¥¥  
=>
¥¥! #
x
¥¥$ %
.
¥¥% &
CodigoCobertura
¥¥& 5
==
¥¥6 8$
oMdsynDatosPagosE_base
¥¥9 O
.
¥¥O P
CodCobertura
¥¥P \
)
¥¥\ ]
.
¦¦ 
FirstOrDefault
¦¦ '
(
¦¦' (
)
¦¦( )
;
¦¦) *
if
©© 
(
©© 
oCoberturas
©© #
!=
©©$ &
null
©©' +
)
©©+ ,
{
ªª 
oMdsynDatosPagosE
«« )
.
««) *
CodCobertura
««* 6
=
««7 8
oCoberturas
««9 D
.
««D E
CodigoCobertura
««E T
;
««T U
oMdsynDatosPagosE
¬¬ )
.
¬¬) *
CoPagovariable
¬¬* 8
=
¬¬9 :
util
¬¬; ?
.
¬¬? @

ValDecimal
¬¬@ J
(
¬¬J K
oCoberturas
¬¬K V
.
¬¬V W
CodCopagoVariable
¬¬W h
)
¬¬h i
;
¬¬i j
oMdsynDatosPagosE
­­ )
.
­­) *
	TipMoneda
­­* 3
=
­­4 5
oCoberturas
­­6 A
.
­­A B
DesTipoMoneda
­­B O
;
­­O P
oMdsynDatosPagosE
°° )
.
°°) *
CodAsegurado
°°* 6
=
°°7 8
oAsegCodRequest
°°9 H
.
°°H I
CodigoAfiliado
°°I W
;
°°W X
oMdsynDatosPagosE
±± )
.
±±) *
TipPrt
±±* 0
=
±±1 2
oAsegCodRequest
±±3 B
.
±±B C
CodProducto
±±C N
;
±±N O
oMdsynDatosPagosE
²² )
.
²²) *
TipParentesco
²²* 7
=
²²8 9
oAsegCodRequest
²²: I
.
²²I J
CodParentesco
²²J W
;
²²W X
oMdsynDatosPagosE
³³ )
.
³³) *
NroPlan
³³* 1
=
³³2 3
oAsegCodRequest
³³4 C
.
³³C D

NumeroPlan
³³D N
;
³³N O
oMdsynDatosPagosE
´´ )
.
´´) *
TipDocempresa
´´* 7
=
´´8 9
oAsegCodRequest
´´: I
.
´´I J)
CodTipoDocumentoContratante
´´J e
;
´´e f
;
´´g h
oMdsynDatosPagosE
µµ )
.
µµ) *
NumDocempresa
µµ* 7
=
µµ8 9
oAsegCodRequest
µµ: I
.
µµI J(
NumeroDocumentoContratante
µµJ d
;
µµd e
oMdsynDatosPagosE
·· )
.
··) *
TipDocumento
··* 6
=
··7 8
oAsegCodResponse
··9 I
.
··I J
DatosAfiliado
··J W
.
··W X&
CodTipoDocumentoAfiliado
··X p
;
··p q
oMdsynDatosPagosE
¸¸ )
.
¸¸) *
NumDocumento
¸¸* 6
=
¸¸7 8
oAsegCodResponse
¸¸9 I
.
¸¸I J
DatosAfiliado
¸¸J W
.
¸¸W X%
NumeroDocumentoAfiliado
¸¸X o
;
¸¸o p
oMdsynDatosPagosE
¹¹ )
.
¹¹) *
FecNacimiento
¹¹* 7
=
¹¹8 9
util
¹¹: >
.
¹¹> ?
ValFecha
¹¹? G
(
¹¹G H
oAsegCodResponse
¹¹H X
.
¹¹X Y
DatosAfiliado
¹¹Y f
.
¹¹f g
FechaNacimiento
¹¹g v
)
¹¹v w
;
¹¹w x
oMdsynDatosPagosE
ºº )
.
ºº) *
FecIniciovigencia
ºº* ;
=
ºº< =
util
ºº> B
.
ººB C
ValFecha
ººC K
(
ººK L
oAsegCodResponse
ººL \
.
ºº\ ]
DatosAfiliado
ºº] j
.
ººj k!
FechaInicioVigencia
ººk ~
)
ºº~ 
;ºº €
oMdsynDatosPagosE
»» )
.
»») *
FecAfilicacion
»»* 8
=
»»9 :
util
»»; ?
.
»»? @
ValFecha
»»@ H
(
»»H I
oAsegCodResponse
»»I Y
.
»»Y Z
DatosAfiliado
»»Z g
.
»»g h
FechaAfiliacion
»»h w
)
»»w x
;
»»x y
oMdsynDatosPagosE
¾¾ )
.
¾¾) *

CoPagofijo
¾¾* 4
=
¾¾5 6$
oMdsynDatosPagosE_base
¾¾7 M
.
¾¾M N

CoPagofijo
¾¾N X
;
¾¾X Y
oMdsynDatosPagosE
¿¿ )
.
¿¿) *
IdeCita
¿¿* 1
=
¿¿2 3$
oMdsynDatosPagosE_base
¿¿4 J
.
¿¿J K
IdeCita
¿¿K R
;
¿¿R S
oMdsynDatosPagosE
ÀÀ )
.
ÀÀ) *
TipAtencion
ÀÀ* 5
=
ÀÀ6 7$
oMdsynDatosPagosE_base
ÀÀ8 N
.
ÀÀN O
TipAtencion
ÀÀO Z
;
ÀÀZ [
oMdsynDatosPagosE
ÁÁ )
.
ÁÁ) *
CodPaciente
ÁÁ* 5
=
ÁÁ6 7$
oMdsynDatosPagosE_base
ÁÁ8 N
.
ÁÁN O
CodPaciente
ÁÁO Z
;
ÁÁZ [
oMdsynDatosPagosE
ÂÂ )
.
ÂÂ) * 
CodPacienteTitular
ÂÂ* <
=
ÂÂ= >$
oMdsynDatosPagosE_base
ÂÂ? U
.
ÂÂU V 
CodPacienteTitular
ÂÂV h
;
ÂÂh i
oMdsynDatosPagosE
ÃÃ )
.
ÃÃ) *
CodIAFAS
ÃÃ* 2
=
ÃÃ3 4$
oMdsynDatosPagosE_base
ÃÃ5 K
.
ÃÃK L
CodIAFAS
ÃÃL T
;
ÃÃT U
oMdsynDatosPagosE
ÄÄ )
.
ÄÄ) *
CodAseguradora
ÄÄ* 8
=
ÄÄ9 :$
oMdsynDatosPagosE_base
ÄÄ; Q
.
ÄÄQ R
CodAseguradora
ÄÄR `
;
ÄÄ` a
oMdsynDatosPagosE
ÅÅ )
.
ÅÅ) *
CodSede
ÅÅ* 1
=
ÅÅ2 3$
oMdsynDatosPagosE_base
ÅÅ4 J
.
ÅÅJ K
CodSede
ÅÅK R
;
ÅÅR S
oMdsynDatosPagosE
ÆÆ )
.
ÆÆ) *
	CodSunasa
ÆÆ* 3
=
ÆÆ4 5$
oMdsynDatosPagosE_base
ÆÆ6 L
.
ÆÆL M
	CodSunasa
ÆÆM V
;
ÆÆV W
oMdsynDatosPagosE
ÇÇ )
.
ÇÇ) *
	CodMedico
ÇÇ* 3
=
ÇÇ4 5$
oMdsynDatosPagosE_base
ÇÇ6 L
.
ÇÇL M
	CodMedico
ÇÇM V
;
ÇÇV W
oMdsynDatosPagosE
ÈÈ )
.
ÈÈ) *
CodEspecialidad
ÈÈ* 9
=
ÈÈ: ;$
oMdsynDatosPagosE_base
ÈÈ< R
.
ÈÈR S
CodEspecialidad
ÈÈS b
;
ÈÈb c
oMdsynDatosPagosE
ÉÉ )
.
ÉÉ) *
	TipoEnvio
ÉÉ* 3
=
ÉÉ4 5$
oMdsynDatosPagosE_base
ÉÉ6 L
.
ÉÉL M
	TipoEnvio
ÉÉM V
;
ÉÉV W
oMdsynDatosPagosE
ÊÊ )
.
ÊÊ) *
FecCita
ÊÊ* 1
=
ÊÊ2 3$
oMdsynDatosPagosE_base
ÊÊ4 J
.
ÊÊJ K
FecCita
ÊÊK R
;
ÊÊR S
oMdsynDatosPagosE
ÌÌ )
.
ÌÌ) *
CodProfMedico
ÌÌ* 7
=
ÌÌ8 9
$str
ÌÌ: <
;
ÌÌ< =
oMdsynDatosPagosE
ÍÍ )
.
ÍÍ) *$
CodEspecialidadMedisyn
ÍÍ* @
=
ÍÍA B
$str
ÍÍC E
;
ÍÍE F
oMdsynDatosPagosE
ÎÎ )
.
ÎÎ) *
NroOperacion
ÎÎ* 6
=
ÎÎ7 8
$str
ÎÎ9 ;
;
ÎÎ; <
oMdsynDatosPagosE
ÏÏ )
.
ÏÏ) *!
DscMensajeRespuesta
ÏÏ* =
=
ÏÏ> ?
$str
ÏÏ@ B
;
ÏÏB C
oMdsynDatosPagosE
ĞĞ )
.
ĞĞ) *
EstPagoExitoso
ĞĞ* 8
=
ĞĞ9 :
$str
ĞĞ; =
;
ĞĞ= >
oMdsynDatosPagosE
ÑÑ )
.
ÑÑ) *
FecRegistro
ÑÑ* 5
=
ÑÑ6 7
DateTime
ÑÑ8 @
.
ÑÑ@ A
Now
ÑÑA D
;
ÑÑD E
oMdsynDatosPagosE
ÒÒ )
.
ÒÒ) *

TipTarjeta
ÒÒ* 4
=
ÒÒ5 6
$str
ÒÒ7 9
;
ÒÒ9 :
oMdsynDatosPagosE
ÓÓ )
.
ÓÓ) *

NumTarjeta
ÓÓ* 4
=
ÓÓ5 6
$str
ÓÓ7 9
;
ÓÓ9 :
oMdsynDatosPagosE
ÔÔ )
.
ÔÔ) * 
FlgProcesoAtencion
ÔÔ* <
=
ÔÔ= >
$str
ÔÔ? A
;
ÔÔA B
oMdsynDatosPagosE
ÕÕ )
.
ÕÕ) * 
FecProcesoAtencion
ÕÕ* <
=
ÕÕ= >
DateTime
ÕÕ? G
.
ÕÕG H
Now
ÕÕH K
.
ÕÕK L
Date
ÕÕL P
.
ÕÕP Q
ToString
ÕÕQ Y
(
ÕÕY Z
)
ÕÕZ [
;
ÕÕ[ \
oMdsynDatosPagosE
ÖÖ )
.
ÖÖ) *
CodAtencion
ÖÖ* 5
=
ÖÖ6 7
$str
ÖÖ8 :
;
ÖÖ: ;
oMdsynDatosPagosE
×× )
.
××) *
CodLiquidacion
××* 8
=
××9 :
$str
××; =
;
××= >
oMdsynDatosPagosE
ØØ )
.
ØØ) *
CodComprobante
ØØ* 8
=
ØØ9 :
$str
ØØ; =
;
ØØ= >
oMdsynDatosPagosE
ÙÙ )
.
ÙÙ) *
CodNota
ÙÙ* 1
=
ÙÙ2 3
$str
ÙÙ4 6
;
ÙÙ6 7
oMdsynDatosPagosE
ÚÚ )
.
ÚÚ) *#
NumAutorizacionSiteds
ÚÚ* ?
=
ÚÚ@ A
$str
ÚÚB D
;
ÚÚD E
oMdsynDatosPagosE
ÛÛ )
.
ÛÛ) *
FlgRecepcion
ÛÛ* 6
=
ÛÛ7 8
$str
ÛÛ9 ;
;
ÛÛ; <
oMdsynDatosPagosE
ÜÜ )
.
ÜÜ) *
FlgAnulacion
ÜÜ* 6
=
ÜÜ7 8
$str
ÜÜ9 ;
;
ÜÜ; <
oMdsynDatosPagosE
İİ )
.
İİ) *!
FecProcesoAnulacion
İİ* =
=
İİ> ?
DateTime
İİ@ H
.
İİH I
Now
İİI L
;
İİL M
oMdsynDatosPagosE
ŞŞ )
.
ŞŞ) *

FecAnulado
ŞŞ* 4
=
ŞŞ5 6
DateTime
ŞŞ7 ?
.
ŞŞ? @
Now
ŞŞ@ C
;
ŞŞC D
oMdsynDatosPagosE
ßß )
.
ßß) * 
EstProcesoAtencion
ßß* <
=
ßß= >
$num
ßß? @
;
ßß@ A
oMdsynDatosPagosE
àà )
.
àà) *
Comp_DscTabla
àà* 7
=
àà8 9
$str
àà: =
;
àà= >
bool
ââ 
lswResultado
ââ )
=
ââ* +
new
ââ, /
MdsynDatosPagosAD
ââ0 A
(
ââA B
)
ââB C
.
ââC D,
Sp_MdsynDatosPagos_Cita_Insert
ââD b
(
ââb c
oMdsynDatosPagosE
ââc t
)
âât u
;
ââu v
	Resultado
ãã !
=
ãã" #
lswResultado
ãã$ 0
==
ãã1 3
true
ãã4 8
?
ãã9 :
$str
ãã; ?
:
ãã@ A
$str
ããB Q
;
ããQ R
}
ää 
}
åå 
return
çç 
	Resultado
çç  
;
çç  !
}
èè 
catch
éé 
(
éé 
	Exception
éé 
ex
éé 
)
éé  
{
êê 
return
ëë 
$str
ëë (
+
ëë) *
ex
ëë+ -
.
ëë- .
Message
ëë. 5
;
ëë5 6
}
ìì 
}
íí 	
public
öö 
void
öö 
mtProcesoPagoPost
öö %
(
öö% &
)
öö& '
{
÷÷ 	
var
øø 
oList
øø 
=
øø 
new
øø 
List
øø  
<
øø  !
MdsynDatosPagosE
øø! 1
>
øø1 2
(
øø2 3
)
øø3 4
;
øø4 5
int
ùù 
i
ùù 
=
ùù 
$num
ùù 
;
ùù 
string
úú 
	msg_error
úú 
=
úú 
$str
úú !
;
úú! "
try
ûû 
{
üü 
oList
şş 
=
şş 
new
şş 
MdsynDatosPagosAD
şş -
(
şş- .
)
şş. /
.
şş/ 0.
 Sp_MdsynDatosPagos_Cita_Consulta
şş0 P
(
şşP Q
new
şşQ T
MdsynDatosPagosE
şşU e
(
şşe f
$str
şşf h
,
şşh i
$str
şşj l
,
şşl m
$str
şşn p
,
şşp q
$num
şşr s
,
şşs t
$num
şşu x
)
şşx y
)
şşy z
;
şşz {
var
ÿÿ 
loopTo
ÿÿ 
=
ÿÿ 
oList
ÿÿ "
.
ÿÿ" #
Count
ÿÿ# (
-
ÿÿ) *
$num
ÿÿ+ ,
;
ÿÿ, -
for
€€ 
(
€€ 
i
€€ 
=
€€ 
$num
€€ 
;
€€ 
i
€€ 
<=
€€  
loopTo
€€! '
;
€€' (
i
€€) *
++
€€* ,
)
€€, -
{
 &
ProcesoPagoPorIdCitaPost
‚‚ ,
(
‚‚, -
oList
‚‚- 2
[
‚‚2 3
i
‚‚3 4
]
‚‚4 5
.
‚‚5 6
IdeCita
‚‚6 =
)
‚‚= >
;
‚‚> ?
}
ƒƒ 
}
„„ 
catch
…… 
(
…… 
	Exception
…… 
ex
…… 
)
……  
{
†† 
	msg_error
‡‡ 
=
‡‡ 
$str
‡‡ (
+
‡‡) *
i
‡‡+ ,
.
‡‡, -
ToString
‡‡- 5
(
‡‡5 6
)
‡‡6 7
+
‡‡8 9
$str
‡‡: A
+
‡‡B C
$str
‡‡D O
+
‡‡P Q
ex
‡‡R T
.
‡‡T U
Message
‡‡U \
+
‡‡] ^
$str
‡‡_ s
+
‡‡t u
ex
‡‡v x
.
‡‡x y

StackTrace‡‡y ƒ
+‡‡„ …
$str‡‡† 
;‡‡ %
Guardar_Error_BaseDatos
‰‰ '
(
‰‰' (
	msg_error
‰‰( 1
,
‰‰1 2
$str
‰‰3 _
)
‰‰_ `
;
‰‰` a
}
ŠŠ 
}
‹‹ 	
public
 
async
 
Task
 $
mtProcesoPagoPostAsync
 0
(
0 1
)
1 2
{
 	
var
 
oList
 
=
 
new
 
List
  
<
  !
MdsynDatosPagosE
! 1
>
1 2
(
2 3
)
3 4
;
4 5
int
 
i
 
=
 
$num
 
;
 
string
‘‘ 
	msg_error
‘‘ 
=
‘‘ 
$str
‘‘ !
;
‘‘! "
try
’’ 
{
““ 
oList
”” 
=
”” 
new
”” 
MdsynDatosPagosAD
”” -
(
””- .
)
””. /
.
””/ 0.
 Sp_MdsynDatosPagos_Cita_Consulta
””0 P
(
””P Q
new
””Q T
MdsynDatosPagosE
””U e
(
””e f
$str
””f h
,
””h i
$str
””j l
,
””l m
$str
””n p
,
””p q
$num
””r s
,
””s t
$num
””u x
)
””x y
)
””y z
;
””z {
var
•• 
loopTo
•• 
=
•• 
oList
•• "
.
••" #
Count
••# (
-
••) *
$num
••+ ,
;
••, -
for
–– 
(
–– 
i
–– 
=
–– 
$num
–– 
;
–– 
i
–– 
<=
––  
loopTo
––! '
;
––' (
i
––) *
++
––* ,
)
––, -
{
—— 
await
˜˜ 
Task
˜˜ 
.
˜˜ 
Run
˜˜ "
(
˜˜" #
(
˜˜# $
)
˜˜$ %
=>
˜˜& (&
ProcesoPagoPorIdCitaPost
˜˜) A
(
˜˜A B
oList
˜˜B G
[
˜˜G H
i
˜˜H I
]
˜˜I J
.
˜˜J K
IdeCita
˜˜K R
)
˜˜R S
)
˜˜S T
.
˜˜T U
ConfigureAwait
˜˜U c
(
˜˜c d
false
˜˜d i
)
˜˜i j
;
˜˜j k
}
™™ 
}
šš 
catch
›› 
(
›› 
	Exception
›› 
ex
›› 
)
››  
{
œœ 
	msg_error
 
=
 
$str
 (
+
) *
i
+ ,
.
, -
ToString
- 5
(
5 6
)
6 7
+
8 9
$str
: A
+
B C
$str
D O
+
P Q
ex
R T
.
T U
Message
U \
+
] ^
$str
_ s
+
t u
ex
v x
.
x y

StackTracey ƒ
+„ …
$str† 
; %
Guardar_Error_BaseDatos
ŸŸ '
(
ŸŸ' (
	msg_error
ŸŸ( 1
,
ŸŸ1 2
$str
ŸŸ3 _
)
ŸŸ_ `
;
ŸŸ` a
}
   
}
¡¡ 	
public
¥¥ 
string
¥¥ &
ProcesoPagoPorIdCitaPost
¥¥ .
(
¥¥. /
int
¥¥/ 2
ide_cita
¥¥3 ;
)
¥¥; <
{
¦¦ 	
try
§§ 
{
¨¨ 
string
ªª 

stringJson
ªª !
;
ªª! "
string
«« 
	Resultado
««  
=
««! "
$str
««# %
;
««% &
bool
¬¬ 
lswResultado
¬¬ !
=
¬¬" #
false
¬¬$ )
;
¬¬) *
AsegCodResponse
­­ 
oAsegCodResponse
­­  0
=
­­1 2
new
­­3 6
AsegCodResponse
­­7 F
(
­­F G
)
­­G H
;
­­H I
MdsynDatosPagosE
®®  
oMdsynDatosPagosE
®®! 2
=
®®3 4
new
®®5 8
MdsynDatosPagosE
®®9 I
(
®®I J
)
®®J K
;
®®K L!
Coberturas_AsegCode
¯¯ #
oCoberturas
¯¯$ /
=
¯¯0 1
new
¯¯2 5!
Coberturas_AsegCode
¯¯6 I
(
¯¯I J
)
¯¯J K
;
¯¯K L
MdsynDatosPagosE
±±  $
oMdsynDatosPagosE_base
±±! 7
=
±±8 9
new
±±: =
MdsynDatosPagosAD
±±> O
(
±±O P
)
±±P Q
.
±±Q R2
$Sp_MdsynDatosPagos_Cita_ConsultaBase
±±R v
(
±±v w
ide_cita
±±w 
,±± €
$num±± „
)±±„ …
;±±… †
if
³³ 
(
³³ $
oMdsynDatosPagosE_base
³³ *
.
³³* +
IdeCita
³³+ 2
==
³³3 5
$num
³³6 7
)
³³7 8
return
³³9 ?
$str
³³@ ]
;
³³] ^
if
µµ 
(
µµ $
oMdsynDatosPagosE_base
µµ *
.
µµ* +
Error
µµ+ 0
!=
µµ1 3
$str
µµ4 6
)
µµ6 7
return
µµ8 >$
oMdsynDatosPagosE_base
µµ? U
.
µµU V
Error
µµV [
;
µµ[ \
oMdsynDatosPagosE
·· !
.
··! "
IdeCita
··" )
=
··* +$
oMdsynDatosPagosE_base
··, B
.
··B C
IdeCita
··C J
;
··J K
oMdsynDatosPagosE
¸¸ !
.
¸¸! "!
DscMensajeRespuesta
¸¸" 5
=
¸¸6 7$
oMdsynDatosPagosE_base
¸¸8 N
.
¸¸N O!
DscMensajeRespuesta
¸¸O b
;
¸¸b c
oMdsynDatosPagosE
¹¹ !
.
¹¹! "
EstPagoExitoso
¹¹" 0
=
¹¹1 2$
oMdsynDatosPagosE_base
¹¹3 I
.
¹¹I J
EstPagoExitoso
¹¹J X
;
¹¹X Y
oMdsynDatosPagosE
ºº !
.
ºº! "

TipTarjeta
ºº" ,
=
ºº- .$
oMdsynDatosPagosE_base
ºº/ E
.
ººE F

TipTarjeta
ººF P
;
ººP Q
oMdsynDatosPagosE
»» !
.
»»! "

NumTarjeta
»»" ,
=
»»- .$
oMdsynDatosPagosE_base
»»/ E
.
»»E F

NumTarjeta
»»F P
;
»»P Q
oMdsynDatosPagosE
¼¼ !
.
¼¼! ""
Comp_TipoComprobante
¼¼" 6
=
¼¼7 8$
oMdsynDatosPagosE_base
¼¼9 O
.
¼¼O P"
Comp_TipoComprobante
¼¼P d
;
¼¼d e
oMdsynDatosPagosE
½½ !
.
½½! ""
Comp_TipDocIdentidad
½½" 6
=
½½7 8$
oMdsynDatosPagosE_base
½½9 O
.
½½O P"
Comp_TipDocIdentidad
½½P d
;
½½d e
oMdsynDatosPagosE
¾¾ !
.
¾¾! ""
Comp_RutDocIdentidad
¾¾" 6
=
¾¾7 8$
oMdsynDatosPagosE_base
¾¾9 O
.
¾¾O P"
Comp_RutDocIdentidad
¾¾P d
;
¾¾d e
oMdsynDatosPagosE
¿¿ !
.
¿¿! "
Comp_Correo
¿¿" -
=
¿¿. /$
oMdsynDatosPagosE_base
¿¿0 F
.
¿¿F G
Comp_Correo
¿¿G R
;
¿¿R S
oMdsynDatosPagosE
ÀÀ !
.
ÀÀ! "!
TransaccionIdNiubiz
ÀÀ" 5
=
ÀÀ6 7$
oMdsynDatosPagosE_base
ÀÀ8 N
.
ÀÀN O!
TransaccionIdNiubiz
ÀÀO b
;
ÀÀb c
oMdsynDatosPagosE
ÁÁ !
.
ÁÁ! "
Comp_DscTabla
ÁÁ" /
=
ÁÁ0 1$
oMdsynDatosPagosE_base
ÁÁ2 H
.
ÁÁH I
Comp_DscTabla
ÁÁI V
;
ÁÁV W
oMdsynDatosPagosE
ÄÄ !
.
ÄÄ! "
CodCobertura
ÄÄ" .
=
ÄÄ/ 0$
oMdsynDatosPagosE_base
ÄÄ1 G
.
ÄÄG H
CodCobertura
ÄÄH T
;
ÄÄT U
oMdsynDatosPagosE
ÅÅ !
.
ÅÅ! "
	TipMoneda
ÅÅ" +
=
ÅÅ, -$
oMdsynDatosPagosE_base
ÅÅ. D
.
ÅÅD E
	TipMoneda
ÅÅE N
;
ÅÅN O
oMdsynDatosPagosE
ÇÇ !
.
ÇÇ! "
CodAsegurado
ÇÇ" .
=
ÇÇ/ 0$
oMdsynDatosPagosE_base
ÇÇ1 G
.
ÇÇG H
CodAsegurado
ÇÇH T
;
ÇÇT U
oMdsynDatosPagosE
ÈÈ !
.
ÈÈ! "
TipPrt
ÈÈ" (
=
ÈÈ) *$
oMdsynDatosPagosE_base
ÈÈ+ A
.
ÈÈA B
TipPrt
ÈÈB H
;
ÈÈH I
oMdsynDatosPagosE
ÉÉ !
.
ÉÉ! "
TipParentesco
ÉÉ" /
=
ÉÉ0 1$
oMdsynDatosPagosE_base
ÉÉ2 H
.
ÉÉH I
TipParentesco
ÉÉI V
;
ÉÉV W
oMdsynDatosPagosE
ÊÊ !
.
ÊÊ! "
NroPlan
ÊÊ" )
=
ÊÊ* +$
oMdsynDatosPagosE_base
ÊÊ, B
.
ÊÊB C
NroPlan
ÊÊC J
;
ÊÊJ K
oMdsynDatosPagosE
ËË !
.
ËË! "
TipDocempresa
ËË" /
=
ËË0 1$
oMdsynDatosPagosE_base
ËË2 H
.
ËËH I
TipDocempresa
ËËI V
;
ËËV W
;
ËËX Y
oMdsynDatosPagosE
ÌÌ !
.
ÌÌ! "
NumDocempresa
ÌÌ" /
=
ÌÌ0 1$
oMdsynDatosPagosE_base
ÌÌ2 H
.
ÌÌH I
NumDocempresa
ÌÌI V
;
ÌÌV W
oMdsynDatosPagosE
ÎÎ !
.
ÎÎ! "
TipDocumento
ÎÎ" .
=
ÎÎ/ 0$
oMdsynDatosPagosE_base
ÎÎ1 G
.
ÎÎG H
TipDocumento
ÎÎH T
;
ÎÎT U
oMdsynDatosPagosE
ÏÏ !
.
ÏÏ! "
NumDocumento
ÏÏ" .
=
ÏÏ/ 0$
oMdsynDatosPagosE_base
ÏÏ1 G
.
ÏÏG H
NumDocumento
ÏÏH T
;
ÏÏT U
oMdsynDatosPagosE
ĞĞ !
.
ĞĞ! "
FecNacimiento
ĞĞ" /
=
ĞĞ0 1$
oMdsynDatosPagosE_base
ĞĞ2 H
.
ĞĞH I
FecNacimiento
ĞĞI V
;
ĞĞV W
oMdsynDatosPagosE
ÑÑ !
.
ÑÑ! "
FecIniciovigencia
ÑÑ" 3
=
ÑÑ4 5$
oMdsynDatosPagosE_base
ÑÑ6 L
.
ÑÑL M
FecIniciovigencia
ÑÑM ^
;
ÑÑ^ _
oMdsynDatosPagosE
ÒÒ !
.
ÒÒ! "
FecAfilicacion
ÒÒ" 0
=
ÒÒ1 2$
oMdsynDatosPagosE_base
ÒÒ3 I
.
ÒÒI J
FecAfilicacion
ÒÒJ X
;
ÒÒX Y
oMdsynDatosPagosE
ÔÔ !
.
ÔÔ! "
	RucSunasa
ÔÔ" +
=
ÔÔ, -$
oMdsynDatosPagosE_base
ÔÔ. D
.
ÔÔD E
	RucSunasa
ÔÔE N
;
ÔÔN O
oMdsynDatosPagosE
ÕÕ !
.
ÕÕ! "
	CodSunasa
ÕÕ" +
=
ÕÕ, -$
oMdsynDatosPagosE_base
ÕÕ. D
.
ÕÕD E
	CodSunasa
ÕÕE N
;
ÕÕN O
oMdsynDatosPagosE
ÖÖ !
.
ÖÖ! "
CodIAFAS
ÖÖ" *
=
ÖÖ+ ,$
oMdsynDatosPagosE_base
ÖÖ- C
.
ÖÖC D
CodIAFAS
ÖÖD L
;
ÖÖL M
oMdsynDatosPagosE
ØØ !
.
ØØ! "#
NumAutorizacionSiteds
ØØ" 7
=
ØØ8 9$
oMdsynDatosPagosE_base
ØØ: P
.
ØØP Q#
NumAutorizacionSiteds
ØØQ f
;
ØØf g
if
ÛÛ 
(
ÛÛ 
oMdsynDatosPagosE
ÛÛ %
.
ÛÛ% &
CodAsegurado
ÛÛ& 2
!=
ÛÛ3 5
$str
ÛÛ6 8
)
ÛÛ8 9
{
ÜÜ 
lswResultado
İİ  
=
İİ! "
new
İİ# &
MdsynDatosPagosAD
İİ' 8
(
İİ8 9
)
İİ9 :
.
İİ: ;,
Sp_MdsynDatosPagos_Cita_Insert
İİ; Y
(
İİY Z
oMdsynDatosPagosE
İİZ k
)
İİk l
;
İİl m
	Resultado
ŞŞ 
=
ŞŞ 
lswResultado
ŞŞ  ,
==
ŞŞ- /
true
ŞŞ0 4
?
ŞŞ5 6
$str
ŞŞ7 ;
:
ŞŞ< =
$str
ŞŞ> M
;
ŞŞM N
}
ßß 
return
àà 
	Resultado
àà  
;
àà  !
}
áá 
catch
ââ 
(
ââ 
	Exception
ââ 
ex
ââ 
)
ââ  
{
ãã 
return
ää 
$str
ää (
+
ää) *
ex
ää+ -
.
ää- .
Message
ää. 5
;
ää5 6
}
åå 
}
ææ 	
public
éé 
string
éé -
ProcesoPagoPorIdCitaPost_SITEDS
éé 5
(
éé5 6
MdsynDatosPagosE
éé6 F
pMdsynDatosPagosE
ééG X
)
ééX Y
{
êê 	
try
ëë 
{
ìì 
string
îî 
	Resultado
îî  
=
îî! "
$str
îî# /
;
îî/ 0
MdsynDatosPagosE
ğğ  
oMdsynDatosPagosE
ğğ! 2
=
ğğ3 4
new
ğğ5 8
MdsynDatosPagosE
ğğ9 I
(
ğğI J
)
ğğJ K
;
ğğK L!
Coberturas_AsegCode
ññ #
oCoberturas
ññ$ /
=
ññ0 1
new
ññ2 5!
Coberturas_AsegCode
ññ6 I
(
ññI J
)
ññJ K
;
ññK L
string
òò 

stringJson
òò !
;
òò! "
AsegCodResponse
óó 
oAsegCodResponse
óó  0
=
óó1 2
new
óó3 6
AsegCodResponse
óó7 F
(
óóF G
)
óóG H
;
óóH I
	oWsSiteds
õõ 
=
õõ 
new
õõ 
SitedsWs
õõ  (
(
õõ( )
)
õõ) *
;
õõ* +
	oWsSiteds
öö 
.
öö 

AsignaIAFA
öö $
(
öö$ %
pMdsynDatosPagosE
öö% 6
.
öö6 7
	RucSunasa
öö7 @
,
öö@ A
pMdsynDatosPagosE
ööB S
.
ööS T
	CodSunasa
ööT ]
,
öö] ^
pMdsynDatosPagosE
öö_ p
.
ööp q
CodIAFAS
ööq y
)
ööy z
;
ööz {
oAsegNombRequest
øø  
=
øø! "
new
øø# &
AsegNombRequest
øø' 6
(
øø6 7
pMdsynDatosPagosE
øø7 H
.
øøH I
	RucSunasa
øøI R
,
øøR S
pMdsynDatosPagosE
øøT e
.
øøe f
	CodSunasa
øøf o
,
øøo p 
pMdsynDatosPagosEøøq ‚
.øø‚ ƒ
CodIAFASøøƒ ‹
)øø‹ Œ
;øøŒ 
oAsegNombRequest
ùù  
.
ùù  !&
CodTipoDocumentoAfiliado
ùù! 9
=
ùù: ;
$str
ùù< ?
;
ùù? @
pMdsynDatosPagosE
ùùA R
.
ùùR S
TipoDocumento
ùùS `
.
ùù` a
ToString
ùùa i
(
ùùi j
)
ùùj k
;
ùùk l
oAsegNombRequest
úú  
.
úú  !%
NumeroDocumentoAfiliado
úú! 8
=
úú9 :
pMdsynDatosPagosE
úú; L
.
úúL M
NumDocumento
úúM Y
;
úúY Z

stringJson
üü 
=
üü 
ConsultaAsegNom
üü ,
(
üü, -
RutaWS_Siteds
üü- :
,
üü: ;
oAsegNombRequest
üü< L
)
üüL M
;
üüM N
List
ıı 
<
ıı 
AsegNombResponse
ıı %
>
ıı% &#
oListAsegNombResponse
ıı' <
=
ıı= >
(
ıı? @
List
ıı@ D
<
ııD E
AsegNombResponse
ııE U
>
ııU V
)
ııV W

Newtonsoft
ııW a
.
ııa b
Json
ııb f
.
ııf g
JsonConvert
ııg r
.
ıır s 
DeserializeObjectııs „
(ıı„ …

stringJsonıı… 
,ıı 
typeofıı‘ —
(ıı— ˜
Listıı˜ œ
<ııœ  
AsegNombResponseıı ­
>ıı­ ®
)ıı® ¯
)ıı¯ °
;ıı° ±
oAsegCodRequest
ÿÿ 
=
ÿÿ  !
	oWsSiteds
ÿÿ" +
.
ÿÿ+ ,)
mtdAsignarAseguradoCorrecto
ÿÿ, G
(
ÿÿG H#
oListAsegNombResponse
ÿÿH ]
,
ÿÿ] ^
oAsegNombRequest
ÿÿ_ o
.
ÿÿo p&
NumeroDocumentoAfiliadoÿÿp ‡
,ÿÿ‡ ˆ
trueÿÿ‰ 
)ÿÿ 
;ÿÿ 
oAsegCodRequest
€€ 
.
€€  
RUC
€€  #
=
€€$ %
oAsegNombRequest
€€& 6
.
€€6 7
RUC
€€7 :
;
€€: ;
oAsegCodRequest
 
.
  
IAFAS
  %
=
& '
oAsegNombRequest
( 8
.
8 9
IAFAS
9 >
;
> ?
oAsegCodRequest
‚‚ 
.
‚‚  
SUNASA
‚‚  &
=
‚‚' (
oAsegNombRequest
‚‚) 9
.
‚‚9 :
SUNASA
‚‚: @
;
‚‚@ A

stringJson
„„ 
=
„„ 
ConsultaAsegCod
„„ ,
(
„„, -
RutaWS_Siteds
„„- :
,
„„: ;
oAsegCodRequest
„„< K
)
„„K L
;
„„L M
oAsegCodResponse
……  
=
……! "
(
……# $
AsegCodResponse
……$ 3
)
……3 4

Newtonsoft
……4 >
.
……> ?
Json
……? C
.
……C D
JsonConvert
……D O
.
……O P
DeserializeObject
……P a
(
……a b

stringJson
……b l
,
……l m
typeof
……n t
(
……t u
AsegCodResponse……u „
)……„ …
)……… †
;……† ‡
if
‡‡ 
(
‡‡ 
oAsegCodResponse
‡‡ $
.
‡‡$ %

Coberturas
‡‡% /
!=
‡‡0 2
null
‡‡3 7
)
‡‡7 8
{
ˆˆ 
oCoberturas
‰‰ 
=
‰‰  !
oAsegCodResponse
‰‰" 2
.
‰‰2 3

Coberturas
‰‰3 =
.
ŠŠ 
Where
ŠŠ 
(
ŠŠ 
x
ŠŠ  
=>
ŠŠ! #
x
ŠŠ$ %
.
ŠŠ% &
CodigoCobertura
ŠŠ& 5
==
ŠŠ6 8
pMdsynDatosPagosE
ŠŠ9 J
.
ŠŠJ K
CodCobertura
ŠŠK W
)
ŠŠW X
.
‹‹ 
FirstOrDefault
‹‹ '
(
‹‹' (
)
‹‹( )
;
‹‹) *
if
 
(
 
oCoberturas
 #
!=
$ &
null
' +
)
+ ,
{
 
pMdsynDatosPagosE
 )
.
) *
	TipMoneda
* 3
=
4 5
oCoberturas
6 A
.
A B
DesTipoMoneda
B O
;
O P
pMdsynDatosPagosE
‘‘ )
.
‘‘) *
CodAsegurado
‘‘* 6
=
‘‘7 8
oAsegCodRequest
‘‘9 H
.
‘‘H I
CodigoAfiliado
‘‘I W
;
‘‘W X
pMdsynDatosPagosE
’’ )
.
’’) *
TipPrt
’’* 0
=
’’1 2
oAsegCodRequest
’’3 B
.
’’B C
CodProducto
’’C N
;
’’N O
pMdsynDatosPagosE
““ )
.
““) *
TipParentesco
““* 7
=
““8 9
oAsegCodRequest
““: I
.
““I J
CodParentesco
““J W
;
““W X
pMdsynDatosPagosE
”” )
.
””) *
NroPlan
””* 1
=
””2 3
oAsegCodRequest
””4 C
.
””C D

NumeroPlan
””D N
;
””N O
pMdsynDatosPagosE
•• )
.
••) *
TipDocempresa
••* 7
=
••8 9
oAsegCodRequest
••: I
.
••I J)
CodTipoDocumentoContratante
••J e
;
••e f
;
••g h
pMdsynDatosPagosE
–– )
.
––) *
NumDocempresa
––* 7
=
––8 9
oAsegCodRequest
––: I
.
––I J(
NumeroDocumentoContratante
––J d
;
––d e
pMdsynDatosPagosE
˜˜ )
.
˜˜) *
FecNacimiento
˜˜* 7
=
˜˜8 9
util
˜˜: >
.
˜˜> ?
ValFecha
˜˜? G
(
˜˜G H
oAsegCodResponse
˜˜H X
.
˜˜X Y
DatosAfiliado
˜˜Y f
.
˜˜f g
FechaNacimiento
˜˜g v
)
˜˜v w
;
˜˜w x
pMdsynDatosPagosE
™™ )
.
™™) *
FecIniciovigencia
™™* ;
=
™™< =
util
™™> B
.
™™B C
ValFecha
™™C K
(
™™K L
oAsegCodResponse
™™L \
.
™™\ ]
DatosAfiliado
™™] j
.
™™j k!
FechaInicioVigencia
™™k ~
)
™™~ 
;™™ €
pMdsynDatosPagosE
šš )
.
šš) *
FecAfilicacion
šš* 8
=
šš9 :
util
šš; ?
.
šš? @
ValFecha
šš@ H
(
ššH I
oAsegCodResponse
ššI Y
.
ššY Z
DatosAfiliado
ššZ g
.
ššg h
FechaAfiliacion
ššh w
)
ššw x
;
ššx y
}
œœ 
}
 
return
ŸŸ 
	Resultado
ŸŸ  
;
ŸŸ  !
}
   
catch
¡¡ 
(
¡¡ 
	Exception
¡¡ 
ex
¡¡ 
)
¡¡  
{
¢¢ 
return
££ 
$str
££ (
+
££) *
ex
££+ -
.
££- .
Message
££. 5
;
££5 6
}
¤¤ 
}
¥¥ 	
public
®® 
async
®® 
Task
®® !
mtProcesarPagosAsyn
®® -
(
®®- .
)
®®. /
{
¯¯ 	
await
°° 
Task
°° 
.
°° 
Run
°° 
(
°° 
(
°° 
)
°° 
=>
°°  
mtProcesarPagos
°°! 0
(
°°0 1
)
°°1 2
)
°°2 3
.
°°3 4
ConfigureAwait
°°4 B
(
°°B C
false
°°C H
)
°°H I
;
°°I J
}
±± 	
public
³³ 
void
³³ 
mtProcesarPagos
³³ #
(
³³# $
)
³³$ %
{
´´ 	
var
¸¸ 
oList
¸¸ 
=
¸¸ 
new
¸¸ 
List
¸¸  
<
¸¸  !
MdsynDatosPagosE
¸¸! 1
>
¸¸1 2
(
¸¸2 3
)
¸¸3 4
;
¸¸4 5
string
¹¹ 

stringJson
¹¹ 
=
¹¹ 
$str
¹¹  "
;
¹¹" #
int
ºº 
i
ºº 
;
ºº 
string
»» 
	msg_error
»» 
=
»» 
$str
»» !
;
»»! "
	oWsSiteds
¼¼ 
=
¼¼ 
new
¼¼ 
SitedsWs
¼¼ $
(
¼¼$ %
)
¼¼% &
;
¼¼& '
try
¿¿ 
{
ÀÀ 
oList
ÁÁ 
=
ÁÁ 
new
ÁÁ 
MdsynDatosPagosAD
ÁÁ -
(
ÁÁ- .
)
ÁÁ. /
.
ÁÁ/ 0.
 Sp_MdsynDatosPagos_Cita_Consulta
ÁÁ0 P
(
ÁÁP Q
new
ÁÁQ T
MdsynDatosPagosE
ÁÁU e
(
ÁÁe f
$str
ÁÁf h
,
ÁÁh i
$str
ÁÁj l
,
ÁÁl m
$str
ÁÁn p
,
ÁÁp q
$num
ÁÁr s
,
ÁÁs t
$num
ÁÁu v
)
ÁÁv w
)
ÁÁw x
;
ÁÁx y
var
ÂÂ 
loopTo
ÂÂ 
=
ÂÂ 
oList
ÂÂ "
.
ÂÂ" #
Count
ÂÂ# (
-
ÂÂ) *
$num
ÂÂ+ ,
;
ÂÂ, -
for
ÃÃ 
(
ÃÃ 
i
ÃÃ 
=
ÃÃ 
$num
ÃÃ 
;
ÃÃ 
i
ÃÃ 
<=
ÃÃ  
loopTo
ÃÃ! '
;
ÃÃ' (
i
ÃÃ) *
++
ÃÃ* ,
)
ÃÃ, -
{
ÄÄ 
mtDatosPaciente
ÅÅ #
(
ÅÅ# $
oList
ÅÅ$ )
[
ÅÅ) *
i
ÅÅ* +
]
ÅÅ+ ,
)
ÅÅ, -
;
ÅÅ- .
do
ÇÇ 
{
ÈÈ 
try
ÉÉ 
{
ÊÊ !
CrearCiaContratante
ËË /
(
ËË/ 0
)
ËË0 1
;
ËË1 2
if
ÌÌ 
(
ÌÌ  
CodCia
ÌÌ  &
==
ÌÌ' )
$str
ÌÌ* ,
)
ÌÌ, -
break
ÍÍ  %
;
ÍÍ% &
if
ÏÏ 
(
ÏÏ   
EstProcesoAtencion
ÏÏ  2
==
ÏÏ3 5
$num
ÏÏ6 7
)
ÏÏ7 8
{
ĞĞ 
if
ÑÑ  "
(
ÑÑ# $#
CodTipoConsultaMedica
ÑÑ$ 9
==
ÑÑ: <
$str
ÑÑ= @
)
ÑÑ@ A
{
ÒÒ  !
oAsegNombRequest
ÓÓ$ 4
=
ÓÓ5 6
new
ÓÓ7 :
AsegNombRequest
ÓÓ; J
(
ÓÓJ K
CodRuc
ÓÓK Q
,
ÓÓQ R
	CodSunasa
ÓÓS \
,
ÓÓ\ ]
CodIAFAS
ÓÓ^ f
,
ÓÓf g
TipDocumento
ÓÓh t
,
ÓÓt u
DocIdentidadÓÓv ‚
)ÓÓ‚ ƒ
;ÓÓƒ „
	oWsSiteds
ÔÔ$ -
.
ÔÔ- .

AsignaIAFA
ÔÔ. 8
(
ÔÔ8 9
CodRuc
ÔÔ9 ?
,
ÔÔ? @
	CodSunasa
ÔÔA J
,
ÔÔJ K
CodIAFAS
ÔÔL T
)
ÔÔT U
;
ÔÔU V

stringJson
ÙÙ$ .
=
ÙÙ/ 0
ConsultaAsegNom
ÙÙ1 @
(
ÙÙ@ A
RutaWS_Siteds
ÙÙA N
,
ÙÙN O
oAsegNombRequest
ÙÙP `
)
ÙÙ` a
;
ÙÙa b
if
ÛÛ$ &
(
ÛÛ' (

stringJson
ÛÛ( 2
==
ÛÛ3 5
$str
ÛÛ6 :
)
ÛÛ: ;
{
ÜÜ$ %
oAsegNombRequest
İİ( 8
.
İİ8 9%
ApellidoPaternoAfiliado
İİ9 P
=
İİQ R
ApPaternoPaciente
İİS d
;
İİd e
oAsegNombRequest
ŞŞ( 8
.
ŞŞ8 9%
ApellidoMaternoAfiliado
ŞŞ9 P
=
ŞŞQ R
ApMaternoPaciente
ŞŞS d
;
ŞŞd e
oAsegNombRequest
ßß( 8
.
ßß8 9
NombresAfiliado
ßß9 H
=
ßßI J
NombrePaciente
ßßK Y
;
ßßY Z
oAsegNombRequest
àà( 8
.
àà8 9&
CodTipoDocumentoAfiliado
àà9 Q
=
ààR S
$str
ààT V
;
ààV W
oAsegNombRequest
áá( 8
.
áá8 9%
NumeroDocumentoAfiliado
áá9 P
=
ááQ R
$str
ááS U
;
ááU V

stringJson
ââ( 2
=
ââ3 4
ConsultaAsegNom
ââ5 D
(
ââD E
RutaWS_Siteds
ââE R
,
ââR S
oAsegNombRequest
ââT d
)
ââd e
;
ââe f
}
ãã$ %
List
åå$ (
<
åå( )
AsegNombResponse
åå) 9
>
åå9 :#
oListAsegNombResponse
åå; P
=
ååQ R
(
ååS T
List
ååT X
<
ååX Y
AsegNombResponse
ååY i
>
ååi j
)
ååj k

Newtonsoft
ååk u
.
ååu v
Json
ååv z
.
ååz {
JsonConvertåå{ †
.åå† ‡!
DeserializeObjectåå‡ ˜
(åå˜ ™

stringJsonåå™ £
,åå£ ¤
typeofåå¥ «
(åå« ¬
Liståå¬ °
<åå° ± 
AsegNombResponseåå± Á
>ååÁ Â
)ååÂ Ã
)ååÃ Ä
;ååÄ Å)
mtdAsignarAseguradoCorrecto
ææ$ ?
(
ææ? @#
oListAsegNombResponse
ææ@ U
)
ææU V
;
ææV W

stringJson
çç$ .
=
çç/ 0
$str
çç1 3
;
çç3 4
if
êê$ &
(
êê' (
!
êê( )
(
êê) *
oAsegCodRequest
êê* 9
==
êê: <
null
êê= A
)
êêA B
)
êêB C
{
ëë$ %

stringJson
ìì( 2
=
ìì3 4
ConsultaAsegCod
ìì5 D
(
ììD E
RutaWS_Siteds
ììE R
,
ììR S
oAsegCodRequest
ììT c
)
ììc d
;
ììd e
AsegCodResponse
íí( 7
oAsegCodResponse
íí8 H
=
ííI J
(
ííK L
AsegCodResponse
ííL [
)
íí[ \

Newtonsoft
íí\ f
.
ííf g
Json
ííg k
.
íík l
JsonConvert
ííl w
.
ííw x 
DeserializeObjectííx ‰
(íí‰ Š

stringJsonííŠ ”
,íí” •
typeofíí– œ
(ííœ 
AsegCodResponseíí ¬
)íí¬ ­
)íí­ ®
;íí® ¯
var
îî( +
oCoberturas
îî, 7
=
îî8 9
new
îî: =!
Coberturas_AsegCode
îî> Q
(
îîQ R
)
îîR S
;
îîS T
TipoAfiliacion
ğğ( 6
=
ğğ7 8
oAsegCodResponse
ğğ9 I
.
ğğI J
DatosAfiliado
ğğJ W
.
ğğW X
CodTipoAfiliacion
ğğX i
.
ğği j
	Substring
ğğj s
(
ğğs t
$num
ğğt u
,
ğğu v
$num
ğğw x
)
ğğx y
;
ğğy z
for
ññ( +
(
ññ, -
int
ññ- 0
j
ññ1 2
=
ññ3 4
$num
ññ5 6
,
ññ6 7
loopTo1
ññ8 ?
=
ññ@ A
oAsegCodResponse
ññB R
.
ññR S

Coberturas
ññS ]
.
ññ] ^
Count
ññ^ c
-
ññd e
$num
ññf g
;
ññg h
j
ññi j
<=
ññk m
loopTo1
ññn u
;
ññu v
j
ññw x
++
ññx z
)
ññz {
{
òò( )
try
óó, /
{
ôô, -
if
õõ0 2
(
õõ3 4
(
õõ4 5
oAsegCodResponse
õõ5 E
.
õõE F
DatosAfiliado
õõF S
.
õõS T

NumeroPlan
õõT ^
==
õõ_ a
NumeroPlanPoliza
õõb r
|
õõs t
oAsegCodResponseõõu …
.õõ… †
DatosAfiliadoõõ† “
.õõ“ ”

NumeroPlanõõ” 
==õõŸ ¡ 
NumeroPlanPolizaõõ¢ ²
)õõ² ³
==õõ´ ¶
falseõõ· ¼
)õõ¼ ½
{
öö0 1
NumeroPlanPoliza
÷÷4 D
=
÷÷E F
oAsegCodResponse
÷÷G W
.
÷÷W X
DatosAfiliado
÷÷X e
.
÷÷e f

NumeroPlan
÷÷f p
;
÷÷p q
}
øø0 1
}
ùù, -
catch
úú, 1
(
úú2 3
	Exception
úú3 <
ex
úú= ?
)
úú? @
{
ûû, -
}
ıı, -
oCoberturas
ÿÿ, 7
=
ÿÿ8 9
oAsegCodResponse
ÿÿ: J
.
ÿÿJ K

Coberturas
ÿÿK U
[
ÿÿU V
j
ÿÿV W
]
ÿÿW X
;
ÿÿX Y
if
€€, .
(
€€/ 0
CodCobertura
€€0 <
.
€€< =
Trim
€€= A
(
€€A B
)
€€B C
==
€€D F
$str
€€G I
)
€€I J
{
, -
	msg_error
‚‚0 9
=
‚‚: ;
$str
‚‚< [
+
‚‚\ ]
$str‚‚^ 
+‚‚Ÿ  
$str‚‚¡ ­
+‚‚® ¯
IdeDatosPagos‚‚° ½
.‚‚½ ¾
ToString‚‚¾ Æ
(‚‚Æ Ç
)‚‚Ç È
+‚‚É Ê
$str‚‚Ë Ò
;‚‚Ò Ó
Bus
ƒƒ0 3
.
ƒƒ3 4
AgendaClinica
ƒƒ4 A
.
ƒƒA B
Clinica
ƒƒB I
.
ƒƒI J
VariablesGlobales
ƒƒJ [
.
ƒƒ[ \%
Guardar_Error_BaseDatos
ƒƒ\ s
(
ƒƒs t
	msg_error
ƒƒt }
,
ƒƒ} ~
$strƒƒ ©
)ƒƒ© ª
;ƒƒª «
break
„„0 5
;
„„5 6
}
……, -
if
‡‡, .
(
‡‡/ 0
oCoberturas
‡‡0 ;
.
‡‡; <
CodigoCobertura
‡‡< K
==
‡‡L N
CodCobertura
‡‡O [
)
‡‡[ \
{
ˆˆ, -%
oNumAutorizacionRequest
‰‰0 G
=
‰‰H I
	oWsSiteds
‰‰J S
.
‰‰S T"
fnNumeroAutorizacion
‰‰T h
(
‰‰h i
oCoberturas
‰‰i t
,
‰‰t u
oAsegCodResponse‰‰v †
)‰‰† ‡
;‰‰‡ ˆ
string
‹‹0 6"
JsonBodyAutorizacion
‹‹7 K
=
‹‹L M

Newtonsoft
‹‹N X
.
‹‹X Y
Json
‹‹Y ]
.
‹‹] ^
JsonConvert
‹‹^ i
.
‹‹i j
SerializeObject
‹‹j y
(
‹‹y z&
oNumAutorizacionRequest‹‹z ‘
)‹‹‘ ’
;‹‹’ “(
NumeroAutorizacionResponse
0 J!
NumAutorizacionResp
K ^
=
_ `
default
a h
;
h i
try
0 3
{
0 1
if
‘‘4 6
(
‘‘7 8 
EstProcesoAtencion
‘‘8 J
>=
‘‘K M
$num
‘‘N O
)
‘‘O P
{
’’4 5!
NumAutorizacionResp
““8 K
=
““L M
new
““N Q(
NumeroAutorizacionResponse
““R l
(
““l m
)
““m n
;
““n o 
CodigoAutorizacion
””8 J
=
””K L
$str
””M Q
;
””Q R
}
••4 5
else
––4 8
{
——4 5

stringJson
˜˜8 B
=
˜˜C D(
ConsultaNumeroAutorizacion
˜˜E _
(
˜˜_ `
RutaWS_Siteds
˜˜` m
,
˜˜m n&
oNumAutorizacionRequest˜˜o †
)˜˜† ‡
;˜˜‡ ˆ!
NumAutorizacionResp
šš8 K
=
ššL M
(
ššN O(
NumeroAutorizacionResponse
ššO i
)
šši j

Newtonsoft
ššj t
.
ššt u
Json
ššu y
.
ššy z
JsonConvertššz …
.šš… †!
DeserializeObjectšš† —
(šš— ˜

stringJsonšš˜ ¢
,šš¢ £
typeofšš¤ ª
(ššª «*
NumeroAutorizacionResponsešš« Å
)ššÅ Æ
)ššÆ Ç
;ššÇ È 
CodigoAutorizacion
››8 J
=
››K L!
NumAutorizacionResp
››M `
.
››` a 
NumeroAutorizacion
››a s
;
››s t
if
8 :
(
; < 
CodigoAutorizacion
< N
==
O Q
$str
R T
)
T U
{
8 9
throw
ŸŸ< A
new
ŸŸB E
	Exception
ŸŸF O
(
ŸŸO P

stringJson
ŸŸP Z
)
ŸŸZ [
;
ŸŸ[ \
}
  8 9
}
¡¡4 5
}
¢¢0 1
catch
££0 5
(
££6 7
	Exception
££7 @
ex
££A C
)
££C D
{
¤¤0 1
	msg_error
¥¥4 =
=
¥¥> ?
ex
¥¥@ B
.
¥¥B C
Message
¥¥C J
+
¥¥K L
$str
¥¥M T
+
¥¥U V
ex
¥¥W Y
.
¥¥Y Z

StackTrace
¥¥Z d
+
¥¥e f
$str
¥¥g n
+
¥¥o p

stringJson
¥¥q {
+
¥¥| }
$str¥¥~ …
+¥¥† ‡
$str¥¥ˆ –
+¥¥— ˜

Newtonsoft¥¥™ £
.¥¥£ ¤
Json¥¥¤ ¨
.¥¥¨ ©
JsonConvert¥¥© ´
.¥¥´ µ
SerializeObject¥¥µ Ä
(¥¥Ä Å'
oNumAutorizacionRequest¥¥Å Ü
)¥¥Ü İ
;¥¥İ Ş%
Guardar_Error_BaseDatos
§§4 K
(
§§K L
	msg_error
§§L U
,
§§U V
$str§§W 
)§§ ‚
;§§‚ ƒ
break
¨¨4 9
;
¨¨9 :
}
©©0 1%
mtdCargarDatosCobertura
¬¬0 G
(
¬¬G H
oAsegCodResponse
¬¬H X
,
¬¬X Y
oCoberturas
¬¬Z e
)
¬¬e f
;
¬¬f g
if
®®0 2
(
®®3 4
!
®®4 5
(
®®5 6!
NumAutorizacionResp
®®6 I
==
®®J L
null
®®M Q
)
®®Q R
&
®®S T
!
®®U V
string
®®V \
.
®®\ ]
IsNullOrEmpty
®®] j
(
®®j k
(
®®k l 
CodigoAutorizacion
®®l ~
.
®®~ 
Trim®® ƒ
(®®ƒ „
)®®„ …
)®®… †
)®®† ‡
)®®‡ ˆ
{
¯¯0 1
if
°°4 6
(
°°7 8 
EstProcesoAtencion
°°8 J
==
°°K M
$num
°°N O
)
°°O P
{
±±4 5
if
²²8 :
(
²²; <!
NumAutorizacionResp
²²< O
.
²²O P 
NumeroAutorizacion
²²P b
!=
²²c e
$str
²²f h
)
²²h i
{
³³8 9!
oObservacionRequest
´´< O
=
´´P Q
	oWsSiteds
´´R [
.
´´[ \"
fnObservacionRequest
´´\ p
(
´´p q&
oNumAutorizacionRequest´´q ˆ
,´´ˆ ‰
oAsegCodRequest´´Š ™
)´´™ š
;´´š ›

stringJson
µµ< F
=
µµG H!
ConsultaObservacion
µµI \
(
µµ\ ]
RutaWS_Siteds
µµ] j
,
µµj k!
oObservacionRequest
µµl 
)µµ €
;µµ€ !
ObservacionResponse
¶¶< O"
oObservacionResponse
¶¶P d
=
¶¶e f
(
¶¶g h!
ObservacionResponse
¶¶h {
)
¶¶{ |

Newtonsoft¶¶| †
.¶¶† ‡
Json¶¶‡ ‹
.¶¶‹ Œ
JsonConvert¶¶Œ —
.¶¶— ˜!
DeserializeObject¶¶˜ ©
(¶¶© ª

stringJson¶¶ª ´
,¶¶´ µ
typeof¶¶¶ ¼
(¶¶¼ ½#
ObservacionResponse¶¶½ Ğ
)¶¶Ğ Ñ
)¶¶Ñ Ò
;¶¶Ò Ó&
oCasoTiempoEsperaRequest
¸¸< T
=
¸¸U V
	oWsSiteds
¸¸W `
.
¸¸` a'
fnCasoTiempoEsperaRequest
¸¸a z
(
¸¸z {&
oNumAutorizacionRequest¸¸{ ’
,¸¸’ “
oCoberturas¸¸” Ÿ
)¸¸Ÿ  
;¸¸  ¡

stringJson
¹¹< F
=
¹¹G H
CasoTiempoEspera
¹¹I Y
(
¹¹Y Z
RutaWS_Siteds
¹¹Z g
,
¹¹g h'
oCasoTiempoEsperaRequest¹¹i 
)¹¹ ‚
;¹¹‚ ƒ&
CasoTiempoEsperaResponse
ºº< T'
oCasoTiempoEsperaResponse
ººU n
=
ººo p
(
ººq r'
CasoTiempoEsperaResponseººr Š
)ººŠ ‹

Newtonsoftºº‹ •
.ºº• –
Jsonºº– š
.ººš ›
JsonConvertºº› ¦
.ºº¦ §!
DeserializeObjectºº§ ¸
(ºº¸ ¹

stringJsonºº¹ Ã
,ººÃ Ä
typeofººÅ Ë
(ººË Ì(
CasoTiempoEsperaResponseººÌ ä
)ººä å
)ººå æ
;ººæ ç.
 oProcedimientosEspecialesRequest
¼¼< \
=
¼¼] ^
	oWsSiteds
¼¼_ h
.
¼¼h i8
)fnConsultaProcedimientosEspecialesRequest¼¼i ’
(¼¼’ “'
oNumAutorizacionRequest¼¼“ ª
,¼¼ª «
oCoberturas¼¼¬ ·
)¼¼· ¸
;¼¼¸ ¹

stringJson
½½< F
=
½½G H&
ProcedimientosEspeciales
½½I a
(
½½a b
RutaWS_Siteds
½½b o
,
½½o p/
 oProcedimientosEspecialesRequest½½q ‘
)½½‘ ’
;½½’ “.
 ProcedimientosEspecialesResponse
¾¾< \/
!oProcedimientosEspecialesResponse
¾¾] ~
=¾¾ €
(¾¾ ‚0
 ProcedimientosEspecialesResponse¾¾‚ ¢
)¾¾¢ £

Newtonsoft¾¾£ ­
.¾¾­ ®
Json¾¾® ²
.¾¾² ³
JsonConvert¾¾³ ¾
.¾¾¾ ¿!
DeserializeObject¾¾¿ Ğ
(¾¾Ğ Ñ

stringJson¾¾Ñ Û
,¾¾Û Ü
typeof¾¾İ ã
(¾¾ã ä0
 ProcedimientosEspecialesResponse¾¾ä „
)¾¾„ …
)¾¾… †
;¾¾† ‡
if
ÀÀ< >
(
ÀÀ? @"
GrabarDatosGenerales
ÀÀ@ T
(
ÀÀT U
oAsegCodResponse
ÀÀU e
,
ÀÀe f%
oNumAutorizacionRequest
ÀÀg ~
)
ÀÀ~ 
==ÀÀ€ ‚
trueÀÀƒ ‡
)ÀÀ‡ ˆ
{
ÁÁ< =
GrabarCoberturas
ÂÂ@ P
(
ÂÂP Q
oCoberturas_Acred
ÂÂQ b
,
ÂÂb c
oCoberturas
ÂÂd o
)
ÂÂo p
;
ÂÂp q"
GrabarProcedimientos
ÃÃ@ T
(
ÃÃT U
oDatosGenerales
ÃÃU d
,
ÃÃd e
oCoberturas_Acred
ÃÃf w
)
ÃÃw x
;
ÃÃx y%
GrabarExcepcionCarencia
ÄÄ@ W
(
ÄÄW X
oDatosGenerales
ÄÄX g
,
ÄÄg h
oCoberturas_Acred
ÄÄi z
)
ÄÄz {
;
ÄÄ{ |
}
ÅÅ< =
CrearAtencion
ÇÇ< I
(
ÇÇI J
ref
ÇÇJ M
CodAtencion
ÇÇN Y
,
ÇÇY Z
$str
ÇÇ[ ^
,
ÇÇ^ _
CodPaciente
ÇÇ` k
,
ÇÇk l
CodSede
ÇÇm t
)
ÇÇt u
;
ÇÇu v
if
ÈÈ< >
(
ÈÈ? @
CodAtencion
ÈÈ@ K
.
ÈÈK L
Trim
ÈÈL P
(
ÈÈP Q
)
ÈÈQ R
!=
ÈÈS U
$str
ÈÈV X
)
ÈÈX Y
{
ÉÉ< =
var
ÊÊ@ C#
DocumentoAutorizacion
ÊÊD Y
=
ÊÊZ [
Convert
ÊÊ\ c
.
ÊÊc d
FromBase64String
ÊÊd t
(
ÊÊt u"
NumAutorizacionRespÊÊu ˆ
.ÊÊˆ ‰
	DocumentoÊÊ‰ ’
)ÊÊ’ “
;ÊÊ“ ”
new
ËË@ C,
s10_LogDocumentoAutorizacionAD
ËËD b
(
ËËb c
)
ËËc d
.
ËËd e4
%Sp_S10LogDocumentoAutorizacion_InsertËËe Š
(ËËŠ ‹
newËË‹ -
s10_LogDocumentoAutorizacionEËË ¬
(ËË¬ ­
IdeDatosPagosËË­ º
,ËËº »"
CodigoAutorizacionËË¼ Î
,ËËÎ Ï%
DocumentoAutorizacionËËĞ å
)ËËå æ
)ËËæ ç
;ËËç è 
EstProcesoAtencion
ÌÌ@ R
+=
ÌÌS U
$num
ÌÌV W
;
ÌÌW X
new
ÍÍ@ C
MdsynDatosPagosAD
ÍÍD U
(
ÍÍU V
)
ÍÍV W
.
ÍÍW X-
Sp_MdsynDatosPagos_UpdatexCampo
ÍÍX w
(
ÍÍw x
new
ÍÍx {
MdsynDatosPagosEÍÍ| Œ
(ÍÍŒ 
$numÍÍ 
,ÍÍ 
CodAtencionÍÍ ›
,ÍÍ› œ
$strÍÍ «
,ÍÍ« ¬
IdeDatosPagosÍÍ­ º
)ÍÍº »
)ÍÍ» ¼
;ÍÍ¼ ½
new
ÎÎ@ C
MdsynDatosPagosAD
ÎÎD U
(
ÎÎU V
)
ÎÎV W
.
ÎÎW X-
Sp_MdsynDatosPagos_UpdatexCampo
ÎÎX w
(
ÎÎw x
new
ÎÎx {
MdsynDatosPagosEÎÎ| Œ
(ÎÎŒ 
$numÎÎ 
,ÎÎ "
CodigoAutorizacionÎÎ ¢
,ÎÎ¢ £
$strÎÎ¤ ¼
,ÎÎ¼ ½
IdeDatosPagosÎÎ¾ Ë
)ÎÎË Ì
)ÎÎÌ Í
;ÎÎÍ Î
}
ÏÏ< =
}
ĞĞ8 9
else
ÑÑ8 <
{
ÒÒ8 9
	msg_error
ÓÓ< E
=
ÓÓF G
$strÓÓH š
+ÓÓ› œ
$strÓÓ ¤
+ÓÓ¥ ¦
$strÓÓ§ ³
+ÓÓ´ µ
IdeDatosPagosÓÓ¶ Ã
.ÓÓÃ Ä
ToStringÓÓÄ Ì
(ÓÓÌ Í
)ÓÓÍ Î
+ÓÓÏ Ğ
$strÓÓÑ Ø
+ÓÓÙ Ú
$strÓÓÛ ó
+ÓÓô õ#
NumAutorizacionRespÓÓö ‰
.ÓÓ‰ Š
	DocumentoÓÓŠ “
+ÓÓ” •
$strÓÓ– 
;ÓÓ %
Guardar_Error_BaseDatos
ÕÕ< S
(
ÕÕS T
	msg_error
ÕÕT ]
,
ÕÕ] ^
$strÕÕ_ ‰
)ÕÕ‰ Š
;ÕÕŠ ‹
}
ÖÖ8 9
}
××4 5
if
ÙÙ4 6
(
ÙÙ7 8 
EstProcesoAtencion
ÙÙ8 J
==
ÙÙK M
$num
ÙÙN O
)
ÙÙO P
{
ÚÚ4 5
}
ÜÜ4 5
}
İİ0 1
else
ŞŞ0 4
{
ßß0 1
	msg_error
àà4 =
=
àà> ?
$stràà@ ’
+àà“ ”
$stràà• œ
+àà 
$strààŸ «
+àà¬ ­
IdeDatosPagosàà® »
.àà» ¼
ToStringàà¼ Ä
(ààÄ Å
)ààÅ Æ
+ààÇ È
$strààÉ Ğ
;ààĞ Ñ%
Guardar_Error_BaseDatos
áá4 K
(
ááK L
	msg_error
ááL U
,
ááU V
$strááW 
)áá ‚
;áá‚ ƒ
}
ââ0 1
break
ãã0 5
;
ãã5 6
}
ää, -
}
åå( )
}
ææ$ %
else
çç$ (
{
èè$ %
	msg_error
éé( 1
=
éé2 3
$stréé4 ˆ
+éé‰ Š
$stréé‹ ’
+éé“ ”
$stréé•  
+éé¡ ¢
IdeDatosPagoséé£ °
.éé° ±
ToStringéé± ¹
(éé¹ º
)ééº »
+éé¼ ½
$stréé¾ Å
+ééÆ Ç
$strééÈ Ù
+ééÚ Û
CodPacienteééÜ ç
+ééè é
$strééê ñ
+ééò ó
$strééô û
+ééü ı
DocIdentidadééş Š
+éé‹ Œ
$stréé ”
;éé” •%
Guardar_Error_BaseDatos
ëë( ?
(
ëë? @
	msg_error
ëë@ I
,
ëëI J
$str
ëëK w
)
ëëw x
;
ëëx y
}
ìì$ %
}
íí  !
else
îî  $
if
îî% '
(
îî( )#
CodTipoConsultaMedica
îî) >
==
îî? A
$str
îîB E
)
îîE F
{
ïï  !%
mtdCargarDatosCobertura
ññ$ ;
(
ññ; <
new
ññ< ?
AsegCodResponse
ññ@ O
(
ññO P
)
ññP Q
,
ññQ R
new
ññS V!
Coberturas_AsegCode
ññW j
(
ññj k
)
ññk l
)
ññl m
;
ññm n
CrearAtencion
óó$ 1
(
óó1 2
ref
óó2 5
CodAtencion
óó6 A
,
óóA B
$str
óóC F
,
óóF G
CodPaciente
óóH S
,
óóS T
CodSede
óóU \
)
óó\ ]
;
óó] ^
if
ôô$ &
(
ôô' (
CodAtencion
ôô( 3
.
ôô3 4
Trim
ôô4 8
(
ôô8 9
)
ôô9 :
!=
ôô; =
$str
ôô> @
)
ôô@ A
{
õõ$ % 
EstProcesoAtencion
öö( :
+=
öö; =
$num
öö> ?
;
öö? @
new
÷÷( +
MdsynDatosPagosAD
÷÷, =
(
÷÷= >
)
÷÷> ?
.
÷÷? @-
Sp_MdsynDatosPagos_UpdatexCampo
÷÷@ _
(
÷÷_ `
new
÷÷` c
MdsynDatosPagosE
÷÷d t
(
÷÷t u
$num
÷÷u v
,
÷÷v w
CodAtencion÷÷x ƒ
,÷÷ƒ „
$str÷÷… “
,÷÷“ ”
IdeDatosPagos÷÷• ¢
)÷÷¢ £
)÷÷£ ¤
;÷÷¤ ¥
new
øø( +
MdsynDatosPagosAD
øø, =
(
øø= >
)
øø> ?
.
øø? @-
Sp_MdsynDatosPagos_UpdatexCampo
øø@ _
(
øø_ `
new
øø` c
MdsynDatosPagosE
øød t
(
øøt u
$num
øøu v
,
øøv w
$str
øøx z
,
øøz {
$strøø| ”
,øø” •
IdeDatosPagosøø– £
)øø£ ¤
)øø¤ ¥
;øø¥ ¦
}
ùù$ %
}
úú  !
}
ûû 
if
şş 
(
şş  
double
şş  &
.
şş& '
Parse
şş' ,
(
şş, -

CoPagoFijo
şş- 7
)
şş7 8
!=
şş9 ;
$num
şş< >
&
şş? @#
CodTipoConsultaMedica
şşA V
==
şşW Y
$str
şşZ ]
)
şş] ^
{
ÿÿ 
if
€	€	  "
(
€	€	# $ 
EstProcesoAtencion
€	€	$ 6
==
€	€	7 9
$num
€	€	: ;
)
€	€	; <
{
		  !
CrearPagoaCuenta
‚	‚	$ 4
(
‚	‚	4 5
CodAtencion
‚	‚	5 @
,
‚	‚	@ A
double
‚	‚	B H
.
‚	‚	H I
Parse
‚	‚	I N
(
‚	‚	N O

CoPagoFijo
‚	‚	O Y
)
‚	‚	Y Z
,
‚	‚	Z [
ref
‚	‚	\ _
CodLiquidacion
‚	‚	` n
)
‚	‚	n o
;
‚	‚	o p
if
ƒ	ƒ	$ &
(
ƒ	ƒ	' (
CodLiquidacion
ƒ	ƒ	( 6
.
ƒ	ƒ	6 7
Trim
ƒ	ƒ	7 ;
(
ƒ	ƒ	; <
)
ƒ	ƒ	< =
!=
ƒ	ƒ	> @
$str
ƒ	ƒ	A C
)
ƒ	ƒ	C D
{
„	„	$ % 
EstProcesoAtencion
…	…	( :
+=
…	…	; =
$num
…	…	> ?
;
…	…	? @
new
†	†	( +
MdsynDatosPagosAD
†	†	, =
(
†	†	= >
)
†	†	> ?
.
†	†	? @-
Sp_MdsynDatosPagos_UpdatexCampo
†	†	@ _
(
†	†	_ `
new
†	†	` c
MdsynDatosPagosE
†	†	d t
(
†	†	t u
$num
†	†	u v
,
†	†	v w
CodLiquidacion†	†	x †
,†	†	† ‡
$str†	†	ˆ ™
,†	†	™ š
IdeDatosPagos†	†	› ¨
)†	†	¨ ©
)†	†	© ª
;†	†	ª «
}
‡	‡	$ %
}
ˆ	ˆ	  !
if
‹	‹	  "
(
‹	‹	# $ 
EstProcesoAtencion
‹	‹	$ 6
==
‹	‹	7 9
$num
‹	‹	: ;
)
‹	‹	; <
{
Œ	Œ	  !
try
		$ '
{
		$ %
if
		( *
(
		+ ,,
Comprobante_CodTipoComprobante
		, J
==
		K M
$str
		N Q
)
		Q R
{
		( )
var
‘	‘	, /
oAgendaCitas
‘	‘	0 <
=
‘	‘	= >
new
‘	‘	? B
AgendaCitas
‘	‘	C N
(
‘	‘	N O
)
‘	‘	O P
;
‘	‘	P Q
oAgendaCitas
’	’	, 8
.
’	’	8 9!
RegistrarClienteRuc
’	’	9 L
(
’	’	L M,
Comprobante_CodTipoComprobante
’	’	M k
,
’	’	k l*
Comprobante_RutDocIdentidad’	’	m ˆ
,’	’	ˆ ‰0
 Comprobante_DscCorreoComprobante’	’	Š ª
)’	’	ª «
;’	’	« ¬
}
“	“	( ) 
GenerarComprobante
”	”	( :
(
”	”	: ;,
Comprobante_CodTipoComprobante
”	”	; Y
,
”	”	Y Z
CodLiquidacion
”	”	[ i
,
”	”	i j

CoPagoFijo
”	”	k u
,
”	”	u v
	TipMoneda”	”	w €
.”	”	€ 
	Substring”	”	 Š
(”	”	Š ‹
$num”	”	‹ Œ
,”	”	Œ 
$num”	”	 
)”	”	 
)”	”	 ‘
;”	”	‘ ’
}
•	•	$ %
catch
–	–	$ )
(
–	–	* +
	Exception
–	–	+ 4
ex
–	–	5 7
)
–	–	7 8
{
—	—	$ %
	msg_error
˜	˜	( 1
=
˜	˜	2 3
$str
˜	˜	4 >
+
˜	˜	? @
ex
˜	˜	A C
.
˜	˜	C D
Source
˜	˜	D J
+
˜	˜	K L
$str
˜	˜	M T
+
˜	˜	U V
$str˜	˜	W ‡
+˜	˜	ˆ ‰
ex˜	˜	Š Œ
.˜	˜	Œ 
Message˜	˜	 ”
+˜	˜	• –
$str˜	˜	— 
+˜	˜	Ÿ  
$str˜	˜	¡ ¬
+˜	˜	­ ®
IdeDatosPagos˜	˜	¯ ¼
.˜	˜	¼ ½
ToString˜	˜	½ Å
(˜	˜	Å Æ
)˜	˜	Æ Ç
+˜	˜	È É
$str˜	˜	Ê Ñ
+˜	˜	Ò Ó
$str˜	˜	Ô Ö
+˜	˜	× Ø
ex˜	˜	Ù Û
.˜	˜	Û Ü
ToString˜	˜	Ü ä
(˜	˜	ä å
)˜	˜	å æ
;˜	˜	æ ç%
Guardar_Error_BaseDatos
š	š	( ?
(
š	š	? @
	msg_error
š	š	@ I
,
š	š	I J
$str
š	š	K r
)
š	š	r s
;
š	š	s t
}
›	›	$ %
if
		$ &
(
		' (
CodComprobante
		( 6
.
		6 7
Trim
		7 ;
(
		; <
)
		< =
!=
		> @
$str
		A C
)
		C D
{
		$ % 
EstProcesoAtencion
Ÿ	Ÿ	( :
+=
Ÿ	Ÿ	; =
$num
Ÿ	Ÿ	> ?
;
Ÿ	Ÿ	? @
new
 	 	( +
MdsynDatosPagosAD
 	 	, =
(
 	 	= >
)
 	 	> ?
.
 	 	? @-
Sp_MdsynDatosPagos_UpdatexCampo
 	 	@ _
(
 	 	_ `
new
 	 	` c
MdsynDatosPagosE
 	 	d t
(
 	 	t u
$num
 	 	u v
,
 	 	v w
CodComprobante 	 	x †
, 	 	† ‡
$str 	 	ˆ ™
, 	 	™ š
IdeDatosPagos 	 	› ¨
) 	 	¨ ©
) 	 	© ª
; 	 	ª «
}
¡	¡	$ %
}
¢	¢	  !
if
¤	¤	  "
(
¤	¤	# $ 
EstProcesoAtencion
¤	¤	$ 6
==
¤	¤	7 9
$num
¤	¤	: ;
)
¤	¤	; <
{
¥	¥	  !
PagarComprobante
¦	¦	$ 4
(
¦	¦	4 5
CodComprobante
¦	¦	5 C
,
¦	¦	C D
CodLiquidacion
¦	¦	E S
,
¦	¦	S T,
Comprobante_CodTipoComprobante
¦	¦	U s
,
¦	¦	s t
double
¦	¦	u {
.
¦	¦	{ |
Parse¦	¦	| 
(¦	¦	 ‚

CoPagoFijo¦	¦	‚ Œ
)¦	¦	Œ 
,¦	¦	 
	TipMoneda¦	¦	 ˜
.¦	¦	˜ ™
	Substring¦	¦	™ ¢
(¦	¦	¢ £
$num¦	¦	£ ¤
,¦	¦	¤ ¥
$num¦	¦	¦ §
)¦	¦	§ ¨
)¦	¦	¨ ©
;¦	¦	© ª 
EstProcesoAtencion
§	§	$ 6
+=
§	§	7 9
$num
§	§	: ;
;
§	§	; <
}
¨	¨	  !
}
©	©	 
if
®	®	 
(
®	®	  
(
®	®	  ! 
EstProcesoAtencion
®	®	! 3
==
®	®	4 6
$num
®	®	7 8
&&
®	®	9 ;
CodAtencion
®	®	< G
!=
®	®	H J
$str
®	®	K M
&&
®	®	N P
decimal
®	®	Q X
.
®	®	X Y
Parse
®	®	Y ^
(
®	®	^ _

CoPagoFijo
®	®	_ i
)
®	®	i j
==
®	®	k m
$num
®	®	n o
&&
®	®	p r$
CodTipoConsultaMedica®	®	s ˆ
==®	®	‰ ‹
$str®	®	Œ 
)®	®	 
||®	®	‘ “
(
¯	¯	$ % 
EstProcesoAtencion
¯	¯	% 7
==
¯	¯	8 :
$num
¯	¯	; <
&&
¯	¯	= ?
CodAtencion
¯	¯	@ K
!=
¯	¯	L N
$str
¯	¯	O Q
&&
¯	¯	R T
CodLiquidacion
¯	¯	U c
!=
¯	¯	d f
$str
¯	¯	g i
&&
¯	¯	j l
CodComprobante
¯	¯	m {
!=
¯	¯	| ~
$str¯	¯	 
&&¯	¯	‚ „
decimal¯	¯	… Œ
.¯	¯	Œ 
Parse¯	¯	 ’
(¯	¯	’ “

CoPagoFijo¯	¯	“ 
)¯	¯	 
>¯	¯	Ÿ  
$num¯	¯	¡ ¢
&&¯	¯	£ ¥%
CodTipoConsultaMedica¯	¯	¦ »
==¯	¯	¼ ¾
$str¯	¯	¿ Â
)¯	¯	Â Ã
||¯	¯	Ä Æ
(
°	°	$ % 
EstProcesoAtencion
°	°	% 7
==
°	°	8 :
$num
°	°	; <
&&
°	°	= ?
CodAtencion
°	°	@ K
!=
°	°	L N
$str
°	°	O Q
&&
°	°	R T#
CodTipoConsultaMedica
°	°	U j
==
°	°	k m
$str
°	°	n q
)
°	°	q r
)
°	°	r s
{
±	±	 .
 ActualizarDatosPagosConfirmacion
²	²	  @
(
²	²	@ A
)
²	²	A B
;
²	²	B C
new
³	³	  #

HospitalAD
³	³	$ .
(
³	³	. /
)
³	³	/ 0
.
³	³	0 1 
Sp_Hospital_Update
³	³	1 C
(
³	³	C D
new
³	³	D G
	HospitalE
³	³	H Q
(
³	³	Q R
CodAtencion
³	³	R ]
,
³	³	] ^
$str
³	³	_ t
,
³	³	t u 
EstConsultaMedica³	³	v ‡
)³	³	‡ ˆ
)³	³	ˆ ‰
;³	³	‰ Š
}
´	´	 
new
¶	¶	 
MdsynDatosPagosAD
¶	¶	  1
(
¶	¶	1 2
)
¶	¶	2 3
.
¶	¶	3 4-
Sp_MdsynDatosPagos_UpdatexCampo
¶	¶	4 S
(
¶	¶	S T
new
¶	¶	T W
MdsynDatosPagosE
¶	¶	X h
(
¶	¶	h i
$num
¶	¶	i j
,
¶	¶	j k 
EstProcesoAtencion
¶	¶	l ~
.
¶	¶	~ 
ToString¶	¶	 ‡
(¶	¶	‡ ˆ
)¶	¶	ˆ ‰
,¶	¶	‰ Š
$str¶	¶	‹ ¡
,¶	¶	¡ ¢
IdeDatosPagos¶	¶	£ °
)¶	¶	° ±
)¶	¶	± ²
;¶	¶	² ³
}
·	·	 
catch
»	»	 
(
»	»	 
	Exception
»	»	 (
ex
»	»	) +
)
»	»	+ ,
{
¼	¼	 
string
½	½	 "
xMsgEnt
½	½	# *
=
½	½	+ ,
$str
½	½	- /
;
½	½	/ 0
xMsgEnt
¿	¿	 #
=
¿	¿	$ %

Newtonsoft
¿	¿	& 0
.
¿	¿	0 1
Json
¿	¿	1 5
.
¿	¿	5 6
JsonConvert
¿	¿	6 A
.
¿	¿	A B
SerializeObject
¿	¿	B Q
(
¿	¿	Q R
oAsegNombRequest
¿	¿	R b
)
¿	¿	b c
;
¿	¿	c d
	msg_error
Á	Á	 %
=
Á	Á	& '
$str
Á	Á	( 3
+
Á	Á	4 5
IdeDatosPagos
Á	Á	6 C
.
Á	Á	C D
ToString
Á	Á	D L
(
Á	Á	L M
)
Á	Á	M N
+
Á	Á	O P
$str
Á	Á	Q X
+
Á	Á	Y Z
$str
Á	Á	[ f
+
Á	Á	g h
ex
Á	Á	i k
.
Á	Á	k l
ToString
Á	Á	l t
(
Á	Á	t u
)
Á	Á	u v
+
Á	Á	w x
$strÁ	Á	y …
+Á	Á	† ‡
$strÁ	Á	ˆ ²
+Á	Á	³ ´
$strÁ	Á	µ Ğ
+Á	Á	Ñ Ò
xMsgEntÁ	Á	Ó Ú
;Á	Á	Ú Û%
Guardar_Error_BaseDatos
Ä	Ä	 3
(
Ä	Ä	3 4
	msg_error
Ä	Ä	4 =
,
Ä	Ä	= >
$str
Ä	Ä	? P
)
Ä	Ä	P Q
;
Ä	Ä	Q R
}
Å	Å	 
}
Æ	Æ	 
while
Ç	Ç	 
(
Ç	Ç	 
false
Ç	Ç	  
)
Ç	Ç	  !
;
Ç	Ç	! "
LimpiarVariables
É	É	 $
(
É	É	$ %
)
É	É	% &
;
É	É	& '
}
Ê	Ê	 
new
Ì	Ì	 
TablasAD
Ì	Ì	 
(
Ì	Ì	 
)
Ì	Ì	 
.
Ì	Ì	 
Sp_Tablas_Update
Ì	Ì	 /
(
Ì	Ì	/ 0
new
Ì	Ì	0 3
TablasE
Ì	Ì	4 ;
(
Ì	Ì	; <
$str
Ì	Ì	< Y
,
Ì	Ì	Y Z
$str
Ì	Ì	[ _
,
Ì	Ì	_ `
DateTime
Ì	Ì	a i
.
Ì	Ì	i j
Now
Ì	Ì	j m
.
Ì	Ì	m n
ToString
Ì	Ì	n v
(
Ì	Ì	v w
$strÌ	Ì	w 
)Ì	Ì	 ‘
,Ì	Ì	‘ ’
$strÌ	Ì	“ ›
)Ì	Ì	› œ
)Ì	Ì	œ 
;Ì	Ì	 
}
Í	Í	 
catch
Î	Î	 
(
Î	Î	 
	Exception
Î	Î	 
ex
Î	Î	 
)
Î	Î	  
{
Ï	Ï	 
	msg_error
Ğ	Ğ	 
=
Ğ	Ğ	 
$str
Ğ	Ğ	 (
+
Ğ	Ğ	) *
IdeDatosPagos
Ğ	Ğ	+ 8
.
Ğ	Ğ	8 9
ToString
Ğ	Ğ	9 A
(
Ğ	Ğ	A B
)
Ğ	Ğ	B C
+
Ğ	Ğ	D E
$str
Ğ	Ğ	F M
+
Ğ	Ğ	N O
$str
Ğ	Ğ	P [
+
Ğ	Ğ	\ ]
ex
Ğ	Ğ	^ `
.
Ğ	Ğ	` a
Message
Ğ	Ğ	a h
+
Ğ	Ğ	i j
$str
Ğ	Ğ	k 
+Ğ	Ğ	€ 
exĞ	Ğ	‚ „
.Ğ	Ğ	„ …

StackTraceĞ	Ğ	… 
+Ğ	Ğ	 ‘
$strĞ	Ğ	’ ™
;Ğ	Ğ	™ š%
Guardar_Error_BaseDatos
Ò	Ò	 '
(
Ò	Ò	' (
	msg_error
Ò	Ò	( 1
,
Ò	Ò	1 2
$str
Ò	Ò	3 D
)
Ò	Ò	D E
;
Ò	Ò	E F
}
Ó	Ó	 
}
Ô	Ô	 	
public
Ù	Ù	 
void
Ù	Ù	 '
mtProcesarPagos_SinSiteds
Ù	Ù	 -
(
Ù	Ù	- .
)
Ù	Ù	. /
{
Ú	Ú	 	
var
Ş	Ş	 
oList
Ş	Ş	 
=
Ş	Ş	 
new
Ş	Ş	 
List
Ş	Ş	  
<
Ş	Ş	  !
MdsynDatosPagosE
Ş	Ş	! 1
>
Ş	Ş	1 2
(
Ş	Ş	2 3
)
Ş	Ş	3 4
;
Ş	Ş	4 5
string
ß	ß	 

stringJson
ß	ß	 
=
ß	ß	 
$str
ß	ß	  "
;
ß	ß	" #
int
à	à	 
i
à	à	 
;
à	à	 
string
á	á	 
	msg_error
á	á	 
=
á	á	 
$str
á	á	 !
;
á	á	! "
	oWsSiteds
â	â	 
=
â	â	 
new
â	â	 
SitedsWs
â	â	 $
(
â	â	$ %
)
â	â	% &
;
â	â	& '
try
å	å	 
{
æ	æ	 
oList
ç	ç	 
=
ç	ç	 
new
ç	ç	 
MdsynDatosPagosAD
ç	ç	 -
(
ç	ç	- .
)
ç	ç	. /
.
ç	ç	/ 0.
 Sp_MdsynDatosPagos_Cita_Consulta
ç	ç	0 P
(
ç	ç	P Q
new
ç	ç	Q T
MdsynDatosPagosE
ç	ç	U e
(
ç	ç	e f
$str
ç	ç	f h
,
ç	ç	h i
$str
ç	ç	j l
,
ç	ç	l m
$str
ç	ç	n p
,
ç	ç	p q
$num
ç	ç	r s
,
ç	ç	s t
$num
ç	ç	u v
)
ç	ç	v w
)
ç	ç	w x
;
ç	ç	x y
var
è	è	 
loopTo
è	è	 
=
è	è	 
oList
è	è	 "
.
è	è	" #
Count
è	è	# (
-
è	è	) *
$num
è	è	+ ,
;
è	è	, -
for
é	é	 
(
é	é	 
i
é	é	 
=
é	é	 
$num
é	é	 
;
é	é	 
i
é	é	 
<=
é	é	  
loopTo
é	é	! '
;
é	é	' (
i
é	é	) *
++
é	é	* ,
)
é	é	, -
{
ê	ê	 
mtDatosPaciente
ë	ë	 #
(
ë	ë	# $
oList
ë	ë	$ )
[
ë	ë	) *
i
ë	ë	* +
]
ë	ë	+ ,
)
ë	ë	, -
;
ë	ë	- .
do
í	í	 
{
î	î	 
try
ï	ï	 
{
ğ	ğ	 !
CrearCiaContratante
ñ	ñ	 /
(
ñ	ñ	/ 0
)
ñ	ñ	0 1
;
ñ	ñ	1 2
if
ò	ò	 
(
ò	ò	  
CodCia
ò	ò	  &
==
ò	ò	' )
$str
ò	ò	* ,
)
ò	ò	, -
break
ó	ó	  %
;
ó	ó	% &
if
õ	õ	 
(
õ	õ	   
EstProcesoAtencion
õ	õ	  2
==
õ	õ	3 5
$num
õ	õ	6 7
)
õ	õ	7 8
{
ö	ö	 
if
÷	÷	  "
(
÷	÷	# $#
CodTipoConsultaMedica
÷	÷	$ 9
==
÷	÷	: <
$str
÷	÷	= @
)
÷	÷	@ A
{
ø	ø	  !
if
ÿ	ÿ	$ &
(
ÿ	ÿ	' ( 
CodigoAutorizacion
ÿ	ÿ	( :
.
ÿ	ÿ	: ;
Trim
ÿ	ÿ	; ?
(
ÿ	ÿ	? @
)
ÿ	ÿ	@ A
!=
ÿ	ÿ	B D
$str
ÿ	ÿ	E G
&&
ÿ	ÿ	H J
NumeroPlanPoliza
ÿ	ÿ	K [
.
ÿ	ÿ	[ \
Trim
ÿ	ÿ	\ `
(
ÿ	ÿ	` a
)
ÿ	ÿ	a b
!=
ÿ	ÿ	c e
$str
ÿ	ÿ	f h
&&
ÿ	ÿ	i k
TipoAfiliacion
ÿ	ÿ	l z
.
ÿ	ÿ	z {
Trim
ÿ	ÿ	{ 
(ÿ	ÿ	 €
)ÿ	ÿ	€ 
!=ÿ	ÿ	‚ „
$strÿ	ÿ	… ‡
)ÿ	ÿ	‡ ˆ
{
€
€
$ %
CrearAtencion
…
…
( 5
(
…
…
5 6
ref
…
…
6 9
CodAtencion
…
…
: E
,
…
…
E F
$str
…
…
G J
,
…
…
J K
CodPaciente
…
…
L W
,
…
…
W X
CodSede
…
…
Y `
)
…
…
` a
;
…
…
a b
if
†
†
( *
(
†
†
+ ,
CodAtencion
†
†
, 7
.
†
†
7 8
Trim
†
†
8 <
(
†
†
< =
)
†
†
= >
!=
†
†
? A
$str
†
†
B D
)
†
†
D E
{
‡
‡
( ) 
EstProcesoAtencion
Š
Š
, >
+=
Š
Š
? A
$num
Š
Š
B C
;
Š
Š
C D
new
‹
‹
, /
MdsynDatosPagosAD
‹
‹
0 A
(
‹
‹
A B
)
‹
‹
B C
.
‹
‹
C D-
Sp_MdsynDatosPagos_UpdatexCampo
‹
‹
D c
(
‹
‹
c d
new
‹
‹
d g
MdsynDatosPagosE
‹
‹
h x
(
‹
‹
x y
$num
‹
‹
y z
,
‹
‹
z {
CodAtencion‹
‹
| ‡
,‹
‹
‡ ˆ
$str‹
‹
‰ —
,‹
‹
— ˜
IdeDatosPagos‹
‹
™ ¦
)‹
‹
¦ §
)‹
‹
§ ¨
;‹
‹
¨ ©
new
Œ
Œ
, /
MdsynDatosPagosAD
Œ
Œ
0 A
(
Œ
Œ
A B
)
Œ
Œ
B C
.
Œ
Œ
C D-
Sp_MdsynDatosPagos_UpdatexCampo
Œ
Œ
D c
(
Œ
Œ
c d
new
Œ
Œ
d g
MdsynDatosPagosE
Œ
Œ
h x
(
Œ
Œ
x y
$num
Œ
Œ
y z
,
Œ
Œ
z {!
CodigoAutorizacionŒ
Œ
| 
,Œ
Œ
 
$strŒ
Œ
 ¨
,Œ
Œ
¨ ©
IdeDatosPagosŒ
Œ
ª ·
)Œ
Œ
· ¸
)Œ
Œ
¸ ¹
;Œ
Œ
¹ º
}


( )
}


$ %
}
ÕÕ  !
else
ÖÖ  $
if
ÖÖ% '
(
ÖÖ( )#
CodTipoConsultaMedica
ÖÖ) >
==
ÖÖ? A
$str
ÖÖB E
)
ÖÖE F
{
××  !%
mtdCargarDatosCobertura
ÙÙ$ ;
(
ÙÙ; <
new
ÙÙ< ?
AsegCodResponse
ÙÙ@ O
(
ÙÙO P
)
ÙÙP Q
,
ÙÙQ R
new
ÙÙS V!
Coberturas_AsegCode
ÙÙW j
(
ÙÙj k
)
ÙÙk l
)
ÙÙl m
;
ÙÙm n
CrearAtencion
ÛÛ$ 1
(
ÛÛ1 2
ref
ÛÛ2 5
CodAtencion
ÛÛ6 A
,
ÛÛA B
$str
ÛÛC F
,
ÛÛF G
CodPaciente
ÛÛH S
,
ÛÛS T
CodSede
ÛÛU \
)
ÛÛ\ ]
;
ÛÛ] ^
if
ÜÜ$ &
(
ÜÜ' (
CodAtencion
ÜÜ( 3
.
ÜÜ3 4
Trim
ÜÜ4 8
(
ÜÜ8 9
)
ÜÜ9 :
!=
ÜÜ; =
$str
ÜÜ> @
)
ÜÜ@ A
{
İİ$ % 
EstProcesoAtencion
ŞŞ( :
+=
ŞŞ; =
$num
ŞŞ> ?
;
ŞŞ? @
new
ßß( +
MdsynDatosPagosAD
ßß, =
(
ßß= >
)
ßß> ?
.
ßß? @-
Sp_MdsynDatosPagos_UpdatexCampo
ßß@ _
(
ßß_ `
new
ßß` c
MdsynDatosPagosE
ßßd t
(
ßßt u
$num
ßßu v
,
ßßv w
CodAtencionßßx ƒ
,ßßƒ „
$strßß… “
,ßß“ ”
IdeDatosPagosßß• ¢
)ßß¢ £
)ßß£ ¤
;ßß¤ ¥
new
àà( +
MdsynDatosPagosAD
àà, =
(
àà= >
)
àà> ?
.
àà? @-
Sp_MdsynDatosPagos_UpdatexCampo
àà@ _
(
àà_ `
new
àà` c
MdsynDatosPagosE
ààd t
(
ààt u
$num
ààu v
,
ààv w
$str
ààx z
,
ààz {
$stràà| ”
,àà” •
IdeDatosPagosàà– £
)àà£ ¤
)àà¤ ¥
;àà¥ ¦
}
áá$ %
}
ââ  !
}
ãã 
if
ææ 
(
ææ  
double
ææ  &
.
ææ& '
Parse
ææ' ,
(
ææ, -

CoPagoFijo
ææ- 7
)
ææ7 8
!=
ææ9 ;
$num
ææ< >
&
ææ? @#
CodTipoConsultaMedica
ææA V
==
ææW Y
$str
ææZ ]
)
ææ] ^
{
çç 
if
èè  "
(
èè# $ 
EstProcesoAtencion
èè$ 6
==
èè7 9
$num
èè: ;
)
èè; <
{
éé  !
CrearPagoaCuenta
êê$ 4
(
êê4 5
CodAtencion
êê5 @
,
êê@ A
double
êêB H
.
êêH I
Parse
êêI N
(
êêN O

CoPagoFijo
êêO Y
)
êêY Z
,
êêZ [
ref
êê\ _
CodLiquidacion
êê` n
)
êên o
;
êêo p
if
ëë$ &
(
ëë' (
CodLiquidacion
ëë( 6
.
ëë6 7
Trim
ëë7 ;
(
ëë; <
)
ëë< =
!=
ëë> @
$str
ëëA C
)
ëëC D
{
ìì$ % 
EstProcesoAtencion
íí( :
+=
íí; =
$num
íí> ?
;
íí? @
new
îî( +
MdsynDatosPagosAD
îî, =
(
îî= >
)
îî> ?
.
îî? @-
Sp_MdsynDatosPagos_UpdatexCampo
îî@ _
(
îî_ `
new
îî` c
MdsynDatosPagosE
îîd t
(
îît u
$num
îîu v
,
îîv w
CodLiquidacionîîx †
,îî† ‡
$strîîˆ ™
,îî™ š
IdeDatosPagosîî› ¨
)îî¨ ©
)îî© ª
;îîª «
}
ïï$ %
}
ğğ  !
if
óó  "
(
óó# $ 
EstProcesoAtencion
óó$ 6
==
óó7 9
$num
óó: ;
)
óó; <
{
ôô  !
try
õõ$ '
{
öö$ %
if
÷÷( *
(
÷÷+ ,,
Comprobante_CodTipoComprobante
÷÷, J
==
÷÷K M
$str
÷÷N Q
)
÷÷Q R
{
øø( )
var
ùù, /
oAgendaCitas
ùù0 <
=
ùù= >
new
ùù? B
AgendaCitas
ùùC N
(
ùùN O
)
ùùO P
;
ùùP Q
oAgendaCitas
úú, 8
.
úú8 9!
RegistrarClienteRuc
úú9 L
(
úúL M,
Comprobante_CodTipoComprobante
úúM k
,
úúk l*
Comprobante_RutDocIdentidadúúm ˆ
,úúˆ ‰0
 Comprobante_DscCorreoComprobanteúúŠ ª
)úúª «
;úú« ¬
}
ûû( ) 
GenerarComprobante
üü( :
(
üü: ;,
Comprobante_CodTipoComprobante
üü; Y
,
üüY Z
CodLiquidacion
üü[ i
,
üüi j

CoPagoFijo
üük u
,
üüu v
	TipMonedaüüw €
.üü€ 
	Substringüü Š
(üüŠ ‹
$numüü‹ Œ
,üüŒ 
$numüü 
)üü 
)üü ‘
;üü‘ ’
}
ıı$ %
catch
şş$ )
(
şş* +
	Exception
şş+ 4
ex
şş5 7
)
şş7 8
{
ÿÿ$ %
	msg_error
€€( 1
=
€€2 3
$str
€€4 >
+
€€? @
ex
€€A C
.
€€C D
Source
€€D J
+
€€K L
$str
€€M T
+
€€U V
$str€€W ‡
+€€ˆ ‰
ex€€Š Œ
.€€Œ 
Message€€ ”
+€€• –
$str€€— 
+€€Ÿ  
$str€€¡ ¬
+€€­ ®
IdeDatosPagos€€¯ ¼
.€€¼ ½
ToString€€½ Å
(€€Å Æ
)€€Æ Ç
+€€È É
$str€€Ê Ñ
+€€Ò Ó
$str€€Ô Ö
+€€× Ø
ex€€Ù Û
.€€Û Ü
ToString€€Ü ä
(€€ä å
)€€å æ
;€€æ ç%
Guardar_Error_BaseDatos
‚‚( ?
(
‚‚? @
	msg_error
‚‚@ I
,
‚‚I J
$str
‚‚K r
)
‚‚r s
;
‚‚s t
}
ƒƒ$ %
if
……$ &
(
……' (
CodComprobante
……( 6
.
……6 7
Trim
……7 ;
(
……; <
)
……< =
!=
……> @
$str
……A C
)
……C D
{
††$ % 
EstProcesoAtencion
‡‡( :
+=
‡‡; =
$num
‡‡> ?
;
‡‡? @
new
ˆˆ( +
MdsynDatosPagosAD
ˆˆ, =
(
ˆˆ= >
)
ˆˆ> ?
.
ˆˆ? @-
Sp_MdsynDatosPagos_UpdatexCampo
ˆˆ@ _
(
ˆˆ_ `
new
ˆˆ` c
MdsynDatosPagosE
ˆˆd t
(
ˆˆt u
$num
ˆˆu v
,
ˆˆv w
CodComprobanteˆˆx †
,ˆˆ† ‡
$strˆˆˆ ™
,ˆˆ™ š
IdeDatosPagosˆˆ› ¨
)ˆˆ¨ ©
)ˆˆ© ª
;ˆˆª «
}
‰‰$ %
}
ŠŠ  !
if
ŒŒ  "
(
ŒŒ# $ 
EstProcesoAtencion
ŒŒ$ 6
==
ŒŒ7 9
$num
ŒŒ: ;
)
ŒŒ; <
{
  !
PagarComprobante
$ 4
(
4 5
CodComprobante
5 C
,
C D
CodLiquidacion
E S
,
S T,
Comprobante_CodTipoComprobante
U s
,
s t
double
u {
.
{ |
Parse| 
( ‚

CoPagoFijo‚ Œ
)Œ 
, 
	TipMoneda ˜
.˜ ™
	Substring™ ¢
(¢ £
$num£ ¤
,¤ ¥
$num¦ §
)§ ¨
)¨ ©
;© ª 
EstProcesoAtencion
$ 6
+=
7 9
$num
: ;
;
; <
}
  !
}
‘‘ 
if
–– 
(
––  
(
––  ! 
EstProcesoAtencion
––! 3
==
––4 6
$num
––7 8
&&
––9 ;
CodAtencion
––< G
!=
––H J
$str
––K M
&&
––N P
decimal
––Q X
.
––X Y
Parse
––Y ^
(
––^ _

CoPagoFijo
––_ i
)
––i j
==
––k m
$num
––n o
&&
––p r$
CodTipoConsultaMedica––s ˆ
==––‰ ‹
$str––Œ 
)–– 
||––‘ “
(
——$ % 
EstProcesoAtencion
——% 7
==
——8 :
$num
——; <
&&
——= ?
CodAtencion
——@ K
!=
——L N
$str
——O Q
&&
——R T
CodLiquidacion
——U c
!=
——d f
$str
——g i
&&
——j l
CodComprobante
——m {
!=
——| ~
$str—— 
&&——‚ „
decimal——… Œ
.——Œ 
Parse—— ’
(——’ “

CoPagoFijo——“ 
)—— 
>——Ÿ  
$num——¡ ¢
&&——£ ¥%
CodTipoConsultaMedica——¦ »
==——¼ ¾
$str——¿ Â
)——Â Ã
||——Ä Æ
(
˜˜$ % 
EstProcesoAtencion
˜˜% 7
==
˜˜8 :
$num
˜˜; <
&&
˜˜= ?
CodAtencion
˜˜@ K
!=
˜˜L N
$str
˜˜O Q
&&
˜˜R T#
CodTipoConsultaMedica
˜˜U j
==
˜˜k m
$str
˜˜n q
)
˜˜q r
)
˜˜r s
{
™™ .
 ActualizarDatosPagosConfirmacion
šš  @
(
šš@ A
)
ššA B
;
ššB C
new
››  #

HospitalAD
››$ .
(
››. /
)
››/ 0
.
››0 1 
Sp_Hospital_Update
››1 C
(
››C D
new
››D G
	HospitalE
››H Q
(
››Q R
CodAtencion
››R ]
,
››] ^
$str
››_ t
,
››t u 
EstConsultaMedica››v ‡
)››‡ ˆ
)››ˆ ‰
;››‰ Š
}
œœ 
new
 
MdsynDatosPagosAD
  1
(
1 2
)
2 3
.
3 4-
Sp_MdsynDatosPagos_UpdatexCampo
4 S
(
S T
new
T W
MdsynDatosPagosE
X h
(
h i
$num
i j
,
j k 
EstProcesoAtencion
l ~
.
~ 
ToString ‡
(‡ ˆ
)ˆ ‰
,‰ Š
$str‹ ¡
,¡ ¢
IdeDatosPagos£ °
)° ±
)± ²
;² ³
}
ŸŸ 
catch
££ 
(
££ 
	Exception
££ (
ex
££) +
)
££+ ,
{
¤¤ 
string
¥¥ "
xMsgEnt
¥¥# *
=
¥¥+ ,
$str
¥¥- /
;
¥¥/ 0
xMsgEnt
§§ #
=
§§$ %

Newtonsoft
§§& 0
.
§§0 1
Json
§§1 5
.
§§5 6
JsonConvert
§§6 A
.
§§A B
SerializeObject
§§B Q
(
§§Q R
oAsegNombRequest
§§R b
)
§§b c
;
§§c d
	msg_error
©© %
=
©©& '
$str
©©( 3
+
©©4 5
IdeDatosPagos
©©6 C
.
©©C D
ToString
©©D L
(
©©L M
)
©©M N
+
©©O P
$str
©©Q X
+
©©Y Z
$str
©©[ f
+
©©g h
ex
©©i k
.
©©k l
ToString
©©l t
(
©©t u
)
©©u v
+
©©w x
$str©©y …
+©©† ‡
$str©©ˆ ²
+©©³ ´
$str©©µ Ğ
+©©Ñ Ò
xMsgEnt©©Ó Ú
;©©Ú Û%
Guardar_Error_BaseDatos
¬¬ 3
(
¬¬3 4
	msg_error
¬¬4 =
,
¬¬= >
$str
¬¬? P
)
¬¬P Q
;
¬¬Q R
}
­­ 
}
®® 
while
¯¯ 
(
¯¯ 
false
¯¯  
)
¯¯  !
;
¯¯! "
LimpiarVariables
±± $
(
±±$ %
)
±±% &
;
±±& '
}
²² 
new
´´ 
TablasAD
´´ 
(
´´ 
)
´´ 
.
´´ 
Sp_Tablas_Update
´´ /
(
´´/ 0
new
´´0 3
TablasE
´´4 ;
(
´´; <
$str
´´< Y
,
´´Y Z
$str
´´[ _
,
´´_ `
DateTime
´´a i
.
´´i j
Now
´´j m
.
´´m n
ToString
´´n v
(
´´v w
$str´´w 
)´´ ‘
,´´‘ ’
$str´´“ ›
)´´› œ
)´´œ 
;´´ 
}
µµ 
catch
¶¶ 
(
¶¶ 
	Exception
¶¶ 
ex
¶¶ 
)
¶¶  
{
·· 
	msg_error
¸¸ 
=
¸¸ 
$str
¸¸ (
+
¸¸) *
IdeDatosPagos
¸¸+ 8
.
¸¸8 9
ToString
¸¸9 A
(
¸¸A B
)
¸¸B C
+
¸¸D E
$str
¸¸F M
+
¸¸N O
$str
¸¸P [
+
¸¸\ ]
ex
¸¸^ `
.
¸¸` a
Message
¸¸a h
+
¸¸i j
$str
¸¸k 
+¸¸€ 
ex¸¸‚ „
.¸¸„ …

StackTrace¸¸… 
+¸¸ ‘
$str¸¸’ ™
;¸¸™ š%
Guardar_Error_BaseDatos
ºº '
(
ºº' (
	msg_error
ºº( 1
,
ºº1 2
$str
ºº3 D
)
ººD E
;
ººE F
}
»» 
}
¼¼ 	
private
ÉÉ 
void
ÉÉ 
mtDatosPaciente
ÉÉ $
(
ÉÉ$ %
MdsynDatosPagosE
ÉÉ% 5
pMdsynDatosPagosE
ÉÉ6 G
)
ÉÉG H
{
ÊÊ 	
CodPaciente
ÌÌ 
=
ÌÌ 
pMdsynDatosPagosE
ÌÌ +
.
ÌÌ+ ,
CodPaciente
ÌÌ, 7
;
ÌÌ7 8
DscNombresTitular
ÍÍ 
=
ÍÍ 
pMdsynDatosPagosE
ÍÍ  1
.
ÍÍ1 2$
NombresPacienteTitular
ÍÍ2 H
;
ÍÍH I
	CodMedico
ÎÎ 
=
ÎÎ 
pMdsynDatosPagosE
ÎÎ )
.
ÎÎ) *
	CodMedico
ÎÎ* 3
;
ÎÎ3 4
CodEspecialidad
ÏÏ 
=
ÏÏ 
pMdsynDatosPagosE
ÏÏ /
.
ÏÏ/ 0
CodEspecialidad
ÏÏ0 ?
;
ÏÏ? @
NumeroPlanPoliza
ÑÑ 
=
ÑÑ 
pMdsynDatosPagosE
ÑÑ 0
.
ÑÑ0 1
NroPlan
ÑÑ1 8
;
ÑÑ8 9
CodAseguradora
ÒÒ 
=
ÒÒ 
pMdsynDatosPagosE
ÒÒ .
.
ÒÒ. /
CodAseguradora
ÒÒ/ =
;
ÒÒ= >
DscAseguradora
ÓÓ 
=
ÓÓ 
pMdsynDatosPagosE
ÓÓ .
.
ÓÓ. /
DscAseguradora
ÓÓ/ =
;
ÓÓ= >
CodCia
ÔÔ 
=
ÔÔ 
pMdsynDatosPagosE
ÔÔ &
.
ÔÔ& '
CodCia
ÔÔ' -
;
ÔÔ- .
Observaciones
ÕÕ 
=
ÕÕ 
pMdsynDatosPagosE
ÕÕ -
.
ÕÕ- .
DscObservaciones
ÕÕ. >
;
ÕÕ> ?
CodAsegurado
ÖÖ 
=
ÖÖ 
pMdsynDatosPagosE
ÖÖ ,
.
ÖÖ, -
CodAsegurado
ÖÖ- 9
;
ÖÖ9 :
TipoAfiliacion
×× 
=
×× 
$str
×× 
;
××  
TipoPago
ØØ 
=
ØØ 
$str
ØØ 
;
ØØ  
DscNombresPaciente
ÙÙ 
=
ÙÙ  
pMdsynDatosPagosE
ÙÙ! 2
.
ÙÙ2 3
NombresPacientes
ÙÙ3 C
;
ÙÙC D
Sexo
ÚÚ 
=
ÚÚ 
pMdsynDatosPagosE
ÚÚ $
.
ÚÚ$ %
Sexo
ÚÚ% )
;
ÚÚ) *
FechaNacimiento
ÛÛ 
=
ÛÛ 
pMdsynDatosPagosE
ÛÛ /
.
ÛÛ/ 0
FecNacimiento
ÛÛ0 =
;
ÛÛ= >
CardCode
ÜÜ 
=
ÜÜ 
pMdsynDatosPagosE
ÜÜ (
.
ÜÜ( )
CardCode
ÜÜ) 1
;
ÜÜ1 2
TipDocumento
İİ 
=
İİ 
pMdsynDatosPagosE
İİ ,
.
İİ, -
TipDocumento
İİ- 9
;
İİ9 :
DocIdentidad
ŞŞ 
=
ŞŞ 
pMdsynDatosPagosE
ŞŞ ,
.
ŞŞ, -
NumDocumento
ŞŞ- 9
.
ŞŞ9 :
Trim
ŞŞ: >
(
ŞŞ> ?
)
ŞŞ? @
;
ŞŞ@ A
	DscCorreo
ßß 
=
ßß 
pMdsynDatosPagosE
ßß )
.
ßß) *
	DscCorreo
ßß* 3
.
ßß3 4
Trim
ßß4 8
(
ßß8 9
)
ßß9 :
;
ßß: ;
CodSede
áá 
=
áá 
pMdsynDatosPagosE
áá '
.
áá' (
CodSede
áá( /
==
áá0 2
$str
áá3 6
?
áá7 8
$str
áá9 <
:
áá= >
pMdsynDatosPagosE
áá? P
.
ááP Q
CodSede
ááQ X
;
ááX Y
CodCobertura
ââ 
=
ââ 
pMdsynDatosPagosE
ââ ,
.
ââ, -
CodCobertura
ââ- 9
;
ââ9 :

CoPagoFijo
ãã 
=
ãã 
pMdsynDatosPagosE
ãã *
.
ãã* +

CoPagofijo
ãã+ 5
.
ãã5 6
ToString
ãã6 >
(
ãã> ?
)
ãã? @
;
ãã@ A
CoPagoVariable
ää 
=
ää 
pMdsynDatosPagosE
ää .
.
ää. /
CoPagovariable
ää/ =
.
ää= >
ToString
ää> F
(
ääF G
)
ääG H
;
ääH I
IdeDatosPagos
åå 
=
åå 
pMdsynDatosPagosE
åå -
.
åå- .
IdeDatospagos
åå. ;
;
åå; <
	Direccion
ææ 
=
ææ 
pMdsynDatosPagosE
ææ )
.
ææ) *
	Direccion
ææ* 3
;
ææ3 4
	TipMoneda
çç 
=
çç 
pMdsynDatosPagosE
çç )
.
çç) *
	TipMoneda
çç* 3
;
çç3 4
	CodSunasa
ëë 
=
ëë 
pMdsynDatosPagosE
ëë )
.
ëë) *
	CodSunasa
ëë* 3
;
ëë3 4
CodIAFAS
ìì 
=
ìì 
pMdsynDatosPagosE
ìì (
.
ìì( )
CodIAFAS
ìì) 1
;
ìì1 2
CodNombreEntidad
ïï 
=
ïï 
pMdsynDatosPagosE
ïï 0
.
ïï0 1

CodEntidad
ïï1 ;
;
ïï; <

NumEntidad
ğğ 
=
ğğ 
pMdsynDatosPagosE
ğğ *
.
ğğ* +
NroOperacion
ğğ+ 7
;
ğğ7 8
TipParentesco
ññ 
=
ññ 
pMdsynDatosPagosE
ññ -
.
ññ- .
TipParentesco
ññ. ;
;
ññ; <
	FechaCita
óó 
=
óó 
(
óó 
pMdsynDatosPagosE
óó *
.
óó* +
FecCita
óó+ 2
)
óó2 3
;
óó3 4 
EstProcesoAtencion
ôô 
=
ôô  
pMdsynDatosPagosE
ôô! 2
.
ôô2 3 
EstProcesoAtencion
ôô3 E
;
ôôE F
CodAtencion
öö 
=
öö 
pMdsynDatosPagosE
öö +
.
öö+ ,
CodAtencion
öö, 7
;
öö7 8
CodComprobante
÷÷ 
=
÷÷ 
pMdsynDatosPagosE
÷÷ .
.
÷÷. /
CodComprobante
÷÷/ =
;
÷÷= >
CodLiquidacion
øø 
=
øø 
pMdsynDatosPagosE
øø .
.
øø. /
CodLiquidacion
øø/ =
;
øø= >
EstConsultaMedica
ùù 
=
ùù 
pMdsynDatosPagosE
ùù  1
.
ùù1 2
EstConsultaMedica
ùù2 C
;
ùùC D
NombrePaciente
ûû 
=
ûû 
pMdsynDatosPagosE
ûû .
.
ûû. /
NombrePaciente
ûû/ =
;
ûû= >
ApPaternoPaciente
üü 
=
üü 
pMdsynDatosPagosE
üü  1
.
üü1 2
ApPaternoPaciente
üü2 C
;
üüC D
ApMaternoPaciente
ıı 
=
ıı 
pMdsynDatosPagosE
ıı  1
.
ıı1 2
ApMaternoPaciente
ıı2 C
;
ııC D,
Comprobante_CodTipoComprobante
ÿÿ *
=
ÿÿ+ ,
pMdsynDatosPagosE
ÿÿ- >
.
ÿÿ> ?"
Comp_TipoComprobante
ÿÿ? S
;
ÿÿS T)
Comprobante_TipDocIdentidad
€€ '
=
€€( )
pMdsynDatosPagosE
€€* ;
.
€€; <"
Comp_TipDocIdentidad
€€< P
;
€€P Q)
Comprobante_RutDocIdentidad
 '
=
( )
pMdsynDatosPagosE
* ;
.
; <"
Comp_RutDocIdentidad
< P
;
P Q.
 Comprobante_DscCorreoComprobante
‚‚ ,
=
‚‚- .
pMdsynDatosPagosE
‚‚/ @
.
‚‚@ A
Comp_Correo
‚‚A L
;
‚‚L M,
Comprobante_NombresComprobante
ƒƒ *
=
ƒƒ+ ,
pMdsynDatosPagosE
ƒƒ- >
.
ƒƒ> ? 
NombresComprobante
ƒƒ? Q
;
ƒƒQ R$
TipProductoAseguradora
…… "
=
……# $
pMdsynDatosPagosE
……% 6
.
……6 7
TipPrt
……7 =
;
……= >
NumDocEmpresa
†† 
=
†† 
pMdsynDatosPagosE
†† -
.
††- .
NumDocempresa
††. ;
;
††; <
TipDocEmpresa
‡‡ 
=
‡‡ 
pMdsynDatosPagosE
‡‡ -
.
‡‡- .
TipDocempresa
‡‡. ;
;
‡‡; <#
CodTipoConsultaMedica
‰‰ !
=
‰‰" #
pMdsynDatosPagosE
‰‰$ 5
.
‰‰5 6#
CodTipoConsultaMedica
‰‰6 K
;
‰‰K L 
CodigoAutorizacion
‹‹ 
=
‹‹  
pMdsynDatosPagosE
‹‹! 2
.
‹‹2 3 
CodigoAutorizacion
‹‹3 E
;
‹‹E F
TipoAfiliacion
ŒŒ 
=
ŒŒ 
pMdsynDatosPagosE
ŒŒ .
.
ŒŒ. /
TipoAfiliacion
ŒŒ/ =
;
ŒŒ= >
}
 	
private
““ 
void
““ !
CrearCiaContratante
““ (
(
““( )
)
““) *
{
”” 	
if
•• 
(
•• 
CodCia
•• 
==
•• 
$str
•• 
)
•• 
{
–– 
var
—— 
objCiasE
—— 
=
—— 
new
—— "
CiasE
——# (
(
——( )
)
——) *
;
——* +
var
˜˜ 
oResponseRuc
˜˜  
=
˜˜! "
new
˜˜# &
	Utilities
˜˜' 0
.
˜˜0 1
Apis
˜˜1 5
.
˜˜5 6
ResponseRuc
˜˜6 A
(
˜˜A B
)
˜˜B C
;
˜˜C D
var
™™ 
oCiasAD
™™ 
=
™™ 
new
™™ !
CiasAD
™™" (
(
™™( )
)
™™) *
;
™™* +
if
›› 
(
›› 
TipDocEmpresa
›› !
==
››" $
$str
››% (
)
››( )
{
œœ 
oResponseRuc
  
=
! "
new
# &
	Utilities
' 0
.
0 1
Apis
1 5
(
5 6
)
6 7
.
7 8
GetRuc
8 >
(
> ?
NumDocEmpresa
? L
)
L M
;
M N
if
 
(
 
oResponseRuc
 $
.
$ %
ruc
% (
==
) +
NumDocEmpresa
, 9
)
9 :
{
ŸŸ 
using
   
(
   
var
   "
xTrans
  # )
=
  * +
new
  , /
TransactionScope
  0 @
(
  @ A
)
  A B
)
  B C
{
¡¡ 
try
¢¢ 
{
££ 
oCiasAD
¤¤  '
.
¤¤' (
Sp_Cias_Insert
¤¤( 6
(
¤¤6 7
objCiasE
¤¤7 ?
)
¤¤? @
;
¤¤@ A
oResponseRuc
¦¦  ,
.
¦¦, -#
nombre_o_razon_social
¦¦- B
=
¦¦C D
oResponseRuc
¦¦E Q
.
¦¦Q R#
nombre_o_razon_social
¦¦R g
.
¦¦g h
	Substring
¦¦h q
(
¦¦q r
$num
¦¦r s
,
¦¦s t
oResponseRuc¦¦u 
.¦¦ ‚%
nombre_o_razon_social¦¦‚ —
.¦¦— ˜
Length¦¦˜ 
>=¦¦Ÿ ¡
$num¦¦¢ ¤
?¦¦¥ ¦
$num¦¦§ ©
:¦¦ª «
oResponseRuc¦¦¬ ¸
.¦¦¸ ¹%
nombre_o_razon_social¦¦¹ Î
.¦¦Î Ï
Length¦¦Ï Õ
)¦¦Õ Ö
;¦¦Ö ×
oCiasAD
§§  '
.
§§' (
Sp_Cias_Update
§§( 6
(
§§6 7
new
§§7 :
CiasE
§§; @
(
§§@ A
objCiasE
§§A I
.
§§I J
Codcia
§§J P
,
§§P Q
oResponseRuc
§§R ^
.
§§^ _#
nombre_o_razon_social
§§_ t
,
§§t u
$str
§§v ~
)
§§~ 
)§§ €
;§§€ 
oResponseRuc
©©  ,
.
©©, -
	direccion
©©- 6
=
©©7 8
oResponseRuc
©©9 E
.
©©E F
	direccion
©©F O
.
©©O P
	Substring
©©P Y
(
©©Y Z
$num
©©Z [
,
©©[ \
oResponseRuc
©©] i
.
©©i j
	direccion
©©j s
.
©©s t
Length
©©t z
>=
©©{ }
$num©©~ €
?©© ‚
$num©©ƒ …
:©©† ‡
oResponseRuc©©ˆ ”
.©©” •
	direccion©©• 
.©© Ÿ
Length©©Ÿ ¥
)©©¥ ¦
;©©¦ §
oCiasAD
ªª  '
.
ªª' (
Sp_Cias_Update
ªª( 6
(
ªª6 7
new
ªª7 :
CiasE
ªª; @
(
ªª@ A
objCiasE
ªªA I
.
ªªI J
Codcia
ªªJ P
,
ªªP Q
oResponseRuc
ªªR ^
.
ªª^ _
	direccion
ªª_ h
,
ªªh i
$str
ªªj u
)
ªªu v
)
ªªv w
;
ªªw x
oCiasAD
¬¬  '
.
¬¬' (
Sp_Cias_Update
¬¬( 6
(
¬¬6 7
new
¬¬7 :
CiasE
¬¬; @
(
¬¬@ A
objCiasE
¬¬A I
.
¬¬I J
Codcia
¬¬J P
,
¬¬P Q
oResponseRuc
¬¬R ^
.
¬¬^ _
ruc
¬¬_ b
,
¬¬b c
$str
¬¬d i
)
¬¬i j
)
¬¬j k
;
¬¬k l
oCiasAD
®®  '
.
®®' (
Sp_Cias_Update
®®( 6
(
®®6 7
new
®®7 :
CiasE
®®; @
(
®®@ A
objCiasE
®®A I
.
®®I J
Codcia
®®J P
,
®®P Q
$str
®®R T
,
®®T U
$str
®®V `
)
®®` a
)
®®a b
;
®®b c
oCiasAD
¯¯  '
.
¯¯' (
Sp_Cias_Update
¯¯( 6
(
¯¯6 7
new
¯¯7 :
CiasE
¯¯; @
(
¯¯@ A
objCiasE
¯¯A I
.
¯¯I J
Codcia
¯¯J P
,
¯¯P Q
$str
¯¯R T
,
¯¯T U
$str
¯¯V `
)
¯¯` a
)
¯¯a b
;
¯¯b c
oCiasAD
°°  '
.
°°' (
Sp_Cias_Update
°°( 6
(
°°6 7
new
°°7 :
CiasE
°°; @
(
°°@ A
objCiasE
°°A I
.
°°I J
Codcia
°°J P
,
°°P Q
$str
°°R T
,
°°T U
$str
°°V ^
)
°°^ _
)
°°_ `
;
°°` a
oCiasAD
±±  '
.
±±' (
Sp_Cias_Update
±±( 6
(
±±6 7
new
±±7 :
CiasE
±±; @
(
±±@ A
objCiasE
±±A I
.
±±I J
Codcia
±±J P
,
±±P Q
$str
±±R T
,
±±T U
$str
±±V e
)
±±e f
)
±±f g
;
±±g h
oCiasAD
²²  '
.
²²' (
Sp_Cias_Update
²²( 6
(
²²6 7
new
²²7 :
CiasE
²²; @
(
²²@ A
objCiasE
²²A I
.
²²I J
Codcia
²²J P
,
²²P Q
$str
²²R T
,
²²T U
$str
²²V e
)
²²e f
)
²²f g
;
²²g h
oCiasAD
³³  '
.
³³' (
Sp_Cias_Update
³³( 6
(
³³6 7
new
³³7 :
CiasE
³³; @
(
³³@ A
objCiasE
³³A I
.
³³I J
Codcia
³³J P
,
³³P Q
$str
³³R T
,
³³T U
$str
³³V i
)
³³i j
)
³³j k
;
³³k l
oCiasAD
´´  '
.
´´' (
Sp_Cias_Update
´´( 6
(
´´6 7
new
´´7 :
CiasE
´´; @
(
´´@ A
objCiasE
´´A I
.
´´I J
Codcia
´´J P
,
´´P Q
$str
´´R T
,
´´T U
$str
´´V h
)
´´h i
)
´´i j
;
´´j k
CodCia
¶¶  &
=
¶¶' (
objCiasE
¶¶) 1
.
¶¶1 2
Codcia
¶¶2 8
;
¶¶8 9
xTrans
··  &
.
··& '
Complete
··' /
(
··/ 0
)
··0 1
;
··1 2
}
¸¸ 
catch
¹¹ !
(
¹¹" #
	Exception
¹¹# ,
ex
¹¹- /
)
¹¹/ 0
{
ºº 
xTrans
»»  &
.
»»& '
Dispose
»»' .
(
»». /
)
»»/ 0
;
»»0 1
}
¼¼ 
}
¾¾ 
}
¿¿ 
else
ÀÀ 
{
ÁÁ 
}
ÃÃ 
}
ÄÄ 
}
ÅÅ 
}
ÆÆ 	
public
ĞĞ 
void
ĞĞ )
mtdAsignarAseguradoCorrecto
ĞĞ /
(
ĞĞ/ 0
List
ĞĞ0 4
<
ĞĞ4 5
AsegNombResponse
ĞĞ5 E
>
ĞĞE F#
oListAsegNombResponse
ĞĞG \
,
ĞĞ\ ]
bool
ĞĞ^ b
SoloActivos
ĞĞc n
=
ĞĞo p
true
ĞĞq u
)
ĞĞu v
{
ÑÑ 	
oAsegCodRequest
ÒÒ 
=
ÒÒ 
null
ÒÒ "
;
ÒÒ" #
for
ÔÔ 
(
ÔÔ 
int
ÔÔ 
j
ÔÔ 
=
ÔÔ 
$num
ÔÔ 
,
ÔÔ 
loopTo
ÔÔ "
=
ÔÔ# $#
oListAsegNombResponse
ÔÔ% :
.
ÔÔ: ;
Count
ÔÔ; @
-
ÔÔA B
$num
ÔÔC D
;
ÔÔD E
j
ÔÔF G
<=
ÔÔH J
loopTo
ÔÔK Q
;
ÔÔQ R
j
ÔÔS T
++
ÔÔT V
)
ÔÔV W
{
ÕÕ 
	oAsegNomb
ÖÖ 
=
ÖÖ 
new
ÖÖ 
AsegNombResponse
ÖÖ  0
(
ÖÖ0 1
)
ÖÖ1 2
;
ÖÖ2 3
	oAsegNomb
×× 
=
×× #
oListAsegNombResponse
×× 1
[
××1 2
j
××2 3
]
××3 4
;
××4 5
if
ÚÚ 
(
ÚÚ 
	oAsegNomb
ÚÚ 
.
ÚÚ 
CodigoAfiliado
ÚÚ ,
==
ÚÚ- /
CodAsegurado
ÚÚ0 <
&
ÚÚ= >
	oAsegNomb
ÚÚ? H
.
ÚÚH I
	CodEstado
ÚÚI R
==
ÚÚS U
$str
ÚÚV Y
&
ÚÚZ [
	oAsegNomb
ÚÚ\ e
.
ÚÚe f%
NumeroDocumentoAfiliado
ÚÚf }
==ÚÚ~ €
DocIdentidadÚÚ 
&ÚÚ 
	oAsegNombÚÚ ™
.ÚÚ™ š
CodProductoÚÚš ¥
==ÚÚ¦ ¨&
TipProductoAseguradoraÚÚ© ¿
&ÚÚÀ Á
	oAsegNombÚÚÂ Ë
.ÚÚË Ì*
NumeroDocumentoContratanteÚÚÌ æ
==ÚÚç é
NumDocEmpresaÚÚê ÷
)ÚÚ÷ ø
{
ÛÛ 
oAsegCodRequest
ÜÜ #
=
ÜÜ$ %
	oWsSiteds
ÜÜ& /
.
ÜÜ/ 0
	fnAsegCod
ÜÜ0 9
(
ÜÜ9 :
	oAsegNomb
ÜÜ: C
)
ÜÜC D
;
ÜÜD E
break
İİ 
;
İİ 
}
ŞŞ 
else
ßß 
if
ßß 
(
ßß 
	oAsegNomb
ßß "
.
ßß" #
CodigoAfiliado
ßß# 1
==
ßß2 4
CodAsegurado
ßß5 A
&
ßßB C
	oAsegNomb
ßßD M
.
ßßM N
	CodEstado
ßßN W
==
ßßX Z
$str
ßß[ ^
&
ßß_ `
	oAsegNomb
ßßa j
.
ßßj k&
NumeroDocumentoAfiliadoßßk ‚
==ßßƒ …
$strßß† ‰
&ßßŠ ‹
	oAsegNombßßŒ •
.ßß• –
CodProductoßß– ¡
==ßß¢ ¤&
TipProductoAseguradoraßß¥ »
&ßß¼ ½
	oAsegNombßß¾ Ç
.ßßÇ È*
NumeroDocumentoContratanteßßÈ â
==ßßã å
NumDocEmpresaßßæ ó
&ßßô õ
	oAsegNombßßö ÿ
.ßßÿ €'
ApellidoPaternoAfiliadoßß€ —
==ßß˜ š!
ApPaternoPacienteßß› ¬
&ßß­ ®
	oAsegNombßß¯ ¸
.ßß¸ ¹'
ApellidoMaternoAfiliadoßß¹ Ğ
==ßßÑ Ó!
ApMaternoPacienteßßÔ å
)ßßå æ
{
àà 
oAsegCodRequest
áá #
=
áá$ %
	oWsSiteds
áá& /
.
áá/ 0
	fnAsegCod
áá0 9
(
áá9 :
	oAsegNomb
áá: C
)
ááC D
;
ááD E
break
ââ 
;
ââ 
}
ãã 
else
ää 
if
ää 
(
ää 
	oAsegNomb
ää "
.
ää" #
CodigoAfiliado
ää# 1
==
ää2 4
CodAsegurado
ää5 A
&
ääB C
	oAsegNomb
ääD M
.
ääM N
	CodEstado
ääN W
==
ääX Z
$str
ää[ ^
&
ää_ `
	oAsegNomb
ääa j
.
ääj k&
NumeroDocumentoAfiliadoääk ‚
==ääƒ …
DocIdentidadää† ’
&ää“ ”
	oAsegNombää• 
.ää Ÿ
CodProductoääŸ ª
==ää« ­&
TipProductoAseguradoraää® Ä
&ääÅ Æ
	oAsegNombääÇ Ğ
.ääĞ Ñ*
NumeroDocumentoContratanteääÑ ë
==ääì î
NumDocEmpresaääï ü
)ääü ı
{
åå 
oAsegCodRequest
ææ #
=
ææ$ %
	oWsSiteds
ææ& /
.
ææ/ 0
	fnAsegCod
ææ0 9
(
ææ9 :
	oAsegNomb
ææ: C
)
ææC D
;
ææD E
NumeroPlanPoliza
çç $
=
çç% &
$str
çç' )
;
çç) *
break
èè 
;
èè 
}
éé 
else
êê 
if
êê 
(
êê 
	oAsegNomb
êê "
.
êê" #
CodigoAfiliado
êê# 1
==
êê2 4
CodAsegurado
êê5 A
&
êêB C
	oAsegNomb
êêD M
.
êêM N
	CodEstado
êêN W
==
êêX Z
$str
êê[ ^
&
êê_ `
	oAsegNomb
êêa j
.
êêj k&
NumeroDocumentoAfiliadoêêk ‚
==êêƒ …
DocIdentidadêê† ’
&êê“ ”
	oAsegNombêê• 
.êê Ÿ
CodProductoêêŸ ª
==êê« ­&
TipProductoAseguradoraêê® Ä
&êêÅ Æ
CodIAFASêêÇ Ï
==êêĞ Ò
$strêêÓ Ú
)êêÚ Û
{
ëë 
oAsegCodRequest
ìì #
=
ìì$ %
	oWsSiteds
ìì& /
.
ìì/ 0
	fnAsegCod
ìì0 9
(
ìì9 :
	oAsegNomb
ìì: C
)
ììC D
;
ììD E
break
íí 
;
íí 
}
îî 
}
ïï 
if
òò 
(
òò 
oAsegCodRequest
òò 
==
òò  "
null
òò# '
)
òò' (
{
óó 
for
ôô 
(
ôô 
int
ôô 
j
ôô 
=
ôô 
$num
ôô 
,
ôô 
loopTo1
ôô  '
=
ôô( )#
oListAsegNombResponse
ôô* ?
.
ôô? @
Count
ôô@ E
-
ôôF G
$num
ôôH I
;
ôôI J
j
ôôK L
<=
ôôM O
loopTo1
ôôP W
;
ôôW X
j
ôôY Z
++
ôôZ \
)
ôô\ ]
{
õõ 
	oAsegNomb
öö 
=
öö 
new
öö  #
AsegNombResponse
öö$ 4
(
öö4 5
)
öö5 6
;
öö6 7
	oAsegNomb
÷÷ 
=
÷÷ #
oListAsegNombResponse
÷÷  5
[
÷÷5 6
j
÷÷6 7
]
÷÷7 8
;
÷÷8 9
if
úú 
(
úú 
	oAsegNomb
úú !
.
úú! "
CodigoAfiliado
úú" 0
==
úú1 3
CodAsegurado
úú4 @
&
úúA B
	oAsegNomb
úúC L
.
úúL M
	CodEstado
úúM V
==
úúW Y
$str
úúZ ]
&
úú^ _
	oAsegNomb
úú` i
.
úúi j&
NumeroDocumentoAfiliadoúúj 
==úú‚ „
DocIdentidadúú… ‘
&úú’ “
	oAsegNombúú” 
.úú 
CodProductoúú ©
==úúª ¬&
TipProductoAseguradoraúú­ Ã
)úúÃ Ä
{
ûû 
oAsegCodRequest
üü '
=
üü( )
	oWsSiteds
üü* 3
.
üü3 4
	fnAsegCod
üü4 =
(
üü= >
	oAsegNomb
üü> G
)
üüG H
;
üüH I
break
ıı 
;
ıı 
}
şş 
else
ÿÿ 
if
ÿÿ 
(
ÿÿ 
	oAsegNomb
ÿÿ &
.
ÿÿ& '
CodigoAfiliado
ÿÿ' 5
==
ÿÿ6 8
CodAsegurado
ÿÿ9 E
&
ÿÿF G
	oAsegNomb
ÿÿH Q
.
ÿÿQ R
	CodEstado
ÿÿR [
==
ÿÿ\ ^
$str
ÿÿ_ b
&
ÿÿc d
	oAsegNomb
ÿÿe n
.
ÿÿn o&
NumeroDocumentoAfiliadoÿÿo †
==ÿÿ‡ ‰
$strÿÿŠ 
&ÿÿ 
	oAsegNombÿÿ ™
.ÿÿ™ š
CodProductoÿÿš ¥
==ÿÿ¦ ¨&
TipProductoAseguradoraÿÿ© ¿
&ÿÿÀ Á
	oAsegNombÿÿÂ Ë
.ÿÿË Ì'
ApellidoPaternoAfiliadoÿÿÌ ã
==ÿÿä æ!
ApPaternoPacienteÿÿç ø
&ÿÿù ú
	oAsegNombÿÿû „
.ÿÿ„ …'
ApellidoMaternoAfiliadoÿÿ… œ
==ÿÿ Ÿ!
ApMaternoPacienteÿÿ  ±
)ÿÿ± ²
{
€€ 
oAsegCodRequest
 '
=
( )
	oWsSiteds
* 3
.
3 4
	fnAsegCod
4 =
(
= >
	oAsegNomb
> G
)
G H
;
H I
break
‚‚ 
;
‚‚ 
}
ƒƒ 
else
„„ 
if
„„ 
(
„„ 
	oAsegNomb
„„ &
.
„„& '
CodigoAfiliado
„„' 5
==
„„6 8
CodAsegurado
„„9 E
&
„„F G
	oAsegNomb
„„H Q
.
„„Q R
	CodEstado
„„R [
==
„„\ ^
$str
„„_ b
&
„„c d
	oAsegNomb
„„e n
.
„„n o&
NumeroDocumentoAfiliado„„o †
==„„‡ ‰
DocIdentidad„„Š –
&„„— ˜
	oAsegNomb„„™ ¢
.„„¢ £
CodProducto„„£ ®
==„„¯ ±&
TipProductoAseguradora„„² È
&„„É Ê
	oAsegNomb„„Ë Ô
.„„Ô Õ*
NumeroDocumentoContratante„„Õ ï
==„„ğ ò
NumDocEmpresa„„ó €
)„„€ 
{
…… 
oAsegCodRequest
†† '
=
††( )
	oWsSiteds
††* 3
.
††3 4
	fnAsegCod
††4 =
(
††= >
	oAsegNomb
††> G
)
††G H
;
††H I
NumeroPlanPoliza
‡‡ (
=
‡‡) *
$str
‡‡+ -
;
‡‡- .
break
ˆˆ 
;
ˆˆ 
}
‰‰ 
}
ŠŠ 
}
‹‹ 
if
 
(
 
SoloActivos
 
==
 
false
 $
)
$ %
{
 
if
 
(
 
oAsegCodRequest
 #
==
$ &
null
' +
)
+ ,
{
 
for
‘‘ 
(
‘‘ 
int
‘‘ 
j
‘‘ 
=
‘‘  
$num
‘‘! "
,
‘‘" #
loopTo2
‘‘$ +
=
‘‘, -#
oListAsegNombResponse
‘‘. C
.
‘‘C D
Count
‘‘D I
-
‘‘J K
$num
‘‘L M
;
‘‘M N
j
‘‘O P
<=
‘‘Q S
loopTo2
‘‘T [
;
‘‘[ \
j
‘‘] ^
++
‘‘^ `
)
‘‘` a
{
’’ 
	oAsegNomb
““ !
=
““" #
new
““$ '
AsegNombResponse
““( 8
(
““8 9
)
““9 :
;
““: ;
	oAsegNomb
”” !
=
””" ##
oListAsegNombResponse
””$ 9
[
””9 :
j
””: ;
]
””; <
;
””< =
if
—— 
(
—— 
	oAsegNomb
—— %
.
——% &
CodigoAfiliado
——& 4
==
——5 7
CodAsegurado
——8 D
&
——E F
	oAsegNomb
——G P
.
——P Q%
NumeroDocumentoAfiliado
——Q h
==
——i k
DocIdentidad
——l x
&
——y z
	oAsegNomb——{ „
.——„ …
CodProducto——… 
==——‘ “&
TipProductoAseguradora——” ª
&——« ¬
	oAsegNomb——­ ¶
.——¶ ·*
NumeroDocumentoContratante——· Ñ
==——Ò Ô
NumDocEmpresa——Õ â
)——â ã
{
˜˜ 
oAsegCodRequest
™™ +
=
™™, -
	oWsSiteds
™™. 7
.
™™7 8
	fnAsegCod
™™8 A
(
™™A B
	oAsegNomb
™™B K
)
™™K L
;
™™L M
break
šš !
;
šš! "
}
›› 
else
œœ 
if
œœ 
(
œœ  !
	oAsegNomb
œœ! *
.
œœ* +
CodigoAfiliado
œœ+ 9
==
œœ: <
CodAsegurado
œœ= I
&
œœJ K
	oAsegNomb
œœL U
.
œœU V%
ApellidoPaternoAfiliado
œœV m
==
œœn p 
ApPaternoPacienteœœq ‚
&œœƒ „
	oAsegNombœœ… 
.œœ '
ApellidoMaternoAfiliadoœœ ¦
==œœ§ ©!
ApMaternoPacienteœœª »
&œœ¼ ½
	oAsegNombœœ¾ Ç
.œœÇ È'
NumeroDocumentoAfiliadoœœÈ ß
==œœà â
$strœœã æ
&œœç è
	oAsegNombœœé ò
.œœò ó
CodProductoœœó ş
==œœÿ &
TipProductoAseguradoraœœ‚ ˜
&œœ™ š
	oAsegNombœœ› ¤
.œœ¤ ¥*
NumeroDocumentoContratanteœœ¥ ¿
==œœÀ Â
NumDocEmpresaœœÃ Ğ
)œœĞ Ñ
{
 
oAsegCodRequest
 +
=
, -
	oWsSiteds
. 7
.
7 8
	fnAsegCod
8 A
(
A B
	oAsegNomb
B K
)
K L
;
L M
break
ŸŸ !
;
ŸŸ! "
}
   
else
¡¡ 
if
¡¡ 
(
¡¡  !
	oAsegNomb
¡¡! *
.
¡¡* +
CodigoAfiliado
¡¡+ 9
==
¡¡: <
CodAsegurado
¡¡= I
&
¡¡J K
	oAsegNomb
¡¡L U
.
¡¡U V%
NumeroDocumentoAfiliado
¡¡V m
==
¡¡n p
DocIdentidad
¡¡q }
&
¡¡~ 
	oAsegNomb¡¡€ ‰
.¡¡‰ Š
CodProducto¡¡Š •
==¡¡– ˜&
TipProductoAseguradora¡¡™ ¯
&¡¡° ±
	oAsegNomb¡¡² »
.¡¡» ¼*
NumeroDocumentoContratante¡¡¼ Ö
==¡¡× Ù
NumDocEmpresa¡¡Ú ç
)¡¡ç è
{
¢¢ 
oAsegCodRequest
££ +
=
££, -
	oWsSiteds
££. 7
.
££7 8
	fnAsegCod
££8 A
(
££A B
	oAsegNomb
££B K
)
££K L
;
££L M
NumeroPlanPoliza
¤¤ ,
=
¤¤- .
$str
¤¤/ 1
;
¤¤1 2
break
¥¥ !
;
¥¥! "
}
§§ 
}
¨¨ 
}
©© 
}
ªª 
}
«« 	
public
µµ 
void
µµ %
mtdCargarDatosCobertura
µµ +
(
µµ+ ,
AsegCodResponse
µµ, ;
pAsegCodResponse
µµ< L
,
µµL M!
Coberturas_AsegCode
µµN a
pCoberturas
µµb m
)
µµm n
{
¶¶ 	
if
¸¸ 
(
¸¸ #
CodTipoConsultaMedica
¸¸ %
==
¸¸& (
$str
¸¸) ,
)
¸¸, -
{
¹¹ 
LineasCoberturas
ºº  
=
ºº! "
LineasCoberturas
ºº# 3
+
ºº4 5
$str
ºº6 V
+
ººW X
pAsegCodResponse
ººY i
.
ººi j
DatosAfiliado
ººj w
.
ººw x
DesTipoPlanººx ƒ
+ºº„ …
$charºº† Š
+ºº‹ Œ
$strºº ¢
+ºº£ ¤
pCoberturasºº¥ °
.ºº° ±

Beneficiosºº± »
+ºº¼ ½
$charºº¾ Â
+ººÃ Ä
$strººÅ Ó
+ººÔ Õ
pCoberturasººÖ á
.ººá â
DesCopagoFijoººâ ï
+ººğ ñ
$charººò ö
+ºº÷ ø
$strººù ‹
+ººŒ 
pCoberturasºº ™
.ºº™ š!
DesCopagoVariableººš «
;ºº« ¬!
CodSubTipoCobertura
¼¼ #
=
¼¼$ %
pCoberturas
¼¼& 1
.
¼¼1 2$
CodigoSubTipoCobertura
¼¼2 H
;
¼¼H I
if
¾¾ 
(
¾¾ 
NumeroPlanPoliza
¾¾ $
.
¾¾$ %
Length
¾¾% +
>=
¾¾, .
$num
¾¾/ 0
)
¾¾0 1
{
¿¿ 
NumeroPlanPoliza
ÀÀ $
=
ÀÀ% &
NumeroPlanPoliza
ÀÀ' 7
.
ÀÀ7 8
	Substring
ÀÀ8 A
(
ÀÀA B
NumeroPlanPoliza
ÀÀB R
.
ÀÀR S
Length
ÀÀS Y
-
ÀÀZ [
$num
ÀÀ\ ]
,
ÀÀ] ^
$num
ÀÀ_ `
)
ÀÀ` a
;
ÀÀa b
}
ÁÁ 
	CodPoliza
ÃÃ 
=
ÃÃ 
CodAseguradora
ÃÃ *
+
ÃÃ+ ,
oAsegCodRequest
ÃÃ- <
.
ÃÃ< =

NumeroPlan
ÃÃ= G
;
ÃÃG H
}
ÄÄ 
else
ÅÅ 
{
ÆÆ 
LineasCoberturas
ÇÇ  
=
ÇÇ! "
LineasCoberturas
ÇÇ# 3
+
ÇÇ4 5
$str
ÇÇ6 V
+
ÇÇW X
$str
ÇÇY e
+
ÇÇf g
$char
ÇÇh l
+
ÇÇm n
$strÇÇo „
+ÇÇ… †
$strÇÇ‡ “
+ÇÇ” •
$charÇÇ– š
+ÇÇ› œ
$strÇÇ «
+ÇÇ¬ ­

CoPagoFijoÇÇ® ¸
+ÇÇ¹ º
$charÇÇ» ¿
+ÇÇÀ Á
$strÇÇÂ Ô
+ÇÇÕ Ö
CoPagoVariableÇÇ× å
;ÇÇå æ
	CodPoliza
ÉÉ 
=
ÉÉ 
CodAseguradora
ÉÉ *
+
ÉÉ+ ,
NumeroPlanPoliza
ÉÉ- =
;
ÉÉ= >
}
ÊÊ 
}
ËË 	
private
ÑÑ 
bool
ÑÑ "
GrabarDatosGenerales
ÑÑ )
(
ÑÑ) *
AsegCodResponse
ÑÑ* 9
pAsegCodResponse
ÑÑ: J
,
ÑÑJ K'
NumeroAutorizacionRequest
ÑÑL e%
pNumAutorizacionRequest
ÑÑf }
,
ÑÑ} ~
stringÑÑ …
	fAutoDateÑÑ† 
=ÑÑ ‘
$strÑÑ’ ”
,ÑÑ” •
stringÑÑ– œ
	dAutoTimeÑÑ ¦
=ÑÑ§ ¨
$strÑÑ© «
)ÑÑ« ¬
{
ÒÒ 	
bool
ÓÓ 
xResult
ÓÓ 
=
ÓÓ 
false
ÓÓ  
;
ÓÓ  !
string
ÔÔ 
codigo
ÔÔ 
=
ÔÔ 
$str
ÔÔ 
;
ÔÔ 
if
×× 
(
×× 
CodIAFAS
×× 
==
×× 
$str
×× #
&
××$ %
CodAseguradora
××& 4
==
××5 7
$str
××8 >
)
××> ?
{
ØØ 
oDatosGenerales
ÙÙ 
.
ÙÙ  

cIafasCode
ÙÙ  *
=
ÙÙ+ ,
$str
ÙÙ- 4
;
ÙÙ4 5
}
ÚÚ 
else
ÛÛ 
{
ÜÜ 
oDatosGenerales
İİ 
.
İİ  

cIafasCode
İİ  *
=
İİ+ ,
oAsegCodRequest
İİ- <
.
İİ< =
IAFAS
İİ= B
;
İİB C
}
ŞŞ 
oDatosGenerales
àà 
.
àà 
	cAsegCode
àà %
=
àà& '
oAsegCodRequest
àà( 7
.
àà7 8
CodigoAfiliado
àà8 F
;
ààF G
oDatosGenerales
áá 
.
áá 
	cAutoCode
áá %
=
áá& ' 
CodigoAutorizacion
áá( :
;
áá: ;
oDatosGenerales
ââ 
.
ââ 
	fAutoDate
ââ %
=
ââ& '
DateTime
ââ( 0
.
ââ0 1
Now
ââ1 4
.
ââ4 5
ToString
ââ5 =
(
ââ= >
$str
ââ> J
)
ââJ K
;
ââK L
oDatosGenerales
ãã 
.
ãã 
	dAutoTime
ãã %
=
ãã& '
DateTime
ãã( 0
.
ãã0 1
Now
ãã1 4
.
ãã4 5
ToString
ãã5 =
(
ãã= >
$str
ãã> E
)
ããE F
;
ããF G
oDatosGenerales
çç 
.
çç 
cIpressCode
çç '
=
çç( )
oAsegCodRequest
çç* 9
.
çç9 :
SUNASA
çç: @
;
çç@ A
oDatosGenerales
èè 
.
èè 

dIpressRuc
èè &
=
èè' (
oAsegCodRequest
èè) 8
.
èè8 9
RUC
èè9 <
;
èè< =
oDatosGenerales
éé 
.
éé 

apAsegApat
éé &
=
éé' (
oAsegCodRequest
éé) 8
.
éé8 9%
ApellidoPaternoAfiliado
éé9 P
;
ééP Q
oDatosGenerales
êê 
.
êê 

apAsegAmat
êê &
=
êê' (
oAsegCodRequest
êê) 8
.
êê8 9%
ApellidoMaternoAfiliado
êê9 P
;
êêP Q
oDatosGenerales
ëë 
.
ëë 
	nAsegName
ëë %
=
ëë& '
oAsegCodRequest
ëë( 7
.
ëë7 8
NombresAfiliado
ëë8 G
;
ëëG H
oDatosGenerales
ìì 
.
ìì 

apTituApat
ìì &
=
ìì' (
pAsegCodResponse
ìì) 9
.
ìì9 :
DatosAfiliado
ìì: G
.
ììG H$
ApellidoMaternoTitular
ììH ^
;
ìì^ _
oDatosGenerales
íí 
.
íí 

apTituAmat
íí &
=
íí' (
pAsegCodResponse
íí) 9
.
íí9 :
DatosAfiliado
íí: G
.
ííG H$
ApellidoMaternoTitular
ííH ^
;
íí^ _
oDatosGenerales
îî 
.
îî 
	nTituName
îî %
=
îî& '
pAsegCodResponse
îî( 8
.
îî8 9
DatosAfiliado
îî9 F
.
îîF G
NombresTitular
îîG U
;
îîU V
oDatosGenerales
ïï 
.
ïï 
	fNacmDate
ïï %
=
ïï& '
pAsegCodResponse
ïï( 8
.
ïï8 9
DatosAfiliado
ïï9 F
.
ïïF G 
CodFechaNacimiento
ïïG Y
;
ïïY Z
oDatosGenerales
ğğ 
.
ğğ 
nEdadNum
ğğ $
=
ğğ% &
int
ğğ' *
.
ğğ* +
Parse
ğğ+ 0
(
ğğ0 1
pAsegCodResponse
ğğ1 A
.
ğğA B
DatosAfiliado
ğğB O
.
ğğO P
Edad
ğğP T
)
ğğT U
;
ğğU V
oDatosGenerales
ññ 
.
ññ 
cGeCode
ññ #
=
ññ$ %
pAsegCodResponse
ññ& 6
.
ññ6 7
DatosAfiliado
ññ7 D
.
ññD E
	CodGenero
ññE N
;
ññN O
oDatosGenerales
òò 
.
òò 
	cTituCode
òò %
=
òò& '
pAsegCodResponse
òò( 8
.
òò8 9
DatosAfiliado
òò9 F
.
òòF G
CodigoTitular
òòG T
;
òòT U
oDatosGenerales
óó 
.
óó 
	cTipoPlan
óó %
=
óó& '
pAsegCodResponse
óó( 8
.
óó8 9
DatosAfiliado
óó9 F
.
óóF G
CodTipoPlan
óóG R
;
óóR S
oDatosGenerales
ôô 
.
ôô 
dCntrRuc
ôô $
=
ôô% &
pAsegCodResponse
ôô' 7
.
ôô7 8
DatosAfiliado
ôô8 E
.
ôôE F(
NumeroDocumentoContratante
ôôF `
;
ôô` a
oDatosGenerales
õõ 
.
õõ 
	dCntrName
õõ %
=
õõ& '
pAsegCodResponse
õõ( 8
.
õõ8 9
DatosAfiliado
õõ9 F
.
õõF G
NombreContratante
õõG X
;
õõX Y
oDatosGenerales
öö 
.
öö 
fIniVigDate
öö '
=
öö( )
pAsegCodResponse
öö* :
.
öö: ;
DatosAfiliado
öö; H
.
ööH I!
FechaInicioVigencia
ööI \
;
öö\ ]
oDatosGenerales
÷÷ 
.
÷÷ 
fFinVigDate
÷÷ '
=
÷÷( )
pAsegCodResponse
÷÷* :
.
÷÷: ;
DatosAfiliado
÷÷; H
.
÷÷H I!
CodFechaFinVigencia
÷÷I \
;
÷÷\ ]
oDatosGenerales
øø 
.
øø 
	fInclDate
øø %
=
øø& '
pAsegCodResponse
øø( 8
.
øø8 9
DatosAfiliado
øø9 F
.
øøF G
FechaAfiliacion
øøG V
;
øøV W
oDatosGenerales
úú 
.
úú 

cFiliaCode
úú &
=
úú' (
pAsegCodResponse
úú) 9
.
úú9 :
DatosAfiliado
úú: G
.
úúG H
CodParentesco
úúH U
;
úúU V
oDatosGenerales
ûû 
.
ûû 
cDniCode
ûû $
=
ûû% &
pAsegCodResponse
ûû' 7
.
ûû7 8
DatosAfiliado
ûû8 E
.
ûûE F&
CodTipoDocumentoAfiliado
ûûF ^
;
ûû^ _
oDatosGenerales
üü 
.
üü 
	nCntrNumb
üü %
=
üü& '
pAsegCodResponse
üü( 8
.
üü8 9
DatosAfiliado
üü9 F
.
üüF G
NumeroContrato
üüG U
;
üüU V
oDatosGenerales
ıı 
.
ıı 
	cMoneCode
ıı %
=
ıı& '
pAsegCodResponse
ıı( 8
.
ıı8 9
DatosAfiliado
ıı9 F
.
ııF G
	CodMoneda
ııG P
;
ııP Q
oDatosGenerales
şş 
.
şş 
	cEstaCode
şş %
=
şş& '
pAsegCodResponse
şş( 8
.
şş8 9
DatosAfiliado
şş9 F
.
şşF G
	CodEstado
şşG P
;
şşP Q
oDatosGenerales
ÿÿ 
.
ÿÿ 
cAfiCode
ÿÿ $
=
ÿÿ% &
pAsegCodResponse
ÿÿ' 7
.
ÿÿ7 8
DatosAfiliado
ÿÿ8 E
.
ÿÿE F
CodTipoAfiliacion
ÿÿF W
;
ÿÿW X
oDatosGenerales
€€ 
.
€€ 
	cSedeCode
€€ %
=
€€& '
$str
€€( *
;
€€* +
oDatosGenerales
 
.
 
	dCarnNumb
 %
=
& '
$str
( *
;
* +
oDatosGenerales
‚‚ 
.
‚‚ 
dObserva
‚‚ $
=
‚‚% &
$str
‚‚' )
;
‚‚) *
oDatosGenerales
ƒƒ 
.
ƒƒ 
	dFotoRuta
ƒƒ %
=
ƒƒ& '
$str
ƒƒ( *
;
ƒƒ* +
oDatosGenerales
„„ 
.
„„ 
	nAsegPlan
„„ %
=
„„& '
pAsegCodResponse
„„( 8
.
„„8 9
DatosAfiliado
„„9 F
.
„„F G

NumeroPlan
„„G Q
;
„„Q R
oDatosGenerales
…… 
.
…… 
nDniTitular
…… '
=
……( )
pAsegCodResponse
……* :
.
……: ;
DatosAfiliado
……; H
.
……H I$
NumeroDocumentoTitular
……I _
;
……_ `
oDatosGenerales
†† 
.
†† 
cDniTitular
†† '
=
††( )
pAsegCodResponse
††* :
.
††: ;
DatosAfiliado
††; H
.
††H I%
CodTipoDocumentoTitular
††I `
;
††` a
oDatosGenerales
‡‡ 
.
‡‡ 
nPoliza
‡‡ #
=
‡‡$ %
pAsegCodResponse
‡‡& 6
.
‡‡6 7
DatosAfiliado
‡‡7 D
.
‡‡D E

NumeroPlan
‡‡E O
;
‡‡O P
oDatosGenerales
ˆˆ 
.
ˆˆ 
cCntrTipoDoc
ˆˆ (
=
ˆˆ) *
pAsegCodResponse
ˆˆ+ ;
.
ˆˆ; <
DatosAfiliado
ˆˆ< I
.
ˆˆI J)
CodTipoDocumentoContratante
ˆˆJ e
;
ˆˆe f
oDatosGenerales
‰‰ 
.
‰‰ 
nDniName
‰‰ $
=
‰‰% &
pAsegCodResponse
‰‰' 7
.
‰‰7 8
DatosAfiliado
‰‰8 E
.
‰‰E F%
NumeroDocumentoAfiliado
‰‰F ]
;
‰‰] ^
oDatosGenerales
ŠŠ 
.
ŠŠ 
dLogSusalud
ŠŠ '
=
ŠŠ( )
$str
ŠŠ* ,
;
ŠŠ, -
oDatosGenerales
‹‹ 
.
‹‹ 
cEsCivil
‹‹ $
=
‹‹% &
pAsegCodResponse
‹‹' 7
.
‹‹7 8
DatosAfiliado
‹‹8 E
.
‹‹E F
CodEstadoCivil
‹‹F T
;
‹‹T U
oDatosGenerales
ŒŒ 
.
ŒŒ 
nCertificado
ŒŒ (
=
ŒŒ) *
pAsegCodResponse
ŒŒ+ ;
.
ŒŒ; <
DatosAfiliado
ŒŒ< I
.
ŒŒI J
NumeroCertificado
ŒŒJ [
;
ŒŒ[ \
oDatosGenerales
 
.
 
nCodSeguridad
 )
=
* +
$str
, .
;
. /
oDatosGenerales
 
.
 
cIafasCodeCia
 )
=
* +
$str
, .
;
. /
oDatosGenerales
 
.
 
dCondEspeciales
 +
=
, -%
pNumAutorizacionRequest
. E
.
E F#
CondicionesEspeciales
F [
;
[ \
oDatosGenerales
 
.
 

cRenIpress
 &
=
' (
oAsegCodRequest
) 8
.
8 9
SUNASA
9 ?
;
? @
codigo
’’ 
=
’’ 
new
’’ 
	Generales
’’ "
(
’’" #
)
’’# $
.
’’$ %$
InsertarDatosGenerales
’’% ;
(
’’; <
oDatosGenerales
’’< K
)
’’K L
;
’’L M
if
““ 
(
““ 
!
““ 
string
““ 
.
““ 
IsNullOrEmpty
““ %
(
““% &
codigo
““& ,
)
““, -
)
““- .
xResult
”” 
=
”” 
true
”” 
;
”” 
return
–– 
xResult
–– 
;
–– 
}
—— 	
public
œœ 
string
œœ $
InsertarDatosGenerales
œœ ,
(
œœ, -
DatosGeneralesE
œœ- <
objDatosGenerales
œœ= N
)
œœN O
{
 	
string
 
codigo
 
=
 
$str
 
;
 
bool
ŸŸ 
xResult
ŸŸ 
=
ŸŸ 
false
ŸŸ  
;
ŸŸ  !
try
   
{
¡¡ 
codigo
¢¢ 
=
¢¢ 
new
¢¢ 
DatosGeneralesAD
¢¢ -
(
¢¢- .
)
¢¢. /
.
¢¢/ 0&
Sp_DatosGenerales_Insert
¢¢0 H
(
¢¢H I
ref
¢¢I L
objDatosGenerales
¢¢M ^
)
¢¢^ _
;
¢¢_ `
}
££ 
catch
¤¤ 
(
¤¤ 
	Exception
¤¤ 
ex
¤¤ 
)
¤¤  
{
¥¥ 
codigo
¦¦ 
=
¦¦ 
$str
¦¦ 
;
¦¦ 
}
§§ 
return
©© 
codigo
©© 
;
©© 
}
ªª 	
private
±± 
void
±± 
GrabarCoberturas
±± %
(
±±% &
Coberturas_AcredE
±±& 7
pCobertura_Acred
±±8 H
,
±±H I!
Coberturas_AsegCode
±±J ]
pCoberturas
±±^ i
)
±±i j
{
²² 	
if
´´ 
(
´´ 
CodIAFAS
´´ 
==
´´ 
$str
´´ #
&
´´$ %
CodAseguradora
´´& 4
==
´´5 7
$str
´´8 >
)
´´> ?
{
µµ 
oCoberturas_Acred
¶¶ !
.
¶¶! "

cIafasCode
¶¶" ,
=
¶¶- .
$str
¶¶/ 6
;
¶¶6 7
}
·· 
else
¸¸ 
{
¹¹ 
oCoberturas_Acred
ºº !
.
ºº! "

cIafasCode
ºº" ,
=
ºº- .
oDatosGenerales
ºº/ >
.
ºº> ?

cIafasCode
ºº? I
;
ººI J
}
»» 
oCoberturas_Acred
½½ 
.
½½ 
	cAsegCode
½½ '
=
½½( )
oDatosGenerales
½½* 9
.
½½9 :
	cAsegCode
½½: C
;
½½C D
oCoberturas_Acred
¾¾ 
.
¾¾ 
	cAutoCode
¾¾ '
=
¾¾( )
oDatosGenerales
¾¾* 9
.
¾¾9 :
	cAutoCode
¾¾: C
;
¾¾C D
oCoberturas_Acred
¿¿ 
.
¿¿ 

cCoberCode
¿¿ (
=
¿¿) *
pCoberturas
¿¿+ 6
.
¿¿6 7!
CodigoTipoCobertura
¿¿7 J
;
¿¿J K
oCoberturas_Acred
ÀÀ 
.
ÀÀ 
cSubTipoCober
ÀÀ +
=
ÀÀ, -
pCoberturas
ÀÀ. 9
.
ÀÀ9 :$
CodigoSubTipoCobertura
ÀÀ: P
;
ÀÀP Q
oCoberturas_Acred
ÁÁ 
.
ÁÁ 
nSubTipoCober
ÁÁ +
=
ÁÁ, -
pCoberturas
ÁÁ. 9
.
ÁÁ9 :

Beneficios
ÁÁ: D
;
ÁÁD E
oCoberturas_Acred
ÂÂ 
.
ÂÂ 
cIndiProCode
ÂÂ *
=
ÂÂ+ ,
pCobertura_Acred
ÂÂ- =
.
ÂÂ= >
cIndiProCode
ÂÂ> J
;
ÂÂJ K
oCoberturas_Acred
ÃÃ 
.
ÃÃ 
	nCopgFijo
ÃÃ '
=
ÃÃ( )
double
ÃÃ* 0
.
ÃÃ0 1
Parse
ÃÃ1 6
(
ÃÃ6 7%
oNumAutorizacionRequest
ÃÃ7 N
.
ÃÃN O
CodCopagoFijo
ÃÃO \
)
ÃÃ\ ]
;
ÃÃ] ^
oCoberturas_Acred
ÄÄ 
.
ÄÄ 
	cMoneCode
ÄÄ '
=
ÄÄ( )
oDatosGenerales
ÄÄ* 9
.
ÄÄ9 :
	cMoneCode
ÄÄ: C
;
ÄÄC D
oCoberturas_Acred
ÅÅ 
.
ÅÅ 
cCalifServCode
ÅÅ ,
=
ÅÅ- .%
oNumAutorizacionRequest
ÅÅ/ F
.
ÅÅF G%
CodCalificacionServicio
ÅÅG ^
;
ÅÅ^ _
oCoberturas_Acred
ÆÆ 
.
ÆÆ 
	nCopgVari
ÆÆ '
=
ÆÆ( )
double
ÆÆ* 0
.
ÆÆ0 1
Parse
ÆÆ1 6
(
ÆÆ6 7%
oNumAutorizacionRequest
ÆÆ7 N
.
ÆÆN O
CodCopagoVariable
ÆÆO `
)
ÆÆ` a
;
ÆÆa b
oCoberturas_Acred
ÇÇ 
.
ÇÇ 
dBeneficioMax
ÇÇ +
=
ÇÇ, -%
oNumAutorizacionRequest
ÇÇ. E
.
ÇÇE F$
BeneficioMaximoInicial
ÇÇF \
;
ÇÇ\ ]
oCoberturas_Acred
ÈÈ 
.
ÈÈ 

fFeCarDate
ÈÈ (
=
ÈÈ) *%
oNumAutorizacionRequest
ÈÈ+ B
.
ÈÈB C!
CodFechaFinCarencia
ÈÈC V
;
ÈÈV W
oCoberturas_Acred
ÉÉ 
.
ÉÉ 

fEsperDate
ÉÉ (
=
ÉÉ) *%
oNumAutorizacionRequest
ÉÉ+ B
.
ÉÉB C!
CodFechaFinCarencia
ÉÉC V
;
ÉÉV W
oCoberturas_Acred
ÊÊ 
.
ÊÊ 

cFlagCarta
ÊÊ (
=
ÊÊ) *
pCobertura_Acred
ÊÊ+ ;
.
ÊÊ; <

cFlagCarta
ÊÊ< F
;
ÊÊF G
oCoberturas_Acred
ËË 
.
ËË 
	cProdCode
ËË '
=
ËË( )%
oNumAutorizacionRequest
ËË* A
.
ËËA B
CodProducto
ËËB M
;
ËËM N
oCoberturas_Acred
ÌÌ 
.
ÌÌ 
	cEspeCode
ÌÌ '
=
ÌÌ( )%
oNumAutorizacionRequest
ÌÌ* A
.
ÌÌA B
CodEspecialidad
ÌÌB Q
;
ÌÌQ R
oCoberturas_Acred
ÍÍ 
.
ÍÍ 
	dIpssHost
ÍÍ '
=
ÍÍ( )
pCobertura_Acred
ÍÍ* :
.
ÍÍ: ;
	dIpssHost
ÍÍ; D
;
ÍÍD E
oCoberturas_Acred
ÎÎ 
.
ÎÎ 

cOrigenAte
ÎÎ (
=
ÎÎ) *
pCobertura_Acred
ÎÎ+ ;
.
ÎÎ; <

cOrigenAte
ÎÎ< F
;
ÎÎF G
oCoberturas_Acred
ÏÏ 
.
ÏÏ 
cAccidentes
ÏÏ )
=
ÏÏ* +
pCobertura_Acred
ÏÏ, <
.
ÏÏ< =
cAccidentes
ÏÏ= H
;
ÏÏH I
oCoberturas_Acred
ĞĞ 
.
ĞĞ 
cTiDeclaracion
ĞĞ ,
=
ĞĞ- .
pCobertura_Acred
ĞĞ/ ?
.
ĞĞ? @
cTiDeclaracion
ĞĞ@ N
;
ĞĞN O
oCoberturas_Acred
ÑÑ 
.
ÑÑ 
dObserva
ÑÑ &
=
ÑÑ' (
oDatosGenerales
ÑÑ) 8
.
ÑÑ8 9
dObserva
ÑÑ9 A
;
ÑÑA B
oCoberturas_Acred
ÒÒ 
.
ÒÒ 
dComercName
ÒÒ )
=
ÒÒ* +
pCobertura_Acred
ÒÒ, <
.
ÒÒ< =
dComercName
ÒÒ= H
;
ÒÒH I
oCoberturas_Acred
ÓÓ 
.
ÓÓ 
fAccidentes
ÓÓ )
=
ÓÓ* +
pCobertura_Acred
ÓÓ, <
.
ÓÓ< =
fAccidentes
ÓÓ= H
;
ÓÓH I
oCoberturas_Acred
ÔÔ 
.
ÔÔ 
fOrigenAten
ÔÔ )
=
ÔÔ* +
pCobertura_Acred
ÔÔ, <
.
ÔÔ< =
fOrigenAten
ÔÔ= H
;
ÔÔH I
oCoberturas_Acred
ÕÕ 
.
ÕÕ 
	cUserCode
ÕÕ '
=
ÕÕ( )
pCobertura_Acred
ÕÕ* :
.
ÕÕ: ;
	cUserCode
ÕÕ; D
;
ÕÕD E
oCoberturas_Acred
ÖÖ 
.
ÖÖ 
	nUserName
ÖÖ '
=
ÖÖ( )
pCobertura_Acred
ÖÖ* :
.
ÖÖ: ;
	nUserName
ÖÖ; D
;
ÖÖD E
oCoberturas_Acred
×× 
.
×× 
cFlagCGCode
×× )
=
××* +
pCobertura_Acred
××, <
.
××< =
cFlagCGCode
××= H
;
××H I
oCoberturas_Acred
ØØ 
.
ØØ 
dFlagCGName
ØØ )
=
ØØ* +
pCobertura_Acred
ØØ, <
.
ØØ< =
dFlagCGName
ØØ= H
;
ØØH I
oCoberturas_Acred
ÙÙ 
.
ÙÙ 
cIndiRestriCode
ÙÙ -
=
ÙÙ. /%
oNumAutorizacionRequest
ÙÙ0 G
.
ÙÙG H%
CodIndicadorRestriccion
ÙÙH _
;
ÙÙ_ `
oCoberturas_Acred
ÚÚ 
.
ÚÚ 
dObsCarencia
ÚÚ *
=
ÚÚ+ ,
$str
ÚÚ- /
;
ÚÚ/ 0
new
ÜÜ 
	Generales
ÜÜ 
(
ÜÜ 
)
ÜÜ 
.
ÜÜ %
InsertarDatosCoberturas
ÜÜ 3
(
ÜÜ3 4
oCoberturas_Acred
ÜÜ4 E
)
ÜÜE F
;
ÜÜF G
}
İİ 	
public
àà 
string
àà %
InsertarDatosCoberturas
àà -
(
àà- .
Coberturas_AcredE
àà. ?
objCoberturas
àà@ M
)
ààM N
{
áá 	
string
ââ 
codigo
ââ 
=
ââ 
$str
ââ 
;
ââ 
bool
ãã 
xResult
ãã 
=
ãã 
false
ãã  
;
ãã  !
try
åå 
{
ææ 
codigo
çç 
=
çç 
new
çç  
Coberturas_AcredAD
çç /
(
çç/ 0
)
çç0 1
.
çç1 2(
Sp_Coberturas_Acred_Insert
çç2 L
(
ççL M
ref
ççM P
objCoberturas
ççQ ^
)
çç^ _
;
çç_ `
}
èè 
catch
éé 
(
éé 
	Exception
éé 
ex
éé 
)
éé  
{
êê 
codigo
ëë 
=
ëë 
$str
ëë 
;
ëë 
}
ìì 
return
îî 
codigo
îî 
;
îî 
}
ïï 	
private
õõ 
void
õõ "
GrabarProcedimientos
õõ )
(
õõ) *
DatosGeneralesE
õõ* 9
pDatosGenerales
õõ: I
,
õõI J
Coberturas_AcredE
õõK \
pCoberturas_Acred
õõ] n
)
õõn o
{
öö 	
if
ùù 
(
ùù 
CodIAFAS
ùù 
==
ùù 
$str
ùù #
&
ùù$ %
CodAseguradora
ùù& 4
==
ùù5 7
$str
ùù8 >
)
ùù> ?
{
úú 
oProcedimientos
ûû 
.
ûû  

cIafasCode
ûû  *
=
ûû+ ,
$str
ûû- 4
;
ûû4 5
}
üü 
else
ıı 
{
şş 
oProcedimientos
ÿÿ 
.
ÿÿ  

cIafasCode
ÿÿ  *
=
ÿÿ+ ,
pDatosGenerales
ÿÿ- <
.
ÿÿ< =

cIafasCode
ÿÿ= G
;
ÿÿG H
}
€€ 
oProcedimientos
‚‚ 
.
‚‚ 
	cAsegCode
‚‚ %
=
‚‚& '
pDatosGenerales
‚‚( 7
.
‚‚7 8
	cAsegCode
‚‚8 A
;
‚‚A B
oProcedimientos
ƒƒ 
.
ƒƒ 
	cAutoCode
ƒƒ %
=
ƒƒ& '
pDatosGenerales
ƒƒ( 7
.
ƒƒ7 8
	cAutoCode
ƒƒ8 A
;
ƒƒA B
oProcedimientos
„„ 
.
„„ 

cCoberCode
„„ &
=
„„' (
oCoberturas_Acred
„„) :
.
„„: ;

cCoberCode
„„; E
;
„„E F
oProcedimientos
…… 
.
…… 
cSubtipoCober
…… )
=
……* +
oCoberturas_Acred
……, =
.
……= >
cSubTipoCober
……> K
;
……K L
oProcedimientos
†† 
.
†† 
cItem
†† !
=
††" #
$str
††$ '
;
††' (
oProcedimientos
‡‡ 
.
‡‡ 
cTipoProcInt
‡‡ (
=
‡‡) *
$str
‡‡+ -
;
‡‡- .
oProcedimientos
ˆˆ 
.
ˆˆ 
nTipoProcName
ˆˆ )
=
ˆˆ* +
oCoberturas_Acred
ˆˆ, =
.
ˆˆ= >
nSubTipoCober
ˆˆ> K
;
ˆˆK L
oProcedimientos
‰‰ 
.
‰‰ 
cGeCode
‰‰ #
=
‰‰$ %
pDatosGenerales
‰‰& 5
.
‰‰5 6
cGeCode
‰‰6 =
;
‰‰= >
oProcedimientos
ŠŠ 
.
ŠŠ 
	nCopgFijo
ŠŠ %
=
ŠŠ& '
oCoberturas_Acred
ŠŠ( 9
.
ŠŠ9 :
	nCopgFijo
ŠŠ: C
;
ŠŠC D
oProcedimientos
‹‹ 
.
‹‹ 
	nCopgVari
‹‹ %
=
‹‹& '
oCoberturas_Acred
‹‹( 9
.
‹‹9 :
	nCopgVari
‹‹: C
;
‹‹C D
oProcedimientos
ŒŒ 
.
ŒŒ 
	nFrecNumb
ŒŒ %
=
ŒŒ& '
$num
ŒŒ( )
;
ŒŒ) *
oProcedimientos
 
.
 
	nDiasCant
 %
=
& '
$num
( )
;
) *
oProcedimientos
 
.
 

dObserProc
 &
=
' (
$str
) +
;
+ ,
new
 
	Generales
 
(
 
)
 
.
 $
InsertarProcedimientos
 2
(
2 3
oProcedimientos
3 B
)
B C
;
C D
}
‘‘ 	
public
•• 
string
•• $
InsertarProcedimientos
•• ,
(
••, -
ProcedimientosE
••- <
objProcedimientos
••= N
)
••N O
{
–– 	
string
—— 
codigo
—— 
=
—— 
$str
—— 
;
—— 
bool
˜˜ 
xResult
˜˜ 
=
˜˜ 
false
˜˜  
;
˜˜  !
try
šš 
{
›› 
codigo
œœ 
=
œœ 
new
œœ 
ProcedimientosAD
œœ -
(
œœ- .
)
œœ. /
.
œœ/ 0&
Sp_Procedimientos_Insert
œœ0 H
(
œœH I
ref
œœI L
objProcedimientos
œœM ^
)
œœ^ _
;
œœ_ `
}
 
catch
 
(
 
	Exception
 
ex
 
)
  
{
ŸŸ 
codigo
   
=
   
$str
   
;
   
}
¡¡ 
return
££ 
codigo
££ 
;
££ 
}
¤¤ 	
private
ªª 
void
ªª %
GrabarExcepcionCarencia
ªª ,
(
ªª, -
DatosGeneralesE
ªª- <
pDatosGenerales
ªª= L
,
ªªL M
Coberturas_AcredE
ªªN _
pCoberturas_Acred
ªª` q
)
ªªq r
{
«« 	
if
®® 
(
®® 
CodIAFAS
®® 
==
®® 
$str
®® #
&
®®$ %
CodAseguradora
®®& 4
==
®®5 7
$str
®®8 >
)
®®> ?
{
¯¯ 
oExcepCarencia
°° 
.
°° 

cIafasCode
°° )
=
°°* +
$str
°°, 3
;
°°3 4
}
±± 
else
²² 
{
³³ 
oExcepCarencia
´´ 
.
´´ 

cIafasCode
´´ )
=
´´* +
pDatosGenerales
´´, ;
.
´´; <

cIafasCode
´´< F
;
´´F G
}
µµ 
oExcepCarencia
·· 
.
·· 
	cAsegCode
·· $
=
··% &
pDatosGenerales
··' 6
.
··6 7
	cAsegCode
··7 @
;
··@ A
oExcepCarencia
¸¸ 
.
¸¸ 
	cAutoCode
¸¸ $
=
¸¸% &
pDatosGenerales
¸¸' 6
.
¸¸6 7
	cAutoCode
¸¸7 @
;
¸¸@ A
oExcepCarencia
¹¹ 
.
¹¹ 

cCoberCode
¹¹ %
=
¹¹& '
pCoberturas_Acred
¹¹( 9
.
¹¹9 :

cCoberCode
¹¹: D
;
¹¹D E
oExcepCarencia
ºº 
.
ºº 
cSubtipoCober
ºº (
=
ºº) *
pCoberturas_Acred
ºº+ <
.
ºº< =
cSubTipoCober
ºº= J
;
ººJ K
oExcepCarencia
»» 
.
»» 
cItem
»»  
=
»»! "
oProcedimientos
»»# 2
.
»»2 3
cItem
»»3 8
;
»»8 9
oExcepCarencia
¼¼ 
.
¼¼ 
cDxExcepCaren
¼¼ (
=
¼¼) *
$str
¼¼+ -
;
¼¼- .
oExcepCarencia
½½ 
.
½½ 
nDxExcepCaren
½½ (
=
½½) *
$str
½½+ -
;
½½- .
oExcepCarencia
¾¾ 
.
¾¾ 
dObsExcepCaren
¾¾ )
=
¾¾* +
$str
¾¾, .
;
¾¾. /
new
ÁÁ 
	Generales
ÁÁ 
(
ÁÁ 
)
ÁÁ 
.
ÁÁ &
InsertarDatosExpCarencia
ÁÁ 4
(
ÁÁ4 5
oExcepCarencia
ÁÁ5 C
)
ÁÁC D
;
ÁÁD E
}
ÂÂ 	
public
ÆÆ 
string
ÆÆ &
InsertarDatosExpCarencia
ÆÆ .
(
ÆÆ. /
ExcepCarenciaE
ÆÆ/ =
objCarencia
ÆÆ> I
)
ÆÆI J
{
ÇÇ 	
string
ÈÈ 
codigo
ÈÈ 
=
ÈÈ 
$str
ÈÈ 
;
ÈÈ 
bool
ÉÉ 
xResult
ÉÉ 
=
ÉÉ 
false
ÉÉ  
;
ÉÉ  !
try
ËË 
{
ÌÌ 
codigo
ÍÍ 
=
ÍÍ 
new
ÍÍ 
ExcepCarenciaAD
ÍÍ ,
(
ÍÍ, -
)
ÍÍ- .
.
ÍÍ. /%
Sp_ExcepCarencia_Insert
ÍÍ/ F
(
ÍÍF G
ref
ÍÍG J
objCarencia
ÍÍK V
)
ÍÍV W
;
ÍÍW X
}
ÎÎ 
catch
ÏÏ 
(
ÏÏ 
	Exception
ÏÏ 
ex
ÏÏ 
)
ÏÏ  
{
ĞĞ 
codigo
ÑÑ 
=
ÑÑ 
$str
ÑÑ 
;
ÑÑ 
}
ÒÒ 
return
ÔÔ 
codigo
ÔÔ 
;
ÔÔ 
}
ÕÕ 	
public
ÚÚ 
bool
ÚÚ 
CrearAtencion
ÚÚ !
(
ÚÚ! "
ref
ÚÚ" %
string
ÚÚ& ,
pCodAtencion
ÚÚ- 9
,
ÚÚ9 :
string
ÚÚ; A
pTipoAtencion
ÚÚB O
,
ÚÚO P
string
ÚÚQ W
pCodPaciente
ÚÚX d
,
ÚÚd e
string
ÚÚf l
pCodSede
ÚÚm u
)
ÚÚu v
{
ÛÛ 	
var
ÜÜ 
oOtrosE
ÜÜ 
=
ÜÜ 
new
ÜÜ 
OtrosE
ÜÜ $
(
ÜÜ$ %
pCodAtencion
ÜÜ% 1
,
ÜÜ1 2
Tarifa
ÜÜ3 9
)
ÜÜ9 :
;
ÜÜ: ;
try
ŞŞ 
{
ßß 
var
àà 
objHospitalE
àà  
=
àà! "
new
àà# &
	HospitalE
àà' 0
(
àà0 1
)
àà1 2
;
àà2 3
string
áá 
wTen
áá 
=
áá #
CodTipoConsultaMedica
áá 3
==
áá4 6
$str
áá7 :
?
áá; <
$str
áá= @
:
ááA B
$str
ááC F
;
ááF G
bool
ââ  
xPacienteAsegurado
ââ '
=
ââ( )#
CodTipoConsultaMedica
ââ* ?
==
ââ@ B
$str
ââC F
?
ââG H
true
ââI M
:
ââN O
false
ââP U
;
ââU V
objHospitalE
ää 
=
ää 
new
ää "
	HospitalE
ää# ,
(
ää, -
pCodAtencion
ää- 9
,
ää9 :
pCodPaciente
ää; G
,
ääG H
pTipoAtencion
ääI V
,
ääV W
CodUser
ääX _
,
ää_ `
pCodSede
ääa i
)
ääi j
;
ääj k
int
çç 
xError
çç 
=
çç 
new
çç  
HospitalvalidarAD
çç! 2
(
çç2 3
)
çç3 4
.
çç4 52
$Sp_HospitalValidarCobertura_Consulta
çç5 Y
(
ççY Z
new
ççZ ]
HospitalValidarE
çç^ n
(
ççn o
$str
çço r
,
ççr s
CodAseguradoraççt ‚
,çç‚ ƒ
CodCoberturaçç„ 
)çç ‘
)çç‘ ’
;çç’ “
if
èè 
(
èè 
xError
èè 
!=
èè 
$num
èè 
)
èè  
{
éé 
throw
êê 
new
êê 
	Exception
êê '
(
êê' (
$str
êê( ^
)
êê^ _
;
êê_ `
}
ëë 
string
íí 
FechaFin
íí 
=
íí  !
$str
íí" $
;
íí$ %
string
îî 
FechaInicio
îî "
=
îî# $
$str
îî% '
;
îî' (
oOtrosE
ïï 
.
ïï 
FechaInicio
ïï #
=
ïï$ %
	FechaCita
ïï& /
.
ïï/ 0
ToString
ïï0 8
(
ïï8 9
$str
ïï9 K
)
ïïK L
;
ïïL M
oOtrosE
ññ 
.
ññ 
	Intervalo
ññ !
=
ññ" ##
CodTipoConsultaMedica
ññ$ 9
==
ññ: <
$str
ññ= @
?
ññA B
$num
ññC D
:
ññE F
$num
ññG H
;
ññH I
new
óó 
OtrosAD
óó 
(
óó 
)
óó 
.
óó !
Sp_Intervalo_Fechas
óó 1
(
óó1 2
ref
óó2 5
oOtrosE
óó6 =
)
óó= >
;
óó> ?
FechaFin
ôô 
=
ôô 
oOtrosE
ôô "
.
ôô" #
FechaFin
ôô# +
;
ôô+ ,
FechaInicio
õõ 
=
õõ 
oOtrosE
õõ %
.
õõ% &
FechaInicio
õõ& 1
;
õõ1 2
using
÷÷ 
(
÷÷ 
var
÷÷ 
Trans
÷÷  
=
÷÷! "
new
÷÷# &
TransactionScope
÷÷' 7
(
÷÷7 8
)
÷÷8 9
)
÷÷9 :
{
øø 
try
ùù 
{
úú 
new
üü 
PacientesAD
üü '
(
üü' (
)
üü( )
.
üü) *!
Sp_Pacientes_Update
üü* =
(
üü= >
new
üü> A

PacientesE
üüB L
(
üüL M
pCodPaciente
üüM Y
,
üüY Z
$str
üü[ c
,
üüc d
$str
üüe h
)
üüh i
)
üüi j
;
üüj k
new
şş 

HospitalAD
şş &
(
şş& '
)
şş' (
.
şş( )$
Sp_Hospital_Insert_App
şş) ?
(
şş? @
objHospitalE
şş@ L
)
şşL M
;
şşM N
pCodAtencion
ÿÿ $
=
ÿÿ% &
objHospitalE
ÿÿ' 3
.
ÿÿ3 4
CodAtencion
ÿÿ4 ?
;
ÿÿ? @
if
 
(
 
!
 
string
 #
.
# $
IsNullOrEmpty
$ 1
(
1 2
pCodAtencion
2 >
)
> ?
)
? @
{
‚‚ 
var
„„ 
oConsultapolizasE
„„  1
=
„„2 3
new
„„4 7
ConsultaPolizasE
„„8 H
(
„„H I
)
„„I J
;
„„J K
oConsultapolizasE
…… -
.
……- .
Codatencion
……. 9
=
……: ;
pCodAtencion
……< H
;
……H I
oConsultapolizasE
†† -
.
††- .
Linea
††. 3
=
††4 5
LineasCoberturas
††6 F
;
††F G
new
‡‡ 
ConsultaPolizasAD
‡‡  1
(
‡‡1 2
)
‡‡2 3
.
‡‡3 4)
Sp_ConsultaPolizas_InsertV2
‡‡4 O
(
‡‡O P
ref
‡‡P S
oConsultapolizasE
‡‡T e
)
‡‡e f
;
‡‡f g
if
ˆˆ 
(
ˆˆ  
oConsultapolizasE
ˆˆ  1
.
ˆˆ1 2

Idconsulta
ˆˆ2 <
==
ˆˆ= ?
$num
ˆˆ@ A
)
ˆˆA B
{
‰‰ 
throw
ŠŠ  %
new
ŠŠ& )
	Exception
ŠŠ* 3
(
ŠŠ3 4
$str
ŠŠ4 t
)
ŠŠt u
;
ŠŠu v
}
‹‹ 
new
 

HospitalAD
  *
(
* +
)
+ ,
.
, - 
Sp_Hospital_Update
- ?
(
? @
new
@ C
	HospitalE
D M
(
M N
pCodAtencion
N Z
,
Z [
$str
\ g
,
g h
	CodMedico
i r
)
r s
)
s t
;
t u
new
 

HospitalAD
  *
(
* +
)
+ ,
.
, - 
Sp_Hospital_Update
- ?
(
? @
new
@ C
	HospitalE
D M
(
M N
pCodAtencion
N Z
,
Z [
$str
\ h
,
h i
$str
j m
)
m n
)
n o
;
o p
new
‘‘ 

HospitalAD
‘‘  *
(
‘‘* +
)
‘‘+ ,
.
‘‘, - 
Sp_Hospital_Update
‘‘- ?
(
‘‘? @
new
‘‘@ C
	HospitalE
‘‘D M
(
‘‘M N
pCodAtencion
‘‘N Z
,
‘‘Z [
$str
‘‘\ m
,
‘‘m n
CodEspecialidad
‘‘o ~
)
‘‘~ 
)‘‘ €
;‘‘€ 
new
““ 

HospitalAD
““  *
(
““* +
)
““+ ,
.
““, - 
Sp_Hospital_Update
““- ?
(
““? @
new
““@ C
	HospitalE
““D M
(
““M N
pCodAtencion
““N Z
,
““Z [
$str
““\ g
,
““g h
	CodPoliza
““i r
)
““r s
)
““s t
;
““t u
new
”” 

HospitalAD
””  *
(
””* +
)
””+ ,
.
””, - 
Sp_Hospital_Update
””- ?
(
””? @
new
””@ C
	HospitalE
””D M
(
””M N
pCodAtencion
””N Z
,
””Z [
$str
””\ d
,
””d e
CodCia
””f l
)
””l m
)
””m n
;
””n o
if
–– 
(
––  #
CodTipoConsultaMedica
––  5
==
––6 8
$str
––9 <
)
––< =
{
—— 
new
˜˜  #

HospitalAD
˜˜$ .
(
˜˜. /
)
˜˜/ 0
.
˜˜0 1 
Sp_Hospital_Update
˜˜1 C
(
˜˜C D
new
˜˜D G
	HospitalE
˜˜H Q
(
˜˜Q R
pCodAtencion
˜˜R ^
,
˜˜^ _
$str
˜˜` l
,
˜˜l m
NumeroPlanPoliza
˜˜n ~
)
˜˜~ 
)˜˜ €
;˜˜€ 
}
™™ 
else
šš  
{
›› 
new
œœ  #

HospitalAD
œœ$ .
(
œœ. /
)
œœ/ 0
.
œœ0 1 
Sp_Hospital_Update
œœ1 C
(
œœC D
new
œœD G
	HospitalE
œœH Q
(
œœQ R
pCodAtencion
œœR ^
,
œœ^ _
$str
œœ` l
,
œœl m
$str
œœn q
)
œœq r
)
œœr s
;
œœs t
}
 
new
ŸŸ 

HospitalAD
ŸŸ  *
(
ŸŸ* +
)
ŸŸ+ ,
.
ŸŸ, - 
Sp_Hospital_Update
ŸŸ- ?
(
ŸŸ? @
new
ŸŸ@ C
	HospitalE
ŸŸD M
(
ŸŸM N
pCodAtencion
ŸŸN Z
,
ŸŸZ [
$str
ŸŸ\ e
,
ŸŸe f
DscNombresTitular
ŸŸg x
)
ŸŸx y
)
ŸŸy z
;
ŸŸz {
if
¡¡ 
(
¡¡   
CodigoAutorizacion
¡¡  2
!=
¡¡3 5
$str
¡¡6 8
)
¡¡8 9
{
¢¢ 
new
££  #

HospitalAD
££$ .
(
££. /
)
££/ 0
.
££0 1 
Sp_Hospital_Update
££1 C
(
££C D
new
££D G
	HospitalE
££H Q
(
££Q R
pCodAtencion
££R ^
,
££^ _
$str
££` y
,
££y z!
CodigoAutorizacion££{ 
)££ 
)££ 
;££ 
new
¤¤  #

HospitalAD
¤¤$ .
(
¤¤. /
)
¤¤/ 0
.
¤¤0 1 
Sp_Hospital_Update
¤¤1 C
(
¤¤C D
new
¤¤D G
	HospitalE
¤¤H Q
(
¤¤Q R
pCodAtencion
¤¤R ^
,
¤¤^ _
$str
¤¤` w
,
¤¤w x
$str
¤¤y }
)
¤¤} ~
)
¤¤~ 
;¤¤ €
}
¥¥ 
new
©© 
AseguradosAD
©©  ,
(
©©, -
)
©©- .
.
©©. /"
Sp_Asegurados_Insert
©©/ C
(
©©C D
new
©©D G
AseguradosE
©©H S
(
©©S T
pCodAtencion
©©T `
)
©©` a
)
©©a b
;
©©b c
oOtrosE
«« #
=
««$ %
new
««& )
OtrosE
««* 0
(
««0 1
pCodAtencion
««1 =
,
««= >
Tarifa
««? E
)
««E F
;
««F G
new
¬¬ 
OtrosAD
¬¬  '
(
¬¬' (
)
¬¬( )
.
¬¬) *'
Sp_CapturarTarifaAtencion
¬¬* C
(
¬¬C D
oOtrosE
¬¬D K
)
¬¬K L
;
¬¬L M
Tarifa
­­ "
=
­­# $
oOtrosE
­­% ,
.
­­, -
Tarifa
­­- 3
;
­­3 4
GrabarAsegurados
®® ,
(
®®, -
pCodAtencion
®®- 9
)
®®9 :
;
®®: ;#
GrabarCoberturaPoliza
¯¯ 1
(
¯¯1 2
pCodAtencion
¯¯2 >
)
¯¯> ?
;
¯¯? @
new
²² 

HospitalAD
²²  *
(
²²* +
)
²²+ ,
.
²², - 
Sp_Hospital_Update
²²- ?
(
²²? @
new
²²@ C
	HospitalE
²²D M
(
²²M N
pCodAtencion
²²N Z
,
²²Z [
$str
²²\ a
,
²²a b
wTen
²²c g
)
²²g h
)
²²h i
;
²²i j
}
³³ 
new
µµ 

HospitalAD
µµ &
(
µµ& '
)
µµ' (
.
µµ( ) 
Sp_Hospital_Update
µµ) ;
(
µµ; <
new
µµ< ?
	HospitalE
µµ@ I
(
µµI J
CodAtencion
µµJ U
,
µµU V
$str
µµW d
,
µµd e
FechaInicio
µµf q
)
µµq r
)
µµr s
;
µµs t
new
¶¶ 

HospitalAD
¶¶ &
(
¶¶& '
)
¶¶' (
.
¶¶( ) 
Sp_Hospital_Update
¶¶) ;
(
¶¶; <
new
¶¶< ?
	HospitalE
¶¶@ I
(
¶¶I J
CodAtencion
¶¶J U
,
¶¶U V
$str
¶¶W a
,
¶¶a b
FechaFin
¶¶c k
)
¶¶k l
)
¶¶l m
;
¶¶m n
Trans
½½ 
.
½½ 
Complete
½½ &
(
½½& '
)
½½' (
;
½½( )
return
¿¿ 
true
¿¿ #
;
¿¿# $
}
ÀÀ 
catch
ÁÁ 
(
ÁÁ 
	Exception
ÁÁ $
ex
ÁÁ% '
)
ÁÁ' (
{
ÂÂ 
Trans
ÃÃ 
.
ÃÃ 
Dispose
ÃÃ %
(
ÃÃ% &
)
ÃÃ& '
;
ÃÃ' (
throw
ÄÄ 
new
ÄÄ !
	Exception
ÄÄ" +
(
ÄÄ+ ,
$str
ÄÄ, D
+
ÄÄE F
(
ÄÄG H
$char
ÄÄH L
)
ÄÄL M
+
ÄÄN O
ex
ÄÄP R
.
ÄÄR S
Message
ÄÄS Z
+
ÄÄ[ \
(
ÄÄ] ^
$char
ÄÄ^ b
)
ÄÄb c
+
ÄÄd e
$str
ÄÄf t
+
ÄÄu v
ex
ÄÄw y
.
ÄÄy z

StackTraceÄÄz „
+ÄÄ… †
(ÄÄ‡ ˆ
$charÄÄˆ Œ
)ÄÄŒ 
+ÄÄ 
exÄÄ ’
.ÄÄ’ “
SourceÄÄ“ ™
)ÄÄ™ š
;ÄÄš ›
}
ÅÅ 
}
ÆÆ 
return
ÈÈ 
true
ÈÈ 
;
ÈÈ 
}
ÉÉ 
catch
ÊÊ 
(
ÊÊ 
	Exception
ÊÊ 
ex
ÊÊ 
)
ÊÊ  
{
ËË 
LimpiarVariables
ÌÌ  
(
ÌÌ  !
)
ÌÌ! "
;
ÌÌ" #
throw
ÍÍ 
new
ÍÍ 
	Exception
ÍÍ #
(
ÍÍ# $
$str
ÍÍ$ <
+
ÍÍ= >
(
ÍÍ? @
$char
ÍÍ@ D
)
ÍÍD E
+
ÍÍF G
ex
ÍÍH J
.
ÍÍJ K
Message
ÍÍK R
+
ÍÍS T
(
ÍÍU V
$char
ÍÍV Z
)
ÍÍZ [
+
ÍÍ\ ]
$str
ÍÍ^ l
+
ÍÍm n
ex
ÍÍo q
.
ÍÍq r

StackTrace
ÍÍr |
+
ÍÍ} ~
(ÍÍ €
$charÍÍ€ „
)ÍÍ„ …
+ÍÍ† ‡
exÍÍˆ Š
.ÍÍŠ ‹
SourceÍÍ‹ ‘
)ÍÍ‘ ’
;ÍÍ’ “
return
ÎÎ 
false
ÎÎ 
;
ÎÎ 
}
ÏÏ 
}
ĞĞ 	
private
ÔÔ 
void
ÔÔ 
GrabarAsegurados
ÔÔ %
(
ÔÔ% &
string
ÔÔ& ,
pCodAtencion
ÔÔ- 9
)
ÔÔ9 :
{
ÕÕ 	
new
ÖÖ 
AseguradosAD
ÖÖ 
(
ÖÖ 
)
ÖÖ 
.
ÖÖ "
Sp_Asegurados_Update
ÖÖ 3
(
ÖÖ3 4
new
ÖÖ4 7
AseguradosE
ÖÖ8 C
(
ÖÖC D
pCodAtencion
ÖÖD P
,
ÖÖP Q
$str
ÖÖR Z
,
ÖÖZ [
util
ÖÖ\ `
.
ÖÖ` a
Mid
ÖÖa d
(
ÖÖd e
	CodPoliza
ÖÖe n
,
ÖÖn o
$num
ÖÖp q
,
ÖÖq r
$num
ÖÖs u
)
ÖÖu v
)
ÖÖv w
)
ÖÖw x
;
ÖÖx y
new
×× 
AseguradosAD
×× 
(
×× 
)
×× 
.
×× "
Sp_Asegurados_Update
×× 3
(
××3 4
new
××4 7
AseguradosE
××8 C
(
××C D
pCodAtencion
××D P
,
××P Q
$str
××R ]
,
××] ^
Tarifa
××_ e
)
××e f
)
××f g
;
××g h
if
ÙÙ 
(
ÙÙ #
CodTipoConsultaMedica
ÙÙ %
==
ÙÙ& (
$str
ÙÙ) ,
)
ÙÙ, -
{
ÚÚ 
new
ÛÛ 
AseguradosAD
ÛÛ  
(
ÛÛ  !
)
ÛÛ! "
.
ÛÛ" #"
Sp_Asegurados_Update
ÛÛ# 7
(
ÛÛ7 8
new
ÛÛ8 ;
AseguradosE
ÛÛ< G
(
ÛÛG H
pCodAtencion
ÛÛH T
,
ÛÛT U
$str
ÛÛV b
,
ÛÛb c
util
ÛÛd h
.
ÛÛh i
Mid
ÛÛi l
(
ÛÛl m
NumeroPlanPoliza
ÛÛm }
,
ÛÛ} ~
$numÛÛ €
,ÛÛ€ 
$numÛÛ‚ ƒ
)ÛÛƒ „
)ÛÛ„ …
)ÛÛ… †
;ÛÛ† ‡
}
ÜÜ 
else
İİ 
{
ŞŞ 
new
ßß 
AseguradosAD
ßß  
(
ßß  !
)
ßß! "
.
ßß" #"
Sp_Asegurados_Update
ßß# 7
(
ßß7 8
new
ßß8 ;
AseguradosE
ßß< G
(
ßßG H
pCodAtencion
ßßH T
,
ßßT U
$str
ßßV b
,
ßßb c
$str
ßßd g
)
ßßg h
)
ßßh i
;
ßßi j
}
àà 
new
ââ 
AseguradosAD
ââ 
(
ââ 
)
ââ 
.
ââ "
Sp_Asegurados_Update
ââ 3
(
ââ3 4
new
ââ4 7
AseguradosE
ââ8 C
(
ââC D
pCodAtencion
ââD P
,
ââP Q
$str
ââR f
,
ââf g
$str
ââh k
)
ââk l
)
ââl m
;
ââm n
new
ãã 
AseguradosAD
ãã 
(
ãã 
)
ãã 
.
ãã "
Sp_Asegurados_Update
ãã 3
(
ãã3 4
new
ãã4 7
AseguradosE
ãã8 C
(
ããC D
pCodAtencion
ããD P
,
ããP Q
$str
ããR [
,
ãã[ \ 
DscNombresPaciente
ãã] o
)
ãão p
)
ããp q
;
ããq r
new
ää 
AseguradosAD
ää 
(
ää 
)
ää 
.
ää "
Sp_Asegurados_Update
ää 3
(
ää3 4
new
ää4 7
AseguradosE
ää8 C
(
ääC D
pCodAtencion
ääD P
,
ääP Q
$str
ääR X
,
ääX Y
Sexo
ääZ ^
)
ää^ _
)
ää_ `
;
ää` a
new
ææ 
AseguradosAD
ææ 
(
ææ 
)
ææ 
.
ææ "
Sp_Asegurados_Update
ææ 3
(
ææ3 4
new
ææ4 7
AseguradosE
ææ8 C
(
ææC D
pCodAtencion
ææD P
,
ææP Q
$str
ææR c
,
ææc d
FechaNacimiento
ææe t
.
ææt u
ToString
ææu }
(
ææ} ~
$strææ~ Š
)ææŠ ‹
)ææ‹ Œ
)ææŒ 
;ææ 
new
çç 
AseguradosAD
çç 
(
çç 
)
çç 
.
çç "
Sp_Asegurados_Update
çç 3
(
çç3 4
new
çç4 7
AseguradosE
çç8 C
(
ççC D
pCodAtencion
ççD P
,
ççP Q
$str
ççR a
,
çça b
Observaciones
ççc p
)
ççp q
)
ççq r
;
ççr s
new
èè 
AseguradosAD
èè 
(
èè 
)
èè 
.
èè "
Sp_Asegurados_Update
èè 3
(
èè3 4
new
èè4 7
AseguradosE
èè8 C
(
èèC D
pCodAtencion
èèD P
,
èèP Q
$str
èèR j
,
èèj k
CodAsegurado
èèl x
)
èèx y
)
èèy z
;
èèz {
string
ëë 
DscTipoAfiliacion
ëë $
=
ëë% &
$str
ëë' )
;
ëë) *
switch
ìì 
(
ìì 
int
ìì 
.
ìì 
Parse
ìì 
(
ìì 
TipoAfiliacion
ìì ,
)
ìì, -
)
ìì- .
{
íí 
case
îî 
$num
îî 
:
îî 
{
ïï 
DscTipoAfiliacion
ğğ )
=
ğğ* +
$str
ğğ, 5
;
ğğ5 6
break
ññ 
;
ññ 
}
òò 
case
óó 
$num
óó 
:
óó 
{
ôô 
DscTipoAfiliacion
õõ )
=
õõ* +
$str
õõ, 2
;
õõ2 3
break
öö 
;
öö 
}
÷÷ 
case
øø 
$num
øø 
:
øø 
{
ùù 
DscTipoAfiliacion
úú )
=
úú* +
$str
úú, I
;
úúI J
break
ûû 
;
ûû 
}
üü 
case
ıı 
$num
ıı 
:
ıı 
{
şş 
DscTipoAfiliacion
ÿÿ )
=
ÿÿ* +
$str
ÿÿ, @
;
ÿÿ@ A
break
€€ 
;
€€ 
}
 
case
‚‚ 
$num
‚‚ 
:
‚‚ 
{
ƒƒ 
DscTipoAfiliacion
„„ )
=
„„* +
$str
„„, <
;
„„< =
break
…… 
;
…… 
}
†† 
default
ˆˆ 
:
ˆˆ 
{
‰‰ 
DscTipoAfiliacion
ŠŠ )
=
ŠŠ* +
$str
ŠŠ, 5
;
ŠŠ5 6
break
‹‹ 
;
‹‹ 
}
ŒŒ 
}
 
new
 
AseguradosAD
 
(
 
)
 
.
 "
Sp_Asegurados_Update
 3
(
3 4
new
4 7
AseguradosE
8 C
(
C D
pCodAtencion
D P
,
P Q
$str
R e
,
e f
util
g k
.
k l
	Substring
l u
(
u v 
DscTipoAfiliacionv ‡
,‡ ˆ
$num‰ Š
,Š ‹
$numŒ 
) 
) 
) 
; ‘
new
 
AseguradosAD
 
(
 
)
 
.
 "
Sp_Asegurados_Update
 3
(
3 4
new
4 7
AseguradosE
8 C
(
C D
pCodAtencion
D P
,
P Q
$str
R a
,
a b
TipParentesco
c p
)
p q
)
q r
;
r s
switch
’’ 
(
’’ 
CodAseguradora
’’ "
)
’’" #
{
““ 
case
”” 
var
”” 
@case
”” 
when
”” #
@case
””$ )
==
””* ,
gAsegPacifico
””- :
:
””: ;
case
•• 
var
•• 
case1
•• 
when
•• #
case1
••$ )
==
••* ,
gAsegPacificoVida
••- >
:
••> ?
case
–– 
var
–– 
case2
–– 
when
–– #
case2
––$ )
==
––* ,
gAsegPacificoEps
––- =
:
––= >
{
—— 
new
˜˜ 
AseguradosAD
˜˜ (
(
˜˜( )
)
˜˜) *
.
˜˜* +"
Sp_Asegurados_Update
˜˜+ ?
(
˜˜? @
new
˜˜@ C
AseguradosE
˜˜D O
(
˜˜O P
pCodAtencion
˜˜P \
,
˜˜\ ]
$str
˜˜^ k
,
˜˜k l%
TipProductoAseguradora˜˜m ƒ
)˜˜ƒ „
)˜˜„ …
;˜˜… †
break
™™ 
;
™™ 
}
šš 
case
›› 
var
›› 
case3
›› 
when
›› #
case3
››$ )
==
››* ,

gAsegRimac
››- 7
:
››7 8
case
œœ 
var
œœ 
case4
œœ 
when
œœ #
case4
œœ$ )
==
œœ* ,
gAsegRimacEps
œœ- :
:
œœ: ;
{
 
new
   
AseguradosAD
   (
(
  ( )
)
  ) *
.
  * +"
Sp_Asegurados_Update
  + ?
(
  ? @
new
  @ C
AseguradosE
  D O
(
  O P
pCodAtencion
  P \
,
  \ ]
$str
  ^ k
,
  k l%
TipProductoAseguradora  m ƒ
)  ƒ „
)  „ …
;  … †
break
¡¡ 
;
¡¡ 
}
¢¢ 
}
££ 
}
¤¤ 	
public
©© 
void
©© #
GrabarCoberturaPoliza
©© )
(
©©) *
string
©©* 0
pCodAtencion
©©1 =
,
©©= >
string
©©? E
pTipoPaciente
©©F S
=
©©T U
$str
©©V a
)
©©a b
{
ªª 	
string
«« 
wTipoCobertura
«« !
;
««! "
string
¬¬ 
wIGV
¬¬ 
=
¬¬ 
$str
¬¬ 
;
¬¬ 
try
®® 
{
¯¯ 
wTipoCobertura
±± 
=
±±  
$str
±±! %
;
±±% &
new
²² 
CoberturaPolizaAD
²² %
(
²²% &
)
²²& '
.
²²' ('
Sp_CoberturaPoliza_Insert
²²( A
(
²²A B
new
²²B E
CoberturaPolizaE
²²F V
(
²²V W
pCodAtencion
²²W c
,
²²c d
wTipoCobertura
²²e s
)
²²s t
)
²²t u
;
²²u v
new
³³ 
CoberturaPolizaAD
³³ %
(
³³% &
)
³³& '
.
³³' ('
Sp_CoberturaPoliza_Update
³³( A
(
³³A B
new
³³B E
CoberturaPolizaE
³³F V
(
³³V W
pCodAtencion
³³W c
,
³³c d
wTipoCobertura
³³e s
,
³³s t
$str³³u €
,³³€ 
$str³³‚ …
)³³… †
)³³† ‡
;³³‡ ˆ
new
´´ 
CoberturaPolizaAD
´´ %
(
´´% &
)
´´& '
.
´´' ('
Sp_CoberturaPoliza_Update
´´( A
(
´´A B
new
´´B E
CoberturaPolizaE
´´F V
(
´´V W
pCodAtencion
´´W c
,
´´c d
wTipoCobertura
´´e s
,
´´s t
$str
´´u }
,
´´} ~
	TipMoneda´´ ˆ
.´´ˆ ‰
	Substring´´‰ ’
(´´’ “
$num´´“ ”
,´´” •
$num´´– —
)´´— ˜
)´´˜ ™
)´´™ š
;´´š ›
new
µµ 
CoberturaPolizaAD
µµ %
(
µµ% &
)
µµ& '
.
µµ' ('
Sp_CoberturaPoliza_Update
µµ( A
(
µµA B
new
µµB E
CoberturaPolizaE
µµF V
(
µµV W
pCodAtencion
µµW c
,
µµc d
wTipoCobertura
µµe s
,
µµs t
$str
µµu z
,
µµz {
wIGVµµ| €
)µµ€ 
)µµ ‚
;µµ‚ ƒ
new
¶¶ 
CoberturaPolizaAD
¶¶ %
(
¶¶% &
)
¶¶& '
.
¶¶' ('
Sp_CoberturaPoliza_Update
¶¶( A
(
¶¶A B
new
¶¶B E
CoberturaPolizaE
¶¶F V
(
¶¶V W
pCodAtencion
¶¶W c
,
¶¶c d
wTipoCobertura
¶¶e s
,
¶¶s t
$str
¶¶u }
,
¶¶} ~
$str¶¶ ‚
)¶¶‚ ƒ
)¶¶ƒ „
;¶¶„ …
if
¸¸ 
(
¸¸ #
CodTipoConsultaMedica
¸¸ )
==
¸¸* ,
$str
¸¸- 0
)
¸¸0 1
{
¹¹ 
new
ºº 
CoberturaPolizaAD
ºº )
(
ºº) *
)
ºº* +
.
ºº+ ,'
Sp_CoberturaPoliza_Update
ºº, E
(
ººE F
new
ººF I
CoberturaPolizaE
ººJ Z
(
ººZ [
pCodAtencion
ºº[ g
,
ººg h
wTipoCobertura
ººi w
,
ººw x
$strººy €
,ºº€ 

CoPagoFijoºº‚ Œ
)ººŒ 
)ºº 
;ºº 
new
»» 
CoberturaPolizaAD
»» )
(
»») *
)
»»* +
.
»»+ ,'
Sp_CoberturaPoliza_Update
»», E
(
»»E F
new
»»F I
CoberturaPolizaE
»»J Z
(
»»Z [
pCodAtencion
»»[ g
,
»»g h
wTipoCobertura
»»i w
,
»»w x
$str»»y 
,»» ‚
$str»»ƒ ™
)»»™ š
)»»š ›
;»»› œ
new
¼¼ 
CoberturaPolizaAD
¼¼ )
(
¼¼) *
)
¼¼* +
.
¼¼+ ,'
Sp_CoberturaPoliza_Update
¼¼, E
(
¼¼E F
new
¼¼F I
CoberturaPolizaE
¼¼J Z
(
¼¼Z [
pCodAtencion
¼¼[ g
,
¼¼g h
wTipoCobertura
¼¼i w
,
¼¼w x
$str¼¼y ‡
,¼¼‡ ˆ
CodCobertura¼¼‰ •
.¼¼• –
	Substring¼¼– Ÿ
(¼¼Ÿ  
$num¼¼  ¡
,¼¼¡ ¢
$num¼¼£ ¤
)¼¼¤ ¥
)¼¼¥ ¦
)¼¼¦ §
;¼¼§ ¨
new
½½ 
CoberturaPolizaAD
½½ )
(
½½) *
)
½½* +
.
½½+ ,'
Sp_CoberturaPoliza_Update
½½, E
(
½½E F
new
½½F I
CoberturaPolizaE
½½J Z
(
½½Z [
pCodAtencion
½½[ g
,
½½g h
wTipoCobertura
½½i w
,
½½w x
$str½½y Œ
,½½Œ #
CodSubTipoCobertura½½ ¡
)½½¡ ¢
)½½¢ £
;½½£ ¤
new
¾¾ 
CoberturaPolizaAD
¾¾ )
(
¾¾) *
)
¾¾* +
.
¾¾+ ,'
Sp_CoberturaPoliza_Update
¾¾, E
(
¾¾E F
new
¾¾F I
CoberturaPolizaE
¾¾J Z
(
¾¾Z [
pCodAtencion
¾¾[ g
,
¾¾g h
wTipoCobertura
¾¾i w
,
¾¾w x
$str¾¾y „
,¾¾„ …
$str¾¾† Š
)¾¾Š ‹
)¾¾‹ Œ
;¾¾Œ 
}
¿¿ 
else
ÀÀ 
{
ÁÁ 
new
ÂÂ 
CoberturaPolizaAD
ÂÂ )
(
ÂÂ) *
)
ÂÂ* +
.
ÂÂ+ ,'
Sp_CoberturaPoliza_Update
ÂÂ, E
(
ÂÂE F
new
ÂÂF I
CoberturaPolizaE
ÂÂJ Z
(
ÂÂZ [
pCodAtencion
ÂÂ[ g
,
ÂÂg h
wTipoCobertura
ÂÂi w
,
ÂÂw x
$str
ÂÂy ~
,
ÂÂ~ 
$strÂÂ€ ƒ
)ÂÂƒ „
)ÂÂ„ …
;ÂÂ… †
new
ÃÃ 
CoberturaPolizaAD
ÃÃ )
(
ÃÃ) *
)
ÃÃ* +
.
ÃÃ+ ,'
Sp_CoberturaPoliza_Update
ÃÃ, E
(
ÃÃE F
new
ÃÃF I
CoberturaPolizaE
ÃÃJ Z
(
ÃÃZ [
pCodAtencion
ÃÃ[ g
,
ÃÃg h
wTipoCobertura
ÃÃi w
,
ÃÃw x
$strÃÃy €
,ÃÃ€ 
$strÃÃ‚ …
)ÃÃ… †
)ÃÃ† ‡
;ÃÃ‡ ˆ
new
ÄÄ 
CoberturaPolizaAD
ÄÄ )
(
ÄÄ) *
)
ÄÄ* +
.
ÄÄ+ ,'
Sp_CoberturaPoliza_Update
ÄÄ, E
(
ÄÄE F
new
ÄÄF I
CoberturaPolizaE
ÄÄJ Z
(
ÄÄZ [
pCodAtencion
ÄÄ[ g
,
ÄÄg h
wTipoCobertura
ÄÄi w
,
ÄÄw x
$strÄÄy 
,ÄÄ ‚
$strÄÄƒ ˜
)ÄÄ˜ ™
)ÄÄ™ š
;ÄÄš ›
new
ÅÅ 
CoberturaPolizaAD
ÅÅ )
(
ÅÅ) *
)
ÅÅ* +
.
ÅÅ+ ,'
Sp_CoberturaPoliza_Update
ÅÅ, E
(
ÅÅE F
new
ÅÅF I
CoberturaPolizaE
ÅÅJ Z
(
ÅÅZ [
pCodAtencion
ÅÅ[ g
,
ÅÅg h
wTipoCobertura
ÅÅi w
,
ÅÅw x
$strÅÅy „
,ÅÅ„ …
$strÅÅ† ‰
)ÅÅ‰ Š
)ÅÅŠ ‹
;ÅÅ‹ Œ
}
ÆÆ 
wTipoCobertura
ÊÊ 
=
ÊÊ  
$str
ÊÊ! %
;
ÊÊ% &
new
ËË 
CoberturaPolizaAD
ËË %
(
ËË% &
)
ËË& '
.
ËË' ('
Sp_CoberturaPoliza_Insert
ËË( A
(
ËËA B
new
ËËB E
CoberturaPolizaE
ËËF V
(
ËËV W
pCodAtencion
ËËW c
,
ËËc d
wTipoCobertura
ËËe s
)
ËËs t
)
ËËt u
;
ËËu v
new
ÌÌ 
CoberturaPolizaAD
ÌÌ %
(
ÌÌ% &
)
ÌÌ& '
.
ÌÌ' ('
Sp_CoberturaPoliza_Update
ÌÌ( A
(
ÌÌA B
new
ÌÌB E
CoberturaPolizaE
ÌÌF V
(
ÌÌV W
pCodAtencion
ÌÌW c
,
ÌÌc d
wTipoCobertura
ÌÌe s
,
ÌÌs t
$strÌÌu €
,ÌÌ€ 
$strÌÌ‚ …
)ÌÌ… †
)ÌÌ† ‡
;ÌÌ‡ ˆ
new
ÍÍ 
CoberturaPolizaAD
ÍÍ %
(
ÍÍ% &
)
ÍÍ& '
.
ÍÍ' ('
Sp_CoberturaPoliza_Update
ÍÍ( A
(
ÍÍA B
new
ÍÍB E
CoberturaPolizaE
ÍÍF V
(
ÍÍV W
pCodAtencion
ÍÍW c
,
ÍÍc d
wTipoCobertura
ÍÍe s
,
ÍÍs t
$str
ÍÍu }
,
ÍÍ} ~
$strÍÍ 
)ÍÍ ‚
)ÍÍ‚ ƒ
;ÍÍƒ „
new
ÎÎ 
CoberturaPolizaAD
ÎÎ %
(
ÎÎ% &
)
ÎÎ& '
.
ÎÎ' ('
Sp_CoberturaPoliza_Update
ÎÎ( A
(
ÎÎA B
new
ÎÎB E
CoberturaPolizaE
ÎÎF V
(
ÎÎV W
pCodAtencion
ÎÎW c
,
ÎÎc d
wTipoCobertura
ÎÎe s
,
ÎÎs t
$str
ÎÎu z
,
ÎÎz {
$str
ÎÎ| ~
)
ÎÎ~ 
)ÎÎ €
;ÎÎ€ 
new
ÏÏ 
CoberturaPolizaAD
ÏÏ %
(
ÏÏ% &
)
ÏÏ& '
.
ÏÏ' ('
Sp_CoberturaPoliza_Update
ÏÏ( A
(
ÏÏA B
new
ÏÏB E
CoberturaPolizaE
ÏÏF V
(
ÏÏV W
pCodAtencion
ÏÏW c
,
ÏÏc d
wTipoCobertura
ÏÏe s
,
ÏÏs t
$str
ÏÏu }
,
ÏÏ} ~
$strÏÏ ‚
)ÏÏ‚ ƒ
)ÏÏƒ „
;ÏÏ„ …
if
ÑÑ 
(
ÑÑ #
CodTipoConsultaMedica
ÑÑ )
==
ÑÑ* ,
$str
ÑÑ- 0
)
ÑÑ0 1
{
ÒÒ 
new
ÓÓ 
CoberturaPolizaAD
ÓÓ )
(
ÓÓ) *
)
ÓÓ* +
.
ÓÓ+ ,'
Sp_CoberturaPoliza_Update
ÓÓ, E
(
ÓÓE F
new
ÓÓF I
CoberturaPolizaE
ÓÓJ Z
(
ÓÓZ [
pCodAtencion
ÓÓ[ g
,
ÓÓg h
wTipoCobertura
ÓÓi w
,
ÓÓw x
$strÓÓy 
,ÓÓ ‚
$strÓÓƒ ™
)ÓÓ™ š
)ÓÓš ›
;ÓÓ› œ
new
ÔÔ 
CoberturaPolizaAD
ÔÔ )
(
ÔÔ) *
)
ÔÔ* +
.
ÔÔ+ ,'
Sp_CoberturaPoliza_Update
ÔÔ, E
(
ÔÔE F
new
ÔÔF I
CoberturaPolizaE
ÔÔJ Z
(
ÔÔZ [
pCodAtencion
ÔÔ[ g
,
ÔÔg h
wTipoCobertura
ÔÔi w
,
ÔÔw x
$strÔÔy €
,ÔÔ€ 
(ÔÔ‚ ƒ
$numÔÔƒ ‡
-ÔÔˆ ‰
doubleÔÔŠ 
.ÔÔ ‘
ParseÔÔ‘ –
(ÔÔ– —
CoPagoVariableÔÔ— ¥
)ÔÔ¥ ¦
)ÔÔ¦ §
.ÔÔ§ ¨
ToStringÔÔ¨ °
(ÔÔ° ±
)ÔÔ± ²
)ÔÔ² ³
)ÔÔ³ ´
;ÔÔ´ µ
new
ÕÕ 
CoberturaPolizaAD
ÕÕ )
(
ÕÕ) *
)
ÕÕ* +
.
ÕÕ+ ,'
Sp_CoberturaPoliza_Update
ÕÕ, E
(
ÕÕE F
new
ÕÕF I
CoberturaPolizaE
ÕÕJ Z
(
ÕÕZ [
pCodAtencion
ÕÕ[ g
,
ÕÕg h
wTipoCobertura
ÕÕi w
,
ÕÕw x
$strÕÕy ‡
,ÕÕ‡ ˆ
utilÕÕ‰ 
.ÕÕ 
	SubstringÕÕ —
(ÕÕ— ˜
CodCoberturaÕÕ˜ ¤
,ÕÕ¤ ¥
$numÕÕ¦ §
,ÕÕ§ ¨
$numÕÕ© ª
)ÕÕª «
)ÕÕ« ¬
)ÕÕ¬ ­
;ÕÕ­ ®
new
ÖÖ 
CoberturaPolizaAD
ÖÖ )
(
ÖÖ) *
)
ÖÖ* +
.
ÖÖ+ ,'
Sp_CoberturaPoliza_Update
ÖÖ, E
(
ÖÖE F
new
ÖÖF I
CoberturaPolizaE
ÖÖJ Z
(
ÖÖZ [
pCodAtencion
ÖÖ[ g
,
ÖÖg h
wTipoCobertura
ÖÖi w
,
ÖÖw x
$strÖÖy Œ
,ÖÖŒ #
CodSubTipoCoberturaÖÖ ¡
)ÖÖ¡ ¢
)ÖÖ¢ £
;ÖÖ£ ¤
new
×× 
CoberturaPolizaAD
×× )
(
××) *
)
××* +
.
××+ ,'
Sp_CoberturaPoliza_Update
××, E
(
××E F
new
××F I
CoberturaPolizaE
××J Z
(
××Z [
pCodAtencion
××[ g
,
××g h
wTipoCobertura
××i w
,
××w x
$str××y „
,××„ …
$str××† Š
)××Š ‹
)××‹ Œ
;××Œ 
}
ØØ 
else
ÙÙ 
{
ÚÚ 
new
ÛÛ 
CoberturaPolizaAD
ÛÛ )
(
ÛÛ) *
)
ÛÛ* +
.
ÛÛ+ ,'
Sp_CoberturaPoliza_Update
ÛÛ, E
(
ÛÛE F
new
ÛÛF I
CoberturaPolizaE
ÛÛJ Z
(
ÛÛZ [
pCodAtencion
ÛÛ[ g
,
ÛÛg h
wTipoCobertura
ÛÛi w
,
ÛÛw x
$str
ÛÛy ~
,
ÛÛ~ 
$strÛÛ€ ƒ
)ÛÛƒ „
)ÛÛ„ …
;ÛÛ… †
new
ÜÜ 
CoberturaPolizaAD
ÜÜ )
(
ÜÜ) *
)
ÜÜ* +
.
ÜÜ+ ,'
Sp_CoberturaPoliza_Update
ÜÜ, E
(
ÜÜE F
new
ÜÜF I
CoberturaPolizaE
ÜÜJ Z
(
ÜÜZ [
pCodAtencion
ÜÜ[ g
,
ÜÜg h
wTipoCobertura
ÜÜi w
,
ÜÜw x
$strÜÜy €
,ÜÜ€ 
CoPagoVariableÜÜ‚ 
.ÜÜ ‘
ToStringÜÜ‘ ™
(ÜÜ™ š
)ÜÜš ›
)ÜÜ› œ
)ÜÜœ 
;ÜÜ 
new
İİ 
CoberturaPolizaAD
İİ )
(
İİ) *
)
İİ* +
.
İİ+ ,'
Sp_CoberturaPoliza_Update
İİ, E
(
İİE F
new
İİF I
CoberturaPolizaE
İİJ Z
(
İİZ [
pCodAtencion
İİ[ g
,
İİg h
wTipoCobertura
İİi w
,
İİw x
$strİİy 
,İİ ‚
$strİİƒ ˜
)İİ˜ ™
)İİ™ š
;İİš ›
new
ŞŞ 
CoberturaPolizaAD
ŞŞ )
(
ŞŞ) *
)
ŞŞ* +
.
ŞŞ+ ,'
Sp_CoberturaPoliza_Update
ŞŞ, E
(
ŞŞE F
new
ŞŞF I
CoberturaPolizaE
ŞŞJ Z
(
ŞŞZ [
pCodAtencion
ŞŞ[ g
,
ŞŞg h
wTipoCobertura
ŞŞi w
,
ŞŞw x
$strŞŞy „
,ŞŞ„ …
$strŞŞ† ‰
)ŞŞ‰ Š
)ŞŞŠ ‹
;ŞŞ‹ Œ
}
ßß 
if
ââ 
(
ââ 
CodIAFAS
ââ 
==
ââ 
$str
ââ  '
)
ââ' (
{
ãã 
List
ää 
<
ää 
CoberturaPolizaE
ää )
>
ää) *
oListCobPoliza
ää+ 9
;
ää9 :
var
åå 
oCoberturaPolizaE
åå )
=
åå* +
new
åå, /
CoberturaPolizaE
åå0 @
(
åå@ A
)
ååA B
;
ååB C
oListCobPoliza
ææ "
=
ææ# $
new
ææ% (
CoberturaPolizaAD
ææ) :
(
ææ: ;
)
ææ; <
.
ææ< =3
%Sp_CoberturaPolizaColsanitas_Consulta
ææ= b
(
ææb c
new
ææc f
CoberturaPolizaE
ææg w
(
ææw x
pCodAtencionææx „
,ææ„ …
utilææ† Š
.ææŠ ‹
	Substringææ‹ ”
(ææ” •
CodCoberturaææ• ¡
,ææ¡ ¢
$numææ£ ¤
,ææ¤ ¥
$numææ¦ §
)ææ§ ¨
)ææ¨ ©
)ææ© ª
;ææª «
for
èè 
(
èè 
int
èè 
i
èè 
=
èè  
$num
èè! "
,
èè" #
loopTo
èè$ *
=
èè+ ,
oListCobPoliza
èè- ;
.
èè; <
Count
èè< A
-
èèB C
$num
èèD E
;
èèE F
i
èèG H
<=
èèI K
loopTo
èèL R
;
èèR S
i
èèT U
++
èèU W
)
èèW X
{
éé 
oCoberturaPolizaE
êê )
=
êê* +
new
êê, /
CoberturaPolizaE
êê0 @
(
êê@ A
)
êêA B
;
êêB C
oCoberturaPolizaE
ëë )
=
ëë* +
oListCobPoliza
ëë, :
[
ëë: ;
i
ëë; <
]
ëë< =
;
ëë= >
wTipoCobertura
íí &
=
íí' (
oCoberturaPolizaE
íí) :
.
íí: ;
TipoCobertura
íí; H
;
ííH I
new
îî 
CoberturaPolizaAD
îî -
(
îî- .
)
îî. /
.
îî/ 0'
Sp_CoberturaPoliza_Insert
îî0 I
(
îîI J
new
îîJ M
CoberturaPolizaE
îîN ^
(
îî^ _
pCodAtencion
îî_ k
,
îîk l
wTipoCobertura
îîm {
)
îî{ |
)
îî| }
;
îî} ~
new
ïï 
CoberturaPolizaAD
ïï -
(
ïï- .
)
ïï. /
.
ïï/ 0'
Sp_CoberturaPoliza_Update
ïï0 I
(
ïïI J
new
ïïJ M
CoberturaPolizaE
ïïN ^
(
ïï^ _
pCodAtencion
ïï_ k
,
ïïk l
wTipoCobertura
ïïm {
,
ïï{ |
$strïï} …
,ïï… †!
oCoberturaPolizaEïï‡ ˜
.ïï˜ ™
Nombreïï™ Ÿ
)ïïŸ  
)ïï  ¡
;ïï¡ ¢
new
ğğ 
CoberturaPolizaAD
ğğ -
(
ğğ- .
)
ğğ. /
.
ğğ/ 0'
Sp_CoberturaPoliza_Update
ğğ0 I
(
ğğI J
new
ğğJ M
CoberturaPolizaE
ğğN ^
(
ğğ^ _
pCodAtencion
ğğ_ k
,
ğğk l
wTipoCobertura
ğğm {
,
ğğ{ |
$strğğ} ˆ
,ğğˆ ‰!
oCoberturaPolizaEğğŠ ›
.ğğ› œ
	Tipomontoğğœ ¥
==ğğ¦ ¨
$strğğ© ¬
?ğğ­ ®
$strğğ¯ ²
:ğğ³ ´!
oCoberturaPolizaEğğµ Æ
.ğğÆ Ç
	TipomontoğğÇ Ğ
)ğğĞ Ñ
)ğğÑ Ò
;ğğÒ Ó
new
ññ 
CoberturaPolizaAD
ññ -
(
ññ- .
)
ññ. /
.
ññ/ 0'
Sp_CoberturaPoliza_Update
ññ0 I
(
ññI J
new
ññJ M
CoberturaPolizaE
ññN ^
(
ññ^ _
pCodAtencion
ññ_ k
,
ññk l
wTipoCobertura
ññm {
,
ññ{ |
$strññ} „
,ññ„ …!
oCoberturaPolizaEññ† —
.ññ— ˜
Montoññ˜ 
.ññ 
ToStringññ ¦
(ññ¦ §
)ññ§ ¨
)ññ¨ ©
)ññ© ª
;ññª «
new
òò 
CoberturaPolizaAD
òò -
(
òò- .
)
òò. /
.
òò/ 0'
Sp_CoberturaPoliza_Update
òò0 I
(
òòI J
new
òòJ M
CoberturaPolizaE
òòN ^
(
òò^ _
pCodAtencion
òò_ k
,
òòk l
wTipoCobertura
òòm {
,
òò{ |
$stròò} …
,òò… †!
oCoberturaPolizaEòò‡ ˜
.òò˜ ™
Monedaòò™ Ÿ
)òòŸ  
)òò  ¡
;òò¡ ¢
new
óó 
CoberturaPolizaAD
óó -
(
óó- .
)
óó. /
.
óó/ 0'
Sp_CoberturaPoliza_Update
óó0 I
(
óóI J
new
óóJ M
CoberturaPolizaE
óóN ^
(
óó^ _
pCodAtencion
óó_ k
,
óók l
wTipoCobertura
óóm {
,
óó{ |
$stróó} ‚
,óó‚ ƒ!
oCoberturaPolizaEóó„ •
.óó• –
Igvóó– ™
)óó™ š
)óóš ›
;óó› œ
new
ôô 
CoberturaPolizaAD
ôô -
(
ôô- .
)
ôô. /
.
ôô/ 0'
Sp_CoberturaPoliza_Update
ôô0 I
(
ôôI J
new
ôôJ M
CoberturaPolizaE
ôôN ^
(
ôô^ _
pCodAtencion
ôô_ k
,
ôôk l
wTipoCobertura
ôôm {
,
ôô{ |
$strôô} …
,ôô… †!
oCoberturaPolizaEôô‡ ˜
.ôô˜ ™
Estadoôô™ Ÿ
)ôôŸ  
)ôô  ¡
;ôô¡ ¢
new
õõ 
CoberturaPolizaAD
õõ -
(
õõ- .
)
õõ. /
.
õõ/ 0'
Sp_CoberturaPoliza_Update
õõ0 I
(
õõI J
new
õõJ M
CoberturaPolizaE
õõN ^
(
õõ^ _
pCodAtencion
õõ_ k
,
õõk l
wTipoCobertura
õõm {
,
õõ{ |
$strõõ} ‹
,õõ‹ Œ!
oCoberturaPolizaEõõ 
.õõ Ÿ
CodCoberturaõõŸ «
)õõ« ¬
)õõ¬ ­
;õõ­ ®
new
öö 
CoberturaPolizaAD
öö -
(
öö- .
)
öö. /
.
öö/ 0'
Sp_CoberturaPoliza_Update
öö0 I
(
ööI J
new
ööJ M
CoberturaPolizaE
ööN ^
(
öö^ _
pCodAtencion
öö_ k
,
öök l
wTipoCobertura
ööm {
,
öö{ |
$ströö} ‹
,öö‹ Œ!
oCoberturaPolizaEöö 
.öö Ÿ
CodbeneficioööŸ «
)öö« ¬
)öö¬ ­
;öö­ ®
new
÷÷ 
CoberturaPolizaAD
÷÷ -
(
÷÷- .
)
÷÷. /
.
÷÷/ 0'
Sp_CoberturaPoliza_Update
÷÷0 I
(
÷÷I J
new
÷÷J M
CoberturaPolizaE
÷÷N ^
(
÷÷^ _
pCodAtencion
÷÷_ k
,
÷÷k l
wTipoCobertura
÷÷m {
,
÷÷{ |
$str÷÷} 
,÷÷ ‘#
CodSubTipoCobertura÷÷’ ¥
)÷÷¥ ¦
)÷÷¦ §
;÷÷§ ¨
new
øø 
CoberturaPolizaAD
øø -
(
øø- .
)
øø. /
.
øø/ 0'
Sp_CoberturaPoliza_Update
øø0 I
(
øøI J
new
øøJ M
CoberturaPolizaE
øøN ^
(
øø^ _
pCodAtencion
øø_ k
,
øøk l
wTipoCobertura
øøm {
,
øø{ |
$strøø} ˆ
,øøˆ ‰
$strøøŠ 
)øø 
)øø 
;øø ‘
}
ùù 
}
úú 
}
ûû 
catch
ıı 
(
ıı 
	Exception
ıı 
ex
ıı 
)
ıı  
{
şş 
throw
ÿÿ 
new
ÿÿ 
	Exception
ÿÿ #
(
ÿÿ# $
$str
ÿÿ$ D
+
ÿÿE F
(
ÿÿG H
$char
ÿÿH L
)
ÿÿL M
+
ÿÿN O
ex
ÿÿP R
.
ÿÿR S
ToString
ÿÿS [
(
ÿÿ[ \
)
ÿÿ\ ]
+
ÿÿ^ _
(
ÿÿ` a
$char
ÿÿa e
)
ÿÿe f
+
ÿÿg h
$str
ÿÿi x
+
ÿÿy z
ex
ÿÿ{ }
.
ÿÿ} ~
Sourceÿÿ~ „
+ÿÿ… †
$strÿÿ‡ š
+ÿÿ› œ
exÿÿ Ÿ
.ÿÿŸ  
Messageÿÿ  §
+ÿÿ¨ ©
$strÿÿª ·
+ÿÿ¸ ¹
exÿÿº ¼
.ÿÿ¼ ½
Messageÿÿ½ Ä
)ÿÿÄ Å
;ÿÿÅ Æ
}
€€ 
}
 	
public
…… 
void
…… 
LimpiarVariables
…… $
(
……$ %
)
……% &
{
†† 	 
DscNombresPaciente
‡‡ 
=
‡‡  
$str
‡‡! #
;
‡‡# $
Sexo
ˆˆ 
=
ˆˆ 
$str
ˆˆ 
;
ˆˆ 
FechaNacimiento
‰‰ 
=
‰‰ 
new
‰‰ !
DateTime
‰‰" *
(
‰‰* +
$num
‰‰+ /
,
‰‰/ 0
$num
‰‰1 3
,
‰‰3 4
$num
‰‰5 7
)
‰‰7 8
;
‰‰8 9
CardCode
ŠŠ 
=
ŠŠ 
$str
ŠŠ 
;
ŠŠ 
TipDocumento
‹‹ 
=
‹‹ 
$str
‹‹ 
;
‹‹ 
DocIdentidad
ŒŒ 
=
ŒŒ 
$str
ŒŒ 
;
ŒŒ 
	DscCorreo
 
=
 
$str
 
;
 

CodEmpresa
 
=
 
$str
 
;
 
TipoAtencion
 
=
 
$str
 
;
 
CodSede
 
=
 
$str
 
;
 
	Direccion
‘‘ 
=
‘‘ 
$str
‘‘ 
;
‘‘ 
TipParentesco
’’ 
=
’’ 
$str
’’ 
;
’’ 
CodAtencion
”” 
=
”” 
$str
”” 
;
”” 
CodLiquidacion
•• 
=
•• 
$str
•• 
;
••  
CodPaciente
—— 
=
—— 
$str
—— 
;
—— 
DscNombresTitular
˜˜ 
=
˜˜ 
$str
˜˜  "
;
˜˜" #
	CodMedico
™™ 
=
™™ 
$str
™™ 
;
™™ 
CodEspecialidad
šš 
=
šš 
$str
šš  
;
šš  !
	CodPoliza
›› 
=
›› 
$str
›› 
;
›› 
NumeroPlanPoliza
œœ 
=
œœ 
$str
œœ !
;
œœ! "
CodAseguradora
 
=
 
$str
 
;
  
DscAseguradora
 
=
 
$str
 
;
  
CodCia
ŸŸ 
=
ŸŸ 
$str
ŸŸ 
;
ŸŸ  
CodigoAutorizacion
   
=
    
$str
  ! #
;
  # $
Tarifa
¡¡ 
=
¡¡ 
$str
¡¡ 
;
¡¡ 
Observaciones
¢¢ 
=
¢¢ 
$str
¢¢ 
;
¢¢ 
CodAsegurado
££ 
=
££ 
$str
££ 
;
££ 
TipoAfiliacion
¤¤ 
=
¤¤ 
$str
¤¤ 
;
¤¤  
TipoPago
¥¥ 
=
¥¥ 
$str
¥¥ 
;
¥¥ 
CodCobertura
¦¦ 
=
¦¦ 
$str
¦¦ 
;
¦¦ 

CoPagoFijo
§§ 
=
§§ 
$str
§§ 
;
§§ 
CoPagoVariable
¨¨ 
=
¨¨ 
$str
¨¨  
;
¨¨  !
IdeDatosPagos
©© 
=
©© 
$num
©© 
;
©© 
	TipMoneda
ªª 
=
ªª 
$str
ªª 
;
ªª 
CodNombreEntidad
«« 
=
«« 
$str
«« !
;
««! "

NumEntidad
¬¬ 
=
¬¬ 
$str
¬¬ 
;
¬¬ 
EstConsultaMedica
­­ 
=
­­ 
$str
­­  #
;
­­# $
CodPresotor
¯¯ 
=
¯¯ 
$str
¯¯ 
;
¯¯ $
CorrelativoSerieBoleta
°° "
=
°°# $
$str
°°% '
;
°°' (%
CorrelativoSerieFactura
±± #
=
±±$ %
$str
±±& (
;
±±( )/
!CorrelativoSerieNotaCreditoBoleta
²² -
=
²². /
$str
²²0 2
;
²²2 3
FlgElectronico
³³ 
=
³³ 
false
³³ "
;
³³" #
FlgGenerarE
´´ 
=
´´ 
false
´´ 
;
´´  
FlgOtorgarBoleta
µµ 
=
µµ 
$str
µµ &
;
µµ& '
FlgOtorgarFactura
¶¶ 
=
¶¶ 
$str
¶¶  '
;
¶¶' (#
FlgOtorgarNotaCredito
·· !
=
··" #
$str
··$ +
;
··+ ,!
CodSubTipoCobertura
¹¹ 
=
¹¹  !
$str
¹¹" $
;
¹¹$ %
LineasCoberturas
ºº 
=
ºº 
$str
ºº !
;
ºº! " 
EstProcesoAtencion
»» 
=
»»  
$num
»»! "
;
»»" #
}
¼¼ 	
public
ÃÃ 
bool
ÃÃ 
CrearPagoaCuenta
ÃÃ $
(
ÃÃ$ %
string
ÃÃ% +
pCodAtencion
ÃÃ, 8
,
ÃÃ8 9
double
ÃÃ: @
pMontoTotal
ÃÃA L
,
ÃÃL M
ref
ÃÃN Q
string
ÃÃR X
pCodLiquidacion
ÃÃY h
)
ÃÃh i
{
ÄÄ 	
var
ÅÅ 
objPresotorE
ÅÅ 
=
ÅÅ 
new
ÅÅ "
	PresotorE
ÅÅ# ,
(
ÅÅ, -
)
ÅÅ- .
;
ÅÅ. /
var
ÆÆ 
objLiquidacionE
ÆÆ 
=
ÆÆ  !
new
ÆÆ" %
LiquidacionesE
ÆÆ& 4
(
ÆÆ4 5
)
ÆÆ5 6
;
ÆÆ6 7
var
ÇÇ !
objPagosaCuentaMovE
ÇÇ #
=
ÇÇ$ %
new
ÇÇ& )
PagosaCuentaMovE
ÇÇ* :
(
ÇÇ: ;
)
ÇÇ; <
;
ÇÇ< =
bool
ÉÉ 
xResult
ÉÉ 
=
ÉÉ 
false
ÉÉ  
;
ÉÉ  !
string
ÊÊ 
xCodLiquidacion
ÊÊ "
=
ÊÊ# $
$str
ÊÊ% '
;
ÊÊ' (
double
ËË 
MontoSubTotal
ËË  
=
ËË! "
$num
ËË# %
;
ËË% &
MontoSubTotal
ÍÍ 
=
ÍÍ 
CalcularSubTotal
ÍÍ ,
(
ÍÍ, -
pMontoTotal
ÍÍ- 8
)
ÍÍ8 9
;
ÍÍ9 :
using
ÏÏ 
(
ÏÏ 
var
ÏÏ 
Trans
ÏÏ 
=
ÏÏ 
new
ÏÏ "
TransactionScope
ÏÏ# 3
(
ÏÏ3 4
)
ÏÏ4 5
)
ÏÏ5 6
{
ĞĞ 
try
ÑÑ 
{
ÒÒ 
objPresotorE
ÓÓ  
=
ÓÓ! "
new
ÓÓ# &
	PresotorE
ÓÓ' 0
(
ÓÓ0 1
pCodAtencion
ÓÓ1 =
,
ÓÓ= >
MontoSubTotal
ÓÓ? L
,
ÓÓL M
util
ÓÓN R
.
ÓÓR S
ValInt
ÓÓS Y
(
ÓÓY Z
CodUser
ÓÓZ a
)
ÓÓa b
,
ÓÓb c
CodPresotor
ÓÓd o
)
ÓÓo p
;
ÓÓp q
if
ÔÔ 
(
ÔÔ 
new
ÔÔ 

PresotorAD
ÔÔ &
(
ÔÔ& '
)
ÔÔ' (
.
ÔÔ( )$
Sp_PresotorPago_Insert
ÔÔ) ?
(
ÔÔ? @
objPresotorE
ÔÔ@ L
)
ÔÔL M
==
ÔÔN P
true
ÔÔQ U
)
ÔÔU V
{
ÕÕ 
CodPresotor
ÖÖ #
=
ÖÖ$ %
objPresotorE
ÖÖ& 2
.
ÖÖ2 3
CodPresotor
ÖÖ3 >
;
ÖÖ> ?
objLiquidacionE
ØØ '
=
ØØ( )
new
ØØ* -
LiquidacionesE
ØØ. <
(
ØØ< =
pCodAtencion
ØØ= I
,
ØØI J
$str
ØØK M
,
ØØM N
$str
ØØO R
,
ØØR S
$num
ØØT U
,
ØØU V
xCodLiquidacion
ØØW f
)
ØØf g
;
ØØg h
if
ÙÙ 
(
ÙÙ 
new
ÙÙ 
LiquidacionesAD
ÙÙ  /
(
ÙÙ/ 0
)
ÙÙ0 1
.
ÙÙ1 2%
Sp_Liquidaciones_Insert
ÙÙ2 I
(
ÙÙI J
objLiquidacionE
ÙÙJ Y
)
ÙÙY Z
==
ÙÙ[ ]
true
ÙÙ^ b
)
ÙÙb c
{
ÚÚ 
xCodLiquidacion
ÛÛ +
=
ÛÛ, -
objLiquidacionE
ÛÛ. =
.
ÛÛ= >
CodLiquidacion
ÛÛ> L
;
ÛÛL M
pCodLiquidacion
ÜÜ +
=
ÜÜ, -
xCodLiquidacion
ÜÜ. =
;
ÜÜ= >
new
ŞŞ 
LiquidacionesAD
ŞŞ  /
(
ŞŞ/ 0
)
ŞŞ0 1
.
ŞŞ1 2%
Sp_Liquidaciones_Insert
ŞŞ2 I
(
ŞŞI J
new
ŞŞJ M
LiquidacionesE
ŞŞN \
(
ŞŞ\ ]
pCodAtencion
ŞŞ] i
,
ŞŞi j
util
ŞŞk o
.
ŞŞo p
Mid
ŞŞp s
(
ŞŞs t
CodPresotor
ŞŞt 
,ŞŞ €
$numŞŞ ‚
)ŞŞ‚ ƒ
,ŞŞƒ „
$strŞŞ… ˆ
,ŞŞˆ ‰
$numŞŞŠ ‹
,ŞŞ‹ Œ
xCodLiquidacionŞŞ œ
)ŞŞœ 
)ŞŞ 
;ŞŞ Ÿ!
objPagosaCuentaMovE
àà /
=
àà0 1
new
àà2 5
PagosaCuentaMovE
àà6 F
(
ààF G
$str
ààG K
,
ààK L
MontoSubTotal
ààM Z
,
ààZ [
CodPresotor
àà\ g
)
ààg h
;
ààh i
new
áá 
PagosacuentaMovAD
áá  1
(
áá1 2
)
áá2 3
.
áá3 4&
Sp_PagoaCuentaMov_Insert
áá4 L
(
ááL M!
objPagosaCuentaMovE
ááM `
)
áá` a
;
ááa b
objLiquidacionE
ãã +
=
ãã, -
new
ãã. 1
LiquidacionesE
ãã2 @
(
ãã@ A
pCodAtencion
ããA M
,
ããM N
$str
ããO R
,
ããR S
xCodLiquidacion
ããT c
)
ããc d
;
ããd e
new
ää 
LiquidacionesAD
ää  /
(
ää/ 0
)
ää0 1
.
ää1 2.
 Sp_LiquidacionesRecalculo_Update
ää2 R
(
ääR S
objLiquidacionE
ääS b
)
ääb c
;
ääc d
xResult
ææ #
=
ææ$ %
true
ææ& *
;
ææ* +
}
çç 
}
èè 
Trans
êê 
.
êê 
Complete
êê "
(
êê" #
)
êê# $
;
êê$ %
}
ëë 
catch
ìì 
(
ìì 
	Exception
ìì  
ex
ìì! #
)
ìì# $
{
íí 
Trans
îî 
.
îî 
Dispose
îî !
(
îî! "
)
îî" #
;
îî# $
xResult
ïï 
=
ïï 
false
ïï #
;
ïï# $
}
ğğ 
}
ññ 
return
óó 
xResult
óó 
;
óó 
}
ôô 	
private
öö 
double
öö 
CalcularSubTotal
öö '
(
öö' (
double
öö( .
pMontoTotal
öö/ :
)
öö: ;
{
÷÷ 	
double
øø 
wIGV
øø 
;
øø 
double
ùù 
vIgv
ùù 
;
ùù 
var
úú 
STotal
úú 
=
úú 
default
úú  
(
úú  !
double
úú! '
)
úú' (
;
úú( )
double
ûû 
wTotal
ûû 
;
ûû 
if
üü 
(
üü 
!
üü 
string
üü 
.
üü 
IsNullOrEmpty
üü %
(
üü% &
(
üü& '
pMontoTotal
üü' 2
.
üü2 3
ToString
üü3 ;
(
üü; <
)
üü< =
)
üü= >
)
üü> ?
)
üü? @
{
ıı 
wTotal
şş 
=
şş 
pMontoTotal
şş $
;
şş$ %
wIGV
ÿÿ 
=
ÿÿ 
IGV
ÿÿ 
/
ÿÿ 
$num
ÿÿ  
+
ÿÿ! "
$num
ÿÿ# $
;
ÿÿ$ %
if
€€ 
(
€€ 
wTotal
€€ 
>
€€ 
$num
€€ 
)
€€  
{
 
STotal
ƒƒ 
=
ƒƒ 
wTotal
ƒƒ #
/
ƒƒ$ %
wIGV
ƒƒ& *
;
ƒƒ* +
vIgv
…… 
=
…… 
Math
…… 
.
……  
Round
……  %
(
……% &
wTotal
……& ,
-
……- .
STotal
……/ 5
,
……5 6
$num
……7 8
)
……8 9
;
……9 :
wIGV
‡‡ 
=
‡‡ 
Math
‡‡ 
.
‡‡  
Round
‡‡  %
(
‡‡% &
vIgv
‡‡& *
,
‡‡* +
$num
‡‡, -
)
‡‡- .
;
‡‡. /
}
ˆˆ 
}
‰‰ 
return
ŠŠ 
STotal
ŠŠ 
;
ŠŠ 
}
‹‹ 	
public
 
string
 )
GenerarComprobante_Alquiler
 1
(
1 2
ComprobantesE
2 ?
pComprobantesE
@ N
,
N O
string
P V
?
V W
pPCHostname
X c
)
c d
{
‘‘ 	
var
’’ 
objComprobanteE
’’ 
=
’’  !
new
’’" %
ComprobantesE
’’& 3
(
’’3 4
)
’’4 5
;
’’5 6
bool
““ 
xResult
““ 
=
““ 
false
““  
;
““  !
string
”” '
xTipoDocumentoComprobante
”” ,
;
””, -
string
•• 
wOtorgarTci
•• 
=
••  
$str
••! #
;
••# $
string
–– 
wTipoImpresion
–– !
=
––" #
$str
––$ &
;
––& '
bool
—— 
wChkGratuito
—— 
=
—— 
false
——  %
;
——% &
string
˜˜ 
ExisteComprobante
˜˜ $
=
˜˜% &
$str
˜˜' )
;
˜˜) *
string
™™ 
EstadoLiquidacion
™™ $
=
™™% &
$str
™™' )
;
™™) *
string
šš 
TipoDocumentoComp
šš $
=
šš% &
$str
šš' )
;
šš) *
var
œœ 
xResultadox
œœ 
=
œœ 
new
œœ !%
RespuestaComprobanteTCI
œœ" 9
(
œœ9 :
)
œœ: ;
;
œœ; <
do
 
{
ŸŸ 
try
   
{
¡¡ 
var
¦¦ 
oListLiq
¦¦  
=
¦¦! "
new
¦¦# &
List
¦¦' +
<
¦¦+ ,
LiquidacionesE
¦¦, :
>
¦¦: ;
(
¦¦; <
)
¦¦< =
;
¦¦= >
oListLiq
§§ 
=
§§ 
new
§§ "
LiquidacionesAD
§§# 2
(
§§2 3
)
§§3 4
.
§§4 5'
Sp_Liquidaciones_Consulta
§§5 N
(
§§N O
new
§§O R
LiquidacionesE
§§S a
(
§§a b
pComprobantesE
§§b p
.
§§p q
CodLiquidacion
§§q 
)§§ €
)§§€ 
;§§ ‚
if
¨¨ 
(
¨¨ 
oListLiq
¨¨  
.
¨¨  !
Count
¨¨! &
>=
¨¨' )
$num
¨¨* +
)
¨¨+ ,
{
©© 
wTipoImpresion
ªª &
=
ªª' (
oListLiq
ªª) 1
[
ªª1 2
$num
ªª2 3
]
ªª3 4
.
ªª4 5
Tipoimpresion
ªª5 B
==
ªªC E
$str
ªªF H
?
ªªI J
$str
ªªK N
:
ªªO P
oListLiq
ªªQ Y
[
ªªY Z
$num
ªªZ [
]
ªª[ \
.
ªª\ ]
Tipoimpresion
ªª] j
;
ªªj k
wChkGratuito
«« $
=
««% &
oListLiq
««' /
[
««/ 0
$num
««0 1
]
««1 2
.
««2 3
FlgGratuito
««3 >
;
««> ?
ExisteComprobante
¬¬ )
=
¬¬* +
oListLiq
¬¬, 4
[
¬¬4 5
$num
¬¬5 6
]
¬¬6 7
.
¬¬7 8
Codcomprobante
¬¬8 F
;
¬¬F G
EstadoLiquidacion
­­ )
=
­­* +
oListLiq
­­, 4
[
­­4 5
$num
­­5 6
]
­­6 7
.
­­7 8
Estado
­­8 >
;
­­> ?
CodComprobante
®® &
=
®®' (
oListLiq
®®) 1
[
®®1 2
$num
®®2 3
]
®®3 4
.
®®4 5
Codcomprobante
®®5 C
;
®®C D
if
°° 
(
°° 
!
°° 
string
°° #
.
°°# $
IsNullOrEmpty
°°$ 1
(
°°1 2
ExisteComprobante
°°2 C
)
°°C D
)
°°D E
throw
±± !
new
±±" %
	Exception
±±& /
(
±±/ 0
$str
±±0 ^
+
±±_ `
pComprobantesE
±±a o
.
±±o p
CodLiquidacion
±±p ~
)
±±~ 
;±± €
if
²² 
(
²² 
string
²² "
.
²²" #
IsNullOrEmpty
²²# 0
(
²²0 1
EstadoLiquidacion
²²1 B
)
²²B C
|
²²D E
EstadoLiquidacion
²²F W
!=
²²X Z
$str
²²[ ^
)
²²^ _
throw
³³ !
new
³³" %
	Exception
³³& /
(
³³/ 0
$str
³³0 X
+
³³Y Z
EstadoLiquidacion
³³[ l
+
³³m n
$str
³³o w
+
³³x y
pComprobantesE³³z ˆ
.³³ˆ ‰
CodLiquidacion³³‰ —
)³³— ˜
;³³˜ ™
if
µµ 
(
µµ 
oListLiq
µµ $
[
µµ$ %
$num
µµ% &
]
µµ& '
.
µµ' (
Pagagnc
µµ( /
==
µµ0 2
$str
µµ3 6
)
µµ6 7
{
¶¶ 
new
¶¶ 
LiquidacionesAD
¶¶ -
(
¶¶- .
)
¶¶. /
.
¶¶/ 0%
Sp_Liquidaciones_Update
¶¶0 G
(
¶¶G H
new
¶¶H K
LiquidacionesE
¶¶L Z
(
¶¶Z [
pComprobantesE
¶¶[ i
.
¶¶i j
CodLiquidacion
¶¶j x
,
¶¶x y
$str
¶¶z |
,
¶¶| }
$str¶¶~ €
,¶¶€ 
$str¶¶‚ „
,¶¶„ …
$num¶¶† ‡
,¶¶‡ ˆ
$str¶¶‰ ’
,¶¶’ “
$str¶¶” —
)¶¶— ˜
)¶¶˜ ™
;¶¶™ š
}¶¶› œ
}
·· 
string
ºº 
TipoCompTCI
ºº &
=
ºº' (
$str
ºº) +
;
ºº+ ,-
CargarIniFacturacionElectronica
»» 3
(
»»3 4
pComprobantesE
»»4 B
.
»»B C
TipoComprobante
»»C R
,
»»R S
ref
»»T W
TipoCompTCI
»»X c
)
»»c d
;
»»d e
using
½½ 
(
½½ 
var
½½ 
Trans
½½ $
=
½½% &
new
½½' *
TransactionScope
½½+ ;
(
½½; <
)
½½< =
)
½½= >
{
¾¾ 
objComprobanteE
¿¿ '
=
¿¿( )
pComprobantesE
¿¿* 8
;
¿¿8 9
new
ÀÀ 
ComprobantesAD
ÀÀ *
(
ÀÀ* +
)
ÀÀ+ ,
.
ÀÀ, -4
&Sp_ComprobanteManual_EFACT_Insert_Host
ÀÀ- S
(
ÀÀS T
ref
ÀÀT W
objComprobanteE
ÀÀX g
,
ÀÀg h
pPCHostname
ÀÀi t
)
ÀÀt u
;
ÀÀu v
if
ÂÂ 
(
ÂÂ 
objComprobanteE
ÂÂ +
.
ÂÂ+ ,
CodComprobante
ÂÂ, :
==
ÂÂ; =
$str
ÂÂ> @
)
ÂÂ@ A
{
ÃÃ 
Trans
ÄÄ !
.
ÄÄ! "
Dispose
ÄÄ" )
(
ÄÄ) *
)
ÄÄ* +
;
ÄÄ+ ,
return
ÅÅ "
objComprobanteE
ÅÅ# 2
.
ÅÅ2 3
CodComprobante
ÅÅ3 A
;
ÅÅA B
}
ÆÆ 
else
ÇÇ 
{
ÈÈ 
CodComprobante
ÉÉ *
=
ÉÉ+ ,
objComprobanteE
ÉÉ- <
.
ÉÉ< =
CodComprobante
ÉÉ= K
;
ÉÉK L'
xTipoDocumentoComprobante
ÊÊ 5
=
ÊÊ6 7
util
ÊÊ8 <
.
ÊÊ< =
Left
ÊÊ= A
(
ÊÊA B
CodComprobante
ÊÊB P
,
ÊÊP Q
$num
ÊÊR S
)
ÊÊS T
;
ÊÊT U
var
ËË 

flgOtorgar
ËË  *
=
ËË+ ,
new
ËË- 0
Serie
ËË1 6
(
ËË6 7
)
ËË7 8
.
ËË8 9
Sp_Serie_Consulta
ËË9 J
(
ËËJ K
new
ËËK N
SerieE
ËËO U
(
ËËU V
CodComprobante
ËËV d
,
ËËd e
$num
ËËf g
,
ËËg h
$num
ËËi j
)
ËËj k
)
ËËk l
.
ËËl m
Select
ËËm s
(
ËËs t
serie
ËËt y
=>
ËËz |
serieËË} ‚
.ËË‚ ƒ

FlgOtorgarËËƒ 
)ËË 
.ËË 
FirstOrDefaultËË 
(ËË 
)ËË Ÿ
.ËËŸ  
ToStringËË  ¨
(ËË¨ ©
)ËË© ª
;ËËª «
if
ÎÎ 
(
ÎÎ  '
xTipoDocumentoComprobante
ÎÎ  9
==
ÎÎ: <
$str
ÎÎ= @
)
ÎÎ@ A
{
ÏÏ 
FlgOtorgarBoleta
ÏÏ .
=
ÏÏ/ 0

flgOtorgar
ÏÏ1 ;
;
ÏÏ; <
}
ÏÏ= >
else
ĞĞ  
if
ĞĞ! #
(
ĞĞ$ %'
xTipoDocumentoComprobante
ĞĞ% >
==
ĞĞ? A
$str
ĞĞB E
)
ĞĞE F
{
ÑÑ 
FlgOtorgarFactura
ÑÑ /
=
ÑÑ0 1

flgOtorgar
ÑÑ2 <
;
ÑÑ< =
}
ÑÑ> ?
wOtorgarTci
ÔÔ '
=
ÔÔ( )'
xTipoDocumentoComprobante
ÔÔ* C
==
ÔÔD F
$str
ÔÔG J
?
ÔÔK L
FlgOtorgarBoleta
ÔÔM ]
:
ÔÔ^ _
FlgOtorgarFactura
ÔÔ` q
;
ÔÔq r
new
ÖÖ 
ComprobantesAD
ÖÖ  .
(
ÖÖ. /
)
ÖÖ/ 0
.
ÖÖ0 1#
Sp_Comprobante_Update
ÖÖ1 F
(
ÖÖF G
new
ÖÖG J
ComprobantesE
ÖÖK X
(
ÖÖX Y
CodComprobante
ÖÖY g
,
ÖÖg h
$str
ÖÖi {
,
ÖÖ{ |

CodEmpresaÖÖ} ‡
,ÖÖ‡ ˆ
pComprobantesEÖÖ‰ —
.ÖÖ— ˜ 
CodmedicoterceroÖÖ˜ ¨
)ÖÖ¨ ©
)ÖÖ© ª
;ÖÖª «
new
×× 
ComprobantesAD
××  .
(
××. /
)
××/ 0
.
××0 1#
Sp_Comprobante_Update
××1 F
(
××F G
new
××G J
ComprobantesE
××K X
(
××X Y
CodComprobante
××Y g
,
××g h
$str
××i w
,
××w x

CodEmpresa××y ƒ
,××ƒ „
wChkGratuito××… ‘
.××‘ ’
ToString××’ š
(××š ›
)××› œ
)××œ 
)×× 
;×× Ÿ
new
ØØ 
ComprobantesAD
ØØ  .
(
ØØ. /
)
ØØ/ 0
.
ØØ0 1#
Sp_Comprobante_Update
ØØ1 F
(
ØØF G
new
ØØG J
ComprobantesE
ØØK X
(
ØØX Y
CodComprobante
ØØY g
,
ØØg h
$str
ØØi v
,
ØØv w

CodEmpresaØØx ‚
,ØØ‚ ƒ
$strØØ„ ‡
)ØØ‡ ˆ
)ØØˆ ‰
;ØØ‰ Š
new
ÙÙ 
ComprobantesAD
ÙÙ  .
(
ÙÙ. /
)
ÙÙ/ 0
.
ÙÙ0 1#
Sp_Comprobante_Update
ÙÙ1 F
(
ÙÙF G
new
ÙÙG J
ComprobantesE
ÙÙK X
(
ÙÙX Y
CodComprobante
ÙÙY g
,
ÙÙg h
$str
ÙÙi y
,
ÙÙy z

CodEmpresaÙÙ{ …
,ÙÙ… †
pComprobantesEÙÙ‡ •
.ÙÙ• –
CodTipoFacturaÙÙ– ¤
)ÙÙ¤ ¥
)ÙÙ¥ ¦
;ÙÙ¦ §
new
ÚÚ 
ComprobantesAD
ÚÚ  .
(
ÚÚ. /
)
ÚÚ/ 0
.
ÚÚ0 1#
Sp_Comprobante_Update
ÚÚ1 F
(
ÚÚF G
new
ÚÚG J
ComprobantesE
ÚÚK X
(
ÚÚX Y
CodComprobante
ÚÚY g
,
ÚÚg h
$str
ÚÚi v
,
ÚÚv w

CodEmpresaÚÚx ‚
,ÚÚ‚ ƒ
pComprobantesEÚÚ„ ’
.ÚÚ’ “
ConceptoÚÚ“ ›
)ÚÚ› œ
)ÚÚœ 
;ÚÚ 
new
ÛÛ 
ComprobantesAD
ÛÛ  .
(
ÛÛ. /
)
ÛÛ/ 0
.
ÛÛ0 1#
Sp_Comprobante_Update
ÛÛ1 F
(
ÛÛF G
new
ÛÛG J
ComprobantesE
ÛÛK X
(
ÛÛX Y
CodComprobante
ÛÛY g
,
ÛÛg h
$str
ÛÛi u
,
ÛÛu v

CodEmpresaÛÛw 
,ÛÛ ‚
$strÛÛƒ …
)ÛÛ… †
)ÛÛ† ‡
;ÛÛ‡ ˆ
if
İİ 
(
İİ  
pComprobantesE
İİ  .
.
İİ. /
Tipdocidentidad
İİ/ >
==
İİ? A
$str
İİB E
)
İİE F
{
ŞŞ 
new
ßß  #
ComprobantesAD
ßß$ 2
(
ßß2 3
)
ßß3 4
.
ßß4 5#
Sp_Comprobante_Update
ßß5 J
(
ßßJ K
new
ßßK N
ComprobantesE
ßßO \
(
ßß\ ]
CodComprobante
ßß] k
,
ßßk l
$str
ßßm ~
,
ßß~ 

CodEmpresaßß€ Š
,ßßŠ ‹
pComprobantesEßßŒ š
.ßßš ›
Tipdocidentidadßß› ª
)ßßª «
)ßß« ¬
;ßß¬ ­
new
àà  #
ComprobantesAD
àà$ 2
(
àà2 3
)
àà3 4
.
àà4 5#
Sp_Comprobante_Update
àà5 J
(
ààJ K
new
ààK N
ComprobantesE
ààO \
(
àà\ ]
CodComprobante
àà] k
,
ààk l
$str
ààm {
,
àà{ |

CodEmpresaàà} ‡
,àà‡ ˆ
pComprobantesEàà‰ —
.àà— ˜
Docidentidadàà˜ ¤
)àà¤ ¥
)àà¥ ¦
;àà¦ §
}
áá 
new
ââ 
ComprobantesAD
ââ  .
(
ââ. /
)
ââ/ 0
.
ââ0 1#
Sp_Comprobante_Update
ââ1 F
(
ââF G
new
ââG J
ComprobantesE
ââK X
(
ââX Y
CodComprobante
ââY g
,
ââg h
$str
ââi s
,
ââs t

CodEmpresa
ââu 
,ââ €
pComprobantesEââ 
.ââ 
Cardcodeââ ˜
)ââ˜ ™
)ââ™ š
;ââš ›
byte
ää  
[
ää  !
]
ää! "
miBytevacio
ää# .
=
ää/ 0
{
ää1 2
}
ää3 4
;
ää4 5
new
åå (
ComprobantesElectronicosAD
åå  :
(
åå: ;
)
åå; <
.
åå< =0
"Sp_ComprobantesElectronicos_Update
åå= _
(
åå_ `
new
åå` c'
ComprobantesElectronicosE
ååd }
(
åå} ~
CodComprobanteåå~ Œ
,ååŒ 
$stråå –
,åå– —
pComprobantesEåå˜ ¦
.åå¦ §
EmailMedicoåå§ ²
,åå² ³
$stråå´ ¶
,åå¶ ·
miBytevacioåå¸ Ã
)ååÃ Ä
)ååÄ Å
;ååÅ Æ
new
ææ (
ComprobantesElectronicosAD
ææ  :
(
ææ: ;
)
ææ; <
.
ææ< =0
"Sp_ComprobantesElectronicos_Update
ææ= _
(
ææ_ `
new
ææ` c'
ComprobantesElectronicosE
ææd }
(
ææ} ~
CodComprobanteææ~ Œ
,ææŒ 
$strææ ¡
,ææ¡ ¢
$strææ£ ¥
,ææ¥ ¦
$strææ§ ©
,ææ© ª
miBytevacioææ« ¶
)ææ¶ ·
)ææ· ¸
;ææ¸ ¹
if
èè 
(
èè  
$num
èè  !
==
èè" $
$num
èè% &
)
èè& '
{
éé 
if
êê  "
(
êê# $
xEnviarASunat
êê$ 1
!=
êê2 4
$str
êê5 8
&
êê9 :
xEnviarASunat
êê; H
!=
êêI K
$str
êêL O
)
êêO P
{
ëë  !
Trans
ìì$ )
.
ìì) *
Dispose
ìì* 1
(
ìì1 2
)
ìì2 3
;
ìì3 4
return
íí$ *
objComprobanteE
íí+ :
.
íí: ;
CodComprobante
íí; I
;
ííI J
throw
îî$ )
new
îî* -
	Exception
îî. 7
(
îî7 8
$str
îî8 i
)
îîi j
;
îîj k
break
ïï$ )
;
ïï) *
}
ğğ  !
if
òò  "
(
òò# $
util
òò$ (
.
òò( )
Left
òò) -
(
òò- .
CodComprobante
òò. <
,
òò< =
$num
òò> ?
)
òò? @
==
òòA C
$str
òòD G
)
òòG H
{
óó  !
xResultadox
ôô$ /
=
ôô0 1"
EnviarComprobanteTCI
ôô2 F
(
ôôF G
TipoDocumento
ôôG T
.
ôôT U
Boleta
ôôU [
,
ôô[ \
wOtorgarTci
ôô] h
,
ôôh i
CodComprobante
ôôj x
,
ôôx y
xEnviarASunatôôz ‡
,ôô‡ ˆ
$strôô‰ Œ
)ôôŒ 
;ôô 
}
õõ  !
else
öö  $
if
öö% '
(
öö( )
util
öö) -
.
öö- .
Left
öö. 2
(
öö2 3
CodComprobante
öö3 A
,
ööA B
$num
ööC D
)
ööD E
==
ööF H
$str
ööI L
)
ööL M
{
÷÷  !
xResultadox
øø$ /
=
øø0 1"
EnviarComprobanteTCI
øø2 F
(
øøF G
TipoDocumento
øøG T
.
øøT U
Factura
øøU \
,
øø\ ]
wOtorgarTci
øø^ i
,
øøi j
CodComprobante
øøk y
,
øøy z
xEnviarASunatøø{ ˆ
,øøˆ ‰
$strøøŠ 
)øø 
;øø 
}
ùù  !
if
ûû  "
(
ûû# $
xResultadox
ûû$ /
.
ûû/ 0!
ErroresComprobantes
ûû0 C
==
ûûD F$
ErroresComprobantesTCI
ûûG ]
.
ûû] ^
Correcto
ûû^ f
)
ûûf g
{
üü  !
Trans
ıı$ )
.
ıı) *
Complete
ıı* 2
(
ıı2 3
)
ıı3 4
;
ıı4 5
}
şş  !
else
ÿÿ  $
{
€€  !
CodComprobante
$ 2
=
3 4
$str
5 7
;
7 8
Trans
‚‚$ )
.
‚‚) *
Dispose
‚‚* 1
(
‚‚1 2
)
‚‚2 3
;
‚‚3 4
}
ƒƒ  !
}
„„ 
}
…… 
}
†† 
if
‡‡ 
(
‡‡ 
xResultadox
‡‡ #
.
‡‡# $!
ErroresComprobantes
‡‡$ 7
==
‡‡8 :$
ErroresComprobantesTCI
‡‡; Q
.
‡‡Q R
Correcto
‡‡R Z
)
‡‡Z [
{
ˆˆ 
byte
‰‰ 
[
‰‰ 
]
‰‰ 
miBytevacio
‰‰ *
=
‰‰+ ,
{
‰‰- .
}
‰‰/ 0
;
‰‰0 1
;
‰‰2 3
new
ŠŠ (
ComprobantesElectronicosAD
ŠŠ 6
(
ŠŠ6 7
)
ŠŠ7 8
.
ŠŠ8 90
"Sp_ComprobantesElectronicos_Update
ŠŠ9 [
(
ŠŠ[ \
new
ŠŠ\ _'
ComprobantesElectronicosE
ŠŠ` y
(
ŠŠy z
CodComprobanteŠŠz ˆ
,ŠŠˆ ‰
$strŠŠŠ Ÿ
,ŠŠŸ  
$strŠŠ¡ £
,ŠŠ£ ¤
$strŠŠ¥ §
,ŠŠ§ ¨
miBytevacioŠŠ© ´
)ŠŠ´ µ
)ŠŠµ ¶
;ŠŠ¶ ·
new
‹‹ (
ComprobantesElectronicosAD
‹‹ 6
(
‹‹6 7
)
‹‹7 8
.
‹‹8 90
"Sp_ComprobantesElectronicos_Update
‹‹9 [
(
‹‹[ \
new
‹‹\ _'
ComprobantesElectronicosE
‹‹` y
(
‹‹y z
CodComprobante‹‹z ˆ
,‹‹ˆ ‰
$str‹‹Š 
,‹‹ 
wOtorgarTci‹‹Ÿ ª
,‹‹ª «
$str‹‹¬ ®
,‹‹® ¯
miBytevacio‹‹° »
)‹‹» ¼
)‹‹¼ ½
;‹‹½ ¾
new
ŒŒ (
ComprobantesElectronicosAD
ŒŒ 6
(
ŒŒ6 7
)
ŒŒ7 8
.
ŒŒ8 90
"Sp_ComprobantesElectronicos_Update
ŒŒ9 [
(
ŒŒ[ \
new
ŒŒ\ _'
ComprobantesElectronicosE
ŒŒ` y
(
ŒŒy z
CodComprobanteŒŒz ˆ
,ŒŒˆ ‰
$strŒŒŠ ˜
,ŒŒ˜ ™
$strŒŒš œ
,ŒŒœ 
xResultadoxŒŒ ©
.ŒŒ© ª
RespuestaXMLŒŒª ¶
,ŒŒ¶ ·
miBytevacioŒŒ¸ Ã
)ŒŒÃ Ä
)ŒŒÄ Å
;ŒŒÅ Æ
new
 (
ComprobantesElectronicosAD
 6
(
6 7
)
7 8
.
8 90
"Sp_ComprobantesElectronicos_Update
9 [
(
[ \
new
\ _'
ComprobantesElectronicosE
` y
(
y z
CodComprobantez ˆ
,ˆ ‰
$strŠ  
,  ¡
$str¢ ­
,­ ®
$str¯ ±
,± ²
miBytevacio³ ¾
)¾ ¿
)¿ À
;À Á
new
 (
ComprobantesElectronicosAD
 6
(
6 7
)
7 8
.
8 90
"Sp_ComprobantesElectronicos_Update
9 [
(
[ \
new
\ _'
ComprobantesElectronicosE
` y
(
y z
CodComprobantez ˆ
,ˆ ‰
$strŠ —
,— ˜
$str™ ›
,› œ
$str Ÿ
,Ÿ  
xResultadox¡ ¬
.¬ ­
CodigoBarra­ ¸
)¸ ¹
)¹ º
;º »
xResult
‘‘ 
=
‘‘  !
true
‘‘" &
;
‘‘& '
}
’’ 
else
““ 
{
”” 
throw
•• 
new
•• !
	Exception
••" +
(
••+ ,
$str
••, =
+
••> ?
CodAtencion
••@ K
+
••L M
$str
••N d
+
••e f
CodPaciente
••g r
+
••s t
$str••u ‹
+••Œ 
xResultadox•• ™
.••™ š#
ErroresComprobantes••š ­
.••­ ®
ToString••® ¶
(••¶ ·
)••· ¸
)••¸ ¹
;••¹ º
}
–– 
}
—— 
catch
˜˜ 
(
˜˜ 
	Exception
˜˜  
ex
˜˜! #
)
˜˜# $
{
™™ 
CodComprobante
šš "
=
šš# $
$str
šš% '
;
šš' (
throw
›› 
new
›› 
	Exception
›› '
(
››' (
$str
››( <
+
››= >
CodComprobante
››? M
+
››N O
$str
››P W
+
››X Y
ex
››Z \
.
››\ ]
ToString
››] e
(
››e f
)
››f g
)
››g h
;
››h i
}
œœ 
}
 
while
 
(
 
false
 
)
 
;
 
return
   
objComprobanteE
   "
.
  " #
CodComprobante
  # 1
;
  1 2
}
¡¡ 	
public
¥¥ 
bool
¥¥  
GenerarComprobante
¥¥ &
(
¥¥& '
string
¥¥' -
pTipoComprobante
¥¥. >
,
¥¥> ?
string
¥¥@ F
pCodLiquidacion
¥¥G V
,
¥¥V W
string
¥¥X ^
pMonto
¥¥_ e
,
¥¥e f
string
¥¥g m
pMoneda
¥¥n u
)
¥¥u v
{
¦¦ 	
var
§§ 
objComprobanteE
§§ 
=
§§  !
new
§§" %
ComprobantesE
§§& 3
(
§§3 4
)
§§4 5
;
§§5 6
bool
¨¨ 
xResult
¨¨ 
=
¨¨ 
false
¨¨  
;
¨¨  !
string
©© '
xTipoDocumentoComprobante
©© ,
;
©©, -
string
ªª 
wOtorgarTci
ªª 
=
ªª  
$str
ªª! #
;
ªª# $
string
«« 
wTipoImpresion
«« !
=
««" #
$str
««$ &
;
««& '
bool
¬¬ 
wChkGratuito
¬¬ 
=
¬¬ 
false
¬¬  %
;
¬¬% &
string
­­ 
ExisteComprobante
­­ $
=
­­% &
$str
­­' )
;
­­) *
string
®® 
EstadoLiquidacion
®® $
=
®®% &
$str
®®' )
;
®®) *
string
¯¯ 
TipoDocumentoComp
¯¯ $
=
¯¯% &
$str
¯¯' )
;
¯¯) *
var
±± 
xResultadox
±± 
=
±± 
new
±± !%
RespuestaComprobanteTCI
±±" 9
(
±±9 :
)
±±: ;
;
±±; <
do
³³ 
{
´´ 
try
µµ 
{
¶¶ $
CargarSerieCorrelativo
·· *
(
··* +
)
··+ ,
;
··, -
var
ºº 
oListLiq
ºº  
=
ºº! "
new
ºº# &
List
ºº' +
<
ºº+ ,
LiquidacionesE
ºº, :
>
ºº: ;
(
ºº; <
)
ºº< =
;
ºº= >
oListLiq
»» 
=
»» 
new
»» "
LiquidacionesAD
»»# 2
(
»»2 3
)
»»3 4
.
»»4 5'
Sp_Liquidaciones_Consulta
»»5 N
(
»»N O
new
»»O R
LiquidacionesE
»»S a
(
»»a b
pCodLiquidacion
»»b q
)
»»q r
)
»»r s
;
»»s t
if
¼¼ 
(
¼¼ 
oListLiq
¼¼  
.
¼¼  !
Count
¼¼! &
>=
¼¼' )
$num
¼¼* +
)
¼¼+ ,
{
½½ 
wTipoImpresion
¾¾ &
=
¾¾' (
oListLiq
¾¾) 1
[
¾¾1 2
$num
¾¾2 3
]
¾¾3 4
.
¾¾4 5
Tipoimpresion
¾¾5 B
==
¾¾C E
$str
¾¾F H
?
¾¾I J
$str
¾¾K N
:
¾¾O P
oListLiq
¾¾Q Y
[
¾¾Y Z
$num
¾¾Z [
]
¾¾[ \
.
¾¾\ ]
Tipoimpresion
¾¾] j
;
¾¾j k
wChkGratuito
¿¿ $
=
¿¿% &
oListLiq
¿¿' /
[
¿¿/ 0
$num
¿¿0 1
]
¿¿1 2
.
¿¿2 3
FlgGratuito
¿¿3 >
;
¿¿> ?
ExisteComprobante
ÀÀ )
=
ÀÀ* +
oListLiq
ÀÀ, 4
[
ÀÀ4 5
$num
ÀÀ5 6
]
ÀÀ6 7
.
ÀÀ7 8
Codcomprobante
ÀÀ8 F
;
ÀÀF G
EstadoLiquidacion
ÁÁ )
=
ÁÁ* +
oListLiq
ÁÁ, 4
[
ÁÁ4 5
$num
ÁÁ5 6
]
ÁÁ6 7
.
ÁÁ7 8
Estado
ÁÁ8 >
;
ÁÁ> ?
CodComprobante
ÂÂ &
=
ÂÂ' (
oListLiq
ÂÂ) 1
[
ÂÂ1 2
$num
ÂÂ2 3
]
ÂÂ3 4
.
ÂÂ4 5
Codcomprobante
ÂÂ5 C
;
ÂÂC D
if
ÄÄ 
(
ÄÄ 
!
ÄÄ 
string
ÄÄ #
.
ÄÄ# $
IsNullOrEmpty
ÄÄ$ 1
(
ÄÄ1 2
ExisteComprobante
ÄÄ2 C
)
ÄÄC D
)
ÄÄD E
throw
ÅÅ !
new
ÅÅ" %
	Exception
ÅÅ& /
(
ÅÅ/ 0
$str
ÅÅ0 ^
+
ÅÅ_ `
pCodLiquidacion
ÅÅa p
)
ÅÅp q
;
ÅÅq r
if
ÆÆ 
(
ÆÆ 
string
ÆÆ "
.
ÆÆ" #
IsNullOrEmpty
ÆÆ# 0
(
ÆÆ0 1
EstadoLiquidacion
ÆÆ1 B
)
ÆÆB C
|
ÆÆD E
EstadoLiquidacion
ÆÆF W
!=
ÆÆX Z
$str
ÆÆ[ ^
)
ÆÆ^ _
throw
ÇÇ !
new
ÇÇ" %
	Exception
ÇÇ& /
(
ÇÇ/ 0
$str
ÇÇ0 X
+
ÇÇY Z
EstadoLiquidacion
ÇÇ[ l
+
ÇÇm n
$str
ÇÇo w
+
ÇÇx y
pCodLiquidacionÇÇz ‰
)ÇÇ‰ Š
;ÇÇŠ ‹
if
ÉÉ 
(
ÉÉ 
oListLiq
ÉÉ $
[
ÉÉ$ %
$num
ÉÉ% &
]
ÉÉ& '
.
ÉÉ' (
Pagagnc
ÉÉ( /
==
ÉÉ0 2
$str
ÉÉ3 6
)
ÉÉ6 7
{
ÊÊ 
new
ËË 
LiquidacionesAD
ËË  /
(
ËË/ 0
)
ËË0 1
.
ËË1 2%
Sp_Liquidaciones_Update
ËË2 I
(
ËËI J
new
ËËJ M
LiquidacionesE
ËËN \
(
ËË\ ]
pCodLiquidacion
ËË] l
,
ËËl m
$str
ËËn p
,
ËËp q
$str
ËËr t
,
ËËt u
$str
ËËv x
,
ËËx y
$num
ËËz {
,
ËË{ |
$strËË} †
,ËË† ‡
$strËËˆ ‹
)ËË‹ Œ
)ËËŒ 
;ËË 
}
ÌÌ 
}
ÍÍ 
if
ĞĞ 
(
ĞĞ 
pMoneda
ĞĞ 
!=
ĞĞ  "
$str
ĞĞ# &
)
ĞĞ& '
{
ÑÑ 
}
ÓÓ 
string
ÕÕ 
TipoCompTCI
ÕÕ &
=
ÕÕ' (
$str
ÕÕ) +
;
ÕÕ+ ,-
CargarIniFacturacionElectronica
ÖÖ 3
(
ÖÖ3 4
pTipoComprobante
ÖÖ4 D
,
ÖÖD E
ref
ÖÖF I
TipoCompTCI
ÖÖJ U
)
ÖÖU V
;
ÖÖV W
using
ØØ 
(
ØØ 
var
ØØ 
Trans
ØØ $
=
ØØ% &
new
ØØ' *
TransactionScope
ØØ+ ;
(
ØØ; <
)
ØØ< =
)
ØØ= >
{
ÙÙ 
objComprobanteE
ÚÚ '
=
ÚÚ( )#
CargarDataComprobante
ÚÚ* ?
(
ÚÚ? @
pTipoComprobante
ÚÚ@ P
,
ÚÚP Q
pCodLiquidacion
ÚÚR a
,
ÚÚa b
pMonto
ÚÚc i
,
ÚÚi j
pMoneda
ÚÚk r
)
ÚÚr s
;
ÚÚs t
new
ÛÛ 
ComprobantesAD
ÛÛ *
(
ÛÛ* +
)
ÛÛ+ ,
.
ÛÛ, -#
Sp_Comprobante_Insert
ÛÛ- B
(
ÛÛB C
ref
ÛÛC F
objComprobanteE
ÛÛG V
)
ÛÛV W
;
ÛÛW X
if
İİ 
(
İİ 
objComprobanteE
İİ +
.
İİ+ ,
CodComprobante
İİ, :
==
İİ; =
$str
İİ> @
)
İİ@ A
{
ŞŞ 
Trans
ßß !
.
ßß! "
Dispose
ßß" )
(
ßß) *
)
ßß* +
;
ßß+ ,
return
àà "
false
àà# (
;
àà( )
}
áá 
else
ââ 
{
ãã 
CodComprobante
ää *
=
ää+ ,
objComprobanteE
ää- <
.
ää< =
CodComprobante
ää= K
;
ääK L'
xTipoDocumentoComprobante
åå 5
=
åå6 7
util
åå8 <
.
åå< =
Left
åå= A
(
ååA B
CodComprobante
ååB P
,
ååP Q
$num
ååR S
)
ååS T
;
ååT U
wOtorgarTci
ææ '
=
ææ( )
util
ææ* .
.
ææ. /
Left
ææ/ 3
(
ææ3 4
CodComprobante
ææ4 B
,
ææB C
$num
ææD E
)
ææE F
==
ææG I
$str
ææJ M
?
ææN O
FlgOtorgarBoleta
ææP `
:
ææa b
FlgOtorgarFactura
ææc t
;
ææt u
new
èè 
ComprobantesAD
èè  .
(
èè. /
)
èè/ 0
.
èè0 1#
Sp_Comprobante_Update
èè1 F
(
èèF G
new
èèG J
ComprobantesE
èèK X
(
èèX Y
CodComprobante
èèY g
,
èèg h
$str
èèi x
,
èèx y

CodEmpresaèèz „
,èè„ …
wTipoImpresionèè† ”
)èè” •
)èè• –
;èè– —
new
éé 
ComprobantesAD
éé  .
(
éé. /
)
éé/ 0
.
éé0 1#
Sp_Comprobante_Update
éé1 F
(
ééF G
new
ééG J
ComprobantesE
ééK X
(
ééX Y
CodComprobante
ééY g
,
éég h
$str
ééi s
,
éés t

CodEmpresa
ééu 
,éé €
$stréé „
)éé„ …
)éé… †
;éé† ‡
new
êê 
ComprobantesAD
êê  .
(
êê. /
)
êê/ 0
.
êê0 1#
Sp_Comprobante_Update
êê1 F
(
êêF G
new
êêG J
ComprobantesE
êêK X
(
êêX Y
CodComprobante
êêY g
,
êêg h
$str
êêi s
,
êês t

CodEmpresa
êêu 
,êê €
CardCodeêê ‰
)êê‰ Š
)êêŠ ‹
;êê‹ Œ
new
ëë 
ComprobantesAD
ëë  .
(
ëë. /
)
ëë/ 0
.
ëë0 1#
Sp_Comprobante_Update
ëë1 F
(
ëëF G
new
ëëG J
ComprobantesE
ëëK X
(
ëëX Y
CodComprobante
ëëY g
,
ëëg h
$str
ëëi w
,
ëëw x

CodEmpresaëëy ƒ
,ëëƒ „
wChkGratuitoëë… ‘
.ëë‘ ’
ToStringëë’ š
(ëëš ›
)ëë› œ
)ëëœ 
)ëë 
;ëë Ÿ
new
ìì 
ComprobantesAD
ìì  .
(
ìì. /
)
ìì/ 0
.
ìì0 1#
Sp_Comprobante_Update
ìì1 F
(
ììF G
new
ììG J
ComprobantesE
ììK X
(
ììX Y
CodComprobante
ììY g
,
ììg h
$str
ììi v
,
ììv w

CodEmpresaììx ‚
,ìì‚ ƒ
$strìì„ ‡
)ìì‡ ˆ
)ììˆ ‰
;ìì‰ Š
if
îî 
(
îî  
$num
îî  !
==
îî" $
$num
îî% &
)
îî& '
{
ïï 
new
ğğ  #
ComprobantesAD
ğğ$ 2
(
ğğ2 3
)
ğğ3 4
.
ğğ4 5#
Sp_Comprobante_Update
ğğ5 J
(
ğğJ K
new
ğğK N
ComprobantesE
ğğO \
(
ğğ\ ]
CodComprobante
ğğ] k
,
ğğk l
$str
ğğm }
,
ğğ} ~

CodEmpresağğ ‰
,ğğ‰ Š
$strğğ‹ ™
)ğğ™ š
)ğğš ›
;ğğ› œ
new
ññ  #
ComprobantesAD
ññ$ 2
(
ññ2 3
)
ññ3 4
.
ññ4 5#
Sp_Comprobante_Update
ññ5 J
(
ññJ K
new
ññK N
ComprobantesE
ññO \
(
ññ\ ]
CodComprobante
ññ] k
,
ññk l
$str
ññm z
,
ññz {

CodEmpresaññ| †
,ññ† ‡
$strññˆ •
)ññ• –
)ññ– —
;ññ— ˜
}
òò 
if
ôô 
(
ôô  
TipDocumento
ôô  ,
==
ôô- /
$str
ôô0 3
)
ôô3 4
{
õõ 
TipoDocumentoComp
öö  1
=
öö2 3
$num
öö4 5
.
öö5 6
ToString
öö6 >
(
öö> ?
)
öö? @
;
öö@ A
}
÷÷ 
if
ùù 
(
ùù  
pTipoComprobante
ùù  0
==
ùù1 3
$str
ùù4 7
)
ùù7 8
{
úú 
if
ûû  "
(
ûû# $
TipDocumento
ûû$ 0
==
ûû1 3
$str
ûû4 7
)
ûû7 8
{
üü  !
new
ıı$ '
ComprobantesAD
ıı( 6
(
ıı6 7
)
ıı7 8
.
ıı8 9#
Sp_Comprobante_Update
ıı9 N
(
ııN O
new
ııO R
ComprobantesE
ııS `
(
ıı` a
CodComprobante
ııa o
,
ııo p
$strııq ‚
,ıı‚ ƒ

CodEmpresaıı„ 
,ıı +
Comprobante_TipDocIdentidadıı «
)ıı« ¬
)ıı¬ ­
;ıı­ ®
new
şş$ '
ComprobantesAD
şş( 6
(
şş6 7
)
şş7 8
.
şş8 9#
Sp_Comprobante_Update
şş9 N
(
şşN O
new
şşO R
ComprobantesE
şşS `
(
şş` a
CodComprobante
şşa o
,
şşo p
$str
şşq 
,şş €

CodEmpresaşş ‹
,şş‹ Œ+
Comprobante_RutDocIdentidadşş ¨
)şş¨ ©
)şş© ª
;şşª «
}
ÿÿ  !
}
€€ 
else
  
{
‚‚ 
}
„„ 
byte
……  
[
……  !
]
……! "
miBytevacio
……# .
=
……/ 0
{
……1 2
}
……3 4
;
……4 5
new
ˆˆ (
ComprobantesElectronicosAD
ˆˆ  :
(
ˆˆ: ;
)
ˆˆ; <
.
ˆˆ< =0
"Sp_ComprobantesElectronicos_Update
ˆˆ= _
(
ˆˆ_ `
new
ˆˆ` c'
ComprobantesElectronicosE
ˆˆd }
(
ˆˆ} ~
CodComprobanteˆˆ~ Œ
,ˆˆŒ 
$strˆˆ –
,ˆˆ– —0
 Comprobante_DscCorreoComprobanteˆˆ˜ ¸
,ˆˆ¸ ¹
$strˆˆº ¼
,ˆˆ¼ ½
miBytevacioˆˆ¾ É
)ˆˆÉ Ê
)ˆˆÊ Ë
;ˆˆË Ì
new
‰‰ (
ComprobantesElectronicosAD
‰‰  :
(
‰‰: ;
)
‰‰; <
.
‰‰< =0
"Sp_ComprobantesElectronicos_Update
‰‰= _
(
‰‰_ `
new
‰‰` c'
ComprobantesElectronicosE
‰‰d }
(
‰‰} ~
CodComprobante‰‰~ Œ
,‰‰Œ 
$str‰‰ ¡
,‰‰¡ ¢
$str‰‰£ ¥
,‰‰¥ ¦
$str‰‰§ ©
,‰‰© ª
miBytevacio‰‰« ¶
)‰‰¶ ·
)‰‰· ¸
;‰‰¸ ¹
new
ŠŠ 
ComprobantesAD
ŠŠ  .
(
ŠŠ. /
)
ŠŠ/ 0
.
ŠŠ0 1#
Sp_Comprobante_Update
ŠŠ1 F
(
ŠŠF G
new
ŠŠG J
ComprobantesE
ŠŠK X
(
ŠŠX Y
CodComprobante
ŠŠY g
,
ŠŠg h
$str
ŠŠi u
,
ŠŠu v

CodEmpresaŠŠw 
,ŠŠ ‚
$strŠŠƒ …
)ŠŠ… †
)ŠŠ† ‡
;ŠŠ‡ ˆ
if
ŒŒ 
(
ŒŒ  
$num
ŒŒ  !
==
ŒŒ" $
$num
ŒŒ% &
)
ŒŒ& '
{
 
if
  "
(
# $
xEnviarASunat
$ 1
!=
2 4
$str
5 8
&
9 :
xEnviarASunat
; H
!=
I K
$str
L O
)
O P
{
  !
Trans
$ )
.
) *
Dispose
* 1
(
1 2
)
2 3
;
3 4
return
‘‘$ *
false
‘‘+ 0
;
‘‘0 1
throw
’’$ )
new
’’* -
	Exception
’’. 7
(
’’7 8
$str
’’8 i
)
’’i j
;
’’j k
break
““$ )
;
““) *
}
””  !
if
––  "
(
––# $
util
––$ (
.
––( )
Left
––) -
(
––- .
CodComprobante
––. <
,
––< =
$num
––> ?
)
––? @
==
––A C
$str
––D G
)
––G H
{
——  !
xResultadox
˜˜$ /
=
˜˜0 1"
EnviarComprobanteTCI
˜˜2 F
(
˜˜F G
TipoDocumento
˜˜G T
.
˜˜T U
Boleta
˜˜U [
,
˜˜[ \
wOtorgarTci
˜˜] h
,
˜˜h i
CodComprobante
˜˜j x
,
˜˜x y
xEnviarASunat˜˜z ‡
,˜˜‡ ˆ
$str˜˜‰ Œ
)˜˜Œ 
;˜˜ 
}
™™  !
else
šš  $
if
šš% '
(
šš( )
util
šš) -
.
šš- .
Left
šš. 2
(
šš2 3
CodComprobante
šš3 A
,
ššA B
$num
ššC D
)
ššD E
==
ššF H
$str
ššI L
)
ššL M
{
››  !
xResultadox
œœ$ /
=
œœ0 1"
EnviarComprobanteTCI
œœ2 F
(
œœF G
TipoDocumento
œœG T
.
œœT U
Factura
œœU \
,
œœ\ ]
wOtorgarTci
œœ^ i
,
œœi j
CodComprobante
œœk y
,
œœy z
xEnviarASunatœœ{ ˆ
,œœˆ ‰
$strœœŠ 
)œœ 
;œœ 
}
  !
if
ŸŸ  "
(
ŸŸ# $
xResultadox
ŸŸ$ /
.
ŸŸ/ 0!
ErroresComprobantes
ŸŸ0 C
==
ŸŸD F$
ErroresComprobantesTCI
ŸŸG ]
.
ŸŸ] ^
Correcto
ŸŸ^ f
)
ŸŸf g
{
    !
Trans
¡¡$ )
.
¡¡) *
Complete
¡¡* 2
(
¡¡2 3
)
¡¡3 4
;
¡¡4 5
}
¢¢  !
else
££  $
{
¤¤  !
CodComprobante
¥¥$ 2
=
¥¥3 4
$str
¥¥5 7
;
¥¥7 8
Trans
¦¦$ )
.
¦¦) *
Dispose
¦¦* 1
(
¦¦1 2
)
¦¦2 3
;
¦¦3 4
}
§§  !
}
¨¨ 
}
©© 
}
ªª 
if
«« 
(
«« 
xResultadox
«« #
.
««# $!
ErroresComprobantes
««$ 7
==
««8 :$
ErroresComprobantesTCI
««; Q
.
««Q R
Correcto
««R Z
)
««Z [
{
¬¬ 
byte
­­ 
[
­­ 
]
­­ 
miBytevacio
­­ *
=
­­+ ,
{
­­- .
}
­­/ 0
;
­­0 1
;
­­2 3
new
®® (
ComprobantesElectronicosAD
®® 6
(
®®6 7
)
®®7 8
.
®®8 90
"Sp_ComprobantesElectronicos_Update
®®9 [
(
®®[ \
new
®®\ _'
ComprobantesElectronicosE
®®` y
(
®®y z
CodComprobante®®z ˆ
,®®ˆ ‰
$str®®Š Ÿ
,®®Ÿ  
$str®®¡ £
,®®£ ¤
$str®®¥ §
,®®§ ¨
miBytevacio®®© ´
)®®´ µ
)®®µ ¶
;®®¶ ·
new
¯¯ (
ComprobantesElectronicosAD
¯¯ 6
(
¯¯6 7
)
¯¯7 8
.
¯¯8 90
"Sp_ComprobantesElectronicos_Update
¯¯9 [
(
¯¯[ \
new
¯¯\ _'
ComprobantesElectronicosE
¯¯` y
(
¯¯y z
CodComprobante¯¯z ˆ
,¯¯ˆ ‰
$str¯¯Š 
,¯¯ 
wOtorgarTci¯¯Ÿ ª
,¯¯ª «
$str¯¯¬ ®
,¯¯® ¯
miBytevacio¯¯° »
)¯¯» ¼
)¯¯¼ ½
;¯¯½ ¾
new
°° (
ComprobantesElectronicosAD
°° 6
(
°°6 7
)
°°7 8
.
°°8 90
"Sp_ComprobantesElectronicos_Update
°°9 [
(
°°[ \
new
°°\ _'
ComprobantesElectronicosE
°°` y
(
°°y z
CodComprobante°°z ˆ
,°°ˆ ‰
$str°°Š ˜
,°°˜ ™
$str°°š œ
,°°œ 
xResultadox°° ©
.°°© ª
RespuestaXML°°ª ¶
,°°¶ ·
miBytevacio°°¸ Ã
)°°Ã Ä
)°°Ä Å
;°°Å Æ
new
²² (
ComprobantesElectronicosAD
²² 6
(
²²6 7
)
²²7 8
.
²²8 90
"Sp_ComprobantesElectronicos_Update
²²9 [
(
²²[ \
new
²²\ _'
ComprobantesElectronicosE
²²` y
(
²²y z
CodComprobante²²z ˆ
,²²ˆ ‰
$str²²Š  
,²²  ¡
$str²²¢ ­
,²²­ ®
$str²²¯ ±
,²²± ²
miBytevacio²²³ ¾
)²²¾ ¿
)²²¿ À
;²²À Á
new
³³ (
ComprobantesElectronicosAD
³³ 6
(
³³6 7
)
³³7 8
.
³³8 90
"Sp_ComprobantesElectronicos_Update
³³9 [
(
³³[ \
new
³³\ _'
ComprobantesElectronicosE
³³` y
(
³³y z
CodComprobante³³z ˆ
,³³ˆ ‰
$str³³Š —
,³³— ˜
$str³³™ ›
,³³› œ
$str³³ Ÿ
,³³Ÿ  
xResultadox³³¡ ¬
.³³¬ ­
CodigoBarra³³­ ¸
)³³¸ ¹
)³³¹ º
;³³º »
xResult
µµ 
=
µµ  !
true
µµ" &
;
µµ& '
}
¶¶ 
else
·· 
{
¸¸ 
throw
¹¹ 
new
¹¹ !
	Exception
¹¹" +
(
¹¹+ ,
$str
¹¹, =
+
¹¹> ?
CodAtencion
¹¹@ K
+
¹¹L M
$str
¹¹N d
+
¹¹e f
CodPaciente
¹¹g r
+
¹¹s t
$str¹¹u ‹
+¹¹Œ 
xResultadox¹¹ ™
.¹¹™ š#
ErroresComprobantes¹¹š ­
.¹¹­ ®
ToString¹¹® ¶
(¹¹¶ ·
)¹¹· ¸
)¹¹¸ ¹
;¹¹¹ º
}
ºº 
}
»» 
catch
¼¼ 
(
¼¼ 
	Exception
¼¼  
ex
¼¼! #
)
¼¼# $
{
½½ 
CodComprobante
¾¾ "
=
¾¾# $
$str
¾¾% '
;
¾¾' (
throw
¿¿ 
new
¿¿ 
	Exception
¿¿ '
(
¿¿' (
$str
¿¿( <
+
¿¿= >
CodComprobante
¿¿? M
+
¿¿N O
$str
¿¿P W
+
¿¿X Y
ex
¿¿Z \
.
¿¿\ ]
ToString
¿¿] e
(
¿¿e f
)
¿¿f g
)
¿¿g h
;
¿¿h i
}
ÀÀ 
}
ÁÁ 
while
ÂÂ 
(
ÂÂ 
false
ÂÂ 
)
ÂÂ 
;
ÂÂ 
return
ÄÄ 
xResult
ÄÄ 
;
ÄÄ 
}
ÅÅ 	
public
ÉÉ 
partial
ÉÉ 
class
ÉÉ %
RespuestaComprobanteTCI
ÉÉ 4
{
ÊÊ 	
public
ËË $
ErroresComprobantesTCI
ËË )!
ErroresComprobantes
ËË* =
{
ËË> ?
get
ËË@ C
;
ËËC D
set
ËËE H
;
ËËH I
}
ËËJ K
public
ÌÌ 
string
ÌÌ 
	Respuesta
ÌÌ #
{
ÌÌ$ %
get
ÌÌ& )
;
ÌÌ) *
set
ÌÌ+ .
;
ÌÌ. /
}
ÌÌ0 1
public
ÍÍ 
byte
ÍÍ 
[
ÍÍ 
]
ÍÍ 
CodigoBarra
ÍÍ %
{
ÍÍ& '
get
ÍÍ( +
;
ÍÍ+ ,
set
ÍÍ- 0
;
ÍÍ0 1
}
ÍÍ2 3
=
ÍÍ4 5
Array
ÍÍ6 ;
.
ÍÍ; <
Empty
ÍÍ< A
<
ÍÍA B
byte
ÍÍB F
>
ÍÍF G
(
ÍÍG H
)
ÍÍH I
;
ÍÍI J
public
ÎÎ 
string
ÎÎ 
RespuestaXML
ÎÎ &
{
ÎÎ' (
get
ÎÎ) ,
;
ÎÎ, -
set
ÎÎ. 1
;
ÎÎ1 2
}
ÎÎ3 4
public
ĞĞ %
RespuestaComprobanteTCI
ĞĞ *
(
ĞĞ* +
)
ĞĞ+ ,
{
ÑÑ 
}
ÓÓ 
public
ÕÕ %
RespuestaComprobanteTCI
ÕÕ *
(
ÕÕ* +$
ErroresComprobantesTCI
ÕÕ+ A"
pErroresComprobantes
ÕÕB V
,
ÕÕV W
string
ÕÕX ^

pRespuesta
ÕÕ_ i
)
ÕÕi j
{
ÖÖ 
	Respuesta
ØØ 
=
ØØ 

pRespuesta
ØØ &
;
ØØ& '!
ErroresComprobantes
ÙÙ #
=
ÙÙ$ %"
pErroresComprobantes
ÙÙ& :
;
ÙÙ: ;
}
ÚÚ 
}
ÛÛ 	
public
àà 
enum
àà $
ErroresComprobantesTCI
àà *
{
áá 	
Correcto
ââ 
=
ââ 
$num
ââ 
,
ââ 
DetalleNegativo
ãã 
=
ãã 
-
ãã 
$num
ãã  
,
ãã  !.
 ComprobanteNoExiste_NoHayDetalle
ää ,
=
ää- .
-
ää/ 0
$num
ää0 1
,
ää1 2
ErrorConstruirXML
åå 
=
åå 
-
åå  !
$num
åå! "
,
åå" #
ErrorStored
ææ 
=
ææ 
-
ææ 
$num
ææ 
,
ææ 
Otros
çç 
=
çç 
-
çç 
$num
çç 
}
èè 	
public
îî 
void
îî $
CargarSerieCorrelativo
îî *
(
îî* +
)
îî+ ,
{
ïï 	
try
ğğ 
{
ññ 
var
òò 
oDsCorrelativo
òò "
=
òò# $
new
òò% (
DataSet
òò) 0
(
òò0 1
)
òò1 2
;
òò2 3
oDsCorrelativo
óó 
=
óó  
new
óó! $
OtrosAD
óó% ,
(
óó, -
)
óó- .
.
óó. /%
Sp_Correlativo_Consulta
óó/ F
(
óóF G
)
óóG H
;
óóH I
if
ôô 
(
ôô 
oDsCorrelativo
ôô "
.
ôô" #
Tables
ôô# )
.
ôô) *
Count
ôô* /
>=
ôô0 2
$num
ôô3 4
)
ôô4 5
{
õõ $
CorrelativoSerieBoleta
öö *
=
öö+ ,
oDsCorrelativo
öö- ;
.
öö; <
Tables
öö< B
[
ööB C
$num
ööC D
]
ööD E
.
ööE F
Rows
ööF J
[
ööJ K
$num
ööK L
]
ööL M
[
ööM N
$str
ööN V
]
ööV W
+
ööX Y
$str
ööZ \
;
öö\ ]%
CorrelativoSerieFactura
øø +
=
øø, -
oDsCorrelativo
øø. <
.
øø< =
Tables
øø= C
[
øøC D
$num
øøD E
]
øøE F
.
øøF G
Rows
øøG K
[
øøK L
$num
øøL M
]
øøM N
[
øøN O
$str
øøO X
]
øøX Y
+
øøZ [
$str
øø\ ^
;
øø^ _/
!CorrelativoSerieNotaCreditoBoleta
ùù 5
=
ùù6 7
oDsCorrelativo
ùù8 F
.
ùùF G
Tables
ùùG M
[
ùùM N
$num
ùùN O
]
ùùO P
.
ùùP Q
Rows
ùùQ U
[
ùùU V
$num
ùùV W
]
ùùW X
[
ùùX Y
$str
ùùY c
]
ùùc d
+
ùùe f
$str
ùùg i
;
ùùi j0
"CorrelativoSerieNotaCreditoFactura
úú 6
=
úú7 8
oDsCorrelativo
úú9 G
.
úúG H
Tables
úúH N
[
úúN O
$num
úúO P
]
úúP Q
.
úúQ R
Rows
úúR V
[
úúV W
$num
úúW X
]
úúX Y
[
úúY Z
$str
úúZ d
]
úúd e
+
úúf g
$str
úúh j
;
úúj k
FlgElectronico
ûû "
=
ûû# $
oDsCorrelativo
ûû% 3
.
ûû3 4
Tables
ûû4 :
[
ûû: ;
$num
ûû; <
]
ûû< =
.
ûû= >
Rows
ûû> B
[
ûûB C
$num
ûûC D
]
ûûD E
[
ûûE F
$str
ûûF W
]
ûûW X
==
ûûY [
$str
ûû\ _
?
ûû` a
true
ûûb f
:
ûûg h
false
ûûi n
;
ûûn o
FlgGenerarE
üü 
=
üü  !
oDsCorrelativo
üü" 0
.
üü0 1
Tables
üü1 7
[
üü7 8
$num
üü8 9
]
üü9 :
.
üü: ;
Rows
üü; ?
[
üü? @
$num
üü@ A
]
üüA B
[
üüB C
$str
üüC N
]
üüN O
==
üüP R
$str
üüS V
?
üüW X
true
üüY ]
:
üü^ _
false
üü` e
;
üüe f
FlgOtorgarBoleta
ıı $
=
ıı% &
oDsCorrelativo
ıı' 5
.
ıı5 6
Tables
ıı6 <
[
ıı< =
$num
ıı= >
]
ıı> ?
.
ıı? @
Rows
ıı@ D
[
ııD E
$num
ııE F
]
ııF G
[
ııG H
$str
ııH V
]
ııV W
.
ııW X
ToString
ııX `
(
ıı` a
)
ııa b
;
ııb c
FlgOtorgarBoleta
şş $
=
şş% &
oDsCorrelativo
şş' 5
.
şş5 6
Tables
şş6 <
[
şş< =
$num
şş= >
]
şş> ?
.
şş? @
Rows
şş@ D
[
şşD E
$num
şşE F
]
şşF G
[
şşG H
$str
şşH V
]
şşV W
.
şşW X
ToString
şşX `
(
şş` a
)
şşa b
;
şşb c
FlgOtorgarFactura
ÿÿ %
=
ÿÿ& '
oDsCorrelativo
ÿÿ( 6
.
ÿÿ6 7
Tables
ÿÿ7 =
[
ÿÿ= >
$num
ÿÿ> ?
]
ÿÿ? @
.
ÿÿ@ A
Rows
ÿÿA E
[
ÿÿE F
$num
ÿÿF G
]
ÿÿG H
[
ÿÿH I
$str
ÿÿI W
]
ÿÿW X
.
ÿÿX Y
ToString
ÿÿY a
(
ÿÿa b
)
ÿÿb c
;
ÿÿc d#
FlgOtorgarNotaCredito
€€ )
=
€€* +
oDsCorrelativo
€€, :
.
€€: ;
Tables
€€; A
[
€€A B
$num
€€B C
]
€€C D
.
€€D E
Rows
€€E I
[
€€I J
$num
€€J K
]
€€K L
[
€€L M
$str
€€M \
]
€€\ ]
.
€€] ^
ToString
€€^ f
(
€€f g
)
€€g h
;
€€h i
if
‚‚ 
(
‚‚ 
util
‚‚ 
.
‚‚ 
Left
‚‚ !
(
‚‚! "$
CorrelativoSerieBoleta
‚‚" 8
,
‚‚8 9
$num
‚‚: ;
)
‚‚; <
==
‚‚= ?
$str
‚‚@ C
&
‚‚D E$
CorrelativoSerieBoleta
‚‚F \
.
‚‚\ ]
Trim
‚‚] a
(
‚‚a b
)
‚‚b c
.
‚‚c d
Length
‚‚d j
!=
‚‚k m
$num
‚‚n p
)
‚‚p q
throw
ƒƒ 
new
ƒƒ !
	Exception
ƒƒ" +
(
ƒƒ+ ,
$str
ƒƒ, a
)
ƒƒa b
;
ƒƒb c
if
„„ 
(
„„ 
util
„„ 
.
„„ 
Left
„„ !
(
„„! "%
CorrelativoSerieFactura
„„" 9
,
„„9 :
$num
„„; <
)
„„< =
==
„„> @
$str
„„A D
&
„„E F%
CorrelativoSerieFactura
„„G ^
.
„„^ _
Trim
„„_ c
(
„„c d
)
„„d e
.
„„e f
Length
„„f l
!=
„„m o
$num
„„p r
)
„„r s
throw
…… 
new
…… !
	Exception
……" +
(
……+ ,
$str
……, b
)
……b c
;
……c d
if
†† 
(
†† 
util
†† 
.
†† 
Left
†† !
(
††! "/
!CorrelativoSerieNotaCreditoBoleta
††" C
,
††C D
$num
††E F
)
††F G
==
††H J
$str
††K N
&
††O P/
!CorrelativoSerieNotaCreditoBoleta
††Q r
.
††r s
Trim
††s w
(
††w x
)
††x y
.
††y z
Length††z €
!=†† ƒ
$num††„ †
)††† ‡
throw
‡‡ 
new
‡‡ !
	Exception
‡‡" +
(
‡‡+ ,
$str
‡‡, r
)
‡‡r s
;
‡‡s t
if
ˆˆ 
(
ˆˆ 
util
ˆˆ 
.
ˆˆ 
Left
ˆˆ !
(
ˆˆ! "0
"CorrelativoSerieNotaCreditoFactura
ˆˆ" D
,
ˆˆD E
$num
ˆˆF G
)
ˆˆG H
==
ˆˆI K
$str
ˆˆL O
&
ˆˆP Q0
"CorrelativoSerieNotaCreditoFactura
ˆˆR t
.
ˆˆt u
Trim
ˆˆu y
(
ˆˆy z
)
ˆˆz {
.
ˆˆ{ |
Lengthˆˆ| ‚
!=ˆˆƒ …
$numˆˆ† ˆ
)ˆˆˆ ‰
throw
‰‰ 
new
‰‰ !
	Exception
‰‰" +
(
‰‰+ ,
$str
‰‰, s
)
‰‰s t
;
‰‰t u
oDsCorrelativo
‹‹ "
.
‹‹" #
Dispose
‹‹# *
(
‹‹* +
)
‹‹+ ,
;
‹‹, -
oDsCorrelativo
ŒŒ "
=
ŒŒ# $
default
ŒŒ% ,
;
ŒŒ, -
}
 
else
 
{
 
throw
 
new
 
	Exception
 '
(
' (
$str( ª
+« ¬
(­ ®
$char® ²
)² ³
)³ ´
;´ µ
}
‘‘ 
}
’’ 
catch
““ 
(
““ 
	Exception
““ 
ex
““ 
)
““  
{
”” 
throw
•• 
new
•• 
	Exception
•• #
(
••# $
ex
••$ &
.
••& '
ToString
••' /
(
••/ 0
)
••0 1
)
••1 2
;
••2 3
}
–– 
}
—— 	
public
¯¯ 
void
¯¯ -
CargarIniFacturacionElectronica
¯¯ 3
(
¯¯3 4
string
¯¯4 :'
pTipoDocumentoComprobante
¯¯; T
,
¯¯T U
ref
¯¯V Y
string
¯¯Z `
pTipoCompTCI
¯¯a m
)
¯¯m n
{
°° 	
oLTablas
²² 
=
²² 
new
²² 
TablasAD
²² #
(
²²# $
)
²²$ %
.
²²% & 
Sp_Tablas_Consulta
²²& 8
(
²²8 9
new
²²9 <
TablasE
²²= D
(
²²D E
$str
²²E ]
,
²²] ^
$str
²²_ a
,
²²a b
$num
²²c d
,
²²d e
$num
²²f g
,
²²g h
$num
²²i j
)
²²j k
)
²²k l
;
²²l m
if
³³ 
(
³³ 
oLTablas
³³ 
.
³³ 
Count
³³ 
>=
³³ !
$num
³³" #
)
³³# $
{
´´ 
if
µµ 
(
µµ 
oLTablas
µµ 
[
µµ 
$num
µµ 
]
µµ 
.
µµ  
Codigo
µµ  &
==
µµ' )
$str
µµ* ,
)
µµ, -
{
¶¶ 
throw
·· 
new
·· 
	Exception
·· '
(
··' (
$str
··( e
)
··e f
;
··f g
}
¸¸ 
else
¹¹ 
{
ºº 
xEnviarASunat
»» !
=
»»" #
(
»»$ %
oLTablas
»»% -
[
»»- .
$num
»». /
]
»»/ 0
.
»»0 1
Codigo
»»1 7
+
»»8 9
$str
»»: <
)
»»< =
.
»»= >
Trim
»»> B
(
»»B C
)
»»C D
;
»»D E
if
¾¾ 
(
¾¾ 
xEnviarASunat
¾¾ %
==
¾¾& (
$str
¾¾) ,
)
¾¾, -
{
¿¿ 
	xUrlWsTCI
¿¿ 
=
¿¿  !
new
¿¿" %
TablasAD
¿¿& .
(
¿¿. /
)
¿¿/ 0
.
¿¿0 1 
Sp_Tablas_Consulta
¿¿1 C
(
¿¿C D
new
¿¿D G
TablasE
¿¿H O
(
¿¿O P
$str
¿¿P ^
,
¿¿^ _
$str
¿¿` b
,
¿¿b c
$num
¿¿d e
,
¿¿e f
$num
¿¿g h
,
¿¿h i
$num
¿¿j l
)
¿¿l m
)
¿¿m n
.
¿¿n o
FirstOrDefault
¿¿o }
(
¿¿} ~
item¿¿~ ‚
=>¿¿ƒ …
item¿¿† Š
.¿¿Š ‹
Estado¿¿‹ ‘
==¿¿’ ”
$str¿¿• ˜
)¿¿˜ ™
?¿¿™ š
.¿¿š ›
Nombre¿¿› ¡
??¿¿¢ ¤
$str¿¿¥ ß
;¿¿ß à
}¿¿á â
}
ÀÀ 
}
ÁÁ 
List
ÂÂ 
<
ÂÂ 
TablasE
ÂÂ 
>
ÂÂ 
oList
ÂÂ 
;
ÂÂ  
oList
ÃÃ 
=
ÃÃ 
new
ÃÃ 
TablasAD
ÃÃ  
(
ÃÃ  !
)
ÃÃ! "
.
ÃÃ" # 
Sp_Tablas_Consulta
ÃÃ# 5
(
ÃÃ5 6
new
ÃÃ6 9
TablasE
ÃÃ: A
(
ÃÃA B
$str
ÃÃB a
,
ÃÃa b'
pTipoDocumentoComprobante
ÃÃc |
,
ÃÃ| }
$numÃÃ~ €
,ÃÃ€ 
$numÃÃ‚ ƒ
,ÃÃƒ „
-ÃÃ… †
$numÃÃ† ‡
)ÃÃ‡ ˆ
)ÃÃˆ ‰
;ÃÃ‰ Š
if
ÄÄ 
(
ÄÄ 
oList
ÄÄ 
.
ÄÄ 
Count
ÄÄ 
>=
ÄÄ 
$num
ÄÄ  
)
ÄÄ  !
pTipoCompTCI
ÅÅ 
=
ÅÅ 
oList
ÅÅ $
[
ÅÅ$ %
$num
ÅÅ% &
]
ÅÅ& '
.
ÅÅ' (
Nombre
ÅÅ( .
.
ÅÅ. /
Trim
ÅÅ/ 3
(
ÅÅ3 4
)
ÅÅ4 5
;
ÅÅ5 6
if
ÇÇ 
(
ÇÇ 
string
ÇÇ 
.
ÇÇ 
IsNullOrEmpty
ÇÇ $
(
ÇÇ$ %
(
ÇÇ% &
	DscCorreo
ÇÇ& /
.
ÇÇ/ 0
Trim
ÇÇ0 4
(
ÇÇ4 5
)
ÇÇ5 6
)
ÇÇ6 7
)
ÇÇ7 8
)
ÇÇ8 9
{
ÈÈ 
oList
ÉÉ 
=
ÉÉ 
new
ÉÉ 
TablasAD
ÉÉ $
(
ÉÉ$ %
)
ÉÉ% &
.
ÉÉ& ' 
Sp_Tablas_Consulta
ÉÉ' 9
(
ÉÉ9 :
new
ÉÉ: =
TablasE
ÉÉ> E
(
ÉÉE F
$str
ÉÉF d
,
ÉÉd e
$str
ÉÉf j
,
ÉÉj k
$num
ÉÉl n
,
ÉÉn o
$num
ÉÉp q
,
ÉÉq r
-
ÉÉs t
$num
ÉÉt u
)
ÉÉu v
)
ÉÉv w
;
ÉÉw x
if
ÊÊ 
(
ÊÊ 
oList
ÊÊ 
.
ÊÊ 
Count
ÊÊ 
>=
ÊÊ  "
$num
ÊÊ# $
)
ÊÊ$ %
	DscCorreo
ËË 
=
ËË 
oList
ËË  %
[
ËË% &
$num
ËË& '
]
ËË' (
.
ËË( )
Nombre
ËË) /
.
ËË/ 0
Trim
ËË0 4
(
ËË4 5
)
ËË5 6
;
ËË6 7
}
ÌÌ 
}
ÍÍ 	
private
ÑÑ 
ComprobantesE
ÑÑ #
CargarDataComprobante
ÑÑ 3
(
ÑÑ3 4
string
ÑÑ4 :
pTipoComprobante
ÑÑ; K
,
ÑÑK L
string
ÑÑM S
pCodLiquidacion
ÑÑT c
,
ÑÑc d
string
ÑÑe k
pMonto
ÑÑl r
,
ÑÑr s
string
ÑÑt z
pMonedaÑÑ{ ‚
,ÑÑ‚ ƒ
stringÑÑ„ Š

pOperacionÑÑ‹ •
=ÑÑ– —
$strÑÑ˜ ›
,ÑÑ› œ
stringÑÑ £
	pTipoPagoÑÑ¤ ­
=ÑÑ® ¯
$strÑÑ° ²
,ÑÑ² ³
stringÑÑ´ º!
pCodNombreEntidadÑÑ» Ì
=ÑÑÍ Î
$strÑÑÏ Ñ
,ÑÑÑ Ò
stringÑÑÓ Ù
pNumeroEntidadÑÑÚ è
=ÑÑé ê
$strÑÑë í
,ÑÑí î
stringÑÑï õ
pCodTerminalÑÑö ‚
=ÑÑƒ „
$strÑÑ… ‡
,ÑÑ‡ ˆ
stringÑÑ‰ 
pCodComprobanteÑÑ Ÿ
=ÑÑ  ¡
$strÑÑ¢ ¤
)ÑÑ¤ ¥
{
ÒÒ 	
var
ÓÓ 
objComprobanteE
ÓÓ 
=
ÓÓ  !
new
ÓÓ" %
ComprobantesE
ÓÓ& 3
(
ÓÓ3 4
)
ÓÓ4 5
;
ÓÓ5 6
string
ÕÕ 
xRuc
ÕÕ 
=
ÕÕ 
$str
ÕÕ 
;
ÕÕ 
string
ÖÖ 
CodTerminal
ÖÖ 
=
ÖÖ  
$str
ÖÖ! &
;
ÖÖ& '
string
×× 
NumeroEntidad
××  
=
××! "
$str
××# '
;
××' (
string
ØØ 
CodNombreEntidad
ØØ #
=
ØØ$ %
$str
ØØ& 5
;
ØØ5 6
pCodTerminal
ÛÛ 
=
ÛÛ 
pCodTerminal
ÛÛ '
==
ÛÛ( *
$str
ÛÛ+ 0
?
ÛÛ1 2
$str
ÛÛ3 8
:
ÛÛ9 :
pCodTerminal
ÛÛ; G
;
ÛÛG H
objComprobanteE
åå 
.
åå 
TipoComprobante
åå +
=
åå, -
pTipoComprobante
åå. >
;
åå> ?
objComprobanteE
ææ 
.
ææ 
CodLiquidacion
ææ *
=
ææ+ ,
pCodLiquidacion
ææ- <
;
ææ< =
objComprobanteE
çç 
.
çç 
Monto
çç !
=
çç" #

pOperacion
çç$ .
==
çç/ 1
$str
çç2 5
?
çç6 7
CalcularSubTotal
çç8 H
(
ççH I
double
ççI O
.
ççO P
Parse
ççP U
(
ççU V
pMonto
ççV \
)
çç\ ]
)
çç] ^
:
çç_ `
double
çça g
.
ççg h
Parse
ççh m
(
ççm n
pMonto
ççn t
)
ççt u
;
ççu v
objComprobanteE
èè 
.
èè 
ANombreDeQuien
èè *
=
èè+ ,,
Comprobante_NombresComprobante
èè- K
;
èèK L
objComprobanteE
éé 
.
éé 
Ruc
éé 
=
éé  !)
Comprobante_RutDocIdentidad
éé" =
;
éé= >
objComprobanteE
êê 
.
êê 
	Direccion
êê %
=
êê& '
	Direccion
êê( 1
;
êê1 2
objComprobanteE
ëë 
.
ëë 
TipoPago
ëë $
=
ëë% &
	pTipoPago
ëë' 0
;
ëë0 1
objComprobanteE
ìì 
.
ìì 
NombreEntidad
ìì )
=
ìì* +
pCodNombreEntidad
ìì, =
;
ìì= >
objComprobanteE
íí 
.
íí 
NombreEntidad
íí )
=
íí* +
pCodNombreEntidad
íí, =
;
íí= >
objComprobanteE
îî 
.
îî 
NumeroEntidad
îî )
=
îî* +
pNumeroEntidad
îî, :
;
îî: ;
objComprobanteE
ïï 
.
ïï 
	Operacion
ïï %
=
ïï& '

pOperacion
ïï( 2
;
ïï2 3
objComprobanteE
ğğ 
.
ğğ 
VariosTipoPago
ğğ *
=
ğğ+ ,
$str
ğğ- 0
;
ğğ0 1
objComprobanteE
ññ 
.
ññ 
CodComprobante
ññ *
=
ññ+ ,
$str
ññ- /
;
ññ/ 0
objComprobanteE
òò 
.
òò 
Moneda
òò "
=
òò# $
pMoneda
òò% ,
;
òò, -
objComprobanteE
óó 
.
óó 

CodEmpresa
óó &
=
óó' (

CodEmpresa
óó) 3
;
óó3 4
objComprobanteE
ôô 
.
ôô 
CodTipoFactura
ôô *
=
ôô+ ,
$str
ôô- /
;
ôô/ 0
objComprobanteE
õõ 
.
õõ 
CodTerminal
õõ '
=
õõ( )
pCodTerminal
õõ* 6
;
õõ6 7
objComprobanteE
öö 
.
öö 
CodComprobante
öö *
=
öö+ ,
pCodComprobante
öö- <
;
öö< =
return
øø 
objComprobanteE
øø "
;
øø" #
}
ùù 	
public
ıı 

ObtenerPDF
ıı 
.
ıı 
Response
ıı "#
ObtenerComprobantePDF
ıı# 8
(
ıı8 9

ObtenerPDF
ıı9 C
.
ııC D
Requests
ııD L
pObtenerPDF
ııM X
)
ııX Y
{
şş 	

ObtenerPDF
€€ 
.
€€ 
Response
€€ "
oObtenerPDFResultado
€€  4
=
€€5 6
new
€€7 :

ObtenerPDF
€€; E
.
€€E F
Response
€€F N
(
€€N O
)
€€O P
;
€€P Q
try
 
{
‚‚ 
List
ƒƒ 
<
ƒƒ 
TablasE
ƒƒ 
>
ƒƒ 
oTablas
ƒƒ %
=
ƒƒ& '
new
ƒƒ( +
TablasAD
ƒƒ, 4
(
ƒƒ4 5
)
ƒƒ5 6
.
ƒƒ6 7 
Sp_Tablas_Consulta
ƒƒ7 I
(
ƒƒI J
new
ƒƒJ M
TablasE
ƒƒN U
(
ƒƒU V
$str
ƒƒV n
,
ƒƒn o
$str
ƒƒp r
,
ƒƒr s
$num
ƒƒt u
,
ƒƒu v
$num
ƒƒw x
,
ƒƒx y
$num
ƒƒz |
)
ƒƒ| }
)
ƒƒ} ~
;
ƒƒ~ 
if
„„ 
(
„„ 
oTablas
„„ 
.
„„ 
Count
„„ !
>
„„" #
$num
„„$ %
)
„„% &
{
…… 
pObtenerPDF
…… 
.
…… 
EnviarSunat
…… )
=
……* +
oTablas
……, 3
.
……3 4
Any
……4 7
(
……7 8
item
……8 <
=>
……= ?
item
……@ D
.
……D E
Codigo
……E K
==
……L N
$str
……O R
)
……R S
;
……S T
}
……U V
if
‡‡ 
(
‡‡ 
pObtenerPDF
‡‡ 
.
‡‡  
EnviarSunat
‡‡  +
)
‡‡+ ,
{
ˆˆ 
	xUrlWsTCI
ŠŠ 
=
ŠŠ 
new
ŠŠ  #
TablasAD
ŠŠ$ ,
(
ŠŠ, -
)
ŠŠ- .
.
ŠŠ. / 
Sp_Tablas_Consulta
ŠŠ/ A
(
ŠŠA B
new
ŠŠB E
TablasE
ŠŠF M
(
ŠŠM N
$str
ŠŠN \
,
ŠŠ\ ]
$str
ŠŠ^ `
,
ŠŠ` a
$num
ŠŠb c
,
ŠŠc d
$num
ŠŠe f
,
ŠŠf g
$num
ŠŠh j
)
ŠŠj k
)
ŠŠk l
.
ŠŠl m
FirstOrDefault
ŠŠm {
(
ŠŠ{ |
itemŠŠ| €
=>ŠŠ ƒ
itemŠŠ„ ˆ
.ŠŠˆ ‰
EstadoŠŠ‰ 
==ŠŠ ’
$strŠŠ“ –
)ŠŠ– —
?ŠŠ— ˜
.ŠŠ˜ ™
NombreŠŠ™ Ÿ
??ŠŠ  ¢
$strŠŠ£ İ
;ŠŠİ Ş&
OpenConfigWebServicesTci
ŒŒ ,
(
ŒŒ, -
	xUrlWsTCI
ŒŒ- 6
)
ŒŒ6 7
;
ŒŒ7 8
using
 
(
 
var
 
oWsComprobante
 -
=
. /
new
0 3%
WSComprobanteSoapClient
4 K
(
K L

BindingTci
L V
,
V W
EndPoint
X `
)
` a
)
a b
{
 
List
 
<
 
TablasE
 $
>
$ %
oLista
& ,
=
- .
new
/ 2
List
3 7
<
7 8
TablasE
8 ?
>
? @
(
@ A
)
A B
;
B C
TablasE
 
oRUC
  $
=
% &
new
' *
TablasE
+ 2
(
2 3
)
3 4
;
4 5
oLista
‘‘ 
=
‘‘  
new
‘‘! $
Tablas
‘‘% +
(
‘‘+ ,
)
‘‘, -
.
‘‘- . 
Sp_Tablas_Consulta
‘‘. @
(
‘‘@ A
new
‘‘A D
TablasE
‘‘E L
(
‘‘L M
$str
‘‘M d
,
‘‘d e
$str
‘‘f h
,
‘‘h i
$num
‘‘j k
,
‘‘k l
$num
‘‘m n
,
‘‘n o
$num
‘‘p r
)
‘‘r s
)
‘‘s t
;
‘‘t u
if
’’ 
(
’’ 
oLista
’’ "
.
’’" #
Count
’’# (
>
’’) *
$num
’’+ ,
)
’’, -
{
““ 
oRUC
““ 
=
““  
oLista
““! '
.
““' (
FirstOrDefault
““( 6
(
““6 7
item
““7 ;
=>
““< >
item
““? C
.
““C D
Codigo
““D J
==
““K M
$str
““N S
)
““S T
;
““T U
}
““V W
List
•• 
<
•• '
ComprobantesElectronicosE
•• 6
>
••6 7,
oListaComprobantesElectronicos
••8 V
=
••W X
new
••Y \
List
••] a
<
••a b'
ComprobantesElectronicosE
••b {
>
••{ |
(
••| }
)
••} ~
;
••~ ,
oListaComprobantesElectronicos
–– 6
=
––7 8
new
––9 <&
ComprobantesElectronicos
––= U
(
––U V
)
––V W
.
––W X/
!ComprobantesElectronicos_Consulta
––X y
(
––y z
new
––z }(
ComprobantesElectronicosE––~ —
(––— ˜
pObtenerPDF––˜ £
.––£ ¤
Comprobante––¤ ¯
,––¯ °
$num––± ²
)––² ³
)––³ ´
;––´ µ
if
˜˜ 
(
˜˜ ,
oListaComprobantesElectronicos
˜˜ :
.
˜˜: ;
Count
˜˜; @
==
˜˜A C
$num
˜˜D E
)
˜˜E F
{
™™ 

ENPeticion
šš &
oENPeticion
šš' 2
=
šš3 4
new
šš5 8

ENPeticion
šš9 C
(
ššC D
)
ššD E
;
ššE F
oENPeticion
›› '
.
››' (
Ruc
››( +
=
››, -
oRUC
››. 2
.
››2 3
Nombre
››3 9
;
››9 :
oENPeticion
œœ '
.
œœ' (
Serie
œœ( -
=
œœ. /
pObtenerPDF
œœ0 ;
.
œœ; <
Comprobante
œœ< G
.
œœG H
	Substring
œœH Q
(
œœQ R
$num
œœR S
,
œœS T
$num
œœU V
)
œœV W
;
œœW X
oENPeticion
 '
.
' (
Numero
( .
=
/ 0
Convert
1 8
.
8 9
ToInt32
9 @
(
@ A
pObtenerPDF
A L
.
L M
Comprobante
M X
.
X Y
	Substring
Y b
(
b c
$num
c d
)
d e
)
e f
.
f g
ToString
g o
(
o p
)
p q
;
q r
oENPeticion
 '
.
' (
TipoComprobante
( 7
=
8 9,
oListaComprobantesElectronicos
: X
[
X Y
$num
Y Z
]
Z [
.
[ \"
TipoComprobanteSunat
\ p
;
p q
oENPeticion
ŸŸ '
.
ŸŸ' ("
IndicadorComprobante
ŸŸ( <
=
ŸŸ= >
$num
ŸŸ? @
;
ŸŸ@ A 
Obtener_PDFRequest
¡¡ . 
pObtenerPDFRequest
¡¡/ A
=
¡¡B C
new
¡¡D G 
Obtener_PDFRequest
¡¡H Z
(
¡¡Z [
)
¡¡[ \
;
¡¡\ ] 
pObtenerPDFRequest
¢¢ .
.
¢¢. /
oENPeticion
¢¢/ :
=
¢¢; <
oENPeticion
¢¢= H
;
¢¢H I 
pObtenerPDFRequest
££ .
.
££. /
Cadena
££/ 5
=
££6 7
$str
££8 :
;
££: ;
var
¥¥ 
respuestaPDF
¥¥  ,
=
¥¥- .
oWsComprobante
¥¥/ =
.
¥¥= >
Obtener_PDFAsync
¥¥> N
(
¥¥N O 
pObtenerPDFRequest
¥¥O a
)
¥¥a b
.
¥¥b c
Result
¥¥c i
;
¥¥i j
if
¦¦ 
(
¦¦  
string
¦¦  &
.
¦¦& '
IsNullOrEmpty
¦¦' 4
(
¦¦4 5
respuestaPDF
¦¦5 A
.
¦¦A B
Cadena
¦¦B H
)
¦¦H I
)
¦¦I J
{
§§ "
oObtenerPDFResultado
§§ 2
=
§§3 4
new
§§5 8

ObtenerPDF
§§9 C
.
§§C D
Response
§§D L
(
§§L M
respuestaPDF
§§M Y
.
§§Y Z
Obtener_PDFResult
§§Z k
.
§§k l

ArchivoPDF
§§l v
,
§§v w
respuestaPDF§§x „
.§§„ …!
Obtener_PDFResult§§… –
.§§– —
	NombrePDF§§—  
,§§  ¡
false§§¢ §
,§§§ ¨
$str§§© °
)§§° ±
;§§± ²
}§§³ ´
else
¨¨  
{
©© "
oObtenerPDFResultado
©© 2
=
©©3 4
new
©©5 8

ObtenerPDF
©©9 C
.
©©C D
Response
©©D L
(
©©L M
true
©©M Q
,
©©Q R
respuestaPDF
©©S _
.
©©_ `
Cadena
©©` f
)
©©f g
;
©©g h
}
©©i j
}
ªª 
else
«« 
{
¬¬ "
oObtenerPDFResultado
¬¬ .
=
¬¬/ 0
new
¬¬1 4

ObtenerPDF
¬¬5 ?
.
¬¬? @
Response
¬¬@ H
(
¬¬H I
true
¬¬I M
,
¬¬M N
$str
¬¬O u
)
¬¬u v
;
¬¬v w
}
¬¬x y
}
­­ 
}
®® 
else
¯¯ 
{
°° "
oObtenerPDFResultado
°° &
=
°°' (
new
°°) ,

ObtenerPDF
°°- 7
.
°°7 8
Response
°°8 @
(
°°@ A
true
°°A E
,
°°E F
$str
°°G Z
)
°°Z [
;
°°[ \
}
°°] ^
}
±± 
catch
²² 
(
²² 
	Exception
²² 
ex
²² 
)
²²  
{
³³ "
oObtenerPDFResultado
³³ "
=
³³# $
new
³³% (

ObtenerPDF
³³) 3
.
³³3 4
Response
³³4 <
(
³³< =
true
³³= A
,
³³A B
ex
³³C E
.
³³E F
Message
³³F M
)
³³M N
;
³³N O
}
³³P Q
return
µµ "
oObtenerPDFResultado
µµ '
;
µµ' (
}
¶¶ 	
public
ºº %
RespuestaComprobanteTCI
ºº &"
EnviarComprobanteTCI
ºº' ;
(
ºº; <
TipoDocumento
ºº< I
pTipoDocumento
ººJ X
,
ººX Y
string
ººZ `
pOtorgarTci
ººa l
,
ººl m
string
ººn t
pCodComprobanteººu „
,ºº„ …
stringºº† Œ
pEnviarSunatºº ™
=ººš ›
$strººœ Ÿ
,ººŸ  
stringºº¡ §
pSistemaºº¨ °
=ºº± ²
$strºº³ ¶
)ºº¶ ·
{
»» 	
string
¼¼ 
XML_General
¼¼ 
=
¼¼  
$str
¼¿! %
;
¿¿% &
var
ÁÁ 
xResult
ÁÁ 
=
ÁÁ 
new
ÁÁ %
RespuestaComprobanteTCI
ÁÁ 5
(
ÁÁ5 6$
ErroresComprobantesTCI
ÁÁ6 L
.
ÁÁL M
Otros
ÁÁM R
,
ÁÁR S
$str
ÁÁT V
)
ÁÁV W
;
ÁÁW X
string
ÃÃ 
wTotal_valorventa
ÃÃ $
;
ÃÃ$ %
string
ÄÄ  
wTotal_precioventa
ÄÄ %
;
ÄÄ% &
do
ÆÆ 
{
ÇÇ 
try
ÈÈ 
{
ÉÉ 
string
ÊÊ 
TextoGratuito
ÊÊ (
=
ÊÊ) *
$str
ÊÊ+ r
;
ÊÊr s
var
ËË 

objTablasE
ËË "
=
ËË# $
new
ËË% (
TablasE
ËË) 0
(
ËË0 1
)
ËË1 2
;
ËË2 3
string
ÌÌ 
wNota2
ÌÌ !
=
ÌÌ" #
$str
ÌÌ$ &
;
ÌÌ& '
var
ÎÎ 
oGeneral
ÎÎ  
=
ÎÎ! "
new
ÎÎ# &
General
ÎÎ' .
(
ÎÎ. /
)
ÎÎ/ 0
;
ÎÎ0 1
var
ÏÏ 
oENComprobante
ÏÏ &
=
ÏÏ' (
new
ÏÏ) ,
ENComprobante
ÏÏ- :
(
ÏÏ: ;
)
ÏÏ; <
;
ÏÏ< =
var
ĞĞ 

oENEmpresa
ĞĞ "
=
ĞĞ# $
new
ĞĞ% (
	ENEmpresa
ĞĞ) 2
(
ĞĞ2 3
)
ĞĞ3 4
;
ĞĞ4 5
var
ÑÑ 

oListError
ÑÑ "
=
ÑÑ# $
Array
ÑÑ% *
.
ÑÑ* +
Empty
ÑÑ+ 0
<
ÑÑ0 1!
ENErrorComunicacion
ÑÑ1 D
>
ÑÑD E
(
ÑÑE F
)
ÑÑF G
;
ÑÑG H
var
ÓÓ ,
oListComprobanteElectronicoXML
ÓÓ 6
=
ÓÓ7 8
new
ÓÓ9 <
List
ÓÓ= A
<
ÓÓA B+
ComprobanteElectronicoXMLCabE
ÓÓB _
>
ÓÓ_ `
(
ÓÓ` a
)
ÓÓa b
;
ÓÓb c
var
ÔÔ !
oComprobElecXMLCabE
ÔÔ +
=
ÔÔ, -
new
ÔÔ. 1+
ComprobanteElectronicoXMLCabE
ÔÔ2 O
(
ÔÔO P
)
ÔÔP Q
;
ÔÔQ R
var
ÖÖ 
xCodigoBarras
ÖÖ %
=
ÖÖ& '
Array
ÖÖ( -
.
ÖÖ- .
Empty
ÖÖ. 3
<
ÖÖ3 4
byte
ÖÖ4 8
>
ÖÖ8 9
(
ÖÖ9 :
)
ÖÖ: ;
;
ÖÖ; <
int
×× 
wTipoCodigoTCI
×× &
=
××' (
$num
××) *
;
××* +
int
ÙÙ 
i
ÙÙ 
=
ÙÙ 
$num
ÙÙ 
;
ÙÙ 

objTablasE
ÛÛ 
=
ÛÛ  
new
ÛÛ! $
TablasAD
ÛÛ% -
(
ÛÛ- .
)
ÛÛ. /
.
ÛÛ/ 0'
Sp_Tablas_ConsultaEntidad
ÛÛ0 I
(
ÛÛI J
new
ÛÛJ M
TablasE
ÛÛN U
(
ÛÛU V
$str
ÛÛV r
,
ÛÛr s
$str
ÛÛt x
,
ÛÛx y
$num
ÛÛz |
,
ÛÛ| }
$num
ÛÛ~ 
,ÛÛ €
-ÛÛ ‚
$numÛÛ‚ ƒ
)ÛÛƒ „
)ÛÛ„ …
;ÛÛ… †
wTipoCodigoTCI
ÜÜ "
=
ÜÜ# $
int
ÜÜ% (
.
ÜÜ( )
Parse
ÜÜ) .
(
ÜÜ. /

objTablasE
ÜÜ/ 9
.
ÜÜ9 :
Valor
ÜÜ: ?
.
ÜÜ? @
ToString
ÜÜ@ H
(
ÜÜH I
)
ÜÜI J
)
ÜÜJ K
;
ÜÜK L
if
ŞŞ 
(
ŞŞ 
pSistema
ŞŞ  
==
ŞŞ! #
$str
ŞŞ$ '
)
ŞŞ' (
{
ßß 
if
àà 
(
àà 
util
àà  
.
àà  !
Left
àà! %
(
àà% &
pCodComprobante
àà& 5
,
àà5 6
$num
àà7 8
)
àà8 9
==
àà: <
$str
àà= @
|
ààA B
util
ààC G
.
ààG H
Left
ààH L
(
ààL M
pCodComprobante
ààM \
,
àà\ ]
$num
àà^ _
)
àà_ `
==
ààa c
$str
ààd g
)
ààg h
{
áá ,
oListComprobanteElectronicoXML
ââ :
=
ââ; <
new
ââ= @(
ComprobantesElectronicosAD
ââA [
(
ââ[ \
)
ââ\ ]
.
ââ] ^5
&Sp_ComprobantesElectronicosCSF_XML_Cabââ^ „
(ââ„ …
newââ… ˆ)
ComprobantesElectronicosEââ‰ ¢
(ââ¢ £
pCodComprobanteââ£ ²
)ââ² ³
)ââ³ ´
;ââ´ µ
}
ãã 
else
ää 
if
ää 
(
ää  !
util
ää! %
.
ää% &
Left
ää& *
(
ää* +
pCodComprobante
ää+ :
,
ää: ;
$num
ää< =
)
ää= >
==
ää? A
$str
ääB E
)
ääE F
{
åå ,
oListComprobanteElectronicoXML
ææ :
=
ææ; <
new
ææ= @(
ComprobantesElectronicosAD
ææA [
(
ææ[ \
)
ææ\ ]
.
ææ] ^'
Sp_NotaElectronicaCSF_XML
ææ^ w
(
ææw x
new
ææx {(
ComprobantesElectronicosEææ| •
(ææ• –
pCodComprobanteææ– ¥
,ææ¥ ¦
$strææ§ ¬
)ææ¬ ­
)ææ­ ®
;ææ® ¯
}
çç 
}
èè 
else
éé 
if
éé 
(
éé 
pSistema
éé %
==
éé& (
$str
éé) ,
)
éé, -
{
êê 
if
ëë 
(
ëë 
util
ëë  
.
ëë  !
Left
ëë! %
(
ëë% &
pCodComprobante
ëë& 5
,
ëë5 6
$num
ëë7 8
)
ëë8 9
==
ëë: <
$str
ëë= @
|
ëëA B
util
ëëC G
.
ëëG H
Left
ëëH L
(
ëëL M
pCodComprobante
ëëM \
,
ëë\ ]
$num
ëë^ _
)
ëë_ `
==
ëëa c
$str
ëëd g
)
ëëg h
{
ìì ,
oListComprobanteElectronicoXML
íí :
=
íí; <
new
íí= @(
ComprobantesElectronicosAD
ííA [
(
íí[ \
)
íí\ ]
.
íí] ^5
&Sp_ComprobantesElectronicosLOG_XML_Cabíí^ „
(íí„ …
newíí… ˆ)
ComprobantesElectronicosEíí‰ ¢
(íí¢ £
pCodComprobanteíí£ ²
)íí² ³
)íí³ ´
;íí´ µ
}
îî 
else
ïï 
if
ïï 
(
ïï  !
util
ïï! %
.
ïï% &
Left
ïï& *
(
ïï* +
pCodComprobante
ïï+ :
,
ïï: ;
$num
ïï< =
)
ïï= >
==
ïï? A
$str
ïïB E
)
ïïE F
{
ğğ ,
oListComprobanteElectronicoXML
ññ :
=
ññ; <
new
ññ= @(
ComprobantesElectronicosAD
ññA [
(
ññ[ \
)
ññ\ ]
.
ññ] ^'
Sp_NotaElectronicaLOG_XML
ññ^ w
(
ññw x
new
ññx {(
ComprobantesElectronicosEññ| •
(ññ• –
pCodComprobanteññ– ¥
)ññ¥ ¦
)ññ¦ §
;ññ§ ¨
}
òò 
}
óó 
if
÷÷ 
(
÷÷ ,
oListComprobanteElectronicoXML
÷÷ 6
.
÷÷6 7
Count
÷÷7 <
==
÷÷= ?
$num
÷÷@ A
)
÷÷A B
{
øø 
xResult
ùù 
.
ùù  !
ErroresComprobantes
ùù  3
=
ùù4 5$
ErroresComprobantesTCI
ùù6 L
.
ùùL M.
 ComprobanteNoExiste_NoHayDetalle
ùùM m
;
ùùm n
break
úú 
;
úú 
}
ûû 
else
üü 
if
üü 
(
üü !
oComprobElecXMLCabE
üü 0
.
üü0 1
Cuadre
üü1 7
==
üü8 :
$str
üü; @
)
üü@ A
{
ıı 
xResult
şş 
.
şş  !
ErroresComprobantes
şş  3
=
şş4 5$
ErroresComprobantesTCI
şş6 L
.
şşL M
DetalleNegativo
şşM \
;
şş\ ]
break
ÿÿ 
;
ÿÿ 
}
€€ !
oComprobElecXMLCabE
ƒƒ '
=
ƒƒ( ),
oListComprobanteElectronicoXML
ƒƒ* H
[
ƒƒH I
$num
ƒƒI J
]
ƒƒJ K
;
ƒƒK L
var
†† 7
)oComprobanteMontosAdicionalesObligatorios
†† A
=
††B C
new
††D G8
*ENComprobanteMontosAdicionalesObligatorios
††H r
[
††r s
$num
††s t
]
††t u
;
††u v
i
‡‡ 
=
‡‡ 
$num
‡‡ 
;
‡‡ 7
)oComprobanteMontosAdicionalesObligatorios
ˆˆ =
[
ˆˆ= >
i
ˆˆ> ?
]
ˆˆ? @
=
ˆˆA B
new
ˆˆC F8
*ENComprobanteMontosAdicionalesObligatorios
ˆˆG q
(
ˆˆq r
)
ˆˆr s
;
ˆˆs t7
)oComprobanteMontosAdicionalesObligatorios
‰‰ =
[
‰‰= >
i
‰‰> ?
]
‰‰? @
.
‰‰@ A
Codigo
‰‰A G
=
‰‰H I
$str
‰‰J P
;
‰‰P Q7
)oComprobanteMontosAdicionalesObligatorios
ŠŠ =
[
ŠŠ= >
i
ŠŠ> ?
]
ŠŠ? @
.
ŠŠ@ A
Monto
ŠŠA F
=
ŠŠG H
decimal
ŠŠI P
.
ŠŠP Q
Parse
ŠŠQ V
(
ŠŠV W
decimal
ŠŠW ^
.
ŠŠ^ _
Parse
ŠŠ_ d
(
ŠŠd e!
oComprobElecXMLCabE
ŠŠe x
.
ŠŠx y
C_MontoAfectoŠŠy †
)ŠŠ† ‡
.ŠŠ‡ ˆ
ToStringŠŠˆ 
(ŠŠ ‘
$strŠŠ‘ 
)ŠŠ Ÿ
)ŠŠŸ  
;ŠŠ  ¡
i
ŒŒ 
=
ŒŒ 
$num
ŒŒ 
;
ŒŒ 7
)oComprobanteMontosAdicionalesObligatorios
 =
[
= >
i
> ?
]
? @
=
A B
new
C F8
*ENComprobanteMontosAdicionalesObligatorios
G q
(
q r
)
r s
;
s t7
)oComprobanteMontosAdicionalesObligatorios
 =
[
= >
i
> ?
]
? @
.
@ A
Codigo
A G
=
H I
$str
J P
;
P Q7
)oComprobanteMontosAdicionalesObligatorios
 =
[
= >
i
> ?
]
? @
.
@ A
Monto
A F
=
G H
decimal
I P
.
P Q
Parse
Q V
(
V W
decimal
W ^
.
^ _
Parse
_ d
(
d e!
oComprobElecXMLCabE
e x
.
x y
C_MontoInafectoy ˆ
)ˆ ‰
.‰ Š
ToStringŠ ’
(’ “
$str“  
)  ¡
)¡ ¢
;¢ £
i
‘‘ 
=
‘‘ 
$num
‘‘ 
;
‘‘ 7
)oComprobanteMontosAdicionalesObligatorios
’’ =
[
’’= >
i
’’> ?
]
’’? @
=
’’A B
new
’’C F8
*ENComprobanteMontosAdicionalesObligatorios
’’G q
(
’’q r
)
’’r s
;
’’s t7
)oComprobanteMontosAdicionalesObligatorios
““ =
[
““= >
i
““> ?
]
““? @
.
““@ A
Codigo
““A G
=
““H I
$str
““J P
;
““P Q7
)oComprobanteMontosAdicionalesObligatorios
”” =
[
””= >
i
””> ?
]
””? @
.
””@ A
Monto
””A F
=
””G H
$num
””I J
;
””J K
oENComprobante
–– "
.
––" #6
(ComprobanteMontosAdicionalesObligatorios
––# K
=
––L M7
)oComprobanteMontosAdicionalesObligatorios
––N w
;
––w x
wTotal_valorventa
™™ %
=
™™& '
decimal
™™( /
.
™™/ 0
Parse
™™0 5
(
™™5 6!
oComprobElecXMLCabE
™™6 I
.
™™I J
TotalValorVenta
™™J Y
)
™™Y Z
.
™™Z [
ToString
™™[ c
(
™™c d
$str
™™d q
)
™™q r
;
™™r s 
wTotal_precioventa
šš &
=
šš' (
decimal
šš) 0
.
šš0 1
Parse
šš1 6
(
šš6 7!
oComprobElecXMLCabE
šš7 J
.
ššJ K
TotalPrecioVenta
ššK [
)
šš[ \
.
šš\ ]
ToString
šš] e
(
šše f
$str
ššf s
)
ššs t
;
ššt u
if
œœ 
(
œœ !
oComprobElecXMLCabE
œœ +
.
œœ+ ,
FlgGratuito
œœ, 7
==
œœ8 :
$str
œœ; >
)
œœ> ?
{
 
wTotal_valorventa
 )
=
* +
$str
, 2
;
2 3 
wTotal_precioventa
ŸŸ *
=
ŸŸ+ ,
$str
ŸŸ- 3
;
ŸŸ3 4
}
   
var
££ 2
$oENComprobanteMontosAdicionalesOtros
££ <
=
££= >
new
££? B1
#ENComprobanteMontosAdicionalesOtros
££C f
(
££f g
)
££g h
;
££h i
if
¤¤ 
(
¤¤ !
oComprobElecXMLCabE
¤¤ +
.
¤¤+ ,
FlgGratuito
¤¤, 7
==
¤¤8 :
$str
¤¤; >
&
¤¤? @
(
¤¤A B
util
¤¤B F
.
¤¤F G
Left
¤¤G K
(
¤¤K L
pCodComprobante
¤¤L [
,
¤¤[ \
$num
¤¤] ^
)
¤¤^ _
==
¤¤` b
$str
¤¤c f
|
¤¤g h
(
¤¤i j
util
¤¤j n
.
¤¤n o
Left
¤¤o s
(
¤¤s t
pCodComprobante¤¤t ƒ
,¤¤ƒ „
$num¤¤… †
)¤¤† ‡
==¤¤ˆ Š
$str¤¤‹ 
)¤¤ 
)¤¤ 
)¤¤ ‘
{
¥¥ 2
$oENComprobanteMontosAdicionalesOtros
¦¦ <
.
¦¦< =
Codigo
¦¦= C
=
¦¦D E
$str
¦¦F L
;
¦¦L M2
$oENComprobanteMontosAdicionalesOtros
§§ <
.
§§< =
Monto
§§= B
=
§§C D
decimal
§§E L
.
§§L M
Parse
§§M R
(
§§R S
decimal
§§S Z
.
§§Z [
Parse
§§[ `
(
§§` a!
oComprobElecXMLCabE
§§a t
.
§§t u
C_MontoGratuito§§u „
)§§„ …
.§§… †
ToString§§† 
(§§ 
$str§§ œ
)§§œ 
)§§ 
;§§ Ÿ
oGeneral
¨¨  
.
¨¨  !
oENComprobante
¨¨! /
.
¨¨/ 0/
!ComprobanteMontosAdicionalesOtros
¨¨0 Q
[
¨¨Q R
$num
¨¨R S
]
¨¨S T
=
¨¨U V2
$oENComprobanteMontosAdicionalesOtros
¨¨W {
;
¨¨{ |
}
©© 
var
­­ %
oENComprobanteImpuestos
­­ /
=
­­0 1
new
­­2 5$
ENComprobanteImpuestos
­­6 L
[
­­L M
$num
­­M N
]
­­N O
;
­­O P%
oENComprobanteImpuestos
®® +
[
®®+ ,
$num
®®, -
]
®®- .
=
®®/ 0
new
®®1 4$
ENComprobanteImpuestos
®®5 K
(
®®K L
)
®®L M
;
®®M N%
oENComprobanteImpuestos
¯¯ +
[
¯¯+ ,
$num
¯¯, -
]
¯¯- .
.
¯¯. /
ImporteTributo
¯¯/ =
=
¯¯> ?
decimal
¯¯@ G
.
¯¯G H
Parse
¯¯H M
(
¯¯M N
decimal
¯¯N U
.
¯¯U V
Parse
¯¯V [
(
¯¯[ \!
oComprobElecXMLCabE
¯¯\ o
.
¯¯o p

C_MontoIgv
¯¯p z
)
¯¯z {
.
¯¯{ |
ToString¯¯| „
(¯¯„ …
$str¯¯… ’
)¯¯’ “
)¯¯“ ”
;¯¯” •%
oENComprobanteImpuestos
°° +
[
°°+ ,
$num
°°, -
]
°°- .
.
°°. /
ImporteExplicito
°°/ ?
=
°°@ A
decimal
°°B I
.
°°I J
Parse
°°J O
(
°°O P
decimal
°°P W
.
°°W X
Parse
°°X ]
(
°°] ^!
oComprobElecXMLCabE
°°^ q
.
°°q r

C_MontoIgv
°°r |
)
°°| }
.
°°} ~
ToString°°~ †
(°°† ‡
$str°°‡ ”
)°°” •
)°°• –
;°°– —%
oENComprobanteImpuestos
±± +
[
±±+ ,
$num
±±, -
]
±±- .
.
±±. /
CodigoTributo
±±/ <
=
±±= >!
oComprobElecXMLCabE
±±? R
.
±±R S

CodTributo
±±S ]
;
±±] ^%
oENComprobanteImpuestos
²² +
[
²²+ ,
$num
²², -
]
²²- .
.
²². /

DesTributo
²²/ 9
=
²²: ;!
oComprobElecXMLCabE
²²< O
.
²²O P

DesTributo
²²P Z
;
²²Z [%
oENComprobanteImpuestos
³³ +
[
³³+ ,
$num
³³, -
]
³³- .
.
³³. /
CodigoUN
³³/ 7
=
³³8 9!
oComprobElecXMLCabE
³³: M
.
³³M N
CodUN
³³N S
;
³³S T
oENComprobante
µµ "
.
µµ" #"
ComprobanteImpuestos
µµ# 7
=
µµ8 9%
oENComprobanteImpuestos
µµ: Q
;
µµQ R
var
¹¹ 
oENSalud
¹¹  
=
¹¹! "
new
¹¹# &
ENSalud
¹¹' .
(
¹¹. /
)
¹¹/ 0
;
¹¹0 1
oENSalud
ºº 
.
ºº 
Concepto
ºº %
=
ºº& '!
oComprobElecXMLCabE
ºº( ;
.
ºº; <
Concepto
ºº< D
.
ººD E
Replace
ººE L
(
ººL M
$str
ººM X
,
ººX Y
$str
ººZ \
)
ºº\ ]
.
ºº] ^
Replace
ºº^ e
(
ººe f
$str
ººf k
,
ººk l
$str
ººm o
)
ººo p
.
ººp q
Trim
ººq u
(
ººu v
)
ººv w
;
ººw x
oENSalud
»» 
.
»» 
OAM
»»  
=
»»! "!
oComprobElecXMLCabE
»»# 6
.
»»6 7
CodAtencion
»»7 B
;
»»B C
oENSalud
¼¼ 
.
¼¼ 
Historia
¼¼ %
=
¼¼& '!
oComprobElecXMLCabE
¼¼( ;
.
¼¼; <
CodPaciente
¼¼< G
;
¼¼G H
oENSalud
½½ 
.
½½ 
Paciente
½½ %
=
½½& '!
oComprobElecXMLCabE
½½( ;
.
½½; <
NombrePaciente
½½< J
.
½½J K
Replace
½½K R
(
½½R S
$str
½½S ^
,
½½^ _
$str
½½` b
)
½½b c
.
½½c d
Replace
½½d k
(
½½k l
$str
½½l q
,
½½q r
$str
½½s u
)
½½u v
.
½½v w
Trim
½½w {
(
½½{ |
)
½½| }
;
½½} ~
oENSalud
¾¾ 
.
¾¾ 
Titular
¾¾ $
=
¾¾% &!
oComprobElecXMLCabE
¾¾' :
.
¾¾: ;
NombreTitular
¾¾; H
.
¾¾H I
Replace
¾¾I P
(
¾¾P Q
$str
¾¾Q \
,
¾¾\ ]
$str
¾¾^ `
)
¾¾` a
.
¾¾a b
Replace
¾¾b i
(
¾¾i j
$str
¾¾j o
,
¾¾o p
$str
¾¾q s
)
¾¾s t
.
¾¾t u
Trim
¾¾u y
(
¾¾y z
)
¾¾z {
;
¾¾{ |
oENSalud
¿¿ 
.
¿¿ 
Empresa
¿¿ $
=
¿¿% &
pSistema
¿¿' /
==
¿¿0 2
$str
¿¿3 6
?
¿¿7 8!
oComprobElecXMLCabE
¿¿9 L
.
¿¿L M
	NombreCia
¿¿M V
.
¿¿V W
Replace
¿¿W ^
(
¿¿^ _
$str
¿¿_ j
,
¿¿j k
$str
¿¿l n
)
¿¿n o
.
¿¿o p
Replace
¿¿p w
(
¿¿w x
$str
¿¿x }
,
¿¿} ~
$str¿¿ 
)¿¿ ‚
.¿¿‚ ƒ
Trim¿¿ƒ ‡
(¿¿‡ ˆ
)¿¿ˆ ‰
:¿¿Š ‹
$str¿¿Œ 
;¿¿ 
oENSalud
ÀÀ 
.
ÀÀ 
Poliza
ÀÀ #
=
ÀÀ$ %
pSistema
ÀÀ& .
==
ÀÀ/ 1
$str
ÀÀ2 5
?
ÀÀ6 7!
oComprobElecXMLCabE
ÀÀ8 K
.
ÀÀK L
	CodPoliza
ÀÀL U
.
ÀÀU V
Trim
ÀÀV Z
(
ÀÀZ [
)
ÀÀ[ \
:
ÀÀ] ^
$str
ÀÀ_ a
;
ÀÀa b
oENSalud
ÁÁ 
.
ÁÁ 
Codigo
ÁÁ #
=
ÁÁ$ %
pSistema
ÁÁ& .
==
ÁÁ/ 1
$str
ÁÁ2 5
?
ÁÁ6 7!
oComprobElecXMLCabE
ÁÁ8 K
.
ÁÁK L
Ciuu
ÁÁL P
:
ÁÁQ R!
oComprobElecXMLCabE
ÁÁS f
.
ÁÁf g
CodVenta
ÁÁg o
;
ÁÁo p
if
ÃÃ 
(
ÃÃ 
pSistema
ÃÃ  
==
ÃÃ! #
$str
ÃÃ$ '
)
ÃÃ' (
{
ÄÄ 
oENSalud
ÅÅ  
.
ÅÅ  !
Liquidacion
ÅÅ! ,
=
ÅÅ- .!
oComprobElecXMLCabE
ÅÅ/ B
.
ÅÅB C
CodLiquidacion
ÅÅC Q
;
ÅÅQ R
oENSalud
ÆÆ  
.
ÆÆ  !

Habitacion
ÆÆ! +
=
ÆÆ, -!
oComprobElecXMLCabE
ÆÆ. A
.
ÆÆA B
Cama
ÆÆB F
;
ÆÆF G
}
ÇÇ 
else
ÈÈ 
if
ÈÈ 
(
ÈÈ 
pSistema
ÈÈ %
==
ÈÈ& (
$str
ÈÈ) ,
)
ÈÈ, -
{
ÉÉ 
oENSalud
ÊÊ  
.
ÊÊ  !
	Coaseguro
ÊÊ! *
=
ÊÊ+ ,!
oComprobElecXMLCabE
ÊÊ- @
.
ÊÊ@ A!
PorcentajeCoAseguro
ÊÊA T
;
ÊÊT U
}
ËË 
oENComprobante
ÍÍ "
.
ÍÍ" #
Salud
ÍÍ# (
=
ÍÍ) *
oENSalud
ÍÍ+ 3
;
ÍÍ3 4
var
ÑÑ 
oENTexto
ÑÑ  
=
ÑÑ! "
new
ÑÑ# &
ENTexto
ÑÑ' .
[
ÑÑ. /
$num
ÑÑ/ 0
]
ÑÑ0 1
;
ÑÑ1 2
oENTexto
ÒÒ 
[
ÒÒ 
$num
ÒÒ 
]
ÒÒ 
=
ÒÒ  !
new
ÒÒ" %
ENTexto
ÒÒ& -
(
ÒÒ- .
)
ÒÒ. /
;
ÒÒ/ 0
oENTexto
ÓÓ 
[
ÓÓ 
$num
ÓÓ 
]
ÓÓ 
.
ÓÓ  
Texto1
ÓÓ  &
=
ÓÓ' (!
oComprobElecXMLCabE
ÓÓ) <
.
ÓÓ< =
Texto1
ÓÓ= C
.
ÓÓC D
Trim
ÓÓD H
(
ÓÓH I
)
ÓÓI J
;
ÓÓJ K
oENComprobante
ÔÔ "
.
ÔÔ" #
Texto
ÔÔ# (
=
ÔÔ) *
oENTexto
ÔÔ+ 3
;
ÔÔ3 4
var
ØØ 
oENSucursal
ØØ #
=
ØØ$ %
new
ØØ& )

ENSucursal
ØØ* 4
[
ØØ4 5
$num
ØØ5 6
]
ØØ6 7
;
ØØ7 8
oENSucursal
ÙÙ 
[
ÙÙ  
$num
ÙÙ  !
]
ÙÙ! "
=
ÙÙ# $
new
ÙÙ% (

ENSucursal
ÙÙ) 3
(
ÙÙ3 4
)
ÙÙ4 5
;
ÙÙ5 6
oENSucursal
ÚÚ 
[
ÚÚ  
$num
ÚÚ  !
]
ÚÚ! "
.
ÚÚ" #
	Direccion
ÚÚ# ,
=
ÚÚ- .!
oComprobElecXMLCabE
ÚÚ/ B
.
ÚÚB C
SucDireccion
ÚÚC O
.
ÚÚO P
Trim
ÚÚP T
(
ÚÚT U
)
ÚÚU V
;
ÚÚV W
oENComprobante
ÛÛ "
.
ÛÛ" #
Sucursal
ÛÛ# +
=
ÛÛ, -
oENSucursal
ÛÛ. 9
;
ÛÛ9 :
if
ßß 
(
ßß !
oComprobElecXMLCabE
ßß +
.
ßß+ ,
FlgGratuito
ßß, 7
==
ßß8 :
$str
ßß; >
&
ßß? @
(
ßßA B
util
ßßB F
.
ßßF G
Left
ßßG K
(
ßßK L
pCodComprobante
ßßL [
,
ßß[ \
$num
ßß] ^
)
ßß^ _
==
ßß` b
$str
ßßc f
|
ßßg h
util
ßßi m
.
ßßm n
Left
ßßn r
(
ßßr s
pCodComprobanteßßs ‚
,ßß‚ ƒ
$numßß„ …
)ßß… †
==ßß‡ ‰
$strßßŠ 
)ßß 
)ßß 
{
àà 
var
áá 2
$oENComprobantePropiedadesAdicionales
áá @
=
ááA B
new
ááC F1
#ENComprobantePropiedadesAdicionales
ááG j
(
ááj k
)
áák l
;
áál m2
$oENComprobantePropiedadesAdicionales
ââ <
.
ââ< =
Codigo
ââ= C
=
ââD E
$str
ââF L
;
ââL M2
$oENComprobantePropiedadesAdicionales
ãã <
.
ãã< =
Valor
ãã= B
=
ããC D
TextoGratuito
ããE R
;
ããR S
oENComprobante
ää &
.
ää& '/
!ComprobantePropiedadesAdicionales
ää' H
[
ääH I
$num
ääI J
]
ääJ K
=
ääL M2
$oENComprobantePropiedadesAdicionales
ääN r
;
äär s
}
åå 
if
çç 
(
çç 
util
çç 
.
çç 
Left
çç !
(
çç! "
pCodComprobante
çç" 1
,
çç1 2
$num
çç3 4
)
çç4 5
==
çç6 8
$str
çç9 <
&
çç= >
double
çç? E
.
ççE F
Parse
ççF K
(
ççK L!
oComprobElecXMLCabE
ççL _
.
çç_ `
DetraccionMonto
çç` o
)
çço p
>
ççq r
$num
ççs u
&
ççv w
pSistemaççx €
==çç ƒ
$strçç„ ‡
)çç‡ ˆ
{
èè 
var
ïï 2
$oENComprobantePropiedadesAdicionales
ïï @
=
ïïA B
new
ïïC F1
#ENComprobantePropiedadesAdicionales
ïïG j
[
ïïj k
$num
ïïk l
]
ïïl m
;
ïïm n2
$oENComprobantePropiedadesAdicionales
ğğ <
[
ğğ< =
$num
ğğ= >
]
ğğ> ?
=
ğğ@ A
new
ğğB E1
#ENComprobantePropiedadesAdicionales
ğğF i
(
ğği j
)
ğğj k
;
ğğk l2
$oENComprobantePropiedadesAdicionales
ññ <
[
ññ< =
$num
ññ= >
]
ññ> ?
.
ññ? @
Codigo
ññ@ F
=
ññG H
$str
ññI O
;
ññO P2
$oENComprobantePropiedadesAdicionales
òò <
[
òò< =
$num
òò= >
]
òò> ?
.
òò? @
Valor
òò@ E
=
òòF G
$str
òòH g
;
òòg h
oENComprobante
óó &
.
óó& '/
!ComprobantePropiedadesAdicionales
óó' H
=
óóI J2
$oENComprobantePropiedadesAdicionales
óóK o
;
óóo p
}
ôô 

oENEmpresa
øø 
.
øø !
CodigoTipoDocumento
øø 2
=
øø3 4!
oComprobElecXMLCabE
øø5 H
.
øøH I%
EmpresaTipoDocIdentidad
øøI `
;
øø` a

oENEmpresa
ùù 
.
ùù 
Ruc
ùù "
=
ùù# $!
oComprobElecXMLCabE
ùù% 8
.
ùù8 9

EmpresaRuc
ùù9 C
;
ùùC D

oENEmpresa
úú 
.
úú 
RazonSocial
úú *
=
úú+ ,!
oComprobElecXMLCabE
úú- @
.
úú@ A
EmpresaNombre
úúA N
.
úúN O
Replace
úúO V
(
úúV W
$str
úúW b
,
úúb c
$str
úúd f
)
úúf g
.
úúg h
Replace
úúh o
(
úúo p
$str
úúp u
,
úúu v
$str
úúw y
)
úúy z
.
úúz {
Trim
úú{ 
(úú €
)úú€ 
;úú ‚

oENEmpresa
ûû 
.
ûû 
CodDistrito
ûû *
=
ûû+ ,!
oComprobElecXMLCabE
ûû- @
.
ûû@ A
CodDistrito
ûûA L
;
ûûL M

oENEmpresa
üü 
.
üü 
Calle
üü $
=
üü% &!
oComprobElecXMLCabE
üü' :
.
üü: ;
EmpresaDireccion
üü; K
.
üüK L
Replace
üüL S
(
üüS T
$str
üüT _
,
üü_ `
$str
üüa c
)
üüc d
.
üüd e
Replace
üüe l
(
üül m
$str
üüm r
,
üür s
$str
üüt v
)
üüv w
.
üüw x
Trim
üüx |
(
üü| }
)
üü} ~
;
üü~ 

oENEmpresa
ıı 
.
ıı 
Telefono
ıı '
=
ıı( )!
oComprobElecXMLCabE
ıı* =
.
ıı= >
EmpresaTelefono
ıı> M
.
ııM N
Trim
ııN R
(
ııR S
)
ııS T
;
ııT U

oENEmpresa
şş 
.
şş 
CodPais
şş &
=
şş' (
$str
şş) -
;
şş- .

oENEmpresa
ÿÿ 
.
ÿÿ (
CodigoEstablecimientoSUNAT
ÿÿ 9
=
ÿÿ: ;!
oComprobElecXMLCabE
ÿÿ< O
.
ÿÿO P
CodigoEstabSUNAT
ÿÿP `
;
ÿÿ` a
oGeneral
 
.
 

oENEmpresa
 '
=
( )

oENEmpresa
* 4
;
4 5
if
…… 
(
…… 
util
…… 
.
…… 
Left
…… !
(
……! "
pCodComprobante
……" 1
,
……1 2
$num
……3 4
)
……4 5
==
……6 8
$str
……9 <
|
……= >
util
……? C
.
……C D
Left
……D H
(
……H I
pCodComprobante
……I X
,
……X Y
$num
……Z [
)
……[ \
==
……] _
$str
……` c
)
……c d
{
†† 
var
‡‡ &
oENComprobanteNotaDocRef
‡‡ 4
=
‡‡5 6
new
‡‡7 :%
ENComprobanteNotaDocRef
‡‡; R
(
‡‡R S
)
‡‡S T
;
‡‡T U&
oENComprobanteNotaDocRef
ˆˆ 0
.
ˆˆ0 1
Serie
ˆˆ1 6
=
ˆˆ7 8
util
ˆˆ9 =
.
ˆˆ= >
	Substring
ˆˆ> G
(
ˆˆG H!
oComprobElecXMLCabE
ˆˆH [
.
ˆˆ[ \ 
RefCodComprobanteE
ˆˆ\ n
,
ˆˆn o
$num
ˆˆp q
,
ˆˆq r
$num
ˆˆs t
)
ˆˆt u
;
ˆˆu v&
oENComprobanteNotaDocRef
‰‰ 0
.
‰‰0 1
Numero
‰‰1 7
=
‰‰8 9
util
‰‰: >
.
‰‰> ?
	Substring
‰‰? H
(
‰‰H I!
oComprobElecXMLCabE
‰‰I \
.
‰‰\ ] 
RefCodComprobanteE
‰‰] o
,
‰‰o p
$num
‰‰q r
,
‰‰r s
$num
‰‰t v
)
‰‰v w
;
‰‰w x&
oENComprobanteNotaDocRef
ŠŠ 0
.
ŠŠ0 1
TipoComprobante
ŠŠ1 @
=
ŠŠA B!
oComprobElecXMLCabE
ŠŠC V
.
ŠŠV W
RefTipoCompSunat
ŠŠW g
;
ŠŠg h&
oENComprobanteNotaDocRef
‹‹ 0
.
‹‹0 1
FechaDocRef
‹‹1 <
=
‹‹= >
DateTime
‹‹? G
.
‹‹G H
Parse
‹‹H M
(
‹‹M N!
oComprobElecXMLCabE
‹‹N a
.
‹‹a b
RefFechaEmision
‹‹b q
)
‹‹q r
.
‹‹r s
ToString
‹‹s {
(
‹‹{ |
$str‹‹| ˆ
)‹‹ˆ ‰
;‹‹‰ Š
oENComprobante
 &
.
& '*
ComprobanteNotaCreditoDocRef
' C
[
C D
$num
D E
]
E F
=
G H&
oENComprobanteNotaDocRef
I a
;
a b
}
 
if
““ 
(
““ 
util
““ 
.
““ 
Left
““ !
(
““! "
pCodComprobante
““" 1
,
““1 2
$num
““3 4
)
““4 5
==
““6 8
$str
““9 <
|
““= >
util
““? C
.
““C D
Left
““D H
(
““H I
pCodComprobante
““I X
,
““X Y
$num
““Z [
)
““[ \
==
““] _
$str
““` c
)
““c d
{
”” 
var
•• +
oENComprobanteMotivoDocumento
•• 9
=
••: ;
new
••< ?*
ENComprobanteMotivoDocumento
••@ \
(
••\ ]
)
••] ^
;
••^ _
var
–– 3
%oENComprobanteMotivoDocumentoSustento
–– A
=
––B C
new
––D G2
$ENComprobanteMotivoDocumentoSustento
––H l
(
––l m
)
––m n
;
––n o3
%oENComprobanteMotivoDocumentoSustento
˜˜ =
.
˜˜= >
Sustento
˜˜> F
=
˜˜G H!
oComprobElecXMLCabE
˜˜I \
.
˜˜\ ]
C_MotivoNota
˜˜] i
.
˜˜i j
Replace
˜˜j q
(
˜˜q r
$str
˜˜r }
,
˜˜} ~
$str˜˜ 
)˜˜ ‚
.˜˜‚ ƒ
Replace˜˜ƒ Š
(˜˜Š ‹
$str˜˜‹ 
,˜˜ ‘
$str˜˜’ ”
)˜˜” •
.˜˜• –
Trim˜˜– š
(˜˜š ›
)˜˜› œ
;˜˜œ +
oENComprobanteMotivoDocumento
šš 5
.
šš5 6
SerieDocRef
šš6 A
=
ššB C
util
ššD H
.
ššH I
	Substring
ššI R
(
ššR S!
oComprobElecXMLCabE
ššS f
.
ššf g 
RefCodComprobanteE
ššg y
,
ššy z
$num
šš{ |
,
šš| }
$num
šš~ 
)šš €
;šš€ +
oENComprobanteMotivoDocumento
›› 5
.
››5 6
NumeroDocRef
››6 B
=
››C D
util
››E I
.
››I J
	Substring
››J S
(
››S T!
oComprobElecXMLCabE
››T g
.
››g h 
RefCodComprobanteE
››h z
,
››z {
$num
››| }
,
››} ~
$num›› 
)›› ‚
;››‚ ƒ+
oENComprobanteMotivoDocumento
œœ 5
.
œœ5 6!
CodigoMotivoEmision
œœ6 I
=
œœJ K!
oComprobElecXMLCabE
œœL _
.
œœ_ `
C_CodMotivo_Sunat
œœ` q
.
œœq r
Trim
œœr v
(
œœv w
)
œœw x
;
œœx y
;
 +
oENComprobanteMotivoDocumento
ŸŸ 5
.
ŸŸ5 6
	Sustentos
ŸŸ6 ?
[
ŸŸ? @
$num
ŸŸ@ A
]
ŸŸA B
=
ŸŸC D3
%oENComprobanteMotivoDocumentoSustento
ŸŸE j
;
ŸŸj k
oENComprobante
¡¡ &
.
¡¡& '*
ComprobanteMotivosDocumentos
¡¡' C
[
¡¡C D
$num
¡¡D E
]
¡¡E F
=
¡¡G H+
oENComprobanteMotivoDocumento
¡¡I f
;
¡¡f g
}
¢¢ 
var
¦¦  
oENBienesServicios
¦¦ *
=
¦¦+ ,
new
¦¦- 0
ENBienesServicios
¦¦1 B
(
¦¦B C
)
¦¦C D
;
¦¦D E 
oENBienesServicios
§§ &
.
§§& '
Codigo
§§' -
=
§§. /
$str
§§0 6
;
§§6 7 
oENBienesServicios
¨¨ &
.
¨¨& '
Valor
¨¨' ,
=
¨¨- .!
oComprobElecXMLCabE
¨¨/ B
.
¨¨B C
CodTipoDetraccion
¨¨C T
;
¨¨T U
var
ªª 
oENDetraccion
ªª %
=
ªª& '
new
ªª( +
ENDetraccion
ªª, 8
(
ªª8 9
)
ªª9 :
;
ªª: ;
var
«« 
oENPorcentaje
«« %
=
««& '
new
««( +
ENPorcentaje
««, 8
(
««8 9
)
««9 :
;
««: ;
var
¬¬ 
oENMonto
¬¬  
=
¬¬! "
new
¬¬# &
ENMonto
¬¬' .
(
¬¬. /
)
¬¬/ 0
;
¬¬0 1
var
­­ 
oENNumeroCuenta
­­ '
=
­­( )
new
­­* -
ENNumeroCuenta
­­. <
(
­­< =
)
­­= >
;
­­> ?
oENPorcentaje
¯¯ !
.
¯¯! "
Codigo
¯¯" (
=
¯¯) *
$str
¯¯+ 1
;
¯¯1 2
oENPorcentaje
°° !
.
°°! "
Valor
°°" '
=
°°( )
decimal
°°* 1
.
°°1 2
Parse
°°2 7
(
°°7 8
decimal
°°8 ?
.
°°? @
Parse
°°@ E
(
°°E F!
oComprobElecXMLCabE
°°F Y
.
°°Y Z
DetraccionPorc
°°Z h
)
°°h i
.
°°i j
ToString
°°j r
(
°°r s
$str°°s €
)°°€ 
)°° ‚
;°°‚ ƒ
oENMonto
²² 
.
²² 
Codigo
²² #
=
²²$ %
$str
²²& ,
;
²², -
oENMonto
³³ 
.
³³ 
Valor
³³ "
=
³³# $
decimal
³³% ,
.
³³, -
Parse
³³- 2
(
³³2 3!
oComprobElecXMLCabE
³³3 F
.
³³F G
DetraccionMonto
³³G V
)
³³V W
;
³³W X
oENNumeroCuenta
µµ #
.
µµ# $
CodigoFormaPago
µµ$ 3
=
µµ4 5!
oComprobElecXMLCabE
µµ6 I
.
µµI J
	FormaPago
µµJ S
;
µµS T
oENNumeroCuenta
¶¶ #
.
¶¶# $
Codigo
¶¶$ *
=
¶¶+ ,
$str
¶¶- 3
;
¶¶3 4
oENNumeroCuenta
·· #
.
··# $
Valor
··$ )
=
··* +!
oComprobElecXMLCabE
··, ?
.
··? @!
DetraccionNroCuenta
··@ S
;
··S T
;
¸¸ 
oENDetraccion
¹¹ !
.
¹¹! "

Porcentaje
¹¹" ,
=
¹¹- .
new
¹¹/ 2
ENPorcentaje
¹¹3 ?
[
¹¹? @
$num
¹¹@ A
]
¹¹A B
;
¹¹B C
oENDetraccion
»» !
.
»»! "

Porcentaje
»»" ,
[
»», -
$num
»»- .
]
»». /
=
»»0 1
oENPorcentaje
»»2 ?
;
»»? @
;
¼¼ 
oENDetraccion
½½ !
.
½½! "
Monto
½½" '
=
½½( )
new
½½* -
ENMonto
½½. 5
[
½½5 6
$num
½½6 7
]
½½7 8
;
½½8 9
oENDetraccion
¾¾ !
.
¾¾! "
Monto
¾¾" '
[
¾¾' (
$num
¾¾( )
]
¾¾) *
=
¾¾+ ,
oENMonto
¾¾- 5
;
¾¾5 6
;
¿¿ 
oENDetraccion
ÀÀ !
.
ÀÀ! "
NumeroCuenta
ÀÀ" .
=
ÀÀ/ 0
new
ÀÀ1 4
ENNumeroCuenta
ÀÀ5 C
[
ÀÀC D
$num
ÀÀD E
]
ÀÀE F
;
ÀÀF G
oENDetraccion
ÁÁ !
.
ÁÁ! "
NumeroCuenta
ÁÁ" .
[
ÁÁ. /
$num
ÁÁ/ 0
]
ÁÁ0 1
=
ÁÁ2 3
oENNumeroCuenta
ÁÁ4 C
;
ÁÁC D
oENDetraccion
ÃÃ !
.
ÃÃ! "
BienesServicios
ÃÃ" 1
=
ÃÃ2 3
new
ÃÃ4 7
ENBienesServicios
ÃÃ8 I
[
ÃÃI J
$num
ÃÃJ K
]
ÃÃK L
;
ÃÃL M
oENDetraccion
ÄÄ !
.
ÄÄ! "
BienesServicios
ÄÄ" 1
[
ÄÄ1 2
$num
ÄÄ2 3
]
ÄÄ3 4
=
ÄÄ5 6 
oENBienesServicios
ÄÄ7 I
;
ÄÄI J
if
ÅÅ 
(
ÅÅ 
util
ÅÅ 
.
ÅÅ 
Left
ÅÅ !
(
ÅÅ! "
pCodComprobante
ÅÅ" 1
,
ÅÅ1 2
$num
ÅÅ3 4
)
ÅÅ4 5
==
ÅÅ6 8
$str
ÅÅ9 <
&
ÅÅ= >
double
ÅÅ? E
.
ÅÅE F
Parse
ÅÅF K
(
ÅÅK L!
oComprobElecXMLCabE
ÅÅL _
.
ÅÅ_ `
DetraccionMonto
ÅÅ` o
)
ÅÅo p
>
ÅÅq r
$num
ÅÅs u
&
ÅÅv w
pSistemaÅÅx €
==ÅÅ ƒ
$strÅÅ„ ‡
)ÅÅ‡ ˆ
{
ÆÆ 
oENComprobante
ÇÇ &
.
ÇÇ& '

Detraccion
ÇÇ' 1
=
ÇÇ2 3
new
ÇÇ4 7
ENDetraccion
ÇÇ8 D
[
ÇÇD E
$num
ÇÇE F
]
ÇÇF G
;
ÇÇG H
oENComprobante
ÈÈ &
.
ÈÈ& '

Detraccion
ÈÈ' 1
[
ÈÈ1 2
$num
ÈÈ2 3
]
ÈÈ3 4
=
ÈÈ5 6
oENDetraccion
ÈÈ7 D
;
ÈÈD E
}
ÉÉ 
var
ÌÌ 
oENMontosTotales
ÌÌ (
=
ÌÌ) *
new
ÌÌ+ .
ENMontosTotales
ÌÌ/ >
(
ÌÌ> ?
)
ÌÌ? @
;
ÌÌ@ A
if
ÎÎ 
(
ÎÎ 
(
ÎÎ 
util
ÎÎ 
.
ÎÎ 
Left
ÎÎ "
(
ÎÎ" #
pCodComprobante
ÎÎ# 2
,
ÎÎ2 3
$num
ÎÎ4 5
)
ÎÎ5 6
==
ÎÎ7 9
$str
ÎÎ: =
|
ÎÎ> ?
util
ÎÎ@ D
.
ÎÎD E
Left
ÎÎE I
(
ÎÎI J
pCodComprobante
ÎÎJ Y
,
ÎÎY Z
$num
ÎÎ[ \
)
ÎÎ\ ]
==
ÎÎ^ `
$str
ÎÎa d
|
ÎÎe f
util
ÎÎg k
.
ÎÎk l
Left
ÎÎl p
(
ÎÎp q
pCodComprobanteÎÎq €
,ÎÎ€ 
$numÎÎ‚ ƒ
)ÎÎƒ „
==ÎÎ… ‡
$strÎÎˆ ‹
|ÎÎŒ 
utilÎÎ ’
.ÎÎ’ “
LeftÎÎ“ —
(ÎÎ— ˜
pCodComprobanteÎÎ˜ §
,ÎÎ§ ¨
$numÎÎ© ª
)ÎÎª «
==ÎÎ¬ ®
$strÎÎ¯ ²
)ÎÎ² ³
&ÎÎ´ µ#
oComprobElecXMLCabEÎÎ¶ É
.ÎÎÉ Ê
FlgGratuitoÎÎÊ Õ
==ÎÎÖ Ø
$strÎÎÙ Ü
)ÎÎÜ İ
{
ÏÏ 
var
ÒÒ 
oENGratuito
ÒÒ '
=
ÒÒ( )
new
ÒÒ* -

ENGratuito
ÒÒ. 8
(
ÒÒ8 9
)
ÒÒ9 :
;
ÒÒ: ;
var
ÓÓ !
oENGratuitoImpuesto
ÓÓ /
=
ÓÓ0 1
new
ÓÓ2 5 
ENGratuitoImpuesto
ÓÓ6 H
(
ÓÓH I
)
ÓÓI J
;
ÓÓJ K!
oENGratuitoImpuesto
ÕÕ +
.
ÕÕ+ ,
Base
ÕÕ, 0
=
ÕÕ1 2
double
ÕÕ3 9
.
ÕÕ9 :
Parse
ÕÕ: ?
(
ÕÕ? @
double
ÕÕ@ F
.
ÕÕF G
Parse
ÕÕG L
(
ÕÕL M!
oComprobElecXMLCabE
ÕÕM `
.
ÕÕ` a
C_MontoGratuito
ÕÕa p
)
ÕÕp q
.
ÕÕq r
ToString
ÕÕr z
(
ÕÕz {
$strÕÕ{ ˆ
)ÕÕˆ ‰
)ÕÕ‰ Š
;ÕÕŠ ‹!
oENGratuitoImpuesto
ÖÖ +
.
ÖÖ+ ,
ValorImpuesto
ÖÖ, 9
=
ÖÖ: ;
double
ÖÖ< B
.
ÖÖB C
Parse
ÖÖC H
(
ÖÖH I
double
ÖÖI O
.
ÖÖO P
Parse
ÖÖP U
(
ÖÖU V!
oComprobElecXMLCabE
ÖÖV i
.
ÖÖi j
MtgValorImpuesto
ÖÖj z
)
ÖÖz {
.
ÖÖ{ |
ToStringÖÖ| „
(ÖÖ„ …
$strÖÖ… ’
)ÖÖ’ “
)ÖÖ“ ”
;ÖÖ” •
oENGratuito
ØØ #
.
ØØ# $
Total
ØØ$ )
=
ØØ* +
double
ØØ, 2
.
ØØ2 3
Parse
ØØ3 8
(
ØØ8 9
double
ØØ9 ?
.
ØØ? @
Parse
ØØ@ E
(
ØØE F!
oComprobElecXMLCabE
ØØF Y
.
ØØY Z
C_MontoGratuito
ØØZ i
)
ØØi j
.
ØØj k
ToString
ØØk s
(
ØØs t
$strØØt 
)ØØ ‚
)ØØ‚ ƒ
;ØØƒ „
oENGratuito
ÙÙ #
.
ÙÙ# $
GratuitoImpuesto
ÙÙ$ 4
=
ÙÙ5 6!
oENGratuitoImpuesto
ÙÙ7 J
;
ÙÙJ K
oENMontosTotales
ÛÛ (
.
ÛÛ( )
Gratuito
ÛÛ) 1
=
ÛÛ2 3
oENGratuito
ÛÛ4 ?
;
ÛÛ? @
}
ÜÜ 
else
İİ 
if
İİ 
(
İİ 
(
İİ 
util
İİ "
.
İİ" #
Left
İİ# '
(
İİ' (
pCodComprobante
İİ( 7
,
İİ7 8
$num
İİ9 :
)
İİ: ;
==
İİ< >
$str
İİ? B
|
İİC D
util
İİE I
.
İİI J
Left
İİJ N
(
İİN O
pCodComprobante
İİO ^
,
İİ^ _
$num
İİ` a
)
İİa b
==
İİc e
$str
İİf i
|
İİj k
util
İİl p
.
İİp q
Left
İİq u
(
İİu v
pCodComprobanteİİv …
,İİ… †
$numİİ‡ ˆ
)İİˆ ‰
==İİŠ Œ
$strİİ 
|İİ‘ ’
utilİİ“ —
.İİ— ˜
Leftİİ˜ œ
(İİœ 
pCodComprobanteİİ ¬
,İİ¬ ­
$numİİ® ¯
)İİ¯ °
==İİ± ³
$strİİ´ ·
)İİ· ¸
&İİ¹ º
doubleİİ» Á
.İİÁ Â
ParseİİÂ Ç
(İİÇ È#
oComprobElecXMLCabEİİÈ Û
.İİÛ Ü
C_MontoInafectoİİÜ ë
)İİë ì
>İİí î
$numİİï ñ
)İİñ ò
{
ŞŞ 
var
ßß 
oENInafecto
ßß '
=
ßß( )
new
ßß* -

ENInafecto
ßß. 8
(
ßß8 9
)
ßß9 :
;
ßß: ;
oENInafecto
àà #
.
àà# $
Total
àà$ )
=
àà* +
double
àà, 2
.
àà2 3
Parse
àà3 8
(
àà8 9
double
àà9 ?
.
àà? @
Parse
àà@ E
(
ààE F!
oComprobElecXMLCabE
ààF Y
.
ààY Z
C_MontoInafecto
ààZ i
)
àài j
.
ààj k
ToString
ààk s
(
ààs t
$strààt 
)àà ‚
)àà‚ ƒ
;ààƒ „
oENMontosTotales
áá (
.
áá( )
Inafecto
áá) 1
=
áá2 3
oENInafecto
áá4 ?
;
áá? @
}
ââ 
else
ãã 
{
ää 
var
åå 

oENGravado
åå &
=
åå' (
new
åå) ,
	ENGravado
åå- 6
(
åå6 7
)
åå7 8
;
åå8 9
var
ææ 
oENGravadoIGV
ææ )
=
ææ* +
new
ææ, /
ENGravadoIGV
ææ0 <
(
ææ< =
)
ææ= >
;
ææ> ?
oENGravadoIGV
çç %
.
çç% &
Base
çç& *
=
çç+ ,
double
çç- 3
.
çç3 4
Parse
çç4 9
(
çç9 :
double
çç: @
.
çç@ A
Parse
ççA F
(
ççF G!
oComprobElecXMLCabE
ççG Z
.
ççZ [
MtgBase
çç[ b
)
ççb c
.
ççc d
ToString
ççd l
(
ççl m
$str
ççm z
)
ççz {
)
çç{ |
;
çç| }
oENGravadoIGV
èè %
.
èè% &
ValorImpuesto
èè& 3
=
èè4 5
double
èè6 <
.
èè< =
Parse
èè= B
(
èèB C
double
èèC I
.
èèI J
Parse
èèJ O
(
èèO P!
oComprobElecXMLCabE
èèP c
.
èèc d
MtgValorImpuesto
èèd t
)
èèt u
.
èèu v
ToString
èèv ~
(
èè~ 
$strèè Œ
)èèŒ 
)èè 
;èè 
oENGravadoIGV
éé %
.
éé% &

Porcentaje
éé& 0
=
éé1 2
double
éé3 9
.
éé9 :
Parse
éé: ?
(
éé? @
double
éé@ F
.
ééF G
Parse
ééG L
(
ééL M!
oComprobElecXMLCabE
ééM `
.
éé` a
MtgPorcentaje
ééa n
)
één o
.
ééo p
ToString
éép x
(
ééx y
$strééy †
)éé† ‡
)éé‡ ˆ
;ééˆ ‰

oENGravado
ëë "
.
ëë" #
Total
ëë# (
=
ëë) *
double
ëë+ 1
.
ëë1 2
Parse
ëë2 7
(
ëë7 8
double
ëë8 >
.
ëë> ?
Parse
ëë? D
(
ëëD E!
oComprobElecXMLCabE
ëëE X
.
ëëX Y
MtTotal
ëëY `
)
ëë` a
.
ëëa b
ToString
ëëb j
(
ëëj k
$str
ëëk x
)
ëëx y
)
ëëy z
;
ëëz {

oENGravado
ìì "
.
ìì" #

GravadoIGV
ìì# -
=
ìì. /
oENGravadoIGV
ìì0 =
;
ìì= >
oENMontosTotales
íí (
.
íí( )
Gravado
íí) 0
=
íí1 2

oENGravado
íí3 =
;
íí= >
}
îî 
oENComprobante
ğğ "
.
ğğ" #
MontosTotales
ğğ# 0
=
ğğ1 2
oENMontosTotales
ğğ3 C
;
ğğC D
oENComprobante
óó "
.
óó" #
TipoPlantilla
óó# 0
=
óó1 2!
oComprobElecXMLCabE
óó3 F
.
óóF G
TipoPlantilla
óóG T
;
óóT U
oENComprobante
ôô "
.
ôô" #
TipoComprobante
ôô# 2
=
ôô3 4!
oComprobElecXMLCabE
ôô5 H
.
ôôH I
TipoCompSunat
ôôI V
;
ôôV W
oENComprobante
õõ "
.
õõ" #
Serie
õõ# (
=
õõ) *
util
õõ+ /
.
õõ/ 0
	Substring
õõ0 9
(
õõ9 :!
oComprobElecXMLCabE
õõ: M
.
õõM N
CodComprobanteE
õõN ]
,
õõ] ^
$num
õõ_ `
,
õõ` a
$num
õõb c
)
õõc d
;
õõd e
oENComprobante
öö "
.
öö" #
Numero
öö# )
=
öö* +
util
öö, 0
.
öö0 1
	Substring
öö1 :
(
öö: ;!
oComprobElecXMLCabE
öö; N
.
ööN O
CodComprobanteE
ööO ^
,
öö^ _
$num
öö` a
,
ööa b
$num
ööc d
)
ööd e
;
ööe f
oENComprobante
÷÷ "
.
÷÷" #
FechaEmision
÷÷# /
=
÷÷0 1
DateTime
÷÷2 :
.
÷÷: ;
Parse
÷÷; @
(
÷÷@ A
DateTime
÷÷A I
.
÷÷I J
Parse
÷÷J O
(
÷÷O P!
oComprobElecXMLCabE
÷÷P c
.
÷÷c d
FechaEmision
÷÷d p
)
÷÷p q
.
÷÷q r
ToString
÷÷r z
(
÷÷z {
$str÷÷{ ‡
)÷÷‡ ˆ
)÷÷ˆ ‰
;÷÷‰ Š
oENComprobante
øø "
.
øø" #
ImporteTotal
øø# /
=
øø0 1
decimal
øø2 9
.
øø9 :
Parse
øø: ?
(
øø? @
decimal
øø@ G
.
øøG H
Parse
øøH M
(
øøM N!
oComprobElecXMLCabE
øøN a
.
øøa b
C_MontoNeto
øøb m
)
øøm n
.
øøn o
ToString
øøo w
(
øøw x
$strøøx …
)øø… †
)øø† ‡
;øø‡ ˆ
oENComprobante
ùù "
.
ùù" #
RazonSocial
ùù# .
=
ùù/ 0!
oComprobElecXMLCabE
ùù1 D
.
ùùD E
	ANombreDe
ùùE N
.
ùùN O
Replace
ùùO V
(
ùùV W
$str
ùùW b
,
ùùb c
$str
ùùd f
)
ùùf g
.
ùùg h
Replace
ùùh o
(
ùùo p
$str
ùùp u
,
ùùu v
$str
ùùw y
)
ùùy z
.
ùùz {
Trim
ùù{ 
(ùù €
)ùù€ 
;ùù ‚
oENComprobante
úú "
.
úú" #

VersionUbl
úú# -
=
úú. /!
oComprobElecXMLCabE
úú0 C
.
úúC D
VsUbl
úúD I
;
úúI J
oENComprobante
ûû "
.
ûû" #
TipoOperacion
ûû# 0
=
ûû1 2!
oComprobElecXMLCabE
ûû3 F
.
ûûF G
TipoOperacion
ûûG T
;
ûûT U
oENComprobante
üü "
.
üü" #
HoraEmision
üü# .
=
üü/ 0!
oComprobElecXMLCabE
üü1 D
.
üüD E
HoraEmision
üüE P
;
üüP Q
oENComprobante
ıı "
.
ıı" #
TotalImpuesto
ıı# 0
=
ıı1 2
double
ıı3 9
.
ıı9 :
Parse
ıı: ?
(
ıı? @!
oComprobElecXMLCabE
ıı@ S
.
ııS T
TotalImpuesto
ııT a
)
ııa b
;
ııb c
oENComprobante
şş "
.
şş" #
TotalValorVenta
şş# 2
=
şş3 4
double
şş5 ;
.
şş; <
Parse
şş< A
(
şşA B
wTotal_valorventa
şşB S
)
şşS T
;
şşT U
oENComprobante
ÿÿ "
.
ÿÿ" #
TotalPrecioVenta
ÿÿ# 3
=
ÿÿ4 5
double
ÿÿ6 <
.
ÿÿ< =
Parse
ÿÿ= B
(
ÿÿB C 
wTotal_precioventa
ÿÿC U
)
ÿÿU V
;
ÿÿV W
var
ƒƒ 
oENFormaPagoSunat
ƒƒ )
=
ƒƒ* +
new
ƒƒ, /
ENFormaPagoSunat
ƒƒ0 @
(
ƒƒ@ A
)
ƒƒA B
;
ƒƒB C
oENFormaPagoSunat
…… %
.
……% &
TipoFormaPago
……& 3
=
……4 5!
oComprobElecXMLCabE
……6 I
.
……I J"
Sunat_Tipo_FormaPago
……J ^
;
……^ _
if
‡‡ 
(
‡‡ 
oENFormaPagoSunat
‡‡ )
.
‡‡) *
TipoFormaPago
‡‡* 7
==
‡‡8 :
$str
‡‡; >
)
‡‡> ?
{
ˆˆ 
oENFormaPagoSunat
‰‰ )
.
‰‰) * 
MontoPendientePago
‰‰* <
=
‰‰= >
decimal
‰‰? F
.
‰‰F G
Parse
‰‰G L
(
‰‰L M!
oComprobElecXMLCabE
‰‰M `
.
‰‰` a'
Sunat_Monto_PendientePago
‰‰a z
)
‰‰z {
;
‰‰{ |
var
‹‹ 
oENCuotaPago
‹‹ (
=
‹‹) *
new
‹‹+ .
ENCuotaPago
‹‹/ :
(
‹‹: ;
)
‹‹; <
;
‹‹< =
oENCuotaPago
ŒŒ $
.
ŒŒ$ %
	FechaPago
ŒŒ% .
=
ŒŒ/ 0!
oComprobElecXMLCabE
ŒŒ1 D
.
ŒŒD E
Sunat_Cuota_Fecha
ŒŒE V
;
ŒŒV W
oENCuotaPago
 $
.
$ %
Monto
% *
=
+ ,
decimal
- 4
.
4 5
Parse
5 :
(
: ;!
oComprobElecXMLCabE
; N
.
N O
Sunat_Cuota_Monto
O `
)
` a
;
a b
oENFormaPagoSunat
 )
.
) *
	CuotaPago
* 3
=
4 5
new
6 9
ENCuotaPago
: E
[
E F
$num
F G
]
G H
;
H I
oENFormaPagoSunat
‘‘ )
.
‘‘) *
	CuotaPago
‘‘* 3
[
‘‘3 4
$num
‘‘4 5
]
‘‘5 6
=
‘‘7 8
oENCuotaPago
‘‘9 E
;
‘‘E F
}
’’ 
oENComprobante
™™ "
.
™™" #
FormaPagoSunat
™™# 1
=
™™2 3
oENFormaPagoSunat
™™4 E
;
™™E F
oENComprobante
šš "
.
šš" #

VersionUbl
šš# -
=
šš. /!
oComprobElecXMLCabE
šš0 C
.
ššC D
VsUbl
ššD I
;
ššI J
if
ŸŸ 
(
ŸŸ !
oComprobElecXMLCabE
ŸŸ +
.
ŸŸ+ ,
C_Moneda
ŸŸ, 4
==
ŸŸ5 7
$str
ŸŸ8 ;
)
ŸŸ; <
{
   
oENComprobante
¡¡ &
.
¡¡& '
Moneda
¡¡' -
=
¡¡. /
$str
¡¡0 5
;
¡¡5 6
}
¢¢ 
else
££ 
if
££ 
(
££ !
oComprobElecXMLCabE
££ 0
.
££0 1
C_Moneda
££1 9
==
££: <
$str
££= @
)
££@ A
{
¤¤ 
oENComprobante
¥¥ &
.
¥¥& '
Moneda
¥¥' -
=
¥¥. /
$str
¥¥0 5
;
¥¥5 6
}
¦¦ 
var
¨¨ 
oENReceptor
¨¨ #
=
¨¨$ %
new
¨¨& )

ENReceptor
¨¨* 4
[
¨¨4 5
$num
¨¨5 6
]
¨¨6 7
;
¨¨7 8
oENReceptor
©© 
[
©©  
$num
©©  !
]
©©! "
=
©©# $
new
©©% (

ENReceptor
©©) 3
(
©©3 4
)
©©4 5
;
©©5 6
oENReceptor
ªª 
[
ªª  
$num
ªª  !
]
ªª! "
.
ªª" #
Calle
ªª# (
=
ªª) *!
oComprobElecXMLCabE
ªª+ >
.
ªª> ?
	Direccion
ªª? H
.
ªªH I
Replace
ªªI P
(
ªªP Q
$str
ªªQ \
,
ªª\ ]
$str
ªª^ `
)
ªª` a
.
ªªa b
Replace
ªªb i
(
ªªi j
$str
ªªj o
,
ªªo p
$str
ªªq s
)
ªªs t
.
ªªt u
Trim
ªªu y
(
ªªy z
)
ªªz {
;
ªª{ |
oENComprobante
«« "
.
««" #
Receptor
««# +
=
««, -
oENReceptor
««. 9
;
««9 :
oENComprobante
­­ "
.
­­" #$
TipoDocumentoIdentidad
­­# 9
=
­­: ;!
oComprobElecXMLCabE
­­< O
.
­­O P"
TipDocIdentidadSunat
­­P d
;
­­d e
oENComprobante
®® "
.
®®" #
Ruc
®®# &
=
®®' (!
oComprobElecXMLCabE
®®) <
.
®®< =
RucSunat
®®= E
.
®®E F
Trim
®®F J
(
®®J K
)
®®K L
;
®®L M
oENComprobante
¯¯ "
.
¯¯" #
CorreoElectronico
¯¯# 4
=
¯¯5 6!
oComprobElecXMLCabE
¯¯7 J
.
¯¯J K
ReceptorCorreo
¯¯K Y
.
¯¯Y Z
Trim
¯¯Z ^
(
¯¯^ _
)
¯¯_ `
;
¯¯` a
oENComprobante
±± "
.
±±" #
Glosa
±±# (
=
±±) *!
oComprobElecXMLCabE
±±+ >
.
±±> ?
Observaciones
±±? L
.
±±L M
Trim
±±M Q
(
±±Q R
)
±±R S
;
±±S T
var
µµ *
oComprobanteDetalleImpuestos
µµ 4
=
µµ5 6
new
µµ7 :+
ENComprobanteDetalleImpuestos
µµ; X
[
µµX Y
$num
µµY Z
]
µµZ [
;
µµ[ \
var
¶¶ #
oENComprobanteDetalle
¶¶ -
=
¶¶. /
new
¶¶0 3"
ENComprobanteDetalle
¶¶4 H
[
¶¶H I
$num
¶¶I J
]
¶¶J K
;
¶¶K L
var
·· #
DescuentoCargoDetalle
·· -
=
··. /
new
··0 3%
ENDescuentoCargoDetalle
··4 K
[
··K L
$num
··L M
]
··M N
;
··N O
var
¸¸ 
wImpMontoBase
¸¸ %
=
¸¸& '
default
¸¸( /
(
¸¸/ 0
double
¸¸0 6
)
¸¸6 7
;
¸¸7 8
var
¹¹ 
wImpTasaAplicada
¹¹ (
=
¹¹) *
default
¹¹+ 2
(
¹¹2 3
decimal
¹¹3 :
)
¹¹: ;
;
¹¹; <
var
ºº 
wMontoTotal
ºº #
=
ºº$ %
default
ºº& -
(
ºº- .
double
ºº. 4
)
ºº4 5
;
ºº5 6
string
»» 
wMontoTotalIncIgv
»» ,
=
»»- .
$str
»»/ 1
;
»»1 2
string
¼¼ 
wImpuestoTotal
¼¼ )
;
¼¼) *
string
½½ 
wD_montobase
½½ '
=
½½( )
$str
½½* ,
;
½½, -
string
¾¾ #
wMontoDescuentoIncIgv
¾¾ 0
=
¾¾1 2
$str
¾¾3 5
;
¾¾5 6
var
ÀÀ 
loopTo
ÀÀ 
=
ÀÀ  ,
oListComprobanteElectronicoXML
ÀÀ! ?
.
ÀÀ? @
Count
ÀÀ@ E
-
ÀÀF G
$num
ÀÀH I
;
ÀÀI J
for
ÁÁ 
(
ÁÁ 
i
ÁÁ 
=
ÁÁ 
$num
ÁÁ 
;
ÁÁ 
i
ÁÁ  !
<=
ÁÁ" $
loopTo
ÁÁ% +
;
ÁÁ+ ,
i
ÁÁ- .
++
ÁÁ. 0
)
ÁÁ0 1
{
ÂÂ !
oComprobElecXMLCabE
ÃÃ +
=
ÃÃ, -
new
ÃÃ. 1+
ComprobanteElectronicoXMLCabE
ÃÃ2 O
(
ÃÃO P
)
ÃÃP Q
;
ÃÃQ R!
oComprobElecXMLCabE
ÄÄ +
=
ÄÄ, -,
oListComprobanteElectronicoXML
ÄÄ. L
[
ÄÄL M
i
ÄÄM N
]
ÄÄN O
;
ÄÄO P
string
ÇÇ '
wValorVentaUnitarioIncIgv
ÇÇ 8
=
ÇÇ9 :
$str
ÇÇ; =
;
ÇÇ= >
string
ÈÈ  
wdTotalCondsctoigv
ÈÈ 1
=
ÈÈ2 3
$str
ÈÈ4 6
;
ÈÈ6 7'
wValorVentaUnitarioIncIgv
ÉÉ 1
=
ÉÉ2 3!
oComprobElecXMLCabE
ÉÉ4 G
.
ÉÉG H$
D_VentaUnitario_ConIgv
ÉÉH ^
;
ÉÉ^ _ 
wdTotalCondsctoigv
ÊÊ *
=
ÊÊ+ ,!
oComprobElecXMLCabE
ÊÊ- @
.
ÊÊ@ A!
D_Total_ConDsctoIGV
ÊÊA T
;
ÊÊT U
wImpuestoTotal
ËË &
=
ËË' (!
oComprobElecXMLCabE
ËË) <
.
ËË< =

D_MontoIgv
ËË= G
;
ËËG H
wD_montobase
ÌÌ $
=
ÌÌ% &!
oComprobElecXMLCabE
ÌÌ' :
.
ÌÌ: ;
D_MontoBase
ÌÌ; F
;
ÌÌF G#
wMontoDescuentoIncIgv
ÍÍ -
=
ÍÍ. /!
oComprobElecXMLCabE
ÍÍ0 C
.
ÍÍC D
D_Dscto_ConIGV
ÍÍD R
;
ÍÍR S
if
ÏÏ 
(
ÏÏ 
decimal
ÏÏ #
.
ÏÏ# $
Parse
ÏÏ$ )
(
ÏÏ) *!
oComprobElecXMLCabE
ÏÏ* =
.
ÏÏ= >!
PorcentajeCoAseguro
ÏÏ> Q
)
ÏÏQ R
>
ÏÏS T
$num
ÏÏU V
&
ÏÏW X
(
ÏÏY Z
util
ÏÏZ ^
.
ÏÏ^ _
Left
ÏÏ_ c
(
ÏÏc d
pCodComprobante
ÏÏd s
,
ÏÏs t
$num
ÏÏu v
)
ÏÏv w
==
ÏÏx z
$str
ÏÏ{ ~
|ÏÏ €
utilÏÏ …
.ÏÏ… †
LeftÏÏ† Š
(ÏÏŠ ‹
pCodComprobanteÏÏ‹ š
,ÏÏš ›
$numÏÏœ 
)ÏÏ 
==ÏÏŸ ¡
$strÏÏ¢ ¥
)ÏÏ¥ ¦
)ÏÏ¦ §
{
ĞĞ '
wValorVentaUnitarioIncIgv
ÑÑ 5
=
ÑÑ6 7'
wValorVentaUnitarioIncIgv
ÑÑ8 Q
;
ÑÑQ R
}
ÒÒ 
else
ÓÓ 
{
ÔÔ '
wValorVentaUnitarioIncIgv
ÕÕ 5
=
ÕÕ6 7 
wdTotalCondsctoigv
ÕÕ8 J
;
ÕÕJ K
}
ÖÖ 
if
ÙÙ 
(
ÙÙ 
pSistema
ÙÙ $
==
ÙÙ% '
$str
ÙÙ( +
)
ÙÙ+ ,
{
ÚÚ 
wImpMontoBase
ÛÛ )
=
ÛÛ* +
double
ÛÛ, 2
.
ÛÛ2 3
Parse
ÛÛ3 8
(
ÛÛ8 9
double
ÛÛ9 ?
.
ÛÛ? @
Parse
ÛÛ@ E
(
ÛÛE F!
oComprobElecXMLCabE
ÛÛF Y
.
ÛÛY Z$
D_VentaUnitario_SinIgv
ÛÛZ p
)
ÛÛp q
.
ÛÛq r
ToString
ÛÛr z
(
ÛÛz {
$strÛÛ{ ˆ
)ÛÛˆ ‰
)ÛÛ‰ Š
;ÛÛŠ ‹
wImpTasaAplicada
ÜÜ ,
=
ÜÜ- .
decimal
ÜÜ/ 6
.
ÜÜ6 7
Parse
ÜÜ7 <
(
ÜÜ< =
decimal
ÜÜ= D
.
ÜÜD E
Parse
ÜÜE J
(
ÜÜJ K!
oComprobElecXMLCabE
ÜÜK ^
.
ÜÜ^ _ 
PorcentajeImpuesto
ÜÜ_ q
)
ÜÜq r
.
ÜÜr s
ToString
ÜÜs {
(
ÜÜ{ |
$strÜÜ| ‰
)ÜÜ‰ Š
)ÜÜŠ ‹
;ÜÜ‹ Œ
wMontoTotal
İİ '
=
İİ( )
double
İİ* 0
.
İİ0 1
Parse
İİ1 6
(
İİ6 7
double
İİ7 =
.
İİ= >
Parse
İİ> C
(
İİC D!
oComprobElecXMLCabE
İİD W
.
İİW X
D_Total_SinIgv
İİX f
)
İİf g
.
İİg h
ToString
İİh p
(
İİp q
$str
İİq ~
)
İİ~ 
)İİ €
;İİ€ 
wMontoTotalIncIgv
ŞŞ -
=
ŞŞ. /
double
ŞŞ0 6
.
ŞŞ6 7
Parse
ŞŞ7 <
(
ŞŞ< =!
oComprobElecXMLCabE
ŞŞ= P
.
ŞŞP Q
D_Total_ConIgv
ŞŞQ _
)
ŞŞ_ `
.
ŞŞ` a
ToString
ŞŞa i
(
ŞŞi j
$str
ŞŞj w
)
ŞŞw x
;
ŞŞx y
if
àà 
(
àà  !
oComprobElecXMLCabE
àà  3
.
àà3 4
FlgGratuito
àà4 ?
==
àà@ B
$str
ààC F
)
ààF G
{
áá 
wImpMontoBase
ââ  -
=
ââ. /
double
ââ0 6
.
ââ6 7
Parse
ââ7 <
(
ââ< =
double
ââ= C
.
ââC D
Parse
ââD I
(
ââI J!
oComprobElecXMLCabE
ââJ ]
.
ââ] ^
MtgBase
ââ^ e
)
ââe f
.
ââf g
ToString
ââg o
(
ââo p
$str
ââp }
)
ââ} ~
)
ââ~ 
;ââ €
wImpTasaAplicada
ãã  0
=
ãã1 2
decimal
ãã3 :
.
ãã: ;
Parse
ãã; @
(
ãã@ A
wImpTasaAplicada
ããA Q
.
ããQ R
ToString
ããR Z
(
ããZ [
$str
ãã[ h
)
ããh i
)
ããi j
;
ããj k
wMontoTotal
ää  +
=
ää, -
double
ää. 4
.
ää4 5
Parse
ää5 :
(
ää: ;
double
ää; A
.
ääA B
Parse
ääB G
(
ääG H!
oComprobElecXMLCabE
ääH [
.
ää[ \
D_Total_ConIgv
ää\ j
)
ääj k
.
ääk l
ToString
ääl t
(
äät u
$strääu ‚
)ää‚ ƒ
)ääƒ „
;ää„ …
}
åå 
else
ææ  
if
ææ! #
(
ææ$ %
double
ææ% +
.
ææ+ ,
Parse
ææ, 1
(
ææ1 2!
oComprobElecXMLCabE
ææ2 E
.
ææE F
C_MontoInafecto
ææF U
)
ææU V
>
ææW X
$num
ææY [
)
ææ[ \
{
çç 
wImpMontoBase
èè  -
=
èè. /
double
èè0 6
.
èè6 7
Parse
èè7 <
(
èè< =
double
èè= C
.
èèC D
Parse
èèD I
(
èèI J!
oComprobElecXMLCabE
èèJ ]
.
èè] ^
C_MontoInafecto
èè^ m
)
èèm n
.
èèn o
ToString
èèo w
(
èèw x
$strèèx …
)èè… †
)èè† ‡
;èè‡ ˆ
wImpTasaAplicada
éé  0
=
éé1 2
decimal
éé3 :
.
éé: ;
Parse
éé; @
(
éé@ A
decimal
ééA H
.
ééH I
Parse
ééI N
(
ééN O
$str
ééO U
)
ééU V
.
ééV W
ToString
ééW _
(
éé_ `
$str
éé` m
)
éém n
)
één o
;
ééo p
wMontoTotalIncIgv
êê  1
=
êê2 3
$num
êê4 5
.
êê5 6
ToString
êê6 >
(
êê> ?
)
êê? @
;
êê@ A
}
ëë 
}
ìì 
else
íí 
if
íí 
(
íí  !
pSistema
íí! )
==
íí* ,
$str
íí- 0
)
íí0 1
{
îî 
string
ïï "
wCodigoDescuento
ïï# 3
;
ïï3 4
string
ğğ "
wNota
ğğ# (
;
ğğ( )
string
ññ "
wImpGratuito
ññ# /
=
ññ0 1
$str
ññ2 4
;
ññ4 5
wImpMontoBase
óó )
=
óó* +
double
óó, 2
.
óó2 3
Parse
óó3 8
(
óó8 9
double
óó9 ?
.
óó? @
Parse
óó@ E
(
óóE F!
oComprobElecXMLCabE
óóF Y
.
óóY Z$
D_VentaUnitario_SinIgv
óóZ p
)
óóp q
.
óóq r
ToString
óór z
(
óóz {
$stróó{ ˆ
)óóˆ ‰
)óó‰ Š
;óóŠ ‹
wImpTasaAplicada
ôô ,
=
ôô- .
decimal
ôô/ 6
.
ôô6 7
Parse
ôô7 <
(
ôô< =
decimal
ôô= D
.
ôôD E
Parse
ôôE J
(
ôôJ K!
oComprobElecXMLCabE
ôôK ^
.
ôô^ _ 
PorcentajeImpuesto
ôô_ q
)
ôôq r
.
ôôr s
ToString
ôôs {
(
ôô{ |
$strôô| ‰
)ôô‰ Š
)ôôŠ ‹
;ôô‹ Œ
wMontoTotal
õõ '
=
õõ( )
double
õõ* 0
.
õõ0 1
Parse
õõ1 6
(
õõ6 7
double
õõ7 =
.
õõ= >
Parse
õõ> C
(
õõC D!
oComprobElecXMLCabE
õõD W
.
õõW X
D_Total_SinIgv
õõX f
)
õõf g
.
õõg h
ToString
õõh p
(
õõp q
$str
õõq ~
)
õõ~ 
)õõ €
;õõ€ 
wMontoTotalIncIgv
öö -
=
öö. /
decimal
öö0 7
.
öö7 8
Parse
öö8 =
(
öö= >!
oComprobElecXMLCabE
öö> Q
.
ööQ R
D_Total_ConIgv
ööR `
)
öö` a
.
ööa b
ToString
ööb j
(
ööj k
$str
öök x
)
ööx y
;
ööy z
wMontoTotalIncIgv
÷÷ -
=
÷÷. /
decimal
÷÷0 7
.
÷÷7 8
Parse
÷÷8 =
(
÷÷= >!
oComprobElecXMLCabE
÷÷> Q
.
÷÷Q R
D_Total_ConIgv
÷÷R `
)
÷÷` a
.
÷÷a b
ToString
÷÷b j
(
÷÷j k
$str
÷÷k x
)
÷÷x y
;
÷÷y z
if
ùù 
(
ùù  !
oComprobElecXMLCabE
ùù  3
.
ùù3 4
FlgGratuito
ùù4 ?
==
ùù@ B
$str
ùùC F
)
ùùF G
{
úú 
wImpMontoBase
ûû  -
=
ûû. /
double
ûû0 6
.
ûû6 7
Parse
ûû7 <
(
ûû< =
double
ûû= C
.
ûûC D
Parse
ûûD I
(
ûûI J!
oComprobElecXMLCabE
ûûJ ]
.
ûû] ^
D_Total_ConIgv
ûû^ l
)
ûûl m
.
ûûm n
ToString
ûûn v
(
ûûv w
$strûûw „
)ûû„ …
)ûû… †
;ûû† ‡
wImpTasaAplicada
üü  0
=
üü1 2
decimal
üü3 :
.
üü: ;
Parse
üü; @
(
üü@ A
wImpTasaAplicada
üüA Q
.
üüQ R
ToString
üüR Z
(
üüZ [
$str
üü[ h
)
üüh i
)
üüi j
;
üüj k
wMontoTotal
ıı  +
=
ıı, -
double
ıı. 4
.
ıı4 5
Parse
ıı5 :
(
ıı: ;
double
ıı; A
.
ııA B
Parse
ııB G
(
ııG H!
oComprobElecXMLCabE
ııH [
.
ıı[ \
D_Total_ConIgv
ıı\ j
)
ııj k
.
ıık l
ToString
ııl t
(
ııt u
$strııu ‚
)ıı‚ ƒ
)ııƒ „
;ıı„ …
wMontoTotalIncIgv
şş  1
=
şş2 3
$num
şş4 5
.
şş5 6
ToString
şş6 >
(
şş> ?
)
şş? @
;
şş@ A
wImpuestoTotal
ÿÿ  .
=
ÿÿ/ 0
$num
ÿÿ1 2
.
ÿÿ2 3
ToString
ÿÿ3 ;
(
ÿÿ; <
)
ÿÿ< =
;
ÿÿ= >
wImpGratuito
€€  ,
=
€€- .
$str
€€/ 2
;
€€2 3
}
 
else
‚‚  
if
‚‚! #
(
‚‚$ %
double
‚‚% +
.
‚‚+ ,
Parse
‚‚, 1
(
‚‚1 2!
oComprobElecXMLCabE
‚‚2 E
.
‚‚E F
C_MontoInafecto
‚‚F U
)
‚‚U V
>
‚‚W X
$num
‚‚Y [
)
‚‚[ \
{
ƒƒ 
wImpMontoBase
„„  -
=
„„. /
double
„„0 6
.
„„6 7
Parse
„„7 <
(
„„< =
double
„„= C
.
„„C D
Parse
„„D I
(
„„I J!
oComprobElecXMLCabE
„„J ]
.
„„] ^
C_MontoInafecto
„„^ m
)
„„m n
.
„„n o
ToString
„„o w
(
„„w x
$str„„x …
)„„… †
)„„† ‡
;„„‡ ˆ
wImpTasaAplicada
……  0
=
……1 2
decimal
……3 :
.
……: ;
Parse
……; @
(
……@ A
decimal
……A H
.
……H I
Parse
……I N
(
……N O
$str
……O U
)
……U V
.
……V W
ToString
……W _
(
……_ `
$str
……` m
)
……m n
)
……n o
;
……o p
wMontoTotalIncIgv
††  1
=
††2 3
$num
††4 5
.
††5 6
ToString
††6 >
(
††> ?
)
††? @
;
††@ A
wImpGratuito
‡‡  ,
=
‡‡- .
$str
‡‡/ 2
;
‡‡2 3
}
ˆˆ 
wCodigoDescuento
‹‹ ,
=
‹‹- .
$str
‹‹/ 3
;
‹‹3 4
if
ŒŒ 
(
ŒŒ  
wImpGratuito
ŒŒ  ,
==
ŒŒ- /
$str
ŒŒ0 3
)
ŒŒ3 4
{
 
if
  "
(
# $
double
$ *
.
* +
Parse
+ 0
(
0 1!
oComprobElecXMLCabE
1 D
.
D E
D_Dscto_Unitario
E U
)
U V
>
W X
$num
Y [
)
[ \
{
  !
wNota
$ )
=
* +
double
, 2
.
2 3
Parse
3 8
(
8 9!
oComprobElecXMLCabE
9 L
.
L M
D_Dscto_SinIGV
M [
)
[ \
.
\ ]
ToString
] e
(
e f
$str
f s
)
s t
;
t u
wNota2
‘‘$ *
=
‘‘+ ,
double
‘‘- 3
.
‘‘3 4
Parse
‘‘4 9
(
‘‘9 :!
oComprobElecXMLCabE
‘‘: M
.
‘‘M N
D_Dscto_ConIGV
‘‘N \
)
‘‘\ ]
.
‘‘] ^
ToString
‘‘^ f
(
‘‘f g
$str
‘‘g t
)
‘‘t u
;
‘‘u v
wD_montobase
““$ 0
=
““1 2!
oComprobElecXMLCabE
““3 F
.
““F G
D_Dscto_MontoBase
““G X
;
““X Y
if
””$ &
(
””' (
double
””( .
.
””. /
Parse
””/ 4
(
””4 5!
oComprobElecXMLCabE
””5 H
.
””H I!
PorcentajeCoAseguro
””I \
)
””\ ]
>
””^ _
$num
””` b
&
””c d
(
””e f
util
””f j
.
””j k
Left
””k o
(
””o p
pCodComprobante
””p 
,”” €
$num”” ‚
)””‚ ƒ
==””„ †
$str””‡ Š
|””‹ Œ
util”” ‘
.””‘ ’
Left””’ –
(””– —
pCodComprobante””— ¦
,””¦ §
$num””¨ ©
)””© ª
==””« ­
$str””® ±
)””± ²
)””² ³
{
••$ %'
wValorVentaUnitarioIncIgv
––( A
=
––B C'
wValorVentaUnitarioIncIgv
––D ]
;
––] ^
}
——$ %
else
˜˜$ (
{
™™$ %'
wValorVentaUnitarioIncIgv
šš( A
=
ššB C 
wdTotalCondsctoigv
ššD V
;
ššV W
}
››$ %#
DescuentoCargoDetalle
$ 9
=
: ;
new
< ?%
ENDescuentoCargoDetalle
@ W
[
W X
i
X Y
+
Z [
$num
\ ]
]
] ^
;
^ _#
DescuentoCargoDetalle
$ 9
[
9 :
i
: ;
]
; <
=
= >
new
? B%
ENDescuentoCargoDetalle
C Z
(
Z [
)
[ \
;
\ ]#
DescuentoCargoDetalle
  $ 9
[
  9 :
i
  : ;
]
  ; <
.
  < =
Monto
  = B
=
  C D
decimal
  E L
.
  L M
Parse
  M R
(
  R S
wNota
  S X
)
  X Y
;
  Y Z#
DescuentoCargoDetalle
¡¡$ 9
[
¡¡9 :
i
¡¡: ;
]
¡¡; <
.
¡¡< =
Descripcion
¡¡= H
=
¡¡I J
$str
¡¡K X
;
¡¡X Y#
DescuentoCargoDetalle
¢¢$ 9
[
¢¢9 :
i
¢¢: ;
]
¢¢; <
.
¢¢< =
	Indicador
¢¢= F
=
¢¢G H
$num
¢¢I J
;
¢¢J K#
DescuentoCargoDetalle
££$ 9
[
££9 :
i
££: ;
]
££; <
.
££< =

Porcentaje
££= G
=
££H I
decimal
££J Q
.
££Q R
Parse
££R W
(
££W X!
oComprobElecXMLCabE
££X k
.
££k l
D_PorcDctoPlan
££l z
)
££z {
;
££{ |#
DescuentoCargoDetalle
¤¤$ 9
[
¤¤9 :
i
¤¤: ;
]
¤¤; <
.
¤¤< =
CodigoAplicado
¤¤= K
=
¤¤L M
wCodigoDescuento
¤¤N ^
;
¤¤^ _#
DescuentoCargoDetalle
¥¥$ 9
[
¥¥9 :
i
¥¥: ;
]
¥¥; <
.
¥¥< =
	MontoBase
¥¥= F
=
¥¥G H
double
¥¥I O
.
¥¥O P
Parse
¥¥P U
(
¥¥U V
wD_montobase
¥¥V b
)
¥¥b c
;
¥¥c d
}
¦¦  !
else
§§  $
{
¨¨  !#
wMontoDescuentoIncIgv
©©$ 9
=
©©: ;
$str
©©< B
;
©©B C
wNota2
ªª$ *
=
ªª+ ,
(
ªª- .
decimal
ªª. 5
.
ªª5 6
Parse
ªª6 ;
(
ªª; <
$str
ªª< B
)
ªªB C
.
ªªC D
ToString
ªªD L
(
ªªL M
$str
ªªM Z
)
ªªZ [
)
ªª[ \
;
ªª\ ]
}
««  !
}
¬¬ 
if
®® 
(
®®  
wImpGratuito
®®  ,
==
®®- /
$str
®®0 3
)
®®3 4
{
¯¯ 
}
²² 
}
³³ 
Array
µµ 
.
µµ 
Resize
µµ $
(
µµ$ %
ref
µµ% (*
oComprobanteDetalleImpuestos
µµ) E
,
µµE F
$num
µµG H
)
µµH I
;
µµI J*
oComprobanteDetalleImpuestos
¶¶ 4
[
¶¶4 5
$num
¶¶5 6
]
¶¶6 7
=
¶¶8 9
new
¶¶: =+
ENComprobanteDetalleImpuestos
¶¶> [
(
¶¶[ \
)
¶¶\ ]
;
¶¶] ^*
oComprobanteDetalleImpuestos
·· 4
[
··4 5
$num
··5 6
]
··6 7
.
··7 8
ImporteTributo
··8 F
=
··G H
decimal
··I P
.
··P Q
Parse
··Q V
(
··V W
decimal
··W ^
.
··^ _
Parse
··_ d
(
··d e!
oComprobElecXMLCabE
··e x
.
··x y

D_MontoIgv··y ƒ
)··ƒ „
.··„ …
ToString··… 
(·· 
$str·· ›
)··› œ
)··œ 
;·· *
oComprobanteDetalleImpuestos
¸¸ 4
[
¸¸4 5
$num
¸¸5 6
]
¸¸6 7
.
¸¸7 8
ImporteExplicito
¸¸8 H
=
¸¸I J
decimal
¸¸K R
.
¸¸R S
Parse
¸¸S X
(
¸¸X Y
decimal
¸¸Y `
.
¸¸` a
Parse
¸¸a f
(
¸¸f g!
oComprobElecXMLCabE
¸¸g z
.
¸¸z {

D_MontoIgv¸¸{ …
)¸¸… †
.¸¸† ‡
ToString¸¸‡ 
(¸¸ 
$str¸¸ 
)¸¸ 
)¸¸ Ÿ
;¸¸Ÿ  *
oComprobanteDetalleImpuestos
¹¹ 4
[
¹¹4 5
$num
¹¹5 6
]
¹¹6 7
.
¹¹7 8
AfectacionIGV
¹¹8 E
=
¹¹F G!
oComprobElecXMLCabE
¹¹H [
.
¹¹[ \
D_AfectacionIgv
¹¹\ k
;
¹¹k l*
oComprobanteDetalleImpuestos
ºº 4
[
ºº4 5
$num
ºº5 6
]
ºº6 7
.
ºº7 8
CodigoTributo
ºº8 E
=
ººF G!
oComprobElecXMLCabE
ººH [
.
ºº[ \

CodTributo
ºº\ f
;
ººf g*
oComprobanteDetalleImpuestos
»» 4
[
»»4 5
$num
»»5 6
]
»»6 7
.
»»7 8

DesTributo
»»8 B
=
»»C D!
oComprobElecXMLCabE
»»E X
.
»»X Y

DesTributo
»»Y c
;
»»c d*
oComprobanteDetalleImpuestos
¼¼ 4
[
¼¼4 5
$num
¼¼5 6
]
¼¼6 7
.
¼¼7 8
CodigoUN
¼¼8 @
=
¼¼A B!
oComprobElecXMLCabE
¼¼C V
.
¼¼V W
CodUN
¼¼W \
;
¼¼\ ]*
oComprobanteDetalleImpuestos
½½ 4
[
½½4 5
$num
½½5 6
]
½½6 7
.
½½7 8
ImpGratuito
½½8 C
=
½½D E
int
½½F I
.
½½I J
Parse
½½J O
(
½½O P!
oComprobElecXMLCabE
½½P c
.
½½c d
FlgGratuito
½½d o
)
½½o p
;
½½p q*
oComprobanteDetalleImpuestos
¾¾ 4
[
¾¾4 5
$num
¾¾5 6
]
¾¾6 7
.
¾¾7 8
	MontoBase
¾¾8 A
=
¾¾B C
wImpMontoBase
¾¾D Q
;
¾¾Q R*
oComprobanteDetalleImpuestos
¿¿ 4
[
¿¿4 5
$num
¿¿5 6
]
¿¿6 7
.
¿¿7 8
TasaAplicada
¿¿8 D
=
¿¿E F
double
¿¿G M
.
¿¿M N
Parse
¿¿N S
(
¿¿S T
wImpTasaAplicada
¿¿T d
.
¿¿d e
ToString
¿¿e m
(
¿¿m n
)
¿¿n o
)
¿¿o p
;
¿¿p q
Array
ÁÁ 
.
ÁÁ 
Resize
ÁÁ $
(
ÁÁ$ %
ref
ÁÁ% (#
oENComprobanteDetalle
ÁÁ) >
,
ÁÁ> ?
i
ÁÁ@ A
+
ÁÁB C
$num
ÁÁD E
)
ÁÁE F
;
ÁÁF G#
oENComprobanteDetalle
ÂÂ -
[
ÂÂ- .
i
ÂÂ. /
]
ÂÂ/ 0
=
ÂÂ1 2
new
ÂÂ3 6"
ENComprobanteDetalle
ÂÂ7 K
(
ÂÂK L
)
ÂÂL M
;
ÂÂM N#
oENComprobanteDetalle
ÃÃ -
[
ÃÃ- .
i
ÃÃ. /
]
ÃÃ/ 0
.
ÃÃ0 1
Item
ÃÃ1 5
=
ÃÃ6 7
i
ÃÃ8 9
+
ÃÃ: ;
$num
ÃÃ< =
;
ÃÃ= >#
oENComprobanteDetalle
ÄÄ -
[
ÄÄ- .
i
ÄÄ. /
]
ÄÄ/ 0
.
ÄÄ0 1
UnidadComercial
ÄÄ1 @
=
ÄÄA B!
oComprobElecXMLCabE
ÄÄC V
.
ÄÄV W
D_Unidad
ÄÄW _
;
ÄÄ_ `#
oENComprobanteDetalle
ÅÅ -
[
ÅÅ- .
i
ÅÅ. /
]
ÅÅ/ 0
.
ÅÅ0 1
Descripcion
ÅÅ1 <
=
ÅÅ= >
pSistema
ÅÅ? G
==
ÅÅH J
$str
ÅÅK N
?
ÅÅO P!
oComprobElecXMLCabE
ÅÅQ d
.
ÅÅd e
D_NombreGrupo
ÅÅe r
:
ÅÅs t"
oComprobElecXMLCabEÅÅu ˆ
.ÅÅˆ ‰
NombreProductoÅÅ‰ —
.ÅÅ— ˜
TrimÅÅ˜ œ
(ÅÅœ 
)ÅÅ 
;ÅÅ Ÿ#
oENComprobanteDetalle
ÆÆ -
[
ÆÆ- .
i
ÆÆ. /
]
ÆÆ/ 0
.
ÆÆ0 1
Cantidad
ÆÆ1 9
=
ÆÆ: ;
decimal
ÆÆ< C
.
ÆÆC D
Parse
ÆÆD I
(
ÆÆI J!
oComprobElecXMLCabE
ÆÆJ ]
.
ÆÆ] ^
D_Cant_Sunat
ÆÆ^ j
)
ÆÆj k
;
ÆÆk l#
oENComprobanteDetalle
ÇÇ -
[
ÇÇ- .
i
ÇÇ. /
]
ÇÇ/ 0
.
ÇÇ0 1 
ValorVentaUnitario
ÇÇ1 C
=
ÇÇD E
decimal
ÇÇF M
.
ÇÇM N
Parse
ÇÇN S
(
ÇÇS T
decimal
ÇÇT [
.
ÇÇ[ \
Parse
ÇÇ\ a
(
ÇÇa b!
oComprobElecXMLCabE
ÇÇb u
.
ÇÇu v%
D_VentaUnitario_SinIgvÇÇv Œ
)ÇÇŒ 
.ÇÇ 
ToStringÇÇ –
(ÇÇ– —
$strÇÇ— ¤
)ÇÇ¤ ¥
)ÇÇ¥ ¦
;ÇÇ¦ §#
oENComprobanteDetalle
ÈÈ -
[
ÈÈ- .
i
ÈÈ. /
]
ÈÈ/ 0
.
ÈÈ0 1&
ValorVentaUnitarioIncIgv
ÈÈ1 I
=
ÈÈJ K
pSistema
ÈÈL T
==
ÈÈU W
$str
ÈÈX [
?
ÈÈ\ ]
decimal
ÈÈ^ e
.
ÈÈe f
Parse
ÈÈf k
(
ÈÈk l
decimal
ÈÈl s
.
ÈÈs t
Parse
ÈÈt y
(
ÈÈy z"
oComprobElecXMLCabEÈÈz 
.ÈÈ &
D_VentaUnitario_ConIgvÈÈ ¤
)ÈÈ¤ ¥
.ÈÈ¥ ¦
ToStringÈÈ¦ ®
(ÈÈ® ¯
$strÈÈ¯ ¼
)ÈÈ¼ ½
)ÈÈ½ ¾
:ÈÈ¿ À
decimalÈÈÁ È
.ÈÈÈ É
ParseÈÈÉ Î
(ÈÈÎ Ï)
wValorVentaUnitarioIncIgvÈÈÏ è
)ÈÈè é
;ÈÈé ê#
oENComprobanteDetalle
ÉÉ -
[
ÉÉ- .
i
ÉÉ. /
]
ÉÉ/ 0
.
ÉÉ0 1
Total
ÉÉ1 6
=
ÉÉ7 8
pSistema
ÉÉ9 A
==
ÉÉB D
$str
ÉÉE H
?
ÉÉI J
decimal
ÉÉK R
.
ÉÉR S
Parse
ÉÉS X
(
ÉÉX Y
decimal
ÉÉY `
.
ÉÉ` a
Parse
ÉÉa f
(
ÉÉf g!
oComprobElecXMLCabE
ÉÉg z
.
ÉÉz {
D_Total_SinIgvÉÉ{ ‰
)ÉÉ‰ Š
.ÉÉŠ ‹
ToStringÉÉ‹ “
(ÉÉ“ ”
$strÉÉ” ¡
)ÉÉ¡ ¢
)ÉÉ¢ £
:ÉÉ¤ ¥
decimalÉÉ¦ ­
.ÉÉ­ ®
ParseÉÉ® ³
(ÉÉ³ ´
wMontoTotalÉÉ´ ¿
.ÉÉ¿ À
ToStringÉÉÀ È
(ÉÉÈ É
)ÉÉÉ Ê
)ÉÉÊ Ë
;ÉÉË Ì#
oENComprobanteDetalle
ÊÊ -
[
ÊÊ- .
i
ÊÊ. /
]
ÊÊ/ 0
.
ÊÊ0 1
PrecioVentaItem
ÊÊ1 @
=
ÊÊA B
double
ÊÊC I
.
ÊÊI J
Parse
ÊÊJ O
(
ÊÊO P
wMontoTotalIncIgv
ÊÊP a
)
ÊÊa b
;
ÊÊb c#
oENComprobanteDetalle
ËË -
[
ËË- .
i
ËË. /
]
ËË/ 0
.
ËË0 1
Determinante
ËË1 =
=
ËË> ?!
oComprobElecXMLCabE
ËË@ S
.
ËËS T
D_Determinante
ËËT b
;
ËËb c#
oENComprobanteDetalle
ÌÌ -
[
ÌÌ- .
i
ÌÌ. /
]
ÌÌ/ 0
.
ÌÌ0 1
CodigoTipoPrecio
ÌÌ1 A
=
ÌÌB C!
oComprobElecXMLCabE
ÌÌD W
.
ÌÌW X 
D_CodigoTipoPrecio
ÌÌX j
;
ÌÌj k#
oENComprobanteDetalle
ÍÍ -
[
ÍÍ- .
i
ÍÍ. /
]
ÍÍ/ 0
.
ÍÍ0 1)
ComprobanteDetalleImpuestos
ÍÍ1 L
=
ÍÍM N*
oComprobanteDetalleImpuestos
ÍÍO k
;
ÍÍk l#
oENComprobanteDetalle
ÎÎ -
[
ÎÎ- .
i
ÎÎ. /
]
ÎÎ/ 0
.
ÎÎ0 1 
UnidadMedidaEmisor
ÎÎ1 C
=
ÎÎD E
$str
ÎÎF H
;
ÎÎH I
if
ĞĞ 
(
ĞĞ 
pSistema
ĞĞ $
==
ĞĞ% '
$str
ĞĞ( +
)
ĞĞ+ ,
{
ÑÑ #
oENComprobanteDetalle
ÒÒ 1
[
ÒÒ1 2
i
ÒÒ2 3
]
ÒÒ3 4
.
ÒÒ4 5
Nota
ÒÒ5 9
=
ÒÒ: ;
wNota2
ÒÒ< B
;
ÒÒB C#
oENComprobanteDetalle
ÓÓ 1
[
ÓÓ1 2
i
ÓÓ2 3
]
ÓÓ3 4
.
ÓÓ4 5!
CodigoProductoSunat
ÓÓ5 H
=
ÓÓI J!
oComprobElecXMLCabE
ÓÓK ^
.
ÓÓ^ _
CodProductoSUNAT
ÓÓ_ o
;
ÓÓo p
}
ÔÔ #
oENComprobanteDetalle
ÖÖ -
[
ÖÖ- .
i
ÖÖ. /
]
ÖÖ/ 0
.
ÖÖ0 1
ImpuestoTotal
ÖÖ1 >
=
ÖÖ? @
pSistema
ÖÖA I
==
ÖÖJ L
$str
ÖÖM P
?
ÖÖQ R
double
ÖÖS Y
.
ÖÖY Z
Parse
ÖÖZ _
(
ÖÖ_ `!
oComprobElecXMLCabE
ÖÖ` s
.
ÖÖs t

D_MontoIgv
ÖÖt ~
)
ÖÖ~ 
:ÖÖ€ 
doubleÖÖ‚ ˆ
.ÖÖˆ ‰
ParseÖÖ‰ 
(ÖÖ 
wImpuestoTotalÖÖ 
)ÖÖ 
;ÖÖ Ÿ
}
×× 
oENComprobante
ÙÙ "
.
ÙÙ" # 
ComprobanteDetalle
ÙÙ# 5
=
ÙÙ6 7#
oENComprobanteDetalle
ÙÙ8 M
;
ÙÙM N
oGeneral
ÜÜ 
.
ÜÜ 
oENComprobante
ÜÜ +
=
ÜÜ, -
oENComprobante
ÜÜ. <
;
ÜÜ< =
string
ŞŞ 
	stringxml
ŞŞ $
=
ŞŞ% &
$str
ŞŞ' )
;
ŞŞ) *
using
ßß 
(
ßß 
var
ßß 
stringWriter
ßß +
=
ßß, -
new
ßß. 1
StringWriter
ßß2 >
(
ßß> ?
)
ßß? @
)
ßß@ A
{
àà 
var
áá 

serializer
áá &
=
áá' (
new
áá) ,
System
áá- 3
.
áá3 4
Xml
áá4 7
.
áá7 8
Serialization
áá8 E
.
ááE F
XmlSerializer
ááF S
(
ááS T
oGeneral
ááT \
.
áá\ ]
GetType
áá] d
(
áád e
)
ááe f
)
ááf g
;
áág h

serializer
ââ "
.
ââ" #
	Serialize
ââ# ,
(
ââ, -
stringWriter
ââ- 9
,
ââ9 :
oGeneral
ââ; C
)
ââC D
;
ââD E
	stringxml
ãã !
=
ãã" #
stringWriter
ãã$ 0
.
ãã0 1
ToString
ãã1 9
(
ãã9 :
)
ãã: ;
;
ãã; <
}
ää 
int
ææ 
iniXml
ææ 
=
ææ  
$num
ææ! "
;
ææ" #
int
çç 
finXml
çç 
=
çç  
$num
çç! "
;
çç" #
iniXml
éé 
=
éé 
	stringxml
éé &
.
éé& '
IndexOf
éé' .
(
éé. /
$str
éé/ @
)
éé@ A
;
ééA B
finXml
êê 
=
êê 
	stringxml
êê &
.
êê& '
LastIndexOf
êê' 2
(
êê2 3
$str
êê3 ?
)
êê? @
;
êê@ A
XML_General
ìì 
=
ìì  !
$str
ìì" $
;
ìì$ %
XML_General
íí 
=
íí  !
XML_General
íí" -
+
íí. /
$stríí0 ¨
;íí¨ ©
XML_General
îî 
=
îî  !
XML_General
îî" -
+
îî. /
$str
îî0 l
+
îîm n
$char
îîo s
+
îît u
$strîîv ƒ
+îî„ …
$charîî† Š
+îî‹ Œ
$strîî ¸
+îî¹ º
$charîî» ¿
+îîÀ Á
$strîîÂ Î
+îîÏ Ğ
$charîîÑ Õ
+îîÖ ×
	stringxmlîîØ á
.îîá â
	Substringîîâ ë
(îîë ì
iniXmlîîì ò
,îîò ó
finXmlîîô ú
-îîû ü
iniXmlîîı ƒ
)îîƒ „
+îî… †
$charîî‡ ‹
+îîŒ 
$strîî ›
+îîœ 
$charîî ¢
+îî£ ¤
$strîî¥ ¹
+îîº »#
oComprobElecXMLCabEîî¼ Ï
.îîÏ Ğ
TipoCompTciîîĞ Û
+îîÜ İ
$strîîŞ ó
+îîô õ
$charîîö ú
+îîû ü
$strîîı 
+îî‘ ’
$charîî“ —
+îî˜ ™
$strîîš ¨
+îî© ª
wTipoCodigoTCIîî« ¹
.îî¹ º
ToStringîîº Â
(îîÂ Ã
)îîÃ Ä
+îîÅ Æ
$strîîÇ Ö
+îî× Ø
$charîîÙ İ
+îîŞ ß
$strîîà ÿ
+îî€ 
$charîî‚ †
+îî‡ ˆ
$strîî‰ ¤
+îî¥ ¦
$charîî§ «
+îî¬ ­
$strîî® ¹
+îîº »
pOtorgarTciîî¼ Ç
+îîÈ É
$strîîÊ Ö
+îî× Ø
$charîîÙ İ
+îîŞ ß
$strîîà 
+îî‘ ’
$charîî“ —
+îî˜ ™
$strîîš ¨
+îî© ª
$charîî« ¯
+îî° ±
$strîî² À
+îîÁ Â
$charîîÃ Ç
+îîÈ É
$strîîÊ Ü
;îîÜ İ
if
ğğ 
(
ğğ 
pEnviarSunat
ğğ $
==
ğğ% '
$str
ğğ( +
)
ğğ+ ,
{
ññ 

oListError
òò "
=
òò# $
new
òò% (!
ENErrorComunicacion
òò) <
[
òò< =
$num
òò= >
]
òò> ?
;
òò? @

oListError
óó "
[
óó" #
$num
óó# $
]
óó$ %
=
óó& '
new
óó( +!
ENErrorComunicacion
óó, ?
(
óó? @
)
óó@ A
;
óóA B
bool
õõ 
wResult
õõ $
=
õõ% &
false
õõ' ,
;
õõ, -
string
öö 
Cadena
öö %
=
öö& '
$str
öö( *
;
öö* +&
OpenConfigWebServicesTci
÷÷ 0
(
÷÷0 1
	xUrlWsTCI
÷÷1 :
)
÷÷: ;
;
÷÷; <
using
øø 
(
øø 
var
øø "
oWsComprobante
øø# 1
=
øø2 3
new
øø4 7%
WSComprobanteSoapClient
øø8 O
(
øøO P

BindingTci
øøP Z
,
øøZ [
EndPoint
øø\ d
)
øød e
)
øøe f
{
ùù 
RegistrarRequest
üü ,
registrarRequest
üü- =
=
üü> ?
new
üü@ C
RegistrarRequest
üüD T
(
üüT U
)
üüU V
;
üüV W
registrarRequest
şş ,
.
şş, -
oGeneral
şş- 5
=
şş6 7
oGeneral
şş8 @
;
şş@ A
registrarRequest
ÿÿ ,
.
ÿÿ, -
oTipoComprobante
ÿÿ- =
=
ÿÿ> ?
pTipoDocumento
ÿÿ@ N
;
ÿÿN O
registrarRequest
€€ ,
.
€€, -
Cadena
€€- 3
=
€€4 5
Cadena
€€6 <
;
€€< =
registrarRequest
 ,
.
, -

TipoCodigo
- 7
=
8 9
wTipoCodigoTCI
: H
;
H I
registrarRequest
‚‚ ,
.
‚‚, -
CodigoBarras
‚‚- 9
=
‚‚: ;
xCodigoBarras
‚‚< I
;
‚‚I J
registrarRequest
ƒƒ ,
.
ƒƒ, -

CodigoHash
ƒƒ- 7
=
ƒƒ8 9
$str
ƒƒ: <
;
ƒƒ< =
registrarRequest
„„ ,
.
„„, -

ListaError
„„- 7
=
„„8 9

oListError
„„: D
;
„„D E
registrarRequest
…… ,
.
……, -"
IdComprobanteCliente
……- A
=
……B C
$num
……D E
;
……E F
registrarRequest
†† ,
.
††, -
Otorgar
††- 4
=
††5 6
pOtorgarTci
††7 B
;
††B C
string
ˆˆ "

codigoHash
ˆˆ# -
=
ˆˆ. /
$str
ˆˆ0 2
;
ˆˆ2 3
var
 
	wResult2_
  )
=
* +
oWsComprobante
, :
.
: ;
RegistrarAsync
; I
(
I J
registrarRequest
J Z
)
Z [
.
[ \
Result
\ b
;
b c
wResult
 #
=
$ %
	wResult2_
& /
.
/ 0
RegistrarResult
0 ?
;
? @
Cadena
 "
=
# $
	wResult2_
% .
.
. /
Cadena
/ 5
;
5 6
xCodigoBarras
‘‘ )
=
‘‘* +
	wResult2_
‘‘, 5
.
‘‘5 6
CodigoBarras
‘‘6 B
;
‘‘B C

codigoHash
’’ &
=
’’' (
	wResult2_
’’) 2
.
’’2 3

CodigoHash
’’3 =
;
’’= >

oListError
““ &
=
““' (
	wResult2_
““) 2
.
““2 3

ListaError
““3 =
;
““= >'
CloseConfigWebServicesTci
•• 5
(
••5 6
)
••6 7
;
••7 8
}
–– 
if
˜˜ 
(
˜˜ 
wResult
˜˜ #
==
˜˜$ &
true
˜˜' +
)
˜˜+ ,
{
™™ 
xResult
šš #
.
šš# $
CodigoBarra
šš$ /
=
šš0 1
xCodigoBarras
šš2 ?
;
šš? @
xResult
›› #
.
››# $!
ErroresComprobantes
››$ 7
=
››8 9$
ErroresComprobantesTCI
››: P
.
››P Q
Correcto
››Q Y
;
››Y Z
}
œœ 
else
 
if
 
(
  !

oListError
! +
[
+ ,
$num
, -
]
- .
.
. /
DescripcionError
/ ?
+
@ A
$str
B D
!=
E G
$str
H J
)
J K
{
 
xResult
ŸŸ #
.
ŸŸ# $!
ErroresComprobantes
ŸŸ$ 7
=
ŸŸ8 9$
ErroresComprobantesTCI
ŸŸ: P
.
ŸŸP Q
Otros
ŸŸQ V
;
ŸŸV W
xResult
   #
.
  # $
	Respuesta
  $ -
=
  . /
$str
  0 H
+
  I J

oListError
  K U
[
  U V
$num
  V W
]
  W X
.
  X Y
DescripcionError
  Y i
;
  i j
}
¡¡ 
else
¢¢ 
{
££ 
xResult
¤¤ #
.
¤¤# $!
ErroresComprobantes
¤¤$ 7
=
¤¤8 9$
ErroresComprobantesTCI
¤¤: P
.
¤¤P Q
Otros
¤¤Q V
;
¤¤V W
xResult
¥¥ #
.
¥¥# $
	Respuesta
¥¥$ -
=
¥¥. /
$str
¥¥0 H
+
¥¥I J
Cadena
¥¥K Q
;
¥¥Q R
}
¦¦ 
}
§§ 
else
¨¨ 
if
¨¨ 
(
¨¨ 
pEnviarSunat
¨¨ )
==
¨¨* ,
$str
¨¨- 0
)
¨¨0 1
{
©© 
xResult
ªª 
.
ªª  !
ErroresComprobantes
ªª  3
=
ªª4 5$
ErroresComprobantesTCI
ªª6 L
.
ªªL M
Correcto
ªªM U
;
ªªU V
}
«« 
xResult
­­ 
.
­­ 
RespuestaXML
­­ (
=
­­) *
XML_General
­­+ 6
;
­­6 7
}
®® 
catch
°° 
(
°° 
	Exception
°°  
ex
°°! #
)
°°# $
{
±± 
throw
²² 
new
²² 
	Exception
²² '
(
²²' (
ex
²²( *
.
²²* +
Message
²²+ 2
+
²²3 4
ex
²²5 7
.
²²7 8
Source
²²8 >
)
²²> ?
;
²²? @
}
³³ 
}
´´ 
while
µµ 
(
µµ 
false
µµ 
)
µµ 
;
µµ 
return
·· 
xResult
·· 
;
·· 
}
¸¸ 	
public
¼¼ 
bool
¼¼ 
PagarComprobante
¼¼ $
(
¼¼$ %
string
¼¼% +
pCodComprobante
¼¼, ;
,
¼¼; <
string
¼¼= C
pCodLiquidacion
¼¼D S
,
¼¼S T
string
¼¼U [
pTipoComprobante
¼¼\ l
,
¼¼l m
double
¼¼n t
pMonto
¼¼u {
,
¼¼{ |
string¼¼} ƒ
pMoneda¼¼„ ‹
)¼¼‹ Œ
{
½½ 	
bool
¾¾ 
xResult
¾¾ 
=
¾¾ 
false
¾¾  
;
¾¾  !
string
¿¿ 
	xTipoPago
¿¿ 
=
¿¿ 
$str
¿¿ (
;
¿¿( )
try
ÀÀ 
{
ÁÁ 
var
ÂÂ 
oList
ÂÂ 
=
ÂÂ 
new
ÂÂ 
List
ÂÂ  $
<
ÂÂ$ %
ComprobantesE
ÂÂ% 2
>
ÂÂ2 3
(
ÂÂ3 4
)
ÂÂ4 5
;
ÂÂ5 6
var
ÃÃ 
oComprobantesE
ÃÃ "
=
ÃÃ# $
new
ÃÃ% (
ComprobantesE
ÃÃ) 6
(
ÃÃ6 7
)
ÃÃ7 8
;
ÃÃ8 9
string
ÄÄ 
CodTipoFactura
ÄÄ %
=
ÄÄ& '
$str
ÄÄ( *
;
ÄÄ* +
var
ÅÅ 
objComprobanteE
ÅÅ #
=
ÅÅ$ %
new
ÅÅ& )
ComprobantesE
ÅÅ* 7
(
ÅÅ7 8
)
ÅÅ8 9
;
ÅÅ9 :
var
ÇÇ 
objCuadreCaja
ÇÇ !
=
ÇÇ" #
new
ÇÇ$ '
CuadreCajaE
ÇÇ( 3
(
ÇÇ3 4
)
ÇÇ4 5
;
ÇÇ5 6
using
ÉÉ 
(
ÉÉ 
var
ÉÉ 
Trans
ÉÉ  
=
ÉÉ! "
new
ÉÉ# &
TransactionScope
ÉÉ' 7
(
ÉÉ7 8
)
ÉÉ8 9
)
ÉÉ9 :
{
ÊÊ 
objComprobanteE
ËË #
=
ËË$ %#
CargarDataComprobante
ËË& ;
(
ËË; <
pTipoComprobante
ËË< L
,
ËËL M
pCodLiquidacion
ËËN ]
,
ËË] ^
pMonto
ËË_ e
.
ËËe f
ToString
ËËf n
(
ËËn o
)
ËËo p
,
ËËp q
pMoneda
ËËr y
,
ËËy z
$str
ËË{ ~
,
ËË~ 
$strËË€ ƒ
,ËËƒ „ 
CodNombreEntidadËË… •
,ËË• –

NumEntidadËË— ¡
,ËË¡ ¢
$strËË£ ¥
,ËË¥ ¦
pCodComprobanteËË§ ¶
)ËË¶ ·
;ËË· ¸
new
ÌÌ 
ComprobantesAD
ÌÌ &
(
ÌÌ& '
)
ÌÌ' (
.
ÌÌ( )#
Sp_Comprobante_Insert
ÌÌ) >
(
ÌÌ> ?
ref
ÌÌ? B
objComprobanteE
ÌÌC R
)
ÌÌR S
;
ÌÌS T
if
ÍÍ 
(
ÍÍ 
objComprobanteE
ÍÍ '
.
ÍÍ' (
CodComprobante
ÍÍ( 6
!=
ÍÍ7 9
$str
ÍÍ: <
)
ÍÍ< =
{
ÎÎ 
string
ÏÏ 
queryString
ÏÏ *
=
ÏÏ+ ,
$str
ÏÏ- /
;
ÏÏ/ 0
objCuadreCaja
ÒÒ %
.
ÒÒ% &
CodComprobante
ÒÒ& 4
=
ÒÒ5 6
objComprobanteE
ÒÒ7 F
.
ÒÒF G
CodComprobante
ÒÒG U
;
ÒÒU V
xResult
ÓÓ 
=
ÓÓ  !
new
ÓÓ" %
CuadreCajaAD
ÓÓ& 2
(
ÓÓ2 3
)
ÓÓ3 4
.
ÓÓ4 5(
Sp_CuadreCajaOnline_Update
ÓÓ5 O
(
ÓÓO P
ref
ÓÓP S
objCuadreCaja
ÓÓT a
)
ÓÓa b
;
ÓÓb c
if
ÖÖ 
(
ÖÖ 
xResult
ÖÖ #
==
ÖÖ$ &
true
ÖÖ' +
)
ÖÖ+ ,
{
×× 
Trans
ØØ !
.
ØØ! "
Complete
ØØ" *
(
ØØ* +
)
ØØ+ ,
;
ØØ, -
}
ÙÙ 
else
ÚÚ 
{
ÛÛ 
Trans
ÜÜ !
.
ÜÜ! "
Dispose
ÜÜ" )
(
ÜÜ) *
)
ÜÜ* +
;
ÜÜ+ ,
}
İİ 
}
ŞŞ 
else
ßß 
{
àà 
Trans
áá 
.
áá 
Dispose
áá %
(
áá% &
)
áá& '
;
áá' (
}
ââ 
}
ãã 
}
ää 
catch
ææ 
(
ææ 
	Exception
ææ 
ex
ææ 
)
ææ  
{
çç 
throw
èè 
new
èè 
	Exception
èè #
(
èè# $
ex
èè$ &
.
èè& '
Message
èè' .
)
èè. /
;
èè/ 0
}
éé 
return
ëë 
xResult
ëë 
;
ëë 
}
ìì 	
public
ğğ 
void
ğğ .
 ActualizarDatosPagosConfirmacion
ğğ 4
(
ğğ4 5
)
ğğ5 6
{
ññ 	
var
òò !
oMdsynDPagosUpdateE
òò #
=
òò$ %
new
òò& )
MdsynDatosPagosE
òò* :
(
òò: ;
)
òò; <
;
òò< =!
oMdsynDPagosUpdateE
óó 
.
óó  
IdeDatospagos
óó  -
=
óó. /
IdeDatosPagos
óó0 =
;
óó= >!
oMdsynDPagosUpdateE
ôô 
.
ôô  
CodAtencion
ôô  +
=
ôô, -
CodAtencion
ôô. 9
;
ôô9 :!
oMdsynDPagosUpdateE
õõ 
.
õõ  
CodComprobante
õõ  .
=
õõ/ 0
CodComprobante
õõ1 ?
;
õõ? @!
oMdsynDPagosUpdateE
öö 
.
öö   
CodigoAutorizacion
öö  2
=
öö3 4 
CodigoAutorizacion
öö5 G
;
ööG H!
oMdsynDPagosUpdateE
÷÷ 
.
÷÷  
CodLiquidacion
÷÷  .
=
÷÷/ 0
CodLiquidacion
÷÷1 ?
;
÷÷? @
new
øø 
MdsynDatosPagosAD
øø !
(
øø! "
)
øø" #
.
øø# $'
Sp_MdsynDatosPagos_Update
øø$ =
(
øø= >!
oMdsynDPagosUpdateE
øø> Q
)
øøQ R
;
øøR S
}
ùù 	
public
şş 

SynapsisWS
şş 
.
şş $
ResponseOrderApiResult
şş 0#
fnGenerarOrdenPagoBot
şş1 F
(
şşF G
MdsynPagosE
şşG R
	objPagosE
şşS \
,
şş\ ]"
ListTipoPagoOrdenBot
şş^ r
TipoPago
şşs {
,
şş{ |
intşş} €

UsrSistemaşş ‹
)şş‹ Œ
{
ÿÿ 	
bool
€€ 
result
€€ 
=
€€ 
false
€€ 
;
€€  
var
 
oResult
 
=
 
new
 

SynapsisWS
 (
.
( )$
ResponseOrderApiResult
) ?
(
? @
)
@ A
;
A B
var
‚‚ 
oList
‚‚ 
=
‚‚ 
new
‚‚ 
List
‚‚  
<
‚‚  !
MdsynPagosE
‚‚! ,
>
‚‚, -
(
‚‚- .
)
‚‚. /
;
‚‚/ 0
using
„„ 
(
„„ 
var
„„ 
xTrans
„„ 
=
„„ 
new
„„  #
TransactionScope
„„$ 4
(
„„4 5
)
„„5 6
)
„„6 7
{
…… 
result
†† 
=
†† 
new
†† 
MdsynPagosAD
†† )
(
††) *
)
††* +
.
††+ ,'
Sp_MdsynPagos_Cita_Insert
††, E
(
††E F
	objPagosE
††F O
)
††O P
;
††P Q
if
ˆˆ 
(
ˆˆ 
result
ˆˆ 
==
ˆˆ 
true
ˆˆ "
)
ˆˆ" #
{
‰‰ 
if
ŠŠ 
(
ŠŠ 
TipoPago
ŠŠ  
==
ŠŠ! #"
ListTipoPagoOrdenBot
ŠŠ$ 8
.
ŠŠ8 9
Reserva
ŠŠ9 @
)
ŠŠ@ A
{
‹‹ 
oList
ŒŒ 
=
ŒŒ 
new
ŒŒ  #
MdsynPagosAD
ŒŒ$ 0
(
ŒŒ0 1
)
ŒŒ1 2
.
ŒŒ2 3)
Sp_MdsynPagos_Cita_Consulta
ŒŒ3 N
(
ŒŒN O
new
ŒŒO R
MdsynPagosE
ŒŒS ^
(
ŒŒ^ _
	objPagosE
ŒŒ_ h
.
ŒŒh i
IdePagosBot
ŒŒi t
,
ŒŒt u
$str
ŒŒv x
,
ŒŒx y
$num
ŒŒz {
,
ŒŒ{ |
$num
ŒŒ} ~
,
ŒŒ~ 
$strŒŒ€ ‚
,ŒŒ‚ ƒ
$strŒŒ„ †
,ŒŒ† ‡
$numŒŒˆ ‰
,ŒŒ‰ Š
$strŒŒ‹ 
)ŒŒ 
)ŒŒ 
;ŒŒ ‘
}
 
else
 
if
 
(
 
TipoPago
 %
==
& ("
ListTipoPagoOrdenBot
) =
.
= >
Farmacia
> F
)
F G
{
 
oList
 
=
 
new
  #
MdsynPagosAD
$ 0
(
0 1
)
1 2
.
2 3)
Sp_MdsynPagos_Cita_Consulta
3 N
(
N O
new
O R
MdsynPagosE
S ^
(
^ _
	objPagosE
_ h
.
h i
IdePagosBot
i t
,
t u
$str
v x
,
x y
$num
z {
,
{ |
$num
} ~
,
~ 
$str€ ‚
,‚ ƒ
$str„ †
,† ‡
$numˆ ‰
,‰ Š
$str‹ 
) 
) 
; ‘
}
‘‘ 
else
’’ 
if
’’ 
(
’’ 
TipoPago
’’ %
==
’’& ("
ListTipoPagoOrdenBot
’’) =
.
’’= >"
ContratoConsultorios
’’> R
)
’’R S
{
““ 
oList
”” 
=
”” 
new
””  #
MdsynPagosAD
””$ 0
(
””0 1
)
””1 2
.
””2 3)
Sp_MdsynPagos_Cita_Consulta
””3 N
(
””N O
new
””O R
MdsynPagosE
””S ^
(
””^ _
	objPagosE
””_ h
.
””h i
IdePagosBot
””i t
,
””t u
$str
””v x
,
””x y
$num
””z {
,
””{ |
$num
””} ~
,
””~ 
$str””€ ‚
,””‚ ƒ
$str””„ †
,””† ‡
$num””ˆ ‰
,””‰ Š
$str””‹ 
)”” 
)”” 
;”” ‘
}
•• 
if
—— 
(
—— 
oList
—— 
.
—— 
Count
—— #
!=
——$ &
$num
——' (
)
——( )
{
˜˜ 
oResult
™™ 
=
™™  !
new
™™" %

SynapsisWS
™™& 0
(
™™0 1
)
™™1 2
.
™™2 3!
GenerateOrderApiBot
™™3 F
(
™™F G
oList
™™G L
[
™™L M
$num
™™M N
]
™™N O
)
™™O P
;
™™P Q
if
›› 
(
›› 
oResult
›› #
.
››# $
responseOrderApi
››$ 4
.
››4 5
success
››5 <
==
››= ?
true
››@ D
)
››D E
{
œœ 
var
 
	withBlock
  )
=
* +
oResult
, 3
.
3 4
responseOrderApi
4 D
.
D E
data
E I
.
I J
order
J O
;
O P
new
 
MdsynPagosAD
  ,
(
, -
)
- .
.
. /'
Sp_MdsynPagos_Cita_Update
/ H
(
H I
new
I L
MdsynPagosE
M X
(
X Y
oResult
Y `
.
` a
responseOrderApi
a q
.
q r
data
r v
.
v w
order
w |
.
| }
number} ƒ
,ƒ „
$str… ‡
,‡ ˆ
	objPagosE‰ ’
.’ “
IdCita“ ™
,™ š
$str› 
, 
$strŸ ¡
,¡ ¢
$num£ ¤
,¤ ¥
oResult¦ ­
.­ ® 
responseOrderApi® ¾
.¾ ¿
data¿ Ã
.Ã Ä
orderÄ É
.É Ê 
uniqueIdentifierÊ Ú
,Ú Û
$strÜ ß
,ß à

UsrSistemaá ë
,ë ì
oResultí ô
.ô õ
jsonBodyõ ı
,ı ş
$strÿ 
, ‚
$strƒ …
,… †
$str‡ ‰
,‰ Š
$str‹ 
, 
$str ‘
,‘ ’
$str“ ¦
)¦ §
)§ ¨
;¨ ©
if
   
(
    
TipoPago
    (
==
  ) +"
ListTipoPagoOrdenBot
  , @
.
  @ A
Reserva
  A H
)
  H I
{
¡¡ 
new
¡¡ !
MdsynAmReservaAD
¡¡" 2
(
¡¡2 3
)
¡¡3 4
.
¡¡4 5"
Sp_Mdsyn_Cita_Update
¡¡5 I
(
¡¡I J
new
¡¡J M
MdsynAmReservaE
¡¡N ]
(
¡¡] ^
	objPagosE
¡¡^ g
.
¡¡g h
IdCita
¡¡h n
,
¡¡n o
$num
¡¡p q
,
¡¡q r
$str
¡¡s u
,
¡¡u v
$str
¡¡w y
,
¡¡y z
$str
¡¡{ }
,
¡¡} ~
$str¡¡ 
,¡¡ ‚
$str¡¡ƒ …
,¡¡… †
$str¡¡‡ ‰
,¡¡‰ Š
DateTime¡¡‹ “
.¡¡“ ”
Now¡¡” —
,¡¡— ˜
$str¡¡™ ›
,¡¡› œ
	objPagosE¡¡ ¦
.¡¡¦ §
CntMontoPago¡¡§ ³
,¡¡³ ´
$str¡¡µ ¸
,¡¡¸ ¹
$str¡¡º Ì
,¡¡Ì Í
$num¡¡Î Ï
,¡¡Ï Ğ
$str¡¡Ñ Ó
)¡¡Ó Ô
)¡¡Ô Õ
;¡¡Õ Ö
}¡¡× Ø
else
¢¢  
if
¢¢! #
(
¢¢$ %
TipoPago
¢¢% -
==
¢¢. 0"
ListTipoPagoOrdenBot
¢¢1 E
.
¢¢E F"
ContratoConsultorios
¢¢F Z
)
¢¢Z [
{
££ 
}
££ 
xTrans
¤¤ "
.
¤¤" #
Complete
¤¤# +
(
¤¤+ ,
)
¤¤, -
;
¤¤- .
}
¥¥ 
else
¦¦ 
{
§§ 
xTrans
¨¨ "
.
¨¨" #
Dispose
¨¨# *
(
¨¨* +
)
¨¨+ ,
;
¨¨, -
}
©© 
}
ªª 
}
«« 
else
¬¬ 
{
­­ 
xTrans
®® 
.
®® 
Dispose
®® "
(
®®" #
)
®®# $
;
®®$ %
}
¯¯ 
}
°° 
return
²² 
oResult
²² 
;
²² 
}
³³ 	
public
¹¹ 
void
¹¹ *
CargarIniObtenerPagosVisaNet
¹¹ 0
(
¹¹0 1
)
¹¹1 2
{
ºº 	
var
»» 
oTablasE
»» 
=
»» 
new
»» 
TablasE
»» &
(
»»& '
)
»»' (
;
»»( )
oTablasE
½½ 
=
½½ 
new
½½ 
TablasAD
½½ #
(
½½# $
)
½½$ %
.
½½% &'
Sp_Tablas_ConsultaEntidad
½½& ?
(
½½? @
new
½½@ C
TablasE
½½D K
(
½½K L
$str
½½L a
,
½½a b
$str
½½c g
,
½½g h
$num
½½i j
,
½½j k
$num
½½l m
,
½½m n
$num
½½o p
)
½½p q
)
½½q r
;
½½r s
VisaNet_Ws_Url
¾¾ 
=
¾¾ 
oTablasE
¾¾ %
.
¾¾% &
Nombre
¾¾& ,
;
¾¾, -
oTablasE
ÀÀ 
=
ÀÀ 
new
ÀÀ 
TablasAD
ÀÀ #
(
ÀÀ# $
)
ÀÀ$ %
.
ÀÀ% &'
Sp_Tablas_ConsultaEntidad
ÀÀ& ?
(
ÀÀ? @
new
ÀÀ@ C
TablasE
ÀÀD K
(
ÀÀK L
$str
ÀÀL k
,
ÀÀk l
$str
ÀÀm q
,
ÀÀq r
$num
ÀÀs t
,
ÀÀt u
$num
ÀÀv w
,
ÀÀw x
$num
ÀÀy z
)
ÀÀz {
)
ÀÀ{ |
;
ÀÀ| },
VisaNet_ApiKeyAutorizacion_App
ÁÁ *
=
ÁÁ+ ,
oTablasE
ÁÁ- 5
.
ÁÁ5 6
Nombre
ÁÁ6 <
;
ÁÁ< =
oTablasE
ÃÃ 
=
ÃÃ 
new
ÃÃ 
TablasAD
ÃÃ #
(
ÃÃ# $
)
ÃÃ$ %
.
ÃÃ% &'
Sp_Tablas_ConsultaEntidad
ÃÃ& ?
(
ÃÃ? @
new
ÃÃ@ C
TablasE
ÃÃD K
(
ÃÃK L
$str
ÃÃL h
,
ÃÃh i
$str
ÃÃj n
,
ÃÃn o
$num
ÃÃp q
,
ÃÃq r
$num
ÃÃs t
,
ÃÃt u
$num
ÃÃv w
)
ÃÃw x
)
ÃÃx y
;
ÃÃy z$
VisaNet_merchantId_App
ÄÄ "
=
ÄÄ# $
oTablasE
ÄÄ% -
.
ÄÄ- .
Nombre
ÄÄ. 4
;
ÄÄ4 5
oTablasE
ÆÆ 
=
ÆÆ 
new
ÆÆ 
TablasAD
ÆÆ #
(
ÆÆ# $
)
ÆÆ$ %
.
ÆÆ% &'
Sp_Tablas_ConsultaEntidad
ÆÆ& ?
(
ÆÆ? @
new
ÆÆ@ C
TablasE
ÆÆD K
(
ÆÆK L
$str
ÆÆL l
,
ÆÆl m
$str
ÆÆn r
,
ÆÆr s
$num
ÆÆt u
,
ÆÆu v
$num
ÆÆw x
,
ÆÆx y
$num
ÆÆz {
)
ÆÆ{ |
)
ÆÆ| }
;
ÆÆ} ~$
VisaNet_merchantId_Web
ÇÇ "
=
ÇÇ# $
oTablasE
ÇÇ% -
.
ÇÇ- .
Nombre
ÇÇ. 4
;
ÇÇ4 5
oTablasE
ÉÉ 
=
ÉÉ 
new
ÉÉ 
TablasAD
ÉÉ #
(
ÉÉ# $
)
ÉÉ$ %
.
ÉÉ% &'
Sp_Tablas_ConsultaEntidad
ÉÉ& ?
(
ÉÉ? @
new
ÉÉ@ C
TablasE
ÉÉD K
(
ÉÉK L
$str
ÉÉL k
,
ÉÉk l
$str
ÉÉm q
,
ÉÉq r
$num
ÉÉs t
,
ÉÉt u
$num
ÉÉv w
,
ÉÉw x
$num
ÉÉy z
)
ÉÉz {
)
ÉÉ{ |
;
ÉÉ| },
VisaNet_ApiKeyAutorizacion_Web
ÊÊ *
=
ÊÊ+ ,
oTablasE
ÊÊ- 5
.
ÊÊ5 6
Nombre
ÊÊ6 <
;
ÊÊ< =
}
ÌÌ 	
public
ÏÏ 
void
ÏÏ 
CargarIniQR
ÏÏ 
(
ÏÏ  
)
ÏÏ  !
{
ĞĞ 	
var
ÑÑ 
oTablasE
ÑÑ 
=
ÑÑ 
new
ÑÑ 
TablasE
ÑÑ &
(
ÑÑ& '
)
ÑÑ' (
;
ÑÑ( )
oTablasE
ÓÓ 
=
ÓÓ 
new
ÓÓ 
TablasAD
ÓÓ #
(
ÓÓ# $
)
ÓÓ$ %
.
ÓÓ% &'
Sp_Tablas_ConsultaEntidad
ÓÓ& ?
(
ÓÓ? @
new
ÓÓ@ C
TablasE
ÓÓD K
(
ÓÓK L
$str
ÓÓL l
,
ÓÓl m
$str
ÓÓn r
,
ÓÓr s
$num
ÓÓt u
,
ÓÓu v
$num
ÓÓw x
,
ÓÓx y
$num
ÓÓz {
)
ÓÓ{ |
)
ÓÓ| }
;
ÓÓ} ~
RutaGuardarQR
ÔÔ 
=
ÔÔ 
oTablasE
ÔÔ $
.
ÔÔ$ %
Nombre
ÔÔ% +
;
ÔÔ+ ,
oTablasE
ÖÖ 
=
ÖÖ 
new
ÖÖ 
TablasAD
ÖÖ #
(
ÖÖ# $
)
ÖÖ$ %
.
ÖÖ% &'
Sp_Tablas_ConsultaEntidad
ÖÖ& ?
(
ÖÖ? @
new
ÖÖ@ C
TablasE
ÖÖD K
(
ÖÖK L
$str
ÖÖL l
,
ÖÖl m
$str
ÖÖn r
,
ÖÖr s
$num
ÖÖt u
,
ÖÖu v
$num
ÖÖw x
,
ÖÖx y
$num
ÖÖz {
)
ÖÖ{ |
)
ÖÖ| }
;
ÖÖ} ~
UrlQR
×× 
=
×× 
oTablasE
×× 
.
×× 
Nombre
×× #
;
××# $
}
ØØ 	
public
ää 
partial
ää 
class
ää 3
%ResponseConsultaVentaRealizadaVisaNet
ää B
{
åå 	
public
ææ 
int
ææ 
	errorCode
ææ  
{
ææ! "
get
ææ# &
;
ææ& '
set
ææ( +
;
ææ+ ,
}
ææ- .
public
çç 
string
çç 
errorMessage
çç &
{
çç' (
get
çç) ,
;
çç, -
set
çç. 1
;
çç1 2
}
çç3 4
public
éé 
Header
éé 
header
éé  
{
éé! "
get
éé# &
;
éé& '
set
éé( +
;
éé+ ,
}
éé- .
public
êê 
Fulfillment
êê 
fulfillment
êê *
{
êê+ ,
get
êê- 0
;
êê0 1
set
êê2 5
;
êê5 6
}
êê7 8
public
ëë 
Order
ëë 
order
ëë 
{
ëë  
get
ëë! $
;
ëë$ %
set
ëë& )
;
ëë) *
}
ëë+ ,
public
ìì 
Datamap
ìì 
dataMap
ìì "
{
ìì# $
get
ìì% (
;
ìì( )
set
ìì* -
;
ìì- .
}
ìì/ 0
}
íí 	
public
ïï 
partial
ïï 
class
ïï 
Header
ïï #
{
ğğ 	
public
ññ 
string
ññ "
ecoreTransactionUUID
ññ .
{
ññ/ 0
get
ññ1 4
;
ññ4 5
set
ññ6 9
;
ññ9 :
}
ññ; <
public
òò 
long
òò "
ecoreTransactionDate
òò ,
{
òò- .
get
òò/ 2
;
òò2 3
set
òò4 7
;
òò7 8
}
òò9 :
public
óó 
int
óó 
millis
óó 
{
óó 
get
óó  #
;
óó# $
set
óó% (
;
óó( )
}
óó* +
}
ôô 	
public
öö 
partial
öö 
class
öö 
Fulfillment
öö (
{
÷÷ 	
public
øø 
string
øø 
channel
øø !
{
øø" #
get
øø$ '
;
øø' (
set
øø) ,
;
øø, -
}
øø. /
public
ùù 
string
ùù 

merchantId
ùù $
{
ùù% &
get
ùù' *
;
ùù* +
set
ùù, /
;
ùù/ 0
}
ùù1 2
public
úú 
string
úú 

terminalId
úú $
{
úú% &
get
úú' *
;
úú* +
set
úú, /
;
úú/ 0
}
úú1 2
public
ûû 
string
ûû 
captureType
ûû %
{
ûû& '
get
ûû( +
;
ûû+ ,
set
ûû- 0
;
ûû0 1
}
ûû2 3
public
üü 
bool
üü 
	countable
üü !
{
üü" #
get
üü$ '
;
üü' (
set
üü) ,
;
üü, -
}
üü. /
public
ıı 
bool
ıı 
fastPayment
ıı #
{
ıı$ %
get
ıı& )
;
ıı) *
set
ıı+ .
;
ıı. /
}
ıı0 1
public
şş 
string
şş 
	signature
şş #
{
şş$ %
get
şş& )
;
şş) *
set
şş+ .
;
şş. /
}
şş0 1
}
ÿÿ 	
public
 
partial
 
class
 
Order
 "
{
‚‚ 	
public
ƒƒ 
string
ƒƒ 
purchaseNumber
ƒƒ (
{
ƒƒ) *
get
ƒƒ+ .
;
ƒƒ. /
set
ƒƒ0 3
;
ƒƒ3 4
}
ƒƒ5 6
public
„„ 
float
„„ 
amount
„„ 
{
„„  !
get
„„" %
;
„„% &
set
„„' *
;
„„* +
}
„„, -
public
…… 
string
…… 
currency
…… "
{
……# $
get
……% (
;
……( )
set
……* -
;
……- .
}
……/ 0
public
†† 
float
†† 
authorizedAmount
†† )
{
††* +
get
††, /
;
††/ 0
set
††1 4
;
††4 5
}
††6 7
public
‡‡ 
string
‡‡ 
authorizationCode
‡‡ +
{
‡‡, -
get
‡‡. 1
;
‡‡1 2
set
‡‡3 6
;
‡‡6 7
}
‡‡8 9
public
ˆˆ 
string
ˆˆ 

actionCode
ˆˆ $
{
ˆˆ% &
get
ˆˆ' *
;
ˆˆ* +
set
ˆˆ, /
;
ˆˆ/ 0
}
ˆˆ1 2
public
‰‰ 
string
‰‰ 
status
‰‰  
{
‰‰! "
get
‰‰# &
;
‰‰& '
set
‰‰( +
;
‰‰+ ,
}
‰‰- .
public
ŠŠ 
string
ŠŠ 
traceNumber
ŠŠ %
{
ŠŠ& '
get
ŠŠ( +
;
ŠŠ+ ,
set
ŠŠ- 0
;
ŠŠ0 1
}
ŠŠ2 3
public
‹‹ 
string
‹‹ 
transactionDate
‹‹ )
{
‹‹* +
get
‹‹, /
;
‹‹/ 0
set
‹‹1 4
;
‹‹4 5
}
‹‹6 7
public
ŒŒ 
string
ŒŒ 
transactionId
ŒŒ '
{
ŒŒ( )
get
ŒŒ* -
;
ŒŒ- .
set
ŒŒ/ 2
;
ŒŒ2 3
}
ŒŒ4 5
}
 	
public
 
partial
 
class
 
Datamap
 $
{
 	
public
‘‘ 
string
‘‘ 
ORIGINAL_DATETIME
‘‘ +
{
‘‘, -
get
‘‘. 1
;
‘‘1 2
set
‘‘3 6
;
‘‘6 7
}
‘‘8 9
public
’’ 
string
’’ 
CURRENCY
’’ "
{
’’# $
get
’’% (
;
’’( )
set
’’* -
;
’’- .
}
’’/ 0
public
““ 
string
““ 
TRANSACTION_DATE
““ *
{
““+ ,
get
““- 0
;
““0 1
set
““2 5
;
““5 6
}
““7 8
public
”” 
string
”” 
TERMINAL
”” "
{
””# $
get
””% (
;
””( )
set
””* -
;
””- .
}
””/ 0
public
•• 
string
•• 
ACTION_CODE
•• %
{
••& '
get
••( +
;
••+ ,
set
••- 0
;
••0 1
}
••2 3
public
–– 
string
–– 
TRACE_NUMBER
–– &
{
––' (
get
––) ,
;
––, -
set
––. 1
;
––1 2
}
––3 4
public
—— 
string
—— 
BIN
—— 
{
—— 
get
——  #
;
——# $
set
——% (
;
——( )
}
——* +
public
˜˜ 
string
˜˜ 
ECI_DESCRIPTION
˜˜ )
{
˜˜* +
get
˜˜, /
;
˜˜/ 0
set
˜˜1 4
;
˜˜4 5
}
˜˜6 7
public
™™ 
string
™™ 
ECI
™™ 
{
™™ 
get
™™  #
;
™™# $
set
™™% (
;
™™( )
}
™™* +
public
šš 
string
šš 
MERCHANT
šš "
{
šš# $
get
šš% (
;
šš( )
set
šš* -
;
šš- .
}
šš/ 0
public
›› 
string
›› 
CARD
›› 
{
››  
get
››! $
;
››$ %
set
››& )
;
››) *
}
››+ ,
public
œœ 
string
œœ 
BRAND
œœ 
{
œœ  !
get
œœ" %
;
œœ% &
set
œœ' *
;
œœ* +
}
œœ, -
public
 
string
 
STATUS
  
{
! "
get
# &
;
& '
set
( +
;
+ ,
}
- .
public
 
string
 

ADQUIRENTE
 $
{
% &
get
' *
;
* +
set
, /
;
/ 0
}
1 2
public
ŸŸ 
string
ŸŸ  
ACTION_DESCRIPTION
ŸŸ ,
{
ŸŸ- .
get
ŸŸ/ 2
;
ŸŸ2 3
set
ŸŸ4 7
;
ŸŸ7 8
}
ŸŸ9 :
public
   
string
   
ID_UNICO
   "
{
  # $
get
  % (
;
  ( )
set
  * -
;
  - .
}
  / 0
public
¡¡ 
string
¡¡ 
AMOUNT
¡¡  
{
¡¡! "
get
¡¡# &
;
¡¡& '
set
¡¡( +
;
¡¡+ ,
}
¡¡- .
public
¢¢ 
string
¢¢ 
PROCESS_CODE
¢¢ &
{
¢¢' (
get
¢¢) ,
;
¢¢, -
set
¢¢. 1
;
¢¢1 2
}
¢¢3 4
public
££ 
string
££ 
TRANSACTION_ID
££ (
{
££) *
get
££+ .
;
££. /
set
££0 3
;
££3 4
}
££5 6
public
¤¤ 
string
¤¤  
AUTHORIZATION_CODE
¤¤ ,
{
¤¤- .
get
¤¤/ 2
;
¤¤2 3
set
¤¤4 7
;
¤¤7 8
}
¤¤9 :
}
¥¥ 	
}
¬¬ 
}±± ½±
ZD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Bus.AgendaClinica\Clinica\CorreoAgenda.cs
	namespace 	
Bus
 
. 
AgendaClinica 
. 
Clinica #
{ 
public 

class 
CorreoAgenda 
{ 
public 
struct 
CorreoLista !
{ 	
public 
const 
string )
Medisy_AgendaWebErrorServicio  =
=> ?
$str@ `
;` a
public 
const 
string %
Medisyn_AgendaWebPaciente  9
=: ;
$str< W
;W X
} 	
public 
struct 

CorreoTipo  
{ 	
public 
const 
string 
CorreoTo  (
=) *
$str+ /
;/ 0
public 
const 
string 
CorreoCC  (
=) *
$str+ /
;/ 0
public 
const 
string 
	CorreoCCo  )
=* +
$str, 1
;1 2
}   	
public"" 
void"" 
Load_Initial""  
(""  !
)""! "
{## 	
	Utilities$$ 
.$$ 
Net$$ 
oNet$$ 
=$$  
new$$! $
	Utilities$$% .
.$$. /
Net$$/ 2
($$2 3
)$$3 4
;$$4 5
oNet%% 
.%% 
Load_Net%% 
(%% 
)%% 
;%% 
VariablesGlobales'' 
.'' 
LoadConectionString'' 1
(''1 2
$str''2 D
,''D E
VariablesGlobales''F W
.''W X
ListDataBase''X d
.''d e
medisyn''e l
)''l m
;''m n
VariablesGlobales(( 
.(( 
LoadConectionString(( 1
(((1 2
$str((2 A
,((A B
VariablesGlobales((C T
.((T U
ListDataBase((U a
.((a b
clinica((b i
)((i j
;((j k
})) 	
private,, 
System,, 
.,, 
Timers,, 
.,, 
Timer,, #
oTimerEnvioCorreo,,$ 5
;,,5 6
public-- 
int-- 
TiempoIntervalo-- "
=--# $
$num--% &
;--& '
public.. 
int.. 
IdMail.. 
=.. 
$num.. 
;.. 
public// 
string// 
PerfilNameCorreo// &
=//' (
$str//) +
;//+ ,
private00 
int00 
ConteoReinicio00 "
=00# $
$num00% &
;00& '
private22 

SisCorreoE22 
oSisCorreoE22 &
=22' (
new22) ,

SisCorreoE22- 7
(227 8
)228 9
;229 :
private33 
SisCorreoAD33 
oSisCorreoAD33 (
=33) *
new33+ .
SisCorreoAD33/ :
(33: ;
)33; <
;33< =
private44 
TablasAD44 
	oTablasAD44 "
=44# $
new44% (
TablasAD44) 1
(441 2
)442 3
;443 4
public66 
int66 
CargarIdMailMedisyn66 &
(66& '
)66' (
{77 	
List99 
<99 
TablasE99 
>99 
oListTablasE99 &
=99' (
new99) ,
List99- 1
<991 2
TablasE992 9
>999 :
(99: ;
)99; <
;99< =
try;; 
{<< 
oListTablasE== 
=== 
	oTablasAD== (
.==( )
Sp_Tablas_Consulta==) ;
(==; <
new==< ?
TablasE==@ G
(==G H
$str==H ^
,==^ _
$str==` b
,==b c
$num==d f
,==f g
$num==h i
,==i j
-==k l
$num==l m
)==m n
)==n o
;==o p
foreach>> 
(>> 
var>> 
oTablasE>> %
in>>& (
oListTablasE>>) 5
)>>5 6
{?? 
if@@ 
(@@ 
oTablasE@@  
.@@  !
Estado@@! '
.@@' (
Trim@@( ,
(@@, -
)@@- .
==@@/ 1
$str@@2 5
)@@5 6
IdMailAA 
=AA  
(AA! "
intAA" %
)AA% &
oTablasEAA& .
.AA. /
ValorAA/ 4
;AA4 5
}BB 
returnDD 
IdMailDD 
;DD 
}EE 
catchFF 
(FF 
	ExceptionFF 
exFF 
)FF  
{GG 
throwHH 
newHH 
	ExceptionHH #
(HH# $
exHH$ &
.HH& '
MessageHH' .
)HH. /
;HH/ 0
}II 
}JJ 	
publicLL 
stringLL 
getCorreoEnvioLL $
(LL$ %
stringLL% +
pCorreoListaLL, 8
,LL8 9
stringLL: @
pCorreoTipoLLA L
)LLL M
{MM 	
ListNN 
<NN %
SisCorreodestinatarioMaeENN *
>NN* +*
oListSisCorreodestinatarioMaeENN, J
=NNK L
newNNM P
ListNNQ U
<NNU V%
SisCorreodestinatarioMaeENNV o
>NNo p
(NNp q
)NNq r
;NNr s&
SisCorreodestinatarioMaeADOO &'
oSisCorreodestinatarioMaeADOO' B
=OOC D
newOOE H&
SisCorreodestinatarioMaeADOOI c
(OOc d
)OOd e
;OOe f
stringPP 
xResultPP 
=PP 
$strPP 
;PP  *
oListSisCorreodestinatarioMaeERR *
=RR+ ,'
oSisCorreodestinatarioMaeADRR- H
.RRH I*
Sp_CorreoDestinatario_ConsultaRRI g
(RRg h
newRRh k&
SisCorreodestinatarioMaeE	RRl …
(
RR… †
pCorreoLista
RR† ’
,
RR’ “
pCorreoTipo
RR” Ÿ
)
RRŸ  
)
RR  ¡
;
RR¡ ¢
ifSS 
(SS *
oListSisCorreodestinatarioMaeESS .
.SS. /
CountSS/ 4
!=SS5 7
$numSS8 9
)SS9 :
xResultTT 
=TT *
oListSisCorreodestinatarioMaeETT 8
[TT8 9
$numTT9 :
]TT: ;
.TT; <
DscDestinatarioTT< K
;TTK L
returnVV 
xResultVV 
;VV 
}WW 	
publicYY 
voidYY  
StarStopServicesMailYY (
(YY( )
stringYY) /
pBodyYY0 5
)YY5 6
{ZZ 	

SisCorreoE[[ 
oSisCorreoE[[ "
=[[# $
new[[% (

SisCorreoE[[) 3
([[3 4
)[[4 5
;[[5 6
string\\ 
xTo\\ 
=\\ 
getCorreoEnvio\\ '
(\\' (
CorreoLista\\( 3
.\\3 4)
Medisy_AgendaWebErrorServicio\\4 Q
,\\Q R

CorreoTipo\\S ]
.\\] ^
CorreoTo\\^ f
)\\f g
;\\g h
string]] 
xCC]] 
=]] 
getCorreoEnvio]] '
(]]' (
CorreoLista]]( 3
.]]3 4)
Medisy_AgendaWebErrorServicio]]4 Q
,]]Q R

CorreoTipo]]S ]
.]]] ^
CorreoCC]]^ f
)]]f g
;]]g h
oSisCorreoE__ 
.__ 

PerfilName__ "
=__# $
PerfilNameCorreo__% 5
;__5 6
oSisCorreoE`` 
.`` 
Asunto`` 
=``  
$str``! =
;``= >
oSisCorreoEaa 
.aa 
Cuerpoaa 
=aa  
pBodyaa! &
;aa& '
oSisCorreoEbb 
.bb 
EnviarAbb 
=bb  !
xTobb" %
;bb% &
oSisCorreoEcc 
.cc 
CopiarAcc 
=cc  !
xCCcc" %
;cc% &
oSisCorreoADdd 
.dd 
Ut_EnviarCorreov3dd *
(dd* +
oSisCorreoEdd+ 6
)dd6 7
;dd7 8
}ee 	
publicgg 
voidgg 
CargarDatosInigg "
(gg" #
)gg# $
{hh 	
Listjj 
<jj 
TablasEjj 
>jj 
oListTablasEjj &
=jj' (
newjj) ,
Listjj- 1
<jj1 2
TablasEjj2 9
>jj9 :
(jj: ;
)jj; <
;jj< =
TablasADkk 
	oTablasADkk 
=kk  
newkk! $
TablasADkk% -
(kk- .
)kk. /
;kk/ 0
oListTablasEmm 
=mm 
	oTablasADmm $
.mm$ %
Sp_Tablas_Consultamm% 7
(mm7 8
newmm8 ;
TablasEmm< C
(mmC D
$strmmD _
,mm_ `
$strmma c
,mmc d
$nummme g
,mmg h
$nummmi j
,mmj k
-mml m
$nummmm n
)mmn o
)mmo p
;mmp q
foreachnn 
(nn 
varnn 
oTablasEnn !
innn" $
oListTablasEnn% 1
)nn1 2
{oo 
ifpp 
(pp 
oTablasEpp 
.pp 
Estadopp #
.pp# $
Trimpp$ (
(pp( )
)pp) *
==pp+ -
$strpp. 1
)pp1 2
TiempoIntervaloqq #
=qq$ %
(qq& '
intqq' *
)qq* +
oTablasEqq+ 3
.qq3 4
Valorqq4 9
;qq9 :
}rr 
oListTablasEtt 
=tt 
	oTablasADtt $
.tt$ %
Sp_Tablas_Consultatt% 7
(tt7 8
newtt8 ;
TablasEtt< C
(ttC D
$strttD ]
,tt] ^
$strtt_ a
,tta b
$numttc e
,tte f
$numttg h
,tth i
-ttj k
$numttk l
)ttl m
)ttm n
;ttn o
foreachuu 
(uu 
varuu 
oTablasEuu !
inuu" $
oListTablasEuu% 1
)uu1 2
{vv 
ifww 
(ww 
oTablasEww 
.ww 
Estadoww #
.ww# $
Trimww$ (
(ww( )
)ww) *
==ww+ -
$strww. 1
)ww1 2
{xx 
ifyy 
(yy 
oTablasEyy  
.yy  !
Codigoyy! '
.yy' (
Trimyy( ,
(yy, -
)yy- .
==yy/ 1
$stryy2 5
)yy5 6
VariablesGlobaleszz )
.zz) *
ActivarLogGuardarzz* ;
=zz< =
truezz> B
;zzB C
else{{ 
VariablesGlobales|| )
.||) *
ActivarLogGuardar||* ;
=||< =
false||> C
;||C D
}}} 
}~~ 
oListTablasE
€€ 
=
€€ 
	oTablasAD
€€ $
.
€€$ % 
Sp_Tablas_Consulta
€€% 7
(
€€7 8
new
€€8 ;
TablasE
€€< C
(
€€C D
$str
€€D ^
,
€€^ _
$str
€€` b
,
€€b c
$num
€€d f
,
€€f g
$num
€€h i
,
€€i j
-
€€k l
$num
€€l m
)
€€m n
)
€€n o
;
€€o p
foreach
 
(
 
var
 
oTablasE
 !
in
" $
oListTablasE
% 1
)
1 2
{
‚‚ 
if
ƒƒ 
(
ƒƒ 
oTablasE
ƒƒ 
.
ƒƒ 
Estado
ƒƒ #
.
ƒƒ# $
Trim
ƒƒ$ (
(
ƒƒ( )
)
ƒƒ) *
==
ƒƒ+ -
$str
ƒƒ. 1
)
ƒƒ1 2
{
„„ 
PerfilNameCorreo
…… $
=
……% &
oTablasE
……' /
.
……/ 0
Nombre
……0 6
.
……6 7
Trim
……7 ;
(
……; <
)
……< =
;
……= >
break
†† 
;
†† 
}
‡‡ 
}
ˆˆ 
}
‰‰ 	
public
‹‹ 
void
‹‹ #
GuardarMensajeNotepad
‹‹ )
(
‹‹) *
string
‹‹* 0
pMensaje
‹‹1 9
,
‹‹9 :
string
‹‹; A
pMetodo
‹‹B I
)
‹‹I J
{
ŒŒ 	
string
 
pathDirectory
  
=
! "
$str
# -
;
- .
string
 
NameFileLog
 
=
  
$str
! @
;
@ A
string
 
pathLog
 
=
 
pathDirectory
 *
+
+ ,
NameFileLog
- 8
;
8 9
if
’’ 
(
’’ 
	Directory
’’ 
.
’’ 
Exists
’’  
(
’’  !
pathDirectory
’’! .
)
’’. /
==
’’0 2
false
’’3 8
)
’’8 9
	Directory
““ 
.
““ 
CreateDirectory
““ )
(
““) *
pathDirectory
““* 7
)
““7 8
;
““8 9

TextWriter
•• 
xFile
•• 
=
•• 
new
•• "
StreamWriter
••# /
(
••/ 0
pathLog
••0 7
,
••7 8
true
••9 =
)
••= >
;
••> ?
xFile
–– 
.
–– 
	WriteLine
–– 
(
–– 
$str
–– ,
+
––- .
DateTime
––/ 7
.
––7 8
Now
––8 ;
.
––; <
ToString
––< D
(
––D E
)
––E F
)
––F G
;
––G H
xFile
—— 
.
—— 
	WriteLine
—— 
(
—— 
$str
—— '
+
——( )
pMensaje
——* 2
)
——2 3
;
——3 4
xFile
˜˜ 
.
˜˜ 
	WriteLine
˜˜ 
(
˜˜ 
$str
˜˜ &
+
˜˜' (
pMetodo
˜˜) 0
+
˜˜1 2
$str
˜˜3 7
)
˜˜7 8
;
˜˜8 9
xFile
™™ 
.
™™ 
Close
™™ 
(
™™ 
)
™™ 
;
™™ 
}
šš 	
private
œœ 
string
œœ 
MailBody
œœ 
(
œœ  
string
œœ  &
	pMailBody
œœ' 0
)
œœ0 1
{
 	
	pMailBody
 
=
 
	pMailBody
 !
.
! "
Replace
" )
(
) *
$str
* ?
,
? @
$str
A w
)
w x
;
x y
	pMailBody
ŸŸ 
=
ŸŸ 
	pMailBody
ŸŸ !
.
ŸŸ! "
Replace
ŸŸ" )
(
ŸŸ) *
$str
ŸŸ* 6
,
ŸŸ6 7
$strŸŸ8 µ
)ŸŸµ ¶
;ŸŸ¶ ·
	pMailBody
   
=
   
	pMailBody
   !
.
  ! "
Replace
  " )
(
  ) *
$str
  * 9
+
  : ;
$str
  < C
+
  D E
$str
  F V
,
  V W
$str  X º
)  º »
;  » ¼
	pMailBody
¡¡ 
=
¡¡ 
	pMailBody
¡¡ !
.
¡¡! "
Replace
¡¡" )
(
¡¡) *
$str
¡¡* /
,
¡¡/ 0
$str
¡¡1 L
)
¡¡L M
;
¡¡M N
	pMailBody
¢¢ 
=
¢¢ 
	pMailBody
¢¢ !
.
¢¢! "
Replace
¢¢" )
(
¢¢) *
$str
¢¢* =
,
¢¢= >
$str
¢¢? R
)
¢¢R S
;
¢¢S T
return
¤¤ 
	pMailBody
¤¤ 
;
¤¤ 
}
¥¥ 	
public
§§ 
void
§§ )
ServicioEnvioCorreoPaciente
§§ /
(
§§/ 0
)
§§0 1
{
¨¨ 	
string
©© 
[
©© 
]
©© 
msj
©© 
=
©© 
new
©© 
[
©© 
]
©©  
{
©©! "
$str
©©# b
}
©©c d
;
©©d e
try
«« 
{
¬¬ 
GenEnvioMailAD
®® 
oGenEnvioMailLN
®® .
=
®®/ 0
new
®®1 4
GenEnvioMailAD
®®5 C
(
®®C D
)
®®D E
;
®®E F
GenEnvioMailE
¯¯ 
oGenEnvioMailE
¯¯ ,
=
¯¯- .
new
¯¯/ 2
GenEnvioMailE
¯¯3 @
(
¯¯@ A
)
¯¯A B
;
¯¯B C
List
°° 
<
°° 
GenEnvioMailE
°° "
>
°°" # 
oListGenEnvioMailE
°°$ 6
=
°°7 8
new
°°9 <
List
°°= A
<
°°A B
GenEnvioMailE
°°B O
>
°°O P
(
°°P Q
)
°°Q R
;
°°R S
string
²² 
xTo
²² 
=
²² 
getCorreoEnvio
²² +
(
²²+ ,
CorreoLista
²², 7
.
²²7 8'
Medisyn_AgendaWebPaciente
²²8 Q
,
²²Q R

CorreoTipo
²²S ]
.
²²] ^
CorreoTo
²²^ f
)
²²f g
;
²²g h
string
³³ 
xCC
³³ 
=
³³ 
getCorreoEnvio
³³ +
(
³³+ ,
CorreoLista
³³, 7
.
³³7 8'
Medisyn_AgendaWebPaciente
³³8 Q
,
³³Q R

CorreoTipo
³³S ]
.
³³] ^
CorreoCC
³³^ f
)
³³f g
;
³³g h
string
´´ 
xCCo
´´ 
=
´´ 
getCorreoEnvio
´´ ,
(
´´, -
CorreoLista
´´- 8
.
´´8 9'
Medisyn_AgendaWebPaciente
´´9 R
,
´´R S

CorreoTipo
´´T ^
.
´´^ _
	CorreoCCo
´´_ h
)
´´h i
;
´´i j
IdMail
¶¶ 
=
¶¶ !
CargarIdMailMedisyn
¶¶ ,
(
¶¶, -
)
¶¶- .
;
¶¶. / 
oListGenEnvioMailE
¹¹ "
=
¹¹# $
oGenEnvioMailLN
¹¹% 4
.
¹¹4 5 
ConsultarEnvioMail
¹¹5 G
(
¹¹G H
ref
¹¹H K
IdMail
¹¹L R
)
¹¹R S
;
¹¹S T
for
»» 
(
»» 
int
»» 
i
»» 
=
»» 
$num
»» 
;
»» 
i
»»  !
<=
»»" $ 
oListGenEnvioMailE
»»% 7
.
»»7 8
Count
»»8 =
-
»»> ?
$num
»»@ A
;
»»A B
i
»»C D
++
»»D F
)
»»F G
{
¼¼ 
oGenEnvioMailE
½½ "
=
½½# $ 
oListGenEnvioMailE
½½% 7
[
½½7 8
i
½½8 9
]
½½9 :
;
½½: ;
oSisCorreoE
¿¿ 
.
¿¿  

PerfilName
¿¿  *
=
¿¿+ ,
PerfilNameCorreo
¿¿- =
;
¿¿= >
oSisCorreoE
ÀÀ 
.
ÀÀ  
Asunto
ÀÀ  &
=
ÀÀ' (
oGenEnvioMailE
ÀÀ) 7
.
ÀÀ7 8

MailSubjet
ÀÀ8 B
;
ÀÀB C
oSisCorreoE
ÁÁ 
.
ÁÁ  
Cuerpo
ÁÁ  &
=
ÁÁ' (
MailBody
ÁÁ) 1
(
ÁÁ1 2
oGenEnvioMailE
ÁÁ2 @
.
ÁÁ@ A
MailBody
ÁÁA I
)
ÁÁI J
;
ÁÁJ K
if
ÃÃ 
(
ÃÃ 
oSisCorreoE
ÃÃ #
.
ÃÃ# $
Asunto
ÃÃ$ *
==
ÃÃ+ -
$str
ÃÃ. P
)
ÃÃP Q
{
ÄÄ 
oSisCorreoE
ÅÅ #
.
ÅÅ# $
Cuerpo
ÅÅ$ *
=
ÅÅ+ ,

HeaderHtml
ÅÅ- 7
(
ÅÅ7 8
$str
ÅÅ8 Z
)
ÅÅZ [
;
ÅÅ[ \
oSisCorreoE
ÆÆ #
.
ÆÆ# $
Cuerpo
ÆÆ$ *
=
ÆÆ+ ,
oSisCorreoE
ÆÆ- 8
.
ÆÆ8 9
Cuerpo
ÆÆ9 ?
+
ÆÆ@ A#
BodyCorreoReservaCita
ÆÆB W
(
ÆÆW X
oGenEnvioMailE
ÆÆX f
.
ÆÆf g
MailBody
ÆÆg o
)
ÆÆo p
;
ÆÆp q
}
ÇÇ 
else
ÈÈ 
if
ÈÈ 
(
ÈÈ 
oSisCorreoE
ÈÈ (
.
ÈÈ( )
Asunto
ÈÈ) /
==
ÈÈ0 2
$str
ÈÈ3 W
)
ÈÈW X
{
ÉÉ 
oSisCorreoE
ÊÊ #
.
ÊÊ# $
Cuerpo
ÊÊ$ *
=
ÊÊ+ ,

HeaderHtml
ÊÊ- 7
(
ÊÊ7 8
$str
ÊÊ8 \
)
ÊÊ\ ]
;
ÊÊ] ^
oSisCorreoE
ËË #
.
ËË# $
Cuerpo
ËË$ *
=
ËË+ ,
oSisCorreoE
ËË- 8
.
ËË8 9
Cuerpo
ËË9 ?
+
ËË@ A%
BodyCorreoAnulacionCita
ËËB Y
(
ËËY Z
oGenEnvioMailE
ËËZ h
.
ËËh i
MailBody
ËËi q
)
ËËq r
;
ËËr s
}
ÌÌ 
else
ÍÍ 
if
ÍÍ 
(
ÍÍ 
oSisCorreoE
ÍÍ (
.
ÍÍ( )
Asunto
ÍÍ) /
==
ÍÍ0 2
$str
ÍÍ3 J
)
ÍÍJ K
{
ÎÎ 
oSisCorreoE
ÏÏ #
.
ÏÏ# $
Cuerpo
ÏÏ$ *
=
ÏÏ+ ,

HeaderHtml
ÏÏ- 7
(
ÏÏ7 8
$str
ÏÏ8 O
)
ÏÏO P
;
ÏÏP Q
oSisCorreoE
ĞĞ #
.
ĞĞ# $
Cuerpo
ĞĞ$ *
=
ĞĞ+ ,
oSisCorreoE
ĞĞ- 8
.
ĞĞ8 9
Cuerpo
ĞĞ9 ?
+
ĞĞ@ A)
BodyCorreoRecuperacionClave
ĞĞB ]
(
ĞĞ] ^
oGenEnvioMailE
ĞĞ^ l
.
ĞĞl m
MailBody
ĞĞm u
)
ĞĞu v
;
ĞĞv w
xCC
ÑÑ 
=
ÑÑ 
$str
ÑÑ  
;
ÑÑ  !
xCCo
ÒÒ 
=
ÒÒ 
$str
ÒÒ !
;
ÒÒ! "
}
ÓÓ 
else
ÔÔ 
if
ÔÔ 
(
ÔÔ 
oSisCorreoE
ÔÔ (
.
ÔÔ( )
Asunto
ÔÔ) /
==
ÔÔ0 2
$str
ÔÔ3 H
)
ÔÔH I
{
ÕÕ 
oSisCorreoE
ÖÖ #
.
ÖÖ# $
Cuerpo
ÖÖ$ *
=
ÖÖ+ ,

HeaderHtml
ÖÖ- 7
(
ÖÖ7 8
$str
ÖÖ8 W
)
ÖÖW X
;
ÖÖX Y
oSisCorreoE
×× #
.
××# $
Cuerpo
××$ *
=
××+ ,
oSisCorreoE
××- 8
.
××8 9
Cuerpo
××9 ?
+
××@ A%
BodyCorreoValidacionOTP
××B Y
(
××Y Z
oGenEnvioMailE
××Z h
.
××h i
MailBody
××i q
)
××q r
;
××r s
}
ØØ 
else
ÙÙ 
{
ÚÚ 
oSisCorreoE
ÛÛ #
.
ÛÛ# $
Cuerpo
ÛÛ$ *
=
ÛÛ+ ,

HeaderHtml
ÛÛ- 7
(
ÛÛ7 8
oSisCorreoE
ÛÛ8 C
.
ÛÛC D
Asunto
ÛÛD J
)
ÛÛJ K
;
ÛÛK L
oSisCorreoE
ÜÜ #
.
ÜÜ# $
Cuerpo
ÜÜ$ *
=
ÜÜ+ ,
oSisCorreoE
ÜÜ- 8
.
ÜÜ8 9
Cuerpo
ÜÜ9 ?
+
ÜÜ@ A 
BodyCorreoGenerico
ÜÜB T
(
ÜÜT U
oGenEnvioMailE
ÜÜU c
.
ÜÜc d
MailBody
ÜÜd l
)
ÜÜl m
;
ÜÜm n
}
İİ 
oSisCorreoE
ßß 
.
ßß  
Cuerpo
ßß  &
=
ßß' (
oSisCorreoE
ßß) 4
.
ßß4 5
Cuerpo
ßß5 ;
+
ßß< =

FooterHtml
ßß> H
(
ßßH I
)
ßßI J
;
ßßJ K
if
àà 
(
àà 
VariablesGlobales
àà )
.
àà) *

CnnClinica
àà* 4
.
àà4 5
IndexOf
àà5 <
(
àà< =
$str
àà= C
)
ààC D
>=
ààE G
$num
ààH I
)
ààI J
{
áá 
oSisCorreoE
ââ #
.
ââ# $
EnviarA
ââ$ +
=
ââ, -
(
ââ. /
xTo
ââ/ 2
.
ââ2 3
Trim
ââ3 7
(
ââ7 8
)
ââ8 9
==
ââ: <
$str
ââ= ?
?
ââ@ A
oGenEnvioMailE
ââB P
.
ââP Q
MailTo
ââQ W
:
ââX Y
xTo
ââZ ]
)
ââ] ^
;
ââ^ _
oSisCorreoE
ãã #
.
ãã# $
CopiarA
ãã$ +
=
ãã, -
$str
ãã. 0
;
ãã0 1
oSisCorreoE
ää #
.
ää# $
Copiarh
ää$ +
=
ää, -
$str
ää. N
;
ääN O
oSisCorreoE
åå #
.
åå# $

PerfilName
åå$ .
=
åå/ 0
$str
åå1 3
;
åå3 4
}
ææ 
else
çç 
{
èè 
oSisCorreoE
éé #
.
éé# $
EnviarA
éé$ +
=
éé, -
(
éé. /
xTo
éé/ 2
.
éé2 3
Trim
éé3 7
(
éé7 8
)
éé8 9
==
éé: <
$str
éé= ?
?
éé@ A
oGenEnvioMailE
ééB P
.
ééP Q
MailTo
ééQ W
:
ééX Y
xTo
ééZ ]
)
éé] ^
;
éé^ _
oSisCorreoE
êê #
.
êê# $
CopiarA
êê$ +
=
êê, -
xCC
êê. 1
;
êê1 2
oSisCorreoE
ëë #
.
ëë# $
Copiarh
ëë$ +
=
ëë, -
xCCo
ëë. 2
;
ëë2 3
}
ìì 
IdMail
îî 
=
îî 
Convert
îî $
.
îî$ %
ToInt32
îî% ,
(
îî, -
oGenEnvioMailE
îî- ;
.
îî; <
IdMail
îî< B
)
îîB C
;
îîC D
try
ğğ 
{
ññ 
oSisCorreoAD
òò $
.
òò$ %
Ut_EnviarCorreov3
òò% 6
(
òò6 7
oSisCorreoE
òò7 B
)
òòB C
;
òòC D
if
óó 
(
óó 
oSisCorreoE
óó '
.
óó' (
Mailid
óó( .
!=
óó/ 1
$num
óó2 3
)
óó3 4
	oTablasAD
ôô %
.
ôô% &
Sp_Tablas_Update
ôô& 6
(
ôô6 7
new
ôô7 :
TablasE
ôô; B
(
ôôB C
$str
ôôC Y
,
ôôY Z
$str
ôô[ _
,
ôô_ `
oGenEnvioMailE
ôôa o
.
ôôo p
IdMail
ôôp v
,
ôôv w
$str
ôôx 
)ôô €
)ôô€ 
;ôô ‚
else
õõ 
VariablesGlobales
öö -
.
öö- .%
Guardar_Error_BaseDatos
öö. E
(
ööE F
$str
ööF Y
+
ööZ [
oGenEnvioMailE
öö\ j
.
ööj k
IdMail
öök q
+
öör s
$char
ööt x
+
ööy z
oSisCorreoEöö{ †
.öö† ‡
Asuntoöö‡ 
+öö 
$charöö ”
+öö• –
oSisCorreoEöö— ¢
.öö¢ £
EnviarAöö£ ª
+öö« ¬
$charöö­ ±
+öö² ³
oSisCorreoEöö´ ¿
.öö¿ À
CuerpoööÀ Æ
,ööÆ Ç
$strööÈ à
)ööà á
;ööá â
}
÷÷ 
catch
øø 
(
øø 
	Exception
øø $
ex
øø% '
)
øø' (
{
ùù 
ConteoReinicio
ûû &
+=
ûû' )
$num
ûû* +
;
ûû+ ,
VariablesGlobales
üü )
.
üü) *%
Guardar_Error_BaseDatos
üü* A
(
üüA B
ex
üüB D
.
üüD E
Message
üüE L
+
üüM N
$str
üüO U
+
üüV W
msj
üüX [
[
üü[ \
$num
üü\ ]
]
üü] ^
+
üü_ `
ConteoReinicio
üüa o
.
üüo p
ToString
üüp x
(
üüx y
)
üüy z
,
üüz {
$strüü| ™
)üü™ š
;üüš ›
}
ıı 
}
şş 
new
€€ 
TablasAD
€€ 
(
€€ 
)
€€ 
.
€€ 
Sp_Tablas_Update
€€ /
(
€€/ 0
new
€€0 3
TablasE
€€4 ;
(
€€; <
$str
€€< Z
,
€€Z [
$str
€€\ `
,
€€` a
DateTime
€€b j
.
€€j k
Now
€€k n
.
€€n o
ToString
€€o w
(
€€w x
$str€€x ‘
)€€‘ ’
,€€’ “
$str€€” œ
)€€œ 
)€€ 
;€€ Ÿ
}
 
catch
‚‚ 
(
‚‚ 
	Exception
‚‚ 
ex
‚‚ 
)
‚‚  
{
ƒƒ 
ConteoReinicio
…… 
+=
…… !
$num
……" #
;
……# $
VariablesGlobales
‡‡ !
.
‡‡! "%
Guardar_Error_BaseDatos
‡‡" 9
(
‡‡9 :
ex
‡‡: <
.
‡‡< =
ToString
‡‡= E
(
‡‡E F
)
‡‡F G
+
‡‡H I
$str
‡‡J Q
+
‡‡R S
ex
‡‡T V
.
‡‡V W
Message
‡‡W ^
+
‡‡_ `
$str
‡‡a g
+
‡‡h i
msj
‡‡j m
[
‡‡m n
$num
‡‡n o
]
‡‡o p
+
‡‡q r
ConteoReinicio‡‡s 
.‡‡ ‚
ToString‡‡‚ Š
(‡‡Š ‹
)‡‡‹ Œ
,‡‡Œ 
$str‡‡ «
)‡‡« ¬
;‡‡¬ ­
}
ˆˆ 
}
‰‰ 	
private
 
string
 

HeaderHtml
 !
(
! "
string
" (
pTitulo
) 0
)
0 1
{
‘‘ 	
string
’’ 
xResult
’’ 
=
’’ 
$str
’’ 
;
’’  
xResult
”” 
=
”” 
$str
”— 
+
—— 
pTitulo
—— #
+
——$ %
$str
——& .
;
——. /
return
™™ 
xResult
™™ 
;
™™ 
}
šš 	
private
   
string
   

FooterHtml
   !
(
  ! "
)
  " #
{
¡¡ 	
string
¢¢ 
xResult
¢¢ 
=
¢¢ 
$str
¢¢ 
;
¢¢  
xResult
¤¤ 
=
¤¤ 
$str
¤® 
;
®® 
return
°° 
xResult
°° 
;
°° 
}
±± 	
private
¸¸ 
string
¸¸ #
BodyCorreoReservaCita
¸¸ ,
(
¸¸, -
string
¸¸- 3
pCuerpoCorreo
¸¸4 A
)
¸¸A B
{
¹¹ 	
XmlDocument
ºº 
xml
ºº 
=
ºº 
new
ºº !
XmlDocument
ºº" -
(
ºº- .
)
ºº. /
;
ºº/ 0
string
»» 
	xBodyHtml
»» 
=
»» 
$str
»» !
;
»»! "
xml
¼¼ 
.
¼¼ 
LoadXml
¼¼ 
(
¼¼ 
pCuerpoCorreo
¼¼ %
)
¼¼% &
;
¼¼& '
	DataTable
½½ 
dt
½½ 
=
½½ 
	Utilities
½½ $
.
½½$ %
XmlHelp
½½% ,
.
½½, -
DevolverTabla_XML
½½- >
(
½½> ?
xml
½½? B
,
½½B C
$str
½½D K
,
½½K L
$str
½½M Q
,
½½Q R
$str
½½S W
,
½½W X
$str
½½Y ]
)
½½] ^
;
½½^ _
	xBodyHtml
¿¿ 
=
¿¿ 
$str¿¿ ´
+¿¿µ ¶
$char¿¿· »
+¿¿¼ ½
$str¿¿¾ Ù
+¿¿Ú Û
$char¿¿Ü à
;¿¿à á
for
ÁÁ 
(
ÁÁ 
int
ÁÁ 
i
ÁÁ 
=
ÁÁ 
$num
ÁÁ 
;
ÁÁ 
i
ÁÁ 
<=
ÁÁ  
dt
ÁÁ! #
.
ÁÁ# $
Rows
ÁÁ$ (
.
ÁÁ( )
Count
ÁÁ) .
-
ÁÁ/ 0
$num
ÁÁ1 2
;
ÁÁ2 3
i
ÁÁ4 5
++
ÁÁ5 7
)
ÁÁ7 8
{
ÂÂ 
dt
ÃÃ 
.
ÃÃ 
Rows
ÃÃ 
[
ÃÃ 
i
ÃÃ 
]
ÃÃ 
[
ÃÃ 
$num
ÃÃ 
]
ÃÃ 
=
ÃÃ 
dt
ÃÃ  "
.
ÃÃ" #
Rows
ÃÃ# '
[
ÃÃ' (
i
ÃÃ( )
]
ÃÃ) *
[
ÃÃ* +
$num
ÃÃ+ ,
]
ÃÃ, -
.
ÃÃ- .
ToString
ÃÃ. 6
(
ÃÃ6 7
)
ÃÃ7 8
.
ÃÃ8 9
Replace
ÃÃ9 @
(
ÃÃ@ A
$str
ÃÃA D
,
ÃÃD E
$str
ÃÃF H
)
ÃÃH I
;
ÃÃI J
dt
ÄÄ 
.
ÄÄ 
Rows
ÄÄ 
[
ÄÄ 
i
ÄÄ 
]
ÄÄ 
[
ÄÄ 
$num
ÄÄ 
]
ÄÄ 
=
ÄÄ 
dt
ÄÄ  "
.
ÄÄ" #
Rows
ÄÄ# '
[
ÄÄ' (
i
ÄÄ( )
]
ÄÄ) *
[
ÄÄ* +
$num
ÄÄ+ ,
]
ÄÄ, -
.
ÄÄ- .
ToString
ÄÄ. 6
(
ÄÄ6 7
)
ÄÄ7 8
.
ÄÄ8 9
Replace
ÄÄ9 @
(
ÄÄ@ A
$str
ÄÄA W
,
ÄÄW X
$str
ÄÄY l
)
ÄÄl m
;
ÄÄm n
dt
ÅÅ 
.
ÅÅ 
Rows
ÅÅ 
[
ÅÅ 
i
ÅÅ 
]
ÅÅ 
[
ÅÅ 
$num
ÅÅ 
]
ÅÅ 
=
ÅÅ 
dt
ÅÅ  "
.
ÅÅ" #
Rows
ÅÅ# '
[
ÅÅ' (
i
ÅÅ( )
]
ÅÅ) *
[
ÅÅ* +
$num
ÅÅ+ ,
]
ÅÅ, -
.
ÅÅ- .
ToString
ÅÅ. 6
(
ÅÅ6 7
)
ÅÅ7 8
.
ÅÅ8 9
Replace
ÅÅ9 @
(
ÅÅ@ A
$str
ÅÅA P
,
ÅÅP Q
$str
ÅÅR ^
)
ÅÅ^ _
;
ÅÅ_ `
dt
ÆÆ 
.
ÆÆ 
Rows
ÆÆ 
[
ÆÆ 
i
ÆÆ 
]
ÆÆ 
[
ÆÆ 
$num
ÆÆ 
]
ÆÆ 
=
ÆÆ 
dt
ÆÆ  "
.
ÆÆ" #
Rows
ÆÆ# '
[
ÆÆ' (
i
ÆÆ( )
]
ÆÆ) *
[
ÆÆ* +
$num
ÆÆ+ ,
]
ÆÆ, -
.
ÆÆ- .
ToString
ÆÆ. 6
(
ÆÆ6 7
)
ÆÆ7 8
.
ÆÆ8 9
Replace
ÆÆ9 @
(
ÆÆ@ A
$str
ÆÆA Q
,
ÆÆQ R
$str
ÆÆS `
)
ÆÆ` a
;
ÆÆa b
dt
ÇÇ 
.
ÇÇ 
Rows
ÇÇ 
[
ÇÇ 
i
ÇÇ 
]
ÇÇ 
[
ÇÇ 
$num
ÇÇ 
]
ÇÇ 
=
ÇÇ 
dt
ÇÇ  "
.
ÇÇ" #
Rows
ÇÇ# '
[
ÇÇ' (
i
ÇÇ( )
]
ÇÇ) *
[
ÇÇ* +
$num
ÇÇ+ ,
]
ÇÇ, -
.
ÇÇ- .
ToString
ÇÇ. 6
(
ÇÇ6 7
)
ÇÇ7 8
.
ÇÇ8 9
Replace
ÇÇ9 @
(
ÇÇ@ A
$str
ÇÇA V
,
ÇÇV W
$str
ÇÇX k
)
ÇÇk l
;
ÇÇl m
switch
ÉÉ 
(
ÉÉ 
dt
ÉÉ 
.
ÉÉ 
Rows
ÉÉ 
[
ÉÉ  
i
ÉÉ  !
]
ÉÉ! "
[
ÉÉ" #
$num
ÉÉ# $
]
ÉÉ$ %
.
ÉÉ% &
ToString
ÉÉ& .
(
ÉÉ. /
)
ÉÉ/ 0
)
ÉÉ0 1
{
ÊÊ 
case
ËË 
$str
ËË /
:
ËË/ 0
case
ÌÌ 
$str
ÌÌ $
:
ÌÌ$ %
{
ÍÍ 
break
ÎÎ !
;
ÎÎ! "
}
ÏÏ 
case
ÑÑ 
$str
ÑÑ &
:
ÑÑ& '
{
ÒÒ 
string
ÓÓ "
	FechaCita
ÓÓ# ,
=
ÓÓ- .
Convert
ÓÓ/ 6
.
ÓÓ6 7

ToDateTime
ÓÓ7 A
(
ÓÓA B
dt
ÓÓB D
.
ÓÓD E
Rows
ÓÓE I
[
ÓÓI J
i
ÓÓJ K
]
ÓÓK L
[
ÓÓL M
$num
ÓÓM N
]
ÓÓN O
.
ÓÓO P
ToString
ÓÓP X
(
ÓÓX Y
)
ÓÓY Z
)
ÓÓZ [
.
ÓÓ[ \
ToString
ÓÓ\ d
(
ÓÓd e
$strÓÓe ‚
)ÓÓ‚ ƒ
;ÓÓƒ „
	FechaCita
ÔÔ %
=
ÔÔ& '
	FechaCita
ÔÔ( 1
.
ÔÔ1 2
	Substring
ÔÔ2 ;
(
ÔÔ; <
$num
ÔÔ< =
,
ÔÔ= >
$num
ÔÔ? @
)
ÔÔ@ A
.
ÔÔA B
ToUpper
ÔÔB I
(
ÔÔI J
)
ÔÔJ K
+
ÔÔL M
	FechaCita
ÔÔN W
.
ÔÔW X
	Substring
ÔÔX a
(
ÔÔa b
$num
ÔÔb c
)
ÔÔc d
.
ÔÔd e
ToLower
ÔÔe l
(
ÔÔl m
)
ÔÔm n
;
ÔÔn o
System
ÖÖ "
.
ÖÖ" #
Globalization
ÖÖ# 0
.
ÖÖ0 1
CultureInfo
ÖÖ1 <
FechaCitaEspanol
ÖÖ= M
=
ÖÖN O
new
ÖÖP S
System
ÖÖT Z
.
ÖÖZ [
Globalization
ÖÖ[ h
.
ÖÖh i
CultureInfo
ÖÖi t
(
ÖÖt u
$str
ÖÖu |
)
ÖÖ| }
;
ÖÖ} ~
string
×× "

FechaCitay
××# -
=
××. /
Convert
××0 7
.
××7 8

ToDateTime
××8 B
(
××B C
dt
××C E
.
××E F
Rows
××F J
[
××J K
i
××K L
]
××L M
[
××M N
$num
××N O
]
××O P
.
××P Q
ToString
××Q Y
(
××Y Z
)
××Z [
,
××[ \
FechaCitaEspanol
××] m
)
××m n
.
××n o
ToString
××o w
(
××w x
$str××x •
)××• –
;××– —
	xBodyHtml
ÙÙ %
=
ÙÙ& '
	xBodyHtml
ÙÙ( 1
+
ÙÙ2 3
$str
ÙÙ4 :
+
ÙÙ; <
$str
ÙÙ= 
+ÙÙ€ 
dtÙÙ‚ „
.ÙÙ„ …
RowsÙÙ… ‰
[ÙÙ‰ Š
iÙÙŠ ‹
]ÙÙ‹ Œ
[ÙÙŒ 
$numÙÙ 
]ÙÙ 
.ÙÙ 
ToStringÙÙ ˜
+ÙÙ™ š
$strÙÙ› “
+ÙÙ” •
	FechaCitaÙÙ– Ÿ
+ÙÙ  ¡
$strÙÙ¢ ©
+ÙÙª «
$strÙÙ¬ ³
+ÙÙ´ µ
$charÙÙ¶ º
;ÙÙº »
break
ÚÚ !
;
ÚÚ! "
}
ÛÛ 
default
İİ 
:
İİ 
{
ŞŞ 
	xBodyHtml
ßß %
=
ßß& '
	xBodyHtml
ßß( 1
+
ßß2 3
$str
ßß4 :
+
ßß; <
$str
ßß= 
+ßß€ 
dtßß‚ „
.ßß„ …
Rowsßß… ‰
[ßß‰ Š
ißßŠ ‹
]ßß‹ Œ
[ßßŒ 
$numßß 
]ßß 
.ßß 
ToStringßß ˜
+ßß™ š
$strßß› “
+ßß” •
dtßß– ˜
.ßß˜ ™
Rowsßß™ 
[ßß 
ißß Ÿ
]ßßŸ  
[ßß  ¡
$numßß¡ ¢
]ßß¢ £
+ßß¤ ¥
$strßß¦ ­
+ßß® ¯
$strßß° ·
+ßß¸ ¹
$charßßº ¾
;ßß¾ ¿
break
àà !
;
àà! "
}
áá 
}
ââ 
}
ãã 
List
åå 
<
åå 
Ent
åå 
.
åå 
Oracle
åå 
.
åå 
MedisynE
åå $
.
åå$ %
	ReservasE
åå% .
.
åå. /

AmReservaE
åå/ 9
>
åå9 :
oList
åå; @
=
ååA B
new
ååC F
List
ååG K
<
ååK L
Ent
ååL O
.
ååO P
Oracle
ååP V
.
ååV W
MedisynE
ååW _
.
åå_ `
	ReservasE
åå` i
.
ååi j

AmReservaE
ååj t
>
ååt u
(
ååu v
)
ååv w
;
ååw x
oList
ææ 
=
ææ 
new
ææ 
Dat
ææ 
.
ææ 
Oracle
ææ "
.
ææ" #
	MedisynAD
ææ# ,
.
ææ, -

ReservasAD
ææ- 7
.
ææ7 8
AmReservaAD
ææ8 C
(
ææC D
)
ææD E
.
ææE F(
ConsultarReservaPacienteId
ææF `
(
ææ` a
Convert
ææa h
.
ææh i
ToString
ææi q
(
ææq r
dt
æær t
.
ææt u
Rows
ææu y
[
ææy z
$num
ææz {
]
ææ{ |
[
ææ| }
$num
ææ} ~
]
ææ~ 
)ææ €
)ææ€ 
;ææ ‚
List
èè 
<
èè 
Ent
èè 
.
èè 
Sql
èè 
.
èè 
ClinicaE
èè !
.
èè! "
MedisynE
èè" *
.
èè* + 
MdsynVideoLlamadaE
èè+ =
>
èè= >
oList2
èè? E
=
èèF G
new
èèH K
List
èèL P
<
èèP Q
Ent
èèQ T
.
èèT U
Sql
èèU X
.
èèX Y
ClinicaE
èèY a
.
èèa b
MedisynE
èèb j
.
èèj k 
MdsynVideoLlamadaE
èèk }
>
èè} ~
(
èè~ 
)èè €
;èè€ 
oList2
éé 
=
éé 
new
éé !
MdsynVideoLlamadaAD
éé ,
(
éé, -
)
éé- .
.
éé. /+
Sp_MdsynVideoLlamada_Consulta
éé/ L
(
ééL M
new
ééM P
Ent
ééQ T
.
ééT U
Sql
ééU X
.
ééX Y
ClinicaE
ééY a
.
ééa b
MedisynE
ééb j
.
ééj k 
MdsynVideoLlamadaE
éék }
(
éé} ~
$num
éé~ 
,éé €
Systeméé ‡
.éé‡ ˆ
Convertééˆ 
.éé 
ToInt32éé —
(éé— ˜
dtéé˜ š
.ééš ›
Rowséé› Ÿ
[ééŸ  
$numéé  ¡
]éé¡ ¢
[éé¢ £
$numéé£ ¤
]éé¤ ¥
.éé¥ ¦
ToStringéé¦ ®
(éé® ¯
)éé¯ °
)éé° ±
,éé± ²
$stréé³ µ
,ééµ ¶
$stréé· ¹
,éé¹ º
$numéé» ¼
)éé¼ ½
)éé½ ¾
;éé¾ ¿
if
êê 
(
êê 
oList2
êê 
.
êê 
Count
êê 
!=
êê 
$num
êê  !
)
êê! "
{
ëë 
if
ìì 
(
ìì 
oList2
ìì 
[
ìì 
$num
ìì 
]
ìì 
.
ìì 
FlgTeleConsulta
ìì -
==
ìì. 0
$str
ìì1 4
)
ìì4 5
oList
íí 
[
íí 
$num
íí 
]
íí 
.
íí 

DescUnidad
íí '
=
íí( )
oList2
íí* 0
[
íí0 1
$num
íí1 2
]
íí2 3
.
íí3 4
DscTeleConsulta
íí4 C
;
ííC D
}
îî 
if
ğğ 
(
ğğ 
(
ğğ 
oList
ğğ 
.
ğğ 
Count
ğğ 
>=
ğğ 
$num
ğğ  !
)
ğğ! "
)
ğğ" #
{
ññ 
	xBodyHtml
òò 
=
òò 
	xBodyHtml
òò %
+
òò& '
$str
òò( .
+
òò/ 0
$str
òò1 }
+
òò~ 
$stròò€ ó
+òòô õ
oListòòö û
[òòû ü
$numòòü ı
]òòı ş
.òòş ÿ

DescUnidadòòÿ ‰
.òò‰ Š
ReplaceòòŠ ‘
(òò‘ ’
$stròò’ 
,òò Ÿ
$stròò  ­
)òò­ ®
+òò¯ °
$stròò± ¸
+òò¹ º
$stròò» Â
+òòÃ Ä
$charòòÅ É
;òòÉ Ê
if
ôô 
(
ôô 
oList
ôô 
[
ôô 
$num
ôô 
]
ôô 
.
ôô 

BoxReserva
ôô '
!=
ôô( *
$str
ôô+ .
)
ôô. /
	xBodyHtml
õõ 
=
õõ 
	xBodyHtml
õõ  )
+
õõ* +
$str
õõ, 2
+
õõ3 4
$strõõ5 
+õõ‚ ƒ
$strõõ„ ÷
+õõø ù
oListõõú ÿ
[õõÿ €
$numõõ€ 
]õõ ‚
.õõ‚ ƒ

BoxReservaõõƒ 
.õõ 
	Substringõõ —
(õõ— ˜
$numõõ˜ ™
,õõ™ š
$numõõ› œ
)õõœ 
+õõ Ÿ
$strõõ  §
+õõ¨ ©
$strõõª ±
+õõ² ³
$charõõ´ ¸
+õõ¹ º
$strõõ» Á
+õõÂ Ã
$strõõÄ —
+õõ˜ ™
$strõõš 
+õõ 
oListõõ •
[õõ• –
$numõõ– —
]õõ— ˜
.õõ˜ ™

BoxReservaõõ™ £
+õõ¤ ¥
$strõõ¦ ­
+õõ® ¯
$strõõ° ·
+õõ¸ ¹
$charõõº ¾
;õõ¾ ¿
}
öö 
if
øø 
(
øø 
oList2
øø 
.
øø 
Count
øø 
!=
øø 
$num
øø  !
)
øø! "
{
ùù 
if
úú 
(
úú 
oList2
úú 
[
úú 
$num
úú 
]
úú 
.
úú 
FlgTeleConsulta
úú -
!=
úú. 0
$str
úú1 4
)
úú4 5
	xBodyHtml
ûû 
=
ûû 
	xBodyHtml
ûû  )
+
ûû* +
$str
ûŒ, 
+
ŒŒ 
$char
ŒŒ !
;
ŒŒ! "
}
 
	xBodyHtml
–– 
=
–– 
	xBodyHtml
–– !
+
––" #
$str
––$ .
+
––/ 0
$char
––1 5
+
––6 7
$str
––8 @
;
––@ A
return
˜˜ 
	xBodyHtml
˜˜ 
;
˜˜ 
}
™™ 	
private
   
string
   %
BodyCorreoAnulacionCita
   .
(
  . /
string
  / 5
pCuerpoCorreo
  6 C
)
  C D
{
¡¡ 	
XmlDocument
¢¢ 
xml
¢¢ 
=
¢¢ 
new
¢¢ !
XmlDocument
¢¢" -
(
¢¢- .
)
¢¢. /
;
¢¢/ 0
string
££ 
	xBodyHtml
££ 
=
££ 
$str
££ !
;
££! "
xml
¤¤ 
.
¤¤ 
LoadXml
¤¤ 
(
¤¤ 
pCuerpoCorreo
¤¤ %
)
¤¤% &
;
¤¤& '
	DataTable
¥¥ 
dt
¥¥ 
=
¥¥ 
	Utilities
¥¥ $
.
¥¥$ %
XmlHelp
¥¥% ,
.
¥¥, -
DevolverTabla_XML
¥¥- >
(
¥¥> ?
xml
¥¥? B
,
¥¥B C
$str
¥¥D K
,
¥¥K L
$str
¥¥M Q
,
¥¥Q R
$str
¥¥S W
,
¥¥W X
$str
¥¥Y ]
)
¥¥] ^
;
¥¥^ _
	xBodyHtml
§§ 
=
§§ 
$str§§ Á
+§§Â Ã
$char§§Ä È
+§§É Ê
$str§§Ë æ
+§§ç è
$char§§é í
;§§í î
for
©© 
(
©© 
int
©© 
i
©© 
=
©© 
$num
©© 
;
©© 
i
©© 
<=
©©  
dt
©©! #
.
©©# $
Rows
©©$ (
.
©©( )
Count
©©) .
-
©©/ 0
$num
©©1 2
;
©©2 3
i
©©4 5
++
©©5 7
)
©©7 8
{
ªª 
dt
«« 
.
«« 
Rows
«« 
[
«« 
i
«« 
]
«« 
[
«« 
$num
«« 
]
«« 
=
«« 
dt
««  "
.
««" #
Rows
««# '
[
««' (
i
««( )
]
««) *
[
««* +
$num
««+ ,
]
««, -
.
««- .
ToString
««. 6
(
««6 7
)
««7 8
.
««8 9
Replace
««9 @
(
««@ A
$str
««A D
,
««D E
$str
««F I
)
««I J
;
««J K
dt
¬¬ 
.
¬¬ 
Rows
¬¬ 
[
¬¬ 
i
¬¬ 
]
¬¬ 
[
¬¬ 
$num
¬¬ 
]
¬¬ 
=
¬¬ 
dt
¬¬  "
.
¬¬" #
Rows
¬¬# '
[
¬¬' (
i
¬¬( )
]
¬¬) *
[
¬¬* +
$num
¬¬+ ,
]
¬¬, -
.
¬¬- .
ToString
¬¬. 6
(
¬¬6 7
)
¬¬7 8
.
¬¬8 9
Replace
¬¬9 @
(
¬¬@ A
$str
¬¬A W
,
¬¬W X
$str
¬¬Y l
)
¬¬l m
;
¬¬m n
dt
­­ 
.
­­ 
Rows
­­ 
[
­­ 
i
­­ 
]
­­ 
[
­­ 
$num
­­ 
]
­­ 
=
­­ 
dt
­­  "
.
­­" #
Rows
­­# '
[
­­' (
i
­­( )
]
­­) *
[
­­* +
$num
­­+ ,
]
­­, -
.
­­- .
ToString
­­. 6
(
­­6 7
)
­­7 8
.
­­8 9
Replace
­­9 @
(
­­@ A
$str
­­A P
,
­­P Q
$str
­­R ^
)
­­^ _
;
­­_ `
dt
®® 
.
®® 
Rows
®® 
[
®® 
i
®® 
]
®® 
[
®® 
$num
®® 
]
®® 
=
®® 
dt
®®  "
.
®®" #
Rows
®®# '
[
®®' (
i
®®( )
]
®®) *
[
®®* +
$num
®®+ ,
]
®®, -
.
®®- .
ToString
®®. 6
(
®®6 7
)
®®7 8
.
®®8 9
Replace
®®9 @
(
®®@ A
$str
®®A Q
,
®®Q R
$str
®®S `
)
®®` a
;
®®a b
dt
¯¯ 
.
¯¯ 
Rows
¯¯ 
[
¯¯ 
i
¯¯ 
]
¯¯ 
[
¯¯ 
$num
¯¯ 
]
¯¯ 
=
¯¯ 
dt
¯¯  "
.
¯¯" #
Rows
¯¯# '
[
¯¯' (
i
¯¯( )
]
¯¯) *
[
¯¯* +
$num
¯¯+ ,
]
¯¯, -
.
¯¯- .
ToString
¯¯. 6
(
¯¯6 7
)
¯¯7 8
.
¯¯8 9
Replace
¯¯9 @
(
¯¯@ A
$str
¯¯A V
,
¯¯V W
$str
¯¯X k
)
¯¯k l
;
¯¯l m
dt
°° 
.
°° 
Rows
°° 
[
°° 
i
°° 
]
°° 
[
°° 
$num
°° 
]
°° 
=
°° 
dt
°°  "
.
°°" #
Rows
°°# '
[
°°' (
i
°°( )
]
°°) *
[
°°* +
$num
°°+ ,
]
°°, -
.
°°- .
ToString
°°. 6
(
°°6 7
)
°°7 8
.
°°8 9
Replace
°°9 @
(
°°@ A
$str
°°A L
,
°°L M
$str
°°N U
)
°°U V
;
°°V W
switch
²² 
(
²² 
dt
²² 
.
²² 
Rows
²² 
[
²²  
i
²²  !
]
²²! "
[
²²" #
$num
²²# $
]
²²$ %
.
²²% &
ToString
²²& .
(
²². /
)
²²/ 0
)
²²0 1
{
³³ 
case
´´ 
$str
´´ ,
:
´´, -
{
µµ 
break
¶¶ !
;
¶¶! "
}
·· 
case
¹¹ 
$str
¹¹ /
:
ºº 
{
»» 
break
¼¼ !
;
¼¼! "
}
½½ 
case
¿¿ 
$str
¿¿ &
:
¿¿& '
{
ÀÀ 
string
ÁÁ "
	FechaCita
ÁÁ# ,
=
ÁÁ- .
Convert
ÁÁ/ 6
.
ÁÁ6 7

ToDateTime
ÁÁ7 A
(
ÁÁA B
dt
ÁÁB D
.
ÁÁD E
Rows
ÁÁE I
[
ÁÁI J
i
ÁÁJ K
]
ÁÁK L
[
ÁÁL M
$num
ÁÁM N
]
ÁÁN O
)
ÁÁO P
.
ÁÁP Q
ToString
ÁÁQ Y
(
ÁÁY Z
$str
ÁÁZ w
)
ÁÁw x
;
ÁÁx y
	FechaCita
ÂÂ %
=
ÂÂ& '
	FechaCita
ÂÂ( 1
.
ÂÂ1 2
	Substring
ÂÂ2 ;
(
ÂÂ; <
$num
ÂÂ< =
,
ÂÂ= >
$num
ÂÂ? @
)
ÂÂ@ A
.
ÂÂA B
ToUpper
ÂÂB I
(
ÂÂI J
)
ÂÂJ K
+
ÂÂL M
	FechaCita
ÂÂN W
.
ÂÂW X
	Substring
ÂÂX a
(
ÂÂa b
$num
ÂÂb c
)
ÂÂc d
.
ÂÂd e
ToLower
ÂÂe l
(
ÂÂl m
)
ÂÂm n
;
ÂÂn o
	xBodyHtml
ÃÃ %
=
ÃÃ& '
	xBodyHtml
ÃÃ( 1
+
ÃÃ2 3
$str
ÃÃ4 :
+
ÃÃ; <
$str
ÃÃ= 
+ÃÃ€ 
dtÃÃ‚ „
.ÃÃ„ …
RowsÃÃ… ‰
[ÃÃ‰ Š
iÃÃŠ ‹
]ÃÃ‹ Œ
[ÃÃŒ 
$numÃÃ 
]ÃÃ 
.ÃÃ 
ToStringÃÃ ˜
(ÃÃ˜ ™
)ÃÃ™ š
+ÃÃ› œ
$strÃÃ •
+ÃÃ– —
	FechaCitaÃÃ˜ ¡
+ÃÃ¢ £
$strÃÃ¤ «
+ÃÃ¬ ­
$strÃÃ® µ
+ÃÃ¶ ·
$charÃÃ¸ ¼
;ÃÃ¼ ½
break
ÄÄ !
;
ÄÄ! "
}
ÅÅ 
case
ÇÇ 
$str
ÇÇ  
:
ÇÇ  !
{
ÈÈ 
	xBodyHtml
ÉÉ %
=
ÉÉ& '
	xBodyHtml
ÉÉ( 1
+
ÉÉ2 3
$str
ÉÉ4 :
+
ÉÉ; <
$str
ÉÉ= 
+ÉÉ€ 
dtÉÉ‚ „
.ÉÉ„ …
RowsÉÉ… ‰
[ÉÉ‰ Š
iÉÉŠ ‹
]ÉÉ‹ Œ
[ÉÉŒ 
$numÉÉ 
]ÉÉ 
.ÉÉ 
ToStringÉÉ ˜
(ÉÉ˜ ™
)ÉÉ™ š
+ÉÉ› œ
$strÉÉ •
+ÉÉ– —
dtÉÉ˜ š
.ÉÉš ›
RowsÉÉ› Ÿ
[ÉÉŸ  
iÉÉ  ¡
]ÉÉ¡ ¢
[ÉÉ¢ £
$numÉÉ£ ¤
]ÉÉ¤ ¥
.ÉÉ¥ ¦
ToStringÉÉ¦ ®
(ÉÉ® ¯
)ÉÉ¯ °
.ÉÉ° ±
ReplaceÉÉ± ¸
(ÉÉ¸ ¹
$strÉÉ¹ Å
,ÉÉÅ Æ
$strÉÉÇ Ô
)ÉÉÔ Õ
+ÉÉÖ ×
$strÉÉØ ß
+ÉÉà á
$strÉÉâ é
+ÉÉê ë
$charÉÉì ğ
;ÉÉğ ñ
break
ÊÊ !
;
ÊÊ! "
}
ËË 
default
ÍÍ 
:
ÍÍ 
{
ÎÎ 
	xBodyHtml
ÏÏ %
=
ÏÏ& '
	xBodyHtml
ÏÏ( 1
+
ÏÏ2 3
$str
ÏÏ4 :
+
ÏÏ; <
$str
ÏÏ= 
+ÏÏ€ 
dtÏÏ‚ „
.ÏÏ„ …
RowsÏÏ… ‰
[ÏÏ‰ Š
iÏÏŠ ‹
]ÏÏ‹ Œ
[ÏÏŒ 
$numÏÏ 
]ÏÏ 
.ÏÏ 
ToStringÏÏ ˜
(ÏÏ˜ ™
)ÏÏ™ š
+ÏÏ› œ
$strÏÏ •
+ÏÏ– —
dtÏÏ˜ š
.ÏÏš ›
RowsÏÏ› Ÿ
[ÏÏŸ  
iÏÏ  ¡
]ÏÏ¡ ¢
[ÏÏ¢ £
$numÏÏ£ ¤
]ÏÏ¤ ¥
.ÏÏ¥ ¦
ToStringÏÏ¦ ®
(ÏÏ® ¯
)ÏÏ¯ °
+ÏÏ± ²
$strÏÏ³ º
+ÏÏ» ¼
$strÏÏ½ Ä
+ÏÏÅ Æ
$charÏÏÇ Ë
;ÏÏË Ì
break
ĞĞ !
;
ĞĞ! "
}
ÑÑ 
}
ÒÒ 
}
ÓÓ 
	xBodyHtml
ÕÕ 
=
ÕÕ 
	xBodyHtml
ÕÕ !
+
ÕÕ" #
$str
ÕÕ$ .
+
ÕÕ/ 0
$char
ÕÕ1 5
+
ÕÕ6 7
$str
ÕÕ8 @
;
ÕÕ@ A
return
×× 
	xBodyHtml
×× 
;
×× 
}
ØØ 	
private
ÚÚ 
string
ÚÚ )
BodyCorreoRecuperacionClave
ÚÚ 2
(
ÚÚ2 3
string
ÚÚ3 9
pCuerpoCorreo
ÚÚ: G
)
ÚÚG H
{
ÛÛ 	
string
ÜÜ 
xResult
ÜÜ 
=
ÜÜ 
$str
ÜÜ 
;
ÜÜ  
xResult
İİ 
=
İİ 
$strİİ ¿
+İİÀ Á
$charİİÂ Æ
+İİÇ È
$strİİÉ Ğ
+İİÑ Ò
pCuerpoCorreoİİÓ à
+İİá â
$charİİã ç
+İİè é
$strİİê ò
;İİò ó
return
ŞŞ 
xResult
ŞŞ 
;
ŞŞ 
}
ßß 	
private
áá 
string
áá %
BodyCorreoValidacionOTP
áá .
(
áá. /
string
áá/ 5
pCuerpoCorreo
áá6 C
)
ááC D
{
ââ 	
string
ãã 
xResult
ãã 
=
ãã 
$str
ãã 
;
ãã  
xResult
ää 
=
ää 
$strää ¿
+ääÀ Á
$charääÂ Æ
+ääÇ È
$strääÉ Ğ
+ääÑ Ò
pCuerpoCorreoääÓ à
+ääá â
$charääã ç
+ääè é
$strääê ò
;ääò ó
return
åå 
xResult
åå 
;
åå 
}
ææ 	
private
èè 
string
èè  
BodyCorreoGenerico
èè )
(
èè) *
string
èè* 0
pCuerpoCorreo
èè1 >
)
èè> ?
{
éé 	
string
êê 
xResult
êê 
=
êê 
$str
êê 
;
êê  
xResult
ëë 
=
ëë 
$strëë ¿
+ëëÀ Á
$charëëÂ Æ
+ëëÇ È
$strëëÉ Ğ
+ëëÑ Ò
pCuerpoCorreoëëÓ à
+ëëá â
$charëëã ç
+ëëè é
$strëëê ò
;ëëò ó
return
ìì 
xResult
ìì 
;
ìì 
}
íí 	
}
îî 
}ïï ¡İ
YD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Bus.AgendaClinica\Clinica\AgendaCitas.cs
	namespace'' 	
Bus''
 
.'' 
AgendaClinica'' 
.'' 
Clinica'' #
{(( 
public)) 

class)) 
AgendaCitas)) 
{** 
public++ 
string++ 
Rut_Paciente++ "
{++# $
get++% (
;++( )
private++* 1
set++2 5
;++5 6
}++7 8

Utilitario-- 
util-- 
=-- 
new-- 

Utilitario-- (
(--( )
)--) *
;--* +
public00 
List00 
<00 
CitaAgendaE00 
>00  
Sp_Cita_ListarQR00! 1
(001 2
CitaAgendaE002 =
.00= >
	Documento00> G
pCitaAgendaE00H T
)00T U
{11 	
var22 
oCitaAgendaAD22 
=22 
new22  #
CitaAgendaAD22$ 0
(220 1
)221 2
;222 3
var33 
oData33 
=33 
oCitaAgendaAD33 %
.33% &
Sp_Cita_ListarQR33& 6
(336 7
pCitaAgendaE337 C
)33C D
;33D E
return55 
oData55 
;55 
}66 	
public99 
RceValidaHojaRutaE99 !
.99! "
Body99" &!
ObtenerHojaDeRutaByte99' <
(99< =
RceValidaHojaRutaE99= O
.99O P
SoftVan99P W
pSoftVan99X `
,99` a
int99b e
ide_historia99f r
)99r s
{:: 	
int<< 
	valorUser<< 
=<< 
Convert<< #
.<<# $
ToInt32<<$ +
(<<+ ,
new<<, /
AgendaCitas<<0 ;
(<<; <
)<<< =
.<<= >
pValorCodigoTabla<<> O
(<<O P
$str<<P g
,<<g h
$str<<i m
)<<m n
)<<n o
;<<o p
string== 
	valorDato== 
=== 
new== "
AgendaCitas==# .
(==. /
)==/ 0
.==0 1
pValorCodigoTabla==1 B
(==B C
$str==C Z
,==Z [
$str==\ `
)==` a
;==a b
var?? 
pBody?? 
=?? 
new?? 
RceValidaHojaRutaE?? .
.??. /
Body??/ 3
(??3 4
)??4 5
;??5 6
pBody@@ 
.@@ 
ide_log_consulta@@ "
=@@# $
$num@@% &
;@@& '
pBodyBB 
.BB 
ide_usuarioBB 
=BB 
	valorUserBB  )
;BB) *
pBodyCC 
.CC 
	dsc_loginCC 
=CC 
	valorDatoCC '
;CC' (
pBodyEE 
.EE 
dsc_archivo_rptEE !
=EE" #
$strEE$ 6
;EE6 7
pBodyFF 
.FF 
tip_reporteFF 
=FF 
$strFF  %
;FF% &
pBodyGG 
.GG "
dsc_parametros_valoresGG (
=GG) *
nullGG+ /
;GG/ 0
varII 

LParametroII 
=II 
newII  
ListII! %
<II% &
RceValidaHojaRutaEII& 8
.II8 9

ParametrosII9 C
>IIC D
(IID E
)IIE F
;IIF G
varJJ 

pParametroJJ 
=JJ 
newJJ  
RceValidaHojaRutaEJJ! 3
.JJ3 4

ParametrosJJ4 >
(JJ> ?
)JJ? @
;JJ@ A

pParametroKK 
.KK 
Dsc_ParametroKK $
=KK% &
$strKK' 6
;KK6 7

pParametroLL 
.LL 
Valor_ParametroLL &
=LL' (
ide_historiaLL) 5
.LL5 6
ToStringLL6 >
(LL> ?
)LL? @
;LL@ A

pParametroMM 
.MM 
Dsc_archivo_rptMM &
=MM' (
$strMM) +
;MM+ ,

LParametroNN 
.NN 
AddNN 
(NN 

pParametroNN %
)NN% &
;NN& '

pParametroPP 
=PP 
newPP 
RceValidaHojaRutaEPP /
.PP/ 0

ParametrosPP0 :
(PP: ;
)PP; <
;PP< =

pParametroQQ 
.QQ 
Dsc_ParametroQQ $
=QQ% &
$strQQ' /
;QQ/ 0

pParametroRR 
.RR 
Valor_ParametroRR &
=RR' (
$strRR) ,
;RR, -

pParametroSS 
.SS 
Dsc_archivo_rptSS &
=SS' (
$strSS) +
;SS+ ,

LParametroTT 
.TT 
AddTT 
(TT 

pParametroTT %
)TT% &
;TT& '

pParametroVV 
=VV 
newVV 
RceValidaHojaRutaEVV /
.VV/ 0

ParametrosVV0 :
(VV: ;
)VV; <
;VV< =

pParametroWW 
.WW 
Dsc_ParametroWW $
=WW% &
$strWW' /
;WW/ 0

pParametroXX 
.XX 
Valor_ParametroXX &
=XX' (
$strXX) ,
;XX, -

pParametroYY 
.YY 
Dsc_archivo_rptYY &
=YY' (
$strYY) F
;YYF G

LParametroZZ 
.ZZ 
AddZZ 
(ZZ 

pParametroZZ %
)ZZ% &
;ZZ& '

pParametro\\ 
=\\ 
new\\ 
RceValidaHojaRutaE\\ /
.\\/ 0

Parametros\\0 :
(\\: ;
)\\; <
;\\< =

pParametro]] 
.]] 
Dsc_Parametro]] $
=]]% &
$str]]' 6
;]]6 7

pParametro^^ 
.^^ 
Valor_Parametro^^ &
=^^' (
pSoftVan^^) 1
.^^1 2
cod_atencion^^2 >
;^^> ?

pParametro__ 
.__ 
Dsc_archivo_rpt__ &
=__' (
$str__) O
;__O P

LParametro`` 
.`` 
Add`` 
(`` 

pParametro`` %
)``% &
;``& '

pParametrobb 
=bb 
newbb 
RceValidaHojaRutaEbb /
.bb/ 0

Parametrosbb0 :
(bb: ;
)bb; <
;bb< =

pParametrocc 
.cc 
Dsc_Parametrocc $
=cc% &
$strcc' 6
;cc6 7

pParametrodd 
.dd 
Valor_Parametrodd &
=dd' (
pSoftVandd) 1
.dd1 2
cod_atenciondd2 >
;dd> ?

pParametroee 
.ee 
Dsc_archivo_rptee &
=ee' (
$stree) O
;eeO P

LParametroff 
.ff 
Addff 
(ff 

pParametroff %
)ff% &
;ff& '
pBodygg 
.gg 

Parametrosgg 
=gg 

LParametrogg )
;gg) *
varii 
pInformeii 
=ii 
newii 
RceValidaHojaRutaEii 1
.ii1 2
rptInformesMaeEii2 A
(iiA B
)iiB C
;iiC D
pInformejj 
.jj 
ide_informejj  
=jj! "
$numjj# $
;jj$ %
pBodyll 
.ll 
rptInformesMaeEll !
=ll" #
pInformell$ ,
;ll, -
pBodynn 
.nn 
dsc_sistemann 
=nn 
$strnn  0
;nn0 1
pBodyoo 
.oo 
cod_atencionoo 
=oo  
pSoftVanoo! )
.oo) *
cod_atencionoo* 6
;oo6 7
pBodypp 
.pp 
chkfarmacologicotpp #
=pp$ %
truepp& *
;pp* +
pBodyqq 
.qq 
chknofarmacologicopqq %
=qq& '
trueqq( ,
;qq, -
returnss 
pBodyss 
;ss 
}tt 	
publicxx 
RceValidaHojaRutaExx !
.xx! "
Bodyxx" &
ObtenerRecetaBytexx' 8
(xx8 9
RceValidaHojaRutaExx9 K
.xxK L
SoftVanxxL S
pSoftVanxxT \
,xx\ ]
intxx^ a
ide_historiaxxb n
)xxn o
{yy 	
int{{ 
	valorUser{{ 
={{ 
Convert{{ #
.{{# $
ToInt32{{$ +
({{+ ,
new{{, /
AgendaCitas{{0 ;
({{; <
){{< =
.{{= >
pValorCodigoTabla{{> O
({{O P
$str{{P g
,{{g h
$str{{i m
){{m n
){{n o
;{{o p
string|| 
	valorDato|| 
=|| 
new|| "
AgendaCitas||# .
(||. /
)||/ 0
.||0 1
pValorCodigoTabla||1 B
(||B C
$str||C Z
,||Z [
$str||\ `
)||` a
;||a b
var~~ 
pBody~~ 
=~~ 
new~~ 
RceValidaHojaRutaE~~ .
.~~. /
Body~~/ 3
(~~3 4
)~~4 5
;~~5 6
pBody 
. 
ide_log_consulta "
=# $
$num% &
;& '
pBody
 
.
 
ide_usuario
 
=
 
	valorUser
  )
;
) *
pBody
‚‚ 
.
‚‚ 
	dsc_login
‚‚ 
=
‚‚ 
	valorDato
‚‚ '
;
‚‚' (
pBody
„„ 
.
„„ 
dsc_archivo_rpt
„„ !
=
„„" #
$str
„„$ 6
;
„„6 7
pBody
…… 
.
…… 
tip_reporte
…… 
=
…… 
$str
……  %
;
……% &
pBody
†† 
.
†† $
dsc_parametros_valores
†† (
=
††) *
null
††+ /
;
††/ 0
var
ˆˆ 

LParametro
ˆˆ 
=
ˆˆ 
new
ˆˆ  
List
ˆˆ! %
<
ˆˆ% & 
RceValidaHojaRutaE
ˆˆ& 8
.
ˆˆ8 9

Parametros
ˆˆ9 C
>
ˆˆC D
(
ˆˆD E
)
ˆˆE F
;
ˆˆF G
var
‰‰ 

pParametro
‰‰ 
=
‰‰ 
new
‰‰   
RceValidaHojaRutaE
‰‰! 3
.
‰‰3 4

Parametros
‰‰4 >
(
‰‰> ?
)
‰‰? @
;
‰‰@ A

pParametro
ŠŠ 
.
ŠŠ 
Dsc_Parametro
ŠŠ $
=
ŠŠ% &
$str
ŠŠ' 6
;
ŠŠ6 7

pParametro
‹‹ 
.
‹‹ 
Valor_Parametro
‹‹ &
=
‹‹' (
ide_historia
‹‹) 5
.
‹‹5 6
ToString
‹‹6 >
(
‹‹> ?
)
‹‹? @
;
‹‹@ A

pParametro
ŒŒ 
.
ŒŒ 
Dsc_archivo_rpt
ŒŒ &
=
ŒŒ' (
$str
ŒŒ) +
;
ŒŒ+ ,

LParametro
 
.
 
Add
 
(
 

pParametro
 %
)
% &
;
& '

pParametro
 
=
 
new
  
RceValidaHojaRutaE
 /
.
/ 0

Parametros
0 :
(
: ;
)
; <
;
< =

pParametro
 
.
 
Dsc_Parametro
 $
=
% &
$str
' 4
;
4 5

pParametro
‘‘ 
.
‘‘ 
Valor_Parametro
‘‘ &
=
‘‘' (
$str
‘‘) ,
;
‘‘, -

pParametro
’’ 
.
’’ 
Dsc_archivo_rpt
’’ &
=
’’' (
$str
’’) +
;
’’+ ,

LParametro
““ 
.
““ 
Add
““ 
(
““ 

pParametro
““ %
)
““% &
;
““& '

pParametro
•• 
=
•• 
new
••  
RceValidaHojaRutaE
•• /
.
••/ 0

Parametros
••0 :
(
••: ;
)
••; <
;
••< =

pParametro
–– 
.
–– 
Dsc_Parametro
–– $
=
––% &
$str
––' /
;
––/ 0

pParametro
—— 
.
—— 
Valor_Parametro
—— &
=
——' (
$str
——) ,
;
——, -

pParametro
˜˜ 
.
˜˜ 
Dsc_archivo_rpt
˜˜ &
=
˜˜' (
$str
˜˜) +
;
˜˜+ ,

LParametro
™™ 
.
™™ 
Add
™™ 
(
™™ 

pParametro
™™ %
)
™™% &
;
™™& '

pParametro
œœ 
=
œœ 
new
œœ  
RceValidaHojaRutaE
œœ /
.
œœ/ 0

Parametros
œœ0 :
(
œœ: ;
)
œœ; <
;
œœ< =

pParametro
 
.
 
Dsc_Parametro
 $
=
% &
$str
' 3
;
3 4

pParametro
 
.
 
Valor_Parametro
 &
=
' (
$str
) 3
;
3 4

pParametro
ŸŸ 
.
ŸŸ 
Dsc_archivo_rpt
ŸŸ &
=
ŸŸ' (
$str
ŸŸ) +
;
ŸŸ+ ,

LParametro
   
.
   
Add
   
(
   

pParametro
   %
)
  % &
;
  & '

pParametro
££ 
=
££ 
new
££  
RceValidaHojaRutaE
££ /
.
££/ 0

Parametros
££0 :
(
££: ;
)
££; <
;
££< =

pParametro
¤¤ 
.
¤¤ 
Dsc_Parametro
¤¤ $
=
¤¤% &
$str
¤¤' 0
;
¤¤0 1

pParametro
¥¥ 
.
¥¥ 
Valor_Parametro
¥¥ &
=
¥¥' (
pSoftVan
¥¥) 1
.
¥¥1 2
cod_atencion
¥¥2 >
;
¥¥> ?

pParametro
¦¦ 
.
¦¦ 
Dsc_archivo_rpt
¦¦ &
=
¦¦' (
$str
¦¦) ?
;
¦¦? @

LParametro
§§ 
.
§§ 
Add
§§ 
(
§§ 

pParametro
§§ %
)
§§% &
;
§§& '

pParametro
©© 
=
©© 
new
©©  
RceValidaHojaRutaE
©© /
.
©©/ 0

Parametros
©©0 :
(
©©: ;
)
©©; <
;
©©< =

pParametro
ªª 
.
ªª 
Dsc_Parametro
ªª $
=
ªª% &
$str
ªª' .
;
ªª. /

pParametro
«« 
.
«« 
Valor_Parametro
«« &
=
««' (
$str
««) ,
;
««, -

pParametro
¬¬ 
.
¬¬ 
Dsc_archivo_rpt
¬¬ &
=
¬¬' (
$str
¬¬) ?
;
¬¬? @

LParametro
­­ 
.
­­ 
Add
­­ 
(
­­ 

pParametro
­­ %
)
­­% &
;
­­& '

pParametro
¯¯ 
=
¯¯ 
new
¯¯  
RceValidaHojaRutaE
¯¯ /
.
¯¯/ 0

Parametros
¯¯0 :
(
¯¯: ;
)
¯¯; <
;
¯¯< =

pParametro
°° 
.
°° 
Dsc_Parametro
°° $
=
°°% &
$str
°°' 8
;
°°8 9

pParametro
±± 
.
±± 
Valor_Parametro
±± &
=
±±' (
$str
±±) +
;
±±+ ,

pParametro
²² 
.
²² 
Dsc_archivo_rpt
²² &
=
²²' (
$str
²²) ?
;
²²? @

LParametro
³³ 
.
³³ 
Add
³³ 
(
³³ 

pParametro
³³ %
)
³³% &
;
³³& '
pBody
µµ 
.
µµ 

Parametros
µµ 
=
µµ 

LParametro
µµ )
;
µµ) *
var
·· 
pInforme
·· 
=
·· 
new
··  
RceValidaHojaRutaE
·· 1
.
··1 2
rptInformesMaeE
··2 A
(
··A B
)
··B C
;
··C D
pInforme
¸¸ 
.
¸¸ 
ide_informe
¸¸  
=
¸¸! "
$num
¸¸# $
;
¸¸$ %
pBody
ºº 
.
ºº 
rptInformesMaeE
ºº !
=
ºº" #
pInforme
ºº$ ,
;
ºº, -
pBody
¼¼ 
.
¼¼ 
dsc_sistema
¼¼ 
=
¼¼ 
$str
¼¼  0
;
¼¼0 1
pBody
½½ 
.
½½ 
cod_atencion
½½ 
=
½½  
pSoftVan
½½! )
.
½½) *
cod_atencion
½½* 6
;
½½6 7
pBody
¾¾ 
.
¾¾ 
chkfarmacologicot
¾¾ #
=
¾¾$ %
true
¾¾& *
;
¾¾* +
pBody
¿¿ 
.
¿¿ !
chknofarmacologicop
¿¿ %
=
¿¿& '
true
¿¿( ,
;
¿¿, -
return
ÁÁ 
pBody
ÁÁ 
;
ÁÁ 
}
ÂÂ 	
public
ÆÆ 
string
ÆÆ 
pValorCodigoTabla
ÆÆ '
(
ÆÆ' (
string
ÆÆ( .
tabla
ÆÆ/ 4
,
ÆÆ4 5
string
ÆÆ6 <
codigo
ÆÆ= C
)
ÆÆC D
{
ÇÇ 	
string
ÈÈ 
	resultado
ÈÈ 
=
ÈÈ 
$str
ÈÈ !
;
ÈÈ! "
List
ÉÉ 
<
ÉÉ 
TablasE
ÉÉ 
>
ÉÉ 
oList
ÉÉ 
;
ÉÉ  
oList
ÊÊ 
=
ÊÊ 
new
ÊÊ 
TablasAD
ÊÊ  
(
ÊÊ  !
)
ÊÊ! "
.
ÊÊ" # 
Sp_Tablas_Consulta
ÊÊ# 5
(
ÊÊ5 6
new
ÊÊ6 9
TablasE
ÊÊ: A
(
ÊÊA B
tabla
ÊÊB G
,
ÊÊG H
codigo
ÊÊI O
,
ÊÊO P
$num
ÊÊQ S
,
ÊÊS T
$num
ÊÊU V
,
ÊÊV W
-
ÊÊX Y
$num
ÊÊY Z
)
ÊÊZ [
)
ÊÊ[ \
;
ÊÊ\ ]
if
ËË 
(
ËË 
oList
ËË 
.
ËË 
Count
ËË 
>=
ËË 
$num
ËË  
)
ËË  !
	resultado
ËË" +
=
ËË, -
oList
ËË. 3
[
ËË3 4
$num
ËË4 5
]
ËË5 6
.
ËË6 7
Nombre
ËË7 =
.
ËË= >
Trim
ËË> B
(
ËËB C
)
ËËC D
;
ËËD E
return
ÌÌ 
	resultado
ÌÌ 
;
ÌÌ 
}
ÍÍ 	
public
ÑÑ  
RceValidaHojaRutaE
ÑÑ !
.
ÑÑ! "
Body
ÑÑ" &
	ObtenerPQ
ÑÑ' 0
(
ÑÑ0 1 
RceValidaHojaRutaE
ÑÑ1 C
.
ÑÑC D
SoftVan
ÑÑD K
pSoftVan
ÑÑL T
,
ÑÑT U
int
ÑÑV Y
	ID_PQ_Det
ÑÑZ c
)
ÑÑc d
{
ÒÒ 	
int
ÔÔ 
	valorUser
ÔÔ 
=
ÔÔ 
Convert
ÔÔ #
.
ÔÔ# $
ToInt32
ÔÔ$ +
(
ÔÔ+ ,
new
ÔÔ, /
AgendaCitas
ÔÔ0 ;
(
ÔÔ; <
)
ÔÔ< =
.
ÔÔ= >
pValorCodigoTabla
ÔÔ> O
(
ÔÔO P
$str
ÔÔP g
,
ÔÔg h
$str
ÔÔi m
)
ÔÔm n
)
ÔÔn o
;
ÔÔo p
string
ÕÕ 
	valorDato
ÕÕ 
=
ÕÕ 
new
ÕÕ "
AgendaCitas
ÕÕ# .
(
ÕÕ. /
)
ÕÕ/ 0
.
ÕÕ0 1
pValorCodigoTabla
ÕÕ1 B
(
ÕÕB C
$str
ÕÕC Z
,
ÕÕZ [
$str
ÕÕ\ `
)
ÕÕ` a
;
ÕÕa b
var
×× 
pBody
×× 
=
×× 
new
××  
RceValidaHojaRutaE
×× .
.
××. /
Body
××/ 3
(
××3 4
)
××4 5
;
××5 6
pBody
ØØ 
.
ØØ 
ide_log_consulta
ØØ "
=
ØØ# $
$num
ØØ% &
;
ØØ& '
pBody
ÜÜ 
.
ÜÜ 
ide_usuario
ÜÜ 
=
ÜÜ 
	valorUser
ÜÜ  )
;
ÜÜ) *
pBody
İİ 
.
İİ 
	dsc_login
İİ 
=
İİ 
	valorDato
İİ '
;
İİ' (
pBody
ßß 
.
ßß 
dsc_archivo_rpt
ßß !
=
ßß" #
$str
ßß$ B
;
ßßB C
pBody
àà 
.
àà 
tip_reporte
àà 
=
àà 
$str
àà  %
;
àà% &
pBody
áá 
.
áá $
dsc_parametros_valores
áá (
=
áá) *
null
áá+ /
;
áá/ 0
var
ãã 

LParametro
ãã 
=
ãã 
new
ãã  
List
ãã! %
<
ãã% & 
RceValidaHojaRutaE
ãã& 8
.
ãã8 9

Parametros
ãã9 C
>
ããC D
(
ããD E
)
ããE F
;
ããF G
var
ää 

pParametro
ää 
=
ää 
new
ää   
RceValidaHojaRutaE
ää! 3
.
ää3 4

Parametros
ää4 >
(
ää> ?
)
ää? @
;
ää@ A

pParametro
åå 
.
åå 
Dsc_Parametro
åå $
=
åå% &
$str
åå' 3
;
åå3 4

pParametro
ææ 
.
ææ 
Valor_Parametro
ææ &
=
ææ' (
	ID_PQ_Det
ææ) 2
.
ææ2 3
ToString
ææ3 ;
(
ææ; <
)
ææ< =
;
ææ= >

pParametro
çç 
.
çç 
Dsc_archivo_rpt
çç &
=
çç' (
$str
çç) +
;
çç+ ,

LParametro
èè 
.
èè 
Add
èè 
(
èè 

pParametro
èè %
)
èè% &
;
èè& '
pBody
êê 
.
êê 

Parametros
êê 
=
êê 

LParametro
êê )
;
êê) *
var
ìì 
pInforme
ìì 
=
ìì 
new
ìì  
RceValidaHojaRutaE
ìì 1
.
ìì1 2
rptInformesMaeE
ìì2 A
(
ììA B
)
ììB C
;
ììC D
pInforme
íí 
.
íí 
ide_informe
íí  
=
íí! "
$num
íí# %
;
íí% &
pBody
ïï 
.
ïï 
rptInformesMaeE
ïï !
=
ïï" #
pInforme
ïï$ ,
;
ïï, -
pBody
ññ 
.
ññ 
dsc_sistema
ññ 
=
ññ 
$str
ññ  0
;
ññ0 1
pBody
òò 
.
òò 
cod_atencion
òò 
=
òò  
pSoftVan
òò! )
.
òò) *
cod_atencion
òò* 6
;
òò6 7
return
ôô 
pBody
ôô 
;
ôô 
}
õõ 	
public
÷÷ 
List
÷÷ 
<
÷÷ 
RceCptE
÷÷ 
>
÷÷ "
Sp_Cpt_ListarDetalle
÷÷ 1
(
÷÷1 2
)
÷÷2 3
{
øø 	
var
ùù 
	oRceCptAD
ùù 
=
ùù 
new
ùù 
RceCptAD
ùù  (
(
ùù( )
)
ùù) *
;
ùù* +
var
úú 
oData
úú 
=
úú 
	oRceCptAD
úú !
.
úú! ""
Sp_Cpt_ListarDetalle
úú" 6
(
úú6 7
)
úú7 8
;
úú8 9
return
üü 
oData
üü 
;
üü 
}
ıı 	
public
 
string
 "
pValorCodigoTablaImg
 *
(
* +
string
+ 1
tabla
2 7
,
7 8
string
9 ?
codigo
@ F
)
F G
{
‚‚ 	
string
ƒƒ 
	resultado
ƒƒ 
=
ƒƒ 
$str
ƒƒ !
;
ƒƒ! "
List
„„ 
<
„„ 
TablasE
„„ 
>
„„ 
oList
„„ 
;
„„  
oList
…… 
=
…… 
new
…… 
TablasAD
……  
(
……  !
)
……! "
.
……" # 
Sp_Tablas_Consulta
……# 5
(
……5 6
new
……6 9
TablasE
……: A
(
……A B
tabla
……B G
,
……G H
codigo
……I O
,
……O P
$num
……Q R
,
……R S
$num
……T U
,
……U V
$num
……W Y
)
……Y Z
)
……Z [
;
……[ \
if
†† 
(
†† 
oList
†† 
.
†† 
Count
†† 
>=
†† 
$num
††  
)
††  !
	resultado
††" +
=
††, -
oList
††. 3
[
††3 4
$num
††4 5
]
††5 6
.
††6 7
Nombre
††7 =
.
††= >
Trim
††> B
(
††B C
)
††C D
;
††D E
return
‡‡ 
	resultado
‡‡ 
;
‡‡ 
}
ˆˆ 	
private
‘‘ 
string
‘‘ 
fnStringBodyXML
‘‘ &
(
‘‘& '
DataRow
‘‘' .
row
‘‘/ 2
,
‘‘2 3"
DataColumnCollection
‘‘4 H
columns
‘‘I P
)
‘‘P Q
{
’’ 	
string
““ 
stringResultXml
““ "
=
““# $
$str
““% '
;
““' (
for
•• 
(
•• 
int
•• 
i
•• 
=
•• 
$num
•• 
;
•• 
i
•• 
<=
••  
columns
••! (
.
••( )
Count
••) .
-
••/ 0
$num
••1 2
;
••2 3
i
••4 5
++
••5 7
)
••7 8
stringResultXml
–– 
=
––  !
stringResultXml
––" 1
+
––2 3
$str
––4 7
+
––8 9
columns
––: A
[
––A B
i
––B C
]
––C D
.
––D E

ColumnName
––E O
+
––P Q
$str
––R U
+
––V W
row
––X [
[
––[ \
columns
––\ c
[
––c d
i
––d e
]
––e f
.
––f g

ColumnName
––g q
]
––q r
+
––s t
$str
––u y
+
––z {
columns––| ƒ
[––ƒ „
i––„ …
]––… †
.––† ‡

ColumnName––‡ ‘
+––’ “
$str––” —
;––— ˜
return
˜˜ 
stringResultXml
˜˜ "
;
˜˜" #
}
™™ 	
public
›› 
string
››  
fnReservaHoraError
›› (
(
››( )
string
››) /
pMensaje
››0 8
=
››9 :
$str
››; }
)
››} ~
{
œœ 	
return
 
$str
¡ &
+
¡¡' (
pMensaje
¡¡) 1
+
¡¡2 3
$str
¡¬4 
;
¬¬ 
}
­­ 	
public
¯¯ 
int
¯¯ 
fnSede
¯¯ 
(
¯¯  
TipoConsultaMedica
¯¯ ,!
pTipoConsultaMedica
¯¯- @
)
¯¯@ A
{
°° 	
int
±± 
xResult
±± 
=
±± 
$num
±± 
;
±± 
if
³³ 
(
³³ !
pTipoConsultaMedica
³³ #
==
³³$ & 
TipoConsultaMedica
³³' 9
.
³³9 :
PresencialCM
³³: F
)
³³F G
xResult
´´ 
=
´´ 
$num
´´ 
;
´´ 
else
µµ 
if
µµ 
(
µµ !
pTipoConsultaMedica
µµ (
==
µµ) + 
TipoConsultaMedica
µµ, >
.
µµ> ?
PresencialJM
µµ? K
)
µµK L
xResult
¶¶ 
=
¶¶ 
$num
¶¶ 
;
¶¶ 
return
¸¸ 
xResult
¸¸ 
;
¸¸ 
}
¹¹ 	
public
ÀÀ 
string
ÀÀ '
fnGetSubEspecialidadDatos
ÀÀ /
(
ÀÀ/ 0
string
ÀÀ0 6
CodProfMedisyn
ÀÀ7 E
)
ÀÀE F
{
ÁÁ 	
string
ÂÂ 
xResult
ÂÂ 
=
ÂÂ 
$str
ÂÂ 
;
ÂÂ  
List
ÃÃ 
<
ÃÃ 
MedicosE
ÃÃ 
>
ÃÃ 
oList
ÃÃ  
=
ÃÃ! "
new
ÃÃ# &
	MedicosAD
ÃÃ' 0
(
ÃÃ0 1
)
ÃÃ1 2
.
ÃÃ2 3!
Sp_Medicos_Consulta
ÃÃ3 F
(
ÃÃF G
new
ÃÃG J
MedicosE
ÃÃK S
(
ÃÃS T
CodProfMedisyn
ÃÃT b
,
ÃÃb c
$num
ÃÃd e
,
ÃÃe f
$num
ÃÃg h
,
ÃÃh i
$num
ÃÃj l
)
ÃÃl m
)
ÃÃm n
;
ÃÃn o
if
ÅÅ 
(
ÅÅ 
oList
ÅÅ 
.
ÅÅ 
Count
ÅÅ 
>=
ÅÅ 
$num
ÅÅ  
)
ÅÅ  !
xResult
ÆÆ 
=
ÆÆ 
oList
ÆÆ 
[
ÆÆ  
$num
ÆÆ  !
]
ÆÆ! "
.
ÆÆ" #+
DscObservacionSubEspecialidad
ÆÆ# @
;
ÆÆ@ A
return
ÈÈ 
xResult
ÈÈ 
;
ÈÈ 
}
ÉÉ 	
public
ĞĞ 
TarifaParticular
ĞĞ 
MtDatosMedicosSic
ĞĞ  1
(
ĞĞ1 2
string
ĞĞ2 8
CodProfMedisyn
ĞĞ9 G
)
ĞĞG H
{
ÑÑ 	
TarifaParticular
ÒÒ 
xResult
ÒÒ $
=
ÒÒ% &
new
ÒÒ' *
TarifaParticular
ÒÒ+ ;
(
ÒÒ; <
)
ÒÒ< =
;
ÒÒ= >
List
ÓÓ 
<
ÓÓ 
MedicosE
ÓÓ 
>
ÓÓ 
oList
ÓÓ  
=
ÓÓ! "
new
ÓÓ# &
	MedicosAD
ÓÓ' 0
(
ÓÓ0 1
)
ÓÓ1 2
.
ÓÓ2 3!
Sp_Medicos_Consulta
ÓÓ3 F
(
ÓÓF G
new
ÓÓG J
MedicosE
ÓÓK S
(
ÓÓS T
CodProfMedisyn
ÓÓT b
,
ÓÓb c
$num
ÓÓd e
,
ÓÓe f
$num
ÓÓg h
,
ÓÓh i
$num
ÓÓj l
)
ÓÓl m
)
ÓÓm n
;
ÓÓn o
if
ÕÕ 
(
ÕÕ 
oList
ÕÕ 
.
ÕÕ 
Count
ÕÕ 
>=
ÕÕ 
$num
ÕÕ  
)
ÕÕ  !
{
ÖÖ 
xResult
×× 
.
×× 
CodProf
×× 
=
××  !
oList
××" '
[
××' (
$num
××( )
]
××) *
.
××* ++
DscObservacionSubEspecialidad
××+ H
;
××H I
xResult
ØØ 
.
ØØ 
Descripcion
ØØ #
=
ØØ$ %
oList
ØØ& +
[
ØØ+ ,
$num
ØØ, -
]
ØØ- .
.
ØØ. /
DscTituloTarifa
ØØ/ >
;
ØØ> ?
xResult
ÙÙ 
.
ÙÙ 
MontoTarifa
ÙÙ #
=
ÙÙ$ %
oList
ÙÙ& +
[
ÙÙ+ ,
$num
ÙÙ, -
]
ÙÙ- .
.
ÙÙ. /!
MntTarifaParticular
ÙÙ/ B
;
ÙÙB C
xResult
ÚÚ 
.
ÚÚ 
Moneda
ÚÚ 
=
ÚÚ  
oList
ÚÚ! &
[
ÚÚ& '
$num
ÚÚ' (
]
ÚÚ( )
.
ÚÚ) *
	TipMoneda
ÚÚ* 3
;
ÚÚ3 4
xResult
ÛÛ 
.
ÛÛ  
TipoConsultaMedica
ÛÛ *
=
ÛÛ+ ,
oList
ÛÛ- 2
[
ÛÛ2 3
$num
ÛÛ3 4
]
ÛÛ4 5
.
ÛÛ5 6
CodTipoConsulta
ÛÛ6 E
;
ÛÛE F
xResult
ÜÜ 
.
ÜÜ  
DscSubEspecialidad
ÜÜ *
=
ÜÜ+ ,
oList
ÜÜ- 2
[
ÜÜ2 3
$num
ÜÜ3 4
]
ÜÜ4 5
.
ÜÜ5 6+
DscObservacionSubEspecialidad
ÜÜ6 S
;
ÜÜS T
}
İİ 
return
èè 
xResult
èè 
;
èè 
}
éé 	
public
ëë 
string
ëë *
fnAgendaApellidoEspecialidad
ëë 2
(
ëë2 3
string
ëë3 9
responseXML
ëë: E
,
ëëE F
string
ëëG M

pNodoLista
ëëN X
,
ëëX Y
string
ëëZ `
pMedico
ëëa h
,
ëëh i
TipoMetodoAgenda
ëëj z
pTipoMetodoëë{ †
,ëë† ‡"
TipoConsultaMedicaëëˆ š#
pTipoConsultaMedicaëë› ®
)ëë® ¯
{
ìì 	
XmlDocument
íí 
oXML
íí 
=
íí 
new
íí "
XmlDocument
íí# .
(
íí. /
)
íí/ 0
;
íí0 1
	DataTable
îî 
dtAgendaApellido
îî &
=
îî' (
new
îî) ,
	DataTable
îî- 6
(
îî6 7
)
îî7 8
;
îî8 9
string
ïï 
	stringXML
ïï 
=
ïï 
$str
ïï !
;
ïï! "
int
ğğ 
RowCount
ğğ 
=
ğğ 
$num
ğğ 
;
ğğ 
List
ññ 
<
ññ 
MedicosE
ññ 
>
ññ 
oListMedicosE
ññ (
=
ññ) *
new
ññ+ .
List
ññ/ 3
<
ññ3 4
MedicosE
ññ4 <
>
ññ< =
(
ññ= >
)
ññ> ?
;
ññ? @
oListMedicosE
òò 
=
òò 
new
òò 
	MedicosAD
òò  )
(
òò) *
)
òò* +
.
òò+ ,!
Sp_Medicos_Consulta
òò, ?
(
òò? @
new
òò@ C
MedicosE
òòD L
(
òòL M
pMedico
òòM T
,
òòT U
$num
òòV W
,
òòW X
$num
òòY Z
,
òòZ [
(
òò\ ]
int
òò] `
)
òò` a!
pTipoConsultaMedica
òòa t
)
òòt u
)
òòu v
;
òòv w
oXML
ôô 
.
ôô 
LoadXml
ôô 
(
ôô 
responseXML
ôô $
)
ôô$ %
;
ôô% &
if
öö 
(
öö 
pTipoMetodo
öö 
==
öö 
TipoMetodoAgenda
öö /
.
öö/ 0'
WM_ObtenerAgendaXApellido
öö0 I
|
ööJ K
pTipoMetodo
ööL W
==
ööX Z
TipoMetodoAgenda
öö[ k
.
öök l+
WM_ObtenerAgendaEspecialidadööl ˆ
)ööˆ ‰
{
÷÷ 
dtAgendaApellido
øø  
=
øø! "
DevolverTabla_XML
øø# 4
(
øø4 5
oXML
øø5 9
,
øø9 :

pNodoLista
øø; E
,
øøE F
$str
øøG N
,
øøN O
$str
øøP ^
,
øø^ _
$str
øø` j
,
øøj k
$str
øøl v
,
øøv w
$strøøx ‚
,øø‚ ƒ
$strøø„ ‘
,øø‘ ’
$strøø“  
,øø  ¡
$strøø¢ °
,øø° ±
$strøø² Ä
,øøÄ Å
$strøøÆ Ñ
,øøÑ Ò
$strøøÓ ß
,øøß à
$strøøá ÷
,øø÷ ø
$strøøù ˆ
,øøˆ ‰
$strøøŠ –
,øø– —
$strøø˜ ¥
,øø¥ ¦
$strøø§ ­
,øø­ ®
$strøø¯ ¹
,øø¹ º
$strøø» Ô
,øøÔ Õ
$strøøÖ ô
)øøô õ
;øøõ ö
RowCount
ùù 
=
ùù 
dtAgendaApellido
ùù +
.
ùù+ ,
Rows
ùù, 0
.
ùù0 1
Count
ùù1 6
;
ùù6 7
}
úú 
else
ûû 
if
ûû 
(
ûû 
pTipoMetodo
ûû  
==
ûû! #
TipoMetodoAgenda
ûû$ 4
.
ûû4 5$
WM_ObtenerAgendaMedico
ûû5 K
)
ûûK L
{
üü 
dtAgendaApellido
ıı  
=
ıı! "
DevolverTabla_XML
ıı# 4
(
ıı4 5
oXML
ıı5 9
,
ıı9 :

pNodoLista
ıı; E
,
ııE F
$str
ııG N
,
ııN O
$str
ııP ^
,
ıı^ _
$str
ıı` j
,
ııj k
$str
ııl v
,
ııv w
$strııx …
,ıı… †
$strıı‡ ”
,ıı” •
$strıı– ¤
,ıı¤ ¥
$strıı¦ ¸
,ıı¸ ¹
$strııº Å
,ııÅ Æ
$strııÇ Ó
,ııÓ Ô
$strııÕ ë
,ııë ì
$strııí ü
,ııü ı
$strıış Š
,ııŠ ‹
$strııŒ ™
,ıı™ š
$strıı› ¡
,ıı¡ ¢
$strıı£ ­
,ıı­ ®
$strıı¯ È
,ııÈ É
$strııÊ è
)ııè é
;ııé ê
RowCount
şş 
=
şş 
dtAgendaApellido
şş +
.
şş+ ,
Rows
şş, 0
.
şş0 1
Count
şş1 6
/
şş7 8
$num
şş9 :
;
şş: ;
}
ÿÿ 
int
 
Sucursal
 
=
 
fnSede
 !
(
! "!
pTipoConsultaMedica
" 5
)
5 6
;
6 7
for
‚‚ 
(
‚‚ 
int
‚‚ 
i
‚‚ 
=
‚‚ 
$num
‚‚ 
;
‚‚ 
i
‚‚ 
<=
‚‚  
(
‚‚! "
RowCount
‚‚" *
)
‚‚* +
-
‚‚, -
$num
‚‚. /
;
‚‚/ 0
i
‚‚1 2
++
‚‚2 4
)
‚‚4 5
{
ƒƒ 
for
„„ 
(
„„ 
int
„„ 
j
„„ 
=
„„ 
$num
„„ 
;
„„ 
j
„„  !
<=
„„" $
oListMedicosE
„„% 2
.
„„2 3
Count
„„3 8
-
„„9 :
$num
„„; <
;
„„< =
j
„„> ?
++
„„? A
)
„„A B
{
…… 
if
†† 
(
†† 
Sucursal
††  
==
††! #
$num
††$ %
)
††% &
{
‡‡ 
if
ˆˆ 
(
ˆˆ 
oListMedicosE
ˆˆ )
[
ˆˆ) *
j
ˆˆ* +
]
ˆˆ+ ,
.
ˆˆ, -
CodProfMedisyn
ˆˆ- ;
==
ˆˆ< >
dtAgendaApellido
ˆˆ? O
.
ˆˆO P
Rows
ˆˆP T
[
ˆˆT U
i
ˆˆU V
]
ˆˆV W
[
ˆˆW X
$str
ˆˆX b
]
ˆˆb c
.
ˆˆc d
ToString
ˆˆd l
(
ˆˆl m
)
ˆˆm n
)
ˆˆn o
{
‰‰ 
TarifaParticular
ŠŠ ,
obj
ŠŠ- 0
=
ŠŠ1 2
new
ŠŠ3 6
TarifaParticular
ŠŠ7 G
(
ŠŠG H
)
ŠŠH I
;
ŠŠI J
obj
‹‹ 
=
‹‹  !
MtDatosMedicosSic
‹‹" 3
(
‹‹3 4
dtAgendaApellido
‹‹4 D
.
‹‹D E
Rows
‹‹E I
[
‹‹I J
i
‹‹J K
]
‹‹K L
[
‹‹L M
$str
‹‹M W
]
‹‹W X
.
‹‹X Y
ToString
‹‹Y a
(
‹‹a b
)
‹‹b c
)
‹‹c d
;
‹‹d e
	stringXML
 %
=
& '
	stringXML
( 1
+
2 3
$str
4 =
;
= >
	stringXML
 %
=
& '
	stringXML
( 1
+
2 3
fnStringBodyXML
4 C
(
C D
dtAgendaApellido
D T
.
T U
Rows
U Y
[
Y Z
i
Z [
]
[ \
,
\ ]
dtAgendaApellido
^ n
.
n o
Columns
o v
)
v w
;
w x
	stringXML
 %
=
& '
	stringXML
( 1
+
2 3
$str
4 P
+
Q R
obj
S V
.
V W 
DscSubEspecialidad
W i
+
j k
$strl ‰
;‰ Š
	stringXML
‘‘ %
=
‘‘& '
	stringXML
‘‘( 1
+
‘‘2 3
$str
‘‘4 O
+
‘‘P Q
obj
‘‘R U
.
‘‘U V
MontoTarifa
‘‘V a
+
‘‘b c
$str‘‘d €
;‘‘€ 
	stringXML
’’ %
=
’’& '
	stringXML
’’( 1
+
’’2 3
$str
’’4 P
+
’’Q R
obj
’’S V
.
’’V W
Moneda
’’W ]
+
’’^ _
$str
’’` }
;
’’} ~
	stringXML
““ %
=
““& '
	stringXML
““( 1
+
““2 3
$str
““4 L
+
““M N
obj
““O R
.
““R S 
TipoConsultaMedica
““S e
+
““f g
$str““h 
;““ ‚
	stringXML
›› %
=
››& '
	stringXML
››( 1
+
››2 3
$str
››4 >
;
››> ?
break
 !
;
! "
}
 
}
ŸŸ 
else
   
if
   
(
   
(
   
oListMedicosE
   +
[
  + ,
j
  , -
]
  - .
.
  . /
CodProfMedisyn
  / =
==
  > @
dtAgendaApellido
  A Q
.
  Q R
Rows
  R V
[
  V W
i
  W X
]
  X Y
[
  Y Z
$str
  Z d
]
  d e
.
  e f
ToString
  f n
(
  n o
)
  o p
&&
  q s
(
  t u
int
  u x
)
  x y
dtAgendaApellido  y ‰
.  ‰ Š
Rows  Š 
[   
i   
]   ‘
[  ‘ ’
$str  ’  
]    ¡
==  ¢ ¤
Sucursal  ¥ ­
)  ­ ®
)  ® ¯
{
¡¡ 
TarifaParticular
¢¢ (
obj
¢¢) ,
=
¢¢- .
new
¢¢/ 2
TarifaParticular
¢¢3 C
(
¢¢C D
)
¢¢D E
;
¢¢E F
obj
££ 
=
££ 
MtDatosMedicosSic
££ /
(
££/ 0
(
££0 1
string
££1 7
)
££7 8
dtAgendaApellido
££8 H
.
££H I
Rows
££I M
[
££M N
i
££N O
]
££O P
[
££P Q
$str
££Q [
]
££[ \
.
££\ ]
ToString
££] e
(
££e f
)
££f g
)
££g h
;
££h i
	stringXML
¥¥ !
=
¥¥" #
	stringXML
¥¥$ -
+
¥¥. /
$str
¥¥0 9
;
¥¥9 :
	stringXML
¦¦ !
=
¦¦" #
	stringXML
¦¦$ -
+
¦¦. /
fnStringBodyXML
¦¦0 ?
(
¦¦? @
dtAgendaApellido
¦¦@ P
.
¦¦P Q
Rows
¦¦Q U
[
¦¦U V
i
¦¦V W
]
¦¦W X
,
¦¦X Y
dtAgendaApellido
¦¦Z j
.
¦¦j k
Columns
¦¦k r
)
¦¦r s
;
¦¦s t
	stringXML
¨¨ !
=
¨¨" #
	stringXML
¨¨$ -
+
¨¨. /
$str
¨¨0 L
+
¨¨M N
obj
¨¨O R
.
¨¨R S 
DscSubEspecialidad
¨¨S e
+
¨¨f g
$str¨¨h …
;¨¨… †
	stringXML
©© !
=
©©" #
	stringXML
©©$ -
+
©©. /
$str
©©0 K
+
©©L M
obj
©©N Q
.
©©Q R
MontoTarifa
©©R ]
+
©©^ _
$str
©©` |
;
©©| }
	stringXML
ªª !
=
ªª" #
	stringXML
ªª$ -
+
ªª. /
$str
ªª0 L
+
ªªM N
obj
ªªO R
.
ªªR S
Moneda
ªªS Y
+
ªªZ [
$str
ªª\ y
;
ªªy z
	stringXML
«« !
=
««" #
	stringXML
««$ -
+
««. /
$str
««0 H
+
««I J
obj
««K N
.
««N O 
TipoConsultaMedica
««O a
+
««b c
$str
««d }
;
««} ~
	stringXML
¬¬ !
=
¬¬" #
	stringXML
¬¬$ -
+
¬¬. /
$str
¬¬0 :
;
¬¬: ;
break
­­ 
;
­­ 
}
®® 
}
¯¯ 
}
°° 
return
²² 
	stringXML
²² 
;
²² 
}
³³ 	
public
µµ 
string
µµ %
fnObtenerEspecialidades
µµ -
(
µµ- .
string
µµ. 4
responseXML
µµ5 @
,
µµ@ A+
AppCitasEspecialidadesActivas
µµB _,
pAppCitasEspecialidadesActivas
µµ` ~
)
µµ~ 
{
¶¶ 	
XmlDocument
·· 
oXML
·· 
=
·· 
new
·· "
XmlDocument
··# .
(
··. /
)
··/ 0
;
··0 1
	DataTable
¸¸ 
dtAgendaApellido
¸¸ &
;
¸¸& '
string
¹¹ 
	stringXML
¹¹ 
=
¹¹ 
$str
¹¹ !
;
¹¹! "
List
»» 
<
»» 
EspecialidadesE
»»  
>
»»  !"
oListEspecialidadesE
»»" 6
=
»»7 8
new
»»9 <
List
»»= A
<
»»A B
EspecialidadesE
»»B Q
>
»»Q R
(
»»R S
)
»»S T
;
»»T U"
oListEspecialidadesE
¼¼  
=
¼¼! "
new
¼¼# &
EspecialidadesAD
¼¼' 7
(
¼¼7 8
)
¼¼8 9
.
¼¼9 :(
Sp_Especialidades_Consulta
¼¼: T
(
¼¼T U
new
¼¼U X
EspecialidadesE
¼¼Y h
(
¼¼h i
$str
¼¼i k
,
¼¼k l
$num
¼¼m n
,
¼¼n o
$num
¼¼p q
,
¼¼q r
(
¼¼s t
int
¼¼t w
)
¼¼w x-
pAppCitasEspecialidadesActivas¼¼x –
)¼¼– —
)¼¼— ˜
;¼¼˜ ™
oXML
¾¾ 
.
¾¾ 
LoadXml
¾¾ 
(
¾¾ 
responseXML
¾¾ $
)
¾¾$ %
;
¾¾% &
dtAgendaApellido
¿¿ 
=
¿¿ 
DevolverTabla_XML
¿¿ 0
(
¿¿0 1
oXML
¿¿1 5
,
¿¿5 6
$str
¿¿7 G
,
¿¿G H
$str
¿¿I W
,
¿¿W X
$str
¿¿Y c
,
¿¿c d
$str
¿¿e p
)
¿¿p q
;
¿¿q r
for
ÀÀ 
(
ÀÀ 
int
ÀÀ 
i
ÀÀ 
=
ÀÀ 
$num
ÀÀ 
;
ÀÀ 
i
ÀÀ 
<=
ÀÀ  
dtAgendaApellido
ÀÀ! 1
.
ÀÀ1 2
Rows
ÀÀ2 6
.
ÀÀ6 7
Count
ÀÀ7 <
-
ÀÀ= >
$num
ÀÀ? @
;
ÀÀ@ A
i
ÀÀB C
++
ÀÀC E
)
ÀÀE F
{
ÁÁ 
for
ÂÂ 
(
ÂÂ 
int
ÂÂ 
j
ÂÂ 
=
ÂÂ 
$num
ÂÂ 
;
ÂÂ 
j
ÂÂ  !
<=
ÂÂ" $"
oListEspecialidadesE
ÂÂ% 9
.
ÂÂ9 :
Count
ÂÂ: ?
-
ÂÂ@ A
$num
ÂÂB C
;
ÂÂC D
j
ÂÂE F
++
ÂÂF H
)
ÂÂH I
{
ÃÃ 
if
ÄÄ 
(
ÄÄ "
oListEspecialidadesE
ÄÄ ,
[
ÄÄ, -
j
ÄÄ- .
]
ÄÄ. /
.
ÄÄ/ 0
CodEspMedisyn
ÄÄ0 =
==
ÄÄ> @
dtAgendaApellido
ÄÄA Q
.
ÄÄQ R
Rows
ÄÄR V
[
ÄÄV W
i
ÄÄW X
]
ÄÄX Y
[
ÄÄY Z
$str
ÄÄZ d
]
ÄÄd e
.
ÄÄe f
ToString
ÄÄf n
(
ÄÄn o
)
ÄÄo p
)
ÄÄp q
{
ÅÅ 
	stringXML
ÆÆ !
=
ÆÆ" #
	stringXML
ÆÆ$ -
+
ÆÆ. /
$str
ÆÆ0 @
+
ÆÆA B
fnStringBodyXML
ÆÆC R
(
ÆÆR S
dtAgendaApellido
ÆÆS c
.
ÆÆc d
Rows
ÆÆd h
[
ÆÆh i
i
ÆÆi j
]
ÆÆj k
,
ÆÆk l
dtAgendaApellido
ÆÆm }
.
ÆÆ} ~
ColumnsÆÆ~ …
)ÆÆ… †
+ÆÆ‡ ˆ
$strÆÆ‰ š
;ÆÆš ›
break
ÇÇ 
;
ÇÇ 
}
ÈÈ 
}
ÉÉ 
}
ÊÊ 
return
ÌÌ 
	stringXML
ÌÌ 
;
ÌÌ 
}
ÍÍ 	
public
ÓÓ 
string
ÓÓ 
fnObtenerSedes
ÓÓ $
(
ÓÓ$ %
)
ÓÓ% &
{
ÔÔ 	
string
ÕÕ 
	stringXML
ÕÕ 
=
ÕÕ 
$str
ÕÕ !
;
ÕÕ! "
List
×× 
<
×× 
TablasE
×× 
>
×× 

oListSedes
×× $
=
××% &
new
××' *
List
××+ /
<
××/ 0
TablasE
××0 7
>
××7 8
(
××8 9
)
××9 :
;
××: ;

oListSedes
ØØ 
=
ØØ 
new
ØØ 
TablasAD
ØØ %
(
ØØ% &
)
ØØ& '
.
ØØ' ( 
Sp_Tablas_Consulta
ØØ( :
(
ØØ: ;
new
ØØ; >
TablasE
ØØ? F
(
ØØF G
$str
ØØG V
,
ØØV W
$str
ØØX Z
,
ØØZ [
$num
ØØ\ ]
,
ØØ] ^
$num
ØØ_ `
,
ØØ` a
$num
ØØb d
)
ØØd e
)
ØØe f
;
ØØf g
for
ÚÚ 
(
ÚÚ 
int
ÚÚ 
i
ÚÚ 
=
ÚÚ 
$num
ÚÚ 
;
ÚÚ 
i
ÚÚ 
<=
ÚÚ  

oListSedes
ÚÚ! +
.
ÚÚ+ ,
Count
ÚÚ, 1
-
ÚÚ2 3
$num
ÚÚ4 5
;
ÚÚ5 6
i
ÚÚ7 8
++
ÚÚ8 :
)
ÚÚ: ;
	stringXML
ÛÛ 
=
ÛÛ 
	stringXML
ÛÛ %
+
ÛÛ& '
$str
ÛÛ( 1
+
ÛÛ2 3
$str
ÛÛ4 @
+
ÛÛA B

oListSedes
ÛÛC M
[
ÛÛM N
i
ÛÛN O
]
ÛÛO P
.
ÛÛP Q
Codigo
ÛÛQ W
.
ÛÛW X
Trim
ÛÛX \
(
ÛÛ\ ]
)
ÛÛ] ^
+
ÛÛ_ `
$str
ÛÛa n
+
ÛÛo p
$str
ÛÛq ~
+ÛÛ €

oListSedesÛÛ ‹
[ÛÛ‹ Œ
iÛÛŒ 
]ÛÛ 
.ÛÛ 
NombreÛÛ •
.ÛÛ• –
TrimÛÛ– š
(ÛÛš ›
)ÛÛ› œ
+ÛÛ 
$strÛÛŸ ­
+ÛÛ® ¯
$strÛÛ° º
;ÛÛº »
return
İİ 
	stringXML
İİ 
;
İİ 
}
ŞŞ 	
public
àà 
string
àà *
fnObtenerEspecialidadesFinal
àà 2
(
àà2 3
string
àà3 9
responseXML
àà: E
)
ààE F
{
áá 	
XmlDocument
ââ 
oXML
ââ 
=
ââ 
new
ââ "
XmlDocument
ââ# .
(
ââ. /
)
ââ/ 0
;
ââ0 1
	DataTable
ãã 
dt
ãã 
;
ãã 
	DataTable
ää 
dtAgendaApellido
ää &
;
ää& '
string
åå 
	stringXML
åå 
=
åå 
$str
åå !
;
åå! "
string
ææ 
CodItemPrevios
ææ !
=
ææ" #
$str
ææ$ &
;
ææ& '
oXML
èè 
.
èè 
LoadXml
èè 
(
èè 
responseXML
èè $
)
èè$ %
;
èè% &
dtAgendaApellido
éé 
=
éé 
DevolverTabla_XML
éé 0
(
éé0 1
oXML
éé1 5
,
éé5 6
$str
éé7 G
,
ééG H
$str
ééI W
,
ééW X
$str
ééY c
,
ééc d
$str
éée p
)
éép q
;
ééq r
dtAgendaApellido
ëë 
.
ëë 
DefaultView
ëë (
.
ëë( )
Sort
ëë) -
=
ëë. /
$str
ëë0 ?
;
ëë? @
dt
ìì 
=
ìì 
dtAgendaApellido
ìì !
.
ìì! "
DefaultView
ìì" -
.
ìì- .
ToTable
ìì. 5
(
ìì5 6
)
ìì6 7
;
ìì7 8
for
íí 
(
íí 
int
íí 
i
íí 
=
íí 
$num
íí 
;
íí 
i
íí 
<=
íí  
dt
íí! #
.
íí# $
Rows
íí$ (
.
íí( )
Count
íí) .
-
íí/ 0
$num
íí1 2
;
íí2 3
i
íí4 5
++
íí5 7
)
íí7 8
{
îî 
if
ïï 
(
ïï 
CodItemPrevios
ïï "
!=
ïï# %
(
ïï& '
string
ïï' -
)
ïï- .
dt
ïï. 0
.
ïï0 1
Rows
ïï1 5
[
ïï5 6
i
ïï6 7
]
ïï7 8
[
ïï8 9
$str
ïï9 C
]
ïïC D
)
ïïD E
	stringXML
ğğ 
=
ğğ 
	stringXML
ğğ  )
+
ğğ* +
$str
ğğ, <
+
ğğ= >
fnStringBodyXML
ğğ? N
(
ğğN O
dt
ğğO Q
.
ğğQ R
Rows
ğğR V
[
ğğV W
i
ğğW X
]
ğğX Y
,
ğğY Z
dt
ğğ[ ]
.
ğğ] ^
Columns
ğğ^ e
)
ğğe f
+
ğğg h
$str
ğği z
;
ğğz {
CodItemPrevios
òò 
=
òò  
(
òò! "
string
òò" (
)
òò( )
dt
òò) +
.
òò+ ,
Rows
òò, 0
[
òò0 1
i
òò1 2
]
òò2 3
[
òò3 4
$str
òò4 >
]
òò> ?
;
òò? @
}
óó 
return
õõ 
	stringXML
õõ 
;
õõ 
}
öö 	
public
•• 
class
•• 
ApiKey
•• 
{
–– 	
public
—— 
string
—— 
USR
—— 
{
—— 
get
——  #
;
——# $
set
——% (
;
——( )
}
——* +
=
——, -
$str
——. 0
;
——0 1
public
˜˜ 
string
˜˜ 
PSW
˜˜ 
{
˜˜ 
get
˜˜  #
;
˜˜# $
set
˜˜% (
;
˜˜( )
}
˜˜* +
=
˜˜, -
$str
˜˜. 0
;
˜˜0 1
public
™™ 
string
™™ 
TipUser
™™ !
{
™™" #
get
™™$ '
;
™™' (
set
™™) ,
;
™™, -
}
™™. /
=
™™0 1
$str
™™2 4
;
™™4 5
}
šš 	
public
¡¡ 
bool
¡¡ 
fnValidarApiKey
¡¡ #
(
¡¡# $
string
¡¡$ *
ApiKey
¡¡+ 1
)
¡¡1 2
{
¢¢ 	
bool
££ 
result
££ 
=
££ 
false
££ 
;
££  
try
¥¥ 
{
¦¦ 
string
§§ 
SecurityApiKey
§§ %
=
§§& '
	Utilities
§§( 1
.
§§1 2
Criptography
§§2 >
.
§§> ?$
DecryptConectionString
§§? U
(
§§U V
ApiKey
§§V \
)
§§\ ]
;
§§] ^
try
¬¬ 
{
­­ 
ApiKey
°° 
?
°° 
xApiKey
°° #
=
°°$ %
JsonSerializer
°°& 4
.
°°4 5
Deserialize
°°5 @
<
°°@ A
ApiKey
°°A G
>
°°G H
(
°°H I
SecurityApiKey
°°I W
)
°°W X
;
°°X Y
if
±± 
(
±± 
xApiKey
±± 
.
±±  
USR
±±  #
==
±±$ &
$str
±±' /
&
±±0 1
xApiKey
±±2 9
.
±±9 :
PSW
±±: =
==
±±> @
$str
±±A Q
&
±±R S
xApiKey
±±T [
.
±±[ \
TipUser
±±\ c
==
±±d f
$str
±±g p
)
±±p q
result
²² 
=
²²  
true
²²! %
;
²²% &
}
³³ 
catch
´´ 
(
´´ 
	Exception
´´  
ex
´´! #
)
´´# $
{
µµ 
}
¶¶ 
}
·· 
catch
¸¸ 
(
¸¸ 
	Exception
¸¸ 
ex
¸¸ 
)
¸¸  
{
¹¹ 
}
ºº 
return
»» 
result
»» 
;
»» 
}
¼¼ 	
private
ÃÃ 
string
ÃÃ 
fnSerializeXML
ÃÃ %
(
ÃÃ% &
Response_XML
ÃÃ& 2
.
ÃÃ2 3
XML
ÃÃ3 6
oXML
ÃÃ7 ;
)
ÃÃ; <
{
ÄÄ 	
using
ÅÅ 
(
ÅÅ 
System
ÅÅ 
.
ÅÅ 
IO
ÅÅ 
.
ÅÅ 
StringWriter
ÅÅ )
stringwriter
ÅÅ* 6
=
ÅÅ7 8
new
ÅÅ9 <
System
ÅÅ= C
.
ÅÅC D
IO
ÅÅD F
.
ÅÅF G
StringWriter
ÅÅG S
(
ÅÅS T
)
ÅÅT U
)
ÅÅU V
{
ÆÆ 
System
ÇÇ 
.
ÇÇ 
Xml
ÇÇ 
.
ÇÇ 
Serialization
ÇÇ (
.
ÇÇ( )
XmlSerializer
ÇÇ) 6

Serializer
ÇÇ7 A
=
ÇÇB C
new
ÇÇD G
System
ÇÇH N
.
ÇÇN O
Xml
ÇÇO R
.
ÇÇR S
Serialization
ÇÇS `
.
ÇÇ` a
XmlSerializer
ÇÇa n
(
ÇÇn o
oXML
ÇÇo s
.
ÇÇs t
GetType
ÇÇt {
(
ÇÇ{ |
)
ÇÇ| }
)
ÇÇ} ~
;
ÇÇ~ 

Serializer
ÈÈ 
.
ÈÈ 
	Serialize
ÈÈ $
(
ÈÈ$ %
stringwriter
ÈÈ% 1
,
ÈÈ1 2
oXML
ÈÈ3 7
)
ÈÈ7 8
;
ÈÈ8 9
return
ÉÉ 
stringwriter
ÉÉ #
.
ÉÉ# $
ToString
ÉÉ$ ,
(
ÉÉ, -
)
ÉÉ- .
;
ÉÉ. /
}
ÊÊ 
}
ËË 	
public
×× 
	DataTable
×× 
DevolverTabla_XML
×× *
(
××* +
XmlDocument
××+ 6
oXML
××7 ;
,
××; <
string
××= C
NameTableNode
××D Q
,
××Q R
string
××S Y
NameEntidadNode
××Z i
,
××i j
params
××k q
string
××r x
[
××x y
]
××y z
Columns××{ ‚
)××‚ ƒ
{
ØØ 	
	DataTable
ÙÙ 
dt
ÙÙ 
=
ÙÙ 
new
ÙÙ 
	DataTable
ÙÙ (
(
ÙÙ( )
)
ÙÙ) *
;
ÙÙ* +
int
ÚÚ 
i
ÚÚ 
=
ÚÚ 
$num
ÚÚ 
;
ÚÚ 
for
ÛÛ 
(
ÛÛ 
i
ÛÛ 
=
ÛÛ 
$num
ÛÛ 
;
ÛÛ 
i
ÛÛ 
<=
ÛÛ 
Columns
ÛÛ $
.
ÛÛ$ %
	LongCount
ÛÛ% .
(
ÛÛ. /
)
ÛÛ/ 0
;
ÛÛ0 1
i
ÛÛ2 3
++
ÛÛ3 5
)
ÛÛ5 6
dt
ÜÜ 
.
ÜÜ 
Columns
ÜÜ 
.
ÜÜ 
Add
ÜÜ 
(
ÜÜ 
Columns
ÜÜ &
[
ÜÜ& '
i
ÜÜ' (
-
ÜÜ) *
$num
ÜÜ+ ,
]
ÜÜ, -
)
ÜÜ- .
;
ÜÜ. /
DataRow
ŞŞ 
rows
ŞŞ 
;
ŞŞ 
XmlNodeList
ßß 
nodes
ßß 
=
ßß 
oXML
ßß  $
.
ßß$ %
SelectNodes
ßß% 0
(
ßß0 1
$str
ßß1 5
+
ßß6 7
NameTableNode
ßß8 E
)
ßßE F
;
ßßF G
foreach
àà 
(
àà 
XmlNode
àà 
childrenNodes
àà *
in
àà+ -
nodes
àà. 3
)
àà3 4
{
áá 
XmlNodeList
ââ 
nodes2
ââ "
=
ââ# $
childrenNodes
ââ% 2
.
ââ2 3
SelectNodes
ââ3 >
(
ââ> ?
NameEntidadNode
ââ? N
)
ââN O
;
ââO P
foreach
ãã 
(
ãã 
XmlNode
ãã  
childrennodes2
ãã! /
in
ãã0 2
nodes2
ãã3 9
)
ãã9 :
{
ää 
{
åå 
var
ææ 
	withBlock
ææ %
=
ææ& '
childrennodes2
ææ( 6
;
ææ6 7
rows
çç 
=
çç 
dt
çç !
.
çç! "
NewRow
çç" (
(
çç( )
)
çç) *
;
çç* +
for
èè 
(
èè 
i
èè 
=
èè  
$num
èè! "
;
èè" #
i
èè$ %
<=
èè& (
Columns
èè) 0
.
èè0 1
	LongCount
èè1 :
(
èè: ;
)
èè; <
;
èè< =
i
èè> ?
++
èè? A
)
èèA B
{
éé 
try
êê 
{
ëë 
rows
ìì  $
[
ìì$ %
Columns
ìì% ,
[
ìì, -
i
ìì- .
-
ìì/ 0
$num
ìì1 2
]
ìì2 3
]
ìì3 4
=
ìì5 6
	withBlock
ìì7 @
.
ìì@ A
SelectNodes
ììA L
(
ììL M
Columns
ììM T
[
ììT U
i
ììU V
-
ììW X
$num
ììY Z
]
ììZ [
)
ìì[ \
.
ìì\ ]
Item
ìì] a
(
ììa b
$num
ììb c
)
ììc d
.
ììd e
	InnerText
ììe n
;
ììn o
}
îî 
catch
ïï !
(
ïï" #
	Exception
ïï# ,
ex
ïï- /
)
ïï/ 0
{
ğğ 
}
ññ 
}
òò 
dt
ôô 
.
ôô 
Rows
ôô 
.
ôô  
Add
ôô  #
(
ôô# $
rows
ôô$ (
)
ôô( )
;
ôô) *
}
õõ 
}
öö 
}
÷÷ 
return
ùù 
dt
ùù 
;
ùù 
}
úú 	
private
‚‚ 
MdsynDatosPagosE
‚‚  &
GetDatosAdicionalesPagos
‚‚! 9
(
‚‚9 :
string
‚‚: @
pCodMedicoMedisyn
‚‚A R
,
‚‚R S
int
‚‚T W
pIdeCorrelReserva
‚‚X i
)
‚‚i j
{
ƒƒ 	
MedicosE
„„ 
	oMedicosE
„„ 
=
„„  
new
„„! $
MedicosE
„„% -
(
„„- .
)
„„. /
;
„„/ 0
List
…… 
<
…… 
MedicosE
…… 
>
…… 
oListMedicosE
…… (
=
……) *
new
……+ .
List
……/ 3
<
……3 4
MedicosE
……4 <
>
……< =
(
……= >
)
……> ?
;
……? @
MdsynDatosPagosE
†† 
oMdsynDatosPagosE
†† .
=
††/ 0
new
††1 4
MdsynDatosPagosE
††5 E
(
††E F
)
††F G
;
††G H
List
‡‡ 
<
‡‡ 
MdsynDatosPagosE
‡‡ !
>
‡‡! "
oListE
‡‡# )
=
‡‡* +
new
‡‡, /
List
‡‡0 4
<
‡‡4 5
MdsynDatosPagosE
‡‡5 E
>
‡‡E F
(
‡‡F G
)
‡‡G H
;
‡‡H I
oListE
 
=
 
new
 
MdsynDatosPagosAD
 *
(
* +
)
+ ,
.
, -)
Sp_MdsynDatosPagos_Consulta
- H
(
H I
new
I L
MdsynDatosPagosE
M ]
(
] ^
$str
^ `
,
` a
$str
b d
,
d e
$str
f h
,
h i
pIdeCorrelReserva
j {
,
{ |
$num
} ~
,
~ 
$str€ ‚
,‚ ƒ
$str„ †
,† ‡
$strˆ Š
,Š ‹
$strŒ 
, !
pCodMedicoMedisyn ¡
)¡ ¢
)¢ £
;£ ¤
if
‘‘ 
(
‘‘ 
oListE
‘‘ 
.
‘‘ 
Count
‘‘ 
>=
‘‘ 
$num
‘‘  !
)
‘‘! "
oMdsynDatosPagosE
’’ !
=
’’" #
oListE
’’$ *
[
’’* +
$num
’’+ ,
]
’’, -
;
’’- .
return
˜˜ 
oMdsynDatosPagosE
˜˜ $
;
˜˜$ %
}
™™ 	
private
   

RespuestaE
   "
ValidarAnulacionCita
   /
(
  / 0
int
  0 3
pIdeCorrelReserva
  4 E
)
  E F
{
¡¡ 	

RespuestaE
¢¢ 

oRespuesta
¢¢ !
=
¢¢" #
new
¢¢$ '

RespuestaE
¢¢( 2
(
¢¢2 3
true
¢¢3 7
,
¢¢7 8
$str
¢¢9 B
)
¢¢B C
;
¢¢C D
MdsynDatosPagosE
££ 
oMdsynDatosPagosE
££ .
=
££/ 0
new
££1 4
MdsynDatosPagosE
££5 E
(
££E F
$str
££F H
,
££H I
$str
££J L
,
££L M
$str
££N P
,
££P Q
pIdeCorrelReserva
££R c
,
££c d
$num
££e f
)
££f g
;
££g h
List
¤¤ 
<
¤¤ 
MdsynDatosPagosE
¤¤ !
>
¤¤! "
oListMdsynDatos
¤¤# 2
=
¤¤3 4
new
¤¤5 8
MdsynDatosPagosAD
¤¤9 J
(
¤¤J K
)
¤¤K L
.
¤¤L M)
Sp_MdsynDatosPagos_Consulta
¤¤M h
(
¤¤h i
oMdsynDatosPagosE
¤¤i z
)
¤¤z {
;
¤¤{ |
try
¦¦ 
{
§§ 
if
¨¨ 
(
¨¨ 
oListMdsynDatos
¨¨ #
.
¨¨# $
Count
¨¨$ )
>=
¨¨* ,
$num
¨¨- .
)
¨¨. /
{
©© 
oMdsynDatosPagosE
ªª %
=
ªª& '
oListMdsynDatos
ªª( 7
[
ªª7 8
$num
ªª8 9
]
ªª9 :
;
ªª: ;
if
«« 
(
«« 
oMdsynDatosPagosE
«« )
.
««) *
FlgRecepcion
««* 6
==
««7 9
$str
««: =
)
««= >
throw
¬¬ 
new
¬¬ !
	Exception
¬¬" +
(
¬¬+ ,
$str
¬¬, y
)
¬¬y z
;
¬¬z {
}
­­ 
}
®® 
catch
¯¯ 
(
¯¯ 
	Exception
¯¯ 
ex
¯¯ 
)
¯¯  
{
°° 

oRespuesta
±± 
.
±± 
	Respuesta
±± $
=
±±% &
false
±±' ,
;
±±, -

oRespuesta
²² 
.
²² 
Descripcion
²² &
=
²²' (
ex
²²) +
.
²²+ ,
Message
²², 3
;
²²3 4
}
³³ 
return
µµ 

oRespuesta
µµ 
;
µµ 
}
¶¶ 	
public
¸¸ 
string
¸¸ 
DemoFechaOracle
¸¸ %
(
¸¸% &
int
¸¸& )
IdeCorrelreserva
¸¸* :
)
¸¸: ;
{
¹¹ 	

AmReservaE
ºº 
objAmReservaE
ºº $
=
ºº% &
new
ºº' *

AmReservaE
ºº+ 5
(
ºº5 6
$num
ºº6 7
,
ºº7 8
IdeCorrelreserva
ºº9 I
.
ººI J
ToString
ººJ R
(
ººR S
)
ººS T
)
ººT U
;
ººU V
string
»» 
xMsg
»» 
=
»» 
string
»»  
.
»»  !
Empty
»»! &
;
»»& '
try
¼¼ 
{
½½ 
MdsynDatosPagosE
¾¾  
oMdsynDatosPagosE
¾¾! 2
=
¾¾3 4
new
¾¾5 8
MdsynDatosPagosE
¾¾9 I
(
¾¾I J
)
¾¾J K
;
¾¾K L
objAmReservaE
¿¿ 
=
¿¿ 
new
¿¿  #
AmReservaAD
¿¿$ /
(
¿¿/ 0
)
¿¿0 1
.
¿¿1 2 
ObtenerInfoReserva
¿¿2 D
(
¿¿D E
objAmReservaE
¿¿E R
)
¿¿R S
;
¿¿S T
oMdsynDatosPagosE
ÁÁ !
.
ÁÁ! "
CodPaciente
ÁÁ" -
=
ÁÁ. /
objAmReservaE
ÁÁ0 =
.
ÁÁ= >
IdAmbulatorio
ÁÁ> K
;
ÁÁK L
oMdsynDatosPagosE
ÂÂ !
.
ÂÂ! "
CodProfMedico
ÂÂ" /
=
ÂÂ0 1
objAmReservaE
ÂÂ2 ?
.
ÂÂ? @
CodProf
ÂÂ@ G
;
ÂÂG H
oMdsynDatosPagosE
ÃÃ !
.
ÃÃ! "$
CodEspecialidadMedisyn
ÃÃ" 8
=
ÃÃ9 :
objAmReservaE
ÃÃ; H
.
ÃÃH I
CodEspecialidad
ÃÃI X
.
ÃÃX Y
ToString
ÃÃY a
(
ÃÃa b
)
ÃÃb c
;
ÃÃc d
oMdsynDatosPagosE
ÆÆ !
.
ÆÆ! "
FecCita
ÆÆ" )
=
ÆÆ* +
new
ÆÆ, /
DateTime
ÆÆ0 8
(
ÆÆ8 9
objAmReservaE
ÆÆ9 F
.
ÆÆF G

FecReserva
ÆÆG Q
.
ÆÆQ R
Year
ÆÆR V
,
ÆÆV W
objAmReservaE
ÆÆX e
.
ÆÆe f

FecReserva
ÆÆf p
.
ÆÆp q
Month
ÆÆq v
,
ÆÆv w
objAmReservaEÆÆx …
.ÆÆ… †

FecReservaÆÆ† 
.ÆÆ ‘
DayÆÆ‘ ”
,ÆÆ” •
objAmReservaEÆÆ– £
.ÆÆ£ ¤
HoraReservaÆÆ¤ ¯
.ÆÆ¯ °
HourÆÆ° ´
,ÆÆ´ µ
objAmReservaEÆÆ¶ Ã
.ÆÆÃ Ä
HoraReservaÆÆÄ Ï
.ÆÆÏ Ğ
SecondÆÆĞ Ö
,ÆÆÖ ×
$numÆÆØ Ù
)ÆÆÙ Ú
;ÆÆÚ Û
}
ÇÇ 
catch
ÈÈ 
(
ÈÈ 
	Exception
ÈÈ 
ex
ÈÈ 
)
ÈÈ  
{
ÉÉ 
xMsg
ÍÍ 
=
ÍÍ 
ex
ÍÍ 
.
ÍÍ 
Message
ÍÍ !
.
ÍÍ! "
ToString
ÍÍ" *
(
ÍÍ* +
)
ÍÍ+ ,
+
ÍÍ- .
(
ÍÍ/ 0
char
ÍÍ0 4
)
ÍÍ4 5
$num
ÍÍ5 7
+
ÍÍ8 9
ex
ÍÍ: <
.
ÍÍ< =

StackTrace
ÍÍ= G
;
ÍÍG H
}
ÎÎ 
return
ĞĞ 
xMsg
ĞĞ 
;
ĞĞ 
}
ÑÑ 	
public
ÕÕ 
enum
ÕÕ 
TipoMetodoAgenda
ÕÕ $
{
ÖÖ 	'
WM_ObtenerAgendaXApellido
×× %
=
××& '
$num
××( )
,
××) **
WM_ObtenerAgendaEspecialidad
ØØ (
=
ØØ) *
$num
ØØ+ ,
,
ØØ, -$
WM_ObtenerAgendaMedico
ÙÙ "
=
ÙÙ# $
$num
ÙÙ% &
}
ÚÚ 	
public
ÜÜ 
enum
ÜÜ  
TipoConsultaMedica
ÜÜ &
{
İİ 	
TeleConsulta
ŞŞ 
=
ŞŞ 
$num
ŞŞ 
,
ŞŞ 
PresencialCM
ßß 
=
ßß 
$num
ßß 
,
ßß 
PresencialJM
àà 
=
àà 
$num
àà 
}
áá 	
public
ãã 
enum
ãã +
AppCitasEspecialidadesActivas
ãã 1
{
ää 	
TeleConsulta
åå 
=
åå 
$num
åå 
,
åå 
PresencialJM
ææ 
=
ææ 
$num
ææ 
,
ææ 
PresencialCM
çç 
=
çç 
$num
çç 
}
èè 	
public
ññ 
List
ññ 
<
ññ 
MedFavoritoE
ññ  
>
ññ  !'
MedicosFavoritosConsultar
ññ" ;
(
ññ; <
string
ññ< B
pIdAmbulatorio
ññC Q
)
ññQ R
{
òò 	
List
óó 
<
óó 
MedFavoritoE
óó 
>
óó $
oListMedicosFavoritosE
óó 5
=
óó6 7
new
óó8 ;
List
óó< @
<
óó@ A
MedFavoritoE
óóA M
>
óóM N
(
óóN O
)
óóO P
;
óóP Q
MedFavoritoE
ôô 
objMedFavoritoE
ôô (
=
ôô) *
new
ôô+ .
MedFavoritoE
ôô/ ;
(
ôô; <
)
ôô< =
;
ôô= >
MedFavoritoAD
õõ 
objMedFavoritoAD
õõ *
=
õõ+ ,
new
õõ- 0
MedFavoritoAD
õõ1 >
(
õõ> ?
)
õõ? @
;
õõ@ A
objMedFavoritoE
÷÷ 
.
÷÷ 
CodPaciente
÷÷ '
=
÷÷( )
pIdAmbulatorio
÷÷* 8
;
÷÷8 9
objMedFavoritoE
øø 
.
øø 
Orden
øø !
=
øø" #
$num
øø$ %
;
øø% &$
oListMedicosFavoritosE
ùù "
=
ùù# $
objMedFavoritoAD
ùù% 5
.
ùù5 6%
Sp_MedFavorito_Consulta
ùù6 M
(
ùùM N
objMedFavoritoE
ùùN ]
)
ùù] ^
;
ùù^ _
return
ûû $
oListMedicosFavoritosE
ûû )
;
ûû) *
}
üü 	
public
„„ 

RespuestaE
„„ &
MedicosFavoritosInsertar
„„ 2
(
„„2 3
string
„„3 9
pIdAmbulatorio
„„: H
,
„„H I
string
„„J P

pRutMedico
„„Q [
)
„„[ \
{
…… 	
MedFavoritoE
†† 
objMedFavoritoE
†† (
=
††) *
new
††+ .
MedFavoritoE
††/ ;
(
††; <
)
††< =
;
††= >
MedFavoritoAD
‡‡ 
objMedFavoritoAD
‡‡ *
=
‡‡+ ,
new
‡‡- 0
MedFavoritoAD
‡‡1 >
(
‡‡> ?
)
‡‡? @
;
‡‡@ A

RespuestaE
ˆˆ 
xResult
ˆˆ 
=
ˆˆ  
new
ˆˆ! $

RespuestaE
ˆˆ% /
(
ˆˆ/ 0
)
ˆˆ0 1
;
ˆˆ1 2
xResult
‰‰ 
.
‰‰ 
	Respuesta
‰‰ 
=
‰‰ 
false
‰‰  %
;
‰‰% &
try
‹‹ 
{
ŒŒ 
objMedFavoritoE
 
.
  
CodPaciente
  +
=
, -
pIdAmbulatorio
. <
;
< =
objMedFavoritoE
 
.
  
	DniMedico
  )
=
* +

pRutMedico
, 6
;
6 7
xResult
 
.
 
	Respuesta
 !
=
" #
objMedFavoritoAD
$ 4
.
4 5#
Sp_MedFavorito_Insert
5 J
(
J K
objMedFavoritoE
K Z
)
Z [
;
[ \
}
 
catch
‘‘ 
(
‘‘ 
	Exception
‘‘ 
ex
‘‘ 
)
‘‘  
{
’’ 
xResult
““ 
.
““ 
Descripcion
““ #
=
““$ %
ex
““& (
.
““( )
Message
““) 0
;
““0 1
}
”” 
return
–– 
xResult
–– 
;
–– 
}
—— 	
public
ŸŸ 

RespuestaE
ŸŸ $
MedicosFavoritosDelete
ŸŸ 0
(
ŸŸ0 1
string
ŸŸ1 7
pIdAmbulatorio
ŸŸ8 F
,
ŸŸF G
string
ŸŸH N

pRutMedico
ŸŸO Y
)
ŸŸY Z
{
   	
MedFavoritoE
¡¡ 
objMedFavoritoE
¡¡ (
=
¡¡) *
new
¡¡+ .
MedFavoritoE
¡¡/ ;
(
¡¡; <
)
¡¡< =
;
¡¡= >
MedFavoritoAD
¢¢ 
objMedFavoritoAD
¢¢ *
=
¢¢+ ,
new
¢¢- 0
MedFavoritoAD
¢¢1 >
(
¢¢> ?
)
¢¢? @
;
¢¢@ A

RespuestaE
££ 
xResult
££ 
=
££  
new
££! $

RespuestaE
££% /
(
££/ 0
)
££0 1
;
££1 2
xResult
¤¤ 
.
¤¤ 
	Respuesta
¤¤ 
=
¤¤ 
false
¤¤  %
;
¤¤% &
try
¦¦ 
{
§§ 
objMedFavoritoE
¨¨ 
.
¨¨  
CodPaciente
¨¨  +
=
¨¨, -
pIdAmbulatorio
¨¨. <
;
¨¨< =
objMedFavoritoE
©© 
.
©©  
	DniMedico
©©  )
=
©©* +

pRutMedico
©©, 6
;
©©6 7
objMedFavoritoE
ªª 
.
ªª  

NuevoValor
ªª  *
=
ªª+ ,
$str
ªª- /
;
ªª/ 0
objMedFavoritoE
«« 
.
««  
Campo
««  %
=
««& '
$str
««( 7
;
««7 8
xResult
¬¬ 
.
¬¬ 
	Respuesta
¬¬ !
=
¬¬" #
objMedFavoritoAD
¬¬$ 4
.
¬¬4 5)
Sp_MedFavorito_UpdatexCampo
¬¬5 P
(
¬¬P Q
objMedFavoritoE
¬¬Q `
)
¬¬` a
;
¬¬a b
}
­­ 
catch
®® 
(
®® 
	Exception
®® 
ex
®® 
)
®®  
{
¯¯ 
xResult
°° 
.
°° 
Descripcion
°° #
=
°°$ %
ex
°°& (
.
°°( )
Message
°°) 0
;
°°0 1
}
±± 
return
³³ 
xResult
³³ 
;
³³ 
}
´´ 	
public
»» 
string
»» 

MedicosVIP
»»  
(
»»  !
string
»»! '
pNombresMedico
»»( 6
)
»»6 7
{
¼¼ 	
List
½½ 
<
½½ !
MedicoDatosMedisynE
½½ $
>
½½$ %
oList
½½& +
;
½½+ ,
string
¾¾ 
	stringXML
¾¾ 
=
¾¾ 
$str
¾¾ 6
;
¾¾6 7
oList
ÀÀ 
=
ÀÀ 
new
ÀÀ "
MedicoDatosMedisynAD
ÀÀ ,
(
ÀÀ, -
)
ÀÀ- .
.
ÀÀ. /,
Sp_MedicoDatosMedisyn_Consulta
ÀÀ/ M
(
ÀÀM N
pNombresMedico
ÀÀN \
)
ÀÀ\ ]
;
ÀÀ] ^
int
ÂÂ 
i
ÂÂ 
=
ÂÂ 
$num
ÂÂ 
;
ÂÂ 
for
ÃÃ 
(
ÃÃ 
i
ÃÃ 
=
ÃÃ 
$num
ÃÃ 
;
ÃÃ 
i
ÃÃ 
<=
ÃÃ 
oList
ÃÃ "
.
ÃÃ" #
Count
ÃÃ# (
-
ÃÃ) *
$num
ÃÃ+ ,
;
ÃÃ, -
i
ÃÃ. /
++
ÃÃ/ 1
)
ÃÃ1 2
{
ÄÄ 
	stringXML
ÅÅ 
=
ÅÅ 
	stringXML
ÅÅ %
+
ÅÅ& '
$str
ÅÅ( 1
;
ÅÅ1 2
	stringXML
ÇÇ 
=
ÇÇ 
	stringXML
ÇÇ %
+
ÇÇ& '
$str
ÇÇ( 4
+
ÇÇ5 6
oList
ÇÇ7 <
[
ÇÇ< =
i
ÇÇ= >
]
ÇÇ> ?
.
ÇÇ? @
COD_PROF
ÇÇ@ H
+
ÇÇI J
$str
ÇÇK X
;
ÇÇX Y
	stringXML
ÉÉ 
=
ÉÉ 
	stringXML
ÉÉ %
+
ÉÉ& '
$str
ÉÉ( 2
;
ÉÉ2 3
}
ÊÊ 
	stringXML
ÌÌ 
=
ÌÌ 
	stringXML
ÌÌ !
+
ÌÌ" #
$strÌÌ$ Á
;ÌÌÁ Â
return
ÍÍ 
	stringXML
ÍÍ 
;
ÍÍ 
}
ÎÎ 	
public
ÕÕ 
QR
ÕÕ "
GetQrEstacionamiento
ÕÕ &
(
ÕÕ& '
string
ÕÕ' -
pCodPaciente
ÕÕ. :
)
ÕÕ: ;
{
ÖÖ 	
QR
×× 
xQR
×× 
=
×× 
new
×× 
QR
×× 
(
×× 
)
×× 
;
×× 
byte
ØØ 
[
ØØ 
]
ØØ 
xCodQR
ØØ 
=
ØØ 
new
ØØ 
byte
ØØ  $
[
ØØ$ %
]
ØØ% &
{
ØØ' (
}
ØØ) *
;
ØØ* +

RespuestaE
ÙÙ 

xRespuesta
ÙÙ !
=
ÙÙ" #
new
ÙÙ$ '

RespuestaE
ÙÙ( 2
(
ÙÙ2 3
)
ÙÙ3 4
;
ÙÙ4 5
List
ÚÚ 
<
ÚÚ 

RespuestaE
ÚÚ 
>
ÚÚ 
xListRespuesta
ÚÚ +
=
ÚÚ, -
new
ÚÚ. 1
List
ÚÚ2 6
<
ÚÚ6 7

RespuestaE
ÚÚ7 A
>
ÚÚA B
(
ÚÚB C
)
ÚÚC D
;
ÚÚD E
string
ÛÛ 
xMsg
ÛÛ 
=
ÛÛ 
$str
ÛÛ 
;
ÛÛ 
bool
ÜÜ 
xResult
ÜÜ 
=
ÜÜ 
false
ÜÜ  
;
ÜÜ  !
try
ŞŞ 
{
ßß 
List
àà 
<
àà 
TablasE
àà 
>
àà 
oList
àà #
=
àà$ %
new
àà& )
List
àà* .
<
àà. /
TablasE
àà/ 6
>
àà6 7
(
àà7 8
)
àà8 9
;
àà9 :
string
áá 
xCodAtencion
áá #
=
áá$ %
$str
áá& (
;
áá( )
string
ââ 
xFechaQR
ââ 
=
ââ  !
$str
ââ" $
;
ââ$ %
string
ãã 
xNombresPaciente
ãã '
=
ãã( )
$str
ãã* ,
;
ãã, -
string
ää 
xCodComprobante
ää &
=
ää' (
$str
ää) +
;
ää+ ,
string
åå 
xTarifa
åå 
=
åå  
$str
åå! #
;
åå# $
string
ææ 
xDias
ææ 
=
ææ 
$str
ææ !
;
ææ! "
string
çç 
	xCadenaQR
çç  
=
çç! "
$str
çç# %
;
çç% &

xRespuesta
éé 
.
éé 
	Respuesta
éé $
=
éé% &
true
éé' +
;
éé+ ,
oList
ìì 
=
ìì 
new
ìì 
TablasAD
ìì $
(
ìì$ %
)
ìì% &
.
ìì& ' 
Sp_Tablas_Consulta
ìì' 9
(
ìì9 :
new
ìì: =
TablasE
ìì> E
(
ììE F
$str
ììF Q
,
ììQ R
$str
ììS W
,
ììW X
$num
ììY Z
,
ììZ [
$num
ìì\ ]
,
ìì] ^
$num
ìì_ `
)
ìì` a
)
ììa b
;
ììb c
xTarifa
íí 
=
íí 
(
íí 
oList
íí  
.
íí  !
Count
íí! &
>=
íí' )
$num
íí* +
?
íí, -
oList
íí. 3
[
íí3 4
$num
íí4 5
]
íí5 6
.
íí6 7
Nombre
íí7 =
:
íí> ?
$str
íí@ B
)
ííB C
;
ííC D
oList
ğğ 
=
ğğ 
new
ğğ 
TablasAD
ğğ $
(
ğğ$ %
)
ğğ% &
.
ğğ& ' 
Sp_Tablas_Consulta
ğğ' 9
(
ğğ9 :
new
ğğ: =
TablasE
ğğ> E
(
ğğE F
$str
ğğF S
,
ğğS T
$str
ğğU X
,
ğğX Y
$num
ğğZ [
,
ğğ[ \
$num
ğğ] ^
,
ğğ^ _
$num
ğğ` a
)
ğğa b
)
ğğb c
;
ğğc d
xDias
ññ 
=
ññ 
(
ññ 
oList
ññ 
.
ññ 
Count
ññ $
>=
ññ% '
$num
ññ( )
?
ññ* +
oList
ññ, 1
[
ññ1 2
$num
ññ2 3
]
ññ3 4
.
ññ4 5
Valor
ññ5 :
.
ññ: ;
ToString
ññ; C
(
ññC D
)
ññD E
:
ññF G
$str
ññH J
)
ññJ K
;
ññK L
MdsynDatosPagosE
óó  
oMdsynDatosPagosE
óó! 2
=
óó3 4
new
óó5 8
MdsynDatosPagosE
óó9 I
(
óóI J
)
óóJ K
;
óóK L
List
ôô 
<
ôô 
MdsynDatosPagosE
ôô %
>
ôô% &

oListPagos
ôô' 1
=
ôô2 3
new
ôô4 7
List
ôô8 <
<
ôô< =
MdsynDatosPagosE
ôô= M
>
ôôM N
(
ôôN O
)
ôôO P
;
ôôP Q
oMdsynDatosPagosE
öö !
.
öö! "
Orden
öö" '
=
öö( )
$num
öö* +
;
öö+ ,
oMdsynDatosPagosE
÷÷ !
.
÷÷! "
CodPaciente
÷÷" -
=
÷÷. /
pCodPaciente
÷÷0 <
;
÷÷< =

oListPagos
øø 
=
øø 
new
øø  
MdsynDatosPagosAD
øø! 2
(
øø2 3
)
øø3 4
.
øø4 5)
Sp_MdsynDatosPagos_Consulta
øø5 P
(
øøP Q
oMdsynDatosPagosE
øøQ b
)
øøb c
;
øøc d
for
úú 
(
úú 
int
úú 
i
úú 
=
úú 
$num
úú 
;
úú 
i
úú  !
<=
úú" $

oListPagos
úú% /
.
úú/ 0
Count
úú0 5
-
úú6 7
$num
úú8 9
;
úú9 :
i
úú; <
++
úú< >
)
úú> ?
{
ûû 
xResult
üü 
=
üü 
true
üü "
;
üü" #
xCodComprobante
ıı #
=
ıı$ %

oListPagos
ıı& 0
[
ıı0 1
$num
ıı1 2
]
ıı2 3
.
ıı3 4
CodComprobante
ıı4 B
;
ııB C
xFechaQR
şş 
=
şş 

oListPagos
şş )
[
şş) *
$num
şş* +
]
şş+ ,
.
şş, -
FechaQR
şş- 4
;
şş4 5
xCodAtencion
ÿÿ  
=
ÿÿ! "

oListPagos
ÿÿ# -
[
ÿÿ- .
$num
ÿÿ. /
]
ÿÿ/ 0
.
ÿÿ0 1
CodAtencion
ÿÿ1 <
;
ÿÿ< =
xNombresPaciente
€€ $
=
€€% &

oListPagos
€€' 1
[
€€1 2
$num
€€2 3
]
€€3 4
.
€€4 5
NombresPacientes
€€5 E
;
€€E F
	xCadenaQR
ƒƒ 
=
ƒƒ 
$str
ƒƒ  $
+
ƒƒ% &
xTarifa
ƒƒ' .
+
ƒƒ/ 0
$str
ƒƒ1 4
+
ƒƒ5 6
xCodComprobante
ƒƒ7 F
+
ƒƒG H
$str
ƒƒI L
+
ƒƒM N
xFechaQR
ƒƒO W
+
ƒƒX Y
$str
ƒƒZ ]
+
ƒƒ^ _
xDias
ƒƒ` e
+
ƒƒf g
$str
ƒƒh k
+
ƒƒl m
xCodAtencion
ƒƒn z
+
ƒƒ{ |
$strƒƒ} €
+ƒƒ ‚ 
xNombresPacienteƒƒƒ “
;ƒƒ“ ”

xRespuesta
„„ 
.
„„ 
Descripcion
„„ *
=
„„+ ,
	xCadenaQR
„„- 6
;
„„6 7
xListRespuesta
…… "
.
……" #
Add
……# &
(
……& '

xRespuesta
……' 1
)
……1 2
;
……2 3
}
†† 
if
ˆˆ 
(
ˆˆ 

oListPagos
ˆˆ 
.
ˆˆ 
Count
ˆˆ $
==
ˆˆ% '
$num
ˆˆ( )
)
ˆˆ) *
throw
‰‰ 
new
‰‰ 
	Exception
‰‰ '
(
‰‰' (
$str
‰‰( T
)
‰‰T U
;
‰‰U V
}
ŠŠ 
catch
‹‹ 
(
‹‹ 
	Exception
‹‹ 
ex
‹‹ 
)
‹‹  
{
ŒŒ 
xMsg
 
=
 
ex
 
.
 
Message
 !
.
! "
ToString
" *
(
* +
)
+ ,
;
, -

xRespuesta
 
.
 
	Respuesta
 $
=
% &
false
' ,
;
, -

xRespuesta
 
.
 
Descripcion
 &
=
' (
xMsg
) -
;
- .
}
 
xQR
’’ 
=
’’ 
new
’’ 
QR
’’ 
(
’’ 
xResult
’’  
,
’’  !
xMsg
’’" &
,
’’& '
xListRespuesta
’’( 6
)
’’6 7
;
’’7 8
return
”” 
xQR
”” 
;
”” 
}
•• 	
public
ÂÂ 

RespuestaE
ÂÂ 
SetPagosApp
ÂÂ %
(
ÂÂ% &
string
ÂÂ& ,
CodAsegurado
ÂÂ- 9
,
ÂÂ9 :
string
ÂÂ; A
TipDocumento
ÂÂB N
,
ÂÂN O
string
ÂÂP V
NumDocumento
ÂÂW c
,
ÂÂc d
string
ÂÂe k
TipPrt
ÂÂl r
,
ÂÂr s
string
ÂÂt z
TipParentescoÂÂ{ ˆ
,ÂÂˆ ‰
stringÂÂŠ 
NroPlanÂÂ‘ ˜
,ÂÂ˜ ™
stringÂÂš  
TipDocempresaÂÂ¡ ®
,ÂÂ® ¯
stringÂÂ° ¶
NumDocempresaÂÂ· Ä
,ÂÂÄ Å
DateTimeÂÂÆ Î
FecNacimientoÂÂÏ Ü
,ÂÂÜ İ
DateTimeÂÂŞ æ!
FecIniciovigenciaÂÂç ø
,ÂÂø ù
DateTimeÂÂú ‚
FecAfilicacionÂÂƒ ‘
,ÂÂ‘ ’
stringÂÂ“ ™
CodCoberturaÂÂš ¦
,ÂÂ¦ §
decimalÂÂ¨ ¯

CoPagofijoÂÂ° º
,ÂÂº »
decimalÂÂ¼ Ã
CoPagovariableÂÂÄ Ò
,ÂÂÒ Ó
stringÂÂÔ Ú
	TipMonedaÂÂÛ ä
,ÂÂä å
intÂÂæ é 
IdeCorrelreservaÂÂê ú
,ÂÂú û
stringÂÂü ‚
TipAtencionÂÂƒ 
,ÂÂ 
stringÂÂ –
CodPacienteÂÂ— ¢
,ÂÂ¢ £
stringÂÂ¤ ª"
CodPacienteTitularÂÂ« ½
,ÂÂ½ ¾
stringÂÂ¿ Å
CodIAFASÂÂÆ Î
,ÂÂÎ Ï
stringÂÂĞ Ö
CodSedeÂÂ× Ş
,ÂÂŞ ß
stringÂÂà æ
CodProfMedicoÂÂç ô
,ÂÂô õ
DateTimeÂÂö ş
FecCitaÂÂÿ †
,ÂÂ† ‡
stringÂÂˆ 
NroOperacionÂÂ ›
,ÂÂ› œ
stringÂÂ £#
DscMensajeRespuestaÂÂ¤ ·
,ÂÂ· ¸
stringÂÂ¹ ¿
EstPagoExitosoÂÂÀ Î
,ÂÂÎ Ï
stringÂÂĞ Ö
TipoTarjetaÂÂ× â
,ÂÂâ ã
stringÂÂä ê
NumeroTarjetaÂÂë ø
,ÂÂø ù
stringÂÂú €$
Comp_TipoComprobanteÂÂ •
=ÂÂ– —
$strÂÂ˜ ›
,ÂÂ› œ
stringÂÂ £$
Comp_TipDocIdentidadÂÂ¤ ¸
=ÂÂ¹ º
$strÂÂ» ¾
,ÂÂ¾ ¿
stringÂÂÀ Æ%
Comp_Rut_DocIdentidadÂÂÇ Ü
=ÂÂİ Ş
$strÂÂß á
,ÂÂá â
stringÂÂã é
Comp_DscTablaÂÂê ÷
=ÂÂø ù
$strÂÂú ı
,ÂÂı ş
stringÂÂÿ …
Comp_CorreoÂÂ† ‘
=ÂÂ’ “
$strÂÂ” –
,ÂÂ– —
stringÂÂ˜ 
	TipoEnvioÂÂŸ ¨
=ÂÂ© ª
$strÂÂ« ­
,ÂÂ­ ®
stringÂÂ¯ µ 
ResponsableEnvioÂÂ¶ Æ
=ÂÂÇ È
$strÂÂÉ Ë
,ÂÂË Ì
stringÂÂÍ Ó"
TipoConsultaMedicaÂÂÔ æ
=ÂÂç è
$strÂÂé ì
,ÂÂì í
stringÂÂî ô#
TransactionIdNiubizÂÂõ ˆ
=ÂÂ‰ Š
$strÂÂ‹ 
,ÂÂ 
stringÂÂ •
VersionÂÂ– 
=ÂÂ Ÿ
$strÂÂ  ¤
)ÂÂ¤ ¥
{
ÃÃ 	

RespuestaE
ÄÄ 

oRespuesta
ÄÄ !
=
ÄÄ" #
new
ÄÄ$ '

RespuestaE
ÄÄ( 2
(
ÄÄ2 3
)
ÄÄ3 4
;
ÄÄ4 5
MdsynDatosPagosE
ÅÅ 
oMdsynDatosPagosE
ÅÅ .
=
ÅÅ/ 0
new
ÅÅ1 4
MdsynDatosPagosE
ÅÅ5 E
(
ÅÅE F
)
ÅÅF G
;
ÅÅG H
MdsynDatosPagosAD
ÆÆ  
oMdsynDatosPagosAD
ÆÆ 0
=
ÆÆ1 2
new
ÆÆ3 6
MdsynDatosPagosAD
ÆÆ7 H
(
ÆÆH I
)
ÆÆI J
;
ÆÆJ K
try
ÈÈ 
{
ÉÉ 

AmReservaE
ËË 
objAmReservaE
ËË (
=
ËË) *
new
ËË+ .

AmReservaE
ËË/ 9
(
ËË9 :
$num
ËË: ;
,
ËË; <
IdeCorrelreserva
ËË= M
.
ËËM N
ToString
ËËN V
(
ËËV W
)
ËËW X
)
ËËX Y
;
ËËY Z
objAmReservaE
ÌÌ 
=
ÌÌ 
new
ÌÌ  #
AmReservaAD
ÌÌ$ /
(
ÌÌ/ 0
)
ÌÌ0 1
.
ÌÌ1 2 
ObtenerInfoReserva
ÌÌ2 D
(
ÌÌD E
objAmReservaE
ÌÌE R
)
ÌÌR S
;
ÌÌS T
oMdsynDatosPagosE
ÎÎ !
.
ÎÎ! "
CodPaciente
ÎÎ" -
=
ÎÎ. /
objAmReservaE
ÎÎ0 =
.
ÎÎ= >
IdAmbulatorio
ÎÎ> K
;
ÎÎK L
oMdsynDatosPagosE
ÏÏ !
.
ÏÏ! "
CodProfMedico
ÏÏ" /
=
ÏÏ0 1
objAmReservaE
ÏÏ2 ?
.
ÏÏ? @
CodProf
ÏÏ@ G
;
ÏÏG H
oMdsynDatosPagosE
ĞĞ !
.
ĞĞ! "$
CodEspecialidadMedisyn
ĞĞ" 8
=
ĞĞ9 :
objAmReservaE
ĞĞ; H
.
ĞĞH I
CodEspecialidad
ĞĞI X
.
ĞĞX Y
ToString
ĞĞY a
(
ĞĞa b
)
ĞĞb c
;
ĞĞc d
oMdsynDatosPagosE
ÓÓ !
.
ÓÓ! "
FecCita
ÓÓ" )
=
ÓÓ* +
new
ÓÓ, /
DateTime
ÓÓ0 8
(
ÓÓ8 9
objAmReservaE
ÓÓ9 F
.
ÓÓF G

FecReserva
ÓÓG Q
.
ÓÓQ R
Year
ÓÓR V
,
ÓÓV W
objAmReservaE
ÓÓX e
.
ÓÓe f

FecReserva
ÓÓf p
.
ÓÓp q
Month
ÓÓq v
,
ÓÓv w
objAmReservaEÓÓx …
.ÓÓ… †

FecReservaÓÓ† 
.ÓÓ ‘
DayÓÓ‘ ”
,ÓÓ” •
objAmReservaEÓÓ– £
.ÓÓ£ ¤
HoraReservaÓÓ¤ ¯
.ÓÓ¯ °
HourÓÓ° ´
,ÓÓ´ µ
objAmReservaEÓÓ¶ Ã
.ÓÓÃ Ä
HoraReservaÓÓÄ Ï
.ÓÓÏ Ğ
SecondÓÓĞ Ö
,ÓÓÖ ×
$numÓÓØ Ù
)ÓÓÙ Ú
;ÓÓÚ Û
oMdsynDatosPagosE
ÖÖ !
.
ÖÖ! "
CodAsegurado
ÖÖ" .
=
ÖÖ/ 0
CodAsegurado
ÖÖ1 =
;
ÖÖ= >
oMdsynDatosPagosE
×× !
.
××! "
TipDocumento
××" .
=
××/ 0
TipDocumento
××1 =
;
××= >
oMdsynDatosPagosE
ØØ !
.
ØØ! "
NumDocumento
ØØ" .
=
ØØ/ 0
NumDocumento
ØØ1 =
;
ØØ= >
oMdsynDatosPagosE
ÙÙ !
.
ÙÙ! "
TipPrt
ÙÙ" (
=
ÙÙ) *
TipPrt
ÙÙ+ 1
;
ÙÙ1 2
oMdsynDatosPagosE
ÚÚ !
.
ÚÚ! "
TipParentesco
ÚÚ" /
=
ÚÚ0 1
TipParentesco
ÚÚ2 ?
;
ÚÚ? @
oMdsynDatosPagosE
ÛÛ !
.
ÛÛ! "
NroPlan
ÛÛ" )
=
ÛÛ* +
NroPlan
ÛÛ, 3
;
ÛÛ3 4
oMdsynDatosPagosE
ÜÜ !
.
ÜÜ! "
TipDocempresa
ÜÜ" /
=
ÜÜ0 1
TipDocempresa
ÜÜ2 ?
;
ÜÜ? @
oMdsynDatosPagosE
İİ !
.
İİ! "
NumDocempresa
İİ" /
=
İİ0 1
NumDocempresa
İİ2 ?
;
İİ? @
oMdsynDatosPagosE
ŞŞ !
.
ŞŞ! "
FecNacimiento
ŞŞ" /
=
ŞŞ0 1
FecNacimiento
ŞŞ2 ?
;
ŞŞ? @
oMdsynDatosPagosE
ßß !
.
ßß! "
FecIniciovigencia
ßß" 3
=
ßß4 5
FecIniciovigencia
ßß6 G
;
ßßG H
oMdsynDatosPagosE
àà !
.
àà! "
FecAfilicacion
àà" 0
=
àà1 2
FecAfilicacion
àà3 A
;
ààA B
oMdsynDatosPagosE
áá !
.
áá! "
CodCobertura
áá" .
=
áá/ 0
CodCobertura
áá1 =
.
áá= >
Replace
áá> E
(
ááE F
$str
ááF I
,
ááI J
$str
ááK M
)
ááM N
;
ááN O
oMdsynDatosPagosE
ââ !
.
ââ! "

CoPagofijo
ââ" ,
=
ââ- .

CoPagofijo
ââ/ 9
;
ââ9 :
oMdsynDatosPagosE
ãã !
.
ãã! "
CoPagovariable
ãã" 0
=
ãã1 2
CoPagovariable
ãã3 A
;
ããA B
oMdsynDatosPagosE
ää !
.
ää! "
	TipMoneda
ää" +
=
ää, -
	TipMoneda
ää. 7
;
ää7 8
oMdsynDatosPagosE
ææ !
.
ææ! "
IdeCorrelreserva
ææ" 2
=
ææ3 4
IdeCorrelreserva
ææ5 E
;
ææE F
oMdsynDatosPagosE
çç !
.
çç! "
TipAtencion
çç" -
=
çç. /
TipAtencion
çç0 ;
;
çç; <
oMdsynDatosPagosE
èè !
.
èè! " 
CodPacienteTitular
èè" 4
=
èè5 6 
CodPacienteTitular
èè7 I
;
èèI J
oMdsynDatosPagosE
éé !
.
éé! "
CodIAFAS
éé" *
=
éé+ ,
CodIAFAS
éé- 5
;
éé5 6
oMdsynDatosPagosE
ëë !
.
ëë! "
CodSede
ëë" )
=
ëë* +
CodSede
ëë, 3
;
ëë3 4
oMdsynDatosPagosE
ìì !
.
ìì! "
NroOperacion
ìì" .
=
ìì/ 0
NroOperacion
ìì1 =
;
ìì= >
oMdsynDatosPagosE
íí !
.
íí! "!
DscMensajeRespuesta
íí" 5
=
íí6 7!
DscMensajeRespuesta
íí8 K
;
ííK L
oMdsynDatosPagosE
îî !
.
îî! "
EstPagoExitoso
îî" 0
=
îî1 2
EstPagoExitoso
îî3 A
;
îîA B
oMdsynDatosPagosE
ğğ !
.
ğğ! "

TipTarjeta
ğğ" ,
=
ğğ- .
TipoTarjeta
ğğ/ :
;
ğğ: ;
oMdsynDatosPagosE
ññ !
.
ññ! "

NumTarjeta
ññ" ,
=
ññ- .
NumeroTarjeta
ññ/ <
;
ññ< =
oMdsynDatosPagosE
óó !
.
óó! ""
Comp_TipoComprobante
óó" 6
=
óó7 8"
Comp_TipoComprobante
óó9 M
;
óóM N
oMdsynDatosPagosE
ôô !
.
ôô! ""
Comp_TipDocIdentidad
ôô" 6
=
ôô7 8"
Comp_TipDocIdentidad
ôô9 M
;
ôôM N
oMdsynDatosPagosE
õõ !
.
õõ! ""
Comp_RutDocIdentidad
õõ" 6
=
õõ7 8#
Comp_Rut_DocIdentidad
õõ9 N
;
õõN O
oMdsynDatosPagosE
öö !
.
öö! "
Comp_DscTabla
öö" /
=
öö0 1
Comp_DscTabla
öö2 ?
;
öö? @
oMdsynDatosPagosE
÷÷ !
.
÷÷! "
Comp_Correo
÷÷" -
=
÷÷. /
Comp_Correo
÷÷0 ;
;
÷÷; <
oMdsynDatosPagosE
ùù !
.
ùù! "
	TipoEnvio
ùù" +
=
ùù, -
	TipoEnvio
ùù. 7
;
ùù7 8
oMdsynDatosPagosE
úú !
.
úú! "
ResponsableEnvio
úú" 2
=
úú3 4
ResponsableEnvio
úú5 E
;
úúE F
oMdsynDatosPagosE
ûû !
.
ûû! "#
CodTipoConsultaMedica
ûû" 7
=
ûû8 9 
TipoConsultaMedica
ûû: L
;
ûûL M
oMdsynDatosPagosE
üü !
.
üü! "!
TransaccionIdNiubiz
üü" 5
=
üü6 7!
TransactionIdNiubiz
üü8 K
;
üüK L
if
şş 
(
şş 
	TipoEnvio
şş 
.
şş 
Trim
şş "
(
şş" #
)
şş# $
==
şş% '
$str
şş( *
)
şş* +

oRespuesta
ÿÿ 
.
ÿÿ 
	Respuesta
ÿÿ (
=
ÿÿ) * 
oMdsynDatosPagosAD
ÿÿ+ =
.
ÿÿ= >'
Sp_MdsynDatosPagos_Insert
ÿÿ> W
(
ÿÿW X
oMdsynDatosPagosE
ÿÿX i
)
ÿÿi j
;
ÿÿj k
else
€€ 
if
€€ 
(
€€ 
Version
€€  
==
€€! #
$str
€€$ (
)
€€( )

oRespuesta
 
.
 
	Respuesta
 (
=
) * 
oMdsynDatosPagosAD
+ =
.
= >*
Sp_MdsynDatosPagos_Insert_V2
> Z
(
Z [
oMdsynDatosPagosE
[ l
)
l m
;
m n
else
‚‚ 
if
‚‚ 
(
‚‚ 
Version
‚‚  
==
‚‚! #
$str
‚‚$ (
)
‚‚( )

oRespuesta
ƒƒ 
.
ƒƒ 
	Respuesta
ƒƒ (
=
ƒƒ) * 
oMdsynDatosPagosAD
ƒƒ+ =
.
ƒƒ= >*
Sp_MdsynDatosPagos_Insert_V3
ƒƒ> Z
(
ƒƒZ [
oMdsynDatosPagosE
ƒƒ[ l
)
ƒƒl m
;
ƒƒm n
if
…… 
(
…… 

oRespuesta
…… 
.
…… 
	Respuesta
…… (
==
……) +
true
……, 0
)
……0 1

oRespuesta
†† 
.
†† 
Descripcion
†† *
=
††+ ,
oMdsynDatosPagosE
††- >
.
††> ?
IdeDatospagos
††? L
.
††L M
ToString
††M U
(
††U V
)
††V W
;
††W X!
RegistrarClienteRuc
ˆˆ #
(
ˆˆ# $"
Comp_TipoComprobante
ˆˆ$ 8
,
ˆˆ8 9#
Comp_Rut_DocIdentidad
ˆˆ: O
,
ˆˆO P
Comp_Correo
ˆˆQ \
)
ˆˆ\ ]
;
ˆˆ] ^
}
‰‰ 
catch
 
(
 
	Exception
 
ex
 
)
  
{
 

oRespuesta
 
=
 
new
  

RespuestaE
! +
(
+ ,
false
, 1
,
1 2
ex
3 5
.
5 6
Message
6 =
,
= >
ex
? A
.
A B

StackTrace
B L
,
L M
false
N S
)
S T
;
T U
}
‘‘ 
return
““ 

oRespuesta
““ 
;
““ 
}
”” 	
public
–– 
void
–– !
RegistrarClienteRuc
–– '
(
––' (
string
––( ."
Comp_TipoComprobante
––/ C
,
––C D
string
––E K#
Comp_Rut_DocIdentidad
––L a
,
––a b
string
––c i
Comp_Correo
––j u
)
––u v
{
—— 	
if
˜˜ 
(
˜˜ "
Comp_TipoComprobante
˜˜ $
==
˜˜% '
$str
˜˜( +
)
˜˜+ ,
{
™™ 
List
šš 
<
šš 
	ClientesE
šš 
>
šš 
oList
šš  %
=
šš& '
new
šš( +
List
šš, 0
<
šš0 1
	ClientesE
šš1 :
>
šš: ;
(
šš; <
)
šš< =
;
šš= >
oList
›› 
=
›› 
new
›› 

ClientesAD
›› &
(
››& '
)
››' (
.
››( )"
Sp_Clientes_Consulta
››) =
(
››= >
new
››> A
	ClientesE
››B K
(
››K L#
Comp_Rut_DocIdentidad
››L a
,
››a b
$num
››c d
.
››d e
ToString
››e m
(
››m n
)
››n o
,
››o p
$num
››q r
.
››r s
ToString
››s {
(
››{ |
)
››| }
,
››} ~
$num›› €
)››€ 
)›› ‚
;››‚ ƒ
if
œœ 
(
œœ 
oList
œœ 
.
œœ 
Count
œœ 
==
œœ  "
$num
œœ# $
)
œœ$ %
{
 
Bus
 
.
 
	Utilities
 !
.
! "
Apis
" &
.
& '
ResponseRuc
' 2
oResponseRuc
3 ?
=
@ A
new
B E
Bus
F I
.
I J
	Utilities
J S
.
S T
Apis
T X
.
X Y
ResponseRuc
Y d
(
d e
)
e f
;
f g
Bus
ŸŸ 
.
ŸŸ 
	Utilities
ŸŸ !
.
ŸŸ! "
Apis
ŸŸ" &
oApis
ŸŸ' ,
=
ŸŸ- .
new
ŸŸ/ 2
Bus
ŸŸ3 6
.
ŸŸ6 7
	Utilities
ŸŸ7 @
.
ŸŸ@ A
Apis
ŸŸA E
(
ŸŸE F
)
ŸŸF G
;
ŸŸG H
oResponseRuc
    
=
  ! "
oApis
  # (
.
  ( )
GetRuc
  ) /
(
  / 0#
Comp_Rut_DocIdentidad
  0 E
)
  E F
;
  F G
RegistrarCliente
¢¢ $
(
¢¢$ %
oResponseRuc
¢¢% 1
.
¢¢1 2#
nombre_o_razon_social
¢¢2 G
,
¢¢G H
$str
¢¢I K
,
¢¢K L
$str
¢¢M O
,
¢¢O P
$str
¢¢Q S
,
¢¢S T
$str
¢¢U W
,
¢¢W X
$str
¢¢Y [
,
¢¢[ \
oResponseRuc
¢¢] i
.
¢¢i j
	direccion
¢¢j s
,
¢¢s t
DateTime
¢¢u }
.
¢¢} ~
Now¢¢~ 
,¢¢ ‚
$str¢¢ƒ …
,¢¢… †
$str¢¢‡ Š
,¢¢Š ‹
Comp_Correo¢¢Œ —
,¢¢— ˜
$str¢¢™ £
,¢¢£ ¤
$str¢¢¥ §
,¢¢§ ¨
$str¢¢© ®
,¢¢® ¯%
Comp_Rut_DocIdentidad¢¢° Å
,¢¢Å Æ
$str¢¢Ç ç
)¢¢ç è
;¢¢è é
}
££ 
}
¤¤ 
}
¥¥ 	
public
ÍÍ 

RespuestaE
ÍÍ #
SetDataServerToServer
ÍÍ /
(
ÍÍ/ 0
long
ÍÍ0 4
IdeCorrelReserva
ÍÍ5 E
,
ÍÍE F
string
ÍÍG M
authorizationCode
ÍÍN _
,
ÍÍ_ `
string
ÍÍa g
bin
ÍÍh k
,
ÍÍk l
string
ÍÍm s
shippingCountryÍÍt ƒ
,ÍÍƒ „
stringÍÍ… ‹
	reserved1ÍÍŒ •
,ÍÍ• –
stringÍÍ— 
	reserved2ÍÍ §
,ÍÍ§ ¨
stringÍÍ© ¯ 
shippingLastNameÍÍ° À
,ÍÍÀ Á
stringÍÍÂ È
	errorCodeÍÍÉ Ò
,ÍÍÒ Ó
stringÍÍÔ Ú

idCommerceÍÍÛ å
,ÍÍå æ
stringÍÍç í
shippingCityÍÍî ú
,ÍÍú û
stringÍÍü ‚

txDateTimeÍÍƒ 
,ÍÍ 
stringÍÍ •$
purchaseCurrencyCodeÍÍ– ª
,ÍÍª «
stringÍÍ¬ ²"
commerceAssociatedÍÍ³ Å
,ÍÍÅ Æ
stringÍÍÇ Í!
shippingFirstNameÍÍÎ ß
,ÍÍß à
stringÍÍá ç'
purchaseOperationNumberÍÍè ÿ
,ÍÍÿ €
stringÍÍ ‡
shippingPhoneÍÍˆ •
,ÍÍ• –
stringÍÍ— 
shippingAddressÍÍ ­
,ÍÍ­ ®
stringÍÍ¯ µ

reserved22ÍÍ¶ À
,ÍÍÀ Á
stringÍÍÂ È
answerMessageÍÍÉ Ö
,ÍÍÖ ×
stringÍÍØ Ş
cuotaÍÍß ä
,ÍÍä å
stringÍÍæ ì$
paymentReferenceCodeÍÍí 
,ÍÍ ‚
stringÍÍƒ ‰
shippingStateÍÍŠ —
,ÍÍ— ˜
stringÍÍ™ Ÿ
brandÍÍ  ¥
,ÍÍ¥ ¦
stringÍÍ§ ­
mccÍÍ® ±
,ÍÍ± ²
stringÍÍ³ ¹
shippingEmailÍÍº Ç
,ÍÍÇ È
stringÍÍÉ Ï
shippingZIPÍÍĞ Û
,ÍÍÛ Ü
stringÍÍİ ã

acquirerIdÍÍä î
,ÍÍî ï
stringÍÍğ ö
purchaseAmountÍÍ÷ …
,ÍÍ… †
stringÍÍ‡ $
purchaseVerificationÍÍ ¢
,ÍÍ¢ £
stringÍÍ¤ ª
IDTransactionÍÍ« ¸
,ÍÍ¸ ¹
stringÍÍº À

answerCodeÍÍÁ Ë
,ÍÍË Ì
stringÍÍÍ Ó
errorMessageÍÍÔ à
,ÍÍà á
stringÍÍâ è#
authorizationResultÍÍé ü
,ÍÍü ı
stringÍÍş „

reserved23ÍÍ… 
)ÍÍ 
{
ÎÎ 	

RespuestaE
ÏÏ 
oRespuestaE
ÏÏ "
=
ÏÏ# $
new
ÏÏ% (

RespuestaE
ÏÏ) 3
(
ÏÏ3 4
true
ÏÏ4 8
,
ÏÏ8 9
$str
ÏÏ: <
)
ÏÏ< =
;
ÏÏ= >
try
ÑÑ 
{
ÒÒ 
MdsynPagosPaymeE
ÓÓ  
oMdsynPagosPaymeE
ÓÓ! 2
=
ÓÓ3 4
new
ÓÓ5 8
MdsynPagosPaymeE
ÓÓ9 I
(
ÓÓI J
$num
ÓÓJ K
,
ÓÓK L
IdeCorrelReserva
ÓÓM ]
,
ÓÓ] ^
authorizationCode
ÓÓ_ p
,
ÓÓp q
bin
ÓÓr u
,
ÓÓu v
shippingCountryÓÓw †
,ÓÓ† ‡
	reserved1ÓÓˆ ‘
,ÓÓ‘ ’
	reserved2ÓÓ“ œ
,ÓÓœ  
shippingLastNameÓÓ ®
,ÓÓ® ¯
	errorCodeÓÓ° ¹
,ÓÓ¹ º

idCommerceÓÓ» Å
,ÓÓÅ Æ
shippingCityÓÓÇ Ó
,ÓÓÓ Ô

txDateTimeÓÓÕ ß
,ÓÓß à$
purchaseCurrencyCodeÓÓá õ
,ÓÓõ ö"
commerceAssociatedÓÓ÷ ‰
,ÓÓ‰ Š!
shippingFirstNameÓÓ‹ œ
,ÓÓœ '
purchaseOperationNumberÓÓ µ
,ÓÓµ ¶
shippingPhoneÓÓ· Ä
,ÓÓÄ Å
shippingAddressÓÓÆ Õ
,ÓÓÕ Ö

reserved22ÓÓ× á
,ÓÓá â
answerMessageÓÓã ğ
,ÓÓğ ñ
cuotaÓÓò ÷
,ÓÓ÷ ø$
paymentReferenceCodeÓÓù 
,ÓÓ 
shippingStateÓÓ œ
,ÓÓœ 
brandÓÓ £
,ÓÓ£ ¤
mccÓÓ¥ ¨
,ÓÓ¨ ©
shippingEmailÓÓª ·
,ÓÓ· ¸
shippingZIPÓÓ¹ Ä
,ÓÓÄ Å

acquirerIdÓÓÆ Ğ
,ÓÓĞ Ñ
purchaseAmountÓÓÒ à
,ÓÓà á$
purchaseVerificationÓÓâ ö
,ÓÓö ÷
IDTransactionÓÓø …
,ÓÓ… †

answerCodeÓÓ‡ ‘
,ÓÓ‘ ’
errorMessageÓÓ“ Ÿ
,ÓÓŸ  #
authorizationResultÓÓ¡ ´
,ÓÓ´ µ

reserved23ÓÓ¶ À
)ÓÓÀ Á
;ÓÓÁ Â
if
ÕÕ 
(
ÕÕ 
new
ÕÕ 
MdsynPagosPaymeAD
ÕÕ )
(
ÕÕ) *
)
ÕÕ* +
.
ÕÕ+ ,'
Sp_MdsynPagosPayme_Insert
ÕÕ, E
(
ÕÕE F
oMdsynPagosPaymeE
ÕÕF W
)
ÕÕW X
==
ÕÕY [
false
ÕÕ\ a
)
ÕÕa b
throw
ÖÖ 
new
ÖÖ 
	Exception
ÖÖ '
(
ÖÖ' (
$strÖÖ( 
)ÖÖ ‘
;ÖÖ‘ ’
}
×× 
catch
ØØ 
(
ØØ 
	Exception
ØØ 
ex
ØØ 
)
ØØ  
{
ÙÙ 
oRespuestaE
ÚÚ 
.
ÚÚ 
	Respuesta
ÚÚ %
=
ÚÚ& '
false
ÚÚ( -
;
ÚÚ- .
oRespuestaE
ÛÛ 
.
ÛÛ 
Descripcion
ÛÛ '
=
ÛÛ( )
$str
ÛÛ* I
+
ÛÛJ K
ex
ÛÛL N
.
ÛÛN O
Message
ÛÛO V
+
ÛÛW X
(
ÛÛY Z
char
ÛÛZ ^
)
ÛÛ^ _
$num
ÛÛ_ a
+
ÛÛb c
ex
ÛÛd f
.
ÛÛf g

StackTrace
ÛÛg q
;
ÛÛq r
}
ÜÜ 
return
ŞŞ 
oRespuestaE
ŞŞ 
;
ŞŞ 
}
ßß 	
public
çç 

RespuestaE
çç 
GetProcesarPago
çç )
(
çç) *
string
çç* 0
CodPaciente
çç1 <
,
çç< =
string
çç> D

Cod_Medico
ççE O
=
ççP Q
$str
ççR T
)
ççT U
{
èè 	

RespuestaE
éé 

oRespuesta
éé !
=
éé" #
new
éé$ '

RespuestaE
éé( 2
(
éé2 3
)
éé3 4
;
éé4 5
try
ëë 
{
ìì 

oRespuesta
íí 
.
íí 
	Respuesta
íí $
=
íí% &
true
íí' +
;
íí+ ,

oRespuesta
îî 
.
îî 
Descripcion
îî &
=
îî' (
$str
îî) <
;
îî< =
}
ïï 
catch
ğğ 
(
ğğ 
	Exception
ğğ 
ex
ğğ 
)
ğğ  
{
ññ 

oRespuesta
òò 
.
òò 
	Respuesta
òò $
=
òò% &
false
òò' ,
;
òò, -

oRespuesta
óó 
.
óó 
Descripcion
óó &
=
óó' (
ex
óó) +
.
óó+ ,
Message
óó, 3
+
óó4 5
(
óó6 7
char
óó7 ;
)
óó; <
$num
óó< >
+
óó? @
ex
óóA C
.
óóC D

StackTrace
óóD N
;
óóN O
}
ôô 
return
õõ 

oRespuesta
õõ 
;
õõ 
}
öö 	
public
øø 

RespuestaE
øø /
!ConfirmarAutorizacionCuestionario
øø ;
(
øø; <
int
øø< ?
IdeCorrelReserva
øø@ P
,
øøP Q
string
øøR X!
CodTipoCuestionario
øøY l
,
øøl m
string
øøn t
IdePacienteøøu €
,øø€ 
stringøø‚ ˆ"
IdePacienteTitularøø‰ ›
,øø› œ
stringøø £
	IpClienteøø¤ ­
,øø­ ®
stringøø¯ µ
ApiKeyøø¶ ¼
,øø¼ ½
Listøø¾ Â
<øøÂ Ã#
AutorizacionDetalleøøÃ Ö
>øøÖ ×
AutorizacionDetøøØ ç
)øøç è
{
ùù 	

RespuestaE
úú 
objRespuestaE
úú $
=
úú% &
new
úú' *

RespuestaE
úú+ 5
(
úú5 6
true
úú6 :
,
úú: ;
$str
úú< e
,
úúe f
$str
úúg i
,
úúi j
true
úúk o
)
úúo p
;
úúp q
int
ûû  
IdeAutorizacionCab
ûû "
=
ûû# $
$num
ûû% &
;
ûû& '0
"MdsynAutorizacionCuestionariosCabE
üü .#
oAutorizacionCuestCab
üü/ D
=
üüE F
new
üüG J0
"MdsynAutorizacionCuestionariosCabE
üüK m
(
üüm n
)
üün o
;
üüo p0
"MdsynAutorizacionCuestionariosDetE
ıı .$
oAutorizacionCuestDetE
ıı/ E
=
ııF G
new
ııH K0
"MdsynAutorizacionCuestionariosDetE
ııL n
(
ıın o
)
ııo p
;
ııp q
bool
şş 
xResult
şş 
=
şş 
false
şş  
;
şş  !#
oAutorizacionCuestCab
€	€	 !
=
€	€	" #
new
€	€	$ '0
"MdsynAutorizacionCuestionariosCabE
€	€	( J
(
€	€	J K 
IdeAutorizacionCab
€	€	K ]
,
€	€	] ^
IdeCorrelReserva
€	€	_ o
,
€	€	o p"
CodTipoCuestionario€	€	q „
,€	€	„ …
IdePaciente€	€	† ‘
,€	€	‘ ’"
IdePacienteTitular€	€	“ ¥
,€	€	¥ ¦
	IpCliente€	€	§ °
)€	€	° ±
;€	€	± ²
if
‚	‚	 
(
‚	‚	 
fnValidarApiKey
‚	‚	 
(
‚	‚	  
ApiKey
‚	‚	  &
)
‚	‚	& '
==
‚	‚	( *
true
‚	‚	+ /
)
‚	‚	/ 0
{
ƒ	ƒ	 
using
„	„	 
(
„	„	 
System
„	„	 
.
„	„	 
Transactions
„	„	 *
.
„	„	* +
TransactionScope
„	„	+ ;
xTrans
„	„	< B
=
„	„	C D
new
„	„	E H
System
„	„	I O
.
„	„	O P
Transactions
„	„	P \
.
„	„	\ ]
TransactionScope
„	„	] m
(
„	„	m n
)
„	„	n o
)
„	„	o p
{
…	…	 
try
†	†	 
{
‡	‡	 
new
ˆ	ˆ	 1
#MdsynAutorizacionCuestionariosCabAD
ˆ	ˆ	 ?
(
ˆ	ˆ	? @
)
ˆ	ˆ	@ A
.
ˆ	ˆ	A B9
+Sp_MdsynAutorizacionCuestionariosCab_Insert
ˆ	ˆ	B m
(
ˆ	ˆ	m n$
oAutorizacionCuestCabˆ	ˆ	n ƒ
)ˆ	ˆ	ƒ „
;ˆ	ˆ	„ …
for
Š	Š	 
(
Š	Š	 
int
Š	Š	  
i
Š	Š	! "
=
Š	Š	# $
$num
Š	Š	% &
;
Š	Š	& '
i
Š	Š	( )
<=
Š	Š	* ,
AutorizacionDet
Š	Š	- <
.
Š	Š	< =
Count
Š	Š	= B
-
Š	Š	C D
$num
Š	Š	E F
;
Š	Š	F G
i
Š	Š	H I
++
Š	Š	I K
)
Š	Š	K L
{
‹	‹	 $
oAutorizacionCuestDetE
Œ	Œ	 2
=
Œ	Œ	3 4
new
Œ	Œ	5 80
"MdsynAutorizacionCuestionariosDetE
Œ	Œ	9 [
(
Œ	Œ	[ \
$num
Œ	Œ	\ ]
,
Œ	Œ	] ^#
oAutorizacionCuestCab
Œ	Œ	_ t
.
Œ	Œ	t u!
IdeAutorizacionCabŒ	Œ	u ‡
,Œ	Œ	‡ ˆ
AutorizacionDetŒ	Œ	‰ ˜
[Œ	Œ	˜ ™
iŒ	Œ	™ š
]Œ	Œ	š ›
.Œ	Œ	› œ$
DscTextoAutorizacionŒ	Œ	œ °
,Œ	Œ	° ±
AutorizacionDetŒ	Œ	² Á
[Œ	Œ	Á Â
iŒ	Œ	Â Ã
]Œ	Œ	Ã Ä
.Œ	Œ	Ä Å
DscRespuestaŒ	Œ	Å Ñ
,Œ	Œ	Ñ Ò
iŒ	Œ	Ó Ô
,Œ	Œ	Ô Õ#
CodTipoCuestionarioŒ	Œ	Ö é
)Œ	Œ	é ê
;Œ	Œ	ê ë
xResult
		 #
=
		$ %
new
		& )1
#MdsynAutorizacionCuestionariosDetAD
		* M
(
		M N
)
		N O
.
		O P9
+Sp_MdsynAutorizacionCuestionariosDet_Insert
		P {
(
		{ |%
oAutorizacionCuestDetE		| ’
)		’ “
;		“ ”
if
		 
(
		  $
oAutorizacionCuestDetE
		  6
.
		6 7 
IdeAutorizacionDet
		7 I
==
		J L
-
		M N
$num
		N O
)
		O P
{
		 
objRespuestaE
‘	‘	  -
=
‘	‘	. /
new
‘	‘	0 3

RespuestaE
‘	‘	4 >
(
‘	‘	> ?
true
‘	‘	? C
,
‘	‘	C D
$str‘	‘	E ·
,‘	‘	· ¸
$str‘	‘	¹ »
,‘	‘	» ¼
false‘	‘	½ Â
)‘	‘	Â Ã
;‘	‘	Ã Ä
xResult
’	’	  '
=
’	’	( )
false
’	’	* /
;
’	’	/ 0
break
“	“	  %
;
“	“	% &
}
”	”	 
else
•	•	  
if
•	•	! #
(
•	•	$ %$
oAutorizacionCuestDetE
•	•	% ;
.
•	•	; < 
IdeAutorizacionDet
•	•	< N
==
•	•	O Q
-
•	•	R S
$num
•	•	S T
)
•	•	T U
{
–	–	 
objRespuestaE
—	—	  -
=
—	—	. /
new
—	—	0 3

RespuestaE
—	—	4 >
(
—	—	> ?
true
—	—	? C
,
—	—	C D
$str—	—	E ¶
,—	—	¶ ·
$str—	—	¸ º
,—	—	º »
false—	—	¼ Á
)—	—	Á Â
;—	—	Â Ã
xResult
˜	˜	  '
=
˜	˜	( )
false
˜	˜	* /
;
˜	˜	/ 0
break
™	™	  %
;
™	™	% &
}
š	š	 
if
œ	œ	 
(
œ	œ	  
xResult
œ	œ	  '
==
œ	œ	( *
false
œ	œ	+ 0
)
œ	œ	0 1
{
		 
objRespuestaE
		  -
=
		. /
new
		0 3

RespuestaE
		4 >
(
		> ?
false
		? D
,
		D E
$str
		F t
)
		t u
;
		u v
xTrans
Ÿ	Ÿ	  &
.
Ÿ	Ÿ	& '
Dispose
Ÿ	Ÿ	' .
(
Ÿ	Ÿ	. /
)
Ÿ	Ÿ	/ 0
;
Ÿ	Ÿ	0 1
break
 	 	  %
;
 	 	% &
}
¡	¡	 
}
¢	¢	 
if
¤	¤	 
(
¤	¤	 
xResult
¤	¤	 #
==
¤	¤	$ &
true
¤	¤	' +
)
¤	¤	+ ,
{
¥	¥	 
xTrans
¦	¦	 "
.
¦	¦	" #
Complete
¦	¦	# +
(
¦	¦	+ ,
)
¦	¦	, -
;
¦	¦	- .
if
§	§	 
(
§	§	  #
oAutorizacionCuestCab
§	§	  5
.
§	§	5 6 
IdeAutorizacionCab
§	§	6 H
==
§	§	I K
$num
§	§	L M
)
§	§	M N
objRespuestaE
¨	¨	  -
=
¨	¨	. /
new
¨	¨	0 3

RespuestaE
¨	¨	4 >
(
¨	¨	> ?
true
¨	¨	? C
,
¨	¨	C D
$str
¨	¨	E [
,
¨	¨	[ \
$str
¨	¨	] _
,
¨	¨	_ `
true
¨	¨	a e
)
¨	¨	e f
;
¨	¨	f g
}
©	©	 
}
ª	ª	 
catch
«	«	 
(
«	«	 
	Exception
«	«	 $
ex
«	«	% '
)
«	«	' (
{
¬	¬	 
objRespuestaE
®	®	 %
=
®	®	& '
new
®	®	( +

RespuestaE
®	®	, 6
(
®	®	6 7
false
®	®	7 <
,
®	®	< =
ex
®	®	> @
.
®	®	@ A
Message
®	®	A H
,
®	®	H I
$str
®	®	J T
+
®	®	U V
ex
®	®	W Y
.
®	®	Y Z
Source
®	®	Z `
+
®	®	a b
$str
®	®	c t
+
®	®	u v
ex
®	®	w y
.
®	®	y z

StackTrace®	®	z „
,®	®	„ …
false®	®	† ‹
)®	®	‹ Œ
;®	®	Œ 
xTrans
¯	¯	 
.
¯	¯	 
Dispose
¯	¯	 &
(
¯	¯	& '
)
¯	¯	' (
;
¯	¯	( )
}
°	°	 
}
±	±	 
}
²	²	 
else
³	³	 
objRespuestaE
´	´	 
=
´	´	 
new
´	´	  #

RespuestaE
´	´	$ .
(
´	´	. /
false
´	´	/ 4
,
´	´	4 5
$str
´	´	6 ]
,
´	´	] ^
$str
´	´	_ a
,
´	´	a b
false
´	´	c h
)
´	´	h i
;
´	´	i j
return
¶	¶	 
objRespuestaE
¶	¶	  
;
¶	¶	  !
}
·	·	 	
public
¹	¹	 
class
¹	¹	 !
AutorizacionDetalle
¹	¹	 (
{
º	º	 	
public
»	»	 
string
»	»	 "
DscTextoAutorizacion
»	»	 .
{
»	»	/ 0
get
»	»	1 4
;
»	»	4 5
set
»	»	6 9
;
»	»	9 :
}
»	»	; <
=
»	»	= >
$str
»	»	? A
;
»	»	A B
public
¼	¼	 
string
¼	¼	 
DscRespuesta
¼	¼	 &
{
¼	¼	' (
get
¼	¼	) ,
;
¼	¼	, -
set
¼	¼	. 1
;
¼	¼	1 2
}
¼	¼	3 4
=
¼	¼	5 6
$str
¼	¼	7 9
;
¼	¼	9 :
public
¾	¾	 !
AutorizacionDetalle
¾	¾	 &
(
¾	¾	& '
)
¾	¾	' (
{
¿	¿	 
}
À	À	 
public
Â	Â	 !
AutorizacionDetalle
Â	Â	 &
(
Â	Â	& '
string
Â	Â	' -#
pDscTextoAutorizacion
Â	Â	. C
,
Â	Â	C D
string
Â	Â	E K
pDscRespuesta
Â	Â	L Y
)
Â	Â	Y Z
{
Ã	Ã	 "
DscTextoAutorizacion
Ä	Ä	 $
=
Ä	Ä	% &#
pDscTextoAutorizacion
Ä	Ä	' <
;
Ä	Ä	< =
DscRespuesta
Å	Å	 
=
Å	Å	 
pDscRespuesta
Å	Å	 ,
;
Å	Å	, -
}
Æ	Æ	 
}
Ç	Ç	 	
public
Ê	Ê	 

RespuestaE
Ê	Ê	 1
#ConfirmarAutorizacionCuestionarioV2
Ê	Ê	 =
(
Ê	Ê	= >
int
Ê	Ê	> A
IdeCorrelReserva
Ê	Ê	B R
,
Ê	Ê	R S
string
Ê	Ê	T Z!
CodTipoCuestionario
Ê	Ê	[ n
,
Ê	Ê	n o
string
Ê	Ê	p v
IdePacienteÊ	Ê	w ‚
,Ê	Ê	‚ ƒ
stringÊ	Ê	„ Š"
IdePacienteTitularÊ	Ê	‹ 
,Ê	Ê	 
stringÊ	Ê	Ÿ ¥
	IpClienteÊ	Ê	¦ ¯
,Ê	Ê	¯ °
stringÊ	Ê	± ·
ApiKeyÊ	Ê	¸ ¾
,Ê	Ê	¾ ¿
ListÊ	Ê	À Ä
<Ê	Ê	Ä Å#
AutorizacionDetalleÊ	Ê	Å Ø
>Ê	Ê	Ø Ù
AutorizacionDetÊ	Ê	Ú é
)Ê	Ê	é ê
{
Ë	Ë	 	

RespuestaE
Ì	Ì	 
objRespuestaE
Ì	Ì	 $
=
Ì	Ì	% &
new
Ì	Ì	' *

RespuestaE
Ì	Ì	+ 5
(
Ì	Ì	5 6
true
Ì	Ì	6 :
,
Ì	Ì	: ;
$str
Ì	Ì	< e
,
Ì	Ì	e f
$str
Ì	Ì	g i
,
Ì	Ì	i j
true
Ì	Ì	k o
)
Ì	Ì	o p
;
Ì	Ì	p q
int
Í	Í	  
IdeAutorizacionCab
Í	Í	 "
=
Í	Í	# $
$num
Í	Í	% &
;
Í	Í	& '0
"MdsynAutorizacionCuestionariosCabE
Î	Î	 .#
oAutorizacionCuestCab
Î	Î	/ D
=
Î	Î	E F
new
Î	Î	G J0
"MdsynAutorizacionCuestionariosCabE
Î	Î	K m
(
Î	Î	m n
)
Î	Î	n o
;
Î	Î	o p0
"MdsynAutorizacionCuestionariosDetE
Ï	Ï	 .$
oAutorizacionCuestDetE
Ï	Ï	/ E
=
Ï	Ï	F G
new
Ï	Ï	H K0
"MdsynAutorizacionCuestionariosDetE
Ï	Ï	L n
(
Ï	Ï	n o
)
Ï	Ï	o p
;
Ï	Ï	p q
bool
Ğ	Ğ	 
xResult
Ğ	Ğ	 
=
Ğ	Ğ	 
false
Ğ	Ğ	  
;
Ğ	Ğ	  !#
oAutorizacionCuestCab
Ò	Ò	 !
=
Ò	Ò	" #
new
Ò	Ò	$ '0
"MdsynAutorizacionCuestionariosCabE
Ò	Ò	( J
(
Ò	Ò	J K 
IdeAutorizacionCab
Ò	Ò	K ]
,
Ò	Ò	] ^
IdeCorrelReserva
Ò	Ò	_ o
,
Ò	Ò	o p"
CodTipoCuestionarioÒ	Ò	q „
,Ò	Ò	„ …
IdePacienteÒ	Ò	† ‘
,Ò	Ò	‘ ’"
IdePacienteTitularÒ	Ò	“ ¥
,Ò	Ò	¥ ¦
	IpClienteÒ	Ò	§ °
)Ò	Ò	° ±
;Ò	Ò	± ²
if
Ô	Ô	 
(
Ô	Ô	 
fnValidarApiKey
Ô	Ô	 
(
Ô	Ô	  
ApiKey
Ô	Ô	  &
)
Ô	Ô	& '
==
Ô	Ô	( *
true
Ô	Ô	+ /
)
Ô	Ô	/ 0
{
Õ	Õ	 
using
Ö	Ö	 
(
Ö	Ö	 
System
Ö	Ö	 
.
Ö	Ö	 
Transactions
Ö	Ö	 *
.
Ö	Ö	* +
TransactionScope
Ö	Ö	+ ;
xTrans
Ö	Ö	< B
=
Ö	Ö	C D
new
Ö	Ö	E H
System
Ö	Ö	I O
.
Ö	Ö	O P
Transactions
Ö	Ö	P \
.
Ö	Ö	\ ]
TransactionScope
Ö	Ö	] m
(
Ö	Ö	m n
)
Ö	Ö	n o
)
Ö	Ö	o p
{
×	×	 
try
Ø	Ø	 
{
Ù	Ù	 
new
Ú	Ú	 1
#MdsynAutorizacionCuestionariosCabAD
Ú	Ú	 ?
(
Ú	Ú	? @
)
Ú	Ú	@ A
.
Ú	Ú	A B9
+Sp_MdsynAutorizacionCuestionariosCab_Insert
Ú	Ú	B m
(
Ú	Ú	m n$
oAutorizacionCuestCabÚ	Ú	n ƒ
)Ú	Ú	ƒ „
;Ú	Ú	„ …
for
Ü	Ü	 
(
Ü	Ü	 
int
Ü	Ü	  
i
Ü	Ü	! "
=
Ü	Ü	# $
$num
Ü	Ü	% &
;
Ü	Ü	& '
i
Ü	Ü	( )
<=
Ü	Ü	* ,
AutorizacionDet
Ü	Ü	- <
.
Ü	Ü	< =
Count
Ü	Ü	= B
-
Ü	Ü	C D
$num
Ü	Ü	E F
;
Ü	Ü	F G
i
Ü	Ü	H I
++
Ü	Ü	I K
)
Ü	Ü	K L
{
İ	İ	 $
oAutorizacionCuestDetE
Ş	Ş	 2
=
Ş	Ş	3 4
new
Ş	Ş	5 80
"MdsynAutorizacionCuestionariosDetE
Ş	Ş	9 [
(
Ş	Ş	[ \
$num
Ş	Ş	\ ]
,
Ş	Ş	] ^#
oAutorizacionCuestCab
Ş	Ş	_ t
.
Ş	Ş	t u!
IdeAutorizacionCabŞ	Ş	u ‡
,Ş	Ş	‡ ˆ
AutorizacionDetŞ	Ş	‰ ˜
[Ş	Ş	˜ ™
iŞ	Ş	™ š
]Ş	Ş	š ›
.Ş	Ş	› œ$
DscTextoAutorizacionŞ	Ş	œ °
,Ş	Ş	° ±
AutorizacionDetŞ	Ş	² Á
[Ş	Ş	Á Â
iŞ	Ş	Â Ã
]Ş	Ş	Ã Ä
.Ş	Ş	Ä Å
DscRespuestaŞ	Ş	Å Ñ
,Ş	Ş	Ñ Ò
iŞ	Ş	Ó Ô
,Ş	Ş	Ô Õ#
CodTipoCuestionarioŞ	Ş	Ö é
)Ş	Ş	é ê
;Ş	Ş	ê ë
xResult
ß	ß	 #
=
ß	ß	$ %
new
ß	ß	& )1
#MdsynAutorizacionCuestionariosDetAD
ß	ß	* M
(
ß	ß	M N
)
ß	ß	N O
.
ß	ß	O P9
+Sp_MdsynAutorizacionCuestionariosDet_Insert
ß	ß	P {
(
ß	ß	{ |%
oAutorizacionCuestDetEß	ß	| ’
)ß	ß	’ “
;ß	ß	“ ”
if
á	á	 
(
á	á	  $
oAutorizacionCuestDetE
á	á	  6
.
á	á	6 7 
IdeAutorizacionDet
á	á	7 I
==
á	á	J L
-
á	á	M N
$num
á	á	N O
)
á	á	O P
{
â	â	 
objRespuestaE
ã	ã	  -
=
ã	ã	. /
new
ã	ã	0 3

RespuestaE
ã	ã	4 >
(
ã	ã	> ?
true
ã	ã	? C
,
ã	ã	C D
$strã	ã	E ¶
,ã	ã	¶ ·
$strã	ã	¸ º
,ã	ã	º »
falseã	ã	¼ Á
)ã	ã	Á Â
;ã	ã	Â Ã
xResult
ä	ä	  '
=
ä	ä	( )
false
ä	ä	* /
;
ä	ä	/ 0
break
å	å	  %
;
å	å	% &
}
æ	æ	 
if
è	è	 
(
è	è	  
xResult
è	è	  '
==
è	è	( *
false
è	è	+ 0
)
è	è	0 1
{
é	é	 
objRespuestaE
ê	ê	  -
=
ê	ê	. /
new
ê	ê	0 3

RespuestaE
ê	ê	4 >
(
ê	ê	> ?
false
ê	ê	? D
,
ê	ê	D E
$str
ê	ê	F t
)
ê	ê	t u
;
ê	ê	u v
xTrans
ë	ë	  &
.
ë	ë	& '
Dispose
ë	ë	' .
(
ë	ë	. /
)
ë	ë	/ 0
;
ë	ë	0 1
break
ì	ì	  %
;
ì	ì	% &
}
í	í	 
}
î	î	 
if
ğ	ğ	 
(
ğ	ğ	 
xResult
ğ	ğ	 #
==
ğ	ğ	$ &
true
ğ	ğ	' +
)
ğ	ğ	+ ,
{
ñ	ñ	 
xTrans
ò	ò	 "
.
ò	ò	" #
Complete
ò	ò	# +
(
ò	ò	+ ,
)
ò	ò	, -
;
ò	ò	- .
if
ó	ó	 
(
ó	ó	  #
oAutorizacionCuestCab
ó	ó	  5
.
ó	ó	5 6 
IdeAutorizacionCab
ó	ó	6 H
==
ó	ó	I K
$num
ó	ó	L M
)
ó	ó	M N
objRespuestaE
ô	ô	  -
=
ô	ô	. /
new
ô	ô	0 3

RespuestaE
ô	ô	4 >
(
ô	ô	> ?
true
ô	ô	? C
,
ô	ô	C D
$str
ô	ô	E [
,
ô	ô	[ \
$str
ô	ô	] _
,
ô	ô	_ `
true
ô	ô	a e
)
ô	ô	e f
;
ô	ô	f g
}
õ	õ	 
}
ö	ö	 
catch
÷	÷	 
(
÷	÷	 
	Exception
÷	÷	 $
ex
÷	÷	% '
)
÷	÷	' (
{
ø	ø	 
objRespuestaE
ú	ú	 %
=
ú	ú	& '
new
ú	ú	( +

RespuestaE
ú	ú	, 6
(
ú	ú	6 7
false
ú	ú	7 <
,
ú	ú	< =
ex
ú	ú	> @
.
ú	ú	@ A
Message
ú	ú	A H
,
ú	ú	H I
$str
ú	ú	J T
+
ú	ú	U V
ex
ú	ú	W Y
.
ú	ú	Y Z
Source
ú	ú	Z `
+
ú	ú	a b
$str
ú	ú	c t
+
ú	ú	u v
ex
ú	ú	w y
.
ú	ú	y z

StackTraceú	ú	z „
,ú	ú	„ …
falseú	ú	† ‹
)ú	ú	‹ Œ
;ú	ú	Œ 
xTrans
û	û	 
.
û	û	 
Dispose
û	û	 &
(
û	û	& '
)
û	û	' (
;
û	û	( )
}
ü	ü	 
}
ı	ı	 
}
ş	ş	 
else
ÿ	ÿ	 
objRespuestaE
€
€
 
=
€
€
 
new
€
€
  #

RespuestaE
€
€
$ .
(
€
€
. /
false
€
€
/ 4
,
€
€
4 5
$str
€
€
6 ]
,
€
€
] ^
$str
€
€
_ a
,
€
€
a b
false
€
€
c h
)
€
€
h i
;
€
€
i j
return
‚
‚
 
objRespuestaE
‚
‚
  
;
‚
‚
  !
}
ƒ
ƒ
 	
public
…
…
 
List
…
…
 
<
…
…
 
GetAseguradoras
…
…
 #
>
…
…
# $
fnGetAseguradoras
…
…
% 6
(
…
…
6 7
Ent
…
…
7 :
.
…
…
: ;
Sql
…
…
; >
.
…
…
> ?
ClinicaE
…
…
? G
.
…
…
G H
	HospitalE
…
…
H Q
.
…
…
Q R
AseguradorasE
…
…
R _
pAseguradorasE
…
…
` n
)
…
…
n o
{
†
†
 	
List
‡
‡
 
<
‡
‡
 
GetAseguradoras
‡
‡
  
>
‡
‡
  !"
oListGetAseguradoras
‡
‡
" 6
=
‡
‡
7 8
new
‡
‡
9 <
List
‡
‡
= A
<
‡
‡
A B
GetAseguradoras
‡
‡
B Q
>
‡
‡
Q R
(
‡
‡
R S
)
‡
‡
S T
;
‡
‡
T U
List
ˆ
ˆ
 
<
ˆ
ˆ
 
Ent
ˆ
ˆ
 
.
ˆ
ˆ
 
Sql
ˆ
ˆ
 
.
ˆ
ˆ
 
ClinicaE
ˆ
ˆ
 !
.
ˆ
ˆ
! "
	HospitalE
ˆ
ˆ
" +
.
ˆ
ˆ
+ ,
AseguradorasE
ˆ
ˆ
, 9
>
ˆ
ˆ
9 :
oLAseguradoras
ˆ
ˆ
; I
=
ˆ
ˆ
J K
new
ˆ
ˆ
L O
List
ˆ
ˆ
P T
<
ˆ
ˆ
T U
Ent
ˆ
ˆ
U X
.
ˆ
ˆ
X Y
Sql
ˆ
ˆ
Y \
.
ˆ
ˆ
\ ]
ClinicaE
ˆ
ˆ
] e
.
ˆ
ˆ
e f
	HospitalE
ˆ
ˆ
f o
.
ˆ
ˆ
o p
AseguradorasE
ˆ
ˆ
p }
>
ˆ
ˆ
} ~
(
ˆ
ˆ
~ 
)ˆ
ˆ
 €
;ˆ
ˆ
€ 
for
‹
‹
 
(
‹
‹
 
int
‹
‹
 
i
‹
‹
 
=
‹
‹
 
$num
‹
‹
 
;
‹
‹
 
i
‹
‹
 
<=
‹
‹
  
oLAseguradoras
‹
‹
! /
.
‹
‹
/ 0
Count
‹
‹
0 5
-
‹
‹
6 7
$num
‹
‹
8 9
;
‹
‹
9 :
i
‹
‹
; <
++
‹
‹
< >
)
‹
‹
> ?
{
Œ
Œ
 
{


 
var


 
	withBlock


 !
=


" #
oLAseguradoras


$ 2
[


2 3
i


3 4
]


4 5
;


5 6
}


 
}
‘
‘
 
return
“
“
 "
oListGetAseguradoras
“
“
 '
;
“
“
' (
}
”
”
 	
public
–
–
 
class
–
–
 
GetAseguradoras
–
–
 $
{
—
—
 	
public
˜
˜
 
string
˜
˜
 
CodAseguradora
˜
˜
 (
{
˜
˜
) *
get
˜
˜
+ .
;
˜
˜
. /
set
˜
˜
0 3
;
˜
˜
3 4
}
˜
˜
5 6
=
˜
˜
7 8
$str
˜
˜
9 ;
;
˜
˜
; <
public
™
™
 
string
™
™
 
Nombre
™
™
  
{
™
™
! "
get
™
™
# &
;
™
™
& '
set
™
™
( +
;
™
™
+ ,
}
™
™
- .
=
™
™
/ 0
$str
™
™
1 3
;
™
™
3 4
public
š
š
 
string
š
š
 
CodIAFAS
š
š
 "
{
š
š
# $
get
š
š
% (
;
š
š
( )
set
š
š
* -
;
š
š
- .
}
š
š
/ 0
=
š
š
1 2
$str
š
š
3 5
;
š
š
5 6
public
œ
œ
 
GetAseguradoras
œ
œ
 "
(
œ
œ
" #
)
œ
œ
# $
{


 
}


 
public
 
 
 
GetAseguradoras
 
 
 "
(
 
 
" #
string
 
 
# )
pCodAseguradora
 
 
* 9
,
 
 
9 :
string
 
 
; A
pNombre
 
 
B I
,
 
 
I J
string
 
 
K Q
	pCodIAFAS
 
 
R [
)
 
 
[ \
{
¡
¡
 
CodAseguradora
¢
¢
 
=
¢
¢
  
pCodAseguradora
¢
¢
! 0
;
¢
¢
0 1
Nombre
£
£
 
=
£
£
 
pNombre
£
£
  
;
£
£
  !
CodIAFAS
¤
¤
 
=
¤
¤
 
	pCodIAFAS
¤
¤
 $
;
¤
¤
$ %
}
¥
¥
 
}
¦
¦
 	
public
¨
¨
 
string
¨
¨
  
RecuperarClaveMail
¨
¨
 (
(
¨
¨
( )
int
¨
¨
) ,
Cod_Empresa
¨
¨
- 8
,
¨
¨
8 9
long
¨
¨
: >
Rut_Paciente
¨
¨
? K
,
¨
¨
K L
string
¨
¨
M S
Dv_Paciente
¨
¨
T _
,
¨
¨
_ `
string
¨
¨
a g
Email_Paciente
¨
¨
h v
,
¨
¨
v w
string
¨
¨
x ~
ApiKey¨
¨
 …
,¨
¨
… †
string¨
¨
‡ 
SistemaEnvio¨
¨
 š
,¨
¨
š ›
string¨
¨
œ ¢
Responsable¨
¨
£ ®
)¨
¨
® ¯
{
©
©
 	
string
ª
ª
 
responseXML
ª
ª
 
=
ª
ª
  
$str
ª
ª
! #
;
ª
ª
# $
XmlDocument
«
«
 
oXML
«
«
 
=
«
«
 
new
«
«
 "
XmlDocument
«
«
# .
(
«
«
. /
)
«
«
/ 0
;
«
«
0 1
	DataTable
¬
¬
 
dt
¬
¬
 
=
¬
¬
 
new
¬
¬
 
	DataTable
¬
¬
 (
(
¬
¬
( )
)
¬
¬
) *
;
¬
¬
* +
Response_XML
­
­
 
.
­
­
 
XML
­
­
 
oXML_Response
­
­
 *
=
­
­
+ ,
new
­
­
- 0
Response_XML
­
­
1 =
.
­
­
= >
XML
­
­
> A
(
­
­
A B
)
­
­
B C
;
­
­
C D
string
¯
¯
 
Estado
¯
¯
 
=
¯
¯
 
$str
¯
¯
 
;
¯
¯
 
string
°
°
 
EmailPaciente
°
°
  
=
°
°
! "
$str
°
°
# %
;
°
°
% &
oXML_Response
²
²
 
.
²
²
 
RecuperaAcceso
²
²
 (
=
²
²
) *
new
²
²
+ .
Response_XML
²
²
/ ;
.
²
²
; <
XML
²
²
< ?
.
²
²
? @
RecuperaAccesoE
²
²
@ O
(
²
²
O P
)
²
²
P Q
;
²
²
Q R
oXML_Response
³
³
 
.
³
³
 
RecuperaAcceso
³
³
 (
.
³
³
( )
DatosAcceso
³
³
) 4
.
³
³
4 5
ESTADO
³
³
5 ;
=
³
³
< =
$str
³
³
> A
;
³
³
A B
if
µ
µ
 
(
µ
µ
 
fnValidarApiKey
µ
µ
 
(
µ
µ
  
ApiKey
µ
µ
  &
)
µ
µ
& '
==
µ
µ
( *
true
µ
µ
+ /
)
µ
µ
/ 0
{
¶
¶
 
VariablesGlobales
·
·
 !
.
·
·
! "#
OpenConfigWebServices
·
·
" 7
(
·
·
7 8
VariablesGlobales
·
·
8 I
.
·
·
I J&
RutaWsAgendaCitasMedisyn
·
·
J b
)
·
·
b c
;
·
·
c d
using
¸
¸
 
(
¸
¸
 
var
¸
¸
 
oWsTisal
¸
¸
 #
=
¸
¸
$ %
new
¸
¸
& ).
 ServicioReservaHoraWebSoapClient
¸
¸
* J
(
¸
¸
J K
VariablesGlobales
¸
¸
K \
.
¸
¸
\ ]
Binding
¸
¸
] d
,
¸
¸
d e
VariablesGlobales
¸
¸
f w
.
¸
¸
w x
EndPoint¸
¸
x €
)¸
¸
€ 
)¸
¸
 ‚
{
¹
¹
 
responseXML
º
º
 
=
º
º
  !
oWsTisal
º
º
" *
.
º
º
* +%
WM_TraeDatosAccesoAsync
º
º
+ B
(
º
º
B C
Cod_Empresa
º
º
C N
,
º
º
N O
Rut_Paciente
º
º
P \
,
º
º
\ ]
Dv_Paciente
º
º
^ i
)
º
º
i j
.
º
º
j k
Result
º
º
k q
;
º
º
q r
}
»
»
 
VariablesGlobales
¼
¼
 !
.
¼
¼
! "$
CloseConfigWebServices
¼
¼
" 8
(
¼
¼
8 9
)
¼
¼
9 :
;
¼
¼
: ;
oXML
¾
¾
 
.
¾
¾
 
LoadXml
¾
¾
 
(
¾
¾
 
responseXML
¾
¾
 (
)
¾
¾
( )
;
¾
¾
) *
dt
¿
¿
 
=
¿
¿
 
DevolverTabla_XML
¿
¿
 &
(
¿
¿
& '
oXML
¿
¿
' +
,
¿
¿
+ ,
$str
¿
¿
- =
,
¿
¿
= >
$str
¿
¿
? L
,
¿
¿
L M
$str
¿
¿
N V
,
¿
¿
V W
$str
¿
¿
X i
,
¿
¿
i j
$str
¿
¿
k {
,
¿
¿
{ |
$str¿
¿
} 
,¿
¿
 
$str¿
¿
 Ÿ
,¿
¿
Ÿ  
$str¿
¿
¡ ±
)¿
¿
± ²
;¿
¿
² ³
for
Â
Â
 
(
Â
Â
 
int
Â
Â
 
i
Â
Â
 
=
Â
Â
 
$num
Â
Â
 
;
Â
Â
 
i
Â
Â
  !
<=
Â
Â
" $
dt
Â
Â
% '
.
Â
Â
' (
Rows
Â
Â
( ,
.
Â
Â
, -
Count
Â
Â
- 2
-
Â
Â
3 4
$num
Â
Â
5 6
;
Â
Â
6 7
i
Â
Â
8 9
++
Â
Â
9 ;
)
Â
Â
; <
{
Ã
Ã
 
Estado
Ä
Ä
 
=
Ä
Ä
 
(
Ä
Ä
 
string
Ä
Ä
 $
)
Ä
Ä
$ %
dt
Ä
Ä
% '
.
Ä
Ä
' (
Rows
Ä
Ä
( ,
[
Ä
Ä
, -
i
Ä
Ä
- .
]
Ä
Ä
. /
[
Ä
Ä
/ 0
$str
Ä
Ä
0 8
]
Ä
Ä
8 9
;
Ä
Ä
9 :
EmailPaciente
Å
Å
 !
=
Å
Å
" #
(
Å
Å
$ %
string
Å
Å
% +
)
Å
Å
+ ,
dt
Å
Å
, .
.
Å
Å
. /
Rows
Å
Å
/ 3
[
Å
Å
3 4
i
Å
Å
4 5
]
Å
Å
5 6
[
Å
Å
6 7
$str
Å
Å
7 G
]
Å
Å
G H
;
Å
Å
H I
if
Ç
Ç
 
(
Ç
Ç
 
EmailPaciente
Ç
Ç
 %
.
Ç
Ç
% &
ToUpper
Ç
Ç
& -
(
Ç
Ç
- .
)
Ç
Ç
. /
!=
Ç
Ç
0 2
Email_Paciente
Ç
Ç
3 A
.
Ç
Ç
A B
ToUpper
Ç
Ç
B I
(
Ç
Ç
I J
)
Ç
Ç
J K
)
Ç
Ç
K L
{
È
È
 
string
É
É
 
EmailEncriptado
É
É
 .
=
É
É
/ 0
EmailPaciente
É
É
1 >
.
É
É
> ?
	Substring
É
É
? H
(
É
É
H I
$num
É
É
I J
,
É
É
J K
$num
É
É
L M
)
É
É
M N
+
É
É
O P
$str
É
É
Q ^
+
É
É
_ `
EmailPaciente
É
É
a n
.
É
É
n o
	Substring
É
É
o x
(
É
É
x y
EmailPacienteÉ
É
y †
.É
É
† ‡
LastIndexOfÉ
É
‡ ’
(É
É
’ “
$strÉ
É
“ –
)É
É
– —
)É
É
— ˜
;É
É
˜ ™
oXML_Response
Ê
Ê
 %
.
Ê
Ê
% &
RecuperaAcceso
Ê
Ê
& 4
.
Ê
Ê
4 5
DatosAcceso
Ê
Ê
5 @
.
Ê
Ê
@ A
DESC_ESTADO
Ê
Ê
A L
=
Ê
Ê
M N
$strÊ
Ê
O ¯
+Ê
Ê
° ±
EmailEncriptadoÊ
Ê
² Á
;Ê
Ê
Á Â
oXML_Response
Ë
Ë
 %
.
Ë
Ë
% &
RecuperaAcceso
Ë
Ë
& 4
.
Ë
Ë
4 5
DatosAcceso
Ë
Ë
5 @
.
Ë
Ë
@ A
ESTADO
Ë
Ë
A G
=
Ë
Ë
H I
$str
Ë
Ë
J M
;
Ë
Ë
M N
}
Ì
Ì
 
else
Í
Í
 
if
Í
Í
 
(
Í
Í
 
Estado
Í
Í
 #
==
Í
Í
$ &
$str
Í
Í
' *
)
Í
Í
* +
{
Î
Î
 
oXML_Response
Ï
Ï
 %
.
Ï
Ï
% &
RecuperaAcceso
Ï
Ï
& 4
.
Ï
Ï
4 5
DatosAcceso
Ï
Ï
5 @
.
Ï
Ï
@ A
ESTADO
Ï
Ï
A G
=
Ï
Ï
H I
$str
Ï
Ï
J M
;
Ï
Ï
M N
oXML_Response
Ğ
Ğ
 %
.
Ğ
Ğ
% &
RecuperaAcceso
Ğ
Ğ
& 4
.
Ğ
Ğ
4 5
DatosAcceso
Ğ
Ğ
5 @
.
Ğ
Ğ
@ A
DESC_ESTADO
Ğ
Ğ
A L
=
Ğ
Ğ
M N
$str
Ğ
Ğ
O z
;
Ğ
Ğ
z {
string
Ò
Ò
 
ClaveUsuario
Ò
Ò
 +
=
Ò
Ò
, -
(
Ò
Ò
. /
string
Ò
Ò
/ 5
)
Ò
Ò
5 6
dt
Ò
Ò
6 8
.
Ò
Ò
8 9
Rows
Ò
Ò
9 =
[
Ò
Ò
= >
i
Ò
Ò
> ?
]
Ò
Ò
? @
[
Ò
Ò
@ A
$str
Ò
Ò
A P
]
Ò
Ò
P Q
;
Ò
Ò
Q R
string
Ó
Ó
 
MailBody
Ó
Ó
 '
=
Ó
Ó
( )
$strÓ
Ó
* †
+Ó
Ó
‡ ˆ
ClaveUsuarioÓ
Ó
‰ •
+Ó
Ó
– —
$strÓ
Ó
˜ Ÿ
;Ó
Ó
Ÿ  
VariablesGlobales
Õ
Õ
 )
.
Õ
Õ
) *#
OpenConfigWebServices
Õ
Õ
* ?
(
Õ
Õ
? @
VariablesGlobales
Õ
Õ
@ Q
.
Õ
Õ
Q R&
RutaWsAgendaCitasMedisyn
Õ
Õ
R j
)
Õ
Õ
j k
;
Õ
Õ
k l
using
Ö
Ö
 
(
Ö
Ö
 
var
Ö
Ö
 "
oWsTisal
Ö
Ö
# +
=
Ö
Ö
, -
new
Ö
Ö
. 1.
 ServicioReservaHoraWebSoapClient
Ö
Ö
2 R
(
Ö
Ö
R S
VariablesGlobales
Ö
Ö
S d
.
Ö
Ö
d e
Binding
Ö
Ö
e l
,
Ö
Ö
l m
VariablesGlobales
Ö
Ö
n 
.Ö
Ö
 €
EndPointÖ
Ö
€ ˆ
)Ö
Ö
ˆ ‰
)Ö
Ö
‰ Š
{
×
×
 
responseXML
Ø
Ø
 '
=
Ø
Ø
( )
oWsTisal
Ø
Ø
* 2
.
Ø
Ø
2 3
WM_EnvioMailAsync
Ø
Ø
3 D
(
Ø
Ø
D E
Cod_Empresa
Ø
Ø
E P
,
Ø
Ø
P Q
EmailPaciente
Ø
Ø
R _
,
Ø
Ø
_ `
$str
Ø
Ø
a c
,
Ø
Ø
c d
$str
Ø
Ø
e g
,
Ø
Ø
g h
MailBody
Ø
Ø
i q
,
Ø
Ø
q r
$strØ
Ø
s Š
,Ø
Ø
Š ‹
SistemaEnvioØ
Ø
Œ ˜
,Ø
Ø
˜ ™
ResponsableØ
Ø
š ¥
)Ø
Ø
¥ ¦
.Ø
Ø
¦ §
ResultØ
Ø
§ ­
;Ø
Ø
­ ®
}
Ù
Ù
 
VariablesGlobales
Ú
Ú
 )
.
Ú
Ú
) *$
CloseConfigWebServices
Ú
Ú
* @
(
Ú
Ú
@ A
)
Ú
Ú
A B
;
Ú
Ú
B C
}
Û
Û
 
else
Ü
Ü
 
{
İ
İ
 
oXML_Response
Ş
Ş
 %
.
Ş
Ş
% &
RecuperaAcceso
Ş
Ş
& 4
.
Ş
Ş
4 5
DatosAcceso
Ş
Ş
5 @
.
Ş
Ş
@ A
ESTADO
Ş
Ş
A G
=
Ş
Ş
H I
$str
Ş
Ş
J M
;
Ş
Ş
M N
oXML_Response
ß
ß
 %
.
ß
ß
% &
RecuperaAcceso
ß
ß
& 4
.
ß
ß
4 5
DatosAcceso
ß
ß
5 @
.
ß
ß
@ A
DESC_ESTADO
ß
ß
A L
=
ß
ß
M N
$strß
ß
O €
;ß
ß
€ 
}
à
à
 
}
á
á
 
}
â
â
 
else
ã
ã
 
{
ä
ä
 
oXML_Response
å
å
 
.
å
å
 
Mensaje
å
å
 %
=
å
å
& '
new
å
å
( +
Response_XML
å
å
, 8
.
å
å
8 9
XML
å
å
9 <
.
å
å
< =
MensajeE
å
å
= E
(
å
å
E F
)
å
å
F G
;
å
å
G H
oXML_Response
æ
æ
 
.
æ
æ
 
RecuperaAcceso
æ
æ
 ,
.
æ
æ
, -
DatosAcceso
æ
æ
- 8
.
æ
æ
8 9
DESC_ESTADO
æ
æ
9 D
=
æ
æ
E F
$str
æ
æ
G n
;
æ
æ
n o
}
ç
ç
 
responseXML
é
é
 
=
é
é
 
fnSerializeXML
é
é
 (
(
é
é
( )
oXML_Response
é
é
) 6
)
é
é
6 7
;
é
é
7 8
return
ë
ë
 
responseXML
ë
ë
 
;
ë
ë
 
}
ì
ì
 	
public
ó
ó
 
string
ó
ó
 
fnCitaPagado
ó
ó
 "
(
ó
ó
" #
int
ó
ó
# &
pIdeCorrelReserva
ó
ó
' 8
)
ó
ó
8 9
{
ô
ô
 	
string
õ
õ
 
xResult
õ
õ
 
=
õ
õ
 
$str
õ
õ
  
;
õ
õ
  !
try
ö
ö
 
{
÷
÷
 
List
ø
ø
 
<
ø
ø
 
MdsynAmReservaE
ø
ø
 $
>
ø
ø
$ %
oList
ø
ø
& +
=
ø
ø
, -
new
ø
ø
. 1
List
ø
ø
2 6
<
ø
ø
6 7
MdsynAmReservaE
ø
ø
7 F
>
ø
ø
F G
(
ø
ø
G H
)
ø
ø
H I
;
ø
ø
I J
oList
ú
ú
 
=
ú
ú
 
new
ú
ú
 
MdsynAmReservaAD
ú
ú
 ,
(
ú
ú
, -
)
ú
ú
- .
.
ú
ú
. /$
Sp_Mdsyn_Cita_Consulta
ú
ú
/ E
(
ú
ú
E F
new
ú
ú
F I
MdsynAmReservaE
ú
ú
J Y
(
ú
ú
Y Z
$num
ú
ú
Z [
,
ú
ú
[ \
pIdeCorrelReserva
ú
ú
] n
,
ú
ú
n o
$str
ú
ú
p r
,
ú
ú
r s
$str
ú
ú
t v
,
ú
ú
v w
$str
ú
ú
x z
,
ú
ú
z {
$str
ú
ú
| ~
,
ú
ú
~ 
$strú
ú
€ ‚
,ú
ú
‚ ƒ
$strú
ú
„ †
,ú
ú
† ‡
$numú
ú
ˆ Š
.ú
ú
Š ‹
ToStringú
ú
‹ “
(ú
ú
“ ”
)ú
ú
” •
)ú
ú
• –
)ú
ú
– —
;ú
ú
— ˜
if
ü
ü
 
(
ü
ü
 
oList
ü
ü
 
.
ü
ü
 
Count
ü
ü
 
!=
ü
ü
  "
$num
ü
ü
# $
)
ü
ü
$ %
xResult
ı
ı
 
=
ı
ı
 
oList
ı
ı
 #
[
ı
ı
# $
$num
ı
ı
$ %
]
ı
ı
% &
.
ı
ı
& '
EstPago
ı
ı
' .
;
ı
ı
. /
}
ş
ş
 
catch
ÿ
ÿ
 
(
ÿ
ÿ
 
	Exception
ÿ
ÿ
 
ex
ÿ
ÿ
 
)
ÿ
ÿ
  
{
€€ 
throw
 
new
 
	Exception
 #
(
# $
ex
$ &
.
& '
Message
' .
)
. /
;
/ 0
}
‚‚ 
return
ƒƒ 
xResult
ƒƒ 
;
ƒƒ 
}
„„ 	
public
 
List
 
<
 
DatosPacientesE
 #
>
# $#
GetDatosPersonaBoleta
% :
(
: ;
string
; A
pNombres
B J
,
J K
string
L R
pDocIdentidad
S `
,
` a
string
b h
pTipDocIdentidad
i y
,
y z
string{ 
pApiKey‚ ‰
,‰ Š
string‹ ‘
pCodPacienteAud’ ¡
)¡ ¢
{
 	
List
‘‘ 
<
‘‘ 
DatosPacientesE
‘‘  
>
‘‘  !!
oListDatosPacientes
‘‘" 5
=
‘‘6 7
new
‘‘8 ;
List
‘‘< @
<
‘‘@ A
DatosPacientesE
‘‘A P
>
‘‘P Q
(
‘‘Q R
)
‘‘R S
;
‘‘S T
List
’’ 
<
’’ 

PacientesE
’’ 
>
’’ 
oList
’’ "
=
’’# $
new
’’% (
List
’’) -
<
’’- .

PacientesE
’’. 8
>
’’8 9
(
’’9 :
)
’’: ;
;
’’; <

PacientesE
““ 
oPacientesE
““ "
=
““# $
new
““% (

PacientesE
““) 3
(
““3 4
)
““4 5
;
““5 6
oPacientesE
”” 
.
”” 
Nombres
”” 
=
””  !
pNombres
””" *
;
””* +
oPacientesE
•• 
.
•• 
Docidentidad
•• $
=
••% &
pDocIdentidad
••' 4
;
••4 5
oPacientesE
–– 
.
–– 
Tipdocidentidad
–– '
=
––( )
pTipDocIdentidad
––* :
;
––: ;
oPacientesE
—— 
.
—— 
Orden
—— 
=
—— 
$num
——  !
;
——! "
oPacientesE
˜˜ 
.
˜˜  
CodPacienteAuditor
˜˜ *
=
˜˜+ ,
pCodPacienteAud
˜˜- <
;
˜˜< =
if
šš 
(
šš 
fnValidarApiKey
šš 
(
šš  
pApiKey
šš  '
)
šš' (
==
šš) +
true
šš, 0
)
šš0 1
{
›› 
if
œœ 
(
œœ 
(
œœ 
pCodPacienteAud
œœ $
)
œœ$ %
.
œœ% &
Trim
œœ& *
(
œœ* +
)
œœ+ ,
!=
œœ- /
$str
œœ0 2
)
œœ2 3
{
 
oList
ŸŸ 
=
ŸŸ 
new
ŸŸ 
PacientesAD
ŸŸ  +
(
ŸŸ+ ,
)
ŸŸ, -
.
ŸŸ- ./
!Sp_BuscarPacienteTercero_Consulta
ŸŸ. O
(
ŸŸO P
oPacientesE
ŸŸP [
)
ŸŸ[ \
;
ŸŸ\ ]
for
   
(
   
int
   
i
   
=
    
$num
  ! "
;
  " #
i
  $ %
<=
  & (
oList
  ) .
.
  . /
Count
  / 4
-
  5 6
$num
  7 8
;
  8 9
i
  : ;
++
  ; =
)
  = >
{
¡¡ 
{
¢¢ 
var
££ 
	withBlock
££  )
=
££* +
oList
££, 1
[
££1 2
i
££2 3
]
££3 4
;
££4 5!
oListDatosPacientes
¤¤ /
.
¤¤/ 0
Add
¤¤0 3
(
¤¤3 4
new
¤¤4 7
DatosPacientesE
¤¤8 G
(
¤¤G H
	withBlock
¤¤H Q
.
¤¤Q R
Codigo
¤¤R X
,
¤¤X Y
	withBlock
¤¤Z c
.
¤¤c d
Nombres
¤¤d k
,
¤¤k l
	withBlock
¤¤m v
.
¤¤v w
Docidentidad¤¤w ƒ
,¤¤ƒ „
	withBlock¤¤… 
.¤¤ 
	Direccion¤¤ ˜
,¤¤˜ ™
	withBlock¤¤š £
.¤¤£ ¤
Tabla¤¤¤ ©
,¤¤© ª
	withBlock¤¤« ´
.¤¤´ µ
Nombre¤¤µ »
,¤¤» ¼
	withBlock¤¤½ Æ
.¤¤Æ Ç
	ApPaterno¤¤Ç Ğ
,¤¤Ğ Ñ
	withBlock¤¤Ò Û
.¤¤Û Ü
	ApMaterno¤¤Ü å
,¤¤å æ
	withBlock¤¤ç ğ
.¤¤ğ ñ

Parentesco¤¤ñ û
,¤¤û ü
	withBlock¤¤ı †
.¤¤† ‡
Correo¤¤‡ 
,¤¤ 
	withBlock¤¤ ˜
.¤¤˜ ™
Celular¤¤™  
)¤¤  ¡
)¤¤¡ ¢
;¤¤¢ £
}
¥¥ 
}
¦¦ 
}
§§ 
}
¨¨ 
return
ªª !
oListDatosPacientes
ªª &
;
ªª& '
}
«« 	
public
­­ 
class
­­ 
DatosPacientesE
­­ $
{
®® 	
public
¯¯ 
string
¯¯ 
Codigo
¯¯  
{
¯¯! "
get
¯¯# &
;
¯¯& '
set
¯¯( +
;
¯¯+ ,
}
¯¯- .
=
¯¯/ 0
$str
¯¯1 3
;
¯¯3 4
public
°° 
string
°° 
Nombres
°° !
{
°°" #
get
°°$ '
;
°°' (
set
°°) ,
;
°°, -
}
°°. /
=
°°0 1
$str
°°2 4
;
°°4 5
public
±± 
string
±± 
DocIdentidad
±± &
{
±±' (
get
±±) ,
;
±±, -
set
±±. 1
;
±±1 2
}
±±3 4
=
±±5 6
$str
±±7 9
;
±±9 :
public
²² 
string
²² 
	Direccion
²² #
{
²²$ %
get
²²& )
;
²²) *
set
²²+ .
;
²². /
}
²²0 1
=
²²2 3
$str
²²4 6
;
²²6 7
public
³³ 
string
³³ 
Nombre
³³  
{
³³! "
get
³³# &
;
³³& '
set
³³( +
;
³³+ ,
}
³³- .
=
³³/ 0
$str
³³1 3
;
³³3 4
public
´´ 
string
´´ 
	ApPaterno
´´ #
{
´´$ %
get
´´& )
;
´´) *
set
´´+ .
;
´´. /
}
´´0 1
=
´´2 3
$str
´´4 6
;
´´6 7
public
µµ 
string
µµ 
	ApMaterno
µµ #
{
µµ$ %
get
µµ& )
;
µµ) *
set
µµ+ .
;
µµ. /
}
µµ0 1
=
µµ2 3
$str
µµ4 6
;
µµ6 7
public
¶¶ 
string
¶¶ 

Parentesco
¶¶ $
{
¶¶% &
get
¶¶' *
;
¶¶* +
set
¶¶, /
;
¶¶/ 0
}
¶¶1 2
=
¶¶3 4
$str
¶¶5 7
;
¶¶7 8
public
·· 
string
·· 
Correo
··  
{
··! "
get
··# &
;
··& '
set
··( +
;
··+ ,
}
··- .
=
··/ 0
$str
··1 3
;
··3 4
public
¸¸ 
string
¸¸ 
Celular
¸¸ !
{
¸¸" #
get
¸¸$ '
;
¸¸' (
set
¸¸) ,
;
¸¸, -
}
¸¸. /
=
¸¸0 1
$str
¸¸2 4
;
¸¸4 5
public
ºº 
string
ºº 
Tabla
ºº 
{
ºº  !
get
ºº" %
;
ºº% &
set
ºº' *
;
ºº* +
}
ºº, -
=
ºº. /
$str
ºº0 2
;
ºº2 3
public
¼¼ 
DatosPacientesE
¼¼ "
(
¼¼" #
)
¼¼# $
{
½½ 
}
¾¾ 
public
ÀÀ 
DatosPacientesE
ÀÀ "
(
ÀÀ" #
string
ÀÀ# )
pCodigo
ÀÀ* 1
,
ÀÀ1 2
string
ÀÀ3 9
pNombres
ÀÀ: B
,
ÀÀB C
string
ÀÀD J
pDocIdentidad
ÀÀK X
,
ÀÀX Y
string
ÀÀZ `

pDireccion
ÀÀa k
,
ÀÀk l
string
ÀÀm s
pTabla
ÀÀt z
)
ÀÀz {
{
ÁÁ 
Codigo
ÂÂ 
=
ÂÂ 
pCodigo
ÂÂ  
;
ÂÂ  !
Nombres
ÃÃ 
=
ÃÃ 
pNombres
ÃÃ "
;
ÃÃ" #
DocIdentidad
ÄÄ 
=
ÄÄ 
pDocIdentidad
ÄÄ ,
;
ÄÄ, -
	Direccion
ÅÅ 
=
ÅÅ 

pDireccion
ÅÅ &
;
ÅÅ& '
Tabla
ÆÆ 
=
ÆÆ 
pTabla
ÆÆ 
;
ÆÆ 
}
ÇÇ 
public
ÉÉ 
DatosPacientesE
ÉÉ "
(
ÉÉ" #
string
ÉÉ# )
pCodigo
ÉÉ* 1
,
ÉÉ1 2
string
ÉÉ3 9
pNombres
ÉÉ: B
,
ÉÉB C
string
ÉÉD J
pDocIdentidad
ÉÉK X
,
ÉÉX Y
string
ÉÉZ `

pDireccion
ÉÉa k
,
ÉÉk l
string
ÉÉm s
pTabla
ÉÉt z
,
ÉÉz {
stringÉÉ| ‚
pNombreÉÉƒ Š
,ÉÉŠ ‹
stringÉÉŒ ’

pApPaternoÉÉ“ 
,ÉÉ 
stringÉÉŸ ¥

pApMaternoÉÉ¦ °
,ÉÉ° ±
stringÉÉ² ¸
pParentescoÉÉ¹ Ä
,ÉÉÄ Å
stringÉÉÆ Ì
pCorreoÉÉÍ Ô
,ÉÉÔ Õ
stringÉÉÖ Ü
pCelularÉÉİ å
)ÉÉå æ
{
ÊÊ 
Codigo
ËË 
=
ËË 
pCodigo
ËË  
;
ËË  !
Nombres
ÌÌ 
=
ÌÌ 
pNombres
ÌÌ "
;
ÌÌ" #
DocIdentidad
ÍÍ 
=
ÍÍ 
pDocIdentidad
ÍÍ ,
;
ÍÍ, -
	Direccion
ÎÎ 
=
ÎÎ 

pDireccion
ÎÎ &
;
ÎÎ& '
Tabla
ÏÏ 
=
ÏÏ 
pTabla
ÏÏ 
;
ÏÏ 
Nombre
ĞĞ 
=
ĞĞ 
pNombre
ĞĞ  
;
ĞĞ  !
	ApPaterno
ÑÑ 
=
ÑÑ 

pApPaterno
ÑÑ &
;
ÑÑ& '
	ApMaterno
ÒÒ 
=
ÒÒ 

pApMaterno
ÒÒ &
;
ÒÒ& '

Parentesco
ÓÓ 
=
ÓÓ 
pParentesco
ÓÓ (
;
ÓÓ( )
Correo
ÔÔ 
=
ÔÔ 
pCorreo
ÔÔ  
;
ÔÔ  !
Celular
ÕÕ 
=
ÕÕ 
pCelular
ÕÕ "
;
ÕÕ" #
}
ÖÖ 
}
×× 	
public
ÙÙ 

RespuestaE
ÙÙ 
RegistrarCliente
ÙÙ *
(
ÙÙ* +
string
ÙÙ+ 1
PrimerNombre
ÙÙ2 >
,
ÙÙ> ?
string
ÙÙ@ F
SegundoNombre
ÙÙG T
,
ÙÙT U
string
ÙÙV \
	ApPaterno
ÙÙ] f
,
ÙÙf g
string
ÙÙh n
	ApMaterno
ÙÙo x
,
ÙÙx y
stringÙÙz €
DocIdentidadÙÙ 
,ÙÙ 
stringÙÙ •
TipDocIdentidadÙÙ– ¥
,ÙÙ¥ ¦
stringÙÙ§ ­
	DireccionÙÙ® ·
,ÙÙ· ¸
DateTimeÙÙ¹ Á
FechaNacimientoÙÙÂ Ñ
,ÙÙÑ Ò
stringÙÙÓ Ù
TelefonoÙÙÚ â
,ÙÙâ ã
stringÙÙä ê
SexoÙÙë ï
,ÙÙï ğ
stringÙÙñ ÷
CorreoÙÙø ş
,ÙÙş ÿ
stringÙÙ€ †
	CodUbigeoÙÙ‡ 
,ÙÙ ‘
stringÙÙ’ ˜
ApiKeyÙÙ™ Ÿ
,ÙÙŸ  
stringÙÙ¡ §
CodTipoPersonaÙÙ¨ ¶
=ÙÙ· ¸
$strÙÙ¹ ¾
,ÙÙ¾ ¿
stringÙÙÀ Æ
RucÙÙÇ Ê
=ÙÙË Ì
$strÙÙÍ Ï
,ÙÙÏ Ğ
stringÙÙÑ ×
ObservacionesÙÙØ å
=ÙÙæ ç
$strÙÙè ê
,ÙÙê ë
stringÙÙì ò
CodCivilÙÙó û
=ÙÙü ı
$strÙÙş €
)ÙÙ€ 
{
ÚÚ 	

RespuestaE
ÛÛ 
oRespuestaE
ÛÛ "
=
ÛÛ# $
new
ÛÛ% (

RespuestaE
ÛÛ) 3
(
ÛÛ3 4
false
ÛÛ4 9
,
ÛÛ9 :
$str
ÛÛ; =
)
ÛÛ= >
;
ÛÛ> ?
string
ÜÜ 

CodCliente
ÜÜ 
=
ÜÜ 
$str
ÜÜ  "
;
ÜÜ" #
	ClientesE
İİ 

oClientesE
İİ  
=
İİ! "
new
İİ# &
	ClientesE
İİ' 0
(
İİ0 1

CodCliente
İİ1 ;
,
İİ; <
$str
İİ= ?
,
İİ? @
PrimerNombre
İİA M
,
İİM N
SegundoNombre
İİO \
,
İİ\ ]
	ApPaterno
İİ^ g
,
İİg h
	ApMaterno
İİi r
,
İİr s
DocIdentidadİİt €
,İİ€ 
TipDocIdentidadİİ‚ ‘
,İİ‘ ’
	Direccionİİ“ œ
,İİœ 
Telefonoİİ ¦
,İİ¦ §
Sexoİİ¨ ¬
,İİ¬ ­
Correoİİ® ´
,İİ´ µ
	CodUbigeoİİ¶ ¿
,İİ¿ À
FechaNacimientoİİÁ Ğ
,İİĞ Ñ
RucİİÒ Õ
,İİÕ Ö
CodTipoPersonaİİ× å
,İİå æ
Observacionesİİç ô
,İİô õ
CodCivilİİö ş
)İİş ÿ
;İİÿ €
try
ßß 
{
àà 
if
áá 
(
áá 
fnValidarApiKey
áá #
(
áá# $
ApiKey
áá$ *
)
áá* +
==
áá, .
true
áá/ 3
|
áá4 5
CodTipoPersona
áá6 D
==
ááE G
$str
ááH M
)
ááM N
{
ââ 
oRespuestaE
ãã 
.
ãã  
	Respuesta
ãã  )
=
ãã* +
new
ãã, /

ClientesAD
ãã0 :
(
ãã: ;
)
ãã; <
.
ãã< =$
Sp_Clientes_Insert_App
ãã= S
(
ããS T

oClientesE
ããT ^
)
ãã^ _
;
ãã_ `
if
ää 
(
ää 
(
ää 
oRespuestaE
ää $
.
ää$ %
	Respuesta
ää% .
==
ää/ 1
true
ää2 6
)
ää6 7
)
ää7 8
oRespuestaE
åå #
.
åå# $
Descripcion
åå$ /
=
åå0 1
$str
åå2 Z
;
ååZ [
else
ææ 
oRespuestaE
çç #
.
çç# $
Descripcion
çç$ /
=
çç0 1
$str
çç2 h
;
ççh i
}
èè 
else
éé 
oRespuestaE
êê 
=
êê  !
new
êê" %

RespuestaE
êê& 0
(
êê0 1
false
êê1 6
,
êê6 7
$str
êê8 a
)
êêa b
;
êêb c
}
ëë 
catch
ìì 
(
ìì 
	Exception
ìì 
ex
ìì 
)
ìì  
{
íí 
oRespuestaE
ïï 
=
ïï 
new
ïï !

RespuestaE
ïï" ,
(
ïï, -
false
ïï- 2
,
ïï2 3
ex
ïï4 6
.
ïï6 7
Message
ïï7 >
,
ïï> ?
$str
ïï@ J
+
ïïK L
ex
ïïM O
.
ïïO P
Source
ïïP V
+
ïïW X
$str
ïïY j
+
ïïk l
ex
ïïm o
.
ïïo p

StackTrace
ïïp z
)
ïïz {
;
ïï{ |
}
ğğ 
return
òò 
oRespuestaE
òò 
;
òò 
}
óó 	
public
õõ 
TarifaParticular
õõ 
ObtenerTarifa
õõ  -
(
õõ- .
string
õõ. 4
CodProf
õõ5 <
)
õõ< =
{
öö 	
TarifaParticular
÷÷ !
objTarifaParticular
÷÷ 0
=
÷÷1 2
null
÷÷3 7
;
÷÷7 8
List
øø 
<
øø 
MedicosE
øø 
>
øø 
oList
øø  
=
øø! "
new
øø# &
	MedicosAD
øø' 0
(
øø0 1
)
øø1 2
.
øø2 3!
Sp_Medicos_Consulta
øø3 F
(
øøF G
new
øøG J
MedicosE
øøK S
(
øøS T
CodProf
øøT [
,
øø[ \
$num
øø] ^
,
øø^ _
$num
øø` a
,
øøa b
$num
øøc e
)
øøe f
)
øøf g
;
øøg h
if
ùù 
(
ùù 
oList
ùù 
.
ùù 
Count
ùù 
>=
ùù 
$num
ùù  
)
ùù  !
{
úú !
objTarifaParticular
ûû #
=
ûû$ %
new
ûû& )
TarifaParticular
ûû* :
(
ûû: ;
)
ûû; <
;
ûû< =!
objTarifaParticular
üü #
.
üü# $
CodProf
üü$ +
=
üü, -
oList
üü. 3
[
üü3 4
$num
üü4 5
]
üü5 6
.
üü6 7
CodProfMedisyn
üü7 E
;
üüE F!
objTarifaParticular
ıı #
.
ıı# $
Descripcion
ıı$ /
=
ıı0 1
oList
ıı2 7
[
ıı7 8
$num
ıı8 9
]
ıı9 :
.
ıı: ;
DscTituloTarifa
ıı; J
;
ııJ K!
objTarifaParticular
şş #
.
şş# $
MontoTarifa
şş$ /
=
şş0 1
oList
şş2 7
[
şş7 8
$num
şş8 9
]
şş9 :
.
şş: ;!
MntTarifaParticular
şş; N
;
şşN O!
objTarifaParticular
ÿÿ #
.
ÿÿ# $
Moneda
ÿÿ$ *
=
ÿÿ+ ,
oList
ÿÿ- 2
[
ÿÿ2 3
$num
ÿÿ3 4
]
ÿÿ4 5
.
ÿÿ5 6
	TipMoneda
ÿÿ6 ?
;
ÿÿ? @!
objTarifaParticular
€€ #
.
€€# $ 
TipoConsultaMedica
€€$ 6
=
€€7 8
oList
€€9 >
[
€€> ?
$num
€€? @
]
€€@ A
.
€€A B 
TipoConsultaMedica
€€B T
;
€€T U
}
 
return
ƒƒ !
objTarifaParticular
ƒƒ &
;
ƒƒ& '
}
„„ 	
public
†† 
class
†† 
TarifaParticular
†† %
{
‡‡ 	
public
ˆˆ 
string
ˆˆ 
CodProf
ˆˆ !
{
ˆˆ" #
get
ˆˆ$ '
;
ˆˆ' (
set
ˆˆ) ,
;
ˆˆ, -
}
ˆˆ. /
=
ˆˆ0 1
$str
ˆˆ2 4
;
ˆˆ4 5
public
‰‰ 
string
‰‰ 
Descripcion
‰‰ %
{
‰‰& '
get
‰‰( +
;
‰‰+ ,
set
‰‰- 0
;
‰‰0 1
}
‰‰2 3
=
‰‰4 5
$str
‰‰6 8
;
‰‰8 9
public
ŠŠ 
string
ŠŠ 
MontoTarifa
ŠŠ %
{
ŠŠ& '
get
ŠŠ( +
;
ŠŠ+ ,
set
ŠŠ- 0
;
ŠŠ0 1
}
ŠŠ2 3
=
ŠŠ4 5
$str
ŠŠ6 8
;
ŠŠ8 9
public
‹‹ 
string
‹‹ 
Moneda
‹‹  
{
‹‹! "
get
‹‹# &
;
‹‹& '
set
‹‹( +
;
‹‹+ ,
}
‹‹- .
=
‹‹/ 0
$str
‹‹1 3
;
‹‹3 4
public
ŒŒ 
string
ŒŒ  
TipoConsultaMedica
ŒŒ ,
{
ŒŒ- .
get
ŒŒ/ 2
;
ŒŒ2 3
set
ŒŒ4 7
;
ŒŒ7 8
}
ŒŒ9 :
=
ŒŒ; <
$str
ŒŒ= ?
;
ŒŒ? @
public
 
string
  
DscSubEspecialidad
 ,
{
- .
get
/ 2
;
2 3
set
4 7
;
7 8
}
9 :
=
; <
$str
= ?
;
? @
}
 	
public
 
string
 
Insert_HIS_ADT
 $
(
$ %
int
% (
COD_EMPRESA
) 4
,
4 5
string
6 <
COD_SUCURSAL
= I
,
I J
string
K Q
EVENT_ID
R Z
,
Z [
string
\ b
EVENT_DATETIME
c q
,
q r
string
s y
EVENT_TYPE_IDz ‡
,‡ ˆ
string‰ 
ID_PACIENTE ›
,› œ
string £
RUT_PACIENTE¤ °
,° ±
string² ¸
TIPO_PACIENTE¹ Æ
,Æ Ç
stringÈ Î
DEATH_INDICATORÏ Ş
,Ş ß
stringà æ
CAT_NAMEç ï
,ï ğ
stringñ ÷
	LAST_NAMEø 
, ‚
stringƒ ‰

FIRST_NAMEŠ ”
,” •
string– œ

BIRTH_DATE §
,§ ¨
string© ¯

GENDER_KEY° º
,º »
string¼ Â
LAST_UPDATEDÃ Ï
,Ï Ğ
stringÑ ×
STREET_ADDRESSØ æ
,æ ç
stringè î
CITYï ó
,ó ô
stringõ û
COUNTRYü ƒ
,ƒ „
string… ‹
PHONE_NUMBERŒ ˜
,˜ ™
stringš  
PRIMARY¡ ¨
,¨ ©
stringª °!
PATIENT_CLASS_KEY± Â
)Â Ã
{
‘‘ 	
return
’’ 
new
’’ 
Dat
’’ 
.
’’ 
Oracle
’’ !
.
’’! "
	MedisynAD
’’" +
.
’’+ ,
HisADTAD
’’, 4
.
’’4 5
HisADTAD
’’5 =
(
’’= >
)
’’> ?
.
’’? @
Insert_HIS_ADT
’’@ N
(
’’N O
COD_EMPRESA
’’O Z
,
’’Z [
COD_SUCURSAL
’’\ h
,
’’h i
EVENT_ID
’’j r
,
’’r s
EVENT_DATETIME’’t ‚
,’’‚ ƒ
EVENT_TYPE_ID’’„ ‘
,’’‘ ’
ID_PACIENTE’’“ 
,’’ Ÿ
RUT_PACIENTE’’  ¬
,’’¬ ­
TIPO_PACIENTE’’® »
,’’» ¼
DEATH_INDICATOR’’½ Ì
,’’Ì Í
CAT_NAME’’Î Ö
,’’Ö ×
	LAST_NAME’’Ø á
,’’á â

FIRST_NAME’’ã í
,’’í î

BIRTH_DATE’’ï ù
,’’ù ú

GENDER_KEY’’û …
,’’… †
LAST_UPDATED’’‡ “
,’’“ ”
STREET_ADDRESS’’• £
,’’£ ¤
CITY’’¥ ©
,’’© ª
COUNTRY’’« ²
,’’² ³
PHONE_NUMBER’’´ À
,’’À Á
PRIMARY’’Â É
,’’É Ê!
PATIENT_CLASS_KEY’’Ë Ü
)’’Ü İ
;’’İ Ş
}
““ 	
public
•• 
List
•• 
<
•• 
Ent
•• 
.
•• 
Oracle
•• 
.
•• 
MedisynE
•• '
.
••' (

PacientesE
••( 2
.
••2 3
TabPacienteE
••3 ?
>
••? @)
ObtenerGrupoFamiliarPackAge
••A \
(
••\ ]
string
••] c

IdPaciente
••d n
)
••n o
{
–– 	
return
—— 
new
—— 
Dat
—— 
.
—— 
Oracle
—— !
.
——! "
	MedisynAD
——" +
.
——+ ,
PacientesAD
——, 7
.
——7 8
TabPacientesAD
——8 F
(
——F G
)
——G H
.
——H I)
ObtenerGrupoFamiliarPackAge
——I d
(
——d e

IdPaciente
——e o
)
——o p
;
——p q
}
˜˜ 	
public
šš 
class
šš 
Departamentos
šš "
{
›› 	
public
œœ 
string
œœ 
CodDpto
œœ !
{
œœ" #
get
œœ$ '
;
œœ' (
set
œœ) ,
;
œœ, -
}
œœ. /
=
œœ0 1
$str
œœ2 4
;
œœ4 5
public
 
string
 
Descripcion
 %
{
& '
get
( +
;
+ ,
set
- 0
;
0 1
}
2 3
=
4 5
$str
6 8
;
8 9
public
 
Departamentos
  
(
  !
)
! "
{
ŸŸ 
}
   
public
¢¢ 
Departamentos
¢¢  
(
¢¢  !
string
¢¢! '
pCodDpto
¢¢( 0
,
¢¢0 1
string
¢¢2 8
pDescrpicion
¢¢9 E
)
¢¢E F
{
££ 
CodDpto
¤¤ 
=
¤¤ 
pCodDpto
¤¤ "
;
¤¤" #
Descripcion
¥¥ 
=
¥¥ 
pDescrpicion
¥¥ *
;
¥¥* +
}
¦¦ 
}
§§ 	
public
©© 
List
©© 
<
©© 
Departamentos
©© !
>
©©! "!
ObtenerDepatamentos
©©# 6
(
©©6 7
String
©©7 =

CodEmpresa
©©> H
)
©©H I
{
ªª 	
List
«« 
<
«« 
Departamentos
«« 
>
«« 
oList
««  %
=
««& '
new
««( +
List
««, 0
<
««0 1
Departamentos
««1 >
>
««> ?
(
««? @
)
««@ A
;
««A B
DataSet
¬¬ 
ds
¬¬ 
=
¬¬ 
new
¬¬ 
Dat
¬¬  
.
¬¬  !
Oracle
¬¬! '
.
¬¬' (
	MedisynAD
¬¬( 1
.
¬¬1 2
PacientesAD
¬¬2 =
.
¬¬= >
TabPacientesAD
¬¬> L
(
¬¬L M
)
¬¬M N
.
¬¬N O!
ObtenerDepatamentos
¬¬O b
(
¬¬b c

CodEmpresa
¬¬c m
)
¬¬m n
;
¬¬n o
if
®® 
(
®® 
ds
®® 
.
®® 
Tables
®® 
.
®® 
Count
®® 
>=
®®  "
$num
®®# $
)
®®$ %
{
¯¯ 
for
°° 
(
°° 
var
°° 
i
°° 
=
°° 
$num
°° 
;
°° 
i
°°  !
<=
°°" $
ds
°°% '
.
°°' (
Tables
°°( .
[
°°. /
$num
°°/ 0
]
°°0 1
.
°°1 2
Rows
°°2 6
.
°°6 7
Count
°°7 <
-
°°= >
$num
°°? @
;
°°@ A
i
°°B C
++
°°C E
)
°°E F
{
±± 
{
²² 
var
³³ 
	withBlock
³³ %
=
³³& '
ds
³³( *
.
³³* +
Tables
³³+ 1
[
³³1 2
$num
³³2 3
]
³³3 4
.
³³4 5
Rows
³³5 9
[
³³9 :
i
³³: ;
]
³³; <
;
³³< =
oList
µµ 
.
µµ 
Add
µµ !
(
µµ! "
new
µµ" %
Departamentos
µµ& 3
(
µµ3 4
(
µµ4 5
string
µµ5 ;
)
µµ; <
	withBlock
µµ< E
[
µµE F
$str
µµF P
]
µµP Q
,
µµQ R
(
µµS T
string
µµT Z
)
µµZ [
	withBlock
µµ[ d
[
µµd e
$str
µµe p
]
µµp q
)
µµq r
)
µµr s
;
µµs t
}
¶¶ 
}
·· 
}
¸¸ 
return
ºº 
oList
ºº 
;
ºº 
}
»» 	
public
¾¾ 
bool
¾¾ ,
VerificarCitaPacienteMedicoDia
¾¾ 2
(
¾¾2 3
string
¾¾3 9
Fecha_Reserva
¾¾: G
,
¾¾G H
long
¾¾I M
Corr_Horario
¾¾N Z
,
¾¾Z [
long
¾¾\ `
Id_Paciente
¾¾a l
)
¾¾l m
{
¿¿ 	

AmReservaE
ÀÀ 
obj
ÀÀ 
=
ÀÀ 
new
ÀÀ  

AmReservaE
ÀÀ! +
(
ÀÀ+ ,
)
ÀÀ, -
;
ÀÀ- .
obj
ÁÁ 
.
ÁÁ 
FecReserva_String
ÁÁ !
=
ÁÁ" #
Fecha_Reserva
ÁÁ$ 1
;
ÁÁ1 2
obj
ÂÂ 
.
ÂÂ 
CorrelHorario
ÂÂ 
=
ÂÂ 
(
ÂÂ  !
int
ÂÂ! $
)
ÂÂ$ %
Corr_Horario
ÂÂ% 1
;
ÂÂ1 2
obj
ÃÃ 
.
ÃÃ 
IdAmbulatorio
ÃÃ 
=
ÃÃ 
Id_Paciente
ÃÃ  +
.
ÃÃ+ ,
ToString
ÃÃ, 4
(
ÃÃ4 5
)
ÃÃ5 6
;
ÃÃ6 7
return
ÅÅ 
new
ÅÅ 
AmReservaAD
ÅÅ "
(
ÅÅ" #
)
ÅÅ# $
.
ÅÅ$ %,
VerificarCitaPacienteMedicoDia
ÅÅ% C
(
ÅÅC D
obj
ÅÅD G
)
ÅÅG H
;
ÅÅH I
}
ÆÆ 	
public
ÉÉ 
List
ÉÉ 
<
ÉÉ 
AgendaDatos
ÉÉ 
>
ÉÉ  $
ObtieneAgendaXApellido
ÉÉ! 7
(
ÉÉ7 8
int
ÉÉ8 ;
Cod_Empresa
ÉÉ< G
,
ÉÉG H
int
ÉÉI L
Cod_Sucursal
ÉÉM Y
,
ÉÉY Z
string
ÉÉ[ a
ApelPat_prof
ÉÉb n
)
ÉÉn o
{
ÊÊ 	
try
ËË 
{
ÌÌ 
return
ÍÍ 
new
ÍÍ 
AmReservaAD
ÍÍ &
(
ÍÍ& '
)
ÍÍ' (
.
ÍÍ( )$
ObtieneAgendaXApellido
ÍÍ) ?
(
ÍÍ? @
Cod_Empresa
ÍÍ@ K
,
ÍÍK L
Cod_Sucursal
ÍÍM Y
,
ÍÍY Z
ApelPat_prof
ÍÍ[ g
)
ÍÍg h
;
ÍÍh i
}
ÎÎ 
catch
ÏÏ 
(
ÏÏ 
	Exception
ÏÏ 
ex
ÏÏ 
)
ÏÏ  
{
ĞĞ 
throw
ÑÑ 
new
ÑÑ 
	Exception
ÑÑ #
(
ÑÑ# $
$str
ÑÑ$ V
+
ÑÑW X
ex
ÑÑY [
.
ÑÑ[ \
Message
ÑÑ\ c
)
ÑÑc d
;
ÑÑd e
}
ÒÒ 
}
ÓÓ 	
public
àà 
string
àà (
WM_ObtieneReservasPaciente
àà 0
(
àà0 1
string
àà1 7
pCodEmpresa
àà8 C
,
ààC D
string
ààE K
pIdAmbulatorio
ààL Z
,
ààZ [
string
àà\ b
pIdGrupoFamiliar
ààc s
,
ààs t
string
ààu {
pVervisitasàà| ‡
)àà‡ ˆ
{
áá 	
XmlDocument
ââ 
oXML
ââ 
=
ââ 
new
ââ "
XmlDocument
ââ# .
(
ââ. /
)
ââ/ 0
;
ââ0 1
string
ãã 
	stringXml
ãã 
=
ãã 
$str
ãã !
;
ãã! "
string
ää 
responseXml
ää 
=
ää  
$str
ää! #
;
ää# $
string
åå 
stringReserva
åå  
=
åå! "
$str
åå# %
;
åå% &
int
ææ 
j
ææ 
;
ææ 
int
çç 
k
çç 
;
çç 
List
éé 
<
éé 
MdsynDatosPagosE
éé !
>
éé! "
oListDatosE
éé# .
=
éé/ 0
new
éé1 4
List
éé5 9
<
éé9 :
MdsynDatosPagosE
éé: J
>
ééJ K
(
ééK L
)
ééL M
;
ééM N
MdsynDatosPagosE
êê 
oMdsynDatosPagosE
êê .
=
êê/ 0
new
êê1 4
MdsynDatosPagosE
êê5 E
(
êêE F
)
êêF G
;
êêG H
try
ìì 
{
íí 
VariablesGlobales
îî !
.
îî! "#
OpenConfigWebServices
îî" 7
(
îî7 8
VariablesGlobales
îî8 I
.
îîI J&
RutaWsAgendaCitasMedisyn
îîJ b
)
îîb c
;
îîc d
using
ïï 
(
ïï .
 ServicioReservaHoraWebSoapClient
ïï 7
oWsTisal
ïï8 @
=
ïïA B
new
ïïC F.
 ServicioReservaHoraWebSoapClient
ïïG g
(
ïïg h
VariablesGlobales
ïïh y
.
ïïy z
Bindingïïz 
,ïï ‚!
VariablesGlobalesïïƒ ”
.ïï” •
EndPointïï• 
)ïï 
)ïï Ÿ
{
ğğ 
responseXml
ññ 
=
ññ  !
oWsTisal
ññ" *
.
ññ* +-
WM_ObtieneReservasPacienteAsync
ññ+ J
(
ññJ K
Convert
ññK R
.
ññR S
ToInt32
ññS Z
(
ññZ [
pCodEmpresa
ññ[ f
)
ññf g
,
ññg h
Convert
ññi p
.
ññp q
ToInt64
ññq x
(
ññx y
pIdAmbulatorioññy ‡
)ññ‡ ˆ
,ññˆ ‰
ConvertññŠ ‘
.ññ‘ ’
ToInt64ññ’ ™
(ññ™ š 
pIdGrupoFamiliarññš ª
)ññª «
,ññ« ¬
pVervisitasññ­ ¸
)ññ¸ ¹
.ññ¹ º
Resultññº À
;ññÀ Á
}
òò 
VariablesGlobales
óó !
.
óó! "$
CloseConfigWebServices
óó" 8
(
óó8 9
)
óó9 :
;
óó: ;
oXML
õõ 
.
õõ 
LoadXml
õõ 
(
õõ 
responseXml
õõ (
)
õõ( )
;
õõ) *
try
÷÷ 
{
øø 
	DataTable
úú 
dt
úú  
=
úú! "
DevolverTabla_XML
úú# 4
(
úú4 5
oXML
úú5 9
,
úú9 :
$str
úú; M
,
úúM N
$str
úúO V
,
úúV W
$str
úúX `
,
úú` a
$str
úúb q
,
úúq r
$strúús 
,úú ‚
$strúúƒ —
,úú— ˜
$strúú™  
,úú  ¡
$strúú¢ ¬
,úú¬ ­
$strúú® ¾
,úú¾ ¿
$strúúÀ Ñ
,úúÑ Ò
$strúúÓ ß
,úúß à
$strúúá ë
,úúë ì
$strúúí ü
,úúü ı
$strúúş 
)úú ‘
;úú‘ ’
for
üü 
(
üü 
int
üü 
i
üü 
=
üü  
$num
üü! "
;
üü" #
i
üü$ %
<=
üü& (
dt
üü) +
.
üü+ ,
Rows
üü, 0
.
üü0 1
Count
üü1 6
-
üü7 8
$num
üü9 :
;
üü: ;
i
üü< =
++
üü= ?
)
üü? @
{
ıı 
	stringXml
şş !
=
şş" #
	stringXml
şş$ -
+
şş. /
$str
şş0 9
;
şş9 :
	stringXml
ÿÿ !
=
ÿÿ" #
	stringXml
ÿÿ$ -
+
ÿÿ. /
fnStringBodyXML
ÿÿ0 ?
(
ÿÿ? @
dt
ÿÿ@ B
.
ÿÿB C
Rows
ÿÿC G
[
ÿÿG H
i
ÿÿH I
]
ÿÿI J
,
ÿÿJ K
dt
ÿÿL N
.
ÿÿN O
Columns
ÿÿO V
)
ÿÿV W
;
ÿÿW X

AmReservaE
 "
objAmReservaE
# 0
=
1 2
new
3 6

AmReservaE
7 A
(
A B
$num
B C
,
C D
(
E F
string
F L
)
L M
dt
M O
.
O P
Rows
P T
[
T U
i
U V
]
V W
[
W X
$str
X h
]
h i
)
i j
;
j k
objAmReservaE
‚‚ %
=
‚‚& '
new
‚‚( +
AmReservaAD
‚‚, 7
(
‚‚7 8
)
‚‚8 9
.
‚‚9 : 
ObtenerInfoReserva
‚‚: L
(
‚‚L M
objAmReservaE
‚‚M Z
)
‚‚Z [
;
‚‚[ \
	stringXml
ƒƒ !
=
ƒƒ" #
	stringXml
ƒƒ$ -
+
ƒƒ. /
$str
ƒƒ0 B
+
ƒƒC D
objAmReservaE
ƒƒE R
.
ƒƒR S
IdAmbulatorio
ƒƒS `
+
ƒƒa b
$str
ƒƒc v
;
ƒƒv w
	stringXml
„„ !
=
„„" #
	stringXml
„„$ -
+
„„. /
$str
„„0 @
+
„„A B
objAmReservaE
„„C P
.
„„P Q
RutPaciente
„„Q \
+
„„] ^
$str
„„_ p
;
„„p q
	stringXml
…… !
=
……" #
	stringXml
……$ -
+
……. /
$str
……0 ?
+
……@ A
objAmReservaE
……B O
.
……O P
CodSucursal
……P [
.
……[ \
ToString
……\ d
(
……d e
)
……e f
+
……g h
$str
……i y
;
……y z
oMdsynDatosPagosE
‡‡ )
=
‡‡* +&
GetDatosAdicionalesPagos
‡‡, D
(
‡‡D E
(
‡‡E F
string
‡‡F L
)
‡‡L M
dt
‡‡M O
.
‡‡O P
Rows
‡‡P T
[
‡‡T U
i
‡‡U V
]
‡‡V W
[
‡‡W X
$str
‡‡X b
]
‡‡b c
,
‡‡c d
(
‡‡e f
int
‡‡f i
)
‡‡i j
dt
‡‡j l
.
‡‡l m
Rows
‡‡m q
[
‡‡q r
i
‡‡r s
]
‡‡s t
[
‡‡t u
$str‡‡u …
]‡‡… †
)‡‡† ‡
;‡‡‡ ˆ
	stringXml
ˆˆ !
=
ˆˆ" #
	stringXml
ˆˆ$ -
+
ˆˆ. /
$str
ˆˆ0 I
+
ˆˆJ K
oMdsynDatosPagosE
ˆˆL ]
.
ˆˆ] ^
PuedePagarCita
ˆˆ^ l
+
ˆˆm n
$strˆˆo ‰
;ˆˆ‰ Š
	stringXml
‰‰ !
=
‰‰" #
	stringXml
‰‰$ -
+
‰‰. /
$str
‰‰0 H
+
‰‰I J
oMdsynDatosPagosE
‰‰K \
.
‰‰\ ]#
CodTipoConsultaMedica
‰‰] r
+
‰‰s t
$str‰‰u 
;‰‰ 
	stringXml
ŠŠ !
=
ŠŠ" #
	stringXml
ŠŠ$ -
+
ŠŠ. /
$str
ŠŠ0 7
+
ŠŠ8 9
oMdsynDatosPagosE
ŠŠ: K
.
ŠŠK L
EstPagoExitoso
ŠŠL Z
+
ŠŠ[ \
$str
ŠŠ] e
;
ŠŠe f
	stringXml
‹‹ !
=
‹‹" #
	stringXml
‹‹$ -
+
‹‹. /
$str
‹‹0 A
+
‹‹B C
oMdsynDatosPagosE
‹‹D U
.
‹‹U V
TipoAtencion
‹‹V b
+
‹‹c d
$str
‹‹e w
;
‹‹w x
	stringXml
 !
=
" #
	stringXml
$ -
+
. /
$str
0 <
+
= >
(
? @
oMdsynDatosPagosE
@ Q
.
Q R
DscSede
R Y
!=
Z \
$str
] _
?
` a
oMdsynDatosPagosE
b s
.
s t
DscSede
t {
:
| }
objAmReservaE~ ‹
.‹ Œ
DscSucursalŒ —
)— ˜
+™ š
$str› ¨
;¨ ©
	stringXml
 !
=
" #
	stringXml
$ -
+
. /
$str
0 ?
+
@ A
oMdsynDatosPagosE
B S
.
S T
Reprogramar
T _
+
` a
$str
b r
;
r s
	stringXml
 !
=
" #
	stringXml
$ -
+
. /
$str
0 C
+
D E
oMdsynDatosPagosE
F W
.
W X
DscReprogramar
X f
+
g h
$str
i }
;
} ~
	stringXml
’’ !
=
’’" #
	stringXml
’’$ -
+
’’. /
$str
’’0 L
+
’’M N'
fnGetSubEspecialidadDatos
’’O h
(
’’h i
(
’’i j
string
’’j p
)
’’p q
dt
’’q s
.
’’s t
Rows
’’t x
[
’’x y
i
’’y z
]
’’z {
[
’’{ |
$str’’| †
]’’† ‡
)’’‡ ˆ
+’’‰ Š
$str’’‹ ¨
;’’¨ ©
	stringXml
”” !
=
””" #
	stringXml
””$ -
+
””. /
$str
””0 :
;
””: ;
}
•• 
j
—— 
=
—— 
responseXml
—— #
.
——# $
IndexOf
——$ +
(
——+ ,
$str
——, @
)
——@ A
+
——B C
(
——D E
$str
——E Y
)
——Y Z
.
——Z [
Length
——[ a
;
——a b
k
˜˜ 
=
˜˜ 
responseXml
˜˜ #
.
˜˜# $
LastIndexOf
˜˜$ /
(
˜˜/ 0
$str
˜˜0 E
)
˜˜E F
;
˜˜F G
	stringXml
šš 
=
šš 
responseXml
šš  +
.
šš+ ,
	Substring
šš, 5
(
šš5 6
$num
šš6 7
,
šš7 8
j
šš9 :
)
šš: ;
+
šš< =
	stringXml
šš> G
+
ššH I
responseXml
ššJ U
.
ššU V
	Substring
ššV _
(
šš_ `
k
šš` a
)
šša b
;
ššb c
}
›› 
catch
œœ 
(
œœ 
	Exception
œœ  
ex
œœ! #
)
œœ# $
{
 
	stringXml
 
=
 
responseXml
  +
;
+ ,
}
ŸŸ 
oXML
¡¡ 
=
¡¡ 
null
¡¡ 
;
¡¡ 
}
¢¢ 
catch
££ 
(
££ 
	Exception
££ 
ex
££ 
)
££  
{
¤¤ 
	stringXml
¥¥ 
=
¥¥ 
ex
¥¥ 
.
¥¥ 
Message
¥¥ &
+
¥¥' (
$char
¥¥) -
+
¥¥. /
ex
¥¥0 2
.
¥¥2 3

StackTrace
¥¥3 =
;
¥¥= >
}
¦¦ 
return
¨¨ 
	stringXml
¨¨ 
;
¨¨ 
}
©© 	
public
ÅÅ 
string
ÅÅ 
WM_ReservaHora
ÅÅ $
(
ÅÅ$ %
int
ÅÅ% (
Cod_Empresa
ÅÅ) 4
,
ÅÅ4 5
int
ÅÅ6 9
Cod_Sucursal
ÅÅ: F
,
ÅÅF G
int
ÅÅH K
Cod_CentroMedico
ÅÅL \
,
ÅÅ\ ]
int
ÅÅ^ a
Cod_Especialidad
ÅÅb r
,
ÅÅr s
int
ÅÅt w

Cod_UnidadÅÅx ‚
,ÅÅ‚ ƒ
intÅÅ„ ‡

Cod_MedicoÅÅˆ ’
,ÅÅ’ “
intÅÅ” —
Corr_AgendaÅÅ˜ £
,ÅÅ£ ¤
intÅÅ¥ ¨

Cod_IsapreÅÅ© ³
,ÅÅ³ ´
longÅÅµ ¹
BoxÅÅº ½
,ÅÅ½ ¾
boolÅÅ¿ Ã
MultiÅÅÄ É
,ÅÅÉ Ê
longÅÅË Ï#
Id_Paciente_TitularÅÅĞ ã
,ÅÅã ä
longÅÅå é
Id_PacienteÅÅê õ
,ÅÅõ ö
longÅÅ÷ û
Corr_HorarioÅÅü ˆ
,ÅÅˆ ‰
stringÅÅŠ 
Fecha_ReservaÅÅ‘ 
,ÅÅ Ÿ
stringÅÅ  ¦
Hora_ReservaÅÅ§ ³
,ÅÅ³ ´
stringÅÅµ »
Mod_ReservaÅÅ¼ Ç
,ÅÅÇ È
stringÅÅÉ Ï
Prox_HoraLibreÅÅĞ Ş
,ÅÅŞ ß
stringÅÅà æ

IP_ClienteÅÅç ñ
,ÅÅñ ò
stringÅÅó ù
UsuarioÅÅú 
,ÅÅ ‚
stringÅÅƒ ‰ 
Url_VideoLlamadaÅÅŠ š
,ÅÅš ›
stringÅÅœ ¢
TeleMedicinaÅÅ£ ¯
)ÅÅ¯ °
{
ÆÆ 	
XmlDocument
ÇÇ 
oXML
ÇÇ 
=
ÇÇ 
new
ÇÇ "
XmlDocument
ÇÇ# .
(
ÇÇ. /
)
ÇÇ/ 0
;
ÇÇ0 1
string
ÈÈ 
	stringXML
ÈÈ 
=
ÈÈ 
$str
ÈÈ !
;
ÈÈ! "
string
ÉÉ 
responseXML
ÉÉ 
=
ÉÉ  
$str
ÉÉ! #
;
ÉÉ# $
int
ÊÊ 
j
ÊÊ 
;
ÊÊ 
int
ËË 
k
ËË 
;
ËË 
List
ÍÍ 
<
ÍÍ 
MdsynDatosPagosE
ÍÍ !
>
ÍÍ! "
oListDatosE
ÍÍ# .
=
ÍÍ/ 0
new
ÍÍ1 4
List
ÍÍ5 9
<
ÍÍ9 :
MdsynDatosPagosE
ÍÍ: J
>
ÍÍJ K
(
ÍÍK L
)
ÍÍL M
;
ÍÍM N
if
ÏÏ 
(
ÏÏ 
TeleMedicina
ÏÏ 
==
ÏÏ 
$str
ÏÏ  #
)
ÏÏ# $
{
ĞĞ 
if
ÑÑ 
(
ÑÑ 
VariablesGlobales
ÑÑ %
.
ÑÑ% &*
HorarioRestringidoPresencial
ÑÑ& B
!=
ÑÑC E
$str
ÑÑF H
)
ÑÑH I
{
ÒÒ 
if
ÓÓ 
(
ÓÓ 
Convert
ÓÓ 
.
ÓÓ  

ToDateTime
ÓÓ  *
(
ÓÓ* +
Hora_Reserva
ÓÓ+ 7
)
ÓÓ7 8
>=
ÓÓ9 ;
Convert
ÓÓ< C
.
ÓÓC D

ToDateTime
ÓÓD N
(
ÓÓN O
VariablesGlobales
ÓÓO `
.
ÓÓ` a*
HorarioRestringidoPresencial
ÓÓa }
)
ÓÓ} ~
)
ÓÓ~ 
{
ÔÔ 
	stringXML
ÕÕ !
=
ÕÕ" # 
fnReservaHoraError
ÕÕ$ 6
(
ÕÕ6 7
VariablesGlobales
ÕÕ7 H
.
ÕÕH I&
MsjRestringidoPresencial
ÕÕI a
)
ÕÕa b
;
ÕÕb c
return
ÖÖ 
	stringXML
ÖÖ (
;
ÖÖ( )
}
×× 
}
ØØ 
}
ÙÙ 
else
ÚÚ 
if
ÚÚ 
(
ÚÚ 
TeleMedicina
ÚÚ !
==
ÚÚ" $
$str
ÚÚ% (
)
ÚÚ( )
{
ÛÛ 
if
ÜÜ 
(
ÜÜ 
VariablesGlobales
ÜÜ %
.
ÜÜ% &'
HorarioRestringidoVirtual
ÜÜ& ?
!=
ÜÜ@ B
$str
ÜÜC E
)
ÜÜE F
{
İİ 
if
ŞŞ 
(
ŞŞ 
Convert
ŞŞ 
.
ŞŞ  

ToDateTime
ŞŞ  *
(
ŞŞ* +
Hora_Reserva
ŞŞ+ 7
)
ŞŞ7 8
>=
ŞŞ9 ;
Convert
ŞŞ< C
.
ŞŞC D

ToDateTime
ŞŞD N
(
ŞŞN O
VariablesGlobales
ŞŞO `
.
ŞŞ` a'
HorarioRestringidoVirtual
ŞŞa z
)
ŞŞz {
)
ŞŞ{ |
{
ßß 
	stringXML
àà !
=
àà" # 
fnReservaHoraError
àà$ 6
(
àà6 7
VariablesGlobales
àà7 H
.
ààH I#
MsjRestringidoVirtual
ààI ^
)
àà^ _
;
àà_ `
return
áá 
	stringXML
áá (
;
áá( )
}
ââ 
}
ãã 
}
ää 

AmReservaE
ææ 
obj
ææ 
=
ææ 
new
ææ  

AmReservaE
ææ! +
(
ææ+ ,
)
ææ, -
;
ææ- .
obj
çç 
.
çç 
FecReserva_String
çç !
=
çç" #
Fecha_Reserva
çç$ 1
;
çç1 2
obj
èè 
.
èè 
CorrelHorario
èè 
=
èè 
(
èè  !
int
èè! $
)
èè$ %
Corr_Horario
èè% 1
;
èè1 2
obj
éé 
.
éé 
IdAmbulatorio
éé 
=
éé 
Convert
éé  '
.
éé' (
ToString
éé( 0
(
éé0 1
Id_Paciente
éé1 <
)
éé< =
;
éé= >
if
êê 
(
êê 
new
êê 
AmReservaAD
êê 
(
êê  
)
êê  !
.
êê! ",
VerificarCitaPacienteMedicoDia
êê" @
(
êê@ A
obj
êêA D
)
êêD E
==
êêF H
true
êêI M
)
êêM N
{
ëë 
	stringXML
ìì 
=
ìì  
fnReservaHoraError
ìì .
(
ìì. /
$strìì/ ‰
)ìì‰ Š
;ììŠ ‹
return
íí 
	stringXML
íí  
;
íí  !
}
îî 
try
ğğ 
{
ññ 
VariablesGlobales
òò !
.
òò! "#
OpenConfigWebServices
òò" 7
(
òò7 8
VariablesGlobales
òò8 I
.
òòI J&
RutaWsAgendaCitasMedisyn
òòJ b
)
òòb c
;
òòc d
using
óó 
(
óó 
var
óó 
oWsTisal
óó #
=
óó$ %
new
óó& ).
 ServicioReservaHoraWebSoapClient
óó* J
(
óóJ K
VariablesGlobales
óóK \
.
óó\ ]
Binding
óó] d
,
óód e
VariablesGlobales
óóf w
.
óów x
EndPointóóx €
)óó€ 
)óó ‚
{
ôô 
responseXML
õõ 
=
õõ  !
oWsTisal
õõ" *
.
õõ* +!
WM_ReservaHoraAsync
õõ+ >
(
õõ> ?
Cod_Empresa
õõ? J
,
õõJ K
Cod_Sucursal
õõL X
,
õõX Y
Cod_CentroMedico
õõZ j
,
õõj k
Cod_Especialidad
õõl |
,
õõ| }

Cod_Unidadõõ~ ˆ
,õõˆ ‰

Cod_MedicoõõŠ ”
,õõ” •
Corr_Agendaõõ– ¡
,õõ¡ ¢

Cod_Isapreõõ£ ­
,õõ­ ®
Boxõõ¯ ²
,õõ² ³
Multiõõ´ ¹
,õõ¹ º#
Id_Paciente_Titularõõ» Î
,õõÎ Ï
Id_PacienteõõĞ Û
,õõÛ Ü
Corr_Horarioõõİ é
,õõé ê
Fecha_Reservaõõë ø
,õõø ù
Hora_Reservaõõú †
,õõ† ‡
Mod_Reservaõõˆ “
,õõ“ ”
Prox_HoraLibreõõ• £
,õõ£ ¤

IP_Clienteõõ¥ ¯
,õõ¯ °
Usuarioõõ± ¸
)õõ¸ ¹
.õõ¹ º
Resultõõº À
;õõÀ Á
oXML
öö 
.
öö 
LoadXml
öö  
(
öö  !
responseXML
öö! ,
)
öö, -
;
öö- .
try
÷÷ 
{
øø 
MdsynDatosPagosE
ùù (
oMdsynDatosPagosE
ùù) :
=
ùù; <
new
ùù= @
MdsynDatosPagosE
ùùA Q
(
ùùQ R
)
ùùR S
;
ùùS T
	DataTable
úú !
dtReservaHora
úú" /
=
úú0 1
DevolverTabla_XML
úú2 C
(
úúC D
oXML
úúD H
,
úúH I
$str
úúJ W
,
úúW X
$str
úúY h
,
úúh i
$str
úúj 
,úú €
$strúú •
,úú• –
$strúú— ¦
,úú¦ §
$strúú¨ ¶
,úú¶ ·
$strúú¸ É
,úúÉ Ê
$strúúË Û
,úúÛ Ü
$strúúİ ë
,úúë ì
$strúúí ÷
,úú÷ ø
$strúúù 
,úú ‚
$strúúƒ Œ
,úúŒ 
$strúú ›
,úú› œ
$strúú ­
)úú­ ®
;úú® ¯
for
ûû 
(
ûû 
int
ûû  
i
ûû! "
=
ûû# $
$num
ûû% &
;
ûû& '
i
ûû( )
<=
ûû* ,
dtReservaHora
ûû- :
.
ûû: ;
Rows
ûû; ?
.
ûû? @
Count
ûû@ E
-
ûûF G
$num
ûûH I
;
ûûI J
i
ûûK L
++
ûûL N
)
ûûN O
{
üü 
System
ıı "
.
ıı" #
Globalization
ıı# 0
.
ıı0 1
CultureInfo
ıı1 <
ciFechaCita
ıı= H
=
ııI J
new
ııK N
System
ııO U
.
ııU V
Globalization
ııV c
.
ııc d
CultureInfo
ııd o
(
ııo p
$str
ııp w
)
ııw x
;
ııx y
DateTime
şş $
	FechaCita
şş% .
=
şş/ 0
DateTime
şş1 9
.
şş9 :
Parse
şş: ?
(
şş? @
Fecha_Reserva
şş@ M
+
şşN O
$str
şşP S
+
şşT U
Hora_Reserva
şşV b
,
şşb c
ciFechaCita
şşd o
)
şşo p
;
şşp q
	stringXML
€€ %
=
€€& '
	stringXML
€€( 1
+
€€2 3
$str
€€4 E
;
€€E F
	stringXML
 %
=
& '
	stringXML
( 1
+
2 3
fnStringBodyXML
4 C
(
C D
dtReservaHora
D Q
.
Q R
Rows
R V
[
V W
i
W X
]
X Y
,
Y Z
dtReservaHora
[ h
.
h i
Columns
i p
)
p q
;
q r

AmReservaE
ƒƒ &
objAmReservaE
ƒƒ' 4
=
ƒƒ5 6
new
ƒƒ7 :

AmReservaE
ƒƒ; E
(
ƒƒE F
$num
ƒƒF G
,
ƒƒG H
(
ƒƒI J
string
ƒƒJ P
)
ƒƒP Q
dtReservaHora
ƒƒQ ^
.
ƒƒ^ _
Rows
ƒƒ_ c
[
ƒƒc d
i
ƒƒd e
]
ƒƒe f
[
ƒƒf g
$str
ƒƒg |
]
ƒƒ| }
)
ƒƒ} ~
;
ƒƒ~ 
objAmReservaE
„„ )
=
„„* +
new
„„, /
AmReservaAD
„„0 ;
(
„„; <
)
„„< =
.
„„= > 
ObtenerInfoReserva
„„> P
(
„„P Q
objAmReservaE
„„Q ^
)
„„^ _
;
„„_ `
	stringXML
…… %
=
……& '
	stringXML
……( 1
+
……2 3
$str
……4 D
+
……E F
objAmReservaE
……G T
.
……T U
RutPaciente
……U `
+
……a b
$str
……c t
;
……t u
oMdsynDatosPagosE
‡‡ -
=
‡‡. /&
GetDatosAdicionalesPagos
‡‡0 H
(
‡‡H I
Convert
‡‡I P
.
‡‡P Q
ToString
‡‡Q Y
(
‡‡Y Z

Cod_Medico
‡‡Z d
)
‡‡d e
,
‡‡e f
Convert
‡‡g n
.
‡‡n o
ToInt32
‡‡o v
(
‡‡v w
dtReservaHora‡‡w „
.‡‡„ …
Rows‡‡… ‰
[‡‡‰ Š
i‡‡Š ‹
]‡‡‹ Œ
[‡‡Œ 
$str‡‡ ¢
]‡‡¢ £
)‡‡£ ¤
)‡‡¤ ¥
;‡‡¥ ¦
oMdsynDatosPagosE
ˆˆ -
.
ˆˆ- .
IdeCorrelreserva
ˆˆ. >
=
ˆˆ? @
Convert
ˆˆA H
.
ˆˆH I
ToInt32
ˆˆI P
(
ˆˆP Q
dtReservaHora
ˆˆQ ^
.
ˆˆ^ _
Rows
ˆˆ_ c
[
ˆˆc d
i
ˆˆd e
]
ˆˆe f
[
ˆˆf g
$str
ˆˆg |
]
ˆˆ| }
)
ˆˆ} ~
;
ˆˆ~ 
using
ŠŠ !
(
ŠŠ" #
System
ŠŠ# )
.
ŠŠ) *
Transactions
ŠŠ* 6
.
ŠŠ6 7
TransactionScope
ŠŠ7 G
xTrans
ŠŠH N
=
ŠŠO P
new
ŠŠQ T
System
ŠŠU [
.
ŠŠ[ \
Transactions
ŠŠ\ h
.
ŠŠh i
TransactionScope
ŠŠi y
(
ŠŠy z
)
ŠŠz {
)
ŠŠ{ |
{
‹‹ 
try
ŒŒ  #
{
  !
new
$ '!
MdsynVideoLlamadaAD
( ;
(
; <
)
< =
.
= >)
Sp_MdsynVideoLlamada_Insert
> Y
(
Y Z
new
Z ] 
MdsynVideoLlamadaE
^ p
(
p q
$num
q r
,
r s 
oMdsynDatosPagosEt …
.… † 
IdeCorrelreserva† –
,– —
TeleMedicina˜ ¤
,¤ ¥ 
Url_VideoLlamada¦ ¶
)¶ ·
)· ¸
;¸ ¹
new
$ '
MdsynAmReservaAD
( 8
(
8 9
)
9 :
.
: ;&
Sp_MdsynAmReserva_Insert
; S
(
S T
new
T W
MdsynAmReservaE
X g
(
g h
$num
h i
,
i j
oMdsynDatosPagosE
k |
.
| }
IdeCorrelreserva} 
, 
Cod_Sucursal ›
.› œ
ToStringœ ¤
(¤ ¥
)¥ ¦
,¦ §
Id_Paciente¨ ³
.³ ´
ToString´ ¼
(¼ ½
)½ ¾
,¾ ¿
objAmReservaEÀ Í
.Í Î
RutPacienteÎ Ù
,Ù Ú!
oMdsynDatosPagosEÛ ì
.ì í
	CodMedicoí ö
,ö ÷

Cod_Medicoø ‚
.‚ ƒ
ToStringƒ ‹
(‹ Œ
)Œ 
,  
Cod_Especialidad Ÿ
.Ÿ  
ToString  ¨
(¨ ©
)© ª
,ª «
	FechaCita¬ µ
,µ ¶
Usuario· ¾
,¾ ¿
(À Á
TeleMedicinaÁ Í
==Î Ğ
$strÑ Ô
?Õ Ö
$str× Ú
:Û Ü
$strİ à
)à á
)á â
)â ã
;ã ä
oMdsynDatosPagosE
‘‘$ 5
=
‘‘6 7
new
‘‘8 ;
MdsynDatosPagosE
‘‘< L
(
‘‘L M
)
‘‘M N
;
‘‘N O
oMdsynDatosPagosE
’’$ 5
=
’’6 7&
GetDatosAdicionalesPagos
’’8 P
(
’’P Q

Cod_Medico
’’Q [
.
’’[ \
ToString
’’\ d
(
’’d e
)
’’e f
,
’’f g
(
’’h i
int
’’i l
)
’’l m
dtReservaHora
’’m z
.
’’z {
Rows
’’{ 
[’’ €
i’’€ 
]’’ ‚
[’’‚ ƒ
$str’’ƒ ˜
]’’˜ ™
)’’™ š
;’’š ›
oMdsynDatosPagosE
““$ 5
.
““5 6
IdeCorrelreserva
““6 F
=
““G H
(
““I J
int
““J M
)
““M N
dtReservaHora
““N [
.
““[ \
Rows
““\ `
[
““` a
i
““a b
]
““b c
[
““c d
$str
““d y
]
““y z
;
““z {
	stringXML
””$ -
=
””. /
	stringXML
””0 9
+
””: ;
$str
””< U
+
””V W
oMdsynDatosPagosE
””X i
.
””i j
PuedePagarCita
””j x
+
””y z
$str””{ •
;””• –
	stringXML
••$ -
=
••. /
	stringXML
••0 9
+
••: ;
$str
••< T
+
••U V
oMdsynDatosPagosE
••W h
.
••h i#
CodTipoConsultaMedica
••i ~
+•• €
$str•• š
;••š ›
	stringXML
——$ -
=
——. /
	stringXML
——0 9
+
——: ;
$str
——< C
+
——D E
oMdsynDatosPagosE
——F W
.
——W X
EstPagoExitoso
——X f
+
——g h
$str
——i q
;
——q r
	stringXML
™™$ -
=
™™. /
	stringXML
™™0 9
+
™™: ;
$str
™™< N
;
™™N O
j
››$ %
=
››& '
responseXML
››( 3
.
››3 4
IndexOf
››4 ;
(
››; <
$str
››< K
)
››K L
+
››M N
(
››O P
$str
››P _
)
››_ `
.
››` a
Length
››a g
;
››g h
k
œœ$ %
=
œœ& '
responseXML
œœ( 3
.
œœ3 4
LastIndexOf
œœ4 ?
(
œœ? @
$str
œœ@ P
)
œœP Q
;
œœQ R
	stringXML
$ -
=
. /
responseXML
0 ;
.
; <
	Substring
< E
(
E F
$num
F G
,
G H
j
I J
)
J K
+
L M
	stringXML
N W
+
X Y
responseXML
Z e
.
e f
	Substring
f o
(
o p
k
p q
)
q r
;
r s
xTrans
  $ *
.
  * +
Complete
  + 3
(
  3 4
)
  4 5
;
  5 6
}
¡¡  !
catch
¢¢  %
(
¢¢& '
	Exception
¢¢' 0
ex
¢¢1 3
)
¢¢3 4
{
££  !
oWsTisal
¤¤$ ,
.
¤¤, -$
WM_AnulacionHorasAsync
¤¤- C
(
¤¤C D
Cod_Empresa
¤¤D O
,
¤¤O P
Cod_Sucursal
¤¤Q ]
,
¤¤] ^

Cod_Unidad
¤¤_ i
,
¤¤i j

Cod_Medico
¤¤k u
,
¤¤u v
Corr_Agenda¤¤w ‚
,¤¤‚ ƒ 
Cod_Especialidad¤¤„ ”
,¤¤” •
Fecha_Reserva¤¤– £
,¤¤£ ¤
Hora_Reserva¤¤¥ ±
,¤¤± ²!
oMdsynDatosPagosE¤¤³ Ä
.¤¤Ä Å 
IdeCorrelreserva¤¤Å Õ
,¤¤Õ Ö#
Id_Paciente_Titular¤¤× ê
,¤¤ê ë

IP_Cliente¤¤ì ö
,¤¤ö ÷
Usuario¤¤ø ÿ
)¤¤ÿ €
;¤¤€ 
	stringXML
¥¥$ -
=
¥¥. / 
fnReservaHoraError
¥¥0 B
(
¥¥B C
)
¥¥C D
;
¥¥D E
xTrans
§§$ *
.
§§* +
Dispose
§§+ 2
(
§§2 3
)
§§3 4
;
§§4 5
}
¨¨  !
}
©© 
}
ªª 
}
«« 
catch
¬¬ 
(
¬¬ 
	Exception
¬¬ $
ex
¬¬% '
)
¬¬' (
{
­­ 
	stringXML
®® !
=
®®" #
responseXML
®®$ /
;
®®/ 0
}
¯¯ 
}
°° 
VariablesGlobales
±± !
.
±±! "$
CloseConfigWebServices
±±" 8
(
±±8 9
)
±±9 :
;
±±: ;
oXML
³³ 
=
³³ 
null
³³ 
;
³³ 
}
´´ 
catch
µµ 
(
µµ 
	Exception
µµ 
ex
µµ 
)
µµ  
{
¶¶ 
	stringXML
·· 
=
·· 
ex
·· 
.
·· 
Message
·· &
+
··' (
$char
··) -
+
··. /
ex
··0 2
.
··2 3

StackTrace
··3 =
;
··= >
}
¸¸ 
return
ºº 
	stringXML
ºº 
;
ºº 
}
»» 	
public
ĞĞ 
string
ĞĞ 
WM_AnulacionHoras
ĞĞ '
(
ĞĞ' (
int
ĞĞ( +
Cod_Empresa
ĞĞ, 7
,
ĞĞ7 8
int
ĞĞ9 <
Cod_Sucursal
ĞĞ= I
,
ĞĞI J
int
ĞĞK N

Cod_Unidad
ĞĞO Y
,
ĞĞY Z
int
ĞĞ[ ^
Cod_Profesional
ĞĞ_ n
,
ĞĞn o
int
ĞĞp s
Corr_Agenda
ĞĞt 
,ĞĞ €
intĞĞ „ 
Cod_EspecialidadĞĞ… •
,ĞĞ• –
stringĞĞ— 
Fecha_ReservaĞĞ «
,ĞĞ« ¬
stringĞĞ­ ³
Hora_ReservaĞĞ´ À
,ĞĞÀ Á
intĞĞÂ Å
mvarIDReservaĞĞÆ Ó
,ĞĞÓ Ô
intĞĞÕ Ø"
Id_PacienteTitularĞĞÙ ë
,ĞĞë ì
stringĞĞí ó

IP_ClienteĞĞô ş
,ĞĞş ÿ
stringĞĞ€ †
UsuarioĞĞ‡ 
)ĞĞ 
{
ÑÑ 	
string
ÒÒ 
	stringXML
ÒÒ 
=
ÒÒ 
$str
ÒÒ !
;
ÒÒ! "
try
ÔÔ 
{
ÕÕ 

RespuestaE
ÖÖ 

oRespuesta
ÖÖ %
=
ÖÖ& '"
ValidarAnulacionCita
ÖÖ( <
(
ÖÖ< =
mvarIDReserva
ÖÖ= J
)
ÖÖJ K
;
ÖÖK L
if
ÙÙ 
(
ÙÙ 

oRespuesta
ÙÙ 
.
ÙÙ 
	Respuesta
ÙÙ (
==
ÙÙ) +
false
ÙÙ, 1
)
ÙÙ1 2
throw
ÚÚ 
new
ÚÚ 
	Exception
ÚÚ '
(
ÚÚ' (

oRespuesta
ÚÚ( 2
.
ÚÚ2 3
Descripcion
ÚÚ3 >
)
ÚÚ> ?
;
ÚÚ? @
else
ÛÛ 
{
ÜÜ 
VariablesGlobales
İİ %
.
İİ% &#
OpenConfigWebServices
İİ& ;
(
İİ; <
VariablesGlobales
İİ< M
.
İİM N&
RutaWsAgendaCitasMedisyn
İİN f
)
İİf g
;
İİg h
using
ßß 
(
ßß 
var
ßß 
oWsTisal
ßß '
=
ßß( )
new
ßß* -.
 ServicioReservaHoraWebSoapClient
ßß. N
(
ßßN O
VariablesGlobales
ßßO `
.
ßß` a
Binding
ßßa h
,
ßßh i
VariablesGlobales
ßßj {
.
ßß{ |
EndPointßß| „
)ßß„ …
)ßß… †
{
àà 
	stringXML
ââ !
=
ââ" #
Convert
ââ$ +
.
ââ+ ,
ToString
ââ, 4
(
ââ4 5
oWsTisal
ââ5 =
.
ââ= >$
WM_AnulacionHorasAsync
ââ> T
(
ââT U
Cod_Empresa
ââU `
,
ââ` a
Cod_Sucursal
ââb n
,
âân o

Cod_Unidad
ââp z
,
ââz {
Cod_Profesionalââ| ‹
,ââ‹ Œ
Corr_Agenda
ããD O
,
ããO P
Cod_Especialidad
ããQ a
,
ããa b
Fecha_Reserva
ããc p
,
ããp q
Hora_Reserva
ããr ~
,
ãã~ 
mvarIDReserva
ääD Q
,
ääQ R 
Id_PacienteTitular
ääS e
,
ääe f

IP_Cliente
ääg q
,
ääq r
Usuario
ääs z
)
ääz {
.
ää{ |
ToStringää| „
(ää„ …
)ää… †
)ää† ‡
;ää‡ ˆ
MdsynDatosPagosE
ææ (
oMdsynDatosPagosE
ææ) :
=
ææ; <
new
ææ= @
MdsynDatosPagosE
ææA Q
(
ææQ R
$num
ææR S
,
ææS T
$str
ææU X
,
ææX Y
$str
ææZ u
)
ææu v
{
çç 
IdeDatospagos
èè )
=
èè* +
System
èè, 2
.
èè2 3
Convert
èè3 :
.
èè: ;
ToInt32
èè; B
(
èèB C
mvarIDReserva
èèC P
)
èèP Q
}
éé 
;
éé 
new
ëë 
MdsynDatosPagosAD
ëë -
(
ëë- .
)
ëë. /
.
ëë/ 0-
Sp_MdsynDatosPagos_UpdatexCampo
ëë0 O
(
ëëO P
oMdsynDatosPagosE
ëëP a
)
ëëa b
;
ëëb c
new
ìì 
MdsynAmReservaAD
ìì ,
(
ìì, -
)
ìì- .
.
ìì. /"
Sp_Mdsyn_Cita_Update
ìì/ C
(
ììC D
new
ììD G
MdsynAmReservaE
ììH W
(
ììW X
$num
ììX Y
,
ììY Z
mvarIDReserva
ìì[ h
,
ììh i
$str
ììj l
,
ììl m
$str
ììn p
,
ììp q
$str
ììr t
,
ììt u
$str
ììv x
,
ììx y
$str
ììz |
,
ìì| }
$strìì~ €
,ìì€ 
DateTimeìì‚ Š
.ììŠ ‹
Nowìì‹ 
,ìì 
$strìì ’
,ìì’ “
$numìì” •
,ìì• –
$strìì— ™
,ìì™ š
$strìì› ³
,ìì³ ´
$numììµ ¶
,ìì¶ ·
$strìì¸ »
)ìì» ¼
)ìì¼ ½
;ìì½ ¾
}
îî 
VariablesGlobales
ğğ %
.
ğğ% &$
CloseConfigWebServices
ğğ& <
(
ğğ< =
)
ğğ= >
;
ğğ> ?
}
ññ 
}
òò 
catch
óó 
(
óó 
	Exception
óó 
ex
óó 
)
óó  
{
ôô 
	stringXML
õõ 
=
õõ &
stringXML_AnulacionHoras
õõ 4
(
õõ4 5
ex
õõ5 7
.
õõ7 8
Message
õõ8 ?
)
õõ? @
;
õõ@ A
}
öö 
return
øø 
	stringXML
øø 
;
øø 
}
ùù 	
public
ƒƒ 
string
ƒƒ '
WM_ObtenerAgendaXApellido
ƒƒ /
(
ƒƒ/ 0
int
ƒƒ0 3
Cod_Empresa
ƒƒ4 ?
,
ƒƒ? @
int
ƒƒA D
Cod_Sucursal
ƒƒE Q
,
ƒƒQ R
string
ƒƒS Y
ApelPat_prof
ƒƒZ f
)
ƒƒf g
{
„„ 	
string
…… 
	stringXML
…… 
=
…… 
$str
…… !
;
……! "
string
†† 
responseXML
†† 
=
††  
$str
††! #
;
††# $
int
‡‡ 
j
‡‡ 
=
‡‡ 
$num
‡‡ 
;
‡‡ 
int
ˆˆ 
k
ˆˆ 
=
ˆˆ 
$num
ˆˆ 
;
ˆˆ 
bool
‰‰ 
xResult
‰‰ 
=
‰‰ 
false
‰‰  
;
‰‰  !
try
‹‹ 
{
ŒŒ 
string
 
	NodoLista
  
=
! "
$str
# 3
;
3 4
VariablesGlobales
 !
.
! "#
OpenConfigWebServices
" 7
(
7 8
VariablesGlobales
8 I
.
I J&
RutaWsAgendaCitasMedisyn
J b
)
b c
;
c d
if
‘‘ 
(
‘‘ 
Cod_Sucursal
‘‘  
==
‘‘! #
$num
‘‘$ %
)
‘‘% &
{
’’ 
using
““ 
(
““ 
var
““ 
oWsTisal
““ '
=
““( )
new
““* -.
 ServicioReservaHoraWebSoapClient
““. N
(
““N O
VariablesGlobales
““O `
.
““` a
Binding
““a h
,
““h i
VariablesGlobales
““j {
.
““{ |
EndPoint““| „
)““„ …
)““… †
{
”” 
responseXML
•• #
=
••$ %
oWsTisal
••& .
.
••. /,
WM_ObtenerAgendaXApellidoAsync
••/ M
(
••M N
Cod_Empresa
••N Y
,
••Y Z
$num
••[ \
,
••\ ]
ApelPat_prof
••^ j
)
••j k
.
••k l
Result
••l r
;
••r s
	stringXML
–– !
=
––" #
	stringXML
––$ -
+
––. /*
fnAgendaApellidoEspecialidad
––0 L
(
––L M
responseXML
––M X
,
––X Y
	NodoLista
––Z c
,
––c d
ApelPat_prof
––e q
,
––q r
TipoMetodoAgenda––s ƒ
.––ƒ „)
WM_ObtenerAgendaXApellido––„ 
,–– "
TipoConsultaMedica––Ÿ ±
.––± ²
TeleConsulta––² ¾
)––¾ ¿
;––¿ À
if
—— 
(
—— 
	stringXML
—— %
!=
——& (
$str
——) +
)
——+ ,
xResult
˜˜ #
=
˜˜$ %
true
˜˜& *
;
˜˜* +
responseXML
šš #
=
šš$ %
oWsTisal
šš& .
.
šš. /,
WM_ObtenerAgendaXApellidoAsync
šš/ M
(
ššM N
Cod_Empresa
ššN Y
,
ššY Z
$num
šš[ \
,
šš\ ]
ApelPat_prof
šš^ j
)
ššj k
.
ššk l
Result
ššl r
;
ššr s
	stringXML
›› !
=
››" #
	stringXML
››$ -
+
››. /*
fnAgendaApellidoEspecialidad
››0 L
(
››L M
responseXML
››M X
,
››X Y
	NodoLista
››Z c
,
››c d
ApelPat_prof
››e q
,
››q r
TipoMetodoAgenda››s ƒ
.››ƒ „)
WM_ObtenerAgendaXApellido››„ 
,›› "
TipoConsultaMedica››Ÿ ±
.››± ²
TeleConsulta››² ¾
)››¾ ¿
;››¿ À
if
œœ 
(
œœ 
	stringXML
œœ %
!=
œœ& (
$str
œœ) +
)
œœ+ ,
xResult
 #
=
$ %
true
& *
;
* +
j
ŸŸ 
=
ŸŸ 
responseXML
ŸŸ '
.
ŸŸ' (
IndexOf
ŸŸ( /
(
ŸŸ/ 0
$str
ŸŸ0 3
+
ŸŸ4 5
	NodoLista
ŸŸ6 ?
+
ŸŸ@ A
$str
ŸŸB E
)
ŸŸE F
+
ŸŸG H
(
ŸŸI J
$str
ŸŸJ M
+
ŸŸN O
	NodoLista
ŸŸP Y
+
ŸŸZ [
$str
ŸŸ\ _
)
ŸŸ_ `
.
ŸŸ` a
Length
ŸŸa g
;
ŸŸg h
k
   
=
   
responseXML
   '
.
  ' (
LastIndexOf
  ( 3
(
  3 4
$str
  4 8
+
  9 :
	NodoLista
  ; D
+
  E F
$str
  G J
)
  J K
;
  K L
if
¢¢ 
(
¢¢ 
xResult
¢¢ #
==
¢¢$ &
true
¢¢' +
)
¢¢+ ,
	stringXML
££ %
=
££& '
responseXML
££( 3
.
££3 4
	Substring
££4 =
(
££= >
$num
££> ?
,
££? @
j
££A B
)
££B C
+
££D E
	stringXML
££F O
+
££P Q
responseXML
££R ]
.
££] ^
	Substring
££^ g
(
££g h
k
££h i
)
££i j
;
££j k
else
¤¤ 
	stringXML
¥¥ %
=
¥¥& '7
)stringXML_ErrorAgendaApellidoEspecialidad
¥¥( Q
(
¥¥Q R
)
¥¥R S
;
¥¥S T
}
¦¦ 
}
§§ 
else
¨¨ 
using
©© 
(
©© 
var
©© 
oWsTisal
©© '
=
©©( )
new
©©* -.
 ServicioReservaHoraWebSoapClient
©©. N
(
©©N O
VariablesGlobales
©©O `
.
©©` a
Binding
©©a h
,
©©h i
VariablesGlobales
©©j {
.
©©{ |
EndPoint©©| „
)©©„ …
)©©… †
{
ªª 
responseXML
«« #
=
««$ %
oWsTisal
««& .
.
««. /,
WM_ObtenerAgendaXApellidoAsync
««/ M
(
««M N
Cod_Empresa
««N Y
,
««Y Z
Cod_Sucursal
««[ g
,
««g h
ApelPat_prof
««i u
)
««u v
.
««v w
Result
««w }
;
««} ~
if
­­ 
(
­­ 
Cod_Sucursal
­­ (
==
­­) +
$num
­­, -
)
­­- .
	stringXML
®® %
=
®®& '
	stringXML
®®( 1
+
®®2 3*
fnAgendaApellidoEspecialidad
®®4 P
(
®®P Q
responseXML
®®Q \
,
®®\ ]
	NodoLista
®®^ g
,
®®g h
ApelPat_prof
®®i u
,
®®u v
TipoMetodoAgenda®®w ‡
.®®‡ ˆ)
WM_ObtenerAgendaXApellido®®ˆ ¡
,®®¡ ¢"
TipoConsultaMedica®®£ µ
.®®µ ¶
PresencialCM®®¶ Â
)®®Â Ã
;®®Ã Ä
else
¯¯ 
if
¯¯ 
(
¯¯  !
Cod_Sucursal
¯¯! -
==
¯¯. 0
$num
¯¯1 2
)
¯¯2 3
	stringXML
°° %
=
°°& '
	stringXML
°°( 1
+
°°2 3*
fnAgendaApellidoEspecialidad
°°4 P
(
°°P Q
responseXML
°°Q \
,
°°\ ]
	NodoLista
°°^ g
,
°°g h
ApelPat_prof
°°i u
,
°°u v
TipoMetodoAgenda°°w ‡
.°°‡ ˆ)
WM_ObtenerAgendaXApellido°°ˆ ¡
,°°¡ ¢"
TipoConsultaMedica°°£ µ
.°°µ ¶
PresencialJM°°¶ Â
)°°Â Ã
;°°Ã Ä
if
²² 
(
²² 
	stringXML
²² %
==
²²& (
$str
²²) +
)
²²+ ,
	stringXML
³³ %
=
³³& '
responseXML
³³( 3
;
³³3 4
else
´´ 
{
µµ 
j
¶¶ 
=
¶¶ 
responseXML
¶¶  +
.
¶¶+ ,
IndexOf
¶¶, 3
(
¶¶3 4
$str
¶¶4 7
+
¶¶8 9
	NodoLista
¶¶: C
+
¶¶D E
$str
¶¶F I
)
¶¶I J
+
¶¶K L
(
¶¶M N
$str
¶¶N Q
+
¶¶R S
	NodoLista
¶¶T ]
+
¶¶^ _
$str
¶¶` c
)
¶¶c d
.
¶¶d e
Length
¶¶e k
;
¶¶k l
k
·· 
=
·· 
responseXML
··  +
.
··+ ,
LastIndexOf
··, 7
(
··7 8
$str
··8 <
+
··= >
	NodoLista
··? H
+
··I J
$str
··K N
)
··N O
;
··O P
	stringXML
¹¹ %
=
¹¹& '
responseXML
¹¹( 3
.
¹¹3 4
	Substring
¹¹4 =
(
¹¹= >
$num
¹¹> ?
,
¹¹? @
j
¹¹A B
)
¹¹B C
+
¹¹D E
	stringXML
¹¹F O
+
¹¹P Q
responseXML
¹¹R ]
.
¹¹] ^
	Substring
¹¹^ g
(
¹¹g h
k
¹¹h i
)
¹¹i j
;
¹¹j k
}
ºº 
}
»» 
VariablesGlobales
½½ !
.
½½! "$
CloseConfigWebServices
½½" 8
(
½½8 9
)
½½9 :
;
½½: ;
}
¾¾ 
catch
¿¿ 
(
¿¿ 
	Exception
¿¿ 
ex
¿¿ 
)
¿¿  
{
ÀÀ 
	stringXML
ÁÁ 
=
ÁÁ 
ex
ÁÁ 
.
ÁÁ 
Message
ÁÁ &
+
ÁÁ' (
(
ÁÁ) *
char
ÁÁ* .
)
ÁÁ. /
$num
ÁÁ/ 1
+
ÁÁ2 3
ex
ÁÁ4 6
.
ÁÁ6 7

StackTrace
ÁÁ7 A
;
ÁÁA B
}
ÂÂ 
return
ÄÄ 
	stringXML
ÄÄ 
;
ÄÄ 
}
ÅÅ 	
public
ÏÏ 
string
ÏÏ *
WM_ObtenerAgendaEspecialidad
ÏÏ 2
(
ÏÏ2 3
int
ÏÏ3 6
Cod_Empresa
ÏÏ7 B
,
ÏÏB C
int
ÏÏD G
Cod_Sucursal
ÏÏH T
,
ÏÏT U
int
ÏÏV Y
Cod_Especialidad
ÏÏZ j
)
ÏÏj k
{
ĞĞ 	
XmlDocument
ÑÑ 
oXML
ÑÑ 
=
ÑÑ 
new
ÑÑ "
XmlDocument
ÑÑ# .
(
ÑÑ. /
)
ÑÑ/ 0
;
ÑÑ0 1
string
ÒÒ 
	stringXML
ÒÒ 
=
ÒÒ 
$str
ÒÒ !
;
ÒÒ! "
string
ÓÓ 
responseXML
ÓÓ 
=
ÓÓ  
$str
ÓÓ! #
;
ÓÓ# $
bool
ÔÔ 
xResult
ÔÔ 
=
ÔÔ 
false
ÔÔ  
;
ÔÔ  !
try
ÖÖ 
{
×× 
string
ØØ 
	NodoLista
ØØ  
=
ØØ! "
$str
ØØ# 7
;
ØØ7 8
VariablesGlobales
ÚÚ !
.
ÚÚ! "#
OpenConfigWebServices
ÚÚ" 7
(
ÚÚ7 8
VariablesGlobales
ÚÚ8 I
.
ÚÚI J&
RutaWsAgendaCitasMedisyn
ÚÚJ b
)
ÚÚb c
;
ÚÚc d
if
ÜÜ 
(
ÜÜ 
Cod_Sucursal
ÜÜ  
==
ÜÜ! #
$num
ÜÜ$ %
)
ÜÜ% &
{
İİ 
using
ŞŞ 
(
ŞŞ 
var
ŞŞ 
oWsTisal
ŞŞ '
=
ŞŞ( )
new
ŞŞ* -.
 ServicioReservaHoraWebSoapClient
ŞŞ. N
(
ŞŞN O
VariablesGlobales
ŞŞO `
.
ŞŞ` a
Binding
ŞŞa h
,
ŞŞh i
VariablesGlobales
ŞŞj {
.
ŞŞ{ |
EndPointŞŞ| „
)ŞŞ„ …
)ŞŞ… †
{
ßß 
responseXML
àà #
=
àà$ %
oWsTisal
àà& .
.
àà. //
!WM_ObtenerAgendaEspecialidadAsync
àà/ P
(
ààP Q
Cod_Empresa
ààQ \
,
àà\ ]
$num
àà^ _
,
àà_ `
Cod_Especialidad
ààa q
)
ààq r
.
ààr s
Result
ààs y
;
àày z
	stringXML
áá !
=
áá" #
	stringXML
áá$ -
+
áá. /*
fnAgendaApellidoEspecialidad
áá0 L
(
ááL M
responseXML
ááM X
,
ááX Y
	NodoLista
ááZ c
,
áác d
$str
ááe g
,
áág h
TipoMetodoAgenda
áái y
.
ááy z+
WM_ObtenerAgendaEspecialidadááz –
,áá– —"
TipoConsultaMedicaáá˜ ª
.ááª «
TeleConsultaáá« ·
)áá· ¸
;áá¸ ¹
if
ââ 
(
ââ 
	stringXML
ââ %
!=
ââ& (
$str
ââ) +
)
ââ+ ,
xResult
ãã #
=
ãã$ %
true
ãã& *
;
ãã* +
responseXML
åå #
=
åå$ %
oWsTisal
åå& .
.
åå. //
!WM_ObtenerAgendaEspecialidadAsync
åå/ P
(
ååP Q
Cod_Empresa
ååQ \
,
åå\ ]
$num
åå^ _
,
åå_ `
Cod_Especialidad
ååa q
)
ååq r
.
åår s
Result
åås y
;
ååy z
	stringXML
ææ !
=
ææ" #
	stringXML
ææ$ -
+
ææ. /*
fnAgendaApellidoEspecialidad
ææ0 L
(
ææL M
responseXML
ææM X
,
ææX Y
	NodoLista
ææZ c
,
ææc d
$str
ææe g
,
ææg h
TipoMetodoAgenda
ææi y
.
ææy z+
WM_ObtenerAgendaEspecialidadææz –
,ææ– —"
TipoConsultaMedicaææ˜ ª
.ææª «
TeleConsultaææ« ·
)ææ· ¸
;ææ¸ ¹
if
çç 
(
çç 
	stringXML
çç %
!=
çç& (
$str
çç) +
)
çç+ ,
xResult
èè #
=
èè$ %
true
èè& *
;
èè* +
}
éé 
}
êê 
else
ëë 
using
ìì 
(
ìì 
var
ìì 
oWsTisal
ìì '
=
ìì( )
new
ìì* -.
 ServicioReservaHoraWebSoapClient
ìì. N
(
ììN O
VariablesGlobales
ììO `
.
ìì` a
Binding
ììa h
,
ììh i
VariablesGlobales
ììj {
.
ìì{ |
EndPointìì| „
)ìì„ …
)ìì… †
{
íí 
responseXML
îî #
=
îî$ %
oWsTisal
îî& .
.
îî. //
!WM_ObtenerAgendaEspecialidadAsync
îî/ P
(
îîP Q
Cod_Empresa
îîQ \
,
îî\ ]
Cod_Sucursal
îî^ j
,
îîj k
Cod_Especialidad
îîl |
)
îî| }
.
îî} ~
Resultîî~ „
;îî„ …
if
ğğ 
(
ğğ 
Cod_Sucursal
ğğ (
==
ğğ) +
$num
ğğ, -
)
ğğ- .
	stringXML
ññ %
=
ññ& '
	stringXML
ññ( 1
+
ññ2 3*
fnAgendaApellidoEspecialidad
ññ4 P
(
ññP Q
responseXML
ññQ \
,
ññ\ ]
	NodoLista
ññ^ g
,
ññg h
$str
ññi k
,
ññk l
TipoMetodoAgenda
ññm }
.
ññ} ~+
WM_ObtenerAgendaEspecialidadññ~ š
,ññš ›"
TipoConsultaMedicaññœ ®
.ññ® ¯
PresencialCMññ¯ »
)ññ» ¼
;ññ¼ ½
else
òò 
if
òò 
(
òò  !
Cod_Sucursal
òò! -
==
òò. 0
$num
òò1 2
)
òò2 3
	stringXML
óó %
=
óó& '
	stringXML
óó( 1
+
óó2 3*
fnAgendaApellidoEspecialidad
óó4 P
(
óóP Q
responseXML
óóQ \
,
óó\ ]
	NodoLista
óó^ g
,
óóg h
$str
óói k
,
óók l
TipoMetodoAgenda
óóm }
.
óó} ~+
WM_ObtenerAgendaEspecialidadóó~ š
,óóš ›"
TipoConsultaMedicaóóœ ®
.óó® ¯
PresencialJMóó¯ »
)óó» ¼
;óó¼ ½
}
ôô 
if
öö 
(
öö 
	stringXML
öö 
!=
öö  
$str
öö! #
)
öö# $
	stringXML
÷÷ 
=
÷÷ 
$str
÷÷  ;
+
÷÷< =
	stringXML
÷÷> G
+
÷÷H I
$str÷÷J ø
;÷÷ø ù
else
øø 
	stringXML
ùù 
=
ùù 7
)stringXML_ErrorAgendaApellidoEspecialidad
ùù  I
(
ùùI J
)
ùùJ K
;
ùùK L
VariablesGlobales
ûû !
.
ûû! "$
CloseConfigWebServices
ûû" 8
(
ûû8 9
)
ûû9 :
;
ûû: ;
}
üü 
catch
ıı 
(
ıı 
	Exception
ıı 
ex
ıı 
)
ıı  
{
şş 
	stringXML
ÿÿ 
=
ÿÿ 
ex
ÿÿ 
.
ÿÿ 
Message
ÿÿ &
+
ÿÿ' (
(
ÿÿ) *
char
ÿÿ* .
)
ÿÿ. /
$num
ÿÿ/ 1
+
ÿÿ2 3
ex
ÿÿ4 6
.
ÿÿ6 7

StackTrace
ÿÿ7 A
;
ÿÿA B
}
€€ 
return
‚‚ 
	stringXML
‚‚ 
;
‚‚ 
}
ƒƒ 	
public
…… 
string
…… &
WM_ObtenerEspecialidades
…… .
(
……. /
int
……/ 2
Cod_Empresa
……3 >
,
……> ?
int
……@ C
Cod_Sucursal
……D P
,
……P Q
string
……R X
Vigencia
……Y a
,
……a b
string
……c i
Internet
……j r
)
……r s
{
†† 	
XmlDocument
‡‡ 
oXML
‡‡ 
=
‡‡ 
new
‡‡ "
XmlDocument
‡‡# .
(
‡‡. /
)
‡‡/ 0
;
‡‡0 1
string
ˆˆ 
	stringXML
ˆˆ 
=
ˆˆ 
$str
ˆˆ !
;
ˆˆ! "
string
‰‰ 
responseXML
‰‰ 
=
‰‰  
$str
‰‰! #
;
‰‰# $
int
ŠŠ 
j
ŠŠ 
=
ŠŠ 
$num
ŠŠ 
;
ŠŠ 
int
‹‹ 
k
‹‹ 
=
‹‹ 
$num
‹‹ 
;
‹‹ 
bool
ŒŒ 
xResult
ŒŒ 
=
ŒŒ 
false
ŒŒ  
;
ŒŒ  !
try
 
{
 
VariablesGlobales
 !
.
! "#
OpenConfigWebServices
" 7
(
7 8
VariablesGlobales
8 I
.
I J&
RutaWsAgendaCitasMedisyn
J b
)
b c
;
c d
if
’’ 
(
’’ 
Cod_Sucursal
’’  
==
’’! #
$num
’’$ %
)
’’% &
{
““ 
using
”” 
(
”” 
var
”” 
oWsTisal
”” '
=
””( )
new
””* -.
 ServicioReservaHoraWebSoapClient
””. N
(
””N O
VariablesGlobales
””O `
.
””` a
Binding
””a h
,
””h i
VariablesGlobales
””j {
.
””{ |
EndPoint””| „
)””„ …
)””… †
{
•• 
responseXML
–– #
=
––$ %
oWsTisal
––& .
.
––. /+
WM_ObtenerEspecialidadesAsync
––/ L
(
––L M
Cod_Empresa
––M X
,
––X Y
$num
––Z [
,
––[ \
Vigencia
––] e
,
––e f
Internet
––g o
)
––o p
.
––p q
Result
––q w
;
––w x
	stringXML
—— !
=
——" #
	stringXML
——$ -
+
——. /%
fnObtenerEspecialidades
——0 G
(
——G H
responseXML
——H S
,
——S T+
AppCitasEspecialidadesActivas
——U r
.
——r s
TeleConsulta
——s 
)—— €
;——€ 
if
˜˜ 
(
˜˜ 
	stringXML
˜˜ %
!=
˜˜& (
$str
˜˜) +
)
˜˜+ ,
xResult
™™ #
=
™™$ %
true
™™& *
;
™™* +
responseXML
›› #
=
››$ %
oWsTisal
››& .
.
››. /+
WM_ObtenerEspecialidadesAsync
››/ L
(
››L M
Cod_Empresa
››M X
,
››X Y
$num
››Z [
,
››[ \
Vigencia
››] e
,
››e f
Internet
››g o
)
››o p
.
››p q
Result
››q w
;
››w x
	stringXML
œœ !
=
œœ" #
	stringXML
œœ$ -
+
œœ. /%
fnObtenerEspecialidades
œœ0 G
(
œœG H
responseXML
œœH S
,
œœS T+
AppCitasEspecialidadesActivas
œœU r
.
œœr s
TeleConsulta
œœs 
)œœ €
;œœ€ 
if
 
(
 
	stringXML
 %
!=
& (
$str
) +
)
+ ,
xResult
 #
=
$ %
true
& *
;
* +
if
   
(
   
xResult
   #
==
  $ &
true
  ' +
)
  + ,
{
¡¡ 
j
¢¢ 
=
¢¢ 
responseXML
¢¢  +
.
¢¢+ ,
IndexOf
¢¢, 3
(
¢¢3 4
$str
¢¢4 F
)
¢¢F G
+
¢¢H I
(
¢¢J K
$str
¢¢K ]
)
¢¢] ^
.
¢¢^ _
Length
¢¢_ e
;
¢¢e f
k
££ 
=
££ 
responseXML
££  +
.
££+ ,
LastIndexOf
££, 7
(
££7 8
$str
££8 K
)
££K L
;
££L M
	stringXML
¥¥ %
=
¥¥& '
responseXML
¥¥( 3
.
¥¥3 4
	Substring
¥¥4 =
(
¥¥= >
$num
¥¥> ?
,
¥¥? @
j
¥¥A B
)
¥¥B C
+
¥¥D E
	stringXML
¥¥F O
+
¥¥P Q
responseXML
¥¥R ]
.
¥¥] ^
	Substring
¥¥^ g
(
¥¥g h
k
¥¥h i
)
¥¥i j
;
¥¥j k
	stringXML
¦¦ %
=
¦¦& '*
fnObtenerEspecialidadesFinal
¦¦( D
(
¦¦D E
	stringXML
¦¦E N
)
¦¦N O
;
¦¦O P
j
¨¨ 
=
¨¨ 
responseXML
¨¨  +
.
¨¨+ ,
IndexOf
¨¨, 3
(
¨¨3 4
$str
¨¨4 F
)
¨¨F G
+
¨¨H I
(
¨¨J K
$str
¨¨K ]
)
¨¨] ^
.
¨¨^ _
Length
¨¨_ e
;
¨¨e f
k
©© 
=
©© 
responseXML
©©  +
.
©©+ ,
LastIndexOf
©©, 7
(
©©7 8
$str
©©8 K
)
©©K L
;
©©L M
	stringXML
ªª %
=
ªª& '
responseXML
ªª( 3
.
ªª3 4
	Substring
ªª4 =
(
ªª= >
$num
ªª> ?
,
ªª? @
j
ªªA B
)
ªªB C
+
ªªD E
	stringXML
ªªF O
+
ªªP Q
responseXML
ªªR ]
.
ªª] ^
	Substring
ªª^ g
(
ªªg h
k
ªªh i
)
ªªi j
;
ªªj k
}
«« 
else
¬¬ 
	stringXML
­­ %
=
­­& '2
$stringXML_ErrorObtenerEspecialidades
­­( L
(
­­L M
)
­­M N
;
­­N O
}
®® 
}
¯¯ 
else
°° 
using
±± 
(
±± 
var
±± 
oWsTisal
±± '
=
±±( )
new
±±* -.
 ServicioReservaHoraWebSoapClient
±±. N
(
±±N O
VariablesGlobales
±±O `
.
±±` a
Binding
±±a h
,
±±h i
VariablesGlobales
±±j {
.
±±{ |
EndPoint±±| „
)±±„ …
)±±… †
{
²² 
responseXML
³³ #
=
³³$ %
oWsTisal
³³& .
.
³³. /+
WM_ObtenerEspecialidadesAsync
³³/ L
(
³³L M
Cod_Empresa
³³M X
,
³³X Y
Cod_Sucursal
³³Z f
,
³³f g
Vigencia
³³h p
,
³³p q
Internet
³³r z
)
³³z {
.
³³{ |
Result³³| ‚
;³³‚ ƒ
if
µµ 
(
µµ 
Cod_Sucursal
µµ (
==
µµ) +
$num
µµ, -
)
µµ- .
	stringXML
¶¶ %
=
¶¶& '
	stringXML
¶¶( 1
+
¶¶2 3%
fnObtenerEspecialidades
¶¶4 K
(
¶¶K L
responseXML
¶¶L W
,
¶¶W X+
AppCitasEspecialidadesActivas
¶¶Y v
.
¶¶v w
PresencialCM¶¶w ƒ
)¶¶ƒ „
;¶¶„ …
else
·· 
if
·· 
(
··  !
Cod_Sucursal
··! -
==
··. 0
$num
··1 2
)
··2 3
	stringXML
¸¸ %
=
¸¸& '
	stringXML
¸¸( 1
+
¸¸2 3%
fnObtenerEspecialidades
¸¸4 K
(
¸¸K L
responseXML
¸¸L W
,
¸¸W X+
AppCitasEspecialidadesActivas
¸¸Y v
.
¸¸v w
PresencialJM¸¸w ƒ
)¸¸ƒ „
;¸¸„ …
j
ºº 
=
ºº 
responseXML
ºº '
.
ºº' (
IndexOf
ºº( /
(
ºº/ 0
$str
ºº0 B
)
ººB C
+
ººD E
(
ººF G
$str
ººG Y
)
ººY Z
.
ººZ [
Length
ºº[ a
;
ººa b
k
»» 
=
»» 
responseXML
»» '
.
»»' (
LastIndexOf
»»( 3
(
»»3 4
$str
»»4 G
)
»»G H
;
»»H I
	stringXML
½½ !
=
½½" #
responseXML
½½$ /
.
½½/ 0
	Substring
½½0 9
(
½½9 :
$num
½½: ;
,
½½; <
j
½½= >
)
½½> ?
+
½½@ A
	stringXML
½½B K
+
½½L M
responseXML
½½N Y
.
½½Y Z
	Substring
½½Z c
(
½½c d
k
½½d e
)
½½e f
;
½½f g
	stringXML
¾¾ !
=
¾¾" #*
fnObtenerEspecialidadesFinal
¾¾$ @
(
¾¾@ A
	stringXML
¾¾A J
)
¾¾J K
;
¾¾K L
j
ÀÀ 
=
ÀÀ 
responseXML
ÀÀ '
.
ÀÀ' (
IndexOf
ÀÀ( /
(
ÀÀ/ 0
$str
ÀÀ0 B
)
ÀÀB C
+
ÀÀD E
(
ÀÀF G
$str
ÀÀG Y
)
ÀÀY Z
.
ÀÀZ [
Length
ÀÀ[ a
;
ÀÀa b
k
ÁÁ 
=
ÁÁ 
responseXML
ÁÁ '
.
ÁÁ' (
LastIndexOf
ÁÁ( 3
(
ÁÁ3 4
$str
ÁÁ4 G
)
ÁÁG H
;
ÁÁH I
	stringXML
ÂÂ !
=
ÂÂ" #
responseXML
ÂÂ$ /
.
ÂÂ/ 0
	Substring
ÂÂ0 9
(
ÂÂ9 :
$num
ÂÂ: ;
,
ÂÂ; <
j
ÂÂ= >
)
ÂÂ> ?
+
ÂÂ@ A
	stringXML
ÂÂB K
+
ÂÂL M
responseXML
ÂÂN Y
.
ÂÂY Z
	Substring
ÂÂZ c
(
ÂÂc d
k
ÂÂd e
)
ÂÂe f
;
ÂÂf g
}
ÃÃ 
VariablesGlobales
ÅÅ !
.
ÅÅ! "$
CloseConfigWebServices
ÅÅ" 8
(
ÅÅ8 9
)
ÅÅ9 :
;
ÅÅ: ;
}
ÆÆ 
catch
ÇÇ 
(
ÇÇ 
	Exception
ÇÇ 
ex
ÇÇ 
)
ÇÇ  
{
ÈÈ 
	stringXML
ÉÉ 
=
ÉÉ 
ex
ÉÉ 
.
ÉÉ 
Message
ÉÉ &
+
ÉÉ' (
(
ÉÉ) *
char
ÉÉ* .
)
ÉÉ. /
$num
ÉÉ/ 1
+
ÉÉ2 3
ex
ÉÉ4 6
.
ÉÉ6 7

StackTrace
ÉÉ7 A
;
ÉÉA B
}
ÊÊ 
return
ÌÌ 
	stringXML
ÌÌ 
;
ÌÌ 
}
ÍÍ 	
public
ÜÜ 
string
ÜÜ $
WM_ObtenerAgendaMedico
ÜÜ ,
(
ÜÜ, -
int
ÜÜ- 0
Cod_Empresa
ÜÜ1 <
,
ÜÜ< =
int
ÜÜ> A
Cod_Sucursal
ÜÜB N
,
ÜÜN O
string
ÜÜP V
ApelPat_prof
ÜÜW c
,
ÜÜc d
int
ÜÜe h

Cod_Isapre
ÜÜi s
,
ÜÜs t
string
ÜÜu {
InternetÜÜ| „
,ÜÜ„ …
intÜÜ† ‰ 
Cod_EspecialidadÜÜŠ š
,ÜÜš ›
longÜÜœ  
Cod_ProfesionalÜÜ¡ °
,ÜÜ° ±
longÜÜ² ¶
Rut_ProfesionalÜÜ· Æ
)ÜÜÆ Ç
{
İİ 	
string
ŞŞ 
	stringXML
ŞŞ 
=
ŞŞ 
$str
ŞŞ !
;
ŞŞ! "
string
ßß 
responseXML
ßß 
=
ßß  
$str
ßß! #
;
ßß# $
bool
áá 
xResult
áá 
=
áá 
false
áá  
;
áá  !
try
ãã 
{
ää 
string
åå 
	NodoLista
åå  
=
åå! "
$str
åå# 1
;
åå1 2
VariablesGlobales
çç !
.
çç! "#
OpenConfigWebServices
çç" 7
(
çç7 8
VariablesGlobales
çç8 I
.
ççI J&
RutaWsAgendaCitasMedisyn
ççJ b
)
ççb c
;
ççc d
if
èè 
(
èè 
Cod_Sucursal
èè  
==
èè! #
$num
èè$ %
)
èè% &
{
éé 
using
êê 
(
êê 
var
êê 
oWsTisal
êê '
=
êê( )
new
êê* -.
 ServicioReservaHoraWebSoapClient
êê. N
(
êêN O
VariablesGlobales
êêO `
.
êê` a
Binding
êêa h
,
êêh i
VariablesGlobales
êêj {
.
êê{ |
EndPointêê| „
)êê„ …
)êê… †
{
ëë 
responseXML
ìì #
=
ìì$ %
oWsTisal
ìì& .
.
ìì. /)
WM_ObtenerAgendaMedicoAsync
ìì/ J
(
ììJ K
Cod_Empresa
ììK V
,
ììV W
$num
ììX Y
,
ììY Z
ApelPat_prof
ìì[ g
,
ììg h

Cod_Isapre
ììi s
,
ììs t
Internet
ììu }
,
ìì} ~
Cod_Especialidadìì 
,ìì 
Cod_Profesionalìì‘  
,ìì  ¡
Rut_Profesionalìì¢ ±
)ìì± ²
.ìì² ³
Resultìì³ ¹
;ìì¹ º
	stringXML
íí !
=
íí" #
	stringXML
íí$ -
+
íí. /*
fnAgendaApellidoEspecialidad
íí0 L
(
ííL M
responseXML
ííM X
,
ííX Y
	NodoLista
ííZ c
,
ííc d
ApelPat_prof
ííe q
,
ííq r
TipoMetodoAgendaíís ƒ
.ííƒ „&
WM_ObtenerAgendaMedicoíí„ š
,ííš ›"
TipoConsultaMedicaííœ ®
.íí® ¯
TeleConsultaíí¯ »
)íí» ¼
;íí¼ ½
if
îî 
(
îî 
	stringXML
îî %
!=
îî& (
$str
îî) +
)
îî+ ,
xResult
ïï #
=
ïï$ %
true
ïï& *
;
ïï* +
responseXML
ññ #
=
ññ$ %
oWsTisal
ññ& .
.
ññ. /)
WM_ObtenerAgendaMedicoAsync
ññ/ J
(
ññJ K
Cod_Empresa
ññK V
,
ññV W
$num
ññX Y
,
ññY Z
ApelPat_prof
ññ[ g
,
ññg h

Cod_Isapre
ññi s
,
ññs t
Internet
ññu }
,
ññ} ~
Cod_Especialidadññ 
,ññ 
Cod_Profesionalññ‘  
,ññ  ¡
Rut_Profesionalññ¢ ±
)ññ± ²
.ññ² ³
Resultññ³ ¹
;ññ¹ º
	stringXML
òò !
=
òò" #
	stringXML
òò$ -
+
òò. /*
fnAgendaApellidoEspecialidad
òò0 L
(
òòL M
responseXML
òòM X
,
òòX Y
	NodoLista
òòZ c
,
òòc d
ApelPat_prof
òòe q
,
òòq r
TipoMetodoAgendaòòs ƒ
.òòƒ „&
WM_ObtenerAgendaMedicoòò„ š
,òòš ›"
TipoConsultaMedicaòòœ ®
.òò® ¯
TeleConsultaòò¯ »
)òò» ¼
;òò¼ ½
if
óó 
(
óó 
	stringXML
óó %
!=
óó& (
$str
óó) +
)
óó+ ,
xResult
ôô #
=
ôô$ %
true
ôô& *
;
ôô* +
if
ùù 
(
ùù 
xResult
ùù #
==
ùù$ &
true
ùù' +
)
ùù+ ,
	stringXML
úú %
=
úú& '
$str
úú( =
+
úú> ?
	stringXML
úú@ I
+
úúJ K
$strúúL ¬
;úú¬ ­
else
ûû 
	stringXML
üü %
=
üü& '7
)stringXML_ErrorAgendaApellidoEspecialidad
üü( Q
(
üüQ R
)
üüR S
;
üüS T
}
ıı 
}
şş 
else
ÿÿ 
using
€€ 
(
€€ 
var
€€ 
oWsTisal
€€ '
=
€€( )
new
€€* -.
 ServicioReservaHoraWebSoapClient
€€. N
(
€€N O
VariablesGlobales
€€O `
.
€€` a
Binding
€€a h
,
€€h i
VariablesGlobales
€€j {
.
€€{ |
EndPoint€€| „
)€€„ …
)€€… †
{
 
responseXML
‚‚ #
=
‚‚$ %
oWsTisal
‚‚& .
.
‚‚. /)
WM_ObtenerAgendaMedicoAsync
‚‚/ J
(
‚‚J K
Cod_Empresa
‚‚K V
,
‚‚V W
Cod_Sucursal
‚‚X d
,
‚‚d e
ApelPat_prof
‚‚f r
,
‚‚r s

Cod_Isapre
‚‚t ~
,
‚‚~ 
Internet‚‚€ ˆ
,‚‚ˆ ‰ 
Cod_Especialidad‚‚Š š
,‚‚š ›
Cod_Profesional‚‚œ «
,‚‚« ¬
Rut_Profesional‚‚­ ¼
)‚‚¼ ½
.‚‚½ ¾
Result‚‚¾ Ä
;‚‚Ä Å
if
„„ 
(
„„ 
Cod_Sucursal
„„ (
==
„„) +
$num
„„, -
)
„„- .
{
…… 
	stringXML
†† %
=
††& '
	stringXML
††( 1
+
††2 3*
fnAgendaApellidoEspecialidad
††4 P
(
††P Q
responseXML
††Q \
,
††\ ]
	NodoLista
††^ g
,
††g h
ApelPat_prof
††i u
,
††u v
TipoMetodoAgenda††w ‡
.††‡ ˆ&
WM_ObtenerAgendaMedico††ˆ 
,†† Ÿ"
TipoConsultaMedica††  ²
.††² ³
PresencialCM††³ ¿
)††¿ À
;††À Á
	stringXML
‡‡ %
=
‡‡& '
	stringXML
‡‡( 1
+
‡‡2 3*
fnAgendaApellidoEspecialidad
‡‡4 P
(
‡‡P Q
responseXML
‡‡Q \
,
‡‡\ ]
	NodoLista
‡‡^ g
,
‡‡g h
ApelPat_prof
‡‡i u
,
‡‡u v
TipoMetodoAgenda‡‡w ‡
.‡‡‡ ˆ&
WM_ObtenerAgendaMedico‡‡ˆ 
,‡‡ Ÿ"
TipoConsultaMedica‡‡  ²
.‡‡² ³
PresencialJM‡‡³ ¿
)‡‡¿ À
;‡‡À Á
}
ˆˆ 
else
‰‰ 
if
‰‰ 
(
‰‰  !
Cod_Sucursal
‰‰! -
==
‰‰. 0
$num
‰‰1 2
)
‰‰2 3
	stringXML
ŠŠ %
=
ŠŠ& '
	stringXML
ŠŠ( 1
+
ŠŠ2 3*
fnAgendaApellidoEspecialidad
ŠŠ4 P
(
ŠŠP Q
responseXML
ŠŠQ \
,
ŠŠ\ ]
	NodoLista
ŠŠ^ g
,
ŠŠg h
ApelPat_prof
ŠŠi u
,
ŠŠu v
TipoMetodoAgendaŠŠw ‡
.ŠŠ‡ ˆ&
WM_ObtenerAgendaMedicoŠŠˆ 
,ŠŠ Ÿ"
TipoConsultaMedicaŠŠ  ²
.ŠŠ² ³
PresencialCMŠŠ³ ¿
)ŠŠ¿ À
;ŠŠÀ Á
else
‹‹ 
if
‹‹ 
(
‹‹  !
Cod_Sucursal
‹‹! -
==
‹‹. 0
$num
‹‹1 2
)
‹‹2 3
	stringXML
ŒŒ %
=
ŒŒ& '
	stringXML
ŒŒ( 1
+
ŒŒ2 3*
fnAgendaApellidoEspecialidad
ŒŒ4 P
(
ŒŒP Q
responseXML
ŒŒQ \
,
ŒŒ\ ]
	NodoLista
ŒŒ^ g
,
ŒŒg h
ApelPat_prof
ŒŒi u
,
ŒŒu v
TipoMetodoAgendaŒŒw ‡
.ŒŒ‡ ˆ&
WM_ObtenerAgendaMedicoŒŒˆ 
,ŒŒ Ÿ"
TipoConsultaMedicaŒŒ  ²
.ŒŒ² ³
PresencialJMŒŒ³ ¿
)ŒŒ¿ À
;ŒŒÀ Á
if
 
(
 
	stringXML
 %
!=
& (
$str
) +
)
+ ,
	stringXML
 %
=
& '
$str
( =
+
> ?
	stringXML
@ I
+
J K
$strL ¬
;¬ ­
else
 
	stringXML
‘‘ %
=
‘‘& '7
)stringXML_ErrorAgendaApellidoEspecialidad
‘‘( Q
(
‘‘Q R
)
‘‘R S
;
‘‘S T
}
’’ 
VariablesGlobales
”” !
.
””! "$
CloseConfigWebServices
””" 8
(
””8 9
)
””9 :
;
””: ;
}
•• 
catch
–– 
(
–– 
	Exception
–– 
ex
–– 
)
––  
{
—— 
	stringXML
˜˜ 
=
˜˜ 
ex
˜˜ 
.
˜˜ 
Message
˜˜ &
+
˜˜' (
(
˜˜) *
char
˜˜* .
)
˜˜. /
$num
˜˜/ 1
+
˜˜2 3
ex
˜˜4 6
.
˜˜6 7

StackTrace
˜˜7 A
;
˜˜A B
}
™™ 
return
›› 
	stringXML
›› 
;
›› 
}
œœ 	
public
££ 
string
££ "
WM_ObtenerSucursales
££ *
(
££* +
int
££+ .
Cod_Empresa
££/ :
)
££: ;
{
¤¤ 	
string
¥¥ 
	stringXML
¥¥ 
=
¥¥ 
$str
¥¥ !
;
¥¥! "
try
§§ 
{
¨¨ 
	stringXML
©© 
=
©© 
$str
©© /
+
©©0 1
fnObtenerSedes
©©2 @
(
©©@ A
)
©©A B
+
©©C D
$str©©E £
;©©£ ¤
}
ªª 
catch
«« 
(
«« 
	Exception
«« 
ex
«« 
)
««  
{
¬¬ 
	stringXML
­­ 
=
­­ 
$str
­­ #
+
­­$ %
$str
­­& R
+
­­S T
ex
­­U W
.
­­W X
Message
­­X _
+
­­` a
(
­­b c
char
­­c g
)
­­g h
$num
­­h j
+
­­k l
ex
­­m o
.
­­o p

StackTrace
­­p z
+
­­{ |
$str­­} ™
;­­™ š
}
®® 
return
°° 
	stringXML
°° 
;
°° 
}
±± 	
public
ÕÕ 
string
ÕÕ 
WM_MantCargas
ÕÕ #
(
ÕÕ# $
int
ÕÕ$ '
Cod_Empresa
ÕÕ( 3
,
ÕÕ3 4
int
ÕÕ5 8
Cod_Sucursal
ÕÕ9 E
,
ÕÕE F
long
ÕÕG K
Id_Grupofamiliar
ÕÕL \
,
ÕÕ\ ]
long
ÕÕ^ b

Id_Titular
ÕÕc m
,
ÕÕm n
long
ÕÕo s
Id_Carga
ÕÕt |
,
ÕÕ| }
longÕÕ~ ‚$
Id_Ambulatorio_CargaÕÕƒ —
,ÕÕ— ˜
longÕÕ™ 
	Rut_CargaÕÕ §
,ÕÕ§ ¨
stringÕÕ© ¯
Dv_CargaÕÕ° ¸
,ÕÕ¸ ¹
longÕÕº ¾
	Cod_CargaÕÕ¿ È
,ÕÕÈ É
stringÕÕÊ Ğ
Nombre_CargaÕÕÑ İ
,ÕÕİ Ş
stringÕÕß å
Apepat_CargaÕÕæ ò
,ÕÕò ó
stringÕÕô ú
Apemat_CargaÕÕû ‡
,ÕÕ‡ ˆ
stringÕÕ‰ 
FechaNac_CargaÕÕ 
,ÕÕ Ÿ
stringÕÕ  ¦ 
Parentesco_CargaÕÕ§ ·
,ÕÕ· ¸
stringÕÕ¹ ¿
Direccion_CargaÕÕÀ Ï
,ÕÕÏ Ğ
stringÕÕÑ ×

Sexo_CargaÕÕØ â
,ÕÕâ ã
stringÕÕä ê!
EstadoCivil_CargaÕÕë ü
,ÕÕü ı
stringÕÕş „
Email_CargaÕÕ… 
,ÕÕ ‘
stringÕÕ’ ˜
Telefono_CargaÕÕ™ §
,ÕÕ§ ¨
stringÕÕ© ¯
Celular_CargaÕÕ° ½
,ÕÕ½ ¾
longÕÕ¿ Ã 
IdDistrito_CargaÕÕÄ Ô
,ÕÕÔ Õ
longÕÕÖ Ú
CodComuna_CargaÕÕÛ ê
,ÕÕê ë
longÕÕì ğ"
CodProvincia_CargaÕÕñ ƒ
,ÕÕƒ „
stringÕÕ… ‹
Ciudad_CargaÕÕŒ ˜
,ÕÕ˜ ™
longÕÕš "
CodLocalidad_CargaÕÕŸ ±
,ÕÕ± ²
intÕÕ³ ¶
Prevision_CargaÕÕ· Æ
,ÕÕÆ Ç
stringÕÕÈ Î
AccionÕÕÏ Õ
,ÕÕÕ Ö
stringÕÕ× İ

IP_ClienteÕÕŞ è
,ÕÕè é
stringÕÕê ğ
UserÕÕñ õ
)ÕÕõ ö
{
ÖÖ 	
string
×× 
responseXML
×× 
=
××  
$str
××! #
;
××# $
VariablesGlobales
ØØ 
.
ØØ #
OpenConfigWebServices
ØØ 3
(
ØØ3 4
VariablesGlobales
ØØ4 E
.
ØØE F&
RutaWsAgendaCitasMedisyn
ØØF ^
)
ØØ^ _
;
ØØ_ `
using
ÙÙ 
(
ÙÙ 
var
ÙÙ 
oWsTisal
ÙÙ 
=
ÙÙ  !
new
ÙÙ" %.
 ServicioReservaHoraWebSoapClient
ÙÙ& F
(
ÙÙF G
VariablesGlobales
ÙÙG X
.
ÙÙX Y
Binding
ÙÙY `
,
ÙÙ` a
VariablesGlobales
ÙÙb s
.
ÙÙs t
EndPoint
ÙÙt |
)
ÙÙ| }
)
ÙÙ} ~
{
ÚÚ 
responseXML
ÛÛ 
=
ÛÛ 
oWsTisal
ÛÛ &
.
ÛÛ& ' 
WM_MantCargasAsync
ÛÛ' 9
(
ÛÛ9 :
Cod_Empresa
ÛÛ: E
,
ÛÛE F
Cod_Sucursal
ÛÛG S
,
ÛÛS T
Id_Grupofamiliar
ÛÛU e
,
ÛÛe f

Id_Titular
ÛÛg q
,
ÛÛq r
Id_Carga
ÛÛs {
,
ÛÛ{ |#
Id_Ambulatorio_CargaÛÛ} ‘
,ÛÛ‘ ’
	Rut_CargaÛÛ“ œ
,ÛÛœ 
Dv_CargaÛÛ ¦
,ÛÛ¦ §
	Cod_CargaÛÛ¨ ±
,ÛÛ± ²
Nombre_CargaÛÛ³ ¿
,ÛÛ¿ À
Apepat_CargaÛÛÁ Í
,ÛÛÍ Î
Apemat_CargaÛÛÏ Û
,ÛÛÛ Ü
FechaNac_CargaÛÛİ ë
,ÛÛë ì 
Parentesco_CargaÛÛí ı
,ÛÛı ş
Direccion_CargaÛÛÿ 
,ÛÛ 

Sexo_CargaÛÛ š
,ÛÛš ›!
EstadoCivil_CargaÛÛœ ­
,ÛÛ­ ®
Email_CargaÛÛ¯ º
,ÛÛº »
Telefono_CargaÛÛ¼ Ê
,ÛÛÊ Ë
Celular_CargaÛÛÌ Ù
,ÛÛÙ Ú 
IdDistrito_CargaÛÛÛ ë
,ÛÛë ì
CodComuna_CargaÛÛí ü
,ÛÛü ı"
CodProvincia_CargaÛÛş 
,ÛÛ ‘
Ciudad_CargaÛÛ’ 
,ÛÛ Ÿ"
CodLocalidad_CargaÛÛ  ²
,ÛÛ² ³
Prevision_CargaÛÛ´ Ã
,ÛÛÃ Ä
AccionÛÛÅ Ë
,ÛÛË Ì

IP_ClienteÛÛÍ ×
,ÛÛ× Ø
UserÛÛÙ İ
)ÛÛİ Ş
.ÛÛŞ ß
ResultÛÛß å
;ÛÛå æ
new
İİ 
PacientesAD
İİ 
(
İİ  
)
İİ  !
.
İİ! "!
Sp_Pacientes_Update
İİ" 5
(
İİ5 6
new
İİ6 9

PacientesE
İİ: D
(
İİD E"
Id_Ambulatorio_Carga
İİE Y
.
İİY Z
ToString
İİZ b
(
İİb c
)
İİc d
,
İİd e
$str
İİf p
,
İİp q
Telefono_Cargaİİr €
)İİ€ 
)İİ ‚
;İİ‚ ƒ
}
ŞŞ 
VariablesGlobales
ßß 
.
ßß $
CloseConfigWebServices
ßß 4
(
ßß4 5
)
ßß5 6
;
ßß6 7
return
áá 
responseXML
áá 
;
áá 
}
ââ 	
public
†† 
string
†† 
WM_MantUsuario
†† $
(
††$ %
long
††% )
Cod_Empresa
††* 5
,
††5 6
int
††7 :
Cod_Sucursal
††; G
,
††G H
string
††I O
Tipo_Usuario
††P \
,
††\ ]
int
††^ a
Id_Ambulatorio
††b p
,
††p q
int
††r u
Rut_Paciente††v ‚
,††‚ ƒ
string††„ Š
Dv_Paciente††‹ –
,††– —
string††˜ 
Nombre_Paciente††Ÿ ®
,††® ¯
string††° ¶
Apepat_Paciente††· Æ
,††Æ Ç
string††È Î
Apemat_Paciente††Ï Ş
,††Ş ß
string††à æ!
Fechanac_Paciente††ç ø
,††ø ù
string††ú €"
Direccion_Paciente†† “
,††“ ”
int††• ˜
Comuna_Paciente††™ ¨
,††¨ ©
int††ª ­!
Distrito_Paciente††® ¿
,††¿ À
int††Á Ä

Cod_Ciudad††Å Ï
,††Ï Ğ
string††Ñ ×
Ciudad_Paciente††Ø ç
,††ç è
int††é ì"
Localidad_Paciente††í ÿ
,††ÿ €
string†† ‡
Fono1_Paciente††ˆ –
,††– —
string††˜ 
Fono2_Paciente††Ÿ ­
,††­ ®
string††¯ µ
Email_Paciente††¶ Ä
,††Ä Å
string††Æ Ì
Sexo_Paciente††Í Ú
,††Ú Û
string††Ü â$
EstadoCivil_Paciente††ã ÷
,††÷ ø
int††ù ü"
Prevision_Paciente††ı 
,†† 
string††‘ —
Clave_Usuario††˜ ¥
,††¥ ¦
string††§ ­
Pregunta_Clave††® ¼
,††¼ ½
string††¾ Ä
RespuestaClave††Å Ó
,††Ó Ô
string††Õ Û
Estado††Ü â
,††â ã
string††ä ê
Accion††ë ñ
,††ñ ò
string††ó ù

IP_Cliente††ú „
,††„ …
string††† Œ
Usuario†† ”
)††” •
{
‡‡ 	
string
ˆˆ 
responseXML
ˆˆ 
=
ˆˆ  
$str
ˆˆ! #
;
ˆˆ# $
PacientesAD
‰‰ 
oPacientesAD
‰‰ $
=
‰‰% &
new
‰‰' *
PacientesAD
‰‰+ 6
(
‰‰6 7
)
‰‰7 8
;
‰‰8 9
VariablesGlobales
ŠŠ 
.
ŠŠ #
OpenConfigWebServices
ŠŠ 3
(
ŠŠ3 4
VariablesGlobales
ŠŠ4 E
.
ŠŠE F&
RutaWsAgendaCitasMedisyn
ŠŠF ^
)
ŠŠ^ _
;
ŠŠ_ `
using
‹‹ 
(
‹‹ 
var
‹‹ 
oWsTisal
‹‹ 
=
‹‹  !
new
‹‹" %.
 ServicioReservaHoraWebSoapClient
‹‹& F
(
‹‹F G
VariablesGlobales
‹‹G X
.
‹‹X Y
Binding
‹‹Y `
,
‹‹` a
VariablesGlobales
‹‹b s
.
‹‹s t
EndPoint
‹‹t |
)
‹‹| }
)
‹‹} ~
{
ŒŒ 
responseXML
 
=
 
oWsTisal
 &
.
& '!
WM_MantUsuarioAsync
' :
(
: ;
Cod_Empresa
; F
,
F G
Cod_Sucursal
H T
,
T U
Tipo_Usuario
V b
,
b c
Id_Ambulatorio
d r
,
r s
Rut_Pacientet €
,€ 
Dv_Paciente‚ 
, 
Nombre_Paciente
; J
,
J K
Apepat_Paciente
L [
,
[ \
Apemat_Paciente
] l
,
l m
Fechanac_Paciente
n 
, €"
Direccion_Paciente “
,“ ”
Comuna_Paciente
; J
,
J K
Distrito_Paciente
L ]
,
] ^

Cod_Ciudad
_ i
,
i j
Ciudad_Paciente
k z
,
z {!
Localidad_Paciente| 
, 
Fono1_Paciente
; I
,
I J
Fono2_Paciente
K Y
,
Y Z
Email_Paciente
[ i
,
i j
Sexo_Paciente
k x
,
x y#
EstadoCivil_Pacientez 
,  
Prevision_Paciente
‘‘; M
,
‘‘M N
Clave_Usuario
‘‘O \
,
‘‘\ ]
Pregunta_Clave
‘‘^ l
,
‘‘l m
RespuestaClave
‘‘n |
,
‘‘| }
Estado‘‘~ „
,‘‘„ …
Accion‘‘† Œ
,‘‘Œ 

IP_Cliente
’’; E
,
’’E F
Usuario
’’G N
)
’’N O
.
’’O P
Result
’’P V
;
’’V W
oPacientesAD
”” 
.
”” !
Sp_Pacientes_Update
”” 0
(
””0 1
new
””1 4

PacientesE
””5 ?
(
””? @
Id_Ambulatorio
””@ N
.
””N O
ToString
””O W
(
””W X
)
””X Y
,
””Y Z
$str
””[ e
,
””e f
Fono1_Paciente
””g u
)
””u v
)
””v w
;
””w x
oPacientesAD
•• 
.
•• !
Sp_Pacientes_Update
•• 0
(
••0 1
new
••1 4

PacientesE
••5 ?
(
••? @
Id_Ambulatorio
••@ N
.
••N O
ToString
••O W
(
••W X
)
••X Y
,
••Y Z
$str
••[ c
,
••c d
Email_Paciente
••e s
)
••s t
)
••t u
;
••u v
}
–– 
VariablesGlobales
—— 
.
—— $
CloseConfigWebServices
—— 4
(
——4 5
)
——5 6
;
——6 7
GC
™™ 
.
™™ 
Collect
™™ 
(
™™ 
)
™™ 
;
™™ 
return
šš 
responseXML
šš 
;
šš 
}
›› 	
public
 
string
  
WM_TraeDatosAcceso
 (
(
( )
int
) ,
Cod_Empresa
- 8
,
8 9
long
: >
Rut_Paciente
? K
,
K L
string
M S
Dv_Paciente
T _
,
_ `
string
a g
Email_Paciente
h v
,
v w
string
x ~
ApiKey …
)… †
{
 	
string
ŸŸ 
responseXML
ŸŸ 
=
ŸŸ  
$str
ŸŸ! #
;
ŸŸ# $
if
   
(
   
fnValidarApiKey
   
(
    
ApiKey
    &
)
  & '
==
  ( *
true
  + /
)
  / 0
{
¡¡ 
VariablesGlobales
¢¢ !
.
¢¢! "#
OpenConfigWebServices
¢¢" 7
(
¢¢7 8
VariablesGlobales
¢¢8 I
.
¢¢I J&
RutaWsAgendaCitasMedisyn
¢¢J b
)
¢¢b c
;
¢¢c d
using
££ 
(
££ 
var
££ 
oWsTisal
££ #
=
££$ %
new
££& ).
 ServicioReservaHoraWebSoapClient
££* J
(
££J K
VariablesGlobales
££K \
.
££\ ]
Binding
££] d
,
££d e
VariablesGlobales
££f w
.
££w x
EndPoint££x €
)££€ 
)££ ‚
{
¤¤ 
responseXML
¥¥ 
=
¥¥  !
oWsTisal
¥¥" *
.
¥¥* +%
WM_TraeDatosAccesoAsync
¥¥+ B
(
¥¥B C
Cod_Empresa
¥¥C N
,
¥¥N O
Rut_Paciente
¥¥P \
,
¥¥\ ]
Dv_Paciente
¥¥^ i
)
¥¥i j
.
¥¥j k
Result
¥¥k q
;
¥¥q r
}
¦¦ 
VariablesGlobales
§§ !
.
§§! "$
CloseConfigWebServices
§§" 8
(
§§8 9
)
§§9 :
;
§§: ;
}
¨¨ 
else
©© 
{
ªª 
Response_XML
«« 
.
«« 
XML
««  
oXML
««! %
=
««& '
new
««( +
Response_XML
««, 8
.
««8 9
XML
««9 <
(
««< =
)
««= >
;
««> ?
oXML
¬¬ 
.
¬¬ 
Mensaje
¬¬ 
=
¬¬ 
new
¬¬ "
Response_XML
¬¬# /
.
¬¬/ 0
XML
¬¬0 3
.
¬¬3 4
MensajeE
¬¬4 <
(
¬¬< =
)
¬¬= >
;
¬¬> ?
oXML
­­ 
.
­­ 
RecuperaAcceso
­­ #
=
­­$ %
new
­­& )
Response_XML
­­* 6
.
­­6 7
XML
­­7 :
.
­­: ;
RecuperaAccesoE
­­; J
(
­­J K
)
­­K L
;
­­L M
oXML
®® 
.
®® 
RecuperaAcceso
®® #
.
®®# $
DatosAcceso
®®$ /
.
®®/ 0
ESTADO
®®0 6
=
®®7 8
$str
®®9 <
;
®®< =
oXML
¯¯ 
.
¯¯ 
RecuperaAcceso
¯¯ #
.
¯¯# $
DatosAcceso
¯¯$ /
.
¯¯/ 0
DESC_ESTADO
¯¯0 ;
=
¯¯< =
$str
¯¯> e
;
¯¯e f
responseXML
±± 
=
±± 
fnSerializeXML
±± ,
(
±±, -
oXML
±±- 1
)
±±1 2
;
±±2 3
}
²² 
return
´´ 
responseXML
´´ 
;
´´ 
}
µµ 	
public
·· 
string
·· -
WM_TraeDatosAccesoSinValidacion
·· 5
(
··5 6
int
··6 9
Cod_Empresa
··: E
,
··E F
long
··G K
Rut_Paciente
··L X
,
··X Y
string
··Z `
Dv_Paciente
··a l
)
··l m
{
¸¸ 	
string
¹¹ 
responseXML
¹¹ 
=
¹¹  
$str
¹¹! #
;
¹¹# $
VariablesGlobales
»» 
.
»» #
OpenConfigWebServices
»» 3
(
»»3 4
VariablesGlobales
»»4 E
.
»»E F&
RutaWsAgendaCitasMedisyn
»»F ^
)
»»^ _
;
»»_ `
using
¼¼ 
(
¼¼ 
var
¼¼ 
oWsTisal
¼¼ 
=
¼¼  !
new
¼¼" %.
 ServicioReservaHoraWebSoapClient
¼¼& F
(
¼¼F G
VariablesGlobales
¼¼G X
.
¼¼X Y
Binding
¼¼Y `
,
¼¼` a
VariablesGlobales
¼¼b s
.
¼¼s t
EndPoint
¼¼t |
)
¼¼| }
)
¼¼} ~
{
½½ 
responseXML
¾¾ 
=
¾¾ 
oWsTisal
¾¾ &
.
¾¾& '%
WM_TraeDatosAccesoAsync
¾¾' >
(
¾¾> ?
Cod_Empresa
¾¾? J
,
¾¾J K
Rut_Paciente
¾¾L X
,
¾¾X Y
Dv_Paciente
¾¾Z e
)
¾¾e f
.
¾¾f g
Result
¾¾g m
;
¾¾m n
}
¿¿ 
VariablesGlobales
ÀÀ 
.
ÀÀ $
CloseConfigWebServices
ÀÀ 4
(
ÀÀ4 5
)
ÀÀ5 6
;
ÀÀ6 7
return
ÂÂ 
responseXML
ÂÂ 
;
ÂÂ 
}
ÃÃ 	
public
ÅÅ 
string
ÅÅ #
WM_ValidaRutEnSistema
ÅÅ +
(
ÅÅ+ ,
int
ÅÅ, /
Cod_Empresa
ÅÅ0 ;
,
ÅÅ; <
int
ÅÅ= @
Cod_Sucursal
ÅÅA M
,
ÅÅM N
long
ÅÅO S
Rut_Paciente
ÅÅT `
,
ÅÅ` a
string
ÅÅb h
Dv_Paciente
ÅÅi t
,
ÅÅt u
string
ÅÅv |
Fecha_NacPacÅÅ} ‰
,ÅÅ‰ Š
stringÅÅ‹ ‘
TitularCargaÅÅ’ 
,ÅÅ Ÿ
stringÅÅ  ¦
ApiKeyÅÅ§ ­
)ÅÅ­ ®
{
ÆÆ 	
string
ÇÇ 
responseXML
ÇÇ 
=
ÇÇ  
$str
ÇÇ! #
;
ÇÇ# $
if
ÈÈ 
(
ÈÈ 
fnValidarApiKey
ÈÈ 
(
ÈÈ  
ApiKey
ÈÈ  &
)
ÈÈ& '
==
ÈÈ( *
true
ÈÈ+ /
)
ÈÈ/ 0
{
ÉÉ 
VariablesGlobales
ÊÊ !
.
ÊÊ! "#
OpenConfigWebServices
ÊÊ" 7
(
ÊÊ7 8
VariablesGlobales
ÊÊ8 I
.
ÊÊI J&
RutaWsAgendaCitasMedisyn
ÊÊJ b
)
ÊÊb c
;
ÊÊc d
using
ËË 
(
ËË 
var
ËË 
oWsTisal
ËË #
=
ËË$ %
new
ËË& ).
 ServicioReservaHoraWebSoapClient
ËË* J
(
ËËJ K
VariablesGlobales
ËËK \
.
ËË\ ]
Binding
ËË] d
,
ËËd e
VariablesGlobales
ËËf w
.
ËËw x
EndPointËËx €
)ËË€ 
)ËË ‚
{
ÌÌ 
responseXML
ÍÍ 
=
ÍÍ  !
oWsTisal
ÍÍ" *
.
ÍÍ* +(
WM_ValidaRutEnSistemaAsync
ÍÍ+ E
(
ÍÍE F
Cod_Empresa
ÍÍF Q
,
ÍÍQ R
Cod_Sucursal
ÍÍS _
,
ÍÍ_ `
Rut_Paciente
ÍÍa m
,
ÍÍm n
Dv_Paciente
ÍÍo z
,
ÍÍz {
Fecha_NacPacÍÍ| ˆ
,ÍÍˆ ‰
TitularCargaÍÍŠ –
)ÍÍ– —
.ÍÍ— ˜
ResultÍÍ˜ 
;ÍÍ Ÿ
}
ÎÎ 
VariablesGlobales
ÏÏ !
.
ÏÏ! "$
CloseConfigWebServices
ÏÏ" 8
(
ÏÏ8 9
)
ÏÏ9 :
;
ÏÏ: ;
}
ĞĞ 
else
ÑÑ 
{
ÒÒ 
Response_XML
ÓÓ 
.
ÓÓ 
XML
ÓÓ  
oXML
ÓÓ! %
=
ÓÓ& '
new
ÓÓ( +
Response_XML
ÓÓ, 8
.
ÓÓ8 9
XML
ÓÓ9 <
(
ÓÓ< =
)
ÓÓ= >
;
ÓÓ> ?
Response_XML
ÕÕ 
.
ÕÕ 
XML
ÕÕ  
.
ÕÕ  !
DatosPaciente
ÕÕ! .
DatosPaciente
ÕÕ/ <
=
ÕÕ= >
new
ÕÕ? B
Response_XML
ÕÕC O
.
ÕÕO P
XML
ÕÕP S
.
ÕÕS T
DatosPaciente
ÕÕT a
(
ÕÕa b
)
ÕÕb c
;
ÕÕc d
DatosPaciente
ÖÖ 
.
ÖÖ 
ESTADO
ÖÖ $
=
ÖÖ% &
$str
ÖÖ' *
;
ÖÖ* +
DatosPaciente
×× 
.
×× 
DESC_ESTADO
×× )
=
××* +
$str
××, S
;
××S T
oXML
ÙÙ 
.
ÙÙ 
Paciente
ÙÙ 
=
ÙÙ 
new
ÙÙ  #
List
ÙÙ$ (
<
ÙÙ( )
Response_XML
ÙÙ) 5
.
ÙÙ5 6
XML
ÙÙ6 9
.
ÙÙ9 :
DatosPaciente
ÙÙ: G
>
ÙÙG H
(
ÙÙH I
)
ÙÙI J
;
ÙÙJ K
oXML
ÚÚ 
.
ÚÚ 
Paciente
ÚÚ 
.
ÚÚ 
Add
ÚÚ !
(
ÚÚ! "
DatosPaciente
ÚÚ" /
)
ÚÚ/ 0
;
ÚÚ0 1
responseXML
ÜÜ 
=
ÜÜ 
fnSerializeXML
ÜÜ ,
(
ÜÜ, -
oXML
ÜÜ- 1
)
ÜÜ1 2
;
ÜÜ2 3
}
İİ 
return
ßß 
responseXML
ßß 
;
ßß 
}
àà 	
public
ââ 
string
ââ 
WM_LogeoPaciente
ââ &
(
ââ& '
int
ââ' *
Cod_Empresa
ââ+ 6
,
ââ6 7
int
ââ8 ;
Cod_Sucursal
ââ< H
,
ââH I
int
ââJ M!
Rut_PacienteTitular
ââN a
,
ââa b
string
ââc i 
Dv_PacienteTitular
ââj |
,
ââ| }
stringââ~ „

IP_Clienteââ… 
,ââ 
stringââ‘ —
Clave_Pacienteââ˜ ¦
,ââ¦ §
stringââ¨ ®
ApiKeyââ¯ µ
)ââµ ¶
{
ãã 	
string
ää 
responseXML
ää 
=
ää  
$str
ää! #
;
ää# $
if
åå 
(
åå 
fnValidarApiKey
åå 
(
åå  
ApiKey
åå  &
)
åå& '
==
åå( *
true
åå+ /
)
åå/ 0
{
ææ 
VariablesGlobales
çç !
.
çç! "#
OpenConfigWebServices
çç" 7
(
çç7 8
VariablesGlobales
çç8 I
.
ççI J&
RutaWsAgendaCitasMedisyn
ççJ b
)
ççb c
;
ççc d
using
èè 
(
èè 
var
èè 
oWsTisal
èè #
=
èè$ %
new
èè& ).
 ServicioReservaHoraWebSoapClient
èè* J
(
èèJ K
VariablesGlobales
èèK \
.
èè\ ]
Binding
èè] d
,
èèd e
VariablesGlobales
èèf w
.
èèw x
EndPointèèx €
)èè€ 
)èè ‚
{
éé 
responseXML
êê 
=
êê  !
oWsTisal
êê" *
.
êê* +#
WM_LogeoPacienteAsync
êê+ @
(
êê@ A
Cod_Empresa
êêA L
,
êêL M
Cod_Sucursal
êêN Z
,
êêZ [!
Rut_PacienteTitular
êê\ o
,
êêo p!
Dv_PacienteTitularêêq ƒ
,êêƒ „

IP_Clienteêê… 
,êê 
Clave_Pacienteêê‘ Ÿ
)êêŸ  
.êê  ¡
Resultêê¡ §
;êê§ ¨
}
ëë 
VariablesGlobales
ìì !
.
ìì! "$
CloseConfigWebServices
ìì" 8
(
ìì8 9
)
ìì9 :
;
ìì: ;
}
íí 
else
îî 
{
ïï 
Response_XML
ğğ 
.
ğğ 
XML
ğğ  
oXML
ğğ! %
=
ğğ& '
new
ğğ( +
Response_XML
ğğ, 8
.
ğğ8 9
XML
ğğ9 <
(
ğğ< =
)
ğğ= >
;
ğğ> ?
Response_XML
ññ 
.
ññ 
XML
ññ  
.
ññ  !
InformacionLogeo
ññ! 1
InformacionLogeo
ññ2 B
=
ññC D
new
ññE H
Response_XML
ññI U
.
ññU V
XML
ññV Y
.
ññY Z
InformacionLogeo
ññZ j
(
ññj k
)
ññk l
;
ññl m
InformacionLogeo
òò  
.
òò  !
ESTADO
òò! '
=
òò( )
$str
òò* -
;
òò- .
InformacionLogeo
óó  
.
óó  !
DESC_ESTADO
óó! ,
=
óó- .
$str
óó/ V
;
óóV W
oXML
õõ 
.
õõ 
LogeoPaciente
õõ "
=
õõ# $
new
õõ% (
List
õõ) -
<
õõ- .
Response_XML
õõ. :
.
õõ: ;
XML
õõ; >
.
õõ> ?
InformacionLogeo
õõ? O
>
õõO P
(
õõP Q
)
õõQ R
;
õõR S
oXML
öö 
.
öö 
LogeoPaciente
öö "
.
öö" #
Add
öö# &
(
öö& '
InformacionLogeo
öö' 7
)
öö7 8
;
öö8 9
responseXML
øø 
=
øø 
fnSerializeXML
øø ,
(
øø, -
oXML
øø- 1
)
øø1 2
;
øø2 3
}
ùù 
return
ûû 
responseXML
ûû 
;
ûû 
}
üü 	
public
şş 
string
şş  
WM_CambiarClaveWeb
şş (
(
şş( )
int
şş) ,
Cod_Empresa
şş- 8
,
şş8 9
int
şş: =
Cod_Sucursal
şş> J
,
şşJ K
int
şşL O
Id_Paciente
şşP [
,
şş[ \
string
şş] c
Pregunta_Clave
şşd r
,
şşr s
string
şşt z
Respuesta_Claveşş{ Š
,şşŠ ‹
stringşşŒ ’
Clave_Actualşş“ Ÿ
,şşŸ  
stringşş¡ §
Clave_Nuevaşş¨ ³
,şş³ ´
stringşşµ »

IP_Clienteşş¼ Æ
,şşÆ Ç
stringşşÈ Î
UserşşÏ Ó
,şşÓ Ô
stringşşÕ Û
ApiKeyşşÜ â
)şşâ ã
{
ÿÿ 	
string
€€ 
responseXML
€€ 
=
€€  
$str
€€! #
;
€€# $
if
 
(
 
fnValidarApiKey
 
(
  
ApiKey
  &
)
& '
==
( *
true
+ /
)
/ 0
{
‚‚ 
VariablesGlobales
ƒƒ !
.
ƒƒ! "#
OpenConfigWebServices
ƒƒ" 7
(
ƒƒ7 8
VariablesGlobales
ƒƒ8 I
.
ƒƒI J&
RutaWsAgendaCitasMedisyn
ƒƒJ b
)
ƒƒb c
;
ƒƒc d
using
„„ 
(
„„ 
var
„„ 
oWsTisal
„„ #
=
„„$ %
new
„„& ).
 ServicioReservaHoraWebSoapClient
„„* J
(
„„J K
VariablesGlobales
„„K \
.
„„\ ]
Binding
„„] d
,
„„d e
VariablesGlobales
„„f w
.
„„w x
EndPoint„„x €
)„„€ 
)„„ ‚
{
…… 
responseXML
†† 
=
††  !
oWsTisal
††" *
.
††* +%
WM_CambiarClaveWebAsync
††+ B
(
††B C
Cod_Empresa
††C N
,
††N O
Cod_Sucursal
††P \
,
††\ ]
Id_Paciente
††^ i
,
††i j
Pregunta_Clave
††k y
,
††y z
Respuesta_Clave††{ Š
,††Š ‹
Clave_Actual††Œ ˜
,††˜ ™
Clave_Nueva††š ¥
,††¥ ¦

IP_Cliente††§ ±
,††± ²
User††³ ·
)††· ¸
.††¸ ¹
Result††¹ ¿
;††¿ À
}
‡‡ 
VariablesGlobales
ˆˆ !
.
ˆˆ! "$
CloseConfigWebServices
ˆˆ" 8
(
ˆˆ8 9
)
ˆˆ9 :
;
ˆˆ: ;
}
‰‰ 
else
ŠŠ 
{
‹‹ 
Response_XML
ŒŒ 
.
ŒŒ 
XML
ŒŒ  
oXML
ŒŒ! %
=
ŒŒ& '
new
ŒŒ( +
Response_XML
ŒŒ, 8
.
ŒŒ8 9
XML
ŒŒ9 <
(
ŒŒ< =
)
ŒŒ= >
;
ŒŒ> ?
Response_XML
 
.
 
XML
  
.
  !
DatosCambio
! ,
DatosCambio
- 8
=
9 :
new
; >
Response_XML
? K
.
K L
XML
L O
.
O P
DatosCambio
P [
(
[ \
)
\ ]
;
] ^
DatosCambio
 
.
 

CODMENSAJE
 &
=
' (
$str
) ,
;
, -
DatosCambio
 
.
 /
!_x0027_CLAVEACTUALINVALIDA_x0027_
 =
=
> ?
$str
@ g
;
g h
oXML
‘‘ 
.
‘‘ 
CambioClaveWeb
‘‘ #
=
‘‘$ %
new
‘‘& )
List
‘‘* .
<
‘‘. /
Response_XML
‘‘/ ;
.
‘‘; <
XML
‘‘< ?
.
‘‘? @
DatosCambio
‘‘@ K
>
‘‘K L
(
‘‘L M
)
‘‘M N
;
‘‘N O
oXML
’’ 
.
’’ 
CambioClaveWeb
’’ #
.
’’# $
Add
’’$ '
(
’’' (
DatosCambio
’’( 3
)
’’3 4
;
’’4 5
oXML
““ 
.
““ 
Mensaje
““ 
=
““ 
new
““ "
Response_XML
““# /
.
““/ 0
XML
““0 3
.
““3 4
MensajeE
““4 <
(
““< =
)
““= >
;
““> ?
responseXML
•• 
=
•• 
fnSerializeXML
•• ,
(
••, -
oXML
••- 1
)
••1 2
;
••2 3
}
–– 
return
˜˜ 
responseXML
˜˜ 
;
˜˜ 
}
™™ 	
public
›› 
string
›› 
WM_EnvioMail
›› "
(
››" #
int
››# &
Cod_Empresa
››' 2
,
››2 3
string
››4 :
Mail_To
››; B
,
››B C
string
››D J
Mail_Bcc
››K S
,
››S T
string
››U [
Mail_Cc
››\ c
,
››c d
string
››e k
	Mail_Body
››l u
,
››u v
string
››w }
Mail_Subject››~ Š
,››Š ‹
string››Œ ’
Sistema_Envio››“  
,››  ¡
string››¢ ¨
Responsable››© ´
,››´ µ
string››¶ ¼
ApiKey››½ Ã
)››Ã Ä
{
œœ 	
string
 
responseXML
 
=
  
$str
! #
;
# $
if
 
(
 
fnValidarApiKey
 
(
  
ApiKey
  &
)
& '
==
( *
true
+ /
)
/ 0
{
ŸŸ 
VariablesGlobales
   !
.
  ! "#
OpenConfigWebServices
  " 7
(
  7 8
VariablesGlobales
  8 I
.
  I J&
RutaWsAgendaCitasMedisyn
  J b
)
  b c
;
  c d
using
¡¡ 
(
¡¡ 
var
¡¡ 
oWsTisal
¡¡ #
=
¡¡$ %
new
¡¡& ).
 ServicioReservaHoraWebSoapClient
¡¡* J
(
¡¡J K
VariablesGlobales
¡¡K \
.
¡¡\ ]
Binding
¡¡] d
,
¡¡d e
VariablesGlobales
¡¡f w
.
¡¡w x
EndPoint¡¡x €
)¡¡€ 
)¡¡ ‚
{
¢¢ 
responseXML
££ 
=
££  !
oWsTisal
££" *
.
££* +
WM_EnvioMailAsync
££+ <
(
££< =
Cod_Empresa
££= H
,
££H I
Mail_To
££J Q
,
££Q R
Mail_Bcc
££S [
,
££[ \
Mail_Cc
££] d
,
££d e
	Mail_Body
££f o
,
££o p
Mail_Subject
££q }
,
££} ~
Sistema_Envio££ Œ
,££Œ 
Responsable££ ™
)££™ š
.££š ›
Result££› ¡
;££¡ ¢
}
¤¤ 
VariablesGlobales
¥¥ !
.
¥¥! "$
CloseConfigWebServices
¥¥" 8
(
¥¥8 9
)
¥¥9 :
;
¥¥: ;
}
¦¦ 
else
§§ 
responseXML
¨¨ 
=
¨¨ 
$str
¨¨ %
;
¨¨% &
return
ªª 
responseXML
ªª 
;
ªª 
}
«« 	
public
¯¯ 
string
¯¯ 
WM_BuscaCargas
¯¯ $
(
¯¯$ %
int
¯¯% (
Cod_Empresa
¯¯) 4
,
¯¯4 5
int
¯¯6 9
Id_GrupoFamiliar
¯¯: J
)
¯¯J K
{
°° 	
string
´´ 
responseXML
´´ 
=
´´  
$str
´´! #
;
´´# $
string
µµ 
	stringXML
µµ 
=
µµ 
$str
µµ !
;
µµ! "
XmlDocument
¶¶ 
oXML
¶¶ 
=
¶¶ 
new
¶¶ "
XmlDocument
¶¶# .
(
¶¶. /
)
¶¶/ 0
;
¶¶0 1
VariablesGlobales
¸¸ 
.
¸¸ #
OpenConfigWebServices
¸¸ 3
(
¸¸3 4
VariablesGlobales
¸¸4 E
.
¸¸E F&
RutaWsAgendaCitasMedisyn
¸¸F ^
)
¸¸^ _
;
¸¸_ `
using
¹¹ 
(
¹¹ 
var
¹¹ 
oWsTisal
¹¹ 
=
¹¹  !
new
¹¹" %.
 ServicioReservaHoraWebSoapClient
¹¹& F
(
¹¹F G
VariablesGlobales
¹¹G X
.
¹¹X Y
Binding
¹¹Y `
,
¹¹` a
VariablesGlobales
¹¹b s
.
¹¹s t
EndPoint
¹¹t |
)
¹¹| }
)
¹¹} ~
{
ºº 
responseXML
»» 
=
»» 
oWsTisal
»» &
.
»»& '!
WM_BuscaCargasAsync
»»' :
(
»»: ;
Cod_Empresa
»»; F
,
»»F G
Id_GrupoFamiliar
»»H X
)
»»X Y
.
»»Y Z
Result
»»Z `
;
»»` a
}
¼¼ 
VariablesGlobales
½½ 
.
½½ $
CloseConfigWebServices
½½ 4
(
½½4 5
)
½½5 6
;
½½6 7
oXML
¿¿ 
.
¿¿ 
LoadXml
¿¿ 
(
¿¿ 
responseXML
¿¿ $
)
¿¿$ %
;
¿¿% &
try
ÁÁ 
{
ÂÂ 
	DataTable
ÃÃ 
dtReservaHora
ÃÃ '
=
ÃÃ( )
DevolverTabla_XML
ÃÃ* ;
(
ÃÃ; <
oXML
ÃÃ< @
,
ÃÃ@ A
$str
ÃÃB S
,
ÃÃS T
$str
ÃÃU `
,
ÃÃ` a
$str
ÃÃb j
,
ÃÃj k
$str
ÃÃl |
,
ÃÃ| }
$strÃÃ~ Œ
,ÃÃŒ 
$strÃÃ ›
,ÃÃ› œ
$strÃÃ ¨
,ÃÃ¨ ©
$strÃÃª ¼
,ÃÃ¼ ½
$strÃÃ¾ Ï
,ÃÃÏ Ğ
$strÃÃÑ â
,ÃÃâ ã
$strÃÃä õ
,ÃÃõ ö
$strÃÃ÷ ‹
,ÃÃ‹ Œ
$strÃÃ 
,ÃÃ Ÿ
$strÃÃ  µ
,ÃÃµ ¶
$strÃÃ· Ì
,ÃÃÌ Í
$strÃÃÎ â
,ÃÃâ ã
$strÃÃä ó
,ÃÃó ô
$strÃÃõ €
,ÃÃ€ 
$strÃÃ‚ ’
,ÃÃ’ “
$strÃÃ”  
,ÃÃ  ¡
$strÃÃ¢ ³
)ÃÃ³ ´
;ÃÃ´ µ
	stringXML
ÅÅ 
=
ÅÅ 
	stringXML
ÅÅ %
+
ÅÅ& '
$str
ÅÅ( @
;
ÅÅ@ A
for
ÆÆ 
(
ÆÆ 
int
ÆÆ 
i
ÆÆ 
=
ÆÆ 
$num
ÆÆ 
;
ÆÆ 
i
ÆÆ  !
<=
ÆÆ" $
dtReservaHora
ÆÆ% 2
.
ÆÆ2 3
Rows
ÆÆ3 7
.
ÆÆ7 8
Count
ÆÆ8 =
-
ÆÆ> ?
$num
ÆÆ@ A
;
ÆÆA B
i
ÆÆC D
++
ÆÆD F
)
ÆÆF G
{
ÇÇ 
	stringXML
ÈÈ 
=
ÈÈ 
	stringXML
ÈÈ  )
+
ÈÈ* +
$str
ÈÈ, 9
;
ÈÈ9 :
	stringXML
ÉÉ 
=
ÉÉ 
	stringXML
ÉÉ  )
+
ÉÉ* +
fnStringBodyXML
ÉÉ, ;
(
ÉÉ; <
dtReservaHora
ÉÉ< I
.
ÉÉI J
Rows
ÉÉJ N
[
ÉÉN O
i
ÉÉO P
]
ÉÉP Q
,
ÉÉQ R
dtReservaHora
ÉÉS `
.
ÉÉ` a
Columns
ÉÉa h
)
ÉÉh i
;
ÉÉi j
string
ËË 
RutPaciente
ËË &
=
ËË' (
(
ËË) *
string
ËË* 0
)
ËË0 1
dtReservaHora
ËË1 >
.
ËË> ?
Rows
ËË? C
[
ËËC D
i
ËËD E
]
ËËE F
[
ËËF G
(
ËËG H
$str
ËËH V
)
ËËV W
]
ËËW X
;
ËËX Y
	stringXML
ÎÎ 
=
ÎÎ 
	stringXML
ÎÎ  )
+
ÎÎ* +
$str
ÎÎ, <
+
ÎÎ= >
	Utilities
ÎÎ? H
.
ÎÎH I
Criptography
ÎÎI U
.
ÎÎU V$
EncryptConectionString
ÎÎV l
(
ÎÎl m
util
ÎÎm q
.
ÎÎq r
Rigth
ÎÎr w
(
ÎÎw x
$str
ÎÎx ~
+ÎÎ €
Rut_PacienteÎÎ 
,ÎÎ 
$numÎÎ 
)ÎÎ ‘
)ÎÎ‘ ’
+ÎÎ“ ”
$strÎÎ• ¦
;ÎÎ¦ §
	stringXML
ĞĞ 
=
ĞĞ 
	stringXML
ĞĞ  )
+
ĞĞ* +
$str
ĞĞ, :
;
ĞĞ: ;
}
ÑÑ 
	stringXML
ÒÒ 
=
ÒÒ 
	stringXML
ÒÒ %
+
ÒÒ& '
$strÒÒ( Ó
;ÒÒÓ Ô
}
ÓÓ 
catch
ÔÔ 
(
ÔÔ 
	Exception
ÔÔ 
ex
ÔÔ 
)
ÔÔ  
{
ÕÕ 
	stringXML
ÖÖ 
=
ÖÖ 
responseXML
ÖÖ '
;
ÖÖ' (
}
×× 
return
ÚÚ 
	stringXML
ÚÚ 
;
ÚÚ 
}
ÛÛ 	
public
ßß 
string
ßß %
WM_BuscaPacienteTitular
ßß -
(
ßß- .
int
ßß. 1
Cod_Empresa
ßß2 =
,
ßß= >
int
ßß? B
Cod_Sucursal
ßßC O
,
ßßO P
long
ßßQ U
Rut_Paciente
ßßV b
,
ßßb c
string
ßßd j
Dv_Paciente
ßßk v
,
ßßv w
string
ßßx ~
Usuarioßß †
,ßß† ‡
stringßßˆ #
CodPacienteConsultaßß ¢
=ßß£ ¤
$strßß¥ §
)ßß§ ¨
{
àà 	
string
áá 
responseXML
áá 
=
áá  
$str
áá! #
;
áá# $
string
ââ 
	stringXML
ââ 
=
ââ 
$str
ââ !
;
ââ! "
XmlDocument
ãã 
oXML
ãã 
=
ãã 
new
ãã "
XmlDocument
ãã# .
(
ãã. /
)
ãã/ 0
;
ãã0 1
VariablesGlobales
åå 
.
åå #
OpenConfigWebServices
åå 3
(
åå3 4
VariablesGlobales
åå4 E
.
ååE F&
RutaWsAgendaCitasMedisyn
ååF ^
)
åå^ _
;
åå_ `
using
ææ 
(
ææ 
var
ææ 
oWsTisal
ææ 
=
ææ  !
new
ææ" %.
 ServicioReservaHoraWebSoapClient
ææ& F
(
ææF G
VariablesGlobales
ææG X
.
ææX Y
Binding
ææY `
,
ææ` a
VariablesGlobales
ææb s
.
ææs t
EndPoint
ææt |
)
ææ| }
)
ææ} ~
{
çç 
responseXML
èè 
=
èè 
oWsTisal
èè &
.
èè& '*
WM_BuscaPacienteTitularAsync
èè' C
(
èèC D
Cod_Empresa
èèD O
,
èèO P
Cod_Sucursal
èèQ ]
,
èè] ^
Rut_Paciente
èè_ k
,
èèk l
Dv_Paciente
èèm x
,
èèx y
Usuarioèèz 
)èè ‚
.èè‚ ƒ
Resultèèƒ ‰
;èè‰ Š
}
éé 
VariablesGlobales
êê 
.
êê $
CloseConfigWebServices
êê 4
(
êê4 5
)
êê5 6
;
êê6 7
oXML
ìì 
.
ìì 
LoadXml
ìì 
(
ìì 
responseXML
ìì $
)
ìì$ %
;
ìì% &
try
îî 
{
ïï 
	DataTable
ğğ 
dtReservaHora
ğğ '
=
ğğ( )
DevolverTabla_XML
ğğ* ;
(
ğğ; <
oXML
ğğ< @
,
ğğ@ A
$str
ğğB L
,
ğğL M
$str
ğğN ]
,
ğğ] ^
$str
ğğ_ g
,
ğğg h
$str
ğği v
,
ğğv w
$strğğx ˆ
,ğğˆ ‰
$strğğŠ ›
,ğğ› œ
$strğğ ®
,ğğ® ¯
$strğğ° Á
,ğğÁ Â
$strğğÃ Ò
,ğğÒ Ó
$strğğÔ ë
,ğğë ì
$strğğí 
,ğğ ‚
$strğğƒ ”
,ğğ” •
$strğğ– ©
,ğğ© ª
$strğğ« ¼
,ğğ¼ ½
$strğğ¾ Ê
,ğğÊ Ë
$strğğÌ à
,ğğà á
$strğğâ ÷
,ğğ÷ ø
$strğğù 
,ğğ 
$strğğ ¤
,ğğ¤ ¥
$strğğ¦ º
,ğğº »
$strğğ¼ Ì
,ğğÌ Í
$strğğÎ Ş
,ğğŞ ß
$strğğà ó
,ğğó ô
$strğğõ †
,ğğ† ‡
$strğğˆ ˜
)ğğ˜ ™
;ğğ™ š
	stringXML
òò 
=
òò 
	stringXML
òò %
+
òò& '
$str
òò( 9
;
òò9 :
for
óó 
(
óó 
int
óó 
i
óó 
=
óó 
$num
óó 
;
óó 
i
óó  !
<=
óó" $
dtReservaHora
óó% 2
.
óó2 3
Rows
óó3 7
.
óó7 8
Count
óó8 =
-
óó> ?
$num
óó@ A
;
óóA B
i
óóC D
++
óóD F
)
óóF G
{
ôô 
	stringXML
õõ 
=
õõ 
	stringXML
õõ  )
+
õõ* +
$str
õõ, =
;
õõ= >
	stringXML
öö 
=
öö 
	stringXML
öö  )
+
öö* +
fnStringBodyXML
öö, ;
(
öö; <
dtReservaHora
öö< I
.
ööI J
Rows
ööJ N
[
ööN O
i
ööO P
]
ööP Q
,
ööQ R
dtReservaHora
ööS `
.
öö` a
Columns
ööa h
)
ööh i
;
ööi j
List
øø 
<
øø 

PacientesE
øø #
>
øø# $

oPacientes
øø% /
=
øø0 1
new
øø2 5
List
øø6 :
<
øø: ;

PacientesE
øø; E
>
øøE F
(
øøF G
)
øøG H
;
øøH I

oPacientes
ùù 
=
ùù  
new
ùù! $
PacientesAD
ùù% 0
(
ùù0 1
)
ùù1 2
.
ùù2 3#
Sp_Pacientes_Consulta
ùù3 H
(
ùùH I
new
ùùI L

PacientesE
ùùM W
(
ùùW X
(
ùùX Y
string
ùùY _
)
ùù_ `
dtReservaHora
ùù` m
.
ùùm n
Rows
ùùn r
[
ùùr s
i
ùùs t
]
ùùt u
[
ùùu v
$strùùv †
]ùù† ‡
,ùù‡ ˆ
$numùù‰ Š
,ùùŠ ‹
$numùùŒ 
,ùù 
$numùù ‘
,ùù‘ ’
$strùù“ •
)ùù• –
)ùù– —
;ùù— ˜
if
úú 
(
úú 

oPacientes
úú "
.
úú" #
Count
úú# (
!=
úú) +
$num
úú, -
)
úú- .
	stringXML
ûû !
=
ûû" #
	stringXML
ûû$ -
+
ûû. /
$str
ûû0 B
+
ûûC D

oPacientes
ûûE O
[
ûûO P
$num
ûûP Q
]
ûûQ R
.
ûûR S
FechaRegistro
ûûS `
.
ûû` a
ToString
ûûa i
(
ûûi j
$str
ûûj 
)ûû €
+ûû ‚
$strûûƒ –
;ûû– —
else
üü 
	stringXML
ıı !
=
ıı" #
	stringXML
ıı$ -
+
ıı. /
$str
ıı0 B
+
ııC D
DateTime
ııE M
.
ııM N
Now
ııN Q
.
ııQ R
ToString
ııR Z
(
ııZ [
$str
ıı[ p
)
ııp q
+
ıır s
$strııt ‡
;ıı‡ ˆ
	stringXML
ÿÿ 
=
ÿÿ 
	stringXML
ÿÿ  )
+
ÿÿ* +
$str
ÿÿ, <
+
ÿÿ= >
	Utilities
ÿÿ? H
.
ÿÿH I
Criptography
ÿÿI U
.
ÿÿU V$
EncryptConectionString
ÿÿV l
(
ÿÿl m
util
ÿÿm q
.
ÿÿq r
Rigth
ÿÿr w
(
ÿÿw x
$str
ÿÿx ~
+ÿÿ €
Rut_Pacienteÿÿ 
,ÿÿ 
$numÿÿ 
)ÿÿ ‘
)ÿÿ‘ ’
+ÿÿ“ ”
$strÿÿ• ¦
;ÿÿ¦ §
	stringXML
 
=
 
	stringXML
  )
+
* +
$str
, >
;
> ?
}
‚‚ 
	stringXML
ƒƒ 
=
ƒƒ 
	stringXML
ƒƒ %
+
ƒƒ& '
$strƒƒ( Ì
;ƒƒÌ Í
}
„„ 
catch
…… 
(
…… 
	Exception
…… 
ex
…… 
)
……  
{
†† 
	stringXML
‡‡ 
=
‡‡ 
responseXML
‡‡ '
;
‡‡' (
}
ˆˆ 
return
ŠŠ 
	stringXML
ŠŠ 
;
ŠŠ 
}
‹‹ 	
public
 
string
 "
WM_CreaXmlCalendario
 *
(
* +
int
+ .

intEmpresa
/ 9
,
9 :
int
; >
lngCodSucursal
? M
,
M N
int
O R
lngCodUnidad
S _
,
_ `
long
a e 
lngCodEspecialidad
f x
,
x y
long
z ~
lngCod_Prof Š
,Š ‹
longŒ 
Corr_Agenda‘ œ
,œ 
string ¤!
Fecha_ProximaHora¥ ¶
)¶ ·
{
 	
string
 
responseXML
 
=
  
$str
! #
;
# $
string
 
Fecha
 
=
 
$str
 
;
 
Fecha
’’ 
=
’’ 
Fecha_ProximaHora
’’ %
;
’’% &
VariablesGlobales
““ 
.
““ #
OpenConfigWebServices
““ 3
(
““3 4
VariablesGlobales
““4 E
.
““E F&
RutaWsAgendaCitasMedisyn
““F ^
)
““^ _
;
““_ `
using
”” 
(
”” 
var
”” 
oWsTisal
”” 
=
””  !
new
””" %.
 ServicioReservaHoraWebSoapClient
””& F
(
””F G
VariablesGlobales
””G X
.
””X Y
Binding
””Y `
,
””` a
VariablesGlobales
””b s
.
””s t
EndPoint
””t |
)
””| }
)
””} ~
{
•• 
responseXML
–– 
=
–– 
oWsTisal
–– &
.
––& ''
WM_CreaXmlCalendarioAsync
––' @
(
––@ A

intEmpresa
––A K
,
––K L
lngCodSucursal
––M [
,
––[ \
lngCodUnidad
––] i
,
––i j 
lngCodEspecialidad
––k }
,
––} ~
lngCod_Prof–– Š
,––Š ‹
Corr_Agenda––Œ —
,––— ˜
Fecha––™ 
)–– Ÿ
.––Ÿ  
Result––  ¦
;––¦ §
responseXML
—— 
=
—— 
responseXML
—— )
.
——) *
	Substring
——* 3
(
——3 4
$num
——4 5
,
——5 6
responseXML
——7 B
.
——B C
IndexOf
——C J
(
——J K
$str
——K N
)
——N O
)
——O P
;
——P Q
Fecha
œœ 
=
œœ 
Fecha
œœ 
.
œœ 
	Substring
œœ '
(
œœ' (
$num
œœ( )
,
œœ) *
$num
œœ+ ,
)
œœ, -
+
œœ. /
$str
œœ0 3
+
œœ4 5
Fecha
œœ6 ;
.
œœ; <
	Substring
œœ< E
(
œœE F
$num
œœF G
,
œœG H
$num
œœI J
)
œœJ K
+
œœL M
$str
œœN Q
+
œœR S
Fecha
œœT Y
.
œœY Z
	Substring
œœZ c
(
œœc d
$num
œœd e
,
œœe f
$num
œœg h
)
œœh i
;
œœi j
Fecha
 
=
 
Convert
 
.
  

ToDateTime
  *
(
* +
Fecha
+ 0
)
0 1
.
1 2
AddDays
2 9
(
9 :
$num
: <
)
< =
.
= >
ToString
> F
(
F G
$str
G S
)
S T
;
T U
responseXML
 
=
 
responseXML
 )
+
* +
oWsTisal
, 4
.
4 5'
WM_CreaXmlCalendarioAsync
5 N
(
N O

intEmpresa
O Y
,
Y Z
lngCodSucursal
[ i
,
i j
lngCodUnidad
k w
,
w x!
lngCodEspecialidady ‹
,‹ Œ
lngCod_Prof ˜
,˜ ™
Corr_Agendaš ¥
,¥ ¦
Fecha§ ¬
)¬ ­
.­ ®
Result® ´
;´ µ
responseXML
ŸŸ 
=
ŸŸ 
responseXML
ŸŸ )
.
ŸŸ) *
	Substring
ŸŸ* 3
(
ŸŸ3 4
$num
ŸŸ4 5
,
ŸŸ5 6
responseXML
ŸŸ7 B
.
ŸŸB C
IndexOf
ŸŸC J
(
ŸŸJ K
$str
ŸŸK N
)
ŸŸN O
)
ŸŸO P
;
ŸŸP Q
Fecha
¡¡ 
=
¡¡ 
Fecha
¡¡ 
.
¡¡ 
	Substring
¡¡ '
(
¡¡' (
$num
¡¡( )
,
¡¡) *
$num
¡¡+ ,
)
¡¡, -
+
¡¡. /
$str
¡¡0 3
+
¡¡4 5
Fecha
¡¡6 ;
.
¡¡; <
	Substring
¡¡< E
(
¡¡E F
$num
¡¡F G
,
¡¡G H
$num
¡¡I J
)
¡¡J K
+
¡¡L M
$str
¡¡N Q
+
¡¡R S
Fecha
¡¡T Y
.
¡¡Y Z
	Substring
¡¡Z c
(
¡¡c d
$num
¡¡d e
,
¡¡e f
$num
¡¡g h
)
¡¡h i
;
¡¡i j
Fecha
¢¢ 
=
¢¢ 
Convert
¢¢ 
.
¢¢  

ToDateTime
¢¢  *
(
¢¢* +
Fecha
¢¢+ 0
)
¢¢0 1
.
¢¢1 2
AddDays
¢¢2 9
(
¢¢9 :
$num
¢¢: <
)
¢¢< =
.
¢¢= >
ToString
¢¢> F
(
¢¢F G
$str
¢¢G S
)
¢¢S T
;
¢¢T U
responseXML
££ 
=
££ 
responseXML
££ )
+
££* +
oWsTisal
££, 4
.
££4 5'
WM_CreaXmlCalendarioAsync
££5 N
(
££N O

intEmpresa
££O Y
,
££Y Z
lngCodSucursal
££[ i
,
££i j
lngCodUnidad
££k w
,
££w x!
lngCodEspecialidad££y ‹
,££‹ Œ
lngCod_Prof££ ˜
,££˜ ™
Corr_Agenda££š ¥
,££¥ ¦
Fecha££§ ¬
)££¬ ­
;££­ ®
}
¤¤ 
VariablesGlobales
¦¦ 
.
¦¦ $
CloseConfigWebServices
¦¦ 4
(
¦¦4 5
)
¦¦5 6
;
¦¦6 7
return
¨¨ 
responseXML
¨¨ 
;
¨¨ 
}
©© 	
public
«« 
string
«« ,
WM_CreaXMLDetalleDiaCalendario
«« 4
(
««4 5
int
««5 8
Cod_Empresa
««9 D
,
««D E
int
««F I
Cod_Sucursal
««J V
,
««V W
int
««X [
Cod_CentMedico
««\ j
,
««j k
int
««l o

Cod_Unidad
««p z
,
««z {
int
««|  
Cod_Especialidad««€ 
,«« ‘
int««’ •
Cod_Prof««– 
,«« Ÿ
long««  ¤
Corr_Agenda««¥ °
,««° ±
string««² ¸
Fecha««¹ ¾
,««¾ ¿
string««À Æ"
Fecha_proxhoradisp««Ç Ù
)««Ù Ú
{
¬¬ 	
string
­­ 
responseXML
­­ 
=
­­  
$str
­­! #
;
­­# $
XmlDocument
®® 
oXML
®® 
=
®® 
new
®® "
XmlDocument
®®# .
(
®®. /
)
®®/ 0
;
®®0 1
VariablesGlobales
°° 
.
°° #
OpenConfigWebServices
°° 3
(
°°3 4
VariablesGlobales
°°4 E
.
°°E F&
RutaWsAgendaCitasMedisyn
°°F ^
)
°°^ _
;
°°_ `
using
±± 
(
±± 
var
±± 
oWsTisal
±± 
=
±±  !
new
±±" %.
 ServicioReservaHoraWebSoapClient
±±& F
(
±±F G
VariablesGlobales
±±G X
.
±±X Y
Binding
±±Y `
,
±±` a
VariablesGlobales
±±b s
.
±±s t
EndPoint
±±t |
)
±±| }
)
±±} ~
{
²² 
responseXML
³³ 
=
³³ 
oWsTisal
³³ &
.
³³& '1
#WM_CreaXmlDetalleDiaCalendarioAsync
³³' J
(
³³J K
Cod_Empresa
³³K V
,
³³V W
Cod_Sucursal
³³X d
,
³³d e
Cod_CentMedico
³³f t
,
³³t u

Cod_Unidad³³v €
,³³€  
Cod_Especialidad³³‚ ’
,³³’ “
Cod_Prof³³” œ
,³³œ 
Corr_Agenda³³ ©
,³³© ª
Fecha³³« °
,³³° ±"
Fecha_proxhoradisp³³² Ä
)³³Ä Å
+³³Æ Ç
$str³³È Ê
;³³Ê Ë
}
´´ 
VariablesGlobales
µµ 
.
µµ $
CloseConfigWebServices
µµ 4
(
µµ4 5
)
µµ5 6
;
µµ6 7
return
·· 
responseXML
·· 
;
·· 
}
¸¸ 	
public
ºº 
string
ºº .
 WM_CreaXMLDetalleDiaCalendarioV2
ºº 6
(
ºº6 7
int
ºº7 :
Cod_Empresa
ºº; F
,
ººF G
int
ººH K
Cod_Sucursal
ººL X
,
ººX Y
int
ººZ ]
Cod_CentMedico
ºº^ l
,
ººl m
int
ººn q

Cod_Unidad
ººr |
,
ºº| }
intºº~  
Cod_Especialidadºº‚ ’
,ºº’ “
intºº” —
Cod_Profºº˜  
,ºº  ¡
longºº¢ ¦
Corr_Agendaºº§ ²
,ºº² ³
stringºº´ º
Fechaºº» À
,ººÀ Á
stringººÂ È"
Fecha_proxhoradispººÉ Û
,ººÛ Ü
stringººİ ã
TeleMedicinaººä ğ
)ººğ ñ
{
»» 	
string
¼¼ 
responseXML
¼¼ 
=
¼¼  
$str
¼¼! #
;
¼¼# $
XmlDocument
½½ 
oXML
½½ 
=
½½ 
new
½½ "
XmlDocument
½½# .
(
½½. /
)
½½/ 0
;
½½0 1
VariablesGlobales
¿¿ 
.
¿¿ #
OpenConfigWebServices
¿¿ 3
(
¿¿3 4
VariablesGlobales
¿¿4 E
.
¿¿E F&
RutaWsAgendaCitasMedisyn
¿¿F ^
)
¿¿^ _
;
¿¿_ `
using
ÀÀ 
(
ÀÀ 
var
ÀÀ 
oWsTisal
ÀÀ 
=
ÀÀ  !
new
ÀÀ" %.
 ServicioReservaHoraWebSoapClient
ÀÀ& F
(
ÀÀF G
VariablesGlobales
ÀÀG X
.
ÀÀX Y
Binding
ÀÀY `
,
ÀÀ` a
VariablesGlobales
ÀÀb s
.
ÀÀs t
EndPoint
ÀÀt |
)
ÀÀ| }
)
ÀÀ} ~
{
ÁÁ 
responseXML
ÂÂ 
=
ÂÂ 
oWsTisal
ÂÂ &
.
ÂÂ& '1
#WM_CreaXmlDetalleDiaCalendarioAsync
ÂÂ' J
(
ÂÂJ K
Cod_Empresa
ÂÂK V
,
ÂÂV W
Cod_Sucursal
ÂÂX d
,
ÂÂd e
Cod_CentMedico
ÂÂf t
,
ÂÂt u

Cod_UnidadÂÂv €
,ÂÂ€  
Cod_EspecialidadÂÂ‚ ’
,ÂÂ’ “
Cod_ProfÂÂ” œ
,ÂÂœ 
Corr_AgendaÂÂ ©
,ÂÂ© ª
FechaÂÂ« °
,ÂÂ° ±"
Fecha_proxhoradispÂÂ² Ä
)ÂÂÄ Å
.ÂÂÅ Æ
ResultÂÂÆ Ì
;ÂÂÌ Í
if
ÄÄ 
(
ÄÄ 
VariablesGlobales
ÄÄ %
.
ÄÄ% &*
HorarioRestringidoPresencial
ÄÄ& B
!=
ÄÄC E
$str
ÄÄF H
|
ÄÄI J
VariablesGlobales
ÄÄK \
.
ÄÄ\ ]'
HorarioRestringidoVirtual
ÄÄ] v
!=
ÄÄw y
$str
ÄÄz |
)
ÄÄ| }
{
ÅÅ 
oXML
ÆÆ 
.
ÆÆ 
LoadXml
ÆÆ  
(
ÆÆ  !
responseXML
ÆÆ! ,
)
ÆÆ, -
;
ÆÆ- .
	DataTable
ÇÇ 
dtReservaHora
ÇÇ +
=
ÇÇ, -
DevolverTabla_XML
ÇÇ. ?
(
ÇÇ? @
oXML
ÇÇ@ D
,
ÇÇD E
$str
ÇÇF M
,
ÇÇM N
$str
ÇÇO [
,
ÇÇ[ \
$str
ÇÇ] c
,
ÇÇc d
$str
ÇÇe y
,
ÇÇy z
$strÇÇ{ €
,ÇÇ€ 
$strÇÇ‚ ‘
,ÇÇ‘ ’
$strÇÇ“ š
,ÇÇš ›
$strÇÇœ ¢
)ÇÇ¢ £
;ÇÇ£ ¤
string
ÉÉ 
	stringXML
ÉÉ $
=
ÉÉ% &
$str
ÉÉ' )
;
ÉÉ) *
	stringXML
ÊÊ 
=
ÊÊ 
$str
ÊÊ  .
;
ÊÊ. /
for
ÌÌ 
(
ÌÌ 
int
ÌÌ 
i
ÌÌ 
=
ÌÌ  
$num
ÌÌ! "
;
ÌÌ" #
i
ÌÌ$ %
<=
ÌÌ& (
dtReservaHora
ÌÌ) 6
.
ÌÌ6 7
Rows
ÌÌ7 ;
.
ÌÌ; <
Count
ÌÌ< A
-
ÌÌB C
$num
ÌÌD E
;
ÌÌE F
i
ÌÌG H
++
ÌÌH J
)
ÌÌJ K
{
ÍÍ 
if
ÎÎ 
(
ÎÎ 
TeleMedicina
ÎÎ (
==
ÎÎ) +
$str
ÎÎ, /
)
ÎÎ/ 0
{
ÏÏ 
if
ĞĞ 
(
ĞĞ  
Convert
ĞĞ  '
.
ĞĞ' (

ToDateTime
ĞĞ( 2
(
ĞĞ2 3
dtReservaHora
ĞĞ3 @
.
ĞĞ@ A
Rows
ĞĞA E
[
ĞĞE F
i
ĞĞF G
]
ĞĞG H
[
ĞĞH I
$str
ĞĞI O
]
ĞĞO P
+
ĞĞQ R
$str
ĞĞS U
)
ĞĞU V
<=
ĞĞW Y
Convert
ĞĞZ a
.
ĞĞa b

ToDateTime
ĞĞb l
(
ĞĞl m
VariablesGlobales
ĞĞm ~
.
ĞĞ~ (
HorarioRestringidoVirtualĞĞ ˜
)ĞĞ˜ ™
)ĞĞ™ š
	stringXML
ÑÑ  )
=
ÑÑ* +
	stringXML
ÑÑ, 5
+
ÑÑ6 7
$str
ÑÑ8 F
+
ÑÑG H
fnStringBodyXML
ÑÑI X
(
ÑÑX Y
dtReservaHora
ÑÑY f
.
ÑÑf g
Rows
ÑÑg k
[
ÑÑk l
i
ÑÑl m
]
ÑÑm n
,
ÑÑn o
dtReservaHora
ÑÑp }
.
ÑÑ} ~
ColumnsÑÑ~ …
)ÑÑ… †
+ÑÑ‡ ˆ
$strÑÑ‰ ˜
;ÑÑ˜ ™
}
ÒÒ 
else
ÓÓ 
if
ÓÓ 
(
ÓÓ  !
Convert
ÓÓ! (
.
ÓÓ( )

ToDateTime
ÓÓ) 3
(
ÓÓ3 4
dtReservaHora
ÓÓ4 A
.
ÓÓA B
Rows
ÓÓB F
[
ÓÓF G
i
ÓÓG H
]
ÓÓH I
[
ÓÓI J
$str
ÓÓJ P
]
ÓÓP Q
+
ÓÓR S
$str
ÓÓT V
)
ÓÓV W
<=
ÓÓX Z
Convert
ÓÓ[ b
.
ÓÓb c

ToDateTime
ÓÓc m
(
ÓÓm n
VariablesGlobales
ÓÓn 
.ÓÓ €,
HorarioRestringidoPresencialÓÓ€ œ
)ÓÓœ 
)ÓÓ 
	stringXML
ÔÔ %
=
ÔÔ& '
	stringXML
ÔÔ( 1
+
ÔÔ2 3
$str
ÔÔ4 B
+
ÔÔC D
fnStringBodyXML
ÔÔE T
(
ÔÔT U
dtReservaHora
ÔÔU b
.
ÔÔb c
Rows
ÔÔc g
[
ÔÔg h
i
ÔÔh i
]
ÔÔi j
,
ÔÔj k
dtReservaHora
ÔÔl y
.
ÔÔy z
ColumnsÔÔz 
)ÔÔ ‚
+ÔÔƒ „
$strÔÔ… ”
;ÔÔ” •
}
ÕÕ 
	stringXML
×× 
=
×× 
	stringXML
××  )
+
××* +
$str
××, 6
;
××6 7
	stringXML
ÙÙ 
=
ÙÙ 
	stringXML
ÙÙ  )
+
ÙÙ* +
$strÙÙ, á
;ÙÙá â
responseXML
ÛÛ 
=
ÛÛ  !
	stringXML
ÛÛ" +
;
ÛÛ+ ,
}
ÜÜ 
}
İİ 
VariablesGlobales
ŞŞ 
.
ŞŞ $
CloseConfigWebServices
ŞŞ 4
(
ŞŞ4 5
)
ŞŞ5 6
;
ŞŞ6 7
return
àà 
responseXML
àà 
;
àà 
}
áá 	
public
ãã 
string
ãã 
WM_ObtenerComunas
ãã '
(
ãã' (
int
ãã( +
Cod_Empresa
ãã, 7
,
ãã7 8
int
ãã9 <
Cod_Sucursal
ãã= I
,
ããI J
string
ããK Q
User
ããR V
,
ããV W
long
ããX \

Cod_Ubigeo
ãã] g
)
ããg h
{
ää 	
string
åå 
responseXML
åå 
=
åå  
$str
åå! #
;
åå# $
VariablesGlobales
çç 
.
çç #
OpenConfigWebServices
çç 3
(
çç3 4
VariablesGlobales
çç4 E
.
ççE F&
RutaWsAgendaCitasMedisyn
ççF ^
)
çç^ _
;
çç_ `
using
èè 
(
èè 
var
èè 
oWsTisal
èè 
=
èè  !
new
èè" %.
 ServicioReservaHoraWebSoapClient
èè& F
(
èèF G
VariablesGlobales
èèG X
.
èèX Y
Binding
èèY `
,
èè` a
VariablesGlobales
èèb s
.
èès t
EndPoint
èèt |
)
èè| }
)
èè} ~
{
éé 
responseXML
êê 
=
êê 
oWsTisal
êê &
.
êê& '$
WM_ObtenerComunasAsync
êê' =
(
êê= >
Cod_Empresa
êê> I
,
êêI J
Cod_Sucursal
êêK W
,
êêW X
User
êêY ]
,
êê] ^

Cod_Ubigeo
êê_ i
)
êêi j
+
êêk l
$str
êêm o
;
êêo p
}
ëë 
VariablesGlobales
íí 
.
íí $
CloseConfigWebServices
íí 4
(
íí4 5
)
íí5 6
;
íí6 7
return
ïï 
responseXML
ïï 
;
ïï 
}
ğğ 	
public
òò 
string
òò 
WM_ObtenerDepto
òò %
(
òò% &
int
òò& )
Cod_Empresa
òò* 5
)
òò5 6
{
óó 	
string
ôô 
responseXML
ôô 
=
ôô  
$str
ôô! #
;
ôô# $
VariablesGlobales
öö 
.
öö #
OpenConfigWebServices
öö 3
(
öö3 4
VariablesGlobales
öö4 E
.
ööE F&
RutaWsAgendaCitasMedisyn
ööF ^
)
öö^ _
;
öö_ `
using
÷÷ 
(
÷÷ 
var
÷÷ 
oWsTisal
÷÷ 
=
÷÷  !
new
÷÷" %.
 ServicioReservaHoraWebSoapClient
÷÷& F
(
÷÷F G
VariablesGlobales
÷÷G X
.
÷÷X Y
Binding
÷÷Y `
,
÷÷` a
VariablesGlobales
÷÷b s
.
÷÷s t
EndPoint
÷÷t |
)
÷÷| }
)
÷÷} ~
{
øø 
responseXML
ùù 
=
ùù 
oWsTisal
ùù &
.
ùù& '"
WM_ObtenerDeptoAsync
ùù' ;
(
ùù; <
Cod_Empresa
ùù< G
)
ùùG H
.
ùùH I
Result
ùùI O
;
ùùO P
}
úú 
VariablesGlobales
ûû 
.
ûû $
CloseConfigWebServices
ûû 4
(
ûû4 5
)
ûû5 6
;
ûû6 7
return
ıı 
responseXML
ıı 
;
ıı 
}
şş 	
public
€€ 
string
€€ #
WM_ObtenerInfoEmpresa
€€ +
(
€€+ ,
int
€€, /
Cod_Empresa
€€0 ;
)
€€; <
{
 	
string
‚‚ 
responseXML
‚‚ 
=
‚‚  
$str
‚‚! #
;
‚‚# $
VariablesGlobales
„„ 
.
„„ #
OpenConfigWebServices
„„ 3
(
„„3 4
VariablesGlobales
„„4 E
.
„„E F&
RutaWsAgendaCitasMedisyn
„„F ^
)
„„^ _
;
„„_ `
using
…… 
(
…… 
var
…… 
oWsTisal
…… 
=
……  !
new
……" %.
 ServicioReservaHoraWebSoapClient
……& F
(
……F G
VariablesGlobales
……G X
.
……X Y
Binding
……Y `
,
……` a
VariablesGlobales
……b s
.
……s t
EndPoint
……t |
)
……| }
)
……} ~
{
†† 
responseXML
‡‡ 
=
‡‡ 
oWsTisal
‡‡ &
.
‡‡& '(
WM_ObtenerInfoEmpresaAsync
‡‡' A
(
‡‡A B
Cod_Empresa
‡‡B M
)
‡‡M N
.
‡‡N O
Result
‡‡O U
;
‡‡U V
}
ˆˆ 
VariablesGlobales
‰‰ 
.
‰‰ $
CloseConfigWebServices
‰‰ 4
(
‰‰4 5
)
‰‰5 6
;
‰‰6 7
return
‹‹ 
responseXML
‹‹ 
;
‹‹ 
}
ŒŒ 	
public
 
string
 "
WM_ObtenerProvincias
 *
(
* +
int
+ .
Cod_Empresa
/ :
,
: ;
long
< @

Cod_Ubigeo
A K
)
K L
{
 	
string
 
responseXML
 
=
  
$str
! #
;
# $
VariablesGlobales
’’ 
.
’’ #
OpenConfigWebServices
’’ 3
(
’’3 4
VariablesGlobales
’’4 E
.
’’E F&
RutaWsAgendaCitasMedisyn
’’F ^
)
’’^ _
;
’’_ `
using
““ 
(
““ 
var
““ 
oWsTisal
““ 
=
““  !
new
““" %.
 ServicioReservaHoraWebSoapClient
““& F
(
““F G
VariablesGlobales
““G X
.
““X Y
Binding
““Y `
,
““` a
VariablesGlobales
““b s
.
““s t
EndPoint
““t |
)
““| }
)
““} ~
{
”” 
responseXML
•• 
=
•• 
oWsTisal
•• &
.
••& ''
WM_ObtenerProvinciasAsync
••' @
(
••@ A
Cod_Empresa
••A L
,
••L M

Cod_Ubigeo
••N X
)
••X Y
.
••Y Z
Result
••Z `
;
••` a
}
–– 
VariablesGlobales
—— 
.
—— $
CloseConfigWebServices
—— 4
(
——4 5
)
——5 6
;
——6 7
return
™™ 
responseXML
™™ 
;
™™ 
}
šš 	
public
œœ 
string
œœ &
WM_ObtenerReservasMedico
œœ .
(
œœ. /
int
œœ/ 2
Cod_Empresa
œœ3 >
,
œœ> ?
int
œœ@ C
Cod_Sucursal
œœD P
,
œœP Q
int
œœR U
Cod_CentroMedico
œœV f
,
œœf g
int
œœh k

Cod_Medico
œœl v
,
œœv w
long
œœx |
Corr_Agendaœœ} ˆ
,œœˆ ‰
stringœœŠ 
Fechaœœ‘ –
)œœ– —
{
 	
string
 
responseXML
 
=
  
$str
! #
;
# $
VariablesGlobales
   
.
   #
OpenConfigWebServices
   3
(
  3 4
VariablesGlobales
  4 E
.
  E F&
RutaWsAgendaCitasMedisyn
  F ^
)
  ^ _
;
  _ `
using
¡¡ 
(
¡¡ 
var
¡¡ 
oWsTisal
¡¡ 
=
¡¡  !
new
¡¡" %.
 ServicioReservaHoraWebSoapClient
¡¡& F
(
¡¡F G
VariablesGlobales
¡¡G X
.
¡¡X Y
Binding
¡¡Y `
,
¡¡` a
VariablesGlobales
¡¡b s
.
¡¡s t
EndPoint
¡¡t |
)
¡¡| }
)
¡¡} ~
{
¢¢ 
responseXML
££ 
=
££ 
oWsTisal
££ &
.
££& '+
WM_ObtenerReservasMedicoAsync
££' D
(
££D E
Cod_Empresa
££E P
,
££P Q
Cod_Sucursal
££R ^
,
££^ _
Cod_CentroMedico
££` p
,
££p q

Cod_Medico
££r |
,
££| }
Corr_Agenda££~ ‰
,££‰ Š
Fecha££‹ 
)££ ‘
.££‘ ’
Result££’ ˜
;££˜ ™
}
¤¤ 
VariablesGlobales
¥¥ 
.
¥¥ $
CloseConfigWebServices
¥¥ 4
(
¥¥4 5
)
¥¥5 6
;
¥¥6 7
	DataTable
§§ 
dt
§§ 
=
§§ 
new
§§ 
	DataTable
§§ (
(
§§( )
)
§§) *
;
§§* +
XmlDocument
¨¨ 
oXML
¨¨ 
=
¨¨ 
new
¨¨ "
XmlDocument
¨¨# .
(
¨¨. /
)
¨¨/ 0
;
¨¨0 1
int
©© 
RowCount
©© 
=
©© 
$num
©© 
;
©© 
string
ªª 
	stringXml
ªª 
=
ªª 
$str
ªª !
;
ªª! "
string
«« 
stringResult
«« 
=
««  !
$str
««" $
;
««$ %
oXML
­­ 
.
­­ 
LoadXml
­­ 
(
­­ 
responseXML
­­ $
)
­­$ %
;
­­% &
dt
¯¯ 
=
¯¯ 
DevolverTabla_XML
¯¯ "
(
¯¯" #
oXML
¯¯# '
,
¯¯' (
$str
¯¯) 9
,
¯¯9 :
$str
¯¯; B
,
¯¯B C
$str
¯¯D T
,
¯¯T U
$str
¯¯V d
,
¯¯d e
$str
¯¯f t
,
¯¯t u
$str¯¯v „
,¯¯„ …
$str¯¯† 
,¯¯ 
$str¯¯‘ œ
,¯¯œ 
$str¯¯ ª
,¯¯ª «
$str¯¯¬ µ
,¯¯µ ¶
$str¯¯· À
,¯¯À Á
$str¯¯Â Ê
,¯¯Ê Ë
$str¯¯Ì Ú
,¯¯Ú Û
$str¯¯Ü æ
,¯¯æ ç
$str¯¯è î
,¯¯î ï
$str¯¯ğ ù
,¯¯ù ú
$str¯¯û „
,¯¯„ …
$str¯¯† 
,¯¯ 
$str¯¯‘  
)¯¯  ¡
;¯¯¡ ¢
RowCount
°° 
=
°° 
dt
°° 
.
°° 
Rows
°° 
.
°° 
Count
°° $
/
°°% &
$num
°°' (
;
°°( )
for
²² 
(
²² 
int
²² 
i
²² 
=
²² 
$num
²² 
;
²² 
i
²² 
<=
²²  
(
²²! "
RowCount
²²" *
)
²²* +
-
²², -
$num
²². /
;
²²/ 0
i
²²1 2
++
²²2 4
)
²²4 5
{
³³ 
	stringXml
´´ 
=
´´ 
	stringXml
´´ %
+
´´& '
$str
´´( 1
;
´´1 2
	stringXml
µµ 
=
µµ 
	stringXml
µµ %
+
µµ& '
fnStringBodyXML
µµ( 7
(
µµ7 8
dt
µµ8 :
.
µµ: ;
Rows
µµ; ?
[
µµ? @
i
µµ@ A
]
µµA B
,
µµB C
dt
µµD F
.
µµF G
Columns
µµG N
)
µµN O
;
µµO P
	stringXml
¶¶ 
=
¶¶ 
	stringXml
¶¶ %
+
¶¶& '
$str
¶¶( 2
;
¶¶2 3
}
·· 
stringResult
¹¹ 
=
¹¹ 
stringResult
¹¹ '
+
¹¹( )
$str
¹¹* A
;
¹¹A B
stringResult
ºº 
=
ºº 
stringResult
ºº '
+
ºº( )
	stringXml
ºº* 3
;
ºº3 4
stringResult
»» 
=
»» 
stringResult
»» '
+
»»( )
$str»»* Ç
;»»Ç È
return
½½ 
stringResult
½½ 
;
½½  
}
¾¾ 	
public
ÀÀ 
string
ÀÀ "
WM_ValidaPacienteWeb
ÀÀ *
(
ÀÀ* +
int
ÀÀ+ .
Cod_Empresa
ÀÀ/ :
,
ÀÀ: ;
string
ÀÀ< B
Rut_Paciente
ÀÀC O
,
ÀÀO P
string
ÀÀQ W
DV_Paciente
ÀÀX c
,
ÀÀc d
string
ÀÀe k
Clave_Paciente
ÀÀl z
)
ÀÀz {
{
ÁÁ 	
string
ÂÂ 
responseXML
ÂÂ 
=
ÂÂ  
$str
ÂÂ! #
;
ÂÂ# $
VariablesGlobales
ÄÄ 
.
ÄÄ #
OpenConfigWebServices
ÄÄ 3
(
ÄÄ3 4
VariablesGlobales
ÄÄ4 E
.
ÄÄE F&
RutaWsAgendaCitasMedisyn
ÄÄF ^
)
ÄÄ^ _
;
ÄÄ_ `
using
ÅÅ 
(
ÅÅ 
var
ÅÅ 
oWsTisal
ÅÅ 
=
ÅÅ  !
new
ÅÅ" %.
 ServicioReservaHoraWebSoapClient
ÅÅ& F
(
ÅÅF G
VariablesGlobales
ÅÅG X
.
ÅÅX Y
Binding
ÅÅY `
,
ÅÅ` a
VariablesGlobales
ÅÅb s
.
ÅÅs t
EndPoint
ÅÅt |
)
ÅÅ| }
)
ÅÅ} ~
{
ÆÆ 
responseXML
ÇÇ 
=
ÇÇ 
oWsTisal
ÇÇ &
.
ÇÇ& ''
WM_ValidaPacienteWebAsync
ÇÇ' @
(
ÇÇ@ A
Cod_Empresa
ÇÇA L
,
ÇÇL M
Rut_Paciente
ÇÇN Z
,
ÇÇZ [
DV_Paciente
ÇÇ\ g
,
ÇÇg h
Clave_Paciente
ÇÇi w
)
ÇÇw x
.
ÇÇx y
Result
ÇÇy 
;ÇÇ €
}
ÉÉ 
VariablesGlobales
ÊÊ 
.
ÊÊ $
CloseConfigWebServices
ÊÊ 4
(
ÊÊ4 5
)
ÊÊ5 6
;
ÊÊ6 7
return
ÌÌ 
responseXML
ÌÌ 
;
ÌÌ 
}
ÍÍ 	
public
ÑÑ 
class
ÑÑ 
Response_XML
ÑÑ !
{
ÒÒ 	
public
ÓÓ 
XML
ÓÓ 
_Xml
ÓÓ 
{
ÓÓ 
get
ÓÓ !
;
ÓÓ! "
set
ÓÓ# &
;
ÓÓ& '
}
ÓÓ( )
=
ÓÓ* +
new
ÓÓ, /
XML
ÓÓ0 3
(
ÓÓ3 4
)
ÓÓ4 5
;
ÓÓ5 6
public
ÔÔ 
class
ÔÔ 
XML
ÔÔ 
{
ÕÕ 
public
ÖÖ 
RecuperaAccesoE
ÖÖ &
RecuperaAcceso
ÖÖ' 5
{
ÖÖ6 7
get
ÖÖ8 ;
;
ÖÖ; <
set
ÖÖ= @
;
ÖÖ@ A
}
ÖÖB C
public
×× 
List
×× 
<
×× 
DatosPaciente
×× )
>
××) *
Paciente
××+ 3
{
××4 5
get
××6 9
;
××9 :
set
××; >
;
××> ?
}
××@ A
public
ØØ 
List
ØØ 
<
ØØ 
InformacionLogeo
ØØ ,
>
ØØ, -
LogeoPaciente
ØØ. ;
{
ØØ< =
get
ØØ> A
;
ØØA B
set
ØØC F
;
ØØF G
}
ØØH I
public
ÙÙ 
List
ÙÙ 
<
ÙÙ 
DatosCambio
ÙÙ '
>
ÙÙ' (
CambioClaveWeb
ÙÙ) 7
{
ÙÙ8 9
get
ÙÙ: =
;
ÙÙ= >
set
ÙÙ? B
;
ÙÙB C
}
ÙÙD E
public
ÚÚ 
MensajeE
ÚÚ 
Mensaje
ÚÚ  '
{
ÚÚ( )
get
ÚÚ* -
;
ÚÚ- .
set
ÚÚ/ 2
;
ÚÚ2 3
}
ÚÚ4 5
public
ÛÛ 
ErrorE
ÛÛ 
Error
ÛÛ #
{
ÛÛ$ %
get
ÛÛ& )
;
ÛÛ) *
set
ÛÛ+ .
;
ÛÛ. /
}
ÛÛ0 1
=
ÛÛ2 3
new
ÛÛ4 7
ErrorE
ÛÛ8 >
(
ÛÛ> ?
)
ÛÛ? @
;
ÛÛ@ A
public
İİ 
class
İİ 
RecuperaAccesoE
İİ ,
{
ŞŞ 
public
ßß 
DatosAccesoE
ßß '
DatosAcceso
ßß( 3
{
ßß4 5
get
ßß6 9
;
ßß9 :
set
ßß; >
;
ßß> ?
}
ßß@ A
=
ßßB C
new
ßßD G
DatosAccesoE
ßßH T
(
ßßT U
)
ßßU V
;
ßßV W
public
àà 
class
àà  
DatosAccesoE
àà! -
{
áá 
public
ââ 
string
ââ %
ESTADO
ââ& ,
{
ââ- .
get
ââ/ 2
;
ââ2 3
set
ââ4 7
;
ââ7 8
}
ââ9 :
public
ãã 
string
ãã %
DESC_ESTADO
ãã& 1
{
ãã2 3
get
ãã4 7
;
ãã7 8
set
ãã9 <
;
ãã< =
}
ãã> ?
public
ää 
string
ää %
NOMBRE_PACIENTE
ää& 5
{
ää6 7
get
ää8 ;
;
ää; <
set
ää= @
;
ää@ A
}
ääB C
public
åå 
string
åå %
PREGUNTA_CLAVE
åå& 4
{
åå5 6
get
åå7 :
;
åå: ;
set
åå< ?
;
åå? @
}
ååA B
public
ææ 
string
ææ %
RESPUESTA_CLAVE
ææ& 5
{
ææ6 7
get
ææ8 ;
;
ææ; <
set
ææ= @
;
ææ@ A
}
ææB C
public
çç 
string
çç %
CLAVE_USUARIO
çç& 3
{
çç4 5
get
çç6 9
;
çç9 :
set
çç; >
;
çç> ?
}
çç@ A
public
èè 
string
èè %
EMAIL_PACIENTE
èè& 4
{
èè5 6
get
èè7 :
;
èè: ;
set
èè< ?
;
èè? @
}
èèA B
}
éé 
}
êê 
public
ìì 
class
ìì 
DatosPaciente
ìì *
{
íí 
public
îî 
string
îî !
ESTADO
îî" (
{
îî) *
get
îî+ .
;
îî. /
set
îî0 3
;
îî3 4
}
îî5 6
public
ïï 
string
ïï !
DESC_ESTADO
ïï" -
{
ïï. /
get
ïï0 3
;
ïï3 4
set
ïï5 8
;
ïï8 9
}
ïï: ;
public
ğğ 
string
ğğ !
ID_AMBULATORIO
ğğ" 0
{
ğğ1 2
get
ğğ3 6
;
ğğ6 7
set
ğğ8 ;
;
ğğ; <
}
ğğ= >
public
ññ 
string
ññ !
NOMBRE_PACIENTE
ññ" 1
{
ññ2 3
get
ññ4 7
;
ññ7 8
set
ññ9 <
;
ññ< =
}
ññ> ?
public
òò 
string
òò !
APEPAT_PACIENTE
òò" 1
{
òò2 3
get
òò4 7
;
òò7 8
set
òò9 <
;
òò< =
}
òò> ?
public
óó 
string
óó !
APEMAT_PACIENTE
óó" 1
{
óó2 3
get
óó4 7
;
óó7 8
set
óó9 <
;
óó< =
}
óó> ?
public
ôô 
string
ôô !
SEXO_PACIENTE
ôô" /
{
ôô0 1
get
ôô2 5
;
ôô5 6
set
ôô7 :
;
ôô: ;
}
ôô< =
public
õõ 
string
õõ ! 
DIRECCION_PACIENTE
õõ" 4
{
õõ5 6
get
õõ7 :
;
õõ: ;
set
õõ< ?
;
õõ? @
}
õõA B
public
öö 
string
öö !
COMUNA_PACIENTE
öö" 1
{
öö2 3
get
öö4 7
;
öö7 8
set
öö9 <
;
öö< =
}
öö> ?
public
÷÷ 
string
÷÷ !
CIUDAD_PACIENTE
÷÷" 1
{
÷÷2 3
get
÷÷4 7
;
÷÷7 8
set
÷÷9 <
;
÷÷< =
}
÷÷> ?
public
øø 
string
øø !!
FONO_PRINC_PACIENTE
øø" 5
{
øø6 7
get
øø8 ;
;
øø; <
set
øø= @
;
øø@ A
}
øøB C
public
ùù 
string
ùù !!
FONO_ALTER_PACIENTE
ùù" 5
{
ùù6 7
get
ùù8 ;
;
ùù; <
set
ùù= @
;
ùù@ A
}
ùùB C
public
úú 
string
úú ! 
FECHA_NAC_PACIENTE
úú" 4
{
úú5 6
get
úú7 :
;
úú: ;
set
úú< ?
;
úú? @
}
úúA B
public
ûû 
string
ûû ! 
PREVISION_PACIENTE
ûû" 4
{
ûû5 6
get
ûû7 :
;
ûû: ;
set
ûû< ?
;
ûû? @
}
ûûA B
public
üü 
string
üü !
EMAIL_PACIENTE
üü" 0
{
üü1 2
get
üü3 6
;
üü6 7
set
üü8 ;
;
üü; <
}
üü= >
public
ıı 
string
ıı !
TIPO_ESTADO_PAC
ıı" 1
{
ıı2 3
get
ıı4 7
;
ıı7 8
set
ıı9 <
;
ıı< =
}
ıı> ?
public
şş 
string
şş !
FONO_CONFIRMACION
şş" 3
{
şş4 5
get
şş6 9
;
şş9 :
set
şş; >
;
şş> ?
}
şş@ A
public
ÿÿ 
string
ÿÿ !
VIA_CONFIRMACION
ÿÿ" 2
{
ÿÿ3 4
get
ÿÿ5 8
;
ÿÿ8 9
set
ÿÿ: =
;
ÿÿ= >
}
ÿÿ? @
public
€€ 
string
€€ ! 
RECIBE_INFORMACION
€€" 4
{
€€5 6
get
€€7 :
;
€€: ;
set
€€< ?
;
€€? @
}
€€A B
public
 
string
 !
PREFIJO_CELULAR1
" 2
{
3 4
get
5 8
;
8 9
set
: =
;
= >
}
? @
public
‚‚ 
string
‚‚ !
NUMERO_CELULAR1
‚‚" 1
{
‚‚2 3
get
‚‚4 7
;
‚‚7 8
set
‚‚9 <
;
‚‚< =
}
‚‚> ?
public
ƒƒ 
string
ƒƒ !
PREFIJO_CELULAR2
ƒƒ" 2
{
ƒƒ3 4
get
ƒƒ5 8
;
ƒƒ8 9
set
ƒƒ: =
;
ƒƒ= >
}
ƒƒ? @
public
„„ 
string
„„ !
NUMERO_CELULAR2
„„" 1
{
„„2 3
get
„„4 7
;
„„7 8
set
„„9 <
;
„„< =
}
„„> ?
}
…… 
public
‡‡ 
class
‡‡ 
InformacionLogeo
‡‡ -
{
ˆˆ 
public
‰‰ 
string
‰‰ !
ESTADO
‰‰" (
{
‰‰) *
get
‰‰+ .
;
‰‰. /
set
‰‰0 3
;
‰‰3 4
}
‰‰5 6
public
ŠŠ 
string
ŠŠ !
DESC_ESTADO
ŠŠ" -
{
ŠŠ. /
get
ŠŠ0 3
;
ŠŠ3 4
set
ŠŠ5 8
;
ŠŠ8 9
}
ŠŠ: ;
public
‹‹ 
string
‹‹ !

CLAVE_TEMP
‹‹" ,
{
‹‹- .
get
‹‹/ 2
;
‹‹2 3
set
‹‹4 7
;
‹‹7 8
}
‹‹9 :
public
ŒŒ 
string
ŒŒ !
ID_AMBULATORIO
ŒŒ" 0
{
ŒŒ1 2
get
ŒŒ3 6
;
ŒŒ6 7
set
ŒŒ8 ;
;
ŒŒ; <
}
ŒŒ= >
public
 
string
 !
NOMBRE_PACIENTE
" 1
{
2 3
get
4 7
;
7 8
set
9 <
;
< =
}
> ?
public
 
string
 !
APEPAT_PACIENTE
" 1
{
2 3
get
4 7
;
7 8
set
9 <
;
< =
}
> ?
public
 
string
 !
APEMAT_PACIENTE
" 1
{
2 3
get
4 7
;
7 8
set
9 <
;
< =
}
> ?
}
 
public
’’ 
class
’’ 
DatosCambio
’’ (
{
““ 
public
”” 
string
”” !

CODMENSAJE
””" ,
{
””- .
get
””/ 2
;
””2 3
set
””4 7
;
””7 8
}
””9 :
public
•• 
string
•• !/
!_x0027_CLAVEACTUALINVALIDA_x0027_
••" C
{
••D E
get
••F I
;
••I J
set
••K N
;
••N O
}
••P Q
}
–– 
public
˜˜ 
class
˜˜ 
MensajeE
˜˜ %
{
™™ 
public
šš 
int
šš 

CodMensaje
šš )
{
šš* +
get
šš, /
;
šš/ 0
set
šš1 4
;
šš4 5
}
šš6 7
=
šš8 9
$num
šš: ;
;
šš; <
public
›› 
string
›› !
DescMensaje
››" -
{
››. /
get
››0 3
;
››3 4
set
››5 8
;
››8 9
}
››: ;
=
››< =
$str
››> @
;
››@ A
}
œœ 
public
 
class
 
ErrorE
 #
{
ŸŸ 
public
¡¡ 
int
¡¡ 
	Error_Cod
¡¡ (
{
¡¡) *
get
¡¡+ .
;
¡¡. /
set
¡¡0 3
;
¡¡3 4
}
¡¡5 6
=
¡¡7 8
$num
¡¡9 :
;
¡¡: ;
public
££ 
string
££ !
	ErrorDesc
££" +
{
££, -
get
££. 1
;
££1 2
set
££3 6
;
££6 7
}
££8 9
=
££: ;
$str
££< I
;
££I J
}
¤¤ 
}
¥¥ 
}
¦¦ 	
private
¨¨ 
string
¨¨ 7
)stringXML_ErrorAgendaApellidoEspecialidad
¨¨ @
(
¨¨@ A
)
¨¨A B
{
©© 	
return
ªª 
$strªª ±
;ªª± ²
}
«« 	
private
­­ 
string
­­ 2
$stringXML_ErrorObtenerEspecialidades
­­ ;
(
­­; <
)
­­< =
{
®® 	
return
¯¯ 
$str
¯¯ i
;
¯¯i j
}
°° 	
private
²² 
string
²² &
stringXML_AnulacionHoras
²² /
(
²²/ 0
string
²²0 6
	pMsgError
²²7 @
)
²²@ A
{
³³ 	
string
´´ 
	stringXML
´´ 
=
´´ 
$str
´´ !
;
´´! "
	stringXML
µµ 
=
µµ 
$str
µµ 
+
µµ  !
$str
µµ" 7
;
µµ7 8
	stringXML
·· 
=
·· 
	stringXML
·· !
+
··" #
$str
··$ .
+
··/ 0
$str
··1 4
+
··5 6
$str
··7 B
;
··B C
	stringXML
¸¸ 
=
¸¸ 
	stringXML
¸¸ !
+
¸¸" #
$str
¸¸$ 3
+
¸¸4 5
	pMsgError
¸¸6 ?
+
¸¸@ A
$str
¸¸B R
;
¸¸R S
	stringXML
ºº 
=
ºº 
	stringXML
ºº !
+
ºº" #
$str
ºº$ :
+
ºº; <
$strºº= Ğ
+ººÑ Ò
$strººÓ Û
;ººÛ Ü
return
¼¼ 
	stringXML
¼¼ 
;
¼¼ 
}
½½ 	
}
¾¾ 
}ÀÀ »ğ
dD:\CLINICA\nsp-csfl-agenda-uti-automatizacion_qa\Bus.AgendaClinica\Clinica\AdmisionHospitalariaWs.cs
	namespace 	
Bus
 
. 
AgendaClinica 
. 
Clinica #
{ 
public 

class "
AdmisionHospitalariaWs '
{ 
private 
string 

RutaCorreo !
=" #
$str$ &
;& '
public 
class *
ConsultaHospitalizacionRequest 3
{ 	
public 
string 
idAmbulatorio '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
=6 7
$str8 :
;: ;
public 
string 
ApiKey  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
$str1 3
;3 4
} 	
public 
class +
ConsultaHospitalizacionResponse 4
{ 	
public 
string 
codAtencion %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
=4 5
$str6 8
;8 9
public 
string 
	fechaHora #
{$ %
get& )
;) *
set+ .
;. /
}0 1
=2 3
$str4 6
;6 7
public 
string 
idAmbulatorio '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
=6 7
$str8 :
;: ;
public   
string   
grupoFamiliar   '
{  ( )
get  * -
;  - .
set  / 2
;  2 3
}  4 5
=  6 7
$str  8 :
;  : ;
public!! 
string!! 
codTipoDocumento!! *
{!!+ ,
get!!- 0
;!!0 1
set!!2 5
;!!5 6
}!!7 8
=!!9 :
$str!!; =
;!!= >
public"" 
string"" 
desTipoDocumento"" *
{""+ ,
get""- 0
;""0 1
set""2 5
;""5 6
}""7 8
=""9 :
$str""; =
;""= >
public## 
string## 
numeroDocumento## )
{##* +
get##, /
;##/ 0
set##1 4
;##4 5
}##6 7
=##8 9
$str##: <
;##< =
public$$ 
string$$ 
fechaNacimiento$$ )
{$$* +
get$$, /
;$$/ 0
set$$1 4
;$$4 5
}$$6 7
=$$8 9
$str$$: <
;$$< =
public%% 
string%% 
nombres%% !
{%%" #
get%%$ '
;%%' (
set%%) ,
;%%, -
}%%. /
=%%0 1
$str%%2 4
;%%4 5
public&& 
string&& 
apellidoPaterno&& )
{&&* +
get&&, /
;&&/ 0
set&&1 4
;&&4 5
}&&6 7
=&&8 9
$str&&: <
;&&< =
public'' 
string'' 
apellidoMaterno'' )
{''* +
get'', /
;''/ 0
set''1 4
;''4 5
}''6 7
=''8 9
$str'': <
;''< =
public(( 
string(( 
correo((  
{((! "
get((# &
;((& '
set((( +
;((+ ,
}((- .
=((/ 0
$str((1 3
;((3 4
public)) 
string)) 
telefono)) "
{))# $
get))% (
;))( )
set))* -
;))- .
}))/ 0
=))1 2
$str))3 5
;))5 6
public** 
string** 
sexo** 
{**  
get**! $
;**$ %
set**& )
;**) *
}**+ ,
=**- .
$str**/ 1
;**1 2
public++ 
string++ 
	codMedico++ #
{++$ %
get++& )
;++) *
set+++ .
;++. /
}++0 1
=++2 3
$str++4 6
;++6 7
public,, 
string,, 
	nomMedico,, #
{,,$ %
get,,& )
;,,) *
set,,+ .
;,,. /
},,0 1
=,,2 3
$str,,4 6
;,,6 7
public-- 
string-- 
codEspecialidad-- )
{--* +
get--, /
;--/ 0
set--1 4
;--4 5
}--6 7
=--8 9
$str--: <
;--< =
public.. 
string.. 
desEspecialidad.. )
{..* +
get.., /
;../ 0
set..1 4
;..4 5
}..6 7
=..8 9
$str..: <
;..< =
public// 
string// 
nivelAtencion// '
{//( )
get//* -
;//- .
set/// 2
;//2 3
}//4 5
=//6 7
$str//8 :
;//: ;
public00 
string00 
	codEstado00 #
{00$ %
get00& )
;00) *
set00+ .
;00. /
}000 1
=002 3
$str004 6
;006 7
public11 
string11 
	desEstado11 #
{11$ %
get11& )
;11) *
set11+ .
;11. /
}110 1
=112 3
$str114 6
;116 7
public22 
string22 

ultimoPaso22 $
{22% &
get22' *
;22* +
set22, /
;22/ 0
}221 2
=223 4
$str225 7
;227 8
public33 
string33 
codFamiliar33 %
{33& '
get33( +
;33+ ,
set33- 0
;330 1
}332 3
=334 5
$str336 8
;338 9
public44 
string44 
desFamiliar44 %
{44& '
get44( +
;44+ ,
set44- 0
;440 1
}442 3
=444 5
$str446 8
;448 9
public77 
class77 "
DatosGeneralesResponse77 /
{88 
public99 
string99 
codAtencion99 )
{99* +
get99, /
;99/ 0
set991 4
;994 5
}996 7
=998 9
$str99: <
;99< =
public:: 
string:: 
	fechaHora:: '
{::( )
get::* -
;::- .
set::/ 2
;::2 3
}::4 5
=::6 7
$str::8 :
;::: ;
public;; 
string;; 
idAmbulatorio;; +
{;;, -
get;;. 1
;;;1 2
set;;3 6
;;;6 7
};;8 9
=;;: ;
$str;;< >
;;;> ?
public<< 
string<< 
grupoFamiliar<< +
{<<, -
get<<. 1
;<<1 2
set<<3 6
;<<6 7
}<<8 9
=<<: ;
$str<<< >
;<<> ?
public== 
string== 
codTipoDocumento== .
{==/ 0
get==1 4
;==4 5
set==6 9
;==9 :
}==; <
==== >
$str==? A
;==A B
public>> 
string>> 
desTipoDocumento>> .
{>>/ 0
get>>1 4
;>>4 5
set>>6 9
;>>9 :
}>>; <
=>>= >
$str>>? A
;>>A B
public?? 
string?? 
numeroDocumento?? -
{??. /
get??0 3
;??3 4
set??5 8
;??8 9
}??: ;
=??< =
$str??> @
;??@ A
public@@ 
string@@ 
fechaNacimiento@@ -
{@@. /
get@@0 3
;@@3 4
set@@5 8
;@@8 9
}@@: ;
=@@< =
$str@@> @
;@@@ A
publicAA 
stringAA 
nombresAA %
{AA& '
getAA( +
;AA+ ,
setAA- 0
;AA0 1
}AA2 3
=AA4 5
$strAA6 8
;AA8 9
publicBB 
stringBB 
apellidoPaternoBB -
{BB. /
getBB0 3
;BB3 4
setBB5 8
;BB8 9
}BB: ;
=BB< =
$strBB> @
;BB@ A
publicCC 
stringCC 
apellidoMaternoCC -
{CC. /
getCC0 3
;CC3 4
setCC5 8
;CC8 9
}CC: ;
=CC< =
$strCC> @
;CC@ A
publicDD 
stringDD 
correoDD $
{DD% &
getDD' *
;DD* +
setDD, /
;DD/ 0
}DD1 2
=DD3 4
$strDD5 7
;DD7 8
publicEE 
stringEE 
telefonoEE &
{EE' (
getEE) ,
;EE, -
setEE. 1
;EE1 2
}EE3 4
=EE5 6
$strEE7 9
;EE9 :
publicFF 
stringFF 
sexoFF "
{FF# $
getFF% (
;FF( )
setFF* -
;FF- .
}FF/ 0
=FF1 2
$strFF3 5
;FF5 6
publicGG 
stringGG 
	codMedicoGG '
{GG( )
getGG* -
;GG- .
setGG/ 2
;GG2 3
}GG4 5
=GG6 7
$strGG8 :
;GG: ;
publicHH 
stringHH 
	nomMedicoHH '
{HH( )
getHH* -
;HH- .
setHH/ 2
;HH2 3
}HH4 5
=HH6 7
$strHH8 :
;HH: ;
publicII 
stringII 
codEspecialidadII -
{II. /
getII0 3
;II3 4
setII5 8
;II8 9
}II: ;
=II< =
$strII> @
;II@ A
publicJJ 
stringJJ 
desEspecialidadJJ -
{JJ. /
getJJ0 3
;JJ3 4
setJJ5 8
;JJ8 9
}JJ: ;
=JJ< =
$strJJ> @
;JJ@ A
publicKK 
stringKK 
nivelAtencionKK +
{KK, -
getKK. 1
;KK1 2
setKK3 6
;KK6 7
}KK8 9
=KK: ;
$strKK< >
;KK> ?
publicLL 
stringLL 
	codEstadoLL '
{LL( )
getLL* -
;LL- .
setLL/ 2
;LL2 3
}LL4 5
=LL6 7
$strLL8 :
;LL: ;
publicMM 
stringMM 
	desEstadoMM '
{MM( )
getMM* -
;MM- .
setMM/ 2
;MM2 3
}MM4 5
=MM6 7
$strMM8 :
;MM: ;
publicNN 
stringNN 

ultimoPasoNN (
{NN) *
getNN+ .
;NN. /
setNN0 3
;NN3 4
}NN5 6
=NN7 8
$strNN9 ;
;NN; <
}OO 
}PP 	
publicRR 
classRR #
MedicamentosRiesgoItemsRR ,
{SS 	
publicTT 
intTT 
IdeMedicacionDetTT '
{TT( )
getTT* -
;TT- .
setTT/ 2
;TT2 3
}TT4 5
=TT6 7
$numTT8 9
;TT9 :
publicZZ 
intZZ 
CodigoZZ 
{ZZ 
getZZ  #
;ZZ# $
setZZ% (
;ZZ( )
}ZZ* +
public__ 
string__ 
	Indicador__ #
{__$ %
get__& )
;__) *
set__+ .
;__. /
}__0 1
=__2 3
$str__4 6
;__6 7
publicaa 
stringaa 
DscItemaa !
{aa" #
getaa$ '
;aa' (
setaa) ,
;aa, -
}aa. /
=aa0 1
$straa2 4
;aa4 5
publicbb 
stringbb 

DscSubItembb $
{bb% &
getbb' *
;bb* +
setbb, /
;bb/ 0
}bb1 2
=bb3 4
$strbb5 7
;bb7 8
publicee #
MedicamentosRiesgoItemsee *
(ee* +
)ee+ ,
{ff 
}gg 
publicii #
MedicamentosRiesgoItemsii *
(ii* +
intii+ .
pIdeMedicacionDetii/ @
)ii@ A
{jj 
IdeMedicacionDetkk  
=kk! "
pIdeMedicacionDetkk# 4
;kk4 5
}ll 
publicnn #
MedicamentosRiesgoItemsnn *
(nn* +
intnn+ .
pIdeMedicacionDetnn/ @
,nn@ A
intnnB E
pCodigonnF M
,nnM N
stringnnO U

pIndicadornnV `
)nn` a
{oo 
Codigopp 
=pp 
pCodigopp  
;pp  !
	Indicadorqq 
=qq 

pIndicadorqq &
;qq& '
IdeMedicacionDetrr  
=rr! "
pIdeMedicacionDetrr# 4
;rr4 5
}ss 
publicuu #
MedicamentosRiesgoItemsuu *
(uu* +
intuu+ .
pIdeMedicacionDetuu/ @
,uu@ A
intuuB E
pCodigouuF M
,uuM N
stringuuO U

pIndicadoruuV `
,uu` a
stringuub h
pDscItemuui q
,uuq r
stringuus y
pDscSubItem	uuz …
)
uu… †
{vv 
Codigoww 
=ww 
pCodigoww  
;ww  !
	Indicadorxx 
=xx 

pIndicadorxx &
;xx& '
IdeMedicacionDetyy  
=yy! "
pIdeMedicacionDetyy# 4
;yy4 5
DscItemzz 
=zz 
pDscItemzz "
;zz" #

DscSubItem{{ 
={{ 
pDscSubItem{{ (
;{{( )
}|| 
}}} 	
public 
class  
MedicamentosResponse )
{
€€ 	
public
 
int
 '
IdeAlergiaMedicamentosDet
 0
=
1 2
$num
3 4
;
4 5
public
‚‚ 
string
‚‚ 
Codigo
‚‚  
=
‚‚! "
$str
‚‚# %
;
‚‚% &
public
ƒƒ 
string
ƒƒ 
Descripcion
ƒƒ %
=
ƒƒ& '
$str
ƒƒ( *
;
ƒƒ* +
public
…… "
MedicamentosResponse
…… '
(
……' (
)
……( )
{
†† 
}
‡‡ 
public
‰‰ "
MedicamentosResponse
‰‰ '
(
‰‰' (
string
‰‰( .
pCodigo
‰‰/ 6
,
‰‰6 7
string
‰‰8 >
pDescripcion
‰‰? K
)
‰‰K L
{
ŠŠ 
Codigo
‹‹ 
=
‹‹ 
pCodigo
‹‹  
;
‹‹  !
Descripcion
ŒŒ 
=
ŒŒ 
pDescripcion
ŒŒ *
;
ŒŒ* +
}
 
public
 "
MedicamentosResponse
 '
(
' (
string
( .
pCodigo
/ 6
,
6 7
string
8 >
pDescripcion
? K
,
K L
int
M P(
pIdeAlergiaMedicamentosDet
Q k
)
k l
{
 
Codigo
‘‘ 
=
‘‘ 
pCodigo
‘‘  
;
‘‘  !
Descripcion
’’ 
=
’’ 
pDescripcion
’’ *
;
’’* +'
IdeAlergiaMedicamentosDet
““ )
=
““* +(
pIdeAlergiaMedicamentosDet
““, F
;
““F G
}
”” 
}
•• 	
public
—— 
class
—— .
 MedicamentosRiesgoItemMaeRequest
—— 5
{
˜˜ 	
public
™™ 
string
™™ 
ApiKey
™™  
=
™™! "
$str
™™# %
;
™™% &
public
šš 
int
šš 
Orden
šš 
;
šš 
}
›› 	
public
 
class
 /
!MedicamentosRiesgoItemMaeResponse
 6
{
 	
public
ŸŸ 
int
ŸŸ #
IdeMedicacionItemsMae
ŸŸ ,
;
ŸŸ, -
public
   
string
   
DscItem
   !
;
  ! "
public
¡¡ 
string
¡¡ 

DscSubItem
¡¡ $
;
¡¡$ %
public
££ /
!MedicamentosRiesgoItemMaeResponse
££ 4
(
££4 5
)
££5 6
{
¤¤ 
}
¥¥ 
public
§§ /
!MedicamentosRiesgoItemMaeResponse
§§ 4
(
§§4 5
int
§§5 8$
pIdeMedicacionItemsMae
§§9 O
,
§§O P
string
§§Q W
pDscItem
§§X `
,
§§` a
string
§§b h
pDscSubItem
§§i t
)
§§t u
{
¨¨ #
IdeMedicacionItemsMae
©© %
=
©©& '$
pIdeMedicacionItemsMae
©©( >
;
©©> ?
DscItem
ªª 
=
ªª 
pDscItem
ªª "
;
ªª" #

DscSubItem
«« 
=
«« 
pDscSubItem
«« (
;
««( )
}
¬¬ 
}
­­ 	
public
¯¯ 
class
¯¯ $
AlergiaConsultaRequest
¯¯ +
{
°° 	
public
±± 
string
±± 
idAmbulatorio
±± '
{
±±( )
get
±±* -
;
±±- .
set
±±/ 2
;
±±2 3
}
±±4 5
public
²² 
string
²² 
codAtencion
²² %
{
²²& '
get
²²( +
;
²²+ ,
set
²²- 0
;
²²0 1
}
²²2 3
public
³³ 
string
³³ 
ApiKey
³³  
{
³³! "
get
³³# &
;
³³& '
set
³³( +
;
³³+ ,
}
³³- .
}
´´ 	
public
¶¶ 
class
¶¶ %
AlergiaConsultaResponse
¶¶ ,
{
·· 	
public
¸¸ 
string
¸¸ 

indAlergia
¸¸ $
{
¸¸% &
get
¸¸' *
;
¸¸* +
set
¸¸, /
;
¸¸/ 0
}
¸¸1 2
public
¹¹ 
string
¹¹ 
hospitalizado
¹¹ '
{
¹¹( )
get
¹¹* -
;
¹¹- .
set
¹¹/ 2
;
¹¹2 3
}
¹¹4 5
public
ºº 
string
ºº 
representante
ºº '
{
ºº( )
get
ºº* -
;
ºº- .
set
ºº/ 2
;
ºº2 3
}
ºº4 5
public
»» 
string
»» 

habitacion
»» $
{
»»% &
get
»»' *
;
»»* +
set
»», /
;
»»/ 0
}
»»1 2
public
¼¼ 
List
¼¼ 
<
¼¼ "
MedicamentosResponse
¼¼ ,
>
¼¼, -
medicamentos
¼¼. :
{
¼¼; <
get
¼¼= @
;
¼¼@ A
set
¼¼B E
;
¼¼E F
}
¼¼G H
public
½½ 
string
½½ 
	alimentos
½½ #
{
½½$ %
get
½½& )
;
½½) *
set
½½+ .
;
½½. /
}
½½0 1
public
¾¾ 
string
¾¾ 
otros
¾¾ 
{
¾¾  !
get
¾¾" %
;
¾¾% &
set
¾¾' *
;
¾¾* +
}
¾¾, -
public
ÀÀ 
List
ÀÀ 
<
ÀÀ %
MedicamentosRiesgoItems
ÀÀ /
>
ÀÀ/ 0!
medicamentosRiesgos
ÀÀ1 D
{
ÀÀE F
get
ÀÀG J
;
ÀÀJ K
set
ÀÀL O
;
ÀÀO P
}
ÀÀQ R
=
ÀÀS T
new
ÀÀU X
List
ÀÀY ]
<
ÀÀ] ^%
MedicamentosRiesgoItems
ÀÀ^ u
>
ÀÀu v
(
ÀÀv w
)
ÀÀw x
;
ÀÀx y
public
ÂÂ 
int
ÂÂ 

idRegistro
ÂÂ !
{
ÂÂ" #
get
ÂÂ$ '
;
ÂÂ' (
set
ÂÂ) ,
;
ÂÂ, -
}
ÂÂ. /
}
ÃÃ 	
public
ÆÆ 
class
ÆÆ 4
&AlergiaMedicamentosRiesgoGrabarRequest
ÆÆ ;
{
ÇÇ 	
public
ÈÈ 
string
ÈÈ 
codAtencion
ÈÈ %
{
ÈÈ& '
get
ÈÈ( +
;
ÈÈ+ ,
set
ÈÈ- 0
;
ÈÈ0 1
}
ÈÈ2 3
public
ÉÉ 
string
ÉÉ 
idAmbulatorio
ÉÉ '
{
ÉÉ( )
get
ÉÉ* -
;
ÉÉ- .
set
ÉÉ/ 2
;
ÉÉ2 3
}
ÉÉ4 5
public
ÏÏ 
string
ÏÏ 

indAlergia
ÏÏ $
{
ÏÏ% &
get
ÏÏ' *
;
ÏÏ* +
set
ÏÏ, /
;
ÏÏ/ 0
}
ÏÏ1 2
public
ĞĞ 
string
ĞĞ 
hospitalizado
ĞĞ '
{
ĞĞ( )
get
ĞĞ* -
;
ĞĞ- .
set
ĞĞ/ 2
;
ĞĞ2 3
}
ĞĞ4 5
public
ÑÑ 
string
ÑÑ 
representante
ÑÑ '
{
ÑÑ( )
get
ÑÑ* -
;
ÑÑ- .
set
ÑÑ/ 2
;
ÑÑ2 3
}
ÑÑ4 5
public
ÒÒ 
string
ÒÒ 

habitacion
ÒÒ $
{
ÒÒ% &
get
ÒÒ' *
;
ÒÒ* +
set
ÒÒ, /
;
ÒÒ/ 0
}
ÒÒ1 2
public
ÓÓ 
List
ÓÓ 
<
ÓÓ "
MedicamentosResponse
ÓÓ ,
>
ÓÓ, -
medicamentos
ÓÓ. :
{
ÓÓ; <
get
ÓÓ= @
;
ÓÓ@ A
set
ÓÓB E
;
ÓÓE F
}
ÓÓG H
=
ÓÓI J
new
ÓÓK N
List
ÓÓO S
<
ÓÓS T"
MedicamentosResponse
ÓÓT h
>
ÓÓh i
(
ÓÓi j
)
ÓÓj k
;
ÓÓk l
public
ÔÔ 
string
ÔÔ 
	alimentos
ÔÔ #
{
ÔÔ$ %
get
ÔÔ& )
;
ÔÔ) *
set
ÔÔ+ .
;
ÔÔ. /
}
ÔÔ0 1
public
ÕÕ 
string
ÕÕ 
otros
ÕÕ 
{
ÕÕ  !
get
ÕÕ" %
;
ÕÕ% &
set
ÕÕ' *
;
ÕÕ* +
}
ÕÕ, -
public
ÖÖ 
List
ÖÖ 
<
ÖÖ %
MedicamentosRiesgoItems
ÖÖ /
>
ÖÖ/ 0!
medicamentosRiesgos
ÖÖ1 D
{
ÖÖE F
get
ÖÖG J
;
ÖÖJ K
set
ÖÖL O
;
ÖÖO P
}
ÖÖQ R
=
ÖÖS T
new
ÖÖU X
List
ÖÖY ]
<
ÖÖ] ^%
MedicamentosRiesgoItems
ÖÖ^ u
>
ÖÖu v
(
ÖÖv w
)
ÖÖw x
;
ÖÖx y
public
ØØ 
string
ØØ 
documentoAlergias
ØØ +
{
ØØ, -
get
ØØ. 1
;
ØØ1 2
set
ØØ3 6
;
ØØ6 7
}
ØØ8 9
public
ÙÙ 
string
ÙÙ 
documentoRiesgos
ÙÙ *
{
ÙÙ+ ,
get
ÙÙ- 0
;
ÙÙ0 1
set
ÙÙ2 5
;
ÙÙ5 6
}
ÙÙ7 8
public
ÛÛ 
string
ÛÛ 
accion
ÛÛ  
{
ÛÛ! "
get
ÛÛ# &
;
ÛÛ& '
set
ÛÛ( +
;
ÛÛ+ ,
}
ÛÛ- .
public
ÜÜ 
int
ÜÜ 

IdRegistro
ÜÜ !
{
ÜÜ" #
get
ÜÜ$ '
;
ÜÜ' (
set
ÜÜ) ,
;
ÜÜ, -
}
ÜÜ. /
public
İİ 
string
İİ 
	RespEnvio
İİ #
{
İİ$ %
get
İİ& )
;
İİ) *
set
İİ+ .
;
İİ. /
}
İİ0 1
public
ŞŞ 
string
ŞŞ 
ApiKey
ŞŞ  
{
ŞŞ! "
get
ŞŞ# &
;
ŞŞ& '
set
ŞŞ( +
;
ŞŞ+ ,
}
ŞŞ- .
}
ßß 	
public
áá 
class
áá 5
'AlergiaMedicamentosRiesgoGrabarResponse
áá <
{
ââ 	
public
ãã 
string
ãã 
	codEstado
ãã #
{
ãã$ %
get
ãã& )
;
ãã) *
set
ãã+ .
;
ãã. /
}
ãã0 1
public
ää 
string
ää 
	desEstado
ää #
{
ää$ %
get
ää& )
;
ää) *
set
ää+ .
;
ää. /
}
ää0 1
public
ææ 5
'AlergiaMedicamentosRiesgoGrabarResponse
ææ :
(
ææ: ;
)
ææ; <
{
çç 
}
èè 
public
êê 5
'AlergiaMedicamentosRiesgoGrabarResponse
êê :
(
êê: ;
string
êê; A

pCodEstado
êêB L
,
êêL M
string
êêN T

pDesEstado
êêU _
)
êê_ `
{
ëë 
	codEstado
ìì 
=
ìì 

pCodEstado
ìì &
;
ìì& '
	desEstado
íí 
=
íí 

pDesEstado
íí &
;
íí& '
}
îî 
}
ïï 	
public
òò 
class
òò +
TerminosAdmisionGrabarRequest
òò 2
{
óó 	
public
ôô 
string
ôô 
codAtencion
ôô %
{
ôô& '
get
ôô( +
;
ôô+ ,
set
ôô- 0
;
ôô0 1
}
ôô2 3
public
õõ 
string
õõ 
idAmbulatorio
õõ '
{
õõ( )
get
õõ* -
;
õõ- .
set
õõ/ 2
;
õõ2 3
}
õõ4 5
public
úú 
string
úú !
indTerminosAdmision
úú -
{
úú. /
get
úú0 3
;
úú3 4
set
úú5 8
;
úú8 9
}
úú: ;
public
ûû 
string
ûû 
	documento
ûû #
{
ûû$ %
get
ûû& )
;
ûû) *
set
ûû+ .
;
ûû. /
}
ûû0 1
public
üü 
string
üü 
DscTexto
üü "
{
üü# $
get
üü% (
;
üü( )
set
üü* -
;
üü- .
}
üü/ 0
public
ıı 
string
ıı 
DscRpta
ıı !
{
ıı" #
get
ıı$ '
;
ıı' (
set
ıı) ,
;
ıı, -
}
ıı. /
public
ƒƒ 
string
ƒƒ 
accion
ƒƒ  
{
ƒƒ! "
get
ƒƒ# &
;
ƒƒ& '
set
ƒƒ( +
;
ƒƒ+ ,
}
ƒƒ- .
public
„„ 
int
„„ 

idRegistro
„„ !
{
„„" #
get
„„$ '
;
„„' (
set
„„) ,
;
„„, -
}
„„. /
public
…… 
string
…… 
ResponsableEnvio
…… *
{
……+ ,
get
……- 0
;
……0 1
set
……2 5
;
……5 6
}
……7 8
public
†† 
string
†† 
ApiKey
††  
{
††! "
get
††# &
;
††& '
set
††( +
;
††+ ,
}
††- .
}
‡‡ 	
public
‰‰ 
class
‰‰ ,
TerminosAdmisionGrabarResponse
‰‰ 3
{
ŠŠ 	
public
‹‹ 
string
‹‹ 
	codEstado
‹‹ #
{
‹‹$ %
get
‹‹& )
;
‹‹) *
set
‹‹+ .
;
‹‹. /
}
‹‹0 1
public
ŒŒ 
string
ŒŒ 
	desEstado
ŒŒ #
{
ŒŒ$ %
get
ŒŒ& )
;
ŒŒ) *
set
ŒŒ+ .
;
ŒŒ. /
}
ŒŒ0 1
public
 ,
TerminosAdmisionGrabarResponse
 1
(
1 2
)
2 3
{
 
}
 
public
’’ ,
TerminosAdmisionGrabarResponse
’’ 1
(
’’1 2
string
’’2 8

pCodEstado
’’9 C
,
’’C D
string
’’E K

pDesEstado
’’L V
)
’’V W
{
““ 
	codEstado
”” 
=
”” 

pCodEstado
”” &
;
””& '
	desEstado
•• 
=
•• 

pDesEstado
•• &
;
••& '
}
–– 
}
—— 	
public
™™ 
class
™™ 6
(TerminosDocumentoAdmisionConsultaRequest
™™ =
{
šš 	
public
›› 
string
›› 
codAtencion
›› %
{
››& '
get
››( +
;
››+ ,
set
››- 0
;
››0 1
}
››2 3
public
œœ 
string
œœ 
idAmbulatorio
œœ '
{
œœ( )
get
œœ* -
;
œœ- .
set
œœ/ 2
;
œœ2 3
}
œœ4 5
public
 
string
 
ApiKey
  
{
! "
get
# &
;
& '
set
( +
;
+ ,
}
- .
}
 	
public
   
class
   7
)TerminosDocumentoAdmisionConsultaResponse
   >
{
¡¡ 	
public
¢¢ 
string
¢¢ !
indTerminosAdmision
¢¢ -
{
¢¢. /
get
¢¢0 3
;
¢¢3 4
set
¢¢5 8
;
¢¢8 9
}
¢¢: ;
public
££ 
string
££ 

idRegistro
££ $
{
££% &
get
££' *
;
££* +
set
££, /
;
££/ 0
}
££1 2
}
¤¤ 	
public
¦¦ 
class
¦¦ ;
-AutorizacionContactosPreFacturasGrabarRequest
¦¦ B
{
§§ 	
public
¨¨ 
string
¨¨ 
codAtencion
¨¨ %
{
¨¨& '
get
¨¨( +
;
¨¨+ ,
set
¨¨- 0
;
¨¨0 1
}
¨¨2 3
public
©© 
string
©© 
idAmbulatorio
©© '
{
©©( )
get
©©* -
;
©©- .
set
©©/ 2
;
©©2 3
}
©©4 5
public
ªª 
List
ªª 
<
ªª C
5AutorizacionContactosPreFacturasGrabarPersonasRequest
ªª M
>
ªªM N
personas
ªªO W
{
ªªX Y
get
ªªZ ]
;
ªª] ^
set
ªª_ b
;
ªªb c
}
ªªd e
public
«« 
string
«« 
	documento
«« #
{
««$ %
get
««& )
;
««) *
set
««+ .
;
««. /
}
««0 1
public
¬¬ 
string
¬¬ 
accion
¬¬  
{
¬¬! "
get
¬¬# &
;
¬¬& '
set
¬¬( +
;
¬¬+ ,
}
¬¬- .
public
­­ 
int
­­ 

idRegistro
­­ !
{
­­" #
get
­­$ '
;
­­' (
set
­­) ,
;
­­, -
}
­­. /
public
®® 
string
®® 
ResponsableEnvio
®® *
{
®®+ ,
get
®®- 0
;
®®0 1
set
®®2 5
;
®®5 6
}
®®7 8
public
¯¯ 
string
¯¯ 
ApiKey
¯¯  
{
¯¯! "
get
¯¯# &
;
¯¯& '
set
¯¯( +
;
¯¯+ ,
}
¯¯- .
}
°° 	
public
²² 
class
²² C
5AutorizacionContactosPreFacturasGrabarPersonasRequest
²² J
{
³³ 	
public
´´ 
int
´´ 
IdRegistroDet
´´ $
{
´´% &
get
´´' *
;
´´* +
set
´´, /
;
´´/ 0
}
´´1 2
public
µµ 
string
µµ 
	apellidos
µµ #
{
µµ$ %
get
µµ& )
;
µµ) *
set
µµ+ .
;
µµ. /
}
µµ0 1
public
¶¶ 
string
¶¶ 
nombres
¶¶ !
{
¶¶" #
get
¶¶$ '
;
¶¶' (
set
¶¶) ,
;
¶¶, -
}
¶¶. /
public
·· 
string
·· 

parentesco
·· $
{
··% &
get
··' *
;
··* +
set
··, /
;
··/ 0
}
··1 2
public
¸¸ 
string
¸¸ 
dni
¸¸ 
{
¸¸ 
get
¸¸  #
;
¸¸# $
set
¸¸% (
;
¸¸( )
}
¸¸* +
public
¹¹ 
string
¹¹ 
correo
¹¹  
{
¹¹! "
get
¹¹# &
;
¹¹& '
set
¹¹( +
;
¹¹+ ,
}
¹¹- .
public
ºº 
string
ºº 
telefono
ºº "
{
ºº# $
get
ºº% (
;
ºº( )
set
ºº* -
;
ºº- .
}
ºº/ 0
}
»» 	
public
½½ 
class
½½ <
.AutorizacionContactosPreFacturasGrabarResponse
½½ C
{
¾¾ 	
public
¿¿ 
string
¿¿ 
	codEstado
¿¿ #
{
¿¿$ %
get
¿¿& )
;
¿¿) *
set
¿¿+ .
;
¿¿. /
}
¿¿0 1
public
ÀÀ 
string
ÀÀ 
	desEstado
ÀÀ #
{
ÀÀ$ %
get
ÀÀ& )
;
ÀÀ) *
set
ÀÀ+ .
;
ÀÀ. /
}
ÀÀ0 1
public
ÂÂ <
.AutorizacionContactosPreFacturasGrabarResponse
ÂÂ A
(
ÂÂA B
)
ÂÂB C
{
ÃÃ 
}
ÄÄ 
public
ÆÆ <
.AutorizacionContactosPreFacturasGrabarResponse
ÆÆ A
(
ÆÆA B
string
ÆÆB H

pCodEstado
ÆÆI S
,
ÆÆS T
string
ÆÆU [

pDesEstado
ÆÆ\ f
)
ÆÆf g
{
ÇÇ 
	codEstado
ÈÈ 
=
ÈÈ 

pCodEstado
ÈÈ &
;
ÈÈ& '
	desEstado
ÉÉ 
=
ÉÉ 

pDesEstado
ÉÉ &
;
ÉÉ& '
}
ÊÊ 
}
ËË 	
public
ÍÍ 
class
ÍÍ <
.AutorizacionContactosPreFacturaConsultaRequest
ÍÍ C
{
ÎÎ 	
public
ÏÏ 
string
ÏÏ 
codAtencion
ÏÏ %
{
ÏÏ& '
get
ÏÏ( +
;
ÏÏ+ ,
set
ÏÏ- 0
;
ÏÏ0 1
}
ÏÏ2 3
public
ĞĞ 
string
ĞĞ 
idAmbulatorio
ĞĞ '
{
ĞĞ( )
get
ĞĞ* -
;
ĞĞ- .
set
ĞĞ/ 2
;
ĞĞ2 3
}
ĞĞ4 5
public
ÑÑ 
string
ÑÑ 
ApiKey
ÑÑ  
{
ÑÑ! "
get
ÑÑ# &
;
ÑÑ& '
set
ÑÑ( +
;
ÑÑ+ ,
}
ÑÑ- .
}
ÒÒ 	
public
ÔÔ 
class
ÔÔ =
/AutorizacionContactosPreFacturaConsultaResponse
ÔÔ D
{
ÕÕ 	
public
ÖÖ 
int
ÖÖ 
IdRegistroCab
ÖÖ $
{
ÖÖ% &
get
ÖÖ' *
;
ÖÖ* +
set
ÖÖ, /
;
ÖÖ/ 0
}
ÖÖ1 2
public
×× 
List
×× 
<
×× >
0AutorizacionContactosPreFacturasPersonasResponse
×× H
>
××H I
Persona
××J Q
{
××R S
get
××T W
;
××W X
set
××Y \
;
××\ ]
}
××^ _
=
××` a
new
××b e
List
××f j
<
××j k?
0AutorizacionContactosPreFacturasPersonasResponse××k ›
>××› œ
(××œ 
)×× 
;×× Ÿ
}
ØØ 	
public
ÚÚ 
class
ÚÚ >
0AutorizacionContactosPreFacturasPersonasResponse
ÚÚ E
{
ÛÛ 	
public
ÜÜ 
int
ÜÜ 
IdRegistroDet
ÜÜ $
{
ÜÜ% &
get
ÜÜ' *
;
ÜÜ* +
set
ÜÜ, /
;
ÜÜ/ 0
}
ÜÜ1 2
public
İİ 
string
İİ 
	apellidos
İİ #
{
İİ$ %
get
İİ& )
;
İİ) *
set
İİ+ .
;
İİ. /
}
İİ0 1
public
ŞŞ 
string
ŞŞ 
nombres
ŞŞ !
{
ŞŞ" #
get
ŞŞ$ '
;
ŞŞ' (
set
ŞŞ) ,
;
ŞŞ, -
}
ŞŞ. /
public
ßß 
string
ßß 
dni
ßß 
{
ßß 
get
ßß  #
;
ßß# $
set
ßß% (
;
ßß( )
}
ßß* +
public
àà 
string
àà 
correo
àà  
{
àà! "
get
àà# &
;
àà& '
set
àà( +
;
àà+ ,
}
àà- .
public
áá 
string
áá 
telefono
áá "
{
áá# $
get
áá% (
;
áá( )
set
áá* -
;
áá- .
}
áá/ 0
public
ââ 
string
ââ 

parentesco
ââ $
{
ââ% &
get
ââ' *
;
ââ* +
set
ââ, /
;
ââ/ 0
}
ââ1 2
public
ää >
0AutorizacionContactosPreFacturasPersonasResponse
ää C
(
ääC D
)
ääD E
{
åå 
}
ææ 
public
èè >
0AutorizacionContactosPreFacturasPersonasResponse
èè C
(
èèC D
int
èèD G
pIdRegistroDet
èèH V
,
èèV W
string
èèX ^

pApellidos
èè_ i
,
èèi j
string
èèk q
pNombres
èèr z
,
èèz {
stringèè| ‚
pDnièèƒ ‡
,èè‡ ˆ
stringèè‰ 
pCorreoèè —
)èè— ˜
{
éé 
IdRegistroDet
êê 
=
êê 
pIdRegistroDet
êê  .
;
êê. /
	apellidos
ëë 
=
ëë 

pApellidos
ëë &
;
ëë& '
nombres
ìì 
=
ìì 
pNombres
ìì "
;
ìì" #
dni
íí 
=
íí 
pDni
íí 
;
íí 
correo
îî 
=
îî 
pCorreo
îî  
;
îî  !
}
ïï 
public
ññ >
0AutorizacionContactosPreFacturasPersonasResponse
ññ C
(
ññC D
int
ññD G
pIdRegistroDet
ññH V
,
ññV W
string
ññX ^

pApellidos
ññ_ i
,
ññi j
string
ññk q
pNombres
ññr z
,
ññz {
stringññ| ‚
pDniññƒ ‡
,ññ‡ ˆ
stringññ‰ 
pCorreoññ —
,ññ— ˜
stringññ™ Ÿ
	pTelefonoññ  ©
,ññ© ª
stringññ« ±
pParentescoññ² ½
)ññ½ ¾
{
òò 
IdRegistroDet
óó 
=
óó 
pIdRegistroDet
óó  .
;
óó. /
	apellidos
ôô 
=
ôô 

pApellidos
ôô &
;
ôô& '
nombres
õõ 
=
õõ 
pNombres
õõ "
;
õõ" #
dni
öö 
=
öö 
pDni
öö 
;
öö 
correo
÷÷ 
=
÷÷ 
pCorreo
÷÷  
;
÷÷  !
telefono
øø 
=
øø 
	pTelefono
øø $
;
øø$ %

parentesco
ùù 
=
ùù 
pParentesco
ùù (
;
ùù( )
}
úú 
}
ûû 	
public
ıı 
class
ıı 
ApiKey
ıı 
{
şş 	
public
ÿÿ 
string
ÿÿ 
USR
ÿÿ 
{
ÿÿ 
get
ÿÿ  #
;
ÿÿ# $
set
ÿÿ% (
;
ÿÿ( )
}
ÿÿ* +
=
ÿÿ, -
$str
ÿÿ. 0
;
ÿÿ0 1
public
€€ 
string
€€ 
PSW
€€ 
{
€€ 
get
€€  #
;
€€# $
set
€€% (
;
€€( )
}
€€* +
=
€€, -
$str
€€. 0
;
€€0 1
public
 
string
 
TipUser
 !
{
" #
get
$ '
;
' (
set
) ,
;
, -
}
. /
=
0 1
$str
2 4
;
4 5
}
‚‚ 	
public
‰‰ 
bool
‰‰ 
fnValidarApiKey
‰‰ #
(
‰‰# $
string
‰‰$ *
ApiKey
‰‰+ 1
)
‰‰1 2
{
ŠŠ 	
bool
‹‹ 
result
‹‹ 
=
‹‹ 
false
‹‹ 
;
‹‹  
ApiKey
 
?
 
	objApiKey
 
=
 
new
  #
ApiKey
$ *
(
* +
)
+ ,
;
, -
try
 
{
 
string
 
SecurityApiKey
 %
=
& '
	Utilities
( 1
.
1 2
Criptography
2 >
.
> ?$
DecryptConectionString
? U
(
U V
ApiKey
V \
)
\ ]
;
] ^
try
–– 
{
—— 
TablasE
˜˜ 
oTablasE
˜˜ $
=
˜˜% &
new
˜˜' *
TablasE
˜˜+ 2
(
˜˜2 3
)
˜˜3 4
;
˜˜4 5
oTablasE
™™ 
=
™™ 
new
™™ "
TablasAD
™™# +
(
™™+ ,
)
™™, -
.
™™- .'
Sp_Tablas_ConsultaEntidad
™™. G
(
™™G H
new
™™H K
TablasE
™™L S
(
™™S T
$str
™™T g
,
™™g h
ApiKey
™™i o
,
™™o p
$num
™™q r
,
™™r s
$num
™™t u
,
™™u v
$num
™™w x
)
™™x y
)
™™y z
;
™™z {
if
šš 
(
šš 
oTablasE
šš  
.
šš  !
Nombre
šš! '
.
šš' (
Trim
šš( ,
(
šš, -
)
šš- .
==
šš/ 1
ApiKey
šš2 8
)
šš8 9
{
›› 
	objApiKey
œœ !
=
œœ" #
JsonSerializer
œœ$ 2
.
œœ2 3
Deserialize
œœ3 >
<
œœ> ?
ApiKey
œœ? E
>
œœE F
(
œœF G
ApiKey
œœG M
)
œœM N
;
œœN O
result
   
=
    
true
  ! %
;
  % &
}
¡¡ 
}
¢¢ 
catch
££ 
(
££ 
	Exception
££  
ex
££! #
)
££# $
{
¤¤ 
}
¥¥ 
}
¦¦ 
catch
§§ 
(
§§ 
	Exception
§§ 
ex
§§ 
)
§§  
{
¨¨ 
}
©© 
return
ªª 
result
ªª 
;
ªª 
}
«« 	
public
­­ 
List
­­ 
<
­­ "
MedicamentosResponse
­­ (
>
­­( )*
MtConsultarDatosMedicamentos
­­* F
(
­­F G
string
­­G M
Buscar
­­N T
)
­­T U
{
®® 	
DataSet
¯¯ 
oDataSet
¯¯ 
=
¯¯ 
new
¯¯ "
DataSet
¯¯# *
(
¯¯* +
)
¯¯+ ,
;
¯¯, -
List
°° 
<
°° "
MedicamentosResponse
°° %
>
°°% &
oList
°°' ,
=
°°- .
new
°°/ 2
List
°°3 7
<
°°7 8"
MedicamentosResponse
°°8 L
>
°°L M
(
°°M N
)
°°N O
;
°°O P
oDataSet
³³ 
=
³³ 
new
³³ 
OtrosAD
³³ "
(
³³" #
)
³³# $
.
³³$ %#
Sp_Genericos_Consulta
³³% :
(
³³: ;
Buscar
³³; A
,
³³A B
$num
³³C D
,
³³D E
$num
³³F G
,
³³G H
$num
³³I J
)
³³J K
;
³³K L
if
µµ 
(
µµ 
oDataSet
µµ 
.
µµ 
Tables
µµ 
.
µµ  
Count
µµ  %
>=
µµ& (
$num
µµ) *
)
µµ* +
{
¶¶ 
for
·· 
(
·· 
var
·· 
i
·· 
=
·· 
$num
·· 
;
·· 
i
··  !
<=
··" $
oDataSet
··% -
.
··- .
Tables
··. 4
[
··4 5
$num
··5 6
]
··6 7
.
··7 8
Rows
··8 <
.
··< =
Count
··= B
-
··C D
$num
··E F
;
··F G
i
··H I
++
··I K
)
··K L
{
¸¸ 
{
¹¹ 
var
ºº 
	withBlock
ºº %
=
ºº& '
oDataSet
ºº( 0
.
ºº0 1
Tables
ºº1 7
[
ºº7 8
$num
ºº8 9
]
ºº9 :
.
ºº: ;
Rows
ºº; ?
[
ºº? @
i
ºº@ A
]
ººA B
;
ººB C
oList
»» 
.
»» 
Add
»» !
(
»»! "
new
»»" %"
MedicamentosResponse
»»& :
(
»»: ;
(
»»; <
string
»»< B
)
»»B C
	withBlock
»»C L
[
»»L M
$str
»»M Z
]
»»Z [
,
»»[ \
(
»»] ^
(
»»^ _
string
»»_ e
)
»»e f
	withBlock
»»f o
[
»»o p
$str
»»p x
]
»»x y
)
»»y z
.
»»z {
Trim
»»{ 
(»» €
)»»€ 
)»» ‚
)»»‚ ƒ
;»»ƒ „
}
¼¼ 
}
½½ 
}
¾¾ 
return
ÁÁ 
oList
ÁÁ 
;
ÁÁ 
}
ÂÂ 	
public
ÄÄ 
List
ÄÄ 
<
ÄÄ /
!MedicamentosRiesgoItemMaeResponse
ÄÄ 5
>
ÄÄ5 6+
MtConsultarMedicacionItemsMae
ÄÄ7 T
(
ÄÄT U.
 MedicamentosRiesgoItemMaeRequest
ÄÄU u0
!pMedicamentosRiesgoItemMaeRequestÄÄv —
)ÄÄ— ˜
{
ÅÅ 	
List
ÆÆ 
<
ÆÆ /
!MedicamentosRiesgoItemMaeResponse
ÆÆ 2
>
ÆÆ2 3
oListMedicamentos
ÆÆ4 E
=
ÆÆF G
new
ÆÆH K
List
ÆÆL P
<
ÆÆP Q/
!MedicamentosRiesgoItemMaeResponse
ÆÆQ r
>
ÆÆr s
(
ÆÆs t
)
ÆÆt u
;
ÆÆu v
if
ÈÈ 
(
ÈÈ 
fnValidarApiKey
ÈÈ 
(
ÈÈ  /
!pMedicamentosRiesgoItemMaeRequest
ÈÈ  A
.
ÈÈA B
ApiKey
ÈÈB H
)
ÈÈH I
)
ÈÈI J
{
ÉÉ 
List
ÊÊ 
<
ÊÊ '
RcePahMedicacionItemsMaeE
ÊÊ .
>
ÊÊ. /
oList
ÊÊ0 5
;
ÊÊ5 6
oList
ÌÌ 
=
ÌÌ 
new
ÌÌ (
RcePahMedicacionItemsMaeAD
ÌÌ 6
(
ÌÌ6 7
)
ÌÌ7 8
.
ÌÌ8 92
$Sp_RcePahMedicacionItemsMae_Consulta
ÌÌ9 ]
(
ÌÌ] ^
new
ÌÌ^ a'
RcePahMedicacionItemsMaeE
ÌÌb {
(
ÌÌ{ |0
!pMedicamentosRiesgoItemMaeRequestÌÌ| 
.ÌÌ 
OrdenÌÌ £
)ÌÌ£ ¤
)ÌÌ¤ ¥
;ÌÌ¥ ¦
for
ÍÍ 
(
ÍÍ 
int
ÍÍ 
i
ÍÍ 
=
ÍÍ 
$num
ÍÍ 
;
ÍÍ 
i
ÍÍ  !
<=
ÍÍ" $
oList
ÍÍ% *
.
ÍÍ* +
Count
ÍÍ+ 0
-
ÍÍ1 2
$num
ÍÍ3 4
;
ÍÍ4 5
i
ÍÍ6 7
++
ÍÍ7 9
)
ÍÍ9 :
{
ÎÎ 
{
ÏÏ 
var
ĞĞ 
	withBlock
ĞĞ %
=
ĞĞ& '
oList
ĞĞ( -
[
ĞĞ- .
i
ĞĞ. /
]
ĞĞ/ 0
;
ĞĞ0 1
oListMedicamentos
ÑÑ )
.
ÑÑ) *
Add
ÑÑ* -
(
ÑÑ- .
new
ÑÑ. 1/
!MedicamentosRiesgoItemMaeResponse
ÑÑ2 S
(
ÑÑS T
	withBlock
ÑÑT ]
.
ÑÑ] ^#
IdeMedicacionItemsMae
ÑÑ^ s
,
ÑÑs t
	withBlock
ÑÑu ~
.
ÑÑ~ 
DscItemÑÑ †
,ÑÑ† ‡
	withBlockÑÑˆ ‘
.ÑÑ‘ ’

DscSubItemÑÑ’ œ
)ÑÑœ 
)ÑÑ 
;ÑÑ Ÿ
}
ÒÒ 
}
ÓÓ 
}
ÔÔ 
return
ÖÖ 
oListMedicamentos
ÖÖ $
;
ÖÖ$ %
}
×× 	
public
ÙÙ 
List
ÙÙ 
<
ÙÙ -
ConsultaHospitalizacionResponse
ÙÙ 3
>
ÙÙ3 4(
MtConsultarHospitalizacion
ÙÙ5 O
(
ÙÙO P,
ConsultaHospitalizacionRequest
ÙÙP n1
"pObjConsultaHospitalizacionRequestÙÙo ‘
)ÙÙ‘ ’
{
ÚÚ 	
List
ÛÛ 
<
ÛÛ -
ConsultaHospitalizacionResponse
ÛÛ 0
>
ÛÛ0 1
oList
ÛÛ2 7
=
ÛÛ8 9
new
ÛÛ: =
List
ÛÛ> B
<
ÛÛB C-
ConsultaHospitalizacionResponse
ÛÛC b
>
ÛÛb c
(
ÛÛc d
)
ÛÛd e
;
ÛÛe f
string
ŞŞ 
JsonBody
ŞŞ 
=
ŞŞ 
JsonSerializer
ŞŞ ,
.
ŞŞ, -
	Serialize
ŞŞ- 6
(
ŞŞ6 70
"pObjConsultaHospitalizacionRequest
ŞŞ7 Y
)
ŞŞY Z
;
ŞŞZ [
string
ßß 
SecurityApiKey
ßß !
=
ßß" #
	Utilities
ßß$ -
.
ßß- .
Criptography
ßß. :
.
ßß: ;$
DecryptConectionString
ßß; Q
(
ßßQ R0
"pObjConsultaHospitalizacionRequest
ßßR t
.
ßßt u
ApiKey
ßßu {
)
ßß{ |
;
ßß| }
ApiKey
áá 
?
áá 
	objApiKey
áá 
=
áá 
JsonSerializer
áá  .
.
áá. /
Deserialize
áá/ :
<
áá: ;
ApiKey
áá; A
>
ááA B
(
ááB C
SecurityApiKey
ááC Q
)
ááQ R
;
ááR S
new
ââ !
RcePahRequestJsonAD
ââ #
(
ââ# $
)
ââ$ %
.
ââ% &)
Sp_RcePahRequestJson_Insert
ââ& A
(
ââA B
new
ââB E 
RcePahRequestJsonE
ââF X
(
ââX Y
$num
ââY Z
,
ââZ [
$num
ââ\ ]
,
ââ] ^
$str
ââ_ c
,
ââc d
	objApiKey
ââe n
.
âân o
USR
ââo r
,
ââr s
JsonBody
âât |
)
ââ| }
)
ââ} ~
;
ââ~ 
if
ää 
(
ää 
fnValidarApiKey
ää 
(
ää  0
"pObjConsultaHospitalizacionRequest
ää  B
.
ääB C
ApiKey
ääC I
)
ääI J
)
ääJ K
{
åå -
ConsultaHospitalizacionResponse
ææ /.
 oConsultaHospitalizacionResponse
ææ0 P
=
ææQ R
new
ææS V-
ConsultaHospitalizacionResponse
ææW v
(
ææv w
)
ææw x
;
ææx y
List
çç 
<
çç 
TabPacienteE
çç !
>
çç! "
oLPacE
çç# )
=
çç* +
new
çç, /
List
çç0 4
<
çç4 5
TabPacienteE
çç5 A
>
ççA B
(
ççB C
)
ççC D
;
ççD E
string
éé 
wIdAmbulatorios
éé &
=
éé' (
$str
éé) +
;
éé+ ,
oLPacE
êê 
=
êê 
new
êê 
TabPacientesAD
êê +
(
êê+ ,
)
êê, -
.
êê- .0
"ObtenerGrupoFamiliarxIdAmbulatorio
êê. P
(
êêP Q0
"pObjConsultaHospitalizacionRequest
êêQ s
.
êês t
idAmbulatorioêêt 
)êê ‚
;êê‚ ƒ
for
ëë 
(
ëë 
var
ëë 
i
ëë 
=
ëë 
$num
ëë 
;
ëë 
i
ëë  !
<=
ëë" $
oLPacE
ëë% +
.
ëë+ ,
Count
ëë, 1
-
ëë2 3
$num
ëë4 5
;
ëë5 6
i
ëë7 8
++
ëë8 :
)
ëë: ;
wIdAmbulatorios
ìì #
=
ìì$ %
wIdAmbulatorios
ìì& 5
+
ìì6 7
oLPacE
ìì8 >
[
ìì> ?
i
ìì? @
]
ìì@ A
.
ììA B
IdAmbulatorio
ììB O
+
ììP Q
$str
ììR V
;
ììV W
DataSet
îî 
oDS
îî 
=
îî 
new
îî !
DataSet
îî" )
(
îî) *
)
îî* +
;
îî+ ,
oDS
ïï 
=
ïï 
new
ïï 

HospitalAD
ïï $
(
ïï$ %
)
ïï% &
.
ïï& ',
Sp_ConsultarDatosHospitalarios
ïï' E
(
ïïE F
new
ïïF I
	HospitalE
ïïJ S
(
ïïS T
$str
ïïT V
,
ïïV W
wIdAmbulatorios
ïïX g
,
ïïg h
$str
ïïi k
,
ïïk l
$str
ïïm o
)
ïïo p
)
ïïp q
;
ïïq r
if
ññ 
(
ññ 
oDS
ññ 
.
ññ 
Tables
ññ 
.
ññ 
Count
ññ $
>=
ññ% '
$num
ññ( )
)
ññ) *
{
òò 
for
óó 
(
óó 
int
óó 
i
óó 
=
óó  
$num
óó! "
;
óó" #
i
óó$ %
<=
óó& (
oDS
óó) ,
.
óó, -
Tables
óó- 3
[
óó3 4
$num
óó4 5
]
óó5 6
.
óó6 7
Rows
óó7 ;
.
óó; <
Count
óó< A
-
óóB C
$num
óóD E
;
óóE F
i
óóG H
++
óóH J
)
óóJ K
{
ôô 
{
õõ 
var
öö 
	withBlock
öö  )
=
öö* +
oDS
öö, /
.
öö/ 0
Tables
öö0 6
[
öö6 7
$num
öö7 8
]
öö8 9
.
öö9 :
Rows
öö: >
[
öö> ?
i
öö? @
]
öö@ A
;
ööA B.
 oConsultaHospitalizacionResponse
÷÷ <
=
÷÷= >
new
÷÷? B-
ConsultaHospitalizacionResponse
÷÷C b
(
÷÷b c
)
÷÷c d
;
÷÷d e.
 oConsultaHospitalizacionResponse
øø <
.
øø< =
codAtencion
øø= H
=
øøI J
(
øøK L
string
øøL R
)
øøR S
	withBlock
øøS \
[
øø\ ]
$str
øø] j
]
øøj k
;
øøk l.
 oConsultaHospitalizacionResponse
ùù <
.
ùù< =
	fechaHora
ùù= F
=
ùùG H
(
ùùI J
string
ùùJ P
)
ùùP Q
	withBlock
ùùQ Z
[
ùùZ [
$str
ùù[ h
]
ùùh i
;
ùùi j.
 oConsultaHospitalizacionResponse
úú <
.
úú< =
idAmbulatorio
úú= J
=
úúK L
(
úúM N
string
úúN T
)
úúT U
	withBlock
úúU ^
[
úú^ _
$str
úú_ l
]
úúl m
;
úúm n.
 oConsultaHospitalizacionResponse
üü <
.
üü< =
codTipoDocumento
üü= M
=
üüN O
(
üüP Q
string
üüQ W
)
üüW X
	withBlock
üüX a
[
üüa b
$str
üüb s
]
üüs t
;
üüt u.
 oConsultaHospitalizacionResponse
ıı <
.
ıı< =
desTipoDocumento
ıı= M
=
ııN O
(
ııP Q
string
ııQ W
)
ııW X
	withBlock
ııX a
[
ııa b
$str
ııb t
]
ııt u
;
ııu v.
 oConsultaHospitalizacionResponse
şş <
.
şş< =
numeroDocumento
şş= L
=
şşM N
(
şşO P
string
şşP V
)
şşV W
	withBlock
şşW `
[
şş` a
$str
şşa o
]
şşo p
;
şşp q.
 oConsultaHospitalizacionResponse
ÿÿ <
.
ÿÿ< =
fechaNacimiento
ÿÿ= L
=
ÿÿM N
(
ÿÿO P
string
ÿÿP V
)
ÿÿV W
	withBlock
ÿÿW `
[
ÿÿ` a
$str
ÿÿa r
]
ÿÿr s
;
ÿÿs t.
 oConsultaHospitalizacionResponse
€€ <
.
€€< =
nombres
€€= D
=
€€E F
(
€€G H
string
€€H N
)
€€N O
	withBlock
€€O X
[
€€X Y
$str
€€Y a
]
€€a b
;
€€b c.
 oConsultaHospitalizacionResponse
 <
.
< =
apellidoPaterno
= L
=
M N
(
O P
string
P V
)
V W
	withBlock
W `
[
` a
$str
a l
]
l m
;
m n.
 oConsultaHospitalizacionResponse
‚‚ <
.
‚‚< =
apellidoMaterno
‚‚= L
=
‚‚M N
(
‚‚O P
string
‚‚P V
)
‚‚V W
	withBlock
‚‚W `
[
‚‚` a
$str
‚‚a l
]
‚‚l m
;
‚‚m n.
 oConsultaHospitalizacionResponse
ƒƒ <
.
ƒƒ< =
correo
ƒƒ= C
=
ƒƒD E
(
ƒƒF G
string
ƒƒG M
)
ƒƒM N
	withBlock
ƒƒN W
[
ƒƒW X
$str
ƒƒX _
]
ƒƒ_ `
;
ƒƒ` a.
 oConsultaHospitalizacionResponse
„„ <
.
„„< =
telefono
„„= E
=
„„F G
(
„„H I
string
„„I O
)
„„O P
	withBlock
„„P Y
[
„„Y Z
$str
„„Z d
]
„„d e
;
„„e f.
 oConsultaHospitalizacionResponse
…… <
.
……< =
sexo
……= A
=
……B C
(
……D E
string
……E K
)
……K L
	withBlock
……L U
[
……U V
$str
……V \
]
……\ ]
;
……] ^.
 oConsultaHospitalizacionResponse
†† <
.
††< =
	codMedico
††= F
=
††G H
(
††I J
string
††J P
)
††P Q
	withBlock
††Q Z
[
††Z [
$str
††[ f
]
††f g
;
††g h.
 oConsultaHospitalizacionResponse
‡‡ <
.
‡‡< =
	nomMedico
‡‡= F
=
‡‡G H
(
‡‡I J
string
‡‡J P
)
‡‡P Q
	withBlock
‡‡Q Z
[
‡‡Z [
$str
‡‡[ d
]
‡‡d e
;
‡‡e f.
 oConsultaHospitalizacionResponse
ˆˆ <
.
ˆˆ< =
codEspecialidad
ˆˆ= L
=
ˆˆM N
(
ˆˆO P
string
ˆˆP V
)
ˆˆV W
	withBlock
ˆˆW `
[
ˆˆ` a
$str
ˆˆa r
]
ˆˆr s
;
ˆˆs t.
 oConsultaHospitalizacionResponse
‰‰ <
.
‰‰< =
desEspecialidad
‰‰= L
=
‰‰M N
(
‰‰O P
string
‰‰P V
)
‰‰V W
	withBlock
‰‰W `
[
‰‰` a
$str
‰‰a r
]
‰‰r s
;
‰‰s t.
 oConsultaHospitalizacionResponse
ŠŠ <
.
ŠŠ< =
nivelAtencion
ŠŠ= J
=
ŠŠK L
(
ŠŠM N
string
ŠŠN T
)
ŠŠT U
	withBlock
ŠŠU ^
[
ŠŠ^ _
$str
ŠŠ_ n
]
ŠŠn o
;
ŠŠo p.
 oConsultaHospitalizacionResponse
‹‹ <
.
‹‹< =
	codEstado
‹‹= F
=
‹‹G H
(
‹‹I J
string
‹‹J P
)
‹‹P Q
	withBlock
‹‹Q Z
[
‹‹Z [
$str
‹‹[ f
]
‹‹f g
;
‹‹g h.
 oConsultaHospitalizacionResponse
ŒŒ <
.
ŒŒ< =
	desEstado
ŒŒ= F
=
ŒŒG H
(
ŒŒI J
string
ŒŒJ P
)
ŒŒP Q
	withBlock
ŒŒQ Z
[
ŒŒZ [
$str
ŒŒ[ f
]
ŒŒf g
;
ŒŒg h.
 oConsultaHospitalizacionResponse
 <
.
< =

ultimoPaso
= G
=
H I
(
J K
string
K Q
)
Q R
	withBlock
R [
[
[ \
$str
\ h
]
h i
;
i j
for
 
(
  !
int
! $
j
% &
=
' (
$num
) *
;
* +
j
, -
<=
. 0
oLPacE
1 7
.
7 8
Count
8 =
-
> ?
$num
@ A
;
A B
j
C D
++
D F
)
F G
{
 
if
‘‘  "
(
‘‘# $
oLPacE
‘‘$ *
[
‘‘* +
j
‘‘+ ,
]
‘‘, -
.
‘‘- .
IdAmbulatorio
‘‘. ;
==
‘‘< >.
 oConsultaHospitalizacionResponse
‘‘? _
.
‘‘_ `
idAmbulatorio
‘‘` m
)
‘‘m n
{
’’  !.
 oConsultaHospitalizacionResponse
““$ D
.
““D E
grupoFamiliar
““E R
=
““S T
oLPacE
““U [
[
““[ \
j
““\ ]
]
““] ^
.
““^ _#
UserW_IdGrupoFamiliar
““_ t
;
““t u.
 oConsultaHospitalizacionResponse
””$ D
.
””D E
codFamiliar
””E P
=
””Q R
oLPacE
””S Y
[
””Y Z
j
””Z [
]
””[ \
.
””\ ]!
UserW_CodParentesco
””] p
;
””p q.
 oConsultaHospitalizacionResponse
••$ D
.
••D E
desFamiliar
••E P
=
••Q R
oLPacE
••S Y
[
••Y Z
j
••Z [
]
••[ \
.
••\ ]!
UserW_DscParentesco
••] p
;
••p q
break
––$ )
;
––) *
}
——  !
}
˜˜ 
oList
šš !
.
šš! "
Add
šš" %
(
šš% &.
 oConsultaHospitalizacionResponse
šš& F
)
ššF G
;
ššG H
}
›› 
}
œœ 
}
 
}
 
return
   
oList
   
;
   
}
¡¡ 	
public
££ 5
'AlergiaMedicamentosRiesgoGrabarResponse
££ 62
$MtGrabarAlergiasMedicacionRiesgoCasa
££7 [
(
££[ \5
&AlergiaMedicamentosRiesgoGrabarRequest££\ ‚'
pAlergiaConsultaRequest££ƒ š
)££š ›
{
¤¤ 	5
'AlergiaMedicamentosRiesgoGrabarResponse
¥¥ 3
	oResponse
¥¥4 =
=
¥¥> ?
new
¥¥@ C5
'AlergiaMedicamentosRiesgoGrabarResponse
¥¥D k
(
¥¥k l
)
¥¥l m
;
¥¥m n
string
¨¨ 
JsonBody
¨¨ 
=
¨¨ 
JsonSerializer
¨¨ ,
.
¨¨, -
	Serialize
¨¨- 6
(
¨¨6 7%
pAlergiaConsultaRequest
¨¨7 N
)
¨¨N O
;
¨¨O P
string
©© 
SecurityApiKey
©© !
=
©©" #
	Utilities
©©$ -
.
©©- .
Criptography
©©. :
.
©©: ;$
DecryptConectionString
©©; Q
(
©©Q R%
pAlergiaConsultaRequest
©©R i
.
©©i j
ApiKey
©©j p
)
©©p q
;
©©q r
ApiKey
ªª 
?
ªª 
	objApiKey
ªª 
=
ªª 
JsonSerializer
ªª  .
.
ªª. /
Deserialize
ªª/ :
<
ªª: ;
ApiKey
ªª; A
>
ªªA B
(
ªªB C
SecurityApiKey
ªªC Q
)
ªªQ R
;
ªªR S
new
¬¬ !
RcePahRequestJsonAD
¬¬ #
(
¬¬# $
)
¬¬$ %
.
¬¬% &)
Sp_RcePahRequestJson_Insert
¬¬& A
(
¬¬A B
new
¬¬B E 
RcePahRequestJsonE
¬¬F X
(
¬¬X Y
$num
¬¬Y Z
,
¬¬Z [%
pAlergiaConsultaRequest
¬¬\ s
.
¬¬s t

IdRegistro
¬¬t ~
,
¬¬~ 
$str¬¬€ „
,¬¬„ …
	objApiKey¬¬† 
.¬¬ 
USR¬¬ “
,¬¬“ ”
JsonBody¬¬• 
)¬¬ 
)¬¬ Ÿ
;¬¬Ÿ  
if
®® 
(
®® 
fnValidarApiKey
®® 
(
®®  %
pAlergiaConsultaRequest
®®  7
.
®®7 8
ApiKey
®®8 >
)
®®> ?
)
®®? @
{
¯¯ 
RcePahEstadosCabE
°° ! 
oRcePahEstadosCabE
°°" 4
=
°°5 6
new
°°7 :
RcePahEstadosCabE
°°; L
(
°°L M
)
°°M N
;
°°N O
RcePahAlergiaCabE
±± ! 
oRcePahAlergiaCabE
±±" 4
=
±±5 6
new
±±7 :
RcePahAlergiaCabE
±±; L
(
±±L M
)
±±M N
;
±±N O
{
³³ 
var
´´ 
	withBlock
´´ !
=
´´" #%
pAlergiaConsultaRequest
´´$ ;
;
´´; < 
oRcePahEstadosCabE
µµ &
=
µµ' (
new
µµ) ,
RcePahEstadosCabE
µµ- >
(
µµ> ?
$num
µµ? @
,
µµ@ A
	withBlock
µµB K
.
µµK L
idAmbulatorio
µµL Y
,
µµY Z
	withBlock
µµ[ d
.
µµd e
codAtencion
µµe p
,
µµp q
	withBlock
µµr {
.
µµ{ |
accionµµ| ‚
)µµ‚ ƒ
;µµƒ „
}
¶¶ 
using
¸¸ 
(
¸¸ 
System
¸¸ 
.
¸¸ 
Transactions
¸¸ *
.
¸¸* +
TransactionScope
¸¸+ ;
trans
¸¸< A
=
¸¸B C
new
¸¸D G
System
¸¸H N
.
¸¸N O
Transactions
¸¸O [
.
¸¸[ \
TransactionScope
¸¸\ l
(
¸¸l m
)
¸¸m n
)
¸¸n o
{
¹¹ 
try
ºº 
{
»» 
{
¼¼ 
var
½½ 
	withBlock
½½  )
=
½½* +%
pAlergiaConsultaRequest
½½, C
;
½½C D
new
¾¾  
RcePahEstadosCabAD
¾¾  2
(
¾¾2 3
)
¾¾3 4
.
¾¾4 5(
Sp_RcePahEstadosCab_Insert
¾¾5 O
(
¾¾O P 
oRcePahEstadosCabE
¾¾P b
)
¾¾b c
;
¾¾c d 
oRcePahAlergiaCabE
ÀÀ .
=
ÀÀ/ 0
new
ÀÀ1 4
RcePahAlergiaCabE
ÀÀ5 F
(
ÀÀF G
$num
ÀÀG H
,
ÀÀH I 
oRcePahEstadosCabE
ÀÀJ \
.
ÀÀ\ ]
IdePreAdmision
ÀÀ] k
,
ÀÀk l&
pAlergiaConsultaRequestÀÀm „
.ÀÀ„ …

indAlergiaÀÀ… 
,ÀÀ '
pAlergiaConsultaRequestÀÀ‘ ¨
.ÀÀ¨ ©
hospitalizadoÀÀ© ¶
,ÀÀ¶ ·'
pAlergiaConsultaRequestÀÀ¸ Ï
.ÀÀÏ Ğ
representanteÀÀĞ İ
,ÀÀİ Ş'
pAlergiaConsultaRequestÀÀß ö
.ÀÀö ÷

habitacionÀÀ÷ 
,ÀÀ ‚'
pAlergiaConsultaRequestÀÀƒ š
.ÀÀš ›
	alimentosÀÀ› ¤
,ÀÀ¤ ¥'
pAlergiaConsultaRequestÀÀ¦ ½
.ÀÀ½ ¾
otrosÀÀ¾ Ã
,ÀÀÃ Ä'
pAlergiaConsultaRequestÀÀÅ Ü
.ÀÀÜ İ
	RespEnvioÀÀİ æ
,ÀÀæ ç
$strÀÀè ë
,ÀÀë ì'
pAlergiaConsultaRequestÀÀí „
.ÀÀ„ …
accionÀÀ… ‹
)ÀÀ‹ Œ
;ÀÀŒ 
if
ÂÂ 
(
ÂÂ   
oRcePahEstadosCabE
ÂÂ  2
.
ÂÂ2 3
IdePreAdmision
ÂÂ3 A
>
ÂÂB C
$num
ÂÂD E
)
ÂÂE F
{
ÃÃ 
if
ÄÄ  "
(
ÄÄ# $%
pAlergiaConsultaRequest
ÄÄ$ ;
.
ÄÄ; <
accion
ÄÄ< B
==
ÄÄC E
$str
ÄÄF I
)
ÄÄI J
{
ÅÅ  !
new
ÆÆ$ ' 
RcePahAlergiaCabAD
ÆÆ( :
(
ÆÆ: ;
)
ÆÆ; <
.
ÆÆ< =(
Sp_RcePahAlergiaCab_Delete
ÆÆ= W
(
ÆÆW X
new
ÆÆX [
RcePahAlergiaCabE
ÆÆ\ m
(
ÆÆm n
$num
ÆÆn o
,
ÆÆo p!
oRcePahEstadosCabEÆÆq ƒ
.ÆÆƒ „
CodAtencionÆÆ„ 
,ÆÆ 
$numÆÆ‘ ’
)ÆÆ’ “
)ÆÆ“ ”
;ÆÆ” •
new
ÇÇ$ '#
RcePahMedicacionCabAD
ÇÇ( =
(
ÇÇ= >
)
ÇÇ> ?
.
ÇÇ? @+
Sp_RcePahMedicacionCab_Delete
ÇÇ@ ]
(
ÇÇ] ^
new
ÇÇ^ a"
RcePahMedicacionCabE
ÇÇb v
(
ÇÇv w
$num
ÇÇw x
,
ÇÇx y
$str
ÇÇz |
,
ÇÇ| }
$strÇÇ~ €
,ÇÇ€ "
oRcePahEstadosCabEÇÇ‚ ”
.ÇÇ” •
CodAtencionÇÇ•  
)ÇÇ  ¡
)ÇÇ¡ ¢
;ÇÇ¢ £
new
ÉÉ$ ' 
RcePahEstadosCabAD
ÉÉ( :
(
ÉÉ: ;
)
ÉÉ; <
.
ÉÉ< =.
 Sp_RcePahEstadosCab_UpdatexCampo
ÉÉ= ]
(
ÉÉ] ^
new
ÉÉ^ a
RcePahEstadosCabE
ÉÉb s
(
ÉÉs t
$num
ÉÉt u
,
ÉÉu v
$str
ÉÉw y
,
ÉÉy z!
oRcePahAlergiaCabEÉÉ{ 
.ÉÉ 
CodAtencionÉÉ ™
,ÉÉ™ š
$strÉÉ› Ÿ
,ÉÉŸ  
$strÉÉ¡ ¾
)ÉÉ¾ ¿
)ÉÉ¿ À
;ÉÉÀ Á
}
ÊÊ  !
new
ÌÌ  # 
RcePahAlergiaCabAD
ÌÌ$ 6
(
ÌÌ6 7
)
ÌÌ7 8
.
ÌÌ8 9(
Sp_RcePahAlergiaCab_Insert
ÌÌ9 S
(
ÌÌS T 
oRcePahAlergiaCabE
ÌÌT f
)
ÌÌf g
;
ÌÌg h
byte
ÎÎ  $
[
ÎÎ$ %
]
ÎÎ% &
Doc
ÎÎ' *
=
ÎÎ+ ,
Convert
ÎÎ- 4
.
ÎÎ4 5
FromBase64String
ÎÎ5 E
(
ÎÎE F%
pAlergiaConsultaRequest
ÎÎF ]
.
ÎÎ] ^
documentoAlergias
ÎÎ^ o
)
ÎÎo p
;
ÎÎp q"
RcePahDocumentosPdfE
ÏÏ  4#
oRcePahDocumentosPdfE
ÏÏ5 J
=
ÏÏK L
new
ÏÏM P"
RcePahDocumentosPdfE
ÏÏQ e
(
ÏÏe f
$num
ÏÏf g
,
ÏÏg h
	withBlock
ÏÏi r
.
ÏÏr s
codAtencion
ÏÏs ~
,
ÏÏ~ "
oRcePahEstadosCabEÏÏ€ ’
.ÏÏ’ “
IdePreAdmisionÏÏ“ ¡
,ÏÏ¡ ¢
$strÏÏ£ ©
,ÏÏ© ª
DocÏÏ« ®
)ÏÏ® ¯
;ÏÏ¯ °
new
ĞĞ  ##
RcePahDocumentosPdfAD
ĞĞ$ 9
(
ĞĞ9 :
)
ĞĞ: ;
.
ĞĞ; <+
Sp_RcePahDocumentosPdf_Insert
ĞĞ< Y
(
ĞĞY Z#
oRcePahDocumentosPdfE
ĞĞZ o
)
ĞĞo p
;
ĞĞp q
if
ÑÑ  "
(
ÑÑ# $#
oRcePahDocumentosPdfE
ÑÑ$ 9
.
ÑÑ9 :
IdeDocumentosPdf
ÑÑ: J
==
ÑÑK M
$num
ÑÑN O
)
ÑÑO P
throw
ÒÒ$ )
new
ÒÒ* -
	Exception
ÒÒ. 7
(
ÒÒ7 8
$strÒÒ8 ‡
)ÒÒ‡ ˆ
;ÒÒˆ ‰+
RcePahAlergiaMedicamentosDetE
ÔÔ  =,
oRcePahAlergiaMedicamentosDetE
ÔÔ> \
=
ÔÔ] ^
new
ÔÔ_ b,
RcePahAlergiaMedicamentosDetEÔÔc €
(ÔÔ€ 
)ÔÔ ‚
;ÔÔ‚ ƒ
if
ÕÕ  "
(
ÕÕ# $ 
oRcePahAlergiaCabE
ÕÕ$ 6
.
ÕÕ6 7
IdeAlergiaCab
ÕÕ7 D
!=
ÕÕE G
$num
ÕÕH I
)
ÕÕI J
{
ÖÖ  !
for
××$ '
(
××( )
int
××) ,
i
××- .
=
××/ 0
$num
××1 2
;
××2 3
i
××4 5
<=
××6 8
	withBlock
××9 B
.
××B C
medicamentos
××C O
.
××O P
Count
××P U
-
××V W
$num
××X Y
;
××Y Z
i
××[ \
++
××\ ^
)
××^ _
{
ØØ$ %,
oRcePahAlergiaMedicamentosDetE
ÙÙ( F
=
ÙÙG H
new
ÙÙI L+
RcePahAlergiaMedicamentosDetE
ÙÙM j
(
ÙÙj k 
oRcePahAlergiaCabE
ÙÙk }
.
ÙÙ} ~
IdeAlergiaCabÙÙ~ ‹
,ÙÙ‹ Œ
	withBlockÙÙ –
.ÙÙ– —
medicamentosÙÙ— £
[ÙÙ£ ¤
iÙÙ¤ ¥
]ÙÙ¥ ¦
.ÙÙ¦ §
CodigoÙÙ§ ­
,ÙÙ­ ®
	withBlockÙÙ¯ ¸
.ÙÙ¸ ¹
medicamentosÙÙ¹ Å
[ÙÙÅ Æ
iÙÙÆ Ç
]ÙÙÇ È
.ÙÙÈ É
DescripcionÙÙÉ Ô
)ÙÙÔ Õ
;ÙÙÕ Ö
new
ÚÚ( +,
RcePahAlergiaMedicamentosDetAD
ÚÚ, J
(
ÚÚJ K
)
ÚÚK L
.
ÚÚL M4
&Sp_RcePahAlergiaMedicamentosDet_Insert
ÚÚM s
(
ÚÚs t-
oRcePahAlergiaMedicamentosDetEÚÚt ’
)ÚÚ’ “
;ÚÚ“ ”
if
ÛÛ( *
(
ÛÛ+ ,,
oRcePahAlergiaMedicamentosDetE
ÛÛ, J
.
ÛÛJ K'
IdeAlergiaMedicamentosDet
ÛÛK d
==
ÛÛe g
$num
ÛÛh i
)
ÛÛi j
throw
ÜÜ, 1
new
ÜÜ2 5
	Exception
ÜÜ6 ?
(
ÜÜ? @
$strÜÜ@ „
)ÜÜ„ …
;ÜÜ… †
}
İİ$ %
}
ŞŞ  !
else
ßß  $
throw
àà$ )
new
àà* -
	Exception
àà. 7
(
àà7 8
$str
àà8 p
)
ààp q
;
ààq r"
RcePahMedicacionCabE
ââ  4#
oRcePahMedicacionCabE
ââ5 J
=
ââK L
new
ââM P"
RcePahMedicacionCabE
ââQ e
(
ââe f
$num
ââf g
,
ââg h
	withBlock
ââi r
.
ââr s
	RespEnvio
ââs |
,
ââ| }
$strââ~ 
)ââ ‚
;ââ‚ ƒ
new
ãã  ##
RcePahMedicacionCabAD
ãã$ 9
(
ãã9 :
)
ãã: ;
.
ãã; <+
Sp_RcePahMedicacionCab_Insert
ãã< Y
(
ããY Z#
oRcePahMedicacionCabE
ããZ o
)
ãão p
;
ããp q
Doc
åå  #
=
åå$ %
Convert
åå& -
.
åå- .
FromBase64String
åå. >
(
åå> ?%
pAlergiaConsultaRequest
åå? V
.
ååV W
documentoRiesgos
ååW g
)
ååg h
;
ååh i#
oRcePahDocumentosPdfE
ææ  5
=
ææ6 7
new
ææ8 ;"
RcePahDocumentosPdfE
ææ< P
(
ææP Q
$num
ææQ R
,
ææR S
	withBlock
ææT ]
.
ææ] ^
codAtencion
ææ^ i
,
ææi j 
oRcePahEstadosCabE
ææk }
.
ææ} ~
IdePreAdmisionææ~ Œ
,ææŒ 
$strææ “
,ææ“ ”
Docææ• ˜
)ææ˜ ™
;ææ™ š
new
çç  ##
RcePahDocumentosPdfAD
çç$ 9
(
çç9 :
)
çç: ;
.
çç; <+
Sp_RcePahDocumentosPdf_Insert
çç< Y
(
ççY Z#
oRcePahDocumentosPdfE
ççZ o
)
çço p
;
ççp q
if
èè  "
(
èè# $#
oRcePahDocumentosPdfE
èè$ 9
.
èè9 :
IdeDocumentosPdf
èè: J
==
èèK M
$num
èèN O
)
èèO P
throw
éé$ )
new
éé* -
	Exception
éé. 7
(
éé7 8
$stréé8 ‰
)éé‰ Š
;ééŠ ‹"
RcePahMedicacionDetE
ëë  4#
oRcePahMedicacionDetE
ëë5 J
=
ëëK L
new
ëëM P"
RcePahMedicacionDetE
ëëQ e
(
ëëe f
)
ëëf g
;
ëëg h
if
ìì  "
(
ìì# $#
oRcePahMedicacionCabE
ìì$ 9
.
ìì9 :
IdeMedicacionCab
ìì: J
!=
ììK M
$num
ììN O
)
ììO P
{
íí  !
for
îî$ '
(
îî( )
int
îî) ,
i
îî- .
=
îî/ 0
$num
îî1 2
;
îî2 3
i
îî4 5
<=
îî6 8
	withBlock
îî9 B
.
îîB C!
medicamentosRiesgos
îîC V
.
îîV W
Count
îîW \
-
îî] ^
$num
îî_ `
;
îî` a
i
îîb c
++
îîc e
)
îîe f
{
ïï$ %#
oRcePahMedicacionDetE
ğğ( =
=
ğğ> ?
new
ğğ@ C"
RcePahMedicacionDetE
ğğD X
(
ğğX Y
$num
ğğY Z
,
ğğZ [#
oRcePahMedicacionCabE
ğğ\ q
.
ğğq r
IdeMedicacionCabğğr ‚
,ğğ‚ ƒ
	withBlockğğ„ 
.ğğ #
medicamentosRiesgosğğ ¡
[ğğ¡ ¢
iğğ¢ £
]ğğ£ ¤
.ğğ¤ ¥
Codigoğğ¥ «
,ğğ« ¬
	withBlockğğ­ ¶
.ğğ¶ ·#
medicamentosRiesgosğğ· Ê
[ğğÊ Ë
iğğË Ì
]ğğÌ Í
.ğğÍ Î
	IndicadorğğÎ ×
)ğğ× Ø
;ğğØ Ù
new
ññ( +#
RcePahMedicacionDetAD
ññ, A
(
ññA B
)
ññB C
.
ññC D+
Sp_RcePahMedicacionDet_Insert
ññD a
(
ñña b#
oRcePahMedicacionDetE
ññb w
)
ññw x
;
ññx y
if
òò( *
(
òò+ ,#
oRcePahMedicacionDetE
òò, A
.
òòA B
IdeMedicacionDet
òòB R
==
òòS U
$num
òòV W
)
òòW X
throw
óó, 1
new
óó2 5
	Exception
óó6 ?
(
óó? @
$str
óó@ {
)
óó{ |
;
óó| }
}
ôô$ %
}
õõ  !
else
öö  $
throw
÷÷$ )
new
÷÷* -
	Exception
÷÷. 7
(
÷÷7 8
$str
÷÷8 s
)
÷÷s t
;
÷÷t u
new
ùù  # 
RcePahEstadosCabAD
ùù$ 6
(
ùù6 7
)
ùù7 8
.
ùù8 9.
 Sp_RcePahEstadosCab_UpdatexCampo
ùù9 Y
(
ùùY Z
new
ùùZ ]
RcePahEstadosCabE
ùù^ o
(
ùùo p!
oRcePahEstadosCabEùùp ‚
.ùù‚ ƒ
IdePreAdmisionùùƒ ‘
,ùù‘ ’
$strùù“ •
,ùù• –
$strùù— ™
,ùù™ š"
oRcePahAlergiaCabEùù› ­
.ùù­ ®
IdeAlergiaCabùù® »
.ùù» ¼
ToStringùù¼ Ä
(ùùÄ Å
)ùùÅ Æ
,ùùÆ Ç
$strùùÈ Ù
)ùùÙ Ú
)ùùÚ Û
;ùùÛ Ü
new
úú  # 
RcePahEstadosCabAD
úú$ 6
(
úú6 7
)
úú7 8
.
úú8 9.
 Sp_RcePahEstadosCab_UpdatexCampo
úú9 Y
(
úúY Z
new
úúZ ]
RcePahEstadosCabE
úú^ o
(
úúo p!
oRcePahEstadosCabEúúp ‚
.úú‚ ƒ
IdePreAdmisionúúƒ ‘
,úú‘ ’
$strúú“ •
,úú• –
$strúú— ™
,úú™ š%
oRcePahMedicacionCabEúú› °
.úú° ± 
IdeMedicacionCabúú± Á
.úúÁ Â
ToStringúúÂ Ê
(úúÊ Ë
)úúË Ì
,úúÌ Í
$strúúÎ â
)úúâ ã
)úúã ä
;úúä å
trans
üü  %
.
üü% &
Complete
üü& .
(
üü. /
)
üü/ 0
;
üü0 1
	oResponse
ıı  )
=
ıı* +
new
ıı, /5
'AlergiaMedicamentosRiesgoGrabarResponse
ıı0 W
(
ııW X
$str
ııX [
,
ıı[ \
$str
ıı] i
)
ııi j
;
ııj k
}
şş 
else
ÿÿ  
if
ÿÿ! #
(
ÿÿ$ %%
pAlergiaConsultaRequest
ÿÿ% <
.
ÿÿ< =
accion
ÿÿ= C
==
ÿÿD F
$str
ÿÿG J
)
ÿÿJ K
throw
€€  %
new
€€& )
	Exception
€€* 3
(
€€3 4
$str
€€4 q
)
€€q r
;
€€r s
}
 
}
‚‚ 
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ $
ex
ƒƒ% '
)
ƒƒ' (
{
„„ 
trans
…… 
.
…… 
Dispose
…… %
(
……% &
)
……& '
;
……' (
	oResponse
†† !
=
††" #
new
††$ '5
'AlergiaMedicamentosRiesgoGrabarResponse
††( O
(
††O P
$str
††P S
,
††S T
ex
††U W
.
††W X
Message
††X _
)
††_ `
;
††` a
throw
‡‡ 
new
‡‡ !
	Exception
‡‡" +
(
‡‡+ ,
ex
‡‡, .
.
‡‡. /
Message
‡‡/ 6
)
‡‡6 7
;
‡‡7 8
}
ˆˆ 
}
‰‰ 
}
ŠŠ 
return
ŒŒ 
	oResponse
ŒŒ 
;
ŒŒ 
}
 	
public
 %
AlergiaConsultaResponse
 &5
'MtConsultarAlergiasMedicacionRiesgoCasa
' N
(
N O$
AlergiaConsultaRequest
O e%
pAlergiaConsultaRequest
f }
)
} ~
{
 	%
AlergiaConsultaResponse
‘‘ #&
oAlergiaConsultaResponse
‘‘$ <
=
‘‘= >
new
‘‘? B%
AlergiaConsultaResponse
‘‘C Z
(
‘‘Z [
)
‘‘[ \
;
‘‘\ ]
string
”” 
JsonBody
”” 
=
”” 
JsonSerializer
”” ,
.
””, -
	Serialize
””- 6
(
””6 7%
pAlergiaConsultaRequest
””7 N
)
””N O
;
””O P
string
•• 
SecurityApiKey
•• !
=
••" #
	Utilities
••$ -
.
••- .
Criptography
••. :
.
••: ;$
DecryptConectionString
••; Q
(
••Q R%
pAlergiaConsultaRequest
••R i
.
••i j
ApiKey
••j p
)
••p q
;
••q r
ApiKey
–– 
?
–– 
	objApiKey
–– 
=
–– 
JsonSerializer
––  .
.
––. /
Deserialize
––/ :
<
––: ;
ApiKey
––; A
>
––A B
(
––B C
SecurityApiKey
––C Q
)
––Q R
;
––R S
new
—— !
RcePahRequestJsonAD
—— #
(
——# $
)
——$ %
.
——% &)
Sp_RcePahRequestJson_Insert
——& A
(
——A B
new
——B E 
RcePahRequestJsonE
——F X
(
——X Y
$num
——Y Z
,
——Z [
$num
——\ ]
,
——] ^
$str
——_ c
,
——c d
	objApiKey
——e n
.
——n o
USR
——o r
,
——r s
JsonBody
——t |
)
——| }
)
——} ~
;
——~ 
if
™™ 
(
™™ 
fnValidarApiKey
™™ 
(
™™  %
pAlergiaConsultaRequest
™™  7
.
™™7 8
ApiKey
™™8 >
)
™™> ?
)
™™? @
{
šš 
List
›› 
<
›› 
RcePahAlergiaCabE
›› &
>
››& '
oListAlergiaCabE
››( 8
=
››9 :
new
››; > 
RcePahAlergiaCabAD
››? Q
(
››Q R
)
››R S
.
››S T*
Sp_RcePahAlergiaCab_Consulta
››T p
(
››p q
new
››q t 
RcePahAlergiaCabE››u †
(››† ‡
$num››‡ ˆ
,››ˆ ‰'
pAlergiaConsultaRequest››Š ¡
.››¡ ¢
codAtencion››¢ ­
,››­ ®
$num››¯ °
)››° ±
)››± ²
;››² ³
for
 
(
 
int
 
i
 
=
 
$num
 
;
 
i
  !
<=
" $
oListAlergiaCabE
% 5
.
5 6
Count
6 ;
-
< =
$num
> ?
;
? @
i
A B
++
B D
)
D E
{
 
RcePahAlergiaCabE
ŸŸ %
oAlergiaCabE
ŸŸ& 2
=
ŸŸ3 4
oListAlergiaCabE
ŸŸ5 E
[
ŸŸE F
i
ŸŸF G
]
ŸŸG H
;
ŸŸH I
List
   
<
   +
RcePahAlergiaMedicamentosDetE
   6
>
  6 7
oLAlergiaMetDet
  8 G
=
  H I
new
  J M,
RcePahAlergiaMedicamentosDetAD
  N l
(
  l m
)
  m n
.
  n o7
(Sp_RcePahAlergiaMedicamentosDet_Consulta  o —
(  — ˜
new  ˜ ›-
RcePahAlergiaMedicamentosDetE  œ ¹
(  ¹ º
oAlergiaCabE  º Æ
.  Æ Ç
IdeAlergiaCab  Ç Ô
,  Ô Õ
$str  Ö Ø
,  Ø Ù
$str  Ú Ü
,  Ü İ
$num  Ş ß
,  ß à
$num  á â
)  â ã
)  ã ä
;  ä å
List
¡¡ 
<
¡¡ "
RcePahMedicacionDetE
¡¡ -
>
¡¡- .
oLMedicacionDet
¡¡/ >
=
¡¡? @
new
¡¡A D#
RcePahMedicacionDetAD
¡¡E Z
(
¡¡Z [
)
¡¡[ \
.
¡¡\ ]-
Sp_RcePahMedicacionDet_Consulta
¡¡] |
(
¡¡| }
new¡¡} €$
RcePahMedicacionDetE¡¡ •
(¡¡• –
$num¡¡– —
,¡¡— ˜
oAlergiaCabE¡¡™ ¥
.¡¡¥ ¦ 
IdeMedicacionCab¡¡¦ ¶
,¡¡¶ ·
$num¡¡¸ ¹
)¡¡¹ º
)¡¡º »
;¡¡» ¼&
oAlergiaConsultaResponse
¢¢ ,
.
¢¢, -

indAlergia
¢¢- 7
=
¢¢8 9
oAlergiaCabE
¢¢: F
.
¢¢F G

IndAlergia
¢¢G Q
;
¢¢Q R&
oAlergiaConsultaResponse
££ ,
.
££, -
hospitalizado
££- :
=
££; <
oAlergiaCabE
££= I
.
££I J
DscHospitalizado
££J Z
;
££Z [&
oAlergiaConsultaResponse
¤¤ ,
.
¤¤, -
representante
¤¤- :
=
¤¤; <
oAlergiaCabE
¤¤= I
.
¤¤I J
DscRepresentante
¤¤J Z
;
¤¤Z [&
oAlergiaConsultaResponse
¥¥ ,
.
¥¥, -

habitacion
¥¥- 7
=
¥¥8 9
oAlergiaCabE
¥¥: F
.
¥¥F G
DscHabitacion
¥¥G T
;
¥¥T U&
oAlergiaConsultaResponse
§§ ,
.
§§, -
	alimentos
§§- 6
=
§§7 8
oAlergiaCabE
§§9 E
.
§§E F
DscAlimentos
§§F R
;
§§R S&
oAlergiaConsultaResponse
¨¨ ,
.
¨¨, -
otros
¨¨- 2
=
¨¨3 4
oAlergiaCabE
¨¨5 A
.
¨¨A B
DscOtros
¨¨B J
;
¨¨J K&
oAlergiaConsultaResponse
©© ,
.
©©, -

idRegistro
©©- 7
=
©©8 9
oAlergiaCabE
©©: F
.
©©F G
IdePreAdmision
©©G U
;
©©U V&
oAlergiaConsultaResponse
«« ,
.
««, -
medicamentos
««- 9
=
««: ;
new
««< ?
List
««@ D
<
««D E"
MedicamentosResponse
««E Y
>
««Y Z
(
««Z [
)
««[ \
;
««\ ]
for
¬¬ 
(
¬¬ 
int
¬¬ 
j
¬¬ 
=
¬¬  
$num
¬¬! "
;
¬¬" #
j
¬¬$ %
<=
¬¬& (
oLAlergiaMetDet
¬¬) 8
.
¬¬8 9
Count
¬¬9 >
-
¬¬? @
$num
¬¬A B
;
¬¬B C
j
¬¬D E
++
¬¬E G
)
¬¬G H&
oAlergiaConsultaResponse
­­ 0
.
­­0 1
medicamentos
­­1 =
.
­­= >
Add
­­> A
(
­­A B
new
­­B E"
MedicamentosResponse
­­F Z
(
­­Z [
oLAlergiaMetDet
­­[ j
[
­­j k
j
­­k l
]
­­l m
.
­­m n
CodGenerico
­­n y
,
­­y z
oLAlergiaMetDet­­{ Š
[­­Š ‹
j­­‹ Œ
]­­Œ 
.­­ 
DscMedicamento­­ œ
,­­œ 
oLAlergiaMetDet­­ ­
[­­­ ®
j­­® ¯
]­­¯ °
.­­° ±)
IdeAlergiaMedicamentosDet­­± Ê
)­­Ê Ë
)­­Ë Ì
;­­Ì Í&
oAlergiaConsultaResponse
¯¯ ,
.
¯¯, -!
medicamentosRiesgos
¯¯- @
=
¯¯A B
new
¯¯C F
List
¯¯G K
<
¯¯K L%
MedicamentosRiesgoItems
¯¯L c
>
¯¯c d
(
¯¯d e
)
¯¯e f
;
¯¯f g
for
°° 
(
°° 
int
°° 
j
°° 
=
°°  
$num
°°! "
;
°°" #
j
°°$ %
<=
°°& (
oLMedicacionDet
°°) 8
.
°°8 9
Count
°°9 >
-
°°? @
$num
°°A B
;
°°B C
j
°°D E
++
°°E G
)
°°G H&
oAlergiaConsultaResponse
±± 0
.
±±0 1!
medicamentosRiesgos
±±1 D
.
±±D E
Add
±±E H
(
±±H I
new
±±I L%
MedicamentosRiesgoItems
±±M d
(
±±d e
oLMedicacionDet
±±e t
[
±±t u
j
±±u v
]
±±v w
.
±±w x
IdeMedicacionDet±±x ˆ
,±±ˆ ‰
oLMedicacionDet±±Š ™
[±±™ š
j±±š ›
]±±› œ
.±±œ %
IdeMedicacionItemsMae±± ²
,±±² ³
oLMedicacionDet±±´ Ã
[±±Ã Ä
j±±Ä Å
]±±Å Æ
.±±Æ Ç
FlgRespuesta±±Ç Ó
,±±Ó Ô
oLMedicacionDet±±Õ ä
[±±ä å
j±±å æ
]±±æ ç
.±±ç è
DscItem±±è ï
,±±ï ğ
oLMedicacionDet±±ñ €
[±±€ 
j±± ‚
]±±‚ ƒ
.±±ƒ „

DscSubItem±±„ 
)±± 
)±± 
;±± ‘
}
²² 
}
³³ 
else
´´ 
{
µµ 
}
¶¶ 
return
¸¸ &
oAlergiaConsultaResponse
¸¸ +
;
¸¸+ ,
}
¹¹ 	
public
»» ,
TerminosAdmisionGrabarResponse
»» -/
!MtGrabarDocumentoAdmisionTerminos
»». O
(
»»O P+
TerminosAdmisionGrabarRequest
»»P m-
pTerminosAdmisionGrabarRequest»»n Œ
)»»Œ 
{
¼¼ 	,
TerminosAdmisionGrabarResponse
½½ *-
oTerminosAdmisionGrabarResponse
½½+ J
=
½½K L
new
½½M P,
TerminosAdmisionGrabarResponse
½½Q o
(
½½o p
)
½½p q
;
½½q r
string
ÀÀ 
JsonBody
ÀÀ 
=
ÀÀ 
JsonSerializer
ÀÀ ,
.
ÀÀ, -
	Serialize
ÀÀ- 6
(
ÀÀ6 7,
pTerminosAdmisionGrabarRequest
ÀÀ7 U
)
ÀÀU V
;
ÀÀV W
string
ÁÁ 
SecurityApiKey
ÁÁ !
=
ÁÁ" #
	Utilities
ÁÁ$ -
.
ÁÁ- .
Criptography
ÁÁ. :
.
ÁÁ: ;$
DecryptConectionString
ÁÁ; Q
(
ÁÁQ R,
pTerminosAdmisionGrabarRequest
ÁÁR p
.
ÁÁp q
ApiKey
ÁÁq w
)
ÁÁw x
;
ÁÁx y
ApiKey
ÂÂ 
?
ÂÂ 
	objApiKey
ÂÂ 
=
ÂÂ 
JsonSerializer
ÂÂ  .
.
ÂÂ. /
Deserialize
ÂÂ/ :
<
ÂÂ: ;
ApiKey
ÂÂ; A
>
ÂÂA B
(
ÂÂB C
SecurityApiKey
ÂÂC Q
)
ÂÂQ R
;
ÂÂR S
new
ÃÃ !
RcePahRequestJsonAD
ÃÃ #
(
ÃÃ# $
)
ÃÃ$ %
.
ÃÃ% &)
Sp_RcePahRequestJson_Insert
ÃÃ& A
(
ÃÃA B
new
ÃÃB E 
RcePahRequestJsonE
ÃÃF X
(
ÃÃX Y
$num
ÃÃY Z
,
ÃÃZ [,
pTerminosAdmisionGrabarRequest
ÃÃ\ z
.
ÃÃz {

idRegistroÃÃ{ …
,ÃÃ… †
$strÃÃ‡ ‹
,ÃÃ‹ Œ
	objApiKeyÃÃ –
.ÃÃ– —
USRÃÃ— š
,ÃÃš ›
JsonBodyÃÃœ ¤
)ÃÃ¤ ¥
)ÃÃ¥ ¦
;ÃÃ¦ §
if
ÅÅ 
(
ÅÅ 
fnValidarApiKey
ÅÅ 
(
ÅÅ  ,
pTerminosAdmisionGrabarRequest
ÅÅ  >
.
ÅÅ> ?
ApiKey
ÅÅ? E
)
ÅÅE F
)
ÅÅF G
{
ÆÆ 
using
ÇÇ 
(
ÇÇ 
System
ÇÇ 
.
ÇÇ 
Transactions
ÇÇ *
.
ÇÇ* +
TransactionScope
ÇÇ+ ;
trans
ÇÇ< A
=
ÇÇB C
new
ÇÇD G
System
ÇÇH N
.
ÇÇN O
Transactions
ÇÇO [
.
ÇÇ[ \
TransactionScope
ÇÇ\ l
(
ÇÇl m
)
ÇÇm n
)
ÇÇn o
{
ÈÈ 
try
ÉÉ 
{
ÊÊ 
{
ËË 
var
ÌÌ 
	withBlock
ÌÌ  )
=
ÌÌ* +,
pTerminosAdmisionGrabarRequest
ÌÌ, J
;
ÌÌJ K)
RcePahDocumentoAdmisionCabE
ÍÍ 7!
oRcePahAdmisionCabE
ÍÍ8 K
=
ÍÍL M
new
ÍÍN Q)
RcePahDocumentoAdmisionCabE
ÍÍR m
(
ÍÍm n
$num
ÍÍn o
,
ÍÍo p
	withBlock
ÍÍq z
.
ÍÍz {
codAtencionÍÍ{ †
,ÍÍ† ‡
	withBlockÍÍˆ ‘
.ÍÍ‘ ’
DscTextoÍÍ’ š
,ÍÍš ›
	withBlockÍÍœ ¥
.ÍÍ¥ ¦#
indTerminosAdmisionÍÍ¦ ¹
,ÍÍ¹ º
	withBlockÍÍ» Ä
.ÍÍÄ Å 
ResponsableEnvioÍÍÅ Õ
,ÍÍÕ Ö
$strÍÍ× Ú
)ÍÍÚ Û
;ÍÍÛ Ü
if
ÏÏ 
(
ÏÏ  ,
pTerminosAdmisionGrabarRequest
ÏÏ  >
.
ÏÏ> ?
accion
ÏÏ? E
==
ÏÏF H
$str
ÏÏI L
)
ÏÏL M
{
ĞĞ 
new
ÑÑ  #*
RcePahDocumentoAdmisionCabAD
ÑÑ$ @
(
ÑÑ@ A
)
ÑÑA B
.
ÑÑB C2
$Sp_RcePahDocumentoAdmisionCab_Delete
ÑÑC g
(
ÑÑg h
new
ÑÑh k*
RcePahDocumentoAdmisionCabEÑÑl ‡
(ÑÑ‡ ˆ
$numÑÑˆ ‰
,ÑÑ‰ Š
	withBlockÑÑ‹ ”
.ÑÑ” •
codAtencionÑÑ•  
,ÑÑ  ¡
$strÑÑ¢ ¤
,ÑÑ¤ ¥
$strÑÑ¦ ¨
,ÑÑ¨ ©
$strÑÑª ¬
,ÑÑ¬ ­
$strÑÑ® °
)ÑÑ° ±
)ÑÑ± ²
;ÑÑ² ³
new
ÒÒ  # 
RcePahEstadosCabAD
ÒÒ$ 6
(
ÒÒ6 7
)
ÒÒ7 8
.
ÒÒ8 9.
 Sp_RcePahEstadosCab_UpdatexCampo
ÒÒ9 Y
(
ÒÒY Z
new
ÒÒZ ]
RcePahEstadosCabE
ÒÒ^ o
(
ÒÒo p
$num
ÒÒp q
,
ÒÒq r
$str
ÒÒs u
,
ÒÒu v
	withBlockÒÒw €
.ÒÒ€ 
codAtencionÒÒ Œ
,ÒÒŒ 
$strÒÒ ’
,ÒÒ’ “
$strÒÒ” ±
)ÒÒ± ²
)ÒÒ² ³
;ÒÒ³ ´
}
ÓÓ 
byte
ÕÕ  
[
ÕÕ  !
]
ÕÕ! "
Doc
ÕÕ# &
=
ÕÕ' (
Convert
ÕÕ) 0
.
ÕÕ0 1
FromBase64String
ÕÕ1 A
(
ÕÕA B,
pTerminosAdmisionGrabarRequest
ÕÕB `
.
ÕÕ` a
	documento
ÕÕa j
)
ÕÕj k
;
ÕÕk l"
RcePahDocumentosPdfE
ÖÖ 0#
oRcePahDocumentosPdfE
ÖÖ1 F
=
ÖÖG H
new
ÖÖI L"
RcePahDocumentosPdfE
ÖÖM a
(
ÖÖa b
$num
ÖÖb c
,
ÖÖc d
	withBlock
ÖÖe n
.
ÖÖn o
codAtencion
ÖÖo z
,
ÖÖz {
$num
ÖÖ| }
,
ÖÖ} ~
$strÖÖ ‡
,ÖÖ‡ ˆ
DocÖÖ‰ Œ
)ÖÖŒ 
;ÖÖ 
new
×× #
RcePahDocumentosPdfAD
××  5
(
××5 6
)
××6 7
.
××7 8+
Sp_RcePahDocumentosPdf_Insert
××8 U
(
××U V#
oRcePahDocumentosPdfE
××V k
)
××k l
;
××l m
if
ØØ 
(
ØØ  #
oRcePahDocumentosPdfE
ØØ  5
.
ØØ5 6
IdeDocumentosPdf
ØØ6 F
==
ØØG I
$num
ØØJ K
)
ØØK L
throw
ÙÙ  %
new
ÙÙ& )
	Exception
ÙÙ* 3
(
ÙÙ3 4
$strÙÙ4 
)ÙÙ ‘
;ÙÙ‘ ’
new
ÛÛ *
RcePahDocumentoAdmisionCabAD
ÛÛ  <
(
ÛÛ< =
)
ÛÛ= >
.
ÛÛ> ?2
$Sp_RcePahDocumentoAdmisionCab_Insert
ÛÛ? c
(
ÛÛc d!
oRcePahAdmisionCabE
ÛÛd w
)
ÛÛw x
;
ÛÛx y
if
ÜÜ 
(
ÜÜ  !
oRcePahAdmisionCabE
ÜÜ  3
.
ÜÜ3 4%
IdeDocumentoAdmisionCab
ÜÜ4 K
!=
ÜÜL N
$num
ÜÜO P
)
ÜÜP Q
new
İİ  # 
RcePahEstadosCabAD
İİ$ 6
(
İİ6 7
)
İİ7 8
.
İİ8 9.
 Sp_RcePahEstadosCab_UpdatexCampo
İİ9 Y
(
İİY Z
new
İİZ ]
RcePahEstadosCabE
İİ^ o
(
İİo p
$num
İİp q
,
İİq r
$str
İİs u
,
İİu v
	withBlockİİw €
.İİ€ 
codAtencionİİ Œ
,İİŒ #
oRcePahAdmisionCabEİİ ¡
.İİ¡ ¢'
IdeDocumentoAdmisionCabİİ¢ ¹
.İİ¹ º
ToStringİİº Â
(İİÂ Ã
)İİÃ Ä
,İİÄ Å
$strİİÆ ï
)İİï ğ
)İİğ ñ
;İİñ ò
else
ŞŞ  
throw
ßß  %
new
ßß& )
	Exception
ßß* 3
(
ßß3 4
$str
ßß4 z
)
ßßz {
;
ßß{ |
}
àà 
trans
ää 
.
ää 
Complete
ää &
(
ää& '
)
ää' (
;
ää( )-
oTerminosAdmisionGrabarResponse
åå 7
=
åå8 9
new
åå: =,
TerminosAdmisionGrabarResponse
åå> \
(
åå\ ]
$str
åå] `
,
åå` a
$strååb ˆ
)ååˆ ‰
;åå‰ Š
}
ææ 
catch
çç 
(
çç 
	Exception
çç $
ex
çç% '
)
çç' (
{
èè 
trans
éé 
.
éé 
Dispose
éé %
(
éé% &
)
éé& '
;
éé' (-
oTerminosAdmisionGrabarResponse
êê 7
=
êê8 9
new
êê: =,
TerminosAdmisionGrabarResponse
êê> \
(
êê\ ]
$str
êê] `
,
êê` a
ex
êêb d
.
êêd e
Message
êêe l
)
êêl m
;
êêm n
}
ëë 
}
ìì 
}
íí 
return
ïï -
oTerminosAdmisionGrabarResponse
ïï 2
;
ïï2 3
}
ğğ 	
public
òò 7
)TerminosDocumentoAdmisionConsultaResponse
òò 82
$MtConsultarDocumentoAdmisionTerminos
òò9 ]
(
òò] ^7
(TerminosDocumentoAdmisionConsultaRequestòò^ †
	pTerminosòò‡ 
)òò ‘
{
óó 	7
)TerminosDocumentoAdmisionConsultaResponse
ôô 5

oLTerminos
ôô6 @
=
ôôA B
new
ôôC F7
)TerminosDocumentoAdmisionConsultaResponse
ôôG p
(
ôôp q
)
ôôq r
;
ôôr s
string
÷÷ 
JsonBody
÷÷ 
=
÷÷ 
JsonSerializer
÷÷ ,
.
÷÷, -
	Serialize
÷÷- 6
(
÷÷6 7
	pTerminos
÷÷7 @
)
÷÷@ A
;
÷÷A B
string
øø 
SecurityApiKey
øø !
=
øø" #
	Utilities
øø$ -
.
øø- .
Criptography
øø. :
.
øø: ;$
DecryptConectionString
øø; Q
(
øøQ R
	pTerminos
øøR [
.
øø[ \
ApiKey
øø\ b
)
øøb c
;
øøc d
ApiKey
ùù 
?
ùù 
	objApiKey
ùù 
=
ùù 
JsonSerializer
ùù  .
.
ùù. /
Deserialize
ùù/ :
<
ùù: ;
ApiKey
ùù; A
>
ùùA B
(
ùùB C
SecurityApiKey
ùùC Q
)
ùùQ R
;
ùùR S
new
ûû !
RcePahRequestJsonAD
ûû #
(
ûû# $
)
ûû$ %
.
ûû% &)
Sp_RcePahRequestJson_Insert
ûû& A
(
ûûA B
new
ûûB E 
RcePahRequestJsonE
ûûF X
(
ûûX Y
$num
ûûY Z
,
ûûZ [
$num
ûû\ ]
,
ûû] ^
$str
ûû_ c
,
ûûc d
	objApiKey
ûûe n
.
ûûn o
USR
ûûo r
,
ûûr s
JsonBody
ûût |
)
ûû| }
)
ûû} ~
;
ûû~ 
if
ıı 
(
ıı 
fnValidarApiKey
ıı 
(
ıı  
	pTerminos
ıı  )
.
ıı) *
ApiKey
ıı* 0
)
ıı0 1
)
ıı1 2
{
şş )
RcePahDocumentoAdmisionCabE
ÿÿ +"
oRcePahDocumentoAdmE
ÿÿ, @
=
ÿÿA B
new
ÿÿC F)
RcePahDocumentoAdmisionCabE
ÿÿG b
(
ÿÿb c
$num
ÿÿc d
,
ÿÿd e
	pTerminos
ÿÿf o
.
ÿÿo p
codAtencion
ÿÿp {
,
ÿÿ{ |
$str
ÿÿ} 
,ÿÿ €
$strÿÿ ƒ
,ÿÿƒ „
$strÿÿ… ‡
,ÿÿ‡ ˆ
$strÿÿ‰ ‹
)ÿÿ‹ Œ
;ÿÿŒ "
oRcePahDocumentoAdmE
€€ $
.
€€$ %
Orden
€€% *
=
€€+ ,
$num
€€- .
;
€€. /
List
‚‚ 
<
‚‚ )
RcePahDocumentoAdmisionCabE
‚‚ 0
>
‚‚0 1
oList
‚‚2 7
=
‚‚8 9
new
‚‚: =*
RcePahDocumentoAdmisionCabAD
‚‚> Z
(
‚‚Z [
)
‚‚[ \
.
‚‚\ ]5
&Sp_RcePahDocumentoAdmisionCab_Consulta‚‚] ƒ
(‚‚ƒ „$
oRcePahDocumentoAdmE‚‚„ ˜
)‚‚˜ ™
;‚‚™ š
for
„„ 
(
„„ 
int
„„ 
i
„„ 
=
„„ 
$num
„„ 
;
„„ 
i
„„  !
<=
„„" $
oList
„„% *
.
„„* +
Count
„„+ 0
-
„„1 2
$num
„„3 4
;
„„4 5
i
„„6 7
++
„„7 9
)
„„9 :
{
…… 

oLTerminos
†† 
.
†† 

idRegistro
†† )
=
††* +
oList
††, 1
[
††1 2
i
††2 3
]
††3 4
.
††4 5%
IdeDocumentoAdmisionCab
††5 L
.
††L M
ToString
††M U
(
††U V
)
††V W
;
††W X

oLTerminos
‡‡ 
.
‡‡ !
indTerminosAdmision
‡‡ 2
=
‡‡3 4
oList
‡‡5 :
[
‡‡: ;
i
‡‡; <
]
‡‡< =
.
‡‡= >
DscRpta
‡‡> E
;
‡‡E F
}
ˆˆ 
}
‰‰ 
return
‹‹ 

oLTerminos
‹‹ 
;
‹‹ 
}
ŒŒ 	
public
 <
.AutorizacionContactosPreFacturasGrabarResponse
 =5
'MtGrabarContactosAutorizadosPreFacturas
> e
(
e f<
-AutorizacionContactosPreFacturasGrabarRequestf “
pPreFacturas”  
)  ¡
{
 	<
.AutorizacionContactosPreFacturasGrabarResponse
 :
	oResponse
; D
=
E F
new
G J<
.AutorizacionContactosPreFacturasGrabarResponse
K y
(
y z
)
z {
;
{ |
string
““ 
JsonBody
““ 
=
““ 
JsonSerializer
““ ,
.
““, -
	Serialize
““- 6
(
““6 7
pPreFacturas
““7 C
)
““C D
;
““D E
string
”” 
SecurityApiKey
”” !
=
””" #
	Utilities
””$ -
.
””- .
Criptography
””. :
.
””: ;$
DecryptConectionString
””; Q
(
””Q R
pPreFacturas
””R ^
.
””^ _
ApiKey
””_ e
)
””e f
;
””f g
ApiKey
•• 
?
•• 
	objApiKey
•• 
=
•• 
JsonSerializer
••  .
.
••. /
Deserialize
••/ :
<
••: ;
ApiKey
••; A
>
••A B
(
••B C
SecurityApiKey
••C Q
)
••Q R
;
••R S
new
—— !
RcePahRequestJsonAD
—— #
(
——# $
)
——$ %
.
——% &)
Sp_RcePahRequestJson_Insert
——& A
(
——A B
new
——B E 
RcePahRequestJsonE
——F X
(
——X Y
$num
——Y Z
,
——Z [
pPreFacturas
——\ h
.
——h i

idRegistro
——i s
,
——s t
$str
——u y
,
——y z
	objApiKey——{ „
.——„ …
USR——… ˆ
,——ˆ ‰
JsonBody——Š ’
)——’ “
)——“ ”
;——” •
{
™™ 
var
šš 
	withBlock
šš 
=
šš 
pPreFacturas
šš  ,
;
šš, -
if
›› 
(
›› 
fnValidarApiKey
›› #
(
››# $
	withBlock
››$ -
.
››- .
ApiKey
››. 4
)
››4 5
)
››5 6
{
œœ 
using
 
(
 
System
 !
.
! "
Transactions
" .
.
. /
TransactionScope
/ ?
trans
@ E
=
F G
new
H K
System
L R
.
R S
Transactions
S _
.
_ `
TransactionScope
` p
(
p q
)
q r
)
r s
{
 
try
ŸŸ 
{
   
if
¡¡ 
(
¡¡  
pPreFacturas
¡¡  ,
.
¡¡, -
accion
¡¡- 3
==
¡¡4 6
$str
¡¡7 :
)
¡¡: ;
{
¢¢ 
new
££  #0
"RcePahAutorizacionPrefacturasCabAD
££$ F
(
££F G
)
££G H
.
££H I8
*Sp_RcePahAutorizacionPrefacturasCab_Delete
££I s
(
££s t
new
££t w0
!RcePahAutorizacionPrefacturasCabE££x ™
(££™ š
$num££š ›
,££› œ
	withBlock££ ¦
.££¦ §
codAtencion££§ ²
)££² ³
)££³ ´
;££´ µ
new
¥¥  # 
RcePahEstadosCabAD
¥¥$ 6
(
¥¥6 7
)
¥¥7 8
.
¥¥8 9.
 Sp_RcePahEstadosCab_UpdatexCampo
¥¥9 Y
(
¥¥Y Z
new
¥¥Z ]
RcePahEstadosCabE
¥¥^ o
(
¥¥o p
$num
¥¥p q
,
¥¥q r
$str
¥¥s u
,
¥¥u v
	withBlock¥¥w €
.¥¥€ 
codAtencion¥¥ Œ
,¥¥Œ 
$str¥¥ ’
,¥¥’ “
$str¥¥” ±
)¥¥± ²
)¥¥² ³
;¥¥³ ´
}
¦¦ 
byte
¨¨  
[
¨¨  !
]
¨¨! "
Doc
¨¨# &
=
¨¨' (
Convert
¨¨) 0
.
¨¨0 1
FromBase64String
¨¨1 A
(
¨¨A B
pPreFacturas
¨¨B N
.
¨¨N O
	documento
¨¨O X
)
¨¨X Y
;
¨¨Y Z"
RcePahDocumentosPdfE
©© 0#
oRcePahDocumentosPdfE
©©1 F
=
©©G H
new
©©I L"
RcePahDocumentosPdfE
©©M a
(
©©a b
$num
©©b c
,
©©c d
	withBlock
©©e n
.
©©n o
codAtencion
©©o z
,
©©z {
$num
©©| }
,
©©} ~
$str©© …
,©©… †
Doc©©‡ Š
)©©Š ‹
;©©‹ Œ
new
ªª #
RcePahDocumentosPdfAD
ªª  5
(
ªª5 6
)
ªª6 7
.
ªª7 8+
Sp_RcePahDocumentosPdf_Insert
ªª8 U
(
ªªU V#
oRcePahDocumentosPdfE
ªªV k
)
ªªk l
;
ªªl m
if
«« 
(
««  #
oRcePahDocumentosPdfE
««  5
.
««5 6
IdeDocumentosPdf
««6 F
==
««G I
$num
««J K
)
««K L
throw
¬¬  %
new
¬¬& )
	Exception
¬¬* 3
(
¬¬3 4
$str¬¬4 ‡
)¬¬‡ ˆ
;¬¬ˆ ‰/
!RcePahAutorizacionPrefacturasCabE
®® =
oPreFacturasCabE
®®> N
=
®®O P
new
®®Q T/
!RcePahAutorizacionPrefacturasCabE
®®U v
(
®®v w
$num
®®w x
,
®®x y
pPreFacturas®®z †
.®®† ‡
codAtencion®®‡ ’
)®®’ “
;®®“ ”
new
¯¯ 0
"RcePahAutorizacionPrefacturasCabAD
¯¯  B
(
¯¯B C
)
¯¯C D
.
¯¯D E8
*Sp_RcePahAutorizacionPrefacturasCab_Insert
¯¯E o
(
¯¯o p
oPreFacturasCabE¯¯p €
)¯¯€ 
;¯¯ ‚
if
°° 
(
°°  
oPreFacturasCabE
°°  0
.
°°0 1+
IdeAutorizacionPrefacturasCab
°°1 N
!=
°°O Q
$num
°°R S
)
°°S T
{
±± 
for
²²  #
(
²²$ %
int
²²% (
i
²²) *
=
²²+ ,
$num
²²- .
;
²². /
i
²²0 1
<=
²²2 4
	withBlock
²²5 >
.
²²> ?
personas
²²? G
.
²²G H
Count
²²H M
-
²²N O
$num
²²P Q
;
²²Q R
i
²²S T
++
²²T V
)
²²V W
{
³³  !/
!RcePahAutorizacionPrefacturasDetE
´´$ E
oPreFacturasDetE
´´F V
=
´´W X
new
´´Y \/
!RcePahAutorizacionPrefacturasDetE
´´] ~
(
´´~ 
$num´´ €
,´´€  
oPreFacturasCabE´´‚ ’
.´´’ “-
IdeAutorizacionPrefacturasCab´´“ °
,´´° ±
	withBlock´´² »
.´´» ¼
personas´´¼ Ä
[´´Ä Å
i´´Å Æ
]´´Æ Ç
.´´Ç È
	apellidos´´È Ñ
,´´Ñ Ò
	withBlock´´Ó Ü
.´´Ü İ
personas´´İ å
[´´å æ
i´´æ ç
]´´ç è
.´´è é
nombres´´é ğ
,´´ğ ñ
	withBlock´´ò û
.´´û ü
personas´´ü „
[´´„ …
i´´… †
]´´† ‡
.´´‡ ˆ
dni´´ˆ ‹
,´´‹ Œ
	withBlock´´ –
.´´– —
personas´´— Ÿ
[´´Ÿ  
i´´  ¡
]´´¡ ¢
.´´¢ £
correo´´£ ©
,´´© ª
	withBlock´´« ´
.´´´ µ 
ResponsableEnvio´´µ Å
,´´Å Æ
$str´´Ç Ê
,´´Ê Ë
	withBlock´´Ì Õ
.´´Õ Ö
personas´´Ö Ş
[´´Ş ß
i´´ß à
]´´à á
.´´á â

parentesco´´â ì
,´´ì í
	withBlock´´î ÷
.´´÷ ø
personas´´ø €
[´´€ 
i´´ ‚
]´´‚ ƒ
.´´ƒ „
telefono´´„ Œ
)´´Œ 
;´´ 
new
µµ$ '0
"RcePahAutorizacionPrefacturasDetAD
µµ( J
(
µµJ K
)
µµK L
.
µµL M8
*Sp_RcePahAutorizacionPrefacturasDet_Insert
µµM w
(
µµw x
oPreFacturasDetEµµx ˆ
)µµˆ ‰
;µµ‰ Š
if
··$ &
(
··' (
oPreFacturasDetE
··( 8
.
··8 9+
IdeAutorizacionPrefacturasDet
··9 V
==
··W Y
$num
··Z [
)
··[ \
throw
¸¸( -
new
¸¸. 1
	Exception
¸¸2 ;
(
¸¸; <
$str
¸¸< e
)
¸¸e f
;
¸¸f g
}
¹¹  !
}
ºº 
new
¼¼  
RcePahEstadosCabAD
¼¼  2
(
¼¼2 3
)
¼¼3 4
.
¼¼4 5.
 Sp_RcePahEstadosCab_UpdatexCampo
¼¼5 U
(
¼¼U V
new
¼¼V Y
RcePahEstadosCabE
¼¼Z k
(
¼¼k l
$num
¼¼l m
,
¼¼m n
$str
¼¼o q
,
¼¼q r
	withBlock
¼¼s |
.
¼¼| }
codAtencion¼¼} ˆ
,¼¼ˆ ‰ 
oPreFacturasCabE¼¼Š š
.¼¼š ›-
IdeAutorizacionPrefacturasCab¼¼› ¸
.¼¼¸ ¹
ToString¼¼¹ Á
(¼¼Á Â
)¼¼Â Ã
,¼¼Ã Ä
$str¼¼Å ô
)¼¼ô õ
)¼¼õ ö
;¼¼ö ÷
new
½½  
RcePahEstadosCabAD
½½  2
(
½½2 3
)
½½3 4
.
½½4 5.
 Sp_RcePahEstadosCab_UpdatexCampo
½½5 U
(
½½U V
new
½½V Y
RcePahEstadosCabE
½½Z k
(
½½k l
$num
½½l m
,
½½m n
$str
½½o q
,
½½q r
	withBlock
½½s |
.
½½| }
codAtencion½½} ˆ
,½½ˆ ‰
$str½½Š 
,½½ 
$str½½ ¬
)½½¬ ­
)½½­ ®
;½½® ¯
trans
¿¿ !
.
¿¿! "
Complete
¿¿" *
(
¿¿* +
)
¿¿+ ,
;
¿¿, -
	oResponse
ÀÀ %
=
ÀÀ& '
new
ÀÀ( +<
.AutorizacionContactosPreFacturasGrabarResponse
ÀÀ, Z
(
ÀÀZ [
$str
ÀÀ[ ^
,
ÀÀ^ _
$strÀÀ` †
)ÀÀ† ‡
;ÀÀ‡ ˆ
}
ÁÁ 
catch
ÂÂ 
(
ÂÂ 
	Exception
ÂÂ (
ex
ÂÂ) +
)
ÂÂ+ ,
{
ÃÃ 
trans
ÄÄ !
.
ÄÄ! "
Dispose
ÄÄ" )
(
ÄÄ) *
)
ÄÄ* +
;
ÄÄ+ ,
	oResponse
ÅÅ %
=
ÅÅ& '
new
ÅÅ( +<
.AutorizacionContactosPreFacturasGrabarResponse
ÅÅ, Z
(
ÅÅZ [
$str
ÅÅ[ ^
,
ÅÅ^ _
ex
ÅÅ` b
.
ÅÅb c
Message
ÅÅc j
)
ÅÅj k
;
ÅÅk l
}
ÆÆ 
}
ÇÇ 
}
ÈÈ 
}
ÉÉ 
return
ËË 
	oResponse
ËË 
;
ËË 
}
ÌÌ 	
public
ÎÎ =
/AutorizacionContactosPreFacturaConsultaResponse
ÎÎ >8
*MtConsultarContactosAutorizadosPreFacturas
ÎÎ? i
(
ÎÎi j=
.AutorizacionContactosPreFacturaConsultaRequestÎÎj ˜!
pContactosRequestÎÎ™ ª
)ÎÎª «
{
ÏÏ 	=
/AutorizacionContactosPreFacturaConsultaResponse
ĞĞ ;
oAutResponse
ĞĞ< H
=
ĞĞI J
new
ĞĞK N=
/AutorizacionContactosPreFacturaConsultaResponse
ĞĞO ~
(
ĞĞ~ 
)ĞĞ €
;ĞĞ€ 
string
ÓÓ 
JsonBody
ÓÓ 
=
ÓÓ 
JsonSerializer
ÓÓ ,
.
ÓÓ, -
	Serialize
ÓÓ- 6
(
ÓÓ6 7
pContactosRequest
ÓÓ7 H
)
ÓÓH I
;
ÓÓI J
string
ÔÔ 
SecurityApiKey
ÔÔ !
=
ÔÔ" #
	Utilities
ÔÔ$ -
.
ÔÔ- .
Criptography
ÔÔ. :
.
ÔÔ: ;$
DecryptConectionString
ÔÔ; Q
(
ÔÔQ R
pContactosRequest
ÔÔR c
.
ÔÔc d
ApiKey
ÔÔd j
)
ÔÔj k
;
ÔÔk l
ApiKey
ÕÕ 
?
ÕÕ 
	objApiKey
ÕÕ 
=
ÕÕ 
JsonSerializer
ÕÕ  .
.
ÕÕ. /
Deserialize
ÕÕ/ :
<
ÕÕ: ;
ApiKey
ÕÕ; A
>
ÕÕA B
(
ÕÕB C
SecurityApiKey
ÕÕC Q
)
ÕÕQ R
;
ÕÕR S
new
×× !
RcePahRequestJsonAD
×× #
(
××# $
)
××$ %
.
××% &)
Sp_RcePahRequestJson_Insert
××& A
(
××A B
new
××B E 
RcePahRequestJsonE
××F X
(
××X Y
$num
××Y Z
,
××Z [
$num
××\ ]
,
××] ^
$str
××_ c
,
××c d
	objApiKey
××e n
.
××n o
USR
××o r
,
××r s
JsonBody
××t |
)
××| }
)
××} ~
;
××~ 
if
ÙÙ 
(
ÙÙ 
fnValidarApiKey
ÙÙ 
(
ÙÙ  
pContactosRequest
ÙÙ  1
.
ÙÙ1 2
ApiKey
ÙÙ2 8
)
ÙÙ8 9
)
ÙÙ9 :
{
ÚÚ 
List
ÛÛ 
<
ÛÛ /
!RcePahAutorizacionPrefacturasCabE
ÛÛ 6
>
ÛÛ6 7!
oLRcePahAutPrefactE
ÛÛ8 K
=
ÛÛL M
new
ÛÛN Q0
"RcePahAutorizacionPrefacturasCabAD
ÛÛR t
(
ÛÛt u
)
ÛÛu v
.
ÛÛv w;
,Sp_RcePahAutorizacionPrefacturasCab_ConsultaÛÛw £
(ÛÛ£ ¤
newÛÛ¤ §1
!RcePahAutorizacionPrefacturasCabEÛÛ¨ É
(ÛÛÉ Ê
$numÛÛÊ Ë
,ÛÛË Ì!
pContactosRequestÛÛÍ Ş
.ÛÛŞ ß
codAtencionÛÛß ê
,ÛÛê ë
$numÛÛì í
)ÛÛí î
)ÛÛî ï
;ÛÛï ğ
for
İİ 
(
İİ 
int
İİ 
i
İİ 
=
İİ 
$num
İİ 
;
İİ 
i
İİ  !
<=
İİ" $!
oLRcePahAutPrefactE
İİ% 8
.
İİ8 9
Count
İİ9 >
-
İİ? @
$num
İİA B
;
İİB C
i
İİD E
++
İİE G
)
İİG H
{
ŞŞ 
oAutResponse
ßß  
.
ßß  !
IdRegistroCab
ßß! .
=
ßß/ 0!
oLRcePahAutPrefactE
ßß1 D
[
ßßD E
i
ßßE F
]
ßßF G
.
ßßG H+
IdeAutorizacionPrefacturasCab
ßßH e
;
ßße f
{
áá 
var
ââ 
	withBlock
ââ %
=
ââ& '!
oLRcePahAutPrefactE
ââ( ;
[
ââ; <
i
ââ< =
]
ââ= >
.
ââ> ?"
oAutorizacionPreDetE
ââ? S
;
ââS T
oAutResponse
ãã $
.
ãã$ %
Persona
ãã% ,
.
ãã, -
Add
ãã- 0
(
ãã0 1
new
ãã1 4>
0AutorizacionContactosPreFacturasPersonasResponse
ãã5 e
(
ããe f
	withBlock
ããf o
.
ãão p,
IdeAutorizacionPrefacturasDetããp 
,ãã 
	withBlockãã ˜
.ãã˜ ™
DscApellidosãã™ ¥
,ãã¥ ¦
	withBlockãã§ °
.ãã° ±

DscNombresãã± »
,ãã» ¼
	withBlockãã½ Æ
.ããÆ Ç
NroDniããÇ Í
,ããÍ Î
	withBlockããÏ Ø
.ããØ Ù

DscCorreosããÙ ã
,ããã ä
	withBlockããå î
.ããî ï
Telefonoããï ÷
,ãã÷ ø
	withBlockããù ‚
.ãã‚ ƒ

Parentescoããƒ 
)ãã 
)ãã 
;ãã 
}
ää 
}
åå 
}
ææ 
return
èè 
oAutResponse
èè 
;
èè  
}
éé 	
public
ëë 
List
ëë 
<
ëë 
RcePahEstadosCabE
ëë %
>
ëë% &*
MtConsultarEstadosDocumentos
ëë' C
(
ëëC D
RcePahEstadosCabE
ëëD U 
pRcePahEstadosCabE
ëëV h
)
ëëh i
{
ìì 	
return
íí 
new
íí  
RcePahEstadosCabAD
íí )
(
íí) *
)
íí* +
.
íí+ ,*
Sp_RcePahEstadosCab_Consulta
íí, H
(
ííH I 
pRcePahEstadosCabE
ííI [
)
íí[ \
;
íí\ ]
}
îî 	
public
ôô 
void
ôô 
CargarIniCorreo
ôô #
(
ôô# $
)
ôô$ %
{
õõ 	
TablasE
öö 
oTablasE
öö 
=
öö 
new
öö "
TablasE
öö# *
(
öö* +
)
öö+ ,
;
öö, -
oTablasE
øø 
=
øø 
new
øø 
TablasAD
øø #
(
øø# $
)
øø$ %
.
øø% &'
Sp_Tablas_ConsultaEntidad
øø& ?
(
øø? @
new
øø@ C
TablasE
øøD K
(
øøK L
$str
øøL Y
,
øøY Z
$str
øø[ _
,
øø_ `
$num
øøa b
,
øøb c
$num
øød e
,
øøe f
$num
øøg h
)
øøh i
)
øøi j
;
øøj k

RutaCorreo
ùù 
=
ùù 
oTablasE
ùù !
.
ùù! "
Nombre
ùù" (
;
ùù( )
}
úú 	
public
üü 
bool
üü 1
#MtEnviarCorreosPacientesPreAdmision
üü 7
(
üü7 8$
RcePahCorreosEnviadosE
üü8 N 
pRcePahEstadosCabE
üüO a
)
üüa b
{
ıı 	
return
şş 
new
şş %
RcePahCorreosEnviadosAD
şş .
(
şş. /
)
şş/ 0
.
şş0 1-
Sp_RcePahCorreosEnviados_Insert
şş1 P
(
şşP Q 
pRcePahEstadosCabE
şşQ c
)
şşc d
;
şşd e
}
ÿÿ 	
public
 
bool
 &
MtEnviarCorreosGenerales
 ,
(
, -$
RcePahCorreosEnviadosE
- C 
pRcePahEstadosCabE
D V
)
V W
{
‚‚ 	
return
ƒƒ 
new
ƒƒ %
RcePahCorreosEnviadosAD
ƒƒ .
(
ƒƒ. /
)
ƒƒ/ 0
.
ƒƒ0 1'
Sp_RcePahCorreosGenerales
ƒƒ1 J
(
ƒƒJ K 
pRcePahEstadosCabE
ƒƒK ]
)
ƒƒ] ^
;
ƒƒ^ _
}
„„ 	
public
‡‡ 
async
‡‡ 
Task
‡‡ 5
'MtEnviarCorreosDocumentosPacientesAsync
‡‡ A
(
‡‡A B
)
‡‡B C
{
ˆˆ 	
await
‰‰ 
Task
‰‰ 
.
‰‰ 
Run
‰‰ 
(
‰‰ 
(
‰‰ 
)
‰‰ 
=>
‰‰  0
"MtEnviarCorreosDocumentosPacientes
‰‰! C
(
‰‰C D
)
‰‰D E
)
‰‰E F
.
‰‰F G
ConfigureAwait
‰‰G U
(
‰‰U V
false
‰‰V [
)
‰‰[ \
;
‰‰\ ]
}
ŠŠ 	
public
‘‘ 
void
‘‘ 0
"MtEnviarCorreosDocumentosPacientes
‘‘ 6
(
‘‘6 7
)
‘‘7 8
{
’’ 	$
RcePahCorreosEnviadosE
““ "%
oRcePahCorreosEnviadosE
““# :
=
““; <
new
““= @$
RcePahCorreosEnviadosE
““A W
(
““W X
)
““X Y
;
““Y Z
string
”” 
CodAtencion
”” 
=
””  
$str
””! #
;
””# $
string
••  
RutaArchivoAdjunto
•• %
=
••& '
$str
••( *
;
••* +
string
–– 
RutaArchivo
–– 
=
––  
$str
––! #
;
––# $
string
—— 
CodEnvioCorreo
—— !
=
——" #
$str
——$ &
;
——& '
bool
˜˜ 
FlgError
˜˜ 
=
˜˜ 
false
˜˜ !
;
˜˜! "
RcePahEstadosCabE
šš  
oRcePahEstadosCabE
šš 0
=
šš1 2
new
šš3 6
RcePahEstadosCabE
šš7 H
(
ššH I
)
ššI J
;
ššJ K
List
›› 
<
›› 
RcePahEstadosCabE
›› "
>
››" #
oList
››$ )
=
››* +
new
››, /
List
››0 4
<
››4 5
RcePahEstadosCabE
››5 F
>
››F G
(
››G H
)
››H I
;
››I J
try
 
{
  
oRcePahEstadosCabE
ŸŸ "
.
ŸŸ" #
Orden
ŸŸ# (
=
ŸŸ) *
$num
ŸŸ+ ,
;
ŸŸ, -
oList
   
=
   
new
    
RcePahEstadosCabAD
   .
(
  . /
)
  / 0
.
  0 1*
Sp_RcePahEstadosCab_Consulta
  1 M
(
  M N 
oRcePahEstadosCabE
  N `
)
  ` a
;
  a b
for
¢¢ 
(
¢¢ 
var
¢¢ 
i
¢¢ 
=
¢¢ 
$num
¢¢ 
;
¢¢ 
i
¢¢  !
<=
¢¢" $
oList
¢¢% *
.
¢¢* +
Count
¢¢+ 0
-
¢¢1 2
$num
¢¢3 4
;
¢¢4 5
i
¢¢6 7
++
¢¢7 9
)
¢¢9 :
{
££ 
CodAtencion
¤¤ 
=
¤¤  !
oList
¤¤" '
[
¤¤' (
i
¤¤( )
]
¤¤) *
.
¤¤* +
CodAtencion
¤¤+ 6
;
¤¤6 7
CodEnvioCorreo
¥¥ "
=
¥¥# $
oList
¥¥% *
[
¥¥* +
i
¥¥+ ,
]
¥¥, -
.
¥¥- .
CodEnvioCorreo
¥¥. <
;
¥¥< = 
RutaArchivoAdjunto
¦¦ &
=
¦¦' (
$str
¦¦) +
;
¦¦+ ,
RutaArchivo
§§ 
=
§§  !
$str
§§" $
;
§§$ %
List
©© 
<
©© "
RcePahDocumentosPdfE
©© -
>
©©- .
oListPDF
©©/ 7
=
©©8 9
new
©©: =
List
©©> B
<
©©B C"
RcePahDocumentosPdfE
©©C W
>
©©W X
(
©©X Y
)
©©Y Z
;
©©Z [
if
ªª 
(
ªª 
CodEnvioCorreo
ªª &
==
ªª' )
$str
ªª* -
)
ªª- .
oListPDF
««  
=
««! "
new
««# &#
RcePahDocumentosPdfAD
««' <
(
««< =
)
««= >
.
««> ?-
Sp_RcePahDocumentosPdf_Consulta
««? ^
(
««^ _
new
««_ b"
RcePahDocumentosPdfE
««c w
(
««w x
$num
««x y
,
««y z
CodAtencion««{ †
,««† ‡
$num««ˆ ‰
,««‰ Š
$str««‹ 
,«« 
new«« ’
byte««“ —
[««— ˜
$num««˜ ™
]««™ š
,««š ›
$num««œ 
)«« 
)«« Ÿ
;««Ÿ  
else
¬¬ 
if
¬¬ 
(
¬¬ 
CodEnvioCorreo
¬¬ +
==
¬¬, .
$str
¬¬/ 3
)
¬¬3 4
{
­­ 
oListPDF
®®  
=
®®! "
new
®®# &#
RcePahDocumentosPdfAD
®®' <
(
®®< =
)
®®= >
.
®®> ?-
Sp_RcePahDocumentosPdf_Consulta
®®? ^
(
®®^ _
new
®®_ b"
RcePahDocumentosPdfE
®®c w
(
®®w x
$num
®®x y
,
®®y z
CodAtencion®®{ †
,®®† ‡
$num®®ˆ ‰
,®®‰ Š
$str®®‹ ‘
,®®‘ ’
new®®“ –
byte®®— ›
[®®› œ
$num®®œ 
]®® 
,®® Ÿ
$num®®  ¡
)®®¡ ¢
)®®¢ £
;®®£ ¤
List
¯¯ 
<
¯¯ "
RcePahDocumentosPdfE
¯¯ 1
>
¯¯1 2
	oListPDF2
¯¯3 <
=
¯¯= >
new
¯¯? B#
RcePahDocumentosPdfAD
¯¯C X
(
¯¯X Y
)
¯¯Y Z
.
¯¯Z [-
Sp_RcePahDocumentosPdf_Consulta
¯¯[ z
(
¯¯z {
new
¯¯{ ~#
RcePahDocumentosPdfE¯¯ “
(¯¯“ ”
$num¯¯” •
,¯¯• –
CodAtencion¯¯— ¢
,¯¯¢ £
$num¯¯¤ ¥
,¯¯¥ ¦
$str¯¯§ ¬
,¯¯¬ ­
new¯¯® ±
byte¯¯² ¶
[¯¯¶ ·
$num¯¯· ¸
]¯¯¸ ¹
,¯¯¹ º
$num¯¯» ¼
)¯¯¼ ½
)¯¯½ ¾
;¯¯¾ ¿
for
°° 
(
°° 
var
°°  
k
°°! "
=
°°# $
$num
°°% &
;
°°& '
k
°°( )
<=
°°* ,
	oListPDF2
°°- 6
.
°°6 7
Count
°°7 <
-
°°= >
$num
°°? @
;
°°@ A
k
°°B C
++
°°C E
)
°°E F
oListPDF
±± $
.
±±$ %
Add
±±% (
(
±±( )
	oListPDF2
±±) 2
[
±±2 3
k
±±3 4
]
±±4 5
)
±±5 6
;
±±6 7
}
²² 
else
³³ 
if
³³ 
(
³³ 
CodEnvioCorreo
³³ +
==
³³, .
$str
³³/ 3
)
³³3 4
oListPDF
´´  
=
´´! "
new
´´# &#
RcePahDocumentosPdfAD
´´' <
(
´´< =
)
´´= >
.
´´> ?-
Sp_RcePahDocumentosPdf_Consulta
´´? ^
(
´´^ _
new
´´_ b"
RcePahDocumentosPdfE
´´c w
(
´´w x
$num
´´x y
,
´´y z
CodAtencion´´{ †
,´´† ‡
$num´´ˆ ‰
,´´‰ Š
$str´´‹ “
,´´“ ”
new´´• ˜
byte´´™ 
[´´ 
$num´´ Ÿ
]´´Ÿ  
,´´  ¡
$num´´¢ £
)´´£ ¤
)´´¤ ¥
;´´¥ ¦
else
µµ 
if
µµ 
(
µµ 
CodEnvioCorreo
µµ +
==
µµ, .
$str
µµ/ 3
)
µµ3 4
oListPDF
¶¶  
=
¶¶! "
new
¶¶# &#
RcePahDocumentosPdfAD
¶¶' <
(
¶¶< =
)
¶¶= >
.
¶¶> ?-
Sp_RcePahDocumentosPdf_Consulta
¶¶? ^
(
¶¶^ _
new
¶¶_ b"
RcePahDocumentosPdfE
¶¶c w
(
¶¶w x
$num
¶¶x y
,
¶¶y z
CodAtencion¶¶{ †
,¶¶† ‡
$num¶¶ˆ ‰
,¶¶‰ Š
$str¶¶‹ ‘
,¶¶‘ ’
new¶¶“ –
byte¶¶— ›
[¶¶› œ
$num¶¶œ 
]¶¶ 
,¶¶ Ÿ
$num¶¶  ¡
)¶¶¡ ¢
)¶¶¢ £
;¶¶£ ¤
for
¸¸ 
(
¸¸ 
var
¸¸ 
j
¸¸ 
=
¸¸  
$num
¸¸! "
;
¸¸" #
j
¸¸$ %
<=
¸¸& (
oListPDF
¸¸) 1
.
¸¸1 2
Count
¸¸2 7
-
¸¸8 9
$num
¸¸: ;
;
¸¸; <
j
¸¸= >
++
¸¸> @
)
¸¸@ A
{
¹¹ 
RutaArchivo
ºº #
=
ºº$ %

RutaCorreo
ºº& 0
+
ºº1 2
$str
ºº3 7
+
ºº8 9
CodAtencion
ºº: E
+
ººF G
$str
ººH K
+
ººL M
oListPDF
ººN V
[
ººV W
j
ººW X
]
ººX Y
.
ººY Z
CodTipoDocumento
ººZ j
+
ººk l
$str
ººm s
;
ººs t
if
¼¼ 
(
¼¼ 
j
¼¼ 
==
¼¼  
$num
¼¼! "
)
¼¼" # 
RutaArchivoAdjunto
½½ .
=
½½/ 0
RutaArchivo
½½1 <
;
½½< =
else
¾¾ 
if
¾¾ 
(
¾¾  !
j
¾¾! "
>=
¾¾# %
$num
¾¾& '
)
¾¾' ( 
RutaArchivoAdjunto
¿¿ .
=
¿¿/ 0 
RutaArchivoAdjunto
¿¿1 C
+
¿¿D E
$str
¿¿F I
+
¿¿J K
RutaArchivo
¿¿L W
;
¿¿W X
try
ÁÁ 
{
ÂÂ 
System
ÃÃ "
.
ÃÃ" #
IO
ÃÃ# %
.
ÃÃ% &
File
ÃÃ& *
.
ÃÃ* +
WriteAllBytes
ÃÃ+ 8
(
ÃÃ8 9
RutaArchivo
ÃÃ9 D
,
ÃÃD E
oListPDF
ÃÃF N
[
ÃÃN O
j
ÃÃO P
]
ÃÃP Q
.
ÃÃQ R
BlbDocumento
ÃÃR ^
)
ÃÃ^ _
;
ÃÃ_ `
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ 
	Exception
ÅÅ (
ex
ÅÅ) +
)
ÅÅ+ ,
{
ÆÆ 
VariablesGlobales
ÇÇ -
.
ÇÇ- .%
Guardar_Error_BaseDatos
ÇÇ. E
(
ÇÇE F
$strÇÇF ¤
+ÇÇ¥ ¦

RutaCorreoÇÇ§ ±
+ÇÇ² ³
$strÇÇ´ Å
+ÇÇÆ Ç
$strÇÇÈ ã
+ÇÇä å
exÇÇæ è
.ÇÇè é
ToStringÇÇé ñ
(ÇÇñ ò
)ÇÇò ó
,ÇÇó ô
$strÇÇõ ™
)ÇÇ™ š
;ÇÇš ›
break
ÈÈ !
;
ÈÈ! "
}
ÉÉ 
}
ÊÊ 
if
ÌÌ 
(
ÌÌ 
FlgError
ÌÌ  
==
ÌÌ! #
true
ÌÌ$ (
)
ÌÌ( )
break
ÍÍ 
;
ÍÍ 
if
ÏÏ 
(
ÏÏ 
CodEnvioCorreo
ÏÏ &
==
ÏÏ' )
$str
ÏÏ* -
)
ÏÏ- .%
oRcePahCorreosEnviadosE
ĞĞ /
=
ĞĞ0 1
new
ĞĞ2 5$
RcePahCorreosEnviadosE
ĞĞ6 L
(
ĞĞL M
$num
ĞĞM N
,
ĞĞN O
CodAtencion
ĞĞP [
,
ĞĞ[ \ 
RutaArchivoAdjunto
ĞĞ] o
,
ĞĞo p
$num
ĞĞq r
,
ĞĞr s
(
ĞĞt u
CodEnvioCorreoĞĞu ƒ
==ĞĞ„ †
$strĞĞ‡ Š
?ĞĞ‹ Œ
$strĞĞ 
:ĞĞ ‘
CodEnvioCorreoĞĞ’  
)ĞĞ  ¡
)ĞĞ¡ ¢
;ĞĞ¢ £
else
ÑÑ %
oRcePahCorreosEnviadosE
ÒÒ /
=
ÒÒ0 1
new
ÒÒ2 5$
RcePahCorreosEnviadosE
ÒÒ6 L
(
ÒÒL M
$num
ÒÒM N
,
ÒÒN O
CodAtencion
ÒÒP [
,
ÒÒ[ \ 
RutaArchivoAdjunto
ÒÒ] o
,
ÒÒo p
$num
ÒÒq r
,
ÒÒr s
(
ÒÒt u
CodEnvioCorreoÒÒu ƒ
==ÒÒ„ †
$strÒÒ‡ Š
?ÒÒ‹ Œ
$strÒÒ 
:ÒÒ ‘
CodEnvioCorreoÒÒ’  
)ÒÒ  ¡
)ÒÒ¡ ¢
;ÒÒ¢ £&
MtEnviarCorreosGenerales
ÔÔ ,
(
ÔÔ, -%
oRcePahCorreosEnviadosE
ÔÔ- D
)
ÔÔD E
;
ÔÔE F
if
ÕÕ 
(
ÕÕ %
oRcePahCorreosEnviadosE
ÕÕ /
.
ÕÕ/ 0

MailItemId
ÕÕ0 :
!=
ÕÕ; =
$num
ÕÕ> ?
)
ÕÕ? @
new
ÖÖ  
RcePahEstadosCabAD
ÖÖ .
(
ÖÖ. /
)
ÖÖ/ 0
.
ÖÖ0 1.
 Sp_RcePahEstadosCab_UpdatexCampo
ÖÖ1 Q
(
ÖÖQ R
new
ÖÖR U
RcePahEstadosCabE
ÖÖV g
(
ÖÖg h
$num
ÖÖh i
,
ÖÖi j
$str
ÖÖk m
,
ÖÖm n
CodAtencion
ÖÖo z
,
ÖÖz {
$str
ÖÖ| ~
,
ÖÖ~ 
$strÖÖ€ š
)ÖÖš ›
)ÖÖ› œ
;ÖÖœ 
}
×× 
new
ØØ 
TablasAD
ØØ 
(
ØØ 
)
ØØ 
.
ØØ 
Sp_Tablas_Update
ØØ /
(
ØØ/ 0
new
ØØ0 3
TablasE
ØØ4 ;
(
ØØ; <
$str
ØØ< [
,
ØØ[ \
$str
ØØ] a
,
ØØa b
DateTime
ØØc k
.
ØØk l
Now
ØØl o
.
ØØo p
ToString
ØØp x
(
ØØx y
$strØØy ’
)ØØ’ “
,ØØ“ ”
$strØØ• 
)ØØ 
)ØØ Ÿ
;ØØŸ  
}
ÙÙ 
catch
ÚÚ 
(
ÚÚ 
	Exception
ÚÚ 
ex
ÚÚ 
)
ÚÚ  
{
ÛÛ 
VariablesGlobales
ÜÜ !
.
ÜÜ! "%
Guardar_Error_BaseDatos
ÜÜ" 9
(
ÜÜ9 :
$str
ÜÜ: V
+
ÜÜW X
ex
ÜÜY [
.
ÜÜ[ \
Message
ÜÜ\ c
+
ÜÜd e
$strÜÜf Š
+ÜÜ‹ Œ
exÜÜ 
.ÜÜ 

StackTraceÜÜ š
+ÜÜ› œ
$strÜÜ ¤
,ÜÜ¤ ¥
$strÜÜ¦ Ê
)ÜÜÊ Ë
;ÜÜË Ì
}
İİ 
}
ŞŞ 	
public
àà 
List
àà 
<
àà "
RcePahDocumentosPdfE
àà (
>
àà( )#
MtObtenerDocumentoPDF
àà* ?
(
àà? @"
RcePahDocumentosPdfE
àà@ T#
pRcePahDocumentosPdfE
ààU j
)
ààj k
{
áá 	
return
ââ 
new
ââ #
RcePahDocumentosPdfAD
ââ ,
(
ââ, -
)
ââ- .
.
ââ. /-
Sp_RcePahDocumentosPdf_Consulta
ââ/ N
(
ââN O#
pRcePahDocumentosPdfE
ââO d
)
ââd e
;
ââe f
}
ãã 	
}
åå 
}ææ 